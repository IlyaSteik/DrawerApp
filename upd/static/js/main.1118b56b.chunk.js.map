{"version":3,"sources":["assets/drawing/stories/Story1.png","assets/drawing/stories/Story2.png","assets/drawing/stories/Story3.png","assets/drawing/icons/Icon_Group.png","assets/drawing/icons/Icon_Donut.png","assets/drawing/stories sync /^/Story.*/.png$","css/Drawing lazy /^/.*/.css$/ groupOptions: {} namespace object","js/utils.js","js/drawerapp/utils.js","assets/drawing/icons/Icon.svg","assets/drawing/icons/IconError.svg","apps/Drawing/Main.js","apps/Drawing/Gallery.js","apps/Drawing/Rating.js","apps/Drawing/Search.js","assets/drawing/icons/IconErase.svg","assets/drawing/icons/IconErase2.svg","assets/drawing/icons/IconStroke.svg","apps/Drawing/Game.js","apps/Drawing/Result.js","apps/Drawing/Placeholder.js","js/socket.js","apps/Drawing/Likes.js","apps/Drawing/PictureInfo.js","apps/Drawing/Author.js","apps/Drawing/Tags.js","apps/Drawing/Friends.js","apps/Drawing/FriendLoby.js","apps/Drawing/Stats.js","apps/Drawing/Shop.js","apps/Drawing/GlobalCanvas.js","assets/drawing/icons/IconErase2_20.svg","apps/Drawing/GlobalCanvasInfo.js","apps/Drawing/Drawing.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","webpackAsyncContext","Promise","then","ids","all","slice","t","get","url","a","params","query","value","encodeURIComponent","join","url_","res","rej","fetch","method","json","answer","catch","err","error","text","toString","defaultFonts","loadFonts","fonts","font","span","document","createElement","style","fontFamily","innerText","body","appendChild","setTimeout","remove","decOfNum","number","titles","needNumber","undefined","decCache","Math","min","shortIntegers","int","replace","convertMsToNormalTime","miliseconds","hours","minutes","seconds","total_hours","total_minutes","total_seconds","parseInt","floor","str","toLocaleString","minimumIntegerDigits","getUrlParams","window","location","search","length","JSON","parse","decodeURI","substring","isPlatformIOS","vk_platform","isPlatformDesktop","openUrl","element","href","target","click","getSrcUrl","resource","origin","pathname","getBase64Image","imageUri","canvas","ctx","getContext","img","Image","src","crossOrigin","onload","width","this","height","drawImage","toDataURL","adAppApi","vk_local_users","name_cases","getVKUsers","user_ids","Set","filter","i","users","j","vkApiRequest","fields","resp","response","interval","iterations","fetching","setInterval","data","clearInterval","concat","user","find","key","screen_name","static_params","stringify","_extends","assign","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","fillRule","clipRule","d","fill","cx","cy","rx","ry","r","stroke","strokeWidth","_ref10","_ref11","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","_ref24","_ref25","_ref26","_ref27","_ref28","_ref29","_ref","svgRef","title","props","viewBox","ref","ForwardRef","forwardRef","globalCanvasTicker","isDesktop","Main","state","isShowGlobalCanvas","canvas_status","status","globalCanvasShowTimer","socket","unsubscribe","subscribe","setState","online","count","forceUpdate","goToStats","bind","goToFeed","setPopout","type","users_topPictures","users_topGuessedPictures","users_topLikes","go","limit","randomGamesLike","drawerId","topLikes","timeLost","start","Date","now","_tags","gamesAsWinner","gamesAsDrawer","top_number","lvl","pictures","successfulPictures","guessedPictures","offset","likes","colors","max","maxLvl","gc_time","className","onClick","app_version","setActiveModal","MODAL_CARD_OUTDATED_VERSION","__v_clicks","eruda","init","vk_user","photo_100","size","shadow","Dropdown","action","content","React","cloneElement","first_name","index","display","marginLeft","background","border","end","admins_allow","admin","donut_allow","vk_donut","bridge","send","num","alt","split","Array","shortIntegersK","PureComponent","defaultProps","Gallery","canGetMore","prevY","observer","IntersectionObserver","handleObserver","root","rootMargin","threshold","observe","loadingRef","entities","y","boundingClientRect","word","gameId","pic","require","createCanvas","loadImage","canvasData","toUpperCase","textAlign","fillStyle","fillText","background_type","blob","attachment","vk_app_id","console","snackbar","onClose","banners","defaultBannerData","Fragment","left","back","separator","margin","marginTop","gridGap","paddingBottom","like_currentPictureSelected","like_method","like_param","like_user_id","bannerData","Rating","top","author","author_works","last_name","sex","guessedPicturesToday","Search","lobbyPlayers","lobbyPlayers_","point_count","starting","players","lobbyId","gameStart","isOnlineDrawing","subGameInfo","friendly","log","history","activePanel","xmlns","x","x1","y1","x2","y2","strokeDasharray","transform","gradientUnits","stopColor","patternContentUnits","photo_max_orig","current","lastColorIndex","Game","test_game","drawer","isDrawer","selectedColor","drawing","time","messages","isEraser","isStroke","lineWidth","onMouseDown","onMouseUp","throttle","onMouseMove","drawLine","canvas_","winnerId","nom","gameEnd","setActivePanel","toBlob","x0","y0","color","canvasContext","clearRect","user_id","message","comments","getElementsByClassName","scrollIntoView","addEventListener","picUrl","pictureUrl_","clientX","touches","clientY","canvasRect","getBoundingClientRect","er","beginPath","globalCompositeOperation","arc","PI","moveTo","lineTo","strokeStyle","lineCap","lineJoin","closePath","callback","delay","previousCall","getTime","alignSelf","header","justifyContent","alignItems","wordWrap","outline","opacity","pointerEvents","hasHover","transition","step","Number","onChange","before","mode","gameId_","n_canvasData","cursor","replaceAll","iosCloseItem","autoclose","autoFocus","currentTarget","placeholder","onKeyDown","trim","onFocus","getElementById","Result","isWinner","shareStory","updateData","isNotApp","isLiked","round","game_id","ad_format","owner_id","friend_lobby","members","Placeholder","icon","description","buttonText","buttonIcon","buttonOnClick","buttonMode","buttonBack","after","Socket","onConnect","onDisconnect","onConnectionError","getSocket","on","emit","event","events","removeAllListeners","connect","openSocket","path","transports","reconnection","Likes","showArrows","getScrollToLeft","getScrollToRight","PictureInfo","shareStory1","shareStory2","param","list","game","needButtonResumeDraw","ButtonResumeDraw","stretched","endTime","startTime","like_picturesList","disabled","Author","Tags","Friends","friends","others","app_id","scope","access_token","v","_friends","friends_count","items","friend_ids","public_lobbies","changeMode","splice","updateFriends","expandable","FriendLobby","removed","splashShow","supports","MODAL_PAGE_FRIEND_LOBBY_SETTINGS","Stats","coins","value1","index1","subtitle","ticker","Shop","watchedShopItems","boughtShopItems","price","needAdvert","singleBuy","product_id","currentTransform","lastTransform","area_intervals","emitLines","isCompassActive","isFullCanvasShowed","fullCanvasData","areas","areas_time","lines","line","updateAreas","isShowGlobalCanvasOnboard","MODAL_CARD_GLOBAL_CANVAS_ONBOARD","image","lastScheme","attributes","getNamedItem","clientHeight","clientWidth","setAttribute","prevProps","prevState","snapshot","owner_ids","push","sort","b","transform_","canvas_container","isNaN","curMousePosition","move","translateX","translateY","checkisAllow","isAllowToDraw","x0_","y0_","x1_","y1_","area","componentWillUnmount","navbar_items","selected","visibility","alert_color","actions","area_id","actionsLayout","GlobalCanvasInfo","bannersInterval","connectInterval","Drawing","activeModal","modalHistory","bannersCount","domain","trackingLink","ctaText","advertisingLabel","iconLink","ageRestrictions","statistics","connected","dataUpdated","componentDidMount","popout","pushState","pop","panel","preventDefault","detail","position","schemeAttribute","createAttribute","scheme","setNamedItem","windowHeight","documentElement","windowWidth","scale","setProperty","isShowOnboard","isShowVkGroup","isShowUpdate","vk_user_id","vk_user_","placeholderText","banned","placeholderNeed","onChangeHash","hash","startsWith","do","gamesAsAuthor","tag_name","tag_info","subheader","element_id","showConnecting","modal","_tag_modal","dynamicContentHeight","right","friendsOnly","options","label","premium","defaultValue","link","animate","overflow","isNonScrollingElement","onSwipeBack","component","GlobalCanvas","group_id","toLocaleDateString","day","month","year","hour","minute","Component","ReactDOM","render"],"mappings":"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","file":"static/js/main.1118b56b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Story1.c1713922.png\";","module.exports = __webpack_public_path__ + \"static/media/Story2.28d56ba9.png\";","module.exports = __webpack_public_path__ + \"static/media/Story3.2f47cccb.png\";","module.exports = __webpack_public_path__ + \"static/media/Icon_Group.9fbb0b78.png\";","module.exports = \"data:image/png;base64,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\"","var map = {\n\t\"./Story1.png\": 188,\n\t\"./Story2.png\": 289,\n\t\"./Story3.png\": 290\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 695;","var map = {\n\t\"./Desktop.css\": [\n\t\t720,\n\t\t3\n\t],\n\t\"./Global.css\": [\n\t\t216\n\t],\n\t\"./Mobile.css\": [\n\t\t721,\n\t\t4\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 718;\nmodule.exports = webpackAsyncContext;","import {default as bridge} from '@vkontakte/vk-bridge';\r\nimport {createCanvas} from \"canvas\";\r\n\r\nexport function convertTextToLines(text, font, max_width) {\r\n    const\r\n        {createCanvas} = require('canvas'),\r\n        canvas = createCanvas(1080, 1920),\r\n        ctx = canvas.getContext('2d')\r\n    ;\r\n    ctx.font = font;\r\n    let width = 0, lines = [], result, i, j;\r\n\r\n    while (text.length) {\r\n        for (i = text.length; ctx.measureText(text.substr(0, i)).width > max_width; i--) ;\r\n        result = text.substr(0, i);\r\n\r\n        console.log(result);\r\n        if (i !== text.length)\r\n            for (j = 0; result.indexOf(' ', j) !== -1; j = result.indexOf(' ', j) + 1) ;\r\n\r\n        lines.push(result.substr(0, j || result.length));\r\n\r\n        width = Math.max(width, ctx.measureText(lines[lines.length - 1]).width);\r\n        text = text.substr(lines[lines.length - 1].length, text.length);\r\n    }\r\n\r\n    return lines;\r\n}\r\n\r\nexport function convertTextToLines2(text, font, max_width) {\r\n    const\r\n        {createCanvas} = require('canvas'),\r\n        canvas = createCanvas(1080, 1920),\r\n        ctx = canvas.getContext('2d'),\r\n        lines = [],\r\n        textSplitted = text.split(' ')\r\n    ;\r\n    ctx.font = font;\r\n\r\n    let line = '';\r\n    for (const word of textSplitted) {\r\n        const str = (line.length === 0 ? '' : ' ') + word;\r\n        if (ctx.measureText(line + str).width <= max_width) {\r\n            line += str;\r\n        } else {\r\n            lines.push(line.trim());\r\n            line = str;\r\n        }\r\n    }\r\n    if (line !== '') {\r\n        lines.push(line.trim());\r\n    }\r\n\r\n    return lines;\r\n}\r\n\r\nexport async function get(url, params = {}) {\r\n    const\r\n        query = params ? '?' + Object.keys(params).map((value) =>\r\n            encodeURIComponent(value) + '=' + encodeURIComponent(params[value])\r\n        ).join('&') : '',\r\n        url_ = `${url}${query}`;\r\n    return await new Promise((res, rej) => {\r\n        fetch(url_, {method: 'GET'})\r\n            .then(res =>\r\n                res.json()\r\n            )\r\n            .then(answer =>\r\n                res(answer)\r\n            ).catch(err =>\r\n            res({error: {code: -1, text: err.toString()}})\r\n        );\r\n    });\r\n}\r\n\r\nexport const defaultFonts = [\r\n    'SF Pro Text',\r\n    'SF Pro Text Heavy',\r\n    'SF Pro Text Semibold',\r\n    'SF Pro Display',\r\n    'SF Pro Display Bold',\r\n    'SF Pro Display Semibold',\r\n    'SF Pro Display Medium',\r\n    'SF Pro Rounded',\r\n    'SF Pro Rounded Semibold',\r\n    'SF Pro Rounded Bold',\r\n    'SF UI Display',\r\n    'SF UI Text',\r\n    'TT Commons',\r\n    'TT Commons Bold',\r\n    'TT Commons Demibold',\r\n    'Manrope ExtraBold'\r\n];\r\n\r\nexport function loadFonts(fonts = defaultFonts) {\r\n    for (const font of fonts) {\r\n        const span = document.createElement('span');\r\n        span.style.fontFamily = font;\r\n        span.innerText = '.';\r\n        document.body.appendChild(span);\r\n        setTimeout(() => span.remove(), 1);\r\n    }\r\n}\r\n\r\nexport function animateValue(obj, start, end, duration) {\r\n    if (start === end || end - start === 1) {\r\n        obj.innerHTML = end;\r\n    } else {\r\n        let startTimestamp = null;\r\n        const step = (timestamp) => {\r\n            if (!startTimestamp) startTimestamp = timestamp;\r\n            const progress = Math.min((timestamp - startTimestamp) / duration, 1);\r\n            obj.innerHTML = Math.floor(progress * (end - start) + start);\r\n            if (progress < 1) {\r\n                window.requestAnimationFrame(step);\r\n            }\r\n        };\r\n        window.requestAnimationFrame(step);\r\n    }\r\n}\r\n\r\nexport function cps(array) {\r\n    if (array.length !== 0) {\r\n        let\r\n            first_date = array[0],\r\n            cur_pos = 0,\r\n            clicks_per_second = []\r\n        ;\r\n        array = array.map(value => value - first_date);\r\n\r\n        for (const click of array) {\r\n            cur_pos = click < 1000 ? 0 : parseInt((click + '').substring(0, (click + '').length - 3));\r\n            clicks_per_second[cur_pos] = clicks_per_second[cur_pos] > 0 ? clicks_per_second[cur_pos] + 1 : 1;\r\n        }\r\n\r\n        clicks_per_second = clicks_per_second.filter(value => value > 0);\r\n\r\n        const\r\n            max_cps = Math.max(...clicks_per_second),\r\n            min_cps = Math.min(...clicks_per_second),\r\n            mid_cps = Math.ceil((max_cps + min_cps) / 2)\r\n        ;\r\n        return {max_cps, min_cps, mid_cps};\r\n    } else {\r\n        return {max_cps: 0, min_cps: 0, mid_cps: 0};\r\n    }\r\n}\r\n\r\nfunction componentToHex(c) {\r\n    const hex = c.toString(16);\r\n    return hex.length == 1 ? '0' + hex : hex;\r\n}\r\n\r\nexport function rgbToHex(r, g, b) {\r\n    return '#' + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n}\r\n\r\nexport function sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\nexport function decOfNum(number, titles, needNumber = true) {\r\n    if (number !== undefined) {\r\n        let decCache = [],\r\n            decCases = [2, 0, 1, 1, 1, 2];\r\n        if (!decCache[number]) decCache[number] = number % 100 > 4 && number % 100 < 20 ? 2 : decCases[Math.min(number % 10, 5)];\r\n        return (needNumber ? number + ' ' : '') + titles[decCache[number]];\r\n    }\r\n}\r\n\r\nexport function numToStr(number) {\r\n    if (number > 0 && number <= 10) {\r\n        const words = [\r\n            'первое', 'второе', 'третье', 'четвертое', 'пятое', 'шестое', 'седьмое', 'восьмое', 'девятое', 'десятое'\r\n        ];\r\n        return words[number - 1];\r\n    } else {\r\n        return number + '';\r\n    }\r\n}\r\n\r\nexport function shortIntegers(int) {\r\n    try {\r\n        return int.toString().replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\r\n    } catch (e) {\r\n        return 0;\r\n    }\r\n}\r\n\r\nexport function shortIntegersK(int) {\r\n    const\r\n        int_ = shortIntegers(int),\r\n        split = int_.split(' ')\r\n    ;\r\n    return split[0] + new Array((split.length - 1)).fill('К').join('')\r\n}\r\n\r\nexport function getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nexport function getRandomInts(min, max, count) {\r\n    const array = [];\r\n    for (let i = 0; i < count; i++) {\r\n        const int = getRandomInt(min, max);\r\n        if (array.indexOf(int) === -1) {\r\n            array.push(int);\r\n        } else {\r\n            if (max >= count)\r\n                i--;\r\n            else\r\n                array.push(int);\r\n        }\r\n    }\r\n    return array;\r\n}\r\n\r\nexport function nodeToString(node) {\r\n    let tmpNode = document.createElement(\"div\");\r\n    tmpNode.appendChild(node.cloneNode(true));\r\n    let str = tmpNode.innerHTML;\r\n    tmpNode = node = null;\r\n    return str;\r\n}\r\n\r\nexport function convertMiliseconds(miliseconds) {\r\n    let hours, minutes, total_hours, total_minutes, total_seconds;\r\n\r\n    total_seconds = parseInt(Math.floor(miliseconds / 1000));\r\n    total_minutes = parseInt(Math.floor(total_seconds / 60));\r\n    total_hours = parseInt(Math.floor(total_minutes / 60));\r\n\r\n    minutes = parseInt(total_minutes % 60);\r\n    hours = parseInt(total_hours % 24);\r\n\r\n    return hours + 'ч. ' + minutes + 'мин.';\r\n}\r\n\r\nexport function convertMsToNormalTime(miliseconds) {\r\n    let hours, minutes, seconds, total_hours, total_minutes, total_seconds;\r\n\r\n    total_seconds = parseInt(Math.floor(miliseconds / 1000));\r\n    total_minutes = parseInt(Math.floor(total_seconds / 60));\r\n    total_hours = parseInt(Math.floor(total_minutes / 60));\r\n\r\n    seconds = parseInt(total_seconds % 60);\r\n    minutes = parseInt(total_minutes % 60);\r\n    hours = parseInt(total_hours % 24);\r\n\r\n    return {\r\n        hours, minutes, seconds, str: {\r\n            hours: hours.toLocaleString('ru', {minimumIntegerDigits: 2}),\r\n            minutes: minutes.toLocaleString('ru', {minimumIntegerDigits: 2}),\r\n            seconds: seconds.toLocaleString('ru', {minimumIntegerDigits: 2})\r\n        }\r\n    };\r\n}\r\n\r\nconst getImage = (src) =>\r\n    new Promise((res, rej) => {\r\n        const image = new Image();\r\n\r\n        image.onload = () => res(image);\r\n        image.crossOrigin = 'anonymous';\r\n        image.onstalled = (e) => {\r\n            console.log('Failed to fetch data, but trying.', e);\r\n            rej(e);\r\n        };\r\n        image.onerror = (e) => {\r\n            console.log('Failed to fetch data, error.', e);\r\n            rej(e);\r\n        };\r\n        image.src = src;\r\n    });\r\n\r\nexport async function toBlob(object, dataUrl = true) {\r\n    const\r\n        myCanvas = document.createElement('canvas'),\r\n        ctxt = myCanvas.getContext('2d');\r\n\r\n    let base = typeof object === 'string' ? object : window.btoa(object);\r\n    const img = await getImage(typeof object === 'string' ? base : `data:image/svg+xml;base64,${base}`);\r\n    myCanvas.height = img.height;\r\n    myCanvas.width = img.width;\r\n    if (ctxt === null) {\r\n        return \"\";\r\n    }\r\n    ctxt.drawImage(img, 0, 0, img.width, img.height);\r\n    return dataUrl ? myCanvas.toDataURL() : myCanvas;\r\n}\r\n\r\nexport function getUrlParams() {\r\n    return window.location.search.length > 0 && JSON.parse('{\"' + decodeURI(window.location.search.substring(1)).replace(/\"/g, '\\\\\"').replace(/&/g, '\",\"').replace(/=/g, '\":\"') + '\"}');\r\n}\r\n\r\nexport const platforms = {\r\n    desktop_web: /desktop_web/g,\r\n    mobile_android: /mobile_android/g,\r\n    mobile_android_messenger: /mobile_android_messenger/g,\r\n    mobile_ipad: /mobile_ipad/g,\r\n    mobile_iphone: /mobile_iphone/g,\r\n    mobile_iphone_messenger: /mobile_iphone_messenger/g,\r\n    mobile_web: /mobile_web/g,\r\n\r\n    android: /mobile_android|mobile_android_messenger/g,\r\n    ios: /mobile_ipad|mobile_iphone|mobile_iphone_messenger/g\r\n};\r\n\r\nexport function isPlatformIOS() {\r\n    return getUrlParams().vk_platform === 'mobile_iphone';\r\n}\r\n\r\nexport function isPlatformAndroid() {\r\n    return platforms.android.test(getUrlParams().vk_platform);\r\n}\r\n\r\nexport function isPlatformDesktop() {\r\n    return getUrlParams().vk_platform === 'desktop_web';\r\n}\r\n\r\nexport let\r\n    vk_local_users = {},\r\n    name_cases = ['first_name', 'last_name', 'first_name_dat', 'first_name_nom', 'first_name_gen', 'first_name_acc', 'first_name_ins', 'first_name_abl', 'last_name_dat', 'last_name_nom', 'last_name_gen', 'last_name_acc', 'last_name_ins', 'last_name_abl']\r\n;\r\n\r\nexport async function getVKUsers(ids) {\r\n    const\r\n        user_ids = [\r\n            ...new Set(\r\n                ids\r\n                    .filter(value => vk_local_users[value] === undefined)\r\n                    .map(\r\n                        value => typeof value === 'number' ? value : value.replace('@', '')\r\n                            .replace('id', '')\r\n                            .replace('vk.com/', '')\r\n                            .replace('http://', '')\r\n                            .replace('https://', '')\r\n                    )\r\n            )\r\n        ],\r\n        i = Math.floor(user_ids.length / 100)\r\n    ;\r\n\r\n    if (user_ids.length > 0) {\r\n        let users = [];\r\n\r\n        for (let j = 0; j < i + 1; j++) {\r\n            users = users.concat(\r\n                await vkApiRequest('users.get', {\r\n                    user_ids: user_ids.slice(j * 100, j * 100 + 100).join(','),\r\n                    fields: ['screen_name', 'photo_100', 'photo_200', 'photo_max_orig', 'sex', ...name_cases].join(',')\r\n                })\r\n            );\r\n        }\r\n\r\n        for (const user of users) {\r\n            vk_local_users[user.id] = user;\r\n        }\r\n    }\r\n\r\n    return ids.map(value => vk_local_users[value] || vk_local_users[Object.keys(vk_local_users).find(key => vk_local_users[key].screen_name === value)]);\r\n}\r\n\r\nexport async function vkApiRequest(method, params = {}) {\r\n    return (await bridge.send('VKWebAppCallAPIMethod', {\r\n        method,\r\n        params: {\r\n            ...params,\r\n            v: '5.126',\r\n            access_token: params.access_token || '7a8d6dcc7a8d6dcc7a8d6dcc637afa8f4477a8d7a8d6dcc1b06a888634e406617b4aef3'\r\n        }\r\n    })).response\r\n}\r\n\r\nexport function viewportToPixels(value) {\r\n    const\r\n        parts = value.match(/([0-9\\.]+)(vh|vw)/),\r\n        q = Number(parts[1]),\r\n        side = window[['innerHeight', 'innerWidth'][['vh', 'vw'].indexOf(parts[2])]]\r\n    ;\r\n    return side * (q / 100)\r\n}\r\n\r\nexport function openUrl(url) {\r\n    const element = document.createElement('a');\r\n    element.href = url;\r\n    element.target = '_blank';\r\n    element.click();\r\n    element.remove();\r\n}\r\n\r\nexport function getUrlLocation() {\r\n    return window.location.origin + window.location.pathname.replace('/index.html', '');\r\n}\r\n\r\nexport function getSrcUrl(resource) {\r\n    return getUrlLocation() + resource.substring(1);\r\n}\r\n\r\nexport async function getBase64Image(imageUri) {\r\n    const\r\n        canvas = document.createElement('canvas'),\r\n        ctx = canvas.getContext('2d'),\r\n        img = new Image()\r\n    ;\r\n    img.src = 'https://murmuring-bastion-20764.herokuapp.com/' + imageUri;\r\n    img.crossOrigin = 'Anonymous';\r\n    return await new Promise(resolve =>\r\n        img.onload = function () {\r\n            canvas.width = this.width;\r\n            canvas.height = this.height;\r\n            ctx.drawImage(img, 0, 0, this.width, this.height);\r\n            resolve(canvas.toDataURL('image/png'));\r\n        }\r\n    );\r\n}\r\n\r\nexport function appendScript(code) {\r\n    let\r\n        container = document.getElementById('advert_container'),\r\n        script = document.createElement('script')\r\n    ;\r\n    script.innerHTML = code;\r\n    if (container === null) {\r\n        container = document.createElement('div');\r\n        container.id = 'advert_container';\r\n        document.body.appendChild(container);\r\n    }\r\n    container.innerHTML = '';\r\n    setTimeout(() => {\r\n        container.appendChild(script);\r\n    }, 400);\r\n}\r\n\r\nexport async function adAppApi(method, params) {\r\n    return await get('https://api.ad-app.ru/method/' + method, {...getUrlParams(), ...params})\r\n}","import {getUrlParams} from \"../utils\";\r\n\r\nexport let\r\n    vk_local_users = {},\r\n    name_cases = ['first_name', 'last_name', 'first_name_dat', 'first_name_nom', 'first_name_gen', 'first_name_acc', 'first_name_ins', 'first_name_abl', 'last_name_dat', 'last_name_nom', 'last_name_gen', 'last_name_acc', 'last_name_ins', 'last_name_abl']\r\n;\r\n\r\nexport async function getVKUsers(ids) {\r\n    const\r\n        user_ids = [\r\n            ...new Set(\r\n                ids\r\n                    .filter(value => vk_local_users[value] === undefined && value !== undefined && value !== 0)\r\n                    .map(\r\n                        value => typeof value === 'number' ? value : value.replace('@', '')\r\n                            .replace('id', '')\r\n                            .replace('vk.com/', '')\r\n                            .replace('http://', '')\r\n                            .replace('https://', '')\r\n                    )\r\n            )\r\n        ],\r\n        i = Math.floor(user_ids.length / 100)\r\n    ;\r\n\r\n    if (user_ids.length > 0) {\r\n        let users = [];\r\n\r\n        for (let j = 0; j < i + 1; j++) {\r\n            let resp = (await vkApiRequest('users.getVK', {\r\n                user_ids: user_ids.slice(j * 100, j * 100 + 100).join(','),\r\n                fields: ['screen_name', 'photo_100', 'photo_200', 'photo_max_orig', 'sex', ...name_cases].join(',')\r\n            })).response;\r\n            if (resp === null) {\r\n                resp = await new Promise(resolve => {\r\n                    let interval, iterations = 0, fetching = false;\r\n                    interval = setInterval(async () => {\r\n                        if (!fetching) {\r\n                            fetching = true;\r\n                            iterations++;\r\n\r\n                            const data = (await vkApiRequest('users.getVK', {\r\n                                user_ids: user_ids.slice(j * 100, j * 100 + 100).join(','),\r\n                                fields: ['screen_name', 'photo_100', 'photo_200', 'photo_max_orig', 'sex', ...name_cases].join(',')\r\n                            })).response;\r\n\r\n                            if (data !== null) {\r\n                                resolve(data);\r\n                                clearInterval(interval);\r\n                            } else {\r\n                                if (iterations >= 10) {\r\n                                    resolve([]);\r\n                                    clearInterval(interval);\r\n                                }\r\n                            }\r\n\r\n                            fetching = false;\r\n                        }\r\n                    }, 400);\r\n                });\r\n            }\r\n            users = users.concat(resp);\r\n        }\r\n\r\n        for (const user of users) {\r\n            vk_local_users[user.id] = user;\r\n        }\r\n    }\r\n\r\n    return ids.map(value => vk_local_users[value] || vk_local_users[Object.keys(vk_local_users).find(key => vk_local_users[key].screen_name === value)]);\r\n}\r\n\r\nexport async function vkApiRequest(method, params = {}) {\r\n    const\r\n        static_params = {...getUrlParams(), query: JSON.stringify(params)},\r\n        query = static_params ? '?' + Object.keys(static_params).map((value) =>\r\n            encodeURIComponent(value) + '=' + encodeURIComponent(static_params[value])\r\n        ).join('&') : '',\r\n        url_ = `https://draw.avocado.special.vk-apps.com/api/${method}${query}`;\r\n    return await new Promise((res, rej) => {\r\n        let interval, fetching = false;\r\n        interval = setInterval(() => {\r\n            if (!fetching) {\r\n                fetching = true;\r\n                fetch(url_, {method: 'GET'})\r\n                    .then(res =>\r\n                        res.json()\r\n                    )\r\n                    .then(answer => {\r\n                            clearInterval(interval);\r\n                            fetching = false;\r\n                            res(answer);\r\n                        }\r\n                    ).catch(err => {\r\n                        fetching = false;\r\n                    }\r\n                );\r\n            }\r\n        }, 400);\r\n    });\r\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M110 3.0095V184.326C54.6271 180.939 -0.694326 132.316 31.5388 55.8662C48.1357 16.502 79.4017 2.58244 110 3.0095Z\",\n  fill: \"white\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M110 184.326V3.00952C149.416 3.55965 187.724 27.9163 192.141 52.3571C192.5 54.3448 190.978 56.1206 189 56.5322C129.309 68.9569 155.694 126.363 186.92 132.782C189.625 133.338 191.547 136.155 190.451 138.689C175.893 172.35 142.937 186.341 110 184.326Z\",\n  fill: \"#E7D0A9\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M38 61.5C76.8338 -30.605 173.437 7.4338 180.196 52.3506C180.497 54.3466 178.98 56.1203 177.004 56.5316C117.201 68.977 143.788 126.568 175.088 132.816C177.748 133.347 179.662 136.087 178.68 138.616C142.96 230.579 -5.46898 164.599 38 61.5Z\",\n  fill: \"#FFE4B8\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M150 40C150 49.3888 142.389 57 133 57C133 57 133 49.3888 133 40C133 30.6112 133 23 133 23C142.389 23 150 30.6112 150 40Z\",\n  fill: \"#3769A5\"\n});\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M116 40C116 49.3888 123.611 57 133 57C133 57 133 49.3888 133 40C133 30.6112 133 23 133 23C123.611 23 116 30.6112 116 40Z\",\n  fill: \"white\"\n});\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"ellipse\", {\n  cx: 131.5,\n  cy: 40,\n  rx: 11.5,\n  ry: 17,\n  fill: \"#4E9BD4\"\n});\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 133,\n  cy: 40,\n  r: 18.5,\n  stroke: \"#171C1F\",\n  strokeWidth: 5\n});\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M97 49C97 58.3888 89.3888 66 80 66C80 66 80 58.3888 80 49C80 39.6112 80 32 80 32C89.3888 32 97 39.6112 97 49Z\",\n  fill: \"#EE3C7A\"\n});\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M63 49C63 58.3888 70.6112 66 80 66C80 66 80 58.3888 80 49C80 39.6112 80 32 80 32C70.6112 32 63 39.6112 63 49Z\",\n  fill: \"white\"\n});\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"ellipse\", {\n  cx: 78.5,\n  cy: 49,\n  rx: 11.5,\n  ry: 17,\n  fill: \"#F05F88\"\n});\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 80,\n  cy: 49,\n  r: 18.5,\n  stroke: \"#171C1F\",\n  strokeWidth: 5\n});\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M74 98C74 107.389 66.3888 115 57 115C57 115 57 107.389 57 98C57 88.6112 57 81 57 81C66.3888 81 74 88.6112 74 98Z\",\n  fill: \"#FAAF1A\"\n});\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M40 98C40 107.389 47.6112 115 57 115C57 115 57 107.389 57 98C57 88.6112 57 81 57 81C47.6112 81 40 88.6112 40 98Z\",\n  fill: \"white\"\n});\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"ellipse\", {\n  cx: 55.5,\n  cy: 98,\n  rx: 11.5,\n  ry: 17,\n  fill: \"#FBD20A\"\n});\n\nvar _ref16 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 57,\n  cy: 98,\n  r: 18.5,\n  stroke: \"#171C1F\",\n  strokeWidth: 5\n});\n\nvar _ref17 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M97 142C97 151.389 89.3888 159 80 159C80 159 80 151.389 80 142C80 132.611 80 125 80 125C89.3888 125 97 132.611 97 142Z\",\n  fill: \"#F05225\"\n});\n\nvar _ref18 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M63 142C63 151.389 70.6112 159 80 159C80 159 80 151.389 80 142C80 132.611 80 125 80 125C70.6112 125 63 132.611 63 142Z\",\n  fill: \"white\"\n});\n\nvar _ref19 =\n/*#__PURE__*/\nReact.createElement(\"ellipse\", {\n  cx: 78.5,\n  cy: 142,\n  rx: 11.5,\n  ry: 17,\n  fill: \"#F16723\"\n});\n\nvar _ref20 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 80,\n  cy: 142,\n  r: 18.5,\n  stroke: \"#171C1F\",\n  strokeWidth: 5\n});\n\nvar _ref21 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 132,\n  cy: 145,\n  r: 14.1471,\n  fill: \"#FFD1B0\",\n  stroke: \"#171C1F\",\n  strokeWidth: 3.82353\n});\n\nvar _ref22 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M31.5384 55.8662C63.9928 -24.637 176.923 -2.44941 191.655 51.924C192.236 54.0694 190.691 56.1691 188.517 56.634C129.451 69.267 155.778 126.38 186.92 132.782C189.625 133.338 191.547 136.155 190.452 138.69C151.491 228.969 -17.9357 178.587 31.5384 55.8662Z\",\n  stroke: \"#171C1F\",\n  strokeWidth: 5\n});\n\nvar _ref23 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M28.789 74.0071H18.789L21.7286 184.733C21.7671 186.184 22.3378 188.007 23.789 188.007C25.2402 188.007 25.8108 186.184 25.8494 184.733L28.789 74.0071Z\",\n  fill: \"#FFE4B8\"\n});\n\nvar _ref24 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M6.28899 48.0071C5.88899 35.2071 15.789 24.3405 20.789 20.5071C22.789 30.5071 26.7889 35.0071 36.2889 42.0071C45.7889 49.0071 40.7889 67.0071 28.789 67.5071C16.789 68.0071 6.78899 64.0071 6.28899 48.0071Z\",\n  fill: \"#FFE4B8\"\n});\n\nvar _ref25 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M24.2888 50.0071C19.7888 51.2929 9.4555 45.5071 5.28883 42.0071C3.78883 52.6738 7.79443 67.5698 25.2889 68.0071C45.2889 68.5071 44.2889 46.0071 36.2888 39.5071C18.2888 40.5071 26.7888 49.2929 24.2888 50.0071Z\",\n  fill: \"#E1E1E1\"\n});\n\nvar _ref26 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M24.2888 46.0071C19.7888 47.2929 9.4555 41.5071 5.28883 38.0071C3.78883 48.6738 7.79443 63.5698 25.2889 64.0071C45.2889 64.5071 44.2889 42.0071 36.2888 35.5071C18.2888 36.5071 26.7888 45.2929 24.2888 46.0071Z\",\n  fill: \"white\"\n});\n\nvar _ref27 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M24.2889 50.0071C19.7889 51.2929 9.45561 45.5071 5.28894 42.0071C7.12227 35.0071 12.7889 20.4072 20.7889 18.0071C22.2889 17.5571 25.7889 38.5071 36.2889 39.5071C18.2889 40.5071 26.7889 49.2929 24.2889 50.0071Z\",\n  fill: \"#F05F88\"\n});\n\nvar _ref28 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M31.7879 74.0868L31.8697 71.0071H28.789H18.789H15.7083L15.79 74.0868L18.7297 184.813C18.7565 185.825 18.9627 187.127 19.5632 188.29C20.1841 189.493 21.5263 191.007 23.789 191.007C26.0516 191.007 27.3939 189.493 28.0148 188.29C28.6153 187.127 28.8214 185.825 28.8483 184.813L31.7879 74.0868ZM23.7307 19.9188L22.7861 15.1958L18.9637 18.1263C16.2 20.2452 12.2308 24.1771 8.98255 29.2847C5.73379 34.3931 3.06551 40.9028 3.29045 48.1008C3.5607 56.7488 6.45078 62.7474 11.4687 66.3757C16.3317 69.8921 22.6414 70.7659 28.9139 70.5045C36.5885 70.1848 41.6847 64.2875 43.4848 58.0232C45.2806 51.7736 44.1224 44.0527 38.0685 39.592C33.3636 36.1252 30.2875 33.4635 28.1265 30.5821C26.0198 27.7733 24.6657 24.5937 23.7307 19.9188Z\",\n  stroke: \"#171C1F\",\n  strokeWidth: 6\n});\n\nvar _ref29 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M5.28894 42.0071C9.45561 45.5071 19.7889 51.2929 24.2889 50.0071C26.7889 49.2929 18.2889 40.5071 36.2889 39.5071\",\n  stroke: \"#171C1F\",\n  strokeWidth: 4\n});\n\nvar SvgIcon = function SvgIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 195,\n    height: 195,\n    viewBox: \"0 0 195 195\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19, _ref20, _ref21, _ref22, _ref23, _ref24, _ref25, _ref26, _ref27, _ref28, _ref29);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Icon.8e925224.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M80.4243 72.7816L73.3533 79.8527L153.727 156.069C154.78 157.068 156.473 157.953 157.499 156.927C158.525 155.901 157.639 154.208 156.641 153.155L80.4243 72.7816Z\",\n  fill: \"#FFE4B8\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M46.1297 70.3067C36.7958 61.5386 36.1123 46.8544 36.9373 40.6083C45.4226 46.2651 51.4329 46.6187 63.1002 44.8509C74.7675 43.0832 83.9598 59.3466 75.8281 68.1854C67.6964 77.0242 57.7969 81.2669 46.1297 70.3067Z\",\n  fill: \"#FFE4B8\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M60.2718 58.9932C57.9989 63.0844 46.601 66.3 41.1799 66.7714C47.6617 75.3745 61.0271 83.0752 73.7068 71.014C88.2026 57.2254 71.5855 42.0226 61.3324 43.0833C49.3116 56.5184 61.5345 56.7204 60.2718 58.9932Z\",\n  fill: \"#E1E1E1\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M57.4433 56.1648C55.1704 60.2559 43.7725 63.4715 38.3514 63.9429C44.8332 72.5461 58.1986 80.2467 70.8783 68.1855C85.3741 54.3969 68.757 39.1941 58.5039 40.2548C46.4831 53.6899 58.706 53.8919 57.4433 56.1648Z\",\n  fill: \"white\"\n});\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M60.2718 58.9931C57.999 63.0842 46.6011 66.2999 41.18 66.7713C37.5266 60.5252 31.2098 46.1945 35.1696 38.8406C35.912 37.4617 53.2008 49.8007 61.3325 43.0832C49.3117 56.5182 61.5345 56.7203 60.2718 58.9931Z\",\n  fill: \"#F05F88\"\n});\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M71.2319 77.7314L69.0536 79.9098L71.289 82.0296L151.663 158.246C152.397 158.943 153.464 159.717 154.711 160.116C156.001 160.527 158.02 160.649 159.62 159.049C161.22 157.449 161.099 155.429 160.687 154.139C160.289 152.892 159.514 151.826 158.818 151.091L82.6012 70.7173L80.4814 68.4819L78.303 70.6603L71.2319 77.7314ZM38.6014 38.1121L34.5938 35.4404L33.9631 40.2154C33.5071 43.668 33.4808 49.2548 34.7955 55.1634C36.1105 61.0727 38.8268 67.5626 44.0756 72.4933C50.3818 78.4173 56.667 80.6153 62.7808 79.6327C68.7059 78.6804 73.7854 74.8367 78.0359 70.2166C83.2366 64.5637 82.6701 56.7901 79.5135 51.0878C76.3642 45.3988 70.0857 40.7583 62.6508 41.8848C56.8725 42.7603 52.8153 43.0534 49.2498 42.544C45.7739 42.0474 42.5682 40.7566 38.6014 38.1121Z\",\n  stroke: \"#171C1F\",\n  strokeWidth: 6\n});\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M41.1799 66.7713C46.601 66.2999 57.9989 63.0843 60.2718 58.9931C61.5344 56.7203 49.3116 56.5183 61.3324 43.0832\",\n  stroke: \"#171C1F\",\n  strokeWidth: 4\n});\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M121.432 80.5199L114.36 73.4488L38.144 153.823C37.1454 154.876 36.2596 156.568 37.2858 157.595C38.312 158.621 40.0047 157.735 41.0578 156.736L121.432 80.5199Z\",\n  fill: \"#FFE4B8\"\n});\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M123.906 46.2252C132.675 36.8914 147.359 36.2079 153.605 37.0329C147.948 45.5181 147.594 51.5285 149.362 63.1958C151.13 74.863 134.867 84.0554 126.028 75.9237C117.189 67.792 112.946 57.8925 123.906 46.2252Z\",\n  fill: \"#FFE4B8\"\n});\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M135.22 60.3674C131.129 58.0945 127.913 46.6966 127.442 41.2755C118.839 47.7573 111.138 61.1227 123.199 73.8024C136.988 88.2981 152.191 71.6811 151.13 61.428C137.695 49.4072 137.493 61.63 135.22 60.3674Z\",\n  fill: \"#E1E1E1\"\n});\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M138.048 57.5389C133.957 55.266 130.742 43.8681 130.27 38.447C121.667 44.9288 113.966 58.2942 126.028 70.9739C139.816 85.4697 155.019 68.8526 153.958 58.5995C140.523 46.5787 140.321 58.8016 138.048 57.5389Z\",\n  fill: \"white\"\n});\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M135.22 60.3674C131.129 58.0946 127.913 46.6967 127.442 41.2755C133.688 37.6222 148.019 31.3053 155.373 35.2651C156.751 36.0076 144.412 53.2964 151.13 61.4281C137.695 49.4073 137.493 61.6301 135.22 60.3674Z\",\n  fill: \"#FBD20A\"\n});\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M116.482 71.3275L114.303 69.1491L112.184 71.3846L35.9671 151.758C35.2706 152.493 34.4957 153.559 34.0976 154.807C33.6861 156.096 33.5646 158.116 35.1645 159.716C36.7644 161.316 38.7842 161.194 40.0738 160.783C41.3211 160.385 42.3876 159.61 43.122 158.913L123.496 82.6968L125.731 80.577L123.553 78.3986L116.482 71.3275ZM156.101 38.697L158.773 34.6893L153.998 34.0587C150.545 33.6027 144.958 33.5764 139.05 34.8911C133.14 36.2061 126.651 38.9224 121.72 44.1712C115.796 50.4774 113.598 56.7626 114.58 62.8764C115.533 68.8015 119.376 73.881 123.997 78.1315C129.649 83.3322 137.423 82.7657 143.125 79.609C148.814 76.4598 153.455 70.1813 152.328 62.7464C151.453 56.968 151.16 52.9109 151.669 49.3453C152.166 45.8695 153.457 42.6637 156.101 38.697Z\",\n  stroke: \"#171C1F\",\n  strokeWidth: 6\n});\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M127.442 41.2755C127.913 46.6966 131.129 58.0945 135.22 60.3673C137.493 61.63 137.695 49.4072 151.13 61.428\",\n  stroke: \"#171C1F\",\n  strokeWidth: 4\n});\n\nvar SvgIconError = function SvgIconError(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 195,\n    height: 195,\n    viewBox: \"0 0 195 195\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgIconError, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/IconError.909a833a.svg\";\nexport { ForwardRef as ReactComponent };","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Avatar, Button, ScreenSpinner, Div, Text} from \"@vkontakte/vkui\";\r\nimport {Dropdown} from \"@vkontakte/vkui/dist/unstable\";\r\nimport {\r\n    Icon28Cards2Outline,\r\n    Icon28ClockOutline,\r\n    Icon28CrownOutline, Icon28FilmStripOutline,\r\n    Icon28GraphOutline,\r\n    Icon28StorefrontOutline\r\n} from \"@vkontakte/icons\";\r\nimport {Icon28Play} from \"@vkontakte/icons\";\r\nimport {convertMsToNormalTime, decOfNum, isPlatformDesktop, shortIntegers, shortIntegersK} from \"../../js/utils\";\r\nimport {Icon24Like} from \"@vkontakte/icons\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\nimport {MODAL_CARD_PLAY_MODE, app_version, MODAL_CARD_OUTDATED_VERSION} from \"./Drawing\";\r\nimport {Icon12Chevron} from \"@vkontakte/icons\";\r\nimport {Icon28AddCircleOutline} from \"@vkontakte/icons\";\r\nimport {Icon28ShoppingCartOutline} from \"@vkontakte/icons\";\r\nimport eruda from 'eruda';\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\n\r\nconst isDesktop = isPlatformDesktop();\r\nlet globalCanvasTicker;\r\n\r\nexport class Main extends PureComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isShowGlobalCanvas: props.t.state.isShowGlobalCanvas,\r\n            canvas_status: {status: false},\r\n            globalCanvasShowTimer: false\r\n        };\r\n\r\n        props.t.socket.unsubscribe('changeOnline');\r\n        props.t.socket.subscribe('changeOnline', r => {\r\n            props.t.setState({online: r.count});\r\n            this.forceUpdate();\r\n        });\r\n\r\n        this.goToStats = this.goToStats.bind(this);\r\n        this.goToFeed = this.goToFeed.bind(this);\r\n    }\r\n\r\n    goToStats() {\r\n        const {t} = this.props;\r\n        t.setPopout(<ScreenSpinner/>);\r\n        t.socket.call('users.getTop', {type: 'pictures'}, r => {\r\n            t.setState({users_topPictures: r.response});\r\n            let user_ids = r.response.map(value => value.id);\r\n\r\n            t.socket.call('users.getTop', {type: 'guessed_pictures'}, r => {\r\n                t.setState({users_topGuessedPictures: r.response});\r\n                user_ids = [...user_ids, ...r.response.map(value => value.id)];\r\n\r\n                t.socket.call('users.getTop', {type: 'likes'}, async r => {\r\n                    t.setState({users_topLikes: r.response});\r\n                    user_ids = [...user_ids, ...r.response.map(value => value.id)];\r\n                    await getVKUsers(user_ids);\r\n\r\n                    t.setPopout(null);\r\n                    t.go('stats');\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    goToFeed() {\r\n        const {t} = this.props;\r\n        t.setPopout(<ScreenSpinner/>);\r\n        t.socket.call('pictures.getRandomLikes', {limit: 10}, r => {\r\n            t.setState({randomGamesLike: r.response});\r\n            let user_ids = r.response.map(value => value.drawerId);\r\n\r\n            t.socket.call('pictures.getLikesTop', {limit: 10}, async r => {\r\n                t.setState({topLikes: r.response});\r\n                user_ids = [...user_ids, ...r.response.map(value => value.drawerId)];\r\n                await getVKUsers(user_ids);\r\n\r\n                t.setPopout(null);\r\n                t.go('likes');\r\n            });\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {socket} = this.props.t;\r\n        socket.call('canvas.getStatus', {}, async r => {\r\n            const\r\n                {response} = r,\r\n                timeLost = response.start - Date.now(),\r\n                globalCanvasShowTimer = (timeLost <= 24 * 60 * 60 * 1000) && (timeLost > 0)\r\n            ;\r\n\r\n            if (globalCanvasShowTimer) {\r\n                globalCanvasTicker = setInterval(() => {\r\n                    if (response.start - Date.now() <= 0) {\r\n                        this.setState({globalCanvasShowTimer: false});\r\n                        clearInterval(globalCanvasTicker);\r\n                    }\r\n                    this.forceUpdate();\r\n                }, 1000);\r\n            }\r\n\r\n            this.setState({canvas_status: response, globalCanvasShowTimer});\r\n        });\r\n    }\r\n\r\n    componentWillMount() {\r\n        clearInterval(globalCanvasTicker);\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            {state, _tags} = t,\r\n            {gamesAsWinner, gamesAsDrawer, top_number, online, user} = state,\r\n            {lvl, pictures, successfulPictures, guessedPictures, likes} = user,\r\n            offset = [\r\n                Math.min(t.state.colors.length - 3, Math.max(lvl, 4) - 4),\r\n                Math.min(t.state.colors.length, Math.max(lvl, 3) + 3)\r\n            ],\r\n            colors = t.state.colors.slice(offset[0], offset[1]),\r\n            maxLvl = Math.min(lvl, t.state.colors.length),\r\n\r\n            {isShowGlobalCanvas, canvas_status, globalCanvasShowTimer} = this.state,\r\n\r\n            gc_time = globalCanvasShowTimer ? convertMsToNormalTime(canvas_status.start - Date.now()).str : {}\r\n        ;\r\n\r\n        if (offset[0] > t.state.colors.length - 6) {\r\n            offset[0] = t.state.colors.length - 6;\r\n        }\r\n\r\n        return (\r\n            <div className='Main'>\r\n                <div\r\n                    className='app_version'\r\n                    onClick={async () => {\r\n                        if (state.app_version !== app_version) {\r\n                            t.setActiveModal(MODAL_CARD_OUTDATED_VERSION);\r\n                        }\r\n                        await t.setState({__v_clicks: state.__v_clicks === 4 ? 4 : (state.__v_clicks + 1)});\r\n                        this.forceUpdate();\r\n                        if (state.__v_clicks === 3) {\r\n                            eruda.init();\r\n                        }\r\n                    }}\r\n                >v{app_version} {state.app_version !== app_version && <span>(неактуальная)</span>}\r\n                </div>\r\n                <div className='User_Header'>\r\n                    <Avatar src={t.state.vk_user.photo_100} size={48} shadow={false}/>\r\n                    <div className='UserTags'>\r\n                        {\r\n                            _tags().map(value =>\r\n                                    user[value[0]] && <Dropdown\r\n                                        action='hover'\r\n                                        content={\r\n                                            <Div>\r\n                                                <Text>{value[2]}</Text>\r\n                                            </Div>\r\n                                        }\r\n                                    >\r\n                                        {React.cloneElement(value[1], {onClick: () => t.setActiveModal(value[0])})}\r\n                                    </Dropdown>\r\n                            )\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <h3>Привет, {t.state.vk_user.first_name}</h3>\r\n                <h1>Твой профиль</h1>\r\n                <div className='Colors__Container'>\r\n                    <div className='Gradient_Opacity'/>\r\n                    {\r\n                        t.state.colors.map((value, index) =>\r\n                            <div\r\n                                className='Color'\r\n                                key={`Color__${index}`}\r\n                                style={{\r\n                                    display: (offset[0] > index || offset[1] < index) && 'none',\r\n                                    marginLeft: index > 0 && 12,\r\n                                    background: index + 1 === maxLvl && 'linear-gradient(156.04deg, #F05F88 0%, #FBD20A 100%)',\r\n                                    border: index + 1 === maxLvl && 'none'\r\n                                }}\r\n                            >\r\n                                <span>{index + 1}</span>\r\n                                <div\r\n                                    style={{background: typeof value === 'object' ? `conic-gradient(from 180deg at 50% 50%, ${value.join(', ')})` : value}}/>\r\n                            </div>\r\n                        )\r\n                    }\r\n                </div>\r\n                <p>Отгадывай и рисуй картины, чтобы разблокировать новые цвета</p>\r\n                <div className='PlayCards__Container'>\r\n                    <div className='PlayCards_Lobbies__Container'>\r\n                        <div\r\n                            className='PlayCard GlobalLobby'\r\n                            onClick={() => t.go('search')}\r\n                        >\r\n                            <Icon28Play/>\r\n                            <span>Играть</span>\r\n                        </div>\r\n                        <div\r\n                            className='PlayCard SelfLobby'\r\n                            onClick={() => t.go('friends')}\r\n                        >\r\n                            <Icon28AddCircleOutline/>\r\n                            <span>Своя игра</span>\r\n                        </div>\r\n                    </div>\r\n                    <div\r\n                        style={{\r\n                            display: (canvas_status.end !== 0 && Date.now() >= canvas_status.end) ? 'none' :\r\n                                (globalCanvasShowTimer ? '' : (canvas_status.status ? '' : (((canvas_status.admins_allow && user.admin) || (canvas_status.donut_allow && user.vk_donut)) ? '' : 'none')))\r\n                        }}\r\n                        className='PlayCard GlobalCanvasButton'\r\n                        onClick={async () => {\r\n                            if (!globalCanvasShowTimer) {\r\n                                bridge.send('VKWebAppStorageSet', {key: 'canvas_new_mode', value: '1'});\r\n                                t.setState({isShowGlobalCanvas: false});\r\n                                this.setState({isShowGlobalCanvas: false});\r\n                                t.go('global_canvas');\r\n                            }\r\n                        }}\r\n                    >\r\n                        {\r\n                            globalCanvasShowTimer &&\r\n                            <div className='TimeCounter'>\r\n                                <Icon28ClockOutline/>\r\n                                <span>{gc_time.hours}:{gc_time.minutes}:{gc_time.seconds}</span>\r\n                            </div>\r\n                        }\r\n                        <Icon28CrownOutline/>\r\n                        <span>Общий холст</span>\r\n                        {\r\n                            isShowGlobalCanvas && <div className='Point_New_Notify'></div>\r\n                        }\r\n                    </div>\r\n                    {\r\n                        isDesktop && <p className='OnlineText'>Онлайн: {online}</p>\r\n                    }\r\n                </div>\r\n                <div className='PlayerPics__Container'>\r\n                    <div className='Card_Button_Stretch'>\r\n                        <div className='Images'>\r\n                            {[1, 0, 2].map((value, index) => <div num={index} key={`div__${index}`}>{\r\n                                gamesAsDrawer[value] && <img alt='img' src={gamesAsDrawer[value]['Picture.url']}/>\r\n                            }</div>)}\r\n                        </div>\r\n                        <div\r\n                            className='Card_Text__Container'\r\n                            onClick={() => {\r\n                                if (gamesAsDrawer.length > 0)\r\n                                    t.go('gallery')\r\n                            }}\r\n                        >\r\n                            <div>\r\n                                <span>Мои работы</span>\r\n                                <span>{decOfNum(successfulPictures, ['успешная', 'успешные', 'успешных'])}</span>\r\n                            </div>\r\n                            <div>{decOfNum(pictures, ['картина', 'картины', 'картин'])}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='Card_Button_Stretch'>\r\n                        <div className='Images'>\r\n                            {[1, 0, 2].map((value, index) => <div num={index} key={`div__${index}`}>{\r\n                                gamesAsWinner[value] && <img alt='img' src={gamesAsWinner[value]['Picture.url']}/>\r\n                            }</div>)}\r\n                        </div>\r\n                        <div\r\n                            className='Card_Text__Container'\r\n                            onClick={() => t.go('rating')}\r\n                        >\r\n                            <div>\r\n                                <span>Отгаданные работы</span>\r\n                                <span>{top_number && `${shortIntegersK(top_number)} место`}</span>\r\n                            </div>\r\n                            <div>{decOfNum(guessedPictures, ['картина', 'картины', 'картин'])}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='SubCards__Container'>\r\n                    {\r\n                        [\r\n                            [<Icon28Cards2Outline/>, 'Лента', () => this.goToFeed()],\r\n                            [<Icon28GraphOutline/>, 'Статистика', () => this.goToStats()],\r\n                            [<Icon28StorefrontOutline/>, 'Магазин', () => t.go('shop')]\r\n                        ].map((value, index) =>\r\n                            <div\r\n                                key={`SubCard_${index}`}\r\n                                onClick={() => value[2]()}\r\n                                style={{\r\n                                    marginLeft: index !== 0 && 8\r\n                                }}\r\n                            >\r\n                                {value[0]}\r\n                                <span>{value[1]}</span>\r\n                            </div>\r\n                        )\r\n                    }\r\n                </div>\r\n                {\r\n                    !isDesktop && <p className='OnlineText'>Онлайн: {online}</p>\r\n                }\r\n                {false && <React.Fragment>\r\n                    <div className='Cards__Container'>\r\n                        <div onClick={() => {\r\n                            if (gamesAsDrawer.length > 0) {\r\n                                t.go('gallery')\r\n                            }\r\n                        }}>\r\n                            <span className='Top'>\r\n                                {decOfNum(successfulPictures, ['успешная', 'успешные', 'успешных'])}\r\n                            </span>\r\n                            <div className='Images'>\r\n                                {[1, 0, 2].map((value, index) => <div num={index} key={`div__${index}`}>{\r\n                                    gamesAsDrawer[value] && <img alt='img' src={gamesAsDrawer[value]['Picture.url']}/>\r\n                                }</div>)}\r\n                            </div>\r\n                            <div className='Texts'>\r\n                                <span>Галерея</span>\r\n                                <span>{decOfNum(pictures, ['картина', 'картины', 'картин'])}</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div onClick={() => t.go('rating')}>\r\n                            <span className='Top'>{top_number && `Ты на ${shortIntegersK(top_number)} месте`}</span>\r\n                            <div className='Images'>\r\n                                {[1, 0, 2].map((value, index) => <div num={index} key={`div__${index}`}>{\r\n                                    gamesAsWinner[value] && <img alt='img' src={gamesAsWinner[value]['Picture.url']}/>\r\n                                }</div>)}\r\n                            </div>\r\n                            <div className='Texts'>\r\n                                <span>Отгадано</span>\r\n                                <span>{decOfNum(guessedPictures, ['картина', 'картины', 'картин'])}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='Cards2__Container'>\r\n                        <div onClick={async () => {\r\n                            this.goToStats();\r\n                        }}>\r\n                            <span>статистика</span>\r\n                            <Icon12Chevron/>\r\n                        </div>\r\n                        <div onClick={async () => {\r\n                            this.goToFeed();\r\n                        }}>\r\n                            <span>оценить картины</span>\r\n                            <Icon12Chevron/>\r\n                        </div>\r\n                    </div>\r\n                    <div className='CardButton' onClick={async () => {\r\n                        t.go('shop');\r\n                    }}>\r\n                        {isPlatformDesktop() && <Icon28ShoppingCartOutline/>}\r\n                        <span>магазин</span>\r\n                        {!isPlatformDesktop() && <Icon12Chevron/>}\r\n                    </div>\r\n                    {\r\n                        !isPlatformDesktop() && <div style={{height: 111, width: 1}}/>\r\n                    }\r\n                    <div className='PlayContainer'>\r\n                        <div>\r\n                            <div className='ButtonPlayGlobal' onClick={() => t.go('search')}>\r\n                                <Icon28Play/>\r\n                            </div>\r\n                            <div className='ButtonPlayFriends' onClick={() => t.go('friends')}>\r\n                                <Icon28AddCircleOutline/>\r\n                            </div>\r\n                        </div>\r\n                        <p>Онлайн: {online}</p>\r\n                    </div>\r\n                    <div className='MainTint'/>\r\n                </React.Fragment>}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nMain.defaultProps = {};\r\n\r\nMain.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Main;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {PanelHeader, PanelHeaderBack, PromoBanner, ScreenSpinner, Snackbar} from \"@vkontakte/vkui\";\r\nimport {getBase64Image, getSrcUrl, getUrlParams, isPlatformDesktop} from \"../../js/utils\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {getVKUsers} from \"../../js/drawerapp/utils\";\r\n\r\nexport class Gallery extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            offset: props.t.state.gamesAsDrawer.length,\r\n            limit: 10,\r\n            canGetMore: true,\r\n            prevY: 0\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.observer = new IntersectionObserver(\r\n            this.handleObserver.bind(this),\r\n            {\r\n                root: null,\r\n                rootMargin: '0px',\r\n                threshold: 1.0\r\n            }\r\n        );\r\n        this.observer.observe(this.loadingRef);\r\n    }\r\n\r\n    handleObserver(entities, observer) {\r\n        const\r\n            {y} = entities[0].boundingClientRect,\r\n            {t} = this.props,\r\n            {prevY, offset, limit, canGetMore} = this.state\r\n        ;\r\n        if ((prevY === 0 || prevY > y) && canGetMore) {\r\n            t.socket.call('games.getByDrawerId', {id: t.state.vk_user.id, offset, limit}, async r => {\r\n                await getVKUsers(r.response.map(value => value.drawerId));\r\n                t.setState({gamesAsDrawer: [...t.state.gamesAsDrawer, ...r.response]});\r\n                this.setState({canGetMore: r.response.length > 0});\r\n                this.forceUpdate();\r\n            });\r\n            this.setState({offset: offset + 10});\r\n        }\r\n        this.setState({prevY: y});\r\n    }\r\n\r\n    shareStory(word, gameId, pic) {\r\n        try {\r\n            this.props.t.setPopout(<ScreenSpinner/>);\r\n            const\r\n                {createCanvas, loadImage} = require('canvas')\r\n            ;\r\n\r\n            loadImage(getSrcUrl(require(`../../assets/drawing/stories/Story1.png`))).then(async background => {\r\n                try {\r\n                    const\r\n                        canvas = createCanvas(background.width, background.height),\r\n                        ctx = canvas.getContext('2d'),\r\n                        canvasData = await getBase64Image(pic),\r\n                        title = word.substring(0, 1).toUpperCase() + word.substring(1)\r\n                    ;\r\n                    ctx.drawImage(background, 0, 0);\r\n\r\n                    ctx.font = '64px TT Commons Demibold';\r\n                    ctx.textAlign = 'center';\r\n                    ctx.fillStyle = '#616161';\r\n                    ctx.fillText(title, 539, 708 + 13 + 489);\r\n\r\n                    ctx.drawImage(await loadImage(canvasData), 198, 618, 683, 683);\r\n\r\n                    await bridge.send('VKWebAppShowStoryBox', {\r\n                        background_type: 'image',\r\n                        blob: canvas.toDataURL('image/png'),\r\n                        attachment: {\r\n                            url: 'https://vk.com/app' + getUrlParams().vk_app_id,\r\n                            text: 'go_to',\r\n                            type: 'url'\r\n                        }\r\n                    });\r\n                    this.props.t.socket.call('games.share', {gameId});\r\n                    this.props.t.setPopout(null);\r\n                } catch (e) {\r\n                    console.error(e);\r\n                    this.props.t.setPopout(null);\r\n                    this.props.t.setState({\r\n                        snackbar: <Snackbar onClose={() => this.props.t.setState({snackbar: null})}>\r\n                            Произошла ошибка\r\n                        </Snackbar>\r\n                    });\r\n                }\r\n            });\r\n        } catch (e) {\r\n            console.error(e);\r\n            this.props.t.setPopout(null);\r\n            this.props.t.setState({\r\n                snackbar: <Snackbar onClose={() => this.props.t.setState({snackbar: null})}>\r\n                    Произошла ошибка\r\n                </Snackbar>\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            {banners, defaultBannerData} = t.state,\r\n            isDesktop = isPlatformDesktop(),\r\n            {gamesAsDrawer} = t.state\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                >\r\n                    {\r\n                        isDesktop && 'Твоя галерея'\r\n                    }\r\n                </PanelHeader>\r\n                <div className='Gallery'>\r\n                    {\r\n                        !isDesktop && <h2 style={{textAlign: 'left'}}>Твоя галерея</h2>\r\n                    }\r\n                    <p style={{margin: !isDesktop && '8px 0 0 0'}}>\r\n                        Выберите нужную картину, чтобы посмотреть информацию и выбрать действие:\r\n                    </p>\r\n                    <div style={{\r\n                        marginTop: isDesktop ? 18 : 24,\r\n                        gridGap: isDesktop ? 8 : 15,\r\n                        paddingBottom: banners[0] || true && 140\r\n                    }} className='Images_Grid'>\r\n                        {\r\n                            gamesAsDrawer.map((value, index) =>\r\n                                <div key={`Image_${index}`} onClick={async () => {\r\n                                    //this.shareStory(value['Word.nom'], value.id, value['Picture.url']);\r\n                                    await t.setState({\r\n                                        like_currentPictureSelected: index,\r\n                                        like_method: 'games.getByDrawerId',\r\n                                        like_param: 'gamesAsDrawer',\r\n                                        like_user_id: t.state.vk_user.id\r\n                                    });\r\n                                    t.go('picture_info');\r\n                                }}>\r\n                                    <img alt='img' src={value['Picture.url']}/>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                    {\r\n                        banners[0] &&\r\n                        <PromoBanner\r\n                            bannerData={banners[0]}\r\n                            onClose={async () => {\r\n                                banners[0] = false;\r\n                                await t.setState({banners});\r\n                                this.forceUpdate();\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n                <div ref={ref => this.loadingRef = ref}/>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nGallery.defaultProps = {};\r\n\r\nGallery.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Gallery;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Avatar, PanelHeader, PanelHeaderBack, PromoBanner, ScreenSpinner, Snackbar} from \"@vkontakte/vkui\";\r\nimport {decOfNum, getBase64Image, getSrcUrl, getUrlParams, isPlatformDesktop} from \"../../js/utils\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {getVKUsers} from \"../../js/drawerapp/utils\";\r\n\r\nexport class Rating extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            offset: props.t.state.gamesAsWinner.length,\r\n            limit: 10,\r\n            canGetMore: true,\r\n            prevY: 0\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.observer = new IntersectionObserver(\r\n            this.handleObserver.bind(this),\r\n            {\r\n                root: null,\r\n                rootMargin: '0px',\r\n                threshold: 1.0\r\n            }\r\n        );\r\n        this.observer.observe(this.loadingRef);\r\n    }\r\n\r\n    handleObserver(entities, observer) {\r\n        const\r\n            {y} = entities[0].boundingClientRect,\r\n            {t} = this.props,\r\n            {prevY, offset, limit, canGetMore} = this.state\r\n        ;\r\n        if ((prevY === 0 || prevY > y) && canGetMore) {\r\n            t.socket.call('games.getByWinnerId', {id: t.state.vk_user.id, offset, limit}, async r => {\r\n                await getVKUsers(r.response.map(value => value.drawerId));\r\n                t.setState({gamesAsWinner: [...t.state.gamesAsWinner, ...r.response]});\r\n                this.setState({canGetMore: r.response.length > 0});\r\n                this.forceUpdate();\r\n            });\r\n            this.setState({offset: offset + 10});\r\n        }\r\n        this.setState({prevY: y});\r\n    }\r\n\r\n    shareStory(gameId, pic) {\r\n        this.props.t.setPopout(<ScreenSpinner/>);\r\n        try {\r\n            const\r\n                {createCanvas, loadImage} = require('canvas')\r\n            ;\r\n\r\n            loadImage(getSrcUrl(require(`../../assets/drawing/stories/Story2.png`))).then(async background => {\r\n                const\r\n                    canvas = createCanvas(background.width, background.height),\r\n                    ctx = canvas.getContext('2d'),\r\n                    canvasData = await getBase64Image(pic)\r\n                ;\r\n                ctx.drawImage(background, 0, 0);\r\n                ctx.drawImage(await loadImage(canvasData), 198, 618, 683, 683);\r\n\r\n                try {\r\n                    await bridge.send('VKWebAppShowStoryBox', {\r\n                        background_type: 'image',\r\n                        blob: canvas.toDataURL('image/png'),\r\n                        attachment: {\r\n                            url: 'https://vk.com/app' + getUrlParams().vk_app_id,\r\n                            text: 'go_to',\r\n                            type: 'url'\r\n                        }\r\n                    });\r\n                    this.props.t.socket.call('games.share', {gameId});\r\n                } catch (e) {\r\n                }\r\n                this.props.t.setPopout(null);\r\n            });\r\n        } catch (e) {\r\n            console.error(e);\r\n            this.props.t.setPopout(null);\r\n            this.props.t.setState({\r\n                snackbar: <Snackbar onClose={() => this.props.t.setState({snackbar: null})}>\r\n                    Произошла ошибка\r\n                </Snackbar>\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            {banners} = t.state,\r\n            isDesktop = isPlatformDesktop(),\r\n            {user, gamesAsWinner, top} = t.state,\r\n            {guessedPictures} = user\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                />\r\n                <div className='Rating'>\r\n                    {\r\n                        top &&\r\n                        <React.Fragment>\r\n                            <p>\r\n                                Лучшие игроки за сегодня:\r\n                            </p>\r\n                            <div className='Users_List'>\r\n                                {\r\n                                    top.map((value, index) =>\r\n                                        <div key={`div__${index}`} onClick={() => {\r\n                                            t.socket.call('users.getById', {id: value.id}, async r => {\r\n                                                await t.setState({\r\n                                                    author: r.response\r\n                                                });\r\n                                                t.socket.call('games.getByDrawerId', {id: value.id}, async r => {\r\n                                                    await t.setState({\r\n                                                        author_works: r.response\r\n                                                    });\r\n                                                    t.go('author');\r\n                                                    t.setPopout(null);\r\n                                                });\r\n                                            });\r\n                                        }}>\r\n                                            <Avatar size={48} shadow={false} src={value.photo_100}/>\r\n                                            <div>\r\n                                                <div>{value.first_name} {value.last_name.substring(0, 1)}.</div>\r\n                                                <div>Отгадал{value.sex === 1 && 'а'} {decOfNum(value.guessedPicturesToday, ['картину', 'картины', 'картин'])}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            </div>\r\n                        </React.Fragment>\r\n                    }\r\n                    {\r\n                        gamesAsWinner.length > 0 &&\r\n                        <React.Fragment>\r\n                            <p style={{margin: '24px 0 0 0'}}>\r\n                                Вы отгадали {decOfNum(guessedPictures, ['картину', 'картины', 'картин'])} (нажмите на\r\n                                картину, чтобы посмотреть информацию о ней):\r\n                            </p>\r\n                            <div style={{marginTop: 18, gridGap: isDesktop ? 8 : 15, paddingBottom: banners[1] && 140}}\r\n                                 className='Images_Grid'>\r\n                                {\r\n                                    gamesAsWinner.map((value, index) =>\r\n                                        <div key={`Image_${index}`} onClick={async () => {\r\n                                            //this.shareStory(value.id, value['Picture.url']);\r\n                                            await t.setState({\r\n                                                like_currentPictureSelected: index,\r\n                                                like_method: 'games.getByWinnerId',\r\n                                                like_param: 'gamesAsWinner',\r\n                                                like_user_id: t.state.vk_user.id\r\n                                            });\r\n                                            t.go('picture_info');\r\n                                        }}>\r\n                                            <img alt='img' src={value['Picture.url']}/>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            </div>\r\n                            {\r\n                                banners[1] &&\r\n                                <PromoBanner\r\n                                    bannerData={banners[1]}\r\n                                    onClose={async () => {\r\n                                        banners[1] = false;\r\n                                        await t.setState({banners});\r\n                                        this.forceUpdate();\r\n                                    }}\r\n                                />\r\n                            }\r\n                        </React.Fragment>\r\n                    }\r\n                    <div ref={ref => this.loadingRef = ref}/>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nRating.defaultProps = {};\r\n\r\nRating.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Rating;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Avatar} from \"@vkontakte/vkui\";\r\nimport {isPlatformDesktop} from \"../../js/utils\";\r\nimport {getVKUsers} from \"../../js/drawerapp/utils\";\r\n\r\nlet interval;\r\n\r\nexport class Search extends PureComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            lobbyPlayers: [],\r\n            lobbyPlayers_: [],\r\n            point_count: 0,\r\n            starting: false\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(interval);\r\n    }\r\n\r\n    componentDidMount() {\r\n        interval = setInterval(() => {\r\n            const {point_count} = this.state;\r\n            this.setState({point_count: point_count >= 3 ? 0 : point_count + 1});\r\n        }, 800);\r\n\r\n        const {socket} = this.props.t;\r\n        socket.unsubscribe('changeLobbyUsers', 'gameStart', 'setWord', 'gameEnd', 'draw', 'gameStarting', 'message');\r\n        socket.subscribe('changeLobbyUsers', async r => {\r\n            this.setState({lobbyPlayers: await getVKUsers(r.players), lobbyPlayers_: r.players});\r\n        });\r\n        socket.subscribe('setWord', async r => {\r\n            this.props.t.setState({word: r.word});\r\n            setTimeout(() => {\r\n                this.props.t.forceUpdate();\r\n            }, 400);\r\n        });\r\n        socket.subscribe('gameStart', async r => {\r\n            //console.log('Игра начинается');\r\n            const {lobbyId, drawerId} = r;\r\n            await this.props.t.setState({\r\n                lobbyId,\r\n                drawerId,\r\n                gameStart: Date.now(),\r\n                isOnlineDrawing: true,\r\n                subGameInfo: {friendly: false}\r\n            });\r\n            await new Promise(resolve => {\r\n                const {lobbyPlayers, lobbyPlayers_} = this.state;\r\n                let interval;\r\n                interval = setInterval(() => {\r\n                    if (lobbyPlayers_.length === lobbyPlayers.length) {\r\n                        clearInterval(interval);\r\n                        console.log('All players find');\r\n                        resolve(true);\r\n                    }\r\n                }, 400);\r\n            });\r\n            console.log(`Game start. lobbyId = ${lobbyId}, drawerId = ${drawerId}`);\r\n            this.props.t.setState({\r\n                history: ['main', 'game'],\r\n                activePanel: 'game'\r\n            });\r\n        });\r\n        socket.subscribe('gameStarting', async r => {\r\n            this.setState({starting: true});\r\n        });\r\n        socket.call('games.search');\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            lobbyPlayers = this.state.lobbyPlayers.filter(user => user.id !== t.state.vk_user.id),\r\n            players =\r\n                <svg width=\"274\" height=\"316\" viewBox=\"0 0 274 316\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\r\n                     style={{marginTop: isPlatformDesktop() ? 72 : '8.86699507vh'}}\r\n                     onClick={() => {\r\n                         if (!this.state.starting) {\r\n                             t.back();\r\n                         }\r\n                     }}\r\n                >\r\n                    <rect x=\"63\" y=\"84\" width=\"148\" height=\"148\" rx=\"74\" fill=\"url(#paint0_linear)\"/>\r\n                    <circle className='Search_Avatar' cx=\"137\" cy=\"158\" r=\"48\" fill=\"url(#pattern0)\"/>\r\n                    <line x1=\"27.866\" y1=\"26.5\" x2=\"60.366\" y2=\"82.7916\" stroke=\"var(--border_players_color)\"\r\n                          strokeWidth=\"2\" strokeDasharray=\"4 4\"/>\r\n                    <rect x=\"1.5\" y=\"1.5\" width=\"51\" height=\"51\" rx=\"25.5\"\r\n                          fill=\"var(--background_content)\"/>\r\n                    <circle cx=\"27\" cy=\"27\" r=\"24\" fill=\"url(#pattern1)\"/>\r\n                    <rect x=\"1.5\" y=\"1.5\" width=\"51\" height=\"51\" rx=\"25.5\" stroke=\"var(--border_players_color)\"\r\n                          strokeWidth=\"3\"/>\r\n                    <line y1=\"-1\" x2=\"65\" y2=\"-1\" transform=\"matrix(-0.5 0.866025 0.866025 0.5 246.88 27)\"\r\n                          stroke=\"var(--border_players_color)\" strokeWidth=\"2\" strokeDasharray=\"4 4\"/>\r\n                    <rect x=\"1.5\" y=\"-1.5\" width=\"51\" height=\"51\" rx=\"25.5\" transform=\"matrix(-1 0 0 1 274 3)\"\r\n                          fill=\"var(--background_content)\"/>\r\n                    <rect x=\"1.5\" y=\"-1.5\" width=\"51\" height=\"51\" rx=\"25.5\" transform=\"matrix(-1 0 0 1 274 3)\"/>\r\n                    <circle cx=\"247\" cy=\"27\" r=\"24\" fill=\"url(#pattern2)\"/>\r\n                    <rect x=\"1.5\" y=\"-1.5\" width=\"51\" height=\"51\" rx=\"25.5\" transform=\"matrix(-1 0 0 1 274 3)\"\r\n                          stroke=\"var(--border_players_color)\" strokeWidth=\"3\"/>\r\n                    <line y1=\"-1\" x2=\"65\" y2=\"-1\" transform=\"matrix(0.5 -0.866025 -0.866025 -0.5 27 289)\"\r\n                          stroke=\"var(--border_players_color)\" strokeWidth=\"2\" strokeDasharray=\"4 4\"/>\r\n                    <rect x=\"-1.5\" y=\"1.5\" width=\"51\" height=\"51\" rx=\"25.5\" transform=\"matrix(1 0 0 -1 3 316)\"\r\n                          fill=\"var(--background_content)\"/>\r\n                    <rect x=\"-1.5\" y=\"1.5\" width=\"51\" height=\"51\" rx=\"25.5\" transform=\"matrix(1 0 0 -1 3 316)\"/>\r\n                    <circle cx=\"27\" cy=\"289\" r=\"24\" fill=\"url(#pattern3)\"/>\r\n                    <rect x=\"-1.5\" y=\"1.5\" width=\"51\" height=\"51\" rx=\"25.5\" transform=\"matrix(1 0 0 -1 3 316)\"\r\n                          stroke=\"var(--border_players_color)\" strokeWidth=\"3\"/>\r\n                    <line x1=\"246.014\" y1=\"289.5\" x2=\"213.514\" y2=\"233.208\" stroke=\"var(--border_players_color)\"\r\n                          strokeWidth=\"2\" strokeDasharray=\"4 4\"/>\r\n                    <rect x=\"272.5\" y=\"314.5\" width=\"51\" height=\"51\" rx=\"25.5\" transform=\"rotate(-180 272.5 314.5)\"\r\n                          fill=\"var(--background_content)\"/>\r\n                    <rect x=\"272.5\" y=\"314.5\" width=\"51\" height=\"51\" rx=\"25.5\"\r\n                          transform=\"rotate(-180 272.5 314.5)\"/>\r\n                    <circle cx=\"247\" cy=\"289\" r=\"24\" fill=\"url(#pattern4)\"/>\r\n                    <rect x=\"272.5\" y=\"314.5\" width=\"51\" height=\"51\" rx=\"25.5\" transform=\"rotate(-180 272.5 314.5)\"\r\n                          stroke=\"var(--border_players_color)\" strokeWidth=\"3\"/>\r\n                    <defs>\r\n                        <linearGradient id=\"paint0_linear\" x1=\"63\" y1=\"84\" x2=\"211\" y2=\"232\"\r\n                                        gradientUnits=\"userSpaceOnUse\">\r\n                            <stop stopColor=\"#F05F88\"/>\r\n                            <stop offset=\"1\" stopColor=\"#FAAF1A\"/>\r\n                        </linearGradient>\r\n\r\n                        <pattern id=\"pattern0\" patternContentUnits=\"objectBoundingBox\" width=\"1\" height=\"1\">\r\n                            <use href=\"#image0\" transform=\"scale(0.005)\"/>\r\n                        </pattern>\r\n                        <image href={t.state.vk_user.photo_max_orig} id=\"image0\" width=\"200\" height=\"200\"/>\r\n\r\n                        <pattern id=\"pattern1\" patternContentUnits=\"objectBoundingBox\" width=\"1\" height=\"1\">\r\n                            <use href=\"#image1\" transform=\"scale(0.005)\"/>\r\n                        </pattern>\r\n                        <image href={lobbyPlayers[0] && lobbyPlayers[0].photo_max_orig} id=\"image1\" width=\"200\"\r\n                               height=\"200\"/>\r\n\r\n                        <pattern id=\"pattern2\" patternContentUnits=\"objectBoundingBox\" width=\"1\" height=\"1\">\r\n                            <use href=\"#image2\" transform=\"scale(0.005)\"/>\r\n                        </pattern>\r\n                        <image href={lobbyPlayers[1] && lobbyPlayers[1].photo_max_orig} id=\"image2\" width=\"200\"\r\n                               height=\"200\"/>\r\n\r\n                        <pattern id=\"pattern3\" patternContentUnits=\"objectBoundingBox\" width=\"1\" height=\"1\">\r\n                            <use href=\"#image3\" transform=\"scale(0.005)\"/>\r\n                        </pattern>\r\n                        <image href={lobbyPlayers[2] && lobbyPlayers[2].photo_max_orig} id=\"image3\" width=\"200\"\r\n                               height=\"200\"/>\r\n\r\n                        <pattern id=\"pattern4\" patternContentUnits=\"objectBoundingBox\" width=\"1\" height=\"1\">\r\n                            <use href=\"#image4\" transform=\"scale(0.005)\"/>\r\n                        </pattern>\r\n                        <image href={lobbyPlayers[3] && lobbyPlayers[3].photo_max_orig} id=\"image4\" width=\"200\"\r\n                               height=\"200\"/>\r\n                    </defs>\r\n                </svg>,\r\n            {point_count} = this.state\r\n        ;\r\n\r\n        return (\r\n            <div className='Search'>\r\n                <h1>{this.state.starting ? `Очищаем холст${new Array(point_count).fill('.').join('')}` : `Ищем игроков${new Array(point_count).fill('.').join('')}`}</h1>\r\n                <h3>{lobbyPlayers.length + 1}/5</h3>\r\n                {players}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nSearch.defaultProps = {};\r\n\r\nSearch.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Search;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M16.1568 6.96446L14.0355 4.84314C13.2545 4.06209 11.9881 4.06209 11.2071 4.84314L8.37866 7.67157L13.3284 12.6213L16.1568 9.79289C16.9379 9.01184 16.9379 7.74551 16.1568 6.96446Z\",\n  fill: \"#C3C3C3\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M16.864 6.25738L14.7427 4.13606C13.5711 2.96448 11.6716 2.96448 10.5 4.13606L4.13606 10.5C2.96449 11.6716 2.96449 13.5711 4.13606 14.7427L6.25738 16.864C7.42895 18.0356 9.32845 18.0356 10.5 16.864L16.864 10.5C18.0356 9.32844 18.0356 7.42895 16.864 6.25738Z\",\n  stroke: \"#C3C3C3\",\n  strokeWidth: 2\n});\n\nvar SvgIconErase = function SvgIconErase(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 21,\n    height: 21,\n    viewBox: \"0 0 21 21\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgIconErase, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/IconErase.538657b8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M2.34316 12.0355L4.46448 14.1568C5.24553 14.9378 6.51186 14.9378 7.29291 14.1568L10.1213 11.3284L5.17159 6.37862L2.34316 9.20705C1.56211 9.9881 1.56211 11.2544 2.34316 12.0355Z\",\n  fill: \"currentColor\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M1.81279 12.5658L3.93411 14.6872C5.00806 15.7611 6.74926 15.7611 7.8232 14.6872L14.1872 8.32321C15.2611 7.24926 15.2611 5.50806 14.1872 4.43412L12.0658 2.3128C10.9919 1.23886 9.2507 1.23886 8.17675 2.3128L1.81279 8.67676C0.738852 9.7507 0.738851 11.4919 1.81279 12.5658Z\",\n  stroke: \"currentColor\",\n  strokeWidth: 1.5\n});\n\nvar SvgIconErase2 = function SvgIconErase2(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 17,\n    viewBox: \"0 0 16 17\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgIconErase2, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/IconErase2.d1d8758f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  x: 1.5,\n  y: 1,\n  width: 12.5,\n  height: 1,\n  rx: 0.5,\n  fill: \"currentColor\",\n  stroke: \"currentColor\",\n  strokeWidth: 0.3\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  x: 1.25,\n  y: 4.75,\n  width: 13,\n  height: 1,\n  rx: 0.5,\n  fill: \"currentColor\",\n  stroke: \"currentColor\",\n  strokeWidth: 0.7\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  x: 1,\n  y: 8.5,\n  width: 13.5,\n  height: 1,\n  rx: 0.5,\n  fill: \"currentColor\",\n  stroke: \"currentColor\",\n  strokeWidth: 1.25\n});\n\nvar SvgIconStroke = function SvgIconStroke(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 11,\n    viewBox: \"0 0 16 11\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgIconStroke, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/IconStroke.5a6d0589.svg\";\nexport { ForwardRef as ReactComponent };","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    ActionSheet,\r\n    ActionSheetItem,\r\n    Avatar,\r\n    Button,\r\n    IconButton,\r\n    Input,\r\n    ScreenSpinner, Slider,\r\n    Snackbar,\r\n    WriteBarIcon\r\n} from \"@vkontakte/vkui\";\r\nimport {getBase64Image, isPlatformDesktop} from \"../../js/utils\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\nimport {ReactComponent as IconErase} from \"../../assets/drawing/icons/IconErase.svg\";\r\nimport {ReactComponent as IconErase2} from \"../../assets/drawing/icons/IconErase2.svg\";\r\nimport {ReactComponent as IconStroke} from \"../../assets/drawing/icons/IconStroke.svg\";\r\nimport {Icon16Cancel, Icon16Done, Icon20Cancel, Icon28ClearDataOutline} from \"@vkontakte/icons\";\r\n\r\nconst current = {};\r\nlet interval, lastColorIndex = 0;\r\n\r\nexport class Game extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const\r\n            {t} = props,\r\n            {user, test_game} = t.state\r\n        ;\r\n        this.state = {\r\n            drawer: vk_local_users[props.drawerId],\r\n            isDrawer: test_game || (props.online === false ? true : (props.drawerId === props.t.state.vk_user.id)),\r\n            text: '',\r\n            selectedColor: (user.vk_donut || user.admin) ? 0 : 1,\r\n            drawing: false,\r\n            time: 90,\r\n\r\n            messages: [],\r\n\r\n            isEraser: false,\r\n            isStroke: false,\r\n            lineWidth: 2\r\n        };\r\n        if (!this.state.drawer) {\r\n            setTimeout(async () => {\r\n                await getVKUsers([props.drawerId]);\r\n                this.setState({drawer: vk_local_users[props.drawerId]})\r\n            }, 1);\r\n        }\r\n\r\n        this.onMouseDown = this.onMouseDown.bind(this);\r\n        this.onMouseUp = this.onMouseUp.bind(this);\r\n        this.throttle = this.throttle.bind(this);\r\n        this.onMouseMove = this.onMouseMove.bind(this);\r\n        this.drawLine = this.drawLine.bind(this);\r\n\r\n        if (props.online && !test_game) {\r\n            interval = setInterval(() => {\r\n                this.setState({time: this.state.time - 1});\r\n                if (this.state.time <= -5) {\r\n                    this.props.t.setState({\r\n                        canvas_: this.canvas.toDataURL('image/png'),\r\n                        winnerId: 0,\r\n                        word: {nom: ''},\r\n                        gameId: 0,\r\n                        gameEnd: Date.now()\r\n                    });\r\n                    this.props.t.setActivePanel('result');\r\n                    console.log('Game end (timeout)');\r\n                    clearInterval(interval);\r\n                }\r\n            }, 1000);\r\n\r\n            props.t.socket.subscribe('gameEnd', async r => {\r\n                const\r\n                    canvasData = await new Promise(resolve => {\r\n                        setTimeout(() => {\r\n                            this.canvas.toBlob(() => {\r\n                                resolve(this.canvas.toDataURL('image/png'));\r\n                            });\r\n                        },100);\r\n                    }),\r\n                    {winnerId, word, gameId} = r\r\n                ;\r\n                if (this.state.isDrawer) {\r\n                    this.props.t.socket.call('games.end', {canvasData, lobbyId: this.props.lobbyId, gameId});\r\n                }\r\n                this.props.t.setState({canvas_: canvasData, winnerId, word, gameId, gameEnd: Date.now()});\r\n                this.props.t.setActivePanel('result');\r\n                console.log('Game end');\r\n            });\r\n\r\n            if (!this.state.isDrawer) {\r\n                props.t.socket.subscribe('draw', r => {\r\n                    let {x0, y0, x1, y1, color, isEraser, lineWidth} = r.data;\r\n                    if (!lineWidth) lineWidth = 2;\r\n\r\n                    this.drawLine(x0, y0, x1, y1, color, isEraser, lineWidth);\r\n                });\r\n\r\n                props.t.socket.subscribe('clear', r => {\r\n                    this.canvasContext.clearRect(0, 0, 319, 319);\r\n                });\r\n            }\r\n\r\n            props.t.socket.subscribe('message', async r => {\r\n                const {user_id, message} = r;\r\n                console.log(`New message from ${user_id}: ${message}`);\r\n                await this.setState({\r\n                    messages: [...this.state.messages, {\r\n                        user_id,\r\n                        message, ...vk_local_users[user_id]\r\n                    }]\r\n                });\r\n\r\n                try {\r\n                    const comments = document.getElementsByClassName('Comment');\r\n                    comments[comments.length - 1].scrollIntoView(false);\r\n                } catch (e) {\r\n\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.props.online) {\r\n            clearInterval(interval);\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const\r\n            {canvas, onMouseDown, onMouseUp, throttle, onMouseMove, props} = this,\r\n            {drawer, isDrawer} = this.state,\r\n            {online, t} = props\r\n        ;\r\n        this.canvasContext = canvas.getContext('2d');\r\n\r\n        if (isDrawer) {\r\n            canvas.addEventListener('mousedown', onMouseDown, false);\r\n            canvas.addEventListener('mouseup', onMouseUp, false);\r\n            canvas.addEventListener('mouseout', onMouseUp, false);\r\n            canvas.addEventListener('mousemove', throttle(onMouseMove, 10), false);\r\n\r\n            //Touch support for mobile devices\r\n            canvas.addEventListener('touchstart', onMouseDown, false);\r\n            canvas.addEventListener('touchend', onMouseUp, false);\r\n            canvas.addEventListener('touchcancel', onMouseUp, false);\r\n            canvas.addEventListener('touchmove', throttle(onMouseMove, 10), false);\r\n        }\r\n\r\n        if (!online) {\r\n            t.setPopout(<ScreenSpinner/>);\r\n            const\r\n                picUrl = t.state.pictureUrl_,\r\n                canvasData = await getBase64Image(picUrl),\r\n                {loadImage} = require('canvas')\r\n            ;\r\n            this.canvasContext.drawImage(await loadImage(canvasData), 0, 0);\r\n            t.setPopout(null);\r\n        }\r\n    }\r\n\r\n    onMouseDown(e) {\r\n        this.setState({drawing: true});\r\n        current.x = e.clientX || e.touches[0].clientX;\r\n        current.y = e.clientY || e.touches[0].clientY;\r\n    }\r\n\r\n    onMouseUp(e) {\r\n        const {drawing, selectedColor, isEraser, lineWidth} = this.state;\r\n        if (!drawing) {\r\n            return;\r\n        }\r\n        this.setState({drawing: false});\r\n        try {\r\n            const\r\n                {canvas} = this,\r\n                canvasRect = canvas.getBoundingClientRect()\r\n            ;\r\n            this.drawLine(current.x - canvasRect.left, current.y - canvasRect.top, (e.clientX || e.touches[0].clientX) - canvasRect.left, (e.clientY || e.touches[0].clientY) - canvasRect.top, this.props.t.state.colors[selectedColor], isEraser, lineWidth);\r\n        } catch (er) {\r\n        }\r\n    }\r\n\r\n    onMouseMove(e) {\r\n        const {drawing, selectedColor, isEraser, lineWidth} = this.state;\r\n        if (!drawing) {\r\n            return;\r\n        }\r\n        const\r\n            {canvas} = this,\r\n            canvasRect = canvas.getBoundingClientRect()\r\n        ;\r\n        this.drawLine(current.x - canvasRect.left, current.y - canvasRect.top, (e.clientX || e.touches[0].clientX) - canvasRect.left, (e.clientY || e.touches[0].clientY) - canvasRect.top, this.props.t.state.colors[selectedColor], isEraser, lineWidth);\r\n        current.x = e.clientX || e.touches[0].clientX;\r\n        current.y = e.clientY || e.touches[0].clientY;\r\n        return false;\r\n    }\r\n\r\n    drawLine(x0, y0, x1, y1, color, isEraser, lineWidth) {\r\n        try {\r\n            const\r\n                {lobbyId, t} = this.props,\r\n                {canvas, canvasContext, state} = this\r\n            ;\r\n\r\n            if (typeof color === 'object') {\r\n                color = color[lastColorIndex];\r\n                lastColorIndex += (color.length - 1) === lastColorIndex ? -lastColorIndex : 1;\r\n            }\r\n\r\n            canvasContext.beginPath();\r\n\r\n            if (isEraser) {\r\n                canvasContext.globalCompositeOperation = 'destination-out';\r\n                canvasContext.arc(x0, y0, lineWidth, 0, Math.PI * 2, false);\r\n                canvasContext.fill();\r\n            } else {\r\n                canvasContext.globalCompositeOperation = 'source-over';\r\n                canvasContext.moveTo(x0, y0);\r\n                canvasContext.lineTo(x1, y1);\r\n                canvasContext.strokeStyle = color;\r\n                canvasContext.fill();\r\n                canvasContext.lineWidth = lineWidth;\r\n                canvasContext.lineCap = canvasContext.lineJoin = 'round';\r\n                canvasContext.stroke();\r\n            }\r\n\r\n            canvasContext.closePath();\r\n\r\n            if ((this.state.isDrawer && this.props.online) && !t.state.test_game) {\r\n                this.props.t.socket.call('games.draw', {\r\n                    lobbyId,\r\n                    data: {\r\n                        x0,\r\n                        y0,\r\n                        x1,\r\n                        y1,\r\n                        color,\r\n                        isEraser,\r\n                        lineWidth\r\n                    }\r\n                });\r\n            }\r\n        } catch (e) {\r\n        }\r\n    }\r\n\r\n    throttle(callback, delay) {\r\n        var previousCall = new Date().getTime();\r\n        return function () {\r\n            const time = new Date().getTime();\r\n\r\n            if ((time - previousCall) >= delay) {\r\n                previousCall = time;\r\n                callback.apply(null, arguments);\r\n            }\r\n        };\r\n    }\r\n\r\n    render() {\r\n        let\r\n            {t, lobbyId, online, word} = this.props,\r\n            {colors, user} = t.state,\r\n            {drawer, isDrawer, text, selectedColor, time, messages, isEraser, isStroke, lineWidth} = this.state,\r\n            isDesktop = isPlatformDesktop()\r\n        ;\r\n        if (t.state.test_game) {\r\n            word = {nom: 'Жираф'};\r\n            isDrawer = true;\r\n            drawer = t.state.vk_user\r\n        }\r\n\r\n        return (\r\n            <div className='Game'>\r\n                <div style={{width: isDesktop ? 319 : '100%', alignSelf: 'flex-start'}} ref={ref => this.header = ref}>\r\n                    <div style={{display: 'flex', justifyContent: 'space-between'}}>\r\n                        <div style={{display: 'flex', alignItems: 'center'}}>\r\n                            {\r\n                                !isDrawer &&\r\n                                <Avatar size={24} shadow={false} src={drawer.photo_100}/>\r\n                            }\r\n                            <h2 style={{textAlign: 'left', marginLeft: 6}}>\r\n                                {isDrawer ? 'Задача: ' + word.nom : 'Рисует: ' + drawer.first_name}\r\n                            </h2>\r\n                        </div>\r\n                        {\r\n                            online && <h2 style={{\r\n                                textAlign: 'right',\r\n                                width: '25%',\r\n                                color: 'var(--color_secondary)',\r\n                                wordWrap: 'normal'\r\n                            }}>\r\n                                {time >= 0 ? time : 0} сек\r\n                            </h2>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div style={{display: (isDesktop && online) && 'flex'}}>\r\n                    {\r\n                        true ?\r\n\r\n                            <div className='Canvas__'>\r\n                                <div className='Canvas_Container_Clear'>\r\n                                    <canvas width={319} height={319} ref={ref => this.canvas = ref} id='canvas'/>\r\n                                </div>\r\n                                <div style={{display: !isDrawer && 'none'}} className='Canvas_Items_Container'>\r\n                                    <div className='Canvas_Colors_Container'>\r\n                                        {\r\n                                            colors.map((value, index) =>\r\n                                                <div\r\n                                                    onClick={() => {\r\n                                                        if (typeof value === 'object' && !(user.vk_donut || user.admin))\r\n                                                            return;\r\n\r\n                                                        this.setState({selectedColor: index, isEraser: false})\r\n                                                    }}\r\n                                                    className='Color'\r\n                                                    key={`Color__${index}`}\r\n                                                    style={{\r\n                                                        marginLeft: index > 0 && 8,\r\n                                                        background: typeof value === 'object' ? `conic-gradient(from 180deg at 50% 50%, ${value.join(', ')})` : value,\r\n                                                        outline: selectedColor === index && '4px solid #F3F2F2',\r\n                                                        opacity: user.lvl < (index + 1) && .25,\r\n                                                        pointerEvents: user.lvl < (index + 1) && 'none'\r\n                                                    }}\r\n                                                />\r\n                                            )\r\n                                        }\r\n                                    </div>\r\n                                    <div className='Canvas_SubItems_Container'>\r\n                                        <IconButton\r\n                                            style={{\r\n\r\n                                                background: isEraser ? '#A4A6AA' : '#F8F8F8',\r\n                                                color: !isEraser ? '#A4A6AA' : '#F8F8F8'\r\n                                            }}\r\n                                            hasHover={false} onClick={() => {\r\n                                            this.setState({isEraser: true, selectedColor: -1});\r\n                                        }}>\r\n                                            <IconErase2/>\r\n                                        </IconButton>\r\n                                        <IconButton\r\n                                            style={{\r\n                                                background: isStroke ? '#A4A6AA' : '#F8F8F8',\r\n                                                color: !isStroke ? '#A4A6AA' : '#F8F8F8'\r\n                                            }}\r\n                                            hasHover={false} onClick={() => {\r\n                                            this.setState({isStroke: !isStroke});\r\n                                        }}>\r\n                                            <IconStroke/>\r\n                                        </IconButton>\r\n                                        <IconButton\r\n                                            style={{\r\n                                                background: '#F8F8F8',\r\n                                                color: '#A4A6AA'\r\n                                            }}\r\n                                            hasHover={false} onClick={() => {\r\n                                                if (online) {\r\n                                                    t.socket.call('games.clear', {lobbyId});\r\n                                                }\r\n                                                this.canvasContext.clearRect(0, 0, 319, 319);\r\n                                            }}>\r\n                                            <Icon28ClearDataOutline width={21} height={21}/>\r\n                                        </IconButton>\r\n                                    </div>\r\n                                </div>\r\n                                <div style={{transition: 'all 200ms', height: !isStroke && 0, opacity: !isStroke && 0}}>\r\n                                    <Slider\r\n                                        step={1}\r\n                                        min={2}\r\n                                        max={20}\r\n                                        value={Number(lineWidth)}\r\n                                        onChange={(lineWidth) => this.setState({ lineWidth })}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            :\r\n\r\n                            <React.Fragment>\r\n                                <div className='Canvas_Container'>\r\n                                    <IconButton\r\n                                        style={{display: !isDrawer && 'none'}}\r\n                                        className='Icon__Clear'\r\n                                        hasHover={false}\r\n                                        onClick={() => {\r\n                                            if (online) {\r\n                                                t.socket.call('games.clear', {lobbyId});\r\n                                            }\r\n                                            this.canvasContext.clearRect(0, 0, 319, 319);\r\n                                        }}\r\n                                    >\r\n                                        <Icon20Cancel width={21} height={21} fill='#C3C3C3'/>\r\n                                    </IconButton>\r\n                                    <canvas width={319} height={319} ref={ref => this.canvas = ref} id='canvas'/>\r\n                                    <div style={{display: !isDrawer && 'none'}}>\r\n                                        <div>\r\n                                            {\r\n                                                colors.map((value, index) =>\r\n                                                    <div\r\n                                                        onClick={() => {\r\n                                                            if (typeof value === 'object' && !(user.vk_donut || user.admin))\r\n                                                                return;\r\n\r\n                                                            this.setState({selectedColor: index, isEraser: false})\r\n                                                        }}\r\n                                                        className='Color'\r\n                                                        key={`Color__${index}`}\r\n                                                        style={{\r\n                                                            marginLeft: index > 0 && 8,\r\n                                                            background: typeof value === 'object' ? `conic-gradient(from 180deg at 50% 50%, ${value.join(', ')})` : value,\r\n                                                            outline: selectedColor === index && '4px solid #F3F2F2',\r\n                                                            opacity: user.lvl < (index + 1) && .25,\r\n                                                            pointerEvents: user.lvl < (index + 1) && 'none'\r\n                                                        }}\r\n                                                    />\r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                        <div>\r\n                                            <IconButton\r\n                                                style={{\r\n                                                    height: 'auto',\r\n                                                    margin: 12,\r\n                                                    padding: 4,\r\n                                                    background: isEraser && '#F3F2F2',\r\n                                                    display: 'flex'\r\n                                                }}\r\n                                                hasHover={false} onClick={() => {\r\n                                                this.setState({isEraser: true, selectedColor: -1});\r\n                                            }}>\r\n                                                <IconErase/>\r\n                                            </IconButton>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </React.Fragment>\r\n                    }\r\n                    {\r\n                        !online &&\r\n                        <div className='Offline_Drawing__Buttons'>\r\n                            <Button\r\n                                before={<Icon16Cancel fill='var(--color_secondary)'/>}\r\n                                size='m' mode='secondary'\r\n                                onClick={() => {\r\n                                    t.back();\r\n                                }}\r\n                            >\r\n                                Отменить\r\n                            </Button>\r\n                            <Button\r\n                                style={{marginLeft: !isDesktop && 10, marginTop: isDesktop && 10}}\r\n                                before={<Icon16Done fill='var(--color_secondary)'/>}\r\n                                size='m' mode='secondary'\r\n                                onClick={async () => {\r\n                                    t.setPopout(<ScreenSpinner/>);\r\n                                    const\r\n                                        canvasData = await new Promise(resolve => {\r\n                                            setTimeout(() => {\r\n                                                this.canvas.toBlob(() => {\r\n                                                    resolve(this.canvas.toDataURL('image/png'));\r\n                                                });\r\n                                            },100);\r\n                                        }),\r\n                                        {gameId_} = t.state\r\n                                    ;\r\n                                    if (this.state.isDrawer) {\r\n                                        this.props.t.socket.call('games.savePicture', {\r\n                                            canvasData, gameId: gameId_\r\n                                        }, async r => {\r\n                                            if (r.response) {\r\n                                                t.setState({\r\n                                                    n_canvasData: canvasData,\r\n                                                    snackbar: <Snackbar onClose={() => t.setState({snackbar: null})}>\r\n                                                        Картинка сохранена\r\n                                                    </Snackbar>\r\n                                                });\r\n                                                await new Promise(resolve =>\r\n                                                    this.props.t.socket.call('games.getByDrawerId', {\r\n                                                        id: this.props.t.state.vk_user.id,\r\n                                                        limit: this.props.t.state.gamesAsDrawer.length\r\n                                                    }, async r => {\r\n                                                        await this.props.t.setState({gamesAsDrawer: r.response});\r\n                                                        resolve(true);\r\n                                                    })\r\n                                                );\r\n                                                t.forceUpdate();\r\n                                            } else {\r\n                                                t.setState({\r\n                                                    snackbar: <Snackbar onClose={() => t.setState({snackbar: null})}>\r\n                                                        Не удалось сохранить\r\n                                                    </Snackbar>\r\n                                                });\r\n                                            }\r\n                                            setTimeout(() => {\r\n                                                t.setPopout(null);\r\n                                                t.back();\r\n                                                t.forceUpdate();\r\n                                            }, 1000);\r\n                                        });\r\n                                    }\r\n                                }}\r\n                            >\r\n                                Сохранить\r\n                            </Button>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        online &&\r\n                        <div className='Comments_Container'>\r\n                            <div className='Comments' ref={ref => this.comments = ref}>\r\n                                {\r\n                                    messages.map((value, index) =>\r\n                                        <div\r\n                                            className='Comment' key={`div__${index}`} style={{\r\n                                            marginTop: index > 0 && 6,\r\n                                            cursor: value.id === t.state.vk_user.id && 'default'\r\n                                        }}\r\n                                            onClick={() => {\r\n                                                if (value.id !== t.state.vk_user.id && value.message.replaceAll('*', '').length > 0) {\r\n                                                    t.setPopout(<ActionSheet\r\n                                                        onClose={() => t.setPopout(null)}\r\n                                                        iosCloseItem={<ActionSheetItem\r\n                                                            autoclose mode='cancel'>\r\n                                                            Отменить\r\n                                                        </ActionSheetItem>}\r\n                                                    >\r\n                                                        <ActionSheetItem\r\n                                                            autoclose mode='destructive'\r\n                                                            onClick={() => {\r\n                                                                t.socket.call('games.reportWord', {message: value.message});\r\n                                                                t.setState({\r\n                                                                    snackbar: <Snackbar\r\n                                                                        onClose={() => t.setState({snackbar: null})}>\r\n                                                                        Жалоба отправлена\r\n                                                                    </Snackbar>\r\n                                                                });\r\n                                                            }}\r\n                                                        >\r\n                                                            Пожаловаться\r\n                                                        </ActionSheetItem>\r\n                                                    </ActionSheet>)\r\n                                                }\r\n                                            }}\r\n                                        >\r\n                                            <Avatar size={32} shadow={false} src={value.photo_100}/>\r\n                                            <div>\r\n                                                <div>{value.first_name} {value.last_name}</div>\r\n                                                <div>{value.message}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            </div>\r\n                            {\r\n                                !isDrawer &&\r\n                                <div className='Comment_Input'>\r\n                                    <Input\r\n                                        autoFocus={true}\r\n                                        id='inputComment'\r\n                                        value={text}\r\n                                        onChange={(e) => {\r\n                                            if (e.currentTarget.value.length <= 120) {\r\n                                                this.setState({text: e.currentTarget.value});\r\n                                            }\r\n                                        }}\r\n                                        placeholder='Есть догадки?'\r\n                                        onKeyDown={(e) => {\r\n                                            if (e.key === 'Enter' && text.trim().length > 0) {\r\n                                                console.log(`Send message (key) (lobbyId = ${lobbyId}): ${text}`);\r\n                                                t.socket.call('games.message', {lobbyId, message: text});\r\n                                                this.setState({text: ''});\r\n                                            }\r\n                                        }}\r\n                                        onFocus={() => {\r\n                                            setTimeout(() => {\r\n                                                document.getElementById('inputComment').scrollIntoView(false);\r\n                                            }, 100);\r\n                                        }}\r\n                                    />\r\n                                    <WriteBarIcon\r\n                                        style={{display: text.length === 0 && 'none'}} mode='send'\r\n                                        onClick={() => {\r\n                                            if (text.trim().length > 0) {\r\n                                                console.log(`Send message (btn) (lobbyId = ${lobbyId}): ${text}`);\r\n                                                t.socket.call('games.message', {lobbyId, message: text});\r\n                                            } else {\r\n                                                console.log(`Message is empty: ${text}`);\r\n                                            }\r\n                                            this.setState({text: ''});\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nGame.defaultProps = {};\r\n\r\nGame.propTypes = {\r\n    t: PropTypes.object,\r\n    drawerId: PropTypes.number.isRequired,\r\n    lobbyId: PropTypes.number.isRequired,\r\n    online: PropTypes.bool,\r\n    word: PropTypes.object\r\n};\r\n\r\nexport default Game;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Avatar, Button, IconButton, Input, ScreenSpinner, Snackbar, WriteBarIcon} from \"@vkontakte/vkui\";\r\nimport {Icon24Like, Icon28ChevronRightOutline, Icon28ReportOutline, Icon28ShareOutline} from \"@vkontakte/icons\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {adAppApi, decOfNum, getSrcUrl, getUrlParams} from \"../../js/utils\";\r\nimport {vk_local_users, getVKUsers} from \"../../js/drawerapp/utils\";\r\n\r\nexport class Result extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const {drawerId, winnerId, word, t} = props;\r\n\r\n        this.state = {\r\n            isDrawer: drawerId === t.state.vk_user.id,\r\n            isWinner: winnerId === t.state.vk_user.id,\r\n            winnerId: winnerId,\r\n            drawerId: drawerId,\r\n            word\r\n        };\r\n\r\n        this.shareStory = this.shareStory.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    shareStory() {\r\n        this.props.t.setPopout(<ScreenSpinner/>);\r\n        const\r\n            {createCanvas, loadImage} = require('canvas'),\r\n            {isDrawer, winnerId, isWinner} = this.state,\r\n            type = isDrawer ? 1 : isWinner ? 2 : 3\r\n        ;\r\n\r\n        loadImage(getSrcUrl(require(`../../assets/drawing/stories/Story${type}.png`))).then(async background => {\r\n            const\r\n                canvas = createCanvas(background.width, background.height),\r\n                ctx = canvas.getContext('2d'),\r\n                img = new Image(),\r\n                {word} = this.state,\r\n                title = word.nom.substring(0, 1).toUpperCase() + word.nom.substring(1)\r\n            ;\r\n            ctx.drawImage(background, 0, 0);\r\n\r\n            if (type === 1) {\r\n                ctx.font = '64px TT Commons Demibold';\r\n                ctx.textAlign = 'center';\r\n                ctx.fillStyle = '#616161';\r\n                ctx.fillText(title, 539, 708 + 13 + 489);\r\n            }\r\n\r\n            img.src = this.props.t.state.canvas_;\r\n            ctx.drawImage(img, 198, 618, 683, 683);\r\n\r\n            try {\r\n                await bridge.send('VKWebAppShowStoryBox', {\r\n                    background_type: 'image',\r\n                    blob: canvas.toDataURL('image/png'),\r\n                    attachment: {\r\n                        url: 'https://vk.com/app' + getUrlParams().vk_app_id,\r\n                        text: 'go_to',\r\n                        type: 'url'\r\n                    }\r\n                });\r\n                this.props.t.socket.call('games.share', {gameId: this.props.gameId});\r\n                adAppApi('stats.shareStory');\r\n            } catch (e) {\r\n            }\r\n            this.props.t.updateData();\r\n            this.props.t.setPopout(null);\r\n            this.props.t.setActivePanel('main');\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t, gameId} = this.props,\r\n            {vk_user, isNotApp} = t.state,\r\n            {isDrawer, isWinner, winnerId, drawerId, word, isLiked} = this.state,\r\n            time = Math.round((t.state.gameEnd - t.state.gameStart) / 1000)\r\n        ;\r\n\r\n        return (\r\n            <div className='Result'>\r\n                {\r\n                    isDrawer ?\r\n                        winnerId !== 0 ?\r\n                            <React.Fragment>\r\n                                <h1>Ты молодец!</h1>\r\n                                <p>Твою картину угадали за {decOfNum(time || 0, ['секунду', 'секунды', 'секунд'])}</p>\r\n                            </React.Fragment>\r\n                            :\r\n                            <React.Fragment>\r\n                                <h1>Время вышло</h1>\r\n                                <p>Никто не угадал, что нарисовано на твоей картине</p>\r\n                            </React.Fragment>\r\n                        :\r\n                        winnerId !== 0 ?\r\n                            isWinner ?\r\n                                <React.Fragment>\r\n                                    <h1>Ты молодец!</h1>\r\n                                    <p>Ты перв{vk_user.sex === 1 ? 'ая' : 'ый'} угадал{vk_user.sex === 1 && 'а'},\r\n                                        что {vk_local_users[drawerId].first_name} нарисовал{vk_local_users[drawerId].sex === 1 && 'а'} на\r\n                                        картине</p>\r\n                                </React.Fragment>\r\n                                :\r\n                                <React.Fragment>\r\n                                    <h1>Игра окончена</h1>\r\n                                    {\r\n                                        vk_local_users[winnerId] &&\r\n                                        <p>\r\n                                            {vk_local_users[winnerId].first_name} был{vk_local_users[drawerId].sex === 1 && 'а'} первым,\r\n                                            кто угадал, что изображено на картине\r\n                                        </p>\r\n                                    }\r\n                                </React.Fragment>\r\n                            :\r\n                            <React.Fragment>\r\n                                <h1>Время вышло</h1>\r\n                                <p>Никто не угадал, что нарисовано на картине</p>\r\n                            </React.Fragment>\r\n                }\r\n                <div className='Canvas_Container'>\r\n                    {\r\n                        !isDrawer &&\r\n                        <Icon28ReportOutline className='Report' onClick={() => {\r\n                            t.setPopout(<ScreenSpinner/>);\r\n                            t.socket.call('games.report', {game_id: gameId}, r => {\r\n                                if (r.response) {\r\n                                    t.setState({\r\n                                        snackbar: <Snackbar onClose={() => t.setState({snackbar: null})}>\r\n                                            Жалоба отправлена\r\n                                        </Snackbar>\r\n                                    });\r\n                                } else {\r\n                                    t.setState({\r\n                                        snackbar: <Snackbar onClose={() => t.setState({snackbar: null})}>\r\n                                            Жалоба уже отправлена\r\n                                        </Snackbar>\r\n                                    });\r\n                                }\r\n                                t.setPopout(null);\r\n                            });\r\n                        }}/>\r\n                    }\r\n                    <Icon24Like fill={isLiked ? '#F16384' : 'var(--color_secondary)'} className='Like' onClick={() => {\r\n                        t.setPopout(<ScreenSpinner/>);\r\n                        t.socket.call('pictures.like', {game_id: gameId}, r => {\r\n                            this.setState({isLiked: r.response.isLiked});\r\n                            t.setPopout(null);\r\n                        });\r\n                    }}/>\r\n                    {\r\n                        (word && word.nom) &&\r\n                        <h2>{word.nom.substring(0, 1).toUpperCase() + word.nom.substring(1)}</h2>\r\n                    }\r\n                    <img alt='canvas' src={t.state.canvas_}/>\r\n                    <Button\r\n                        before={<Icon28ShareOutline width={16} height={16}/>}\r\n                        size='m' mode='gradient'\r\n                        onClick={() => {\r\n                            this.shareStory();\r\n                        }}\r\n                    >\r\n                        Поделиться\r\n                    </Button>\r\n                </div>\r\n                <Button\r\n                    size='m' mode='secondary'\r\n                    onClick={async () => {\r\n                        const\r\n                            {socket, state} = this.props.t,\r\n                            {subGameInfo} = state\r\n                        ;\r\n                        t.setPopout(<ScreenSpinner/>);\r\n                        try {\r\n                            if (!isNotApp) await bridge.send('VKWebAppShowNativeAds', {ad_format: 'interstitial'});\r\n                        } catch (e) {\r\n                        }\r\n                        t.setPopout(null);\r\n                        t.updateData();\r\n                        if (subGameInfo.friendly) {\r\n                            if (subGameInfo.owner_id === t.state.user.id) {\r\n                                socket.call('friends.createLobby');\r\n                                await t.setState({friend_lobby: {owner_id: t.state.user.id, members: []}});\r\n                                t.setActivePanel('friend_lobby', ['main', 'friends']);\r\n                            } else {\r\n                                socket.call('friends.joinLobby', {owner_id: subGameInfo.owner_id}, async r => {\r\n                                    if (r.response) {\r\n                                        await getVKUsers(r.response.members);\r\n                                        await t.setState({friend_lobby: r.response});\r\n                                        t.setActivePanel('friend_lobby', ['main', 'friends']);\r\n                                    } else {\r\n                                        t.setActivePanel('friends', ['main']);\r\n                                    }\r\n                                });\r\n                            }\r\n                        } else {\r\n                            t.setActivePanel('main');\r\n                        }\r\n                    }}\r\n                >\r\n                    На главную\r\n                </Button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nResult.defaultProps = {};\r\n\r\nResult.propTypes = {\r\n    t: PropTypes.object,\r\n    drawerId: PropTypes.number,\r\n    winnerId: PropTypes.number,\r\n    word: PropTypes.object,\r\n    gameId: PropTypes.number\r\n};\r\n\r\nexport default Result;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport {Button, PanelHeader, PanelHeaderBack} from \"@vkontakte/vkui\";\r\n\r\nexport class Placeholder extends PureComponent {\r\n    render() {\r\n        const\r\n            {t, icon, title, description, buttonText, buttonIcon, buttonOnClick, buttonMode, buttonBack} = this.props\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                {buttonBack && false && <PanelHeader className='PanelHeader__Placeholder' separator={false}\r\n                                                     left={<PanelHeaderBack onClick={() => t.back()}/>}/>}\r\n                <div className='Placeholder'>\r\n                    {React.cloneElement(icon, {className: 'Placeholder__Icon'})}\r\n                    <div>\r\n                        <h1>{title}</h1>\r\n                        <p>{description}</p>\r\n                        <div className={buttonBack ? 'TwoButtons' : 'OneButton'}>\r\n                            {\r\n                                buttonText &&\r\n                                <Button\r\n                                    after={buttonIcon}\r\n                                    size='m' mode={buttonMode || 'gradient'}\r\n                                    onClick={buttonOnClick}\r\n                                >{buttonText}</Button>\r\n                            }\r\n                            {\r\n                                buttonBack &&\r\n                                <Button\r\n                                    style={{marginLeft: 8}}\r\n                                    size='m' mode='secondary'\r\n                                    onClick={() => t.back()}\r\n                                >Назад</Button>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nPlaceholder.defaultProps = {};\r\n\r\nPlaceholder.propTypes = {\r\n    icon: PropTypes.object.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    description: PropTypes.string,\r\n    buttonText: PropTypes.string,\r\n    buttonIcon: PropTypes.object,\r\n    buttonOnClick: PropTypes.func,\r\n    buttonMode: PropTypes.string,\r\n    buttonBack: PropTypes.bool\r\n};\r\n\r\nexport default Placeholder;","import openSocket from \"socket.io-client\";\r\n\r\nclass Socket {\r\n    constructor() {\r\n        this.onConnect = this.onConnect.bind(this);\r\n        this.onDisconnect = this.onDisconnect.bind(this);\r\n        this.onConnectionError = this.onConnectionError.bind(this);\r\n        this.getSocket = this.getSocket.bind(this);\r\n    }\r\n\r\n    onConnect(callback) {\r\n        this.socket.on('connect', callback);\r\n    }\r\n\r\n    onDisconnect(callback) {\r\n        this.socket.on('disconnect', callback);\r\n    }\r\n\r\n    onConnectionError(callback) {\r\n        this.socket.on('connect_error', callback);\r\n    }\r\n\r\n    call(method, params, callback) {\r\n        this.socket.emit(method, params, callback);\r\n    }\r\n\r\n    subscribe(event, callback) {\r\n        this.socket.on(event, callback);\r\n    }\r\n\r\n    unsubscribe(...events) {\r\n        for (const event of events) {\r\n            this.socket.removeAllListeners(event);\r\n        }\r\n    }\r\n\r\n    connect(url, query) {\r\n        if (this.socket) {\r\n            this.socket.connect();\r\n        } else {\r\n            this.socket = openSocket.connect(url, {\r\n                path: '/socket.io',\r\n                query,\r\n                transports: ['websocket', 'polling', 'flashsocket'],\r\n                reconnection: false\r\n            });\r\n        }\r\n    }\r\n\r\n    getSocket() {\r\n        return this.socket;\r\n    }\r\n}\r\n\r\nexport default Socket;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Avatar,\r\n    HorizontalCell, HorizontalScroll,\r\n    PanelHeader,\r\n    PanelHeaderBack,\r\n    PromoBanner,\r\n    ScreenSpinner,\r\n    Snackbar\r\n} from \"@vkontakte/vkui\";\r\nimport {decOfNum, getBase64Image, getSrcUrl, getUrlParams, isPlatformDesktop, shortIntegers} from \"../../js/utils\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {Icon24Like} from \"@vkontakte/icons\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\n\r\nconst isDesktop = isPlatformDesktop();\r\n\r\nexport class Likes extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            offset: props.t.state.randomGamesLike.length,\r\n            limit: 10,\r\n            canGetMore: true,\r\n            prevY: 0\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.observer = new IntersectionObserver(\r\n            this.handleObserver.bind(this),\r\n            {\r\n                root: null,\r\n                rootMargin: '0px',\r\n                threshold: 1.0\r\n            }\r\n        );\r\n        this.observer.observe(this.loadingRef);\r\n    }\r\n\r\n    handleObserver(entities, observer) {\r\n        const\r\n            {y} = entities[0].boundingClientRect,\r\n            {t} = this.props,\r\n            {prevY, offset, limit, canGetMore} = this.state\r\n        ;\r\n        if ((prevY === 0 || prevY > y) && canGetMore) {\r\n            t.socket.call('pictures.getRandomLikes', {offset, limit}, async r => {\r\n                await getVKUsers(r.response.map(value => value.drawerId));\r\n                t.setState({randomGamesLike: [...t.state.randomGamesLike, ...r.response]});\r\n                this.setState({canGetMore: r.response.length > 0});\r\n                this.forceUpdate();\r\n            });\r\n            this.setState({offset: offset + 10});\r\n        }\r\n        this.setState({prevY: y});\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            {banners} = t.state,\r\n            isDesktop = isPlatformDesktop(),\r\n            {randomGamesLike, topLikes} = t.state\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                />\r\n                <div className='Likes'>\r\n                    {\r\n                        topLikes &&\r\n                        <React.Fragment>\r\n                            <p>\r\n                                Лучшие картины:\r\n                            </p>\r\n                            {\r\n                                true ?\r\n                                    <HorizontalScroll\r\n                                        showArrows\r\n                                        getScrollToLeft={(i) => i - 92 * 2}\r\n                                        getScrollToRight={(i) => i + 92 * 2}\r\n                                    >\r\n                                        <div style={{display: 'flex'}} className='Pictures_List__'>\r\n                                            {\r\n                                                topLikes.map((value, index) =>\r\n                                                    <div key={`div__${index}`} onClick={async () => {\r\n                                                        await t.setState({\r\n                                                            like_currentPictureSelected: index,\r\n                                                            like_method: '',\r\n                                                            like_param: 'topLikes'\r\n                                                        });\r\n                                                        t.go('picture_info');\r\n                                                    }}>\r\n                                                        <img alt='img' src={value['Picture.url']}/>\r\n                                                        <div>\r\n                                                            {shortIntegers(value['Picture.likes'])}<Icon24Like width={10} height={10} style={{marginLeft: 4}}/>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </HorizontalScroll>\r\n                                    :\r\n                                    <div className='Pictures_List'>\r\n                                        {\r\n                                            topLikes.slice(0, isDesktop ? 4 : 3).map((value, index) =>\r\n                                                <div key={`div__${index}`} onClick={async () => {\r\n                                                    await t.setState({\r\n                                                        like_currentPictureSelected: index,\r\n                                                        like_method: '',\r\n                                                        like_param: 'topLikes'\r\n                                                    });\r\n                                                    t.go('picture_info');\r\n                                                }}>\r\n                                                    <img alt='img' src={value['Picture.url']}/>\r\n                                                    <div>\r\n                                                        {shortIntegers(value['Picture.likes'])}<Icon24Like width={10} height={10} style={{marginLeft: 4}}/>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                    </div>\r\n                            }\r\n                        </React.Fragment>\r\n                    }\r\n                    {\r\n                        randomGamesLike.length > 0 &&\r\n                        <React.Fragment>\r\n                            <p style={{margin: '24px 0 0 0'}}>\r\n                                Выберите нужную картину, чтобы посмотреть информацию и оценить её:\r\n                            </p>\r\n                            <div style={{marginTop: 18, gridGap: isDesktop ? 8 : 15, paddingBottom: banners[2] && 140}} className='Images_Grid'>\r\n                                {\r\n                                    randomGamesLike.map((value, index) =>\r\n                                        <div key={`Image_${index}`} onClick={async () => {\r\n                                            await t.setState({\r\n                                                like_currentPictureSelected: index,\r\n                                                like_method: 'pictures.getRandomLikes',\r\n                                                like_param: 'randomGamesLike',\r\n                                                like_user_id: t.state.vk_user.id\r\n                                            });\r\n                                            t.go('picture_info');\r\n                                        }}>\r\n                                            <img alt='img' src={value['Picture.url']}/>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            </div>\r\n                            {\r\n                                banners[2] &&\r\n                                <PromoBanner\r\n                                    bannerData={banners[2]}\r\n                                    onClose={async () => {\r\n                                        banners[2] = false;\r\n                                        await t.setState({banners});\r\n                                        this.forceUpdate();\r\n                                    }}\r\n                                />\r\n                            }\r\n                        </React.Fragment>\r\n                    }\r\n                    <div ref={ref => this.loadingRef = ref}/>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nLikes.defaultProps = {};\r\n\r\nLikes.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Likes;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    IconButton,\r\n    Input,\r\n    PanelHeader,\r\n    PanelHeaderBack, PromoBanner,\r\n    ScreenSpinner,\r\n    Snackbar,\r\n    WriteBarIcon,\r\n    ActionSheet,\r\n    ActionSheetItem\r\n} from \"@vkontakte/vkui\";\r\nimport {\r\n    Icon16Chevron, Icon16Recent,\r\n    Icon24Like,\r\n    Icon28ChevronRightOutline, Icon28LinkCircleOutline,\r\n    Icon28ReportOutline,\r\n    Icon28ShareOutline, Icon28StoryCircleFillViolet, Icon28UserTagOutline, Icon28WriteOutline\r\n} from \"@vkontakte/icons\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {\r\n    adAppApi,\r\n    decOfNum,\r\n    getBase64Image,\r\n    getSrcUrl,\r\n    getUrlParams,\r\n    isPlatformDesktop, isPlatformIOS,\r\n    openUrl,\r\n    shortIntegers\r\n} from \"../../js/utils\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\n\r\nconst isDesktop = isPlatformDesktop();\r\n\r\nexport class PictureInfo extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            canGetMore: true\r\n        };\r\n\r\n        this.shareStory1 = this.shareStory1.bind(this);\r\n        this.shareStory2 = this.shareStory2.bind(this);\r\n\r\n        const\r\n            {t, param, current} = this.props,\r\n            {socket, state} = t,\r\n            list = state[param]\r\n        ;\r\n        socket.call('pictures.isLiked', {game_id: list[current].id}, r => {\r\n            this.setState({isLiked: r.response});\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    shareStory1(gameId, pic) {\r\n        this.props.t.setPopout(<ScreenSpinner/>);\r\n        try {\r\n            const\r\n                {createCanvas, loadImage} = require('canvas')\r\n            ;\r\n\r\n            loadImage(getSrcUrl(require(`../../assets/drawing/stories/Story3.png`))).then(async background => {\r\n                const\r\n                    canvas = createCanvas(background.width, background.height),\r\n                    ctx = canvas.getContext('2d'),\r\n                    canvasData = await getBase64Image(pic)\r\n                ;\r\n                ctx.drawImage(background, 0, 0);\r\n                ctx.drawImage(await loadImage(canvasData), 198, 618, 683, 683);\r\n\r\n                try {\r\n                    await bridge.send('VKWebAppShowStoryBox', {\r\n                        background_type: 'image',\r\n                        blob: canvas.toDataURL('image/png'),\r\n                        attachment: {\r\n                            url: `https://vk.com/app${getUrlParams().vk_app_id}#picture${gameId}`,\r\n                            text: 'go_to',\r\n                            type: 'url'\r\n                        }\r\n                    });\r\n                    this.props.t.socket.call('games.share', {gameId});\r\n                    adAppApi('stats.shareStory');\r\n                } catch (e) {\r\n                }\r\n                this.props.t.setPopout(null);\r\n            });\r\n        } catch (e) {\r\n            console.error(e);\r\n            this.props.t.setPopout(null);\r\n            this.props.t.setState({\r\n                snackbar: <Snackbar onClose={() => this.props.t.setState({snackbar: null})}>\r\n                    Произошла ошибка\r\n                </Snackbar>\r\n            });\r\n        }\r\n    }\r\n\r\n    shareStory2(word, gameId, pic) {\r\n        try {\r\n            this.props.t.setPopout(<ScreenSpinner/>);\r\n            const\r\n                {createCanvas, loadImage} = require('canvas')\r\n            ;\r\n\r\n            loadImage(getSrcUrl(require(`../../assets/drawing/stories/Story1.png`))).then(async background => {\r\n                try {\r\n                    const\r\n                        canvas = createCanvas(background.width, background.height),\r\n                        ctx = canvas.getContext('2d'),\r\n                        canvasData = await getBase64Image(pic),\r\n                        title = word.substring(0, 1).toUpperCase() + word.substring(1)\r\n                    ;\r\n                    ctx.drawImage(background, 0, 0);\r\n\r\n                    ctx.font = '64px TT Commons Demibold';\r\n                    ctx.textAlign = 'center';\r\n                    ctx.fillStyle = '#616161';\r\n                    ctx.fillText(title, 539, 708 + 13 + 489);\r\n\r\n                    ctx.drawImage(await loadImage(canvasData), 198, 618, 683, 683);\r\n\r\n                    await bridge.send('VKWebAppShowStoryBox', {\r\n                        background_type: 'image',\r\n                        blob: canvas.toDataURL('image/png'),\r\n                        attachment: {\r\n                            url: `https://vk.com/app${getUrlParams().vk_app_id}#picture${gameId}`,\r\n                            text: 'go_to',\r\n                            type: 'url'\r\n                        }\r\n                    });\r\n                    this.props.t.socket.call('games.share', {gameId});\r\n                    adAppApi('stats.shareStory');\r\n                } catch (e) {\r\n                    console.error(e);\r\n                    this.props.t.setState({\r\n                        snackbar: <Snackbar onClose={() => this.props.t.setState({snackbar: null})}>\r\n                            Произошла ошибка\r\n                        </Snackbar>\r\n                    });\r\n                }\r\n                this.props.t.setPopout(null);\r\n            });\r\n        } catch (e) {\r\n            console.error(e);\r\n            this.props.t.setPopout(null);\r\n            this.props.t.setState({\r\n                snackbar: <Snackbar onClose={() => this.props.t.setState({snackbar: null})}>\r\n                    Произошла ошибка\r\n                </Snackbar>\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t, current, method, param, user_id} = this.props,\r\n            {n_canvasData, banners} = t.state,\r\n            list = t.state[param],\r\n            game = list[current],\r\n            {isLiked, canGetMore} = this.state,\r\n            needButtonResumeDraw = game.drawerId === t.state.vk_user.id,\r\n            ButtonResumeDraw = needButtonResumeDraw && (<Button\r\n                style={{\r\n                    marginTop: isDesktop ? 10 : 16\r\n                }}\r\n                className='ButtonResumeDraw'\r\n                before={<Icon28WriteOutline width={16} height={16}/>}\r\n                size='m' mode='gradient' stretched\r\n                onClick={async () => {\r\n                    const {admin, vk_donut} = t.state.user;\r\n                    if (admin || vk_donut) {\r\n                        await t.setState({\r\n                            isOnlineDrawing: false,\r\n                            word: {nom: game['Word.nom']},\r\n                            pictureUrl_: game['Picture.url'],\r\n                            gameId_: game.id\r\n                        });\r\n                        t.go('game');\r\n                    } else {\r\n                        if (isPlatformIOS()) {\r\n                            t.go('vk_donut_ios');\r\n                        } else {\r\n                            t.go('vk_donut');\r\n                        }\r\n                    }\r\n                }}\r\n            >\r\n                Дорисовать\r\n            </Button>)\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                />\r\n                <div className='PictureInfo'>\r\n                    <div className='Canvas_Container'>\r\n                        <h2>{(game['Word.nom'] && game['Word.nom'].substring(0, 1).toUpperCase()) + (game['Word.nom'] && game['Word.nom'].substring(1))}</h2>\r\n                        <img alt='canvas' src={n_canvasData || game['Picture.url']}/>\r\n                        <div className='Actions_Container'>\r\n                            <div className='PictureTime'>\r\n                                {Math.round((game.endTime - game.startTime) / 1000)} с.\r\n                            </div>\r\n                            <div\r\n                                style={isLiked ? {color: '#F9F9F9', background: '#F16384'} : {}} className='LikeButton'\r\n                                onClick={() => {\r\n                                    t.setPopout(<ScreenSpinner/>);\r\n                                    t.socket.call('pictures.like', {game_id: game.id}, r => {\r\n                                        if (r.response) {\r\n                                            list[current] = {...game, ['Picture.likes']: r.response.likes};\r\n                                            t.setState({like_picturesList: list});\r\n                                            this.setState({isLiked: r.response.isLiked});\r\n                                        }\r\n                                        t.setPopout(null);\r\n                                    });\r\n                                }}>\r\n                                {shortIntegers(game['Picture.likes'])} <Icon24Like style={{marginLeft: 4}}/>\r\n                            </div>\r\n                            <div className='ReportButton' onClick={() => {\r\n                                t.setPopout(<ScreenSpinner/>);\r\n                                t.socket.call('games.report', {game_id: game.id}, r => {\r\n                                    if (r.response) {\r\n                                        t.setState({\r\n                                            snackbar: <Snackbar onClose={() => t.setState({snackbar: null})}>\r\n                                                Жалоба отправлена\r\n                                            </Snackbar>\r\n                                        });\r\n                                    } else {\r\n                                        t.setState({\r\n                                            snackbar: <Snackbar onClose={() => t.setState({snackbar: null})}>\r\n                                                Жалоба уже отправлена\r\n                                            </Snackbar>\r\n                                        });\r\n                                    }\r\n                                    t.setPopout(null);\r\n                                });\r\n                            }}>\r\n                                <Icon28ReportOutline width={16} height={16}/>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='Author_Container' onClick={() => {\r\n                        t.setPopout(<ScreenSpinner/>);\r\n                        t.socket.call('users.getById', {id: game.drawerId}, async r => {\r\n                            await t.setState({\r\n                                author: r.response\r\n                            });\r\n                            t.socket.call('games.getByDrawerId', {id: game.drawerId}, async r => {\r\n                                await t.setState({\r\n                                    author_works: r.response\r\n                                });\r\n                                t.go('author');\r\n                                t.setPopout(null);\r\n                            });\r\n                        });\r\n                    }}>\r\n                        <div>Автор</div>\r\n                        <div>\r\n                            <Avatar shadow={false} size={36} src={vk_local_users[game.drawerId].photo_100}/>\r\n                            <div>{vk_local_users[game.drawerId].first_name} {vk_local_users[game.drawerId].last_name}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='Actions_Container'>\r\n                        <Button\r\n                            before={<Icon28ShareOutline width={16} height={16}/>}\r\n                            size='m' mode={needButtonResumeDraw ? 'secondary' : 'gradient'}\r\n                            onClick={() => {\r\n                                t.setPopout(\r\n                                    <ActionSheet\r\n                                        onClose={() => t.setPopout(null)}\r\n                                        iosCloseItem={\r\n                                            <ActionSheetItem autoclose mode='cancel'>\r\n                                                Отменить\r\n                                            </ActionSheetItem>\r\n                                        }\r\n                                    >\r\n                                        <ActionSheetItem\r\n                                            autoclose\r\n                                            before={<Icon28StoryCircleFillViolet />}\r\n                                            onClick={() => {\r\n                                                if (game.drawerId !== t.state.vk_user.id) {\r\n                                                    this.shareStory1(game.id, game['Picture.url']);\r\n                                                } else {\r\n                                                    this.shareStory2(game['Word.nom'], game.id, game['Picture.url']);\r\n                                                }\r\n                                            }}\r\n                                        >\r\n                                            Поделиться в истории\r\n                                        </ActionSheetItem>\r\n                                        <ActionSheetItem\r\n                                            autoclose\r\n                                            before={<Icon28LinkCircleOutline />}\r\n                                            onClick={() => {\r\n                                                bridge.send('VKWebAppCopyText', {text: `https://vk.com/app${getUrlParams().vk_app_id}#picture${game.id}`});\r\n                                                t.setState({\r\n                                                    snackbar: <Snackbar onClose={() => this.props.t.setState({snackbar: null})}>\r\n                                                        Ссылка скопирована\r\n                                                    </Snackbar>\r\n                                                });\r\n                                            }}\r\n                                        >\r\n                                            Скопировать ссылку на картину\r\n                                        </ActionSheetItem>\r\n                                        <ActionSheetItem\r\n                                            autoclose\r\n                                            before={<Icon28UserTagOutline />}\r\n                                            onClick={() => {\r\n                                                bridge.send('VKWebAppCopyText', {text: `https://vk.com/app${getUrlParams().vk_app_id}#author${game.drawerId}`});\r\n                                                t.setState({\r\n                                                    snackbar: <Snackbar onClose={() => this.props.t.setState({snackbar: null})}>\r\n                                                        Ссылка скопирована\r\n                                                    </Snackbar>\r\n                                                });\r\n                                            }}\r\n                                        >\r\n                                            Скопировать ссылку на автора\r\n                                        </ActionSheetItem>\r\n                                    </ActionSheet>\r\n                                );\r\n                            }}\r\n                        >\r\n                            Поделиться\r\n                        </Button>\r\n                        <Button\r\n                            style={{marginTop: isDesktop && 10}}\r\n                            disabled={!canGetMore}\r\n                            after={<Icon16Chevron/>}\r\n                            size='m' mode='secondary'\r\n                            onClick={() => {\r\n                                if ((current + 1) === (list.length - 1)) {\r\n                                    if (method && method.length > 0) {\r\n                                        t.setPopout(<ScreenSpinner/>);\r\n                                        t.socket.call(method, {\r\n                                            offset: t.state[param].length,\r\n                                            limit: 10,\r\n                                            id: user_id\r\n                                        }, async r => {\r\n                                            if (r.response.length > 0) {\r\n                                                await getVKUsers(r.response.map(value => value.drawerId));\r\n                                                await t.setState({[param]: [...t.state[param], ...r.response]});\r\n                                                t.socket.call('pictures.isLiked', {game_id: r.response[0].id}, r => {\r\n                                                    this.setState({isLiked: r.response});\r\n                                                });\r\n                                                t.setState({\r\n                                                    like_currentPictureSelected: current + 1,\r\n                                                    n_canvasData: undefined\r\n                                                });\r\n                                            }\r\n                                            this.setState({canGetMore: r.response.length > 0});\r\n                                            t.setPopout(null);\r\n                                        });\r\n                                    } else {\r\n                                        this.setState({canGetMore: false});\r\n                                    }\r\n                                } else {\r\n                                    t.socket.call('pictures.isLiked', {game_id: list[current + 1].id}, r => {\r\n                                        this.setState({isLiked: r.response});\r\n                                    });\r\n                                    t.setState({like_currentPictureSelected: current + 1, n_canvasData: undefined});\r\n                                }\r\n                            }}\r\n                        >\r\n                            Дальше\r\n                        </Button>\r\n                        {\r\n                            (needButtonResumeDraw && isDesktop) && ButtonResumeDraw\r\n                        }\r\n                    </div>\r\n                    {\r\n                        (needButtonResumeDraw && !isDesktop) && ButtonResumeDraw\r\n                    }\r\n                    {\r\n                        banners[8] &&\r\n                        <PromoBanner\r\n                            bannerData={banners[8]}\r\n                            onClose={async () => {\r\n                                banners[8] = false;\r\n                                await t.setState({banners});\r\n                                this.forceUpdate();\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nPictureInfo.defaultProps = {};\r\n\r\nPictureInfo.propTypes = {\r\n    t: PropTypes.object,\r\n    current: PropTypes.number,\r\n    method: PropTypes.string,\r\n    param: PropTypes.string,\r\n    user_id: PropTypes.number\r\n};\r\n\r\nexport default PictureInfo;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Avatar, Div, PanelHeader, PanelHeaderBack, PromoBanner, ScreenSpinner, Snackbar, Text} from \"@vkontakte/vkui\";\r\nimport {getBase64Image, getSrcUrl, getUrlParams, isPlatformDesktop} from \"../../js/utils\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\nimport {Dropdown} from \"@vkontakte/vkui/dist/unstable\";\r\n\r\nexport class Author extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            offset: props.t.state.author_works.length,\r\n            limit: 10,\r\n            canGetMore: true,\r\n            prevY: 0\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.observer = new IntersectionObserver(\r\n            this.handleObserver.bind(this),\r\n            {\r\n                root: null,\r\n                rootMargin: '0px',\r\n                threshold: 1.0\r\n            }\r\n        );\r\n        this.observer.observe(this.loadingRef);\r\n    }\r\n\r\n    handleObserver(entities, observer) {\r\n        const\r\n            {y} = entities[0].boundingClientRect,\r\n            {t} = this.props,\r\n            {prevY, offset, limit, canGetMore} = this.state\r\n        ;\r\n        if ((prevY === 0 || prevY > y) && canGetMore) {\r\n            t.socket.call('games.getByDrawerId', {id: t.state.author.id, offset, limit}, async r => {\r\n                t.setState({author_works: [...t.state.author_works, ...r.response]});\r\n                this.setState({canGetMore: r.response.length > 0});\r\n                this.forceUpdate();\r\n            });\r\n            this.setState({offset: offset + 10});\r\n        }\r\n        this.setState({prevY: y});\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            {state, _tags} = t,\r\n            isDesktop = isPlatformDesktop(),\r\n            {author, author_works, banners} = state\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                />\r\n                <div className='Author'>\r\n                    <div className='User_Header'>\r\n                        <Avatar src={vk_local_users[author.id].photo_100} size={48} shadow={false}/>\r\n                        <div className='UserTags'>\r\n                            {\r\n                                _tags().map(value =>\r\n                                        author[value[0]] && <Dropdown\r\n                                            action='hover'\r\n                                            content={\r\n                                                <Div>\r\n                                                    <Text>{value[2]}</Text>\r\n                                                </Div>\r\n                                            }\r\n                                        >\r\n                                            {React.cloneElement(value[1], {onClick: () => t.setActiveModal(value[0])})}\r\n                                        </Dropdown>\r\n                                )\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <h3>{vk_local_users[author.id].first_name} {vk_local_users[author.id].last_name.substring(0, 1)}.</h3>\r\n                    <h1>Работы игрока</h1>\r\n                    <div style={{\r\n                        marginTop: 24,\r\n                        gridGap: isDesktop ? 8 : 15,\r\n                        paddingBottom: banners[6] && 140\r\n                    }} className='Images_Grid'>\r\n                        {\r\n                            author_works.map((value, index) =>\r\n                                <div key={`Image_${index}`} onClick={async () => {\r\n                                    await t.setState({\r\n                                        like_currentPictureSelected: index,\r\n                                        like_method: 'games.getByDrawerId',\r\n                                        like_param: 'author_works',\r\n                                        like_user_id: author.id\r\n                                    });\r\n                                    const {history} = t.state;\r\n                                    if (history[history.length - 1] === 'picture_info') {\r\n                                        t.back();\r\n                                    } else {\r\n                                        t.go('picture_info');\r\n                                    }\r\n                                }}>\r\n                                    <img alt='img' src={value['Picture.url']}/>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                    {\r\n                        banners[6] &&\r\n                        <PromoBanner\r\n                            bannerData={banners[6]}\r\n                            onClose={async () => {\r\n                                banners[6] = false;\r\n                                await t.setState({banners});\r\n                                this.forceUpdate();\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n                <div ref={ref => this.loadingRef = ref}/>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nAuthor.defaultProps = {};\r\n\r\nAuthor.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Author;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    IconButton,\r\n    Input,\r\n    PanelHeader,\r\n    PanelHeaderBack, PromoBanner,\r\n    ScreenSpinner,\r\n    Snackbar,\r\n    WriteBarIcon\r\n} from \"@vkontakte/vkui\";\r\nimport {\r\n    Icon16Chevron, Icon16Recent,\r\n    Icon24Like,\r\n    Icon28ChevronRightOutline,\r\n    Icon28ReportOutline,\r\n    Icon28ShareOutline, Icon28WriteOutline\r\n} from \"@vkontakte/icons\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {\r\n    decOfNum,\r\n    getBase64Image,\r\n    getSrcUrl,\r\n    getUrlParams,\r\n    isPlatformDesktop, isPlatformIOS,\r\n    openUrl,\r\n    shortIntegers\r\n} from \"../../js/utils\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\n\r\nconst isDesktop = isPlatformDesktop();\r\n\r\nexport class Tags extends PureComponent {\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            {banners} = t.state,\r\n            {_tags} = t\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                >\r\n                    {\r\n                        isDesktop && 'Метки'\r\n                    }\r\n                </PanelHeader>\r\n                <div className='Tags' style={{paddingBottom: 24}}>\r\n                    {\r\n                        !isDesktop && <h2 style={{textAlign: 'left'}}>Метки</h2>\r\n                    }\r\n                    <div className='TagsList' style={{paddingBottom: banners[5] && 140}}>\r\n                        {\r\n                            _tags().map(value =>\r\n                                <div>\r\n                                    {value[1]}\r\n                                    <div>\r\n                                        <h1>{value[2]}</h1>\r\n                                        <h3>{value[3]}</h3>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                    {\r\n                        banners[5] &&\r\n                        <PromoBanner\r\n                            bannerData={banners[5]}\r\n                            onClose={async () => {\r\n                                banners[5] = false;\r\n                                await t.setState({banners});\r\n                                this.forceUpdate();\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nTags.defaultProps = {};\r\n\r\nTags.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Tags;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    PanelHeader,\r\n    PanelHeaderBack, PromoBanner,\r\n    SimpleCell,\r\n} from \"@vkontakte/vkui\";\r\nimport {\r\n    getUrlParams,\r\n    isPlatformDesktop, isPlatformIOS\r\n} from \"../../js/utils\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\n\r\nconst isDesktop = isPlatformDesktop();\r\n\r\nexport class Friends extends PureComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            friends: [],\r\n            others: []\r\n        };\r\n    }\r\n\r\n    async updateFriends() {\r\n        let friends = [];\r\n        if (!this.props.t.state.isNotApp) {\r\n            const\r\n                access_token = (await bridge.send('VKWebAppGetAuthToken', {\r\n                    app_id: parseInt(getUrlParams().vk_app_id),\r\n                    scope: 'friends'\r\n                })).access_token,\r\n                _friends = await bridge.send('VKWebAppCallAPIMethod', {\r\n                    method: 'friends.get',\r\n                    params: {access_token, v: '5.131'}\r\n                }),\r\n                friends_count = _friends.response.count,\r\n                j = Math.floor(friends_count / 100)\r\n            ;\r\n\r\n            friends = [..._friends.response.items];\r\n\r\n            for (let i = 0; i < j; i++) {\r\n                friends = friends.concat((await bridge.send('VKWebAppCallAPIMethod', {\r\n                    method: 'friends.get',\r\n                    params: {access_token, v: '5.131', offset: i * 100}\r\n                })).response.items);\r\n            }\r\n\r\n            await getVKUsers(friends);\r\n        }\r\n        const {socket} = this.props.t;\r\n        socket.call('friends.getLobbies', {ids: friends}, async r => {\r\n            const friend_ids = r.response;\r\n            await getVKUsers(r.public_lobbies);\r\n            this.setState({friends: friend_ids, others: r.public_lobbies});\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {socket} = this.props.t;\r\n        socket.unsubscribe('createLobby', 'removeLobby');\r\n        socket.subscribe('createLobby', async r => {\r\n            const {friends, others} = this.state;\r\n            if (r.changeMode && others.indexOf(r.id) === -1 && friends.indexOf(r.id) === -1) {\r\n                await getVKUsers([r.id]);\r\n                this.setState({others: [...others, r.id]});\r\n            } else if (!r.changeMode && friends.indexOf(r.id) === -1) {\r\n                this.setState({friends: [...friends, r.id]});\r\n            }\r\n        });\r\n        socket.subscribe('removeLobby', async r => {\r\n            const {friends, others} = this.state;\r\n            if (r.changeMode && others.indexOf(r.id) > -1 && friends.indexOf(r.id) === -1) {\r\n                others.splice(others.indexOf(r.id), 1);\r\n                this.setState({others});\r\n            } else if (!r.changeMode && friends.indexOf(r.id) > -1) {\r\n                friends.splice(friends.indexOf(r.id), 1);\r\n                this.setState({friends});\r\n            }\r\n            this.forceUpdate();\r\n        });\r\n\r\n        this.updateFriends();\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            {socket} = t,\r\n            {user, banners} = t.state,\r\n            {friends, others} = this.state\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                >\r\n                    {\r\n                        isDesktop && 'Дружеская игра'\r\n                    }\r\n                </PanelHeader>\r\n                <div className='Friends'>\r\n                    {\r\n                        !isDesktop && <h2 style={{textAlign: 'left'}}>Дружеская игра</h2>\r\n                    }\r\n                    <p style={{margin: '8px 40px 0 0'}}>\r\n                        Создать лобби может создать определённый человек.\r\n                    </p>\r\n                    <p style={{margin: '4px 40px 0 0'}}>\r\n                        Количество игроков в лобби может достигать до 20.\r\n                    </p>\r\n                    <div style={{display: 'flex', marginTop: 24}}>\r\n                        <Button\r\n                            stretched\r\n                            size='m'\r\n                            mode='gradient_violet'\r\n                            onClick={() => {\r\n                                if (user.vk_donut || user.admin) {\r\n                                    socket.call('friends.createLobby', {}, r => {\r\n                                        if (r.response) {\r\n                                            t.setState({friend_lobby: r.response});\r\n                                            t.go('friend_lobby');\r\n                                        }\r\n                                    });\r\n                                } else {\r\n                                    if (isPlatformIOS()) {\r\n                                        t.go('vk_donut_ios');\r\n                                    } else {\r\n                                        t.go('vk_donut');\r\n                                    }\r\n                                }\r\n                            }}\r\n                        >\r\n                            Создать лобби\r\n                        </Button>\r\n                        <Button\r\n                            style={{marginLeft: 4}}\r\n                            stretched\r\n                            size='m'\r\n                            mode='gradient_gray'\r\n                            onClick={async () => {\r\n                                await this.updateFriends();\r\n                            }}\r\n                        >\r\n                            Получить друзей\r\n                        </Button>\r\n                    </div>\r\n                    <div className='FriendsList' style={{paddingBottom: banners[7] && 140}}>\r\n                        {\r\n                            friends.length > 0 ?\r\n                                <React.Fragment>\r\n                                    <span className='Span'>\r\n                                        Выберите друга, в чьё лобби хотите присоединиться:\r\n                                    </span>\r\n                                    <div style={{marginTop: 8}}>\r\n                                        {\r\n                                            friends.map((value, index) =>\r\n                                                <SimpleCell\r\n                                                    key={`SCell_${index}`}\r\n                                                    before={<Avatar size={32} shadow={false}\r\n                                                                    src={vk_local_users[value].photo_100}/>}\r\n                                                    expandable={true}\r\n                                                    onClick={() => {\r\n                                                        socket.call('friends.joinLobby', {owner_id: value}, async r => {\r\n                                                            await getVKUsers(r.response.members);\r\n                                                            await t.setState({friend_lobby: r.response});\r\n                                                            t.go('friend_lobby');\r\n                                                        });\r\n                                                    }}\r\n                                                >\r\n                                                    {vk_local_users[value].first_name} {vk_local_users[value].last_name.substring(0, 1)}.\r\n                                                </SimpleCell>\r\n                                            )\r\n                                        }\r\n                                    </div>\r\n                                </React.Fragment>\r\n                                :\r\n                                <span className='Span'>\r\n                                    Ваши друзья не играют в игру :(\r\n                                </span>\r\n                        }\r\n                        {\r\n                            others.length > 0 &&\r\n                            <React.Fragment>\r\n                                <br/>\r\n                                <div className='Span' style={{marginTop: 12}}>\r\n                                    Другие игроки:\r\n                                </div>\r\n                                <div style={{marginTop: 8}}>\r\n                                    {\r\n                                        others.map((value, index) =>\r\n                                            <SimpleCell\r\n                                                key={`SCell_${index}`}\r\n                                                before={<Avatar size={32} shadow={false}\r\n                                                                src={vk_local_users[value].photo_100}/>}\r\n                                                expandable={true}\r\n                                                onClick={() => {\r\n                                                    socket.call('friends.joinLobby', {owner_id: value}, async r => {\r\n                                                        await getVKUsers(r.response.members);\r\n                                                        await t.setState({friend_lobby: r.response});\r\n                                                        t.go('friend_lobby');\r\n                                                    });\r\n                                                }}\r\n                                            >\r\n                                                {vk_local_users[value].first_name} {vk_local_users[value].last_name.substring(0, 1)}.\r\n                                            </SimpleCell>\r\n                                        )\r\n                                    }\r\n                                </div>\r\n                            </React.Fragment>\r\n                        }\r\n                    </div>\r\n                    {\r\n                        banners[7] &&\r\n                        <PromoBanner\r\n                            bannerData={banners[7]}\r\n                            onClose={async () => {\r\n                                banners[7] = false;\r\n                                await t.setState({banners});\r\n                                this.forceUpdate();\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nFriends.defaultProps = {};\r\n\r\nFriends.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Friends;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    IconButton,\r\n    Input,\r\n    PanelHeader,\r\n    PanelHeaderBack,\r\n    ScreenSpinner, SimpleCell, SliderSwitch,\r\n    Snackbar,\r\n    WriteBarIcon\r\n} from \"@vkontakte/vkui\";\r\nimport {\r\n    Icon16Cancel,\r\n    Icon16Chevron, Icon16Recent,\r\n    Icon24Like,\r\n    Icon28ChevronRightOutline, Icon28CopyOutline,\r\n    Icon28ReportOutline,\r\n    Icon28ShareOutline, Icon28SlidersOutline, Icon28WriteOutline\r\n} from \"@vkontakte/icons\";\r\nimport {\r\n    decOfNum,\r\n    getBase64Image,\r\n    getSrcUrl,\r\n    getUrlParams,\r\n    isPlatformDesktop, isPlatformIOS,\r\n    openUrl,\r\n    shortIntegers\r\n} from \"../../js/utils\";\r\nimport {getVKUsers, name_cases, vk_local_users, vkApiRequest} from \"../../js/drawerapp/utils\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {MODAL_PAGE_FRIEND_LOBBY_SETTINGS} from \"./Drawing\";\r\n\r\nconst\r\n    isDesktop = isPlatformDesktop()\r\n;\r\n\r\nexport class FriendLobby extends PureComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            removed: false,\r\n            members: [],\r\n            splashShow: false\r\n        };\r\n\r\n        setTimeout(async () => {\r\n            const {friend_lobby} = this.props.t.state;\r\n            await getVKUsers(friend_lobby.members);\r\n            this.setState({members: friend_lobby.members});\r\n        }, 1);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {socket, state} = this.props.t;\r\n        socket.unsubscribe('changeLobbyUsers', 'gameStart', 'setWord', 'gameEnd', 'draw', 'removeLobby', 'wakeUp');\r\n        socket.subscribe('wakeUp', async r => {\r\n            if (r.user_ids.indexOf(state.user.id) > -1) {\r\n                for (let i = 0; i < 3; i++) {\r\n                    setTimeout(async () => {\r\n                        if (bridge.supports('VKWebAppTapticNotificationOccurred')) {\r\n                            await bridge.send('VKWebAppTapticNotificationOccurred', {type: 'success'});\r\n                        }\r\n                        await this.setState({splashShow: !this.state.splashShow});\r\n                        setTimeout(() => {\r\n                            this.setState({splashShow: !this.state.splashShow});\r\n                        }, 100);\r\n                    }, 200 + i * 200)\r\n                }\r\n            }\r\n        });\r\n        socket.subscribe('removeLobby', async r => {\r\n            this.setState({removed: true});\r\n        });\r\n        socket.subscribe('changeLobbyUsers', async r => {\r\n            const {friend_lobby} = this.props;\r\n            await getVKUsers(r.players);\r\n            friend_lobby.members = r.players;\r\n            this.props.t.setState({friend_lobby});\r\n            setTimeout(async () => {\r\n                await this.setState({members: friend_lobby.members});\r\n                this.forceUpdate();\r\n                if (r.players.indexOf(state.user.id) === -1 && this.props.friend_lobby.owner_id !== state.user.id) {\r\n                    this.props.t.back();\r\n                    if (this.state.removed) {\r\n                        this.props.t.setState({\r\n                            snackbar: <Snackbar onClose={() => this.setState({snackbar: null})}>\r\n                                Лобби было удалено\r\n                            </Snackbar>\r\n                        });\r\n                    } else {\r\n                        this.props.t.setState({\r\n                            snackbar: <Snackbar onClose={() => this.setState({snackbar: null})}>\r\n                                Вас выгнали из лобби\r\n                            </Snackbar>\r\n                        });\r\n                    }\r\n                }\r\n            }, 400);\r\n        });\r\n        socket.subscribe('setWord', async r => {\r\n            this.props.t.setState({word: r.word});\r\n        });\r\n        socket.subscribe('gameStart', async r => {\r\n            const\r\n                {lobbyId, drawerId} = r,\r\n                {friend_lobby} = this.props\r\n            ;\r\n            await this.props.t.setState({\r\n                lobbyId,\r\n                drawerId,\r\n                gameStart: Date.now(),\r\n                isOnlineDrawing: true,\r\n                subGameInfo: {friendly: true, owner_id: friend_lobby.owner_id}\r\n            });\r\n            this.props.t.go('game');\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t, friend_lobby} = this.props,\r\n            {socket} = t,\r\n            {user} = t.state,\r\n            {members, splashShow} = this.state\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                >\r\n                    {\r\n                        isDesktop && 'Дружеская игра'\r\n                    }\r\n                </PanelHeader>\r\n                <div className='FriendSplash' style={{opacity: splashShow ? 1 : 0}}/>\r\n                <div className='FriendLobby'>\r\n                    {\r\n                        !isDesktop && <h2 style={{textAlign: 'left'}}>Дружеская игра</h2>\r\n                    }\r\n                    {\r\n                        friend_lobby.owner_id === user.id &&\r\n                        <Button\r\n                            style={{\r\n                                marginTop: isDesktop ? 10 : 16, width: '100%'\r\n                            }}\r\n                            before={<Icon28SlidersOutline width={16} height={16}/>}\r\n                            size='m' mode='gradient_light_gray' stretched\r\n                            onClick={() => {\r\n                                t.setActiveModal(MODAL_PAGE_FRIEND_LOBBY_SETTINGS);\r\n                            }}\r\n                        >\r\n                            Настроить лобби\r\n                        </Button>\r\n                    }\r\n                   <div className='Span' style={{marginTop: 16}}>\r\n                       Игроки\r\n                    </div>\r\n                    <div className='FriendsList'>\r\n                        <div style={{marginTop: 8}}>\r\n                            <SimpleCell\r\n                                onClick={() => {\r\n                                    if (friend_lobby.owner_id === user.id) {\r\n                                        socket.call('friends.wakeUp', {\r\n                                            user_ids: [user.id, ...members],\r\n                                            owner_id: friend_lobby.owner_id\r\n                                        });\r\n                                    } else {\r\n                                        socket.call('friends.wakeUp', {\r\n                                            user_ids: [friend_lobby.owner_id],\r\n                                            owner_id: friend_lobby.owner_id\r\n                                        });\r\n                                    }\r\n                                }}\r\n                                before={<Avatar size={32} shadow={false}\r\n                                                src={vk_local_users[friend_lobby.owner_id].photo_100}/>}\r\n                            >\r\n                                {vk_local_users[friend_lobby.owner_id].first_name} {vk_local_users[friend_lobby.owner_id].last_name.substring(0, 1)}.\r\n                            </SimpleCell>\r\n                            {\r\n                                members.map((value, index) =>\r\n                                    <SimpleCell\r\n                                        onClick={() => {\r\n                                            socket.call('friends.wakeUp', {\r\n                                                user_ids: [value],\r\n                                                owner_id: friend_lobby.owner_id\r\n                                            });\r\n                                        }}\r\n                                        key={`SCell_${index}`}\r\n                                        before={<Avatar size={32} shadow={false}\r\n                                                        src={vk_local_users[value].photo_100}/>}\r\n                                        after={friend_lobby.owner_id === user.id &&\r\n                                            <IconButton onClick={() => {\r\n                                                socket.call('friends.kickFromLobby', {user_id: value});\r\n                                            }}><Icon16Cancel fill='var(--icon_tertiary)'/></IconButton>}\r\n                                    >\r\n                                        {vk_local_users[value].first_name} {vk_local_users[value].last_name.substring(0, 1)}.\r\n                                    </SimpleCell>\r\n                                )\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        friend_lobby.owner_id === user.id && members.length > 0 &&\r\n                        <Button\r\n                            style={{marginTop: 24}}\r\n                            size='m'\r\n                            mode='gradient_violet'\r\n                            onClick={() => {\r\n                                socket.call('friends.startGame');\r\n                            }}\r\n                        >\r\n                            Начать игру\r\n                        </Button>\r\n                    }\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nFriendLobby.defaultProps = {};\r\n\r\nFriendLobby.propTypes = {\r\n    t: PropTypes.object,\r\n    friend_lobby: PropTypes.object\r\n};\r\n\r\nexport default FriendLobby;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    PanelHeader,\r\n    PanelHeaderBack,\r\n    SimpleCell,\r\n    HorizontalCell,\r\n    HorizontalScroll, ScreenSpinner, PromoBanner\r\n} from \"@vkontakte/vkui\";\r\nimport {\r\n    getUrlParams,\r\n    isPlatformDesktop, isPlatformIOS, shortIntegers\r\n} from \"../../js/utils\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {Icon20VotestTransferCircleFillTurquoise, Icon28LikeFillRed} from \"@vkontakte/icons\";\r\n\r\nconst isDesktop = isPlatformDesktop();\r\n\r\nexport class Stats extends PureComponent {\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            {state, socket} = t,\r\n            {user, banners} = t.state\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                >\r\n                    {\r\n                        isDesktop && 'Статистика'\r\n                    }\r\n                </PanelHeader>\r\n                <div className='Stats'>\r\n                    {\r\n                        !isDesktop && <h2 style={{textAlign: 'left'}}>Статистика</h2>\r\n                    }\r\n                    <p style={{margin: '8px 40px 0 0'}}>\r\n                        Здесь собрана вся твоя статистика, и рейтинги игроков.\r\n                    </p>\r\n                    <div className='StatsCards__Container'>\r\n                        <div>\r\n                            <Icon20VotestTransferCircleFillTurquoise width={16} height={16}/>\r\n                            <span>{shortIntegers(user.coins)}</span>\r\n                        </div>\r\n                        <div>\r\n                            <span>{shortIntegers(user.likes)}</span>\r\n                            <Icon28LikeFillRed width={16} height={16}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className='Rating__List' style={{paddingBottom: banners[4] && 140}}>\r\n                        {\r\n                            [\r\n                                ['users_topPictures', 'количеству картин', 'pictures'],\r\n                                ['users_topGuessedPictures', 'угаданным картинам', 'guessedPictures'],\r\n                                ['users_topLikes', 'лайкам', 'likes']\r\n                            ].map((value, index) =>\r\n                                <div>\r\n                                    <span className='Span'>\r\n                                        Лучшие игроки по {value[1]}:\r\n                                    </span>\r\n                                    <HorizontalScroll\r\n                                        showArrows\r\n                                        getScrollToLeft={(i) => i - 64 * 2}\r\n                                        getScrollToRight={(i) => i + 64 * 2}\r\n                                    >\r\n                                        <div style={{display: 'flex'}}>\r\n                                            {\r\n                                                state[value[0]].map((value1, index1) =>\r\n                                                    <HorizontalCell\r\n                                                        key={`Cell_${index1}`}\r\n                                                        header={vk_local_users[value1.id].first_name}\r\n                                                        subtitle={value1[value[2]]}\r\n                                                        onClick={() => {\r\n                                                            t.setPopout(<ScreenSpinner/>);\r\n                                                            socket.call('users.getById', {id: value1.id}, async r => {\r\n                                                                if (r.response !== null) {\r\n                                                                    await t.setState({\r\n                                                                        author: r.response\r\n                                                                    });\r\n                                                                    socket.call('games.getByDrawerId', {id: value1.id}, async r => {\r\n                                                                        await t.setState({\r\n                                                                            author_works: r.response\r\n                                                                        });\r\n                                                                        t.go('author');\r\n                                                                        t.setPopout(null);\r\n                                                                    });\r\n                                                                } else {\r\n                                                                    t.setPopout(null);\r\n                                                                }\r\n                                                            });\r\n                                                        }}\r\n                                                    >\r\n                                                        <Avatar size={48} shadow={false}\r\n                                                                src={vk_local_users[value1.id].photo_100}/>\r\n                                                    </HorizontalCell>\r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </HorizontalScroll>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                    {\r\n                        banners[4] &&\r\n                        <PromoBanner\r\n                            bannerData={banners[4]}\r\n                            onClose={async () => {\r\n                                banners[4] = false;\r\n                                await t.setState({banners});\r\n                                this.forceUpdate();\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nStats.defaultProps = {};\r\n\r\nStats.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Stats;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    PanelHeader,\r\n    PanelHeaderBack, PromoBanner, ScreenSpinner,\r\n    SimpleCell, Snackbar,\r\n} from \"@vkontakte/vkui\";\r\nimport {\r\n    convertMsToNormalTime,\r\n    decOfNum,\r\n    getUrlParams,\r\n    isPlatformDesktop, isPlatformIOS\r\n} from \"../../js/utils\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {Icon28ClockOutline, Icon28FilmStripOutline} from \"@vkontakte/icons\";\r\n\r\nconst isDesktop = isPlatformDesktop();\r\nlet ticker;\r\n\r\nexport class Shop extends PureComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            items: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {socket} = this.props.t;\r\n        ticker = setInterval(() => {\r\n            this.forceUpdate();\r\n        }, 1000);\r\n\r\n        socket.call('shop.getList', {}, async r => {\r\n            this.setState({items: r.response});\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(ticker);\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t, watchedShopItems, boughtShopItems} = this.props,\r\n            {banners, isNotApp} = t.state,\r\n            {items} = this.state,\r\n            {socket} = t\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                >\r\n                    {\r\n                        isDesktop && 'Магазин'\r\n                    }\r\n                </PanelHeader>\r\n                <div className='Shop'>\r\n                    {\r\n                        !isDesktop && <h2 style={{textAlign: 'left'}}>Магазин</h2>\r\n                    }\r\n                    <p style={{margin: '8px 40px 0 0'}}>\r\n                        Здесь могут появляться акционные предметы, которые можно приобрести за монеты.\r\n                    </p>\r\n                    <div className='ShopItems' style={{paddingBottom: banners[3] && 140}}>\r\n                        {\r\n                            items.length > 0 ? items.map(\r\n                                    ({id, startTime, count, title, price, img, needAdvert, singleBuy}, index) => {\r\n                                        const {hours, minutes, seconds} = convertMsToNormalTime(startTime - Date.now()).str;\r\n                                        return <div key={`Shop_${index}`} onClick={() => {\r\n                                            if (Date.now() < startTime || (watchedShopItems.indexOf(id) === -1 && needAdvert))\r\n                                                return;\r\n\r\n                                            if (singleBuy && boughtShopItems.indexOf(id) > -1) {\r\n                                                t.setState({\r\n                                                    snackbar: <Snackbar onClose={() => t.setState({snackbar: null})}>\r\n                                                        Вы уже купили этот товар\r\n                                                    </Snackbar>\r\n                                                });\r\n                                            } else {\r\n                                                t.setPopout(<ScreenSpinner/>);\r\n\r\n                                                socket.call('shop.buy', {product_id: id}, async r => {\r\n                                                    if (r.response) {\r\n                                                        if (singleBuy)\r\n                                                            t.setState({boughtShopItems: [...boughtShopItems, id]});\r\n\r\n                                                        t.setState({\r\n                                                            snackbar: <Snackbar\r\n                                                                onClose={() => t.setState({snackbar: null})}>\r\n                                                                Вы успешно купили товар\r\n                                                            </Snackbar>\r\n                                                        });\r\n                                                        await t.updateData();\r\n                                                        t.forceUpdate();\r\n                                                    } else {\r\n                                                        t.setState({\r\n                                                            snackbar: <Snackbar\r\n                                                                onClose={() => t.setState({snackbar: null})}>\r\n                                                                {r.message}\r\n                                                            </Snackbar>\r\n                                                        });\r\n                                                    }\r\n                                                    t.setPopout(null);\r\n                                                });\r\n                                            }\r\n                                        }}>\r\n                                            {\r\n                                                Date.now() < startTime ?\r\n                                                    <div className='TimeCounter'>\r\n                                                        <Icon28ClockOutline/>\r\n                                                        <span>{hours}:{minutes}:{seconds}</span>\r\n                                                    </div>\r\n                                                    : (watchedShopItems.indexOf(id) === -1 && needAdvert) &&\r\n                                                    <div className='WatchAdvert' onClick={async () => {\r\n                                                        t.setPopout(<ScreenSpinner/>);\r\n                                                        try {\r\n                                                            if (!isNotApp) await bridge.send('VKWebAppShowNativeAds', {ad_format: 'reward'});\r\n                                                        } catch (e) {\r\n                                                        }\r\n                                                        t.setPopout(null);\r\n                                                        t.setState({watchedShopItems: [...watchedShopItems, id]});\r\n                                                    }}>\r\n                                                        <Icon28FilmStripOutline/>\r\n                                                        <span>Разблокировать содержимое</span>\r\n                                                    </div>\r\n\r\n                                            }\r\n                                            <img className='icon' alt='icon' src={img}/>\r\n                                            <div className='titles'>\r\n                                                <span>{title}</span><br/>\r\n                                                <span>{decOfNum(price, ['монета', 'монеты', 'монет'])}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    }) :\r\n                                <div key='Shop_-1' onClick={async () => {\r\n                                    try {\r\n                                        if (!isNotApp) {\r\n                                            await bridge.send('VKWebAppAllowNotifications');\r\n                                            socket.call('users.enableNotifications');\r\n                                        }\r\n                                    } catch (e) {\r\n                                    }\r\n\r\n                                }}>\r\n                                    <div className='titles'>\r\n                                        <span>Тут пусто :(</span><br/>\r\n                                        <span>Включите уведомления о новых товарах. Мы Вас оповестим, когда появится что-то интересное.</span>\r\n                                    </div>\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                    {\r\n                        banners[3] &&\r\n                        <PromoBanner\r\n                            bannerData={banners[3]}\r\n                            onClose={async () => {\r\n                                banners[3] = false;\r\n                                await t.setState({banners});\r\n                                this.forceUpdate();\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nShop.defaultProps = {};\r\n\r\nShop.propTypes = {\r\n    t: PropTypes.object,\r\n    watchedShopItems: PropTypes.object,\r\n    boughtShopItems: PropTypes.object\r\n};\r\n\r\nexport default Shop;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    ActionSheet,\r\n    ActionSheetItem, Alert,\r\n    Avatar,\r\n    Button, Div,\r\n    IconButton,\r\n    Input, PanelHeader, PanelHeaderBack, PopoutWrapper,\r\n    ScreenSpinner, Slider,\r\n    Snackbar, Spacing,\r\n    WriteBarIcon\r\n} from \"@vkontakte/vkui\";\r\nimport {convertMsToNormalTime, isPlatformDesktop, openUrl, shortIntegers, decOfNum, loadFonts} from \"../../js/utils\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\nimport {\r\n    Icon24ChevronLeft,\r\n    Icon28CompassOutline,\r\n    Icon28Crop, Icon28HelpCircleOutline,\r\n    Icon28MailOutline,\r\n    Icon28PaletteOutline\r\n} from \"@vkontakte/icons\";\r\nimport {ReactComponent as IconErase2} from \"../../assets/drawing/icons/IconErase2.svg\";\r\nimport {ReactComponent as IconStroke} from \"../../assets/drawing/icons/IconStroke.svg\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {HexColorPicker} from \"react-colorful\";\r\nimport {loadImage} from \"canvas\";\r\nimport {MODAL_CARD_GLOBAL_CANVAS_ONBOARD} from \"./Drawing\";\r\n\r\nconst\r\n    current = {},\r\n    currentTransform = {x: 0, y: 0},\r\n    lastTransform = {x: 0, y: 0},\r\n    isDesktop = isPlatformDesktop()\r\n;\r\n\r\nlet area_intervals = [], emitLines = [];\r\n\r\nexport class Game extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const\r\n            {t} = props,\r\n            {user} = t.state\r\n        ;\r\n        this.state = {\r\n            color: '#000000',\r\n            drawing: false,\r\n            isEraser: false,\r\n            isStroke: false,\r\n            isCompassActive: false,\r\n            isFullCanvasShowed: false,\r\n\r\n            fullCanvasData: null,\r\n            lineWidth: 2,\r\n\r\n            areas: [],\r\n            areas_time: {}\r\n        };\r\n\r\n        this.onMouseDown = this.onMouseDown.bind(this);\r\n        this.onMouseUp = this.onMouseUp.bind(this);\r\n        this.throttle = this.throttle.bind(this);\r\n        this.onMouseMove = this.onMouseMove.bind(this);\r\n        this.drawLine = this.drawLine.bind(this);\r\n\r\n        props.t.socket.subscribe('draw', async r => {\r\n            if (r.user_id != props.t.state.vk_user.id) {\r\n                const lines = r.data;\r\n                for (const line of lines) {\r\n                    const {x0, y0, x1, y1, color, isEraser, lineWidth} = line;\r\n                    this.drawLine(x0, y0, x1, y1, color, isEraser, lineWidth, false);\r\n                }\r\n            }\r\n        });\r\n        props.t.socket.subscribe('updateAreas', async r => {\r\n            this.updateAreas(r.areas);\r\n        });\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.props.t.setPopout(<ScreenSpinner/>);\r\n        loadFonts(['Manrope SemiBold', 'Manrope Bold']);\r\n        setTimeout(() => {\r\n            this.props.t.setPopout(null);\r\n            if (this.props.t.state.isShowGlobalCanvasOnboard) {\r\n                this.props.t.setActiveModal(MODAL_CARD_GLOBAL_CANVAS_ONBOARD);\r\n            }\r\n        }, 500);\r\n        const\r\n            areas = await new Promise((resolve) =>\r\n                this.props.t.socket.call('canvas.getAreas', {}, async r => {\r\n                    resolve(r.response);\r\n                })\r\n            ),\r\n            canvasData = await new Promise((resolve) =>\r\n                this.props.t.socket.call('canvas.join', {}, async r => {\r\n                    resolve(r.canvasData);\r\n                })\r\n            )\r\n        ;\r\n        await this.updateAreas(areas);\r\n\r\n        try {\r\n            const image = new Image();\r\n            image.onload = () => {\r\n                this.canvasContext.drawImage(image, 0, 0);\r\n            }\r\n            image.src = canvasData;\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n\r\n        this.lastScheme = document.body.attributes.getNamedItem('scheme').value;\r\n        this.clientHeight = parseInt(document.body.attributes.getNamedItem('_height').value);\r\n        this.clientWidth = parseInt(document.body.attributes.getNamedItem('_width').value);\r\n\r\n        const\r\n            {canvas, onMouseDown, onMouseUp, throttle, onMouseMove, props} = this\r\n        ;\r\n        this.canvasContext = canvas.getContext('2d');\r\n\r\n        canvas.addEventListener('mousedown', onMouseDown, false);\r\n        canvas.addEventListener('mouseup', onMouseUp, false);\r\n        canvas.addEventListener('mouseout', onMouseUp, false);\r\n        canvas.addEventListener('mousemove', e =>\r\n                this.state.isCompassActive ? onMouseMove(e) : throttle(onMouseMove(e), 10)\r\n            , false);\r\n\r\n        //Touch support for mobile devices\r\n        canvas.addEventListener('touchstart', onMouseDown, false);\r\n        canvas.addEventListener('touchend', onMouseUp, false);\r\n        canvas.addEventListener('touchcancel', onMouseUp, false);\r\n        canvas.addEventListener('touchmove', e =>\r\n                this.state.isCompassActive ? onMouseMove(e) : throttle(onMouseMove(e), 10)\r\n            , false);\r\n\r\n        /*Draw area square*/\r\n        /*const cords = this.areas_coords;\r\n        const colors = new Array(25).fill(0).map(value => '#' + Math.floor(Math.random() * 16777215).toString(16));\r\n        console.log(colors);\r\n        let i = 0;\r\n        for (const line of cords) {\r\n            for (const area of line) {\r\n                this.drawLine(area[0], area[1], area[2], area[3], colors[i], false, 2, false);\r\n                i++;\r\n            }\r\n        }*/\r\n    }\r\n\r\n    async componentWillUnmount() {\r\n        this.props.t.socket.call('canvas.leave', {});\r\n        document.body.setAttribute('scheme', this.lastScheme);\r\n        for (const interval of area_intervals) {\r\n            clearInterval(interval);\r\n        }\r\n        area_intervals = [];\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        const curScheme = document.body.attributes.getNamedItem('scheme').value;\r\n        if (curScheme !== 'bright_light') {\r\n            setTimeout(() => document.body.setAttribute('scheme', 'bright_light'), 500);\r\n        }\r\n    }\r\n\r\n    async updateAreas(areas) {\r\n        area_intervals = [];\r\n        const areas_time = {}, owner_ids = [];\r\n        for (const i in areas) {\r\n            if (areas[i].owner_id > 0)\r\n                owner_ids.push(areas[i].owner_id);\r\n\r\n            area_intervals.push(\r\n                setInterval(() => {\r\n                    if (areas[i].owner_id > 0) {\r\n                        const {hours, minutes, seconds} = convertMsToNormalTime(areas[i].time - Date.now()).str;\r\n                        areas_time[i] = `${hours}:${minutes}:${seconds}`;\r\n                        this.setState({areas_time});\r\n                        if (!this.state.drawing) {\r\n                            this.forceUpdate();\r\n                        }\r\n\r\n                        if (areas[i].time <= Date.now()) {\r\n                            areas[i] = {owner_id: 0, time: 0};\r\n                        }\r\n                    }\r\n                }, 1000)\r\n            )\r\n        }\r\n        await getVKUsers(owner_ids);\r\n        this.setState({areas: areas.sort((a, b) => a.id - b.id), areas_time});\r\n    }\r\n\r\n    onMouseDown(e) {\r\n        console.log('onMouseDown');\r\n        this.setState({\r\n            drawing: true\r\n        });\r\n        current.x = e.clientX || e.touches[0].clientX;\r\n        current.y = e.clientY || e.touches[0].clientY;\r\n        emitLines = [];\r\n    }\r\n\r\n    onMouseUp(e) {\r\n        console.log('onMouseUp');\r\n        const {drawing, color, isEraser, lineWidth} = this.state;\r\n        if (!drawing) {\r\n            return;\r\n        }\r\n        this.setState({drawing: false});\r\n        try {\r\n            const\r\n                {canvas} = this,\r\n                canvasRect = canvas.getBoundingClientRect()\r\n            ;\r\n\r\n            console.log(`Lines to send: ${emitLines.length}`);\r\n            if (emitLines.length > 0) {\r\n                this.props.t.socket.call('canvas.draw', {data: emitLines, user_id: this.props.t.state.vk_user.id});\r\n                emitLines = [];\r\n            }\r\n            this.drawLine(current.x - canvasRect.left, current.y - canvasRect.top, (e.clientX || e.touches[0].clientX) - canvasRect.left, (e.clientY || e.touches[0].clientY) - canvasRect.top, color, isEraser, lineWidth);\r\n        } catch (er) {\r\n        }\r\n\r\n        const\r\n            transform_ = this.canvas_container.style.transform,\r\n            transform = transform_.substring(transform_.indexOf('(') + 1, transform_.indexOf(')')).split(',')\r\n        ;\r\n        lastTransform.x = parseInt(transform[0]);\r\n        lastTransform.y = parseInt(transform[1]);\r\n        if (isNaN(lastTransform.x) || isNaN(lastTransform.y)) {\r\n            lastTransform.x = 0;\r\n            lastTransform.y = 0;\r\n        }\r\n    }\r\n\r\n    onMouseMove(e) {\r\n        const {drawing, color, isEraser, lineWidth} = this.state;\r\n        if (!drawing) {\r\n            return;\r\n        }\r\n\r\n        const\r\n            {canvas} = this,\r\n            canvasRect = canvas.getBoundingClientRect()\r\n        ;\r\n\r\n        if (this.state.isCompassActive) {\r\n            try {\r\n                const\r\n                    curMousePosition = {\r\n                        x: e.clientX || e.touches[0].clientX,\r\n                        y: e.clientY || e.touches[0].clientY\r\n                    },\r\n                    move = {\r\n                        x: curMousePosition.x - current.x,\r\n                        y: curMousePosition.y - current.y\r\n                    },\r\n                    translateX = Math.max(Math.min(this.clientWidth - 200, lastTransform.x + currentTransform.x + move.x), -this.canvas.width + 200),\r\n                    translateY = Math.max(Math.min(this.clientHeight - 200, lastTransform.y + currentTransform.y + move.y), -this.canvas.height + 200)\r\n                ;\r\n                //console.log(translateX, translateY, this.clientWidth, this.clientHeight);\r\n                //console.log(lastTransform, currentTransform, move);\r\n                this.canvas_container.style.transform = `translate(${translateX}px, ${translateY}px)`;\r\n            } catch (e) {\r\n                console.log(e);\r\n            }\r\n            return;\r\n        }\r\n\r\n        try {\r\n            this.drawLine(current.x - canvasRect.left, current.y - canvasRect.top, (e.clientX || e.touches[0].clientX) - canvasRect.left, (e.clientY || e.touches[0].clientY) - canvasRect.top, color, isEraser, lineWidth);\r\n            current.x = e.clientX || e.touches[0].clientX;\r\n            current.y = e.clientY || e.touches[0].clientY;\r\n        } catch (e) {\r\n\r\n        }\r\n        return false;\r\n    }\r\n\r\n    drawLine(x0, y0, x1, y1, color, isEraser, lineWidth, checkisAllow = true) {\r\n        if (this.state.isCompassActive && checkisAllow) {\r\n            return;\r\n        }\r\n        console.log({x0, y0, x1, y1});\r\n\r\n        if (checkisAllow && !this.isAllowToDraw(x0, y0, x1, y1)) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const\r\n                {canvasContext} = this\r\n            ;\r\n            canvasContext.beginPath();\r\n\r\n            if (isEraser) {\r\n                canvasContext.globalCompositeOperation = 'destination-out';\r\n                canvasContext.arc(x0, y0, lineWidth, 0, Math.PI * 2, false);\r\n                canvasContext.fill();\r\n            } else {\r\n                canvasContext.globalCompositeOperation = 'source-over';\r\n                canvasContext.moveTo(x0, y0);\r\n                canvasContext.lineTo(x1, y1);\r\n                canvasContext.strokeStyle = color;\r\n                canvasContext.fill();\r\n                canvasContext.lineWidth = lineWidth;\r\n                canvasContext.lineCap = canvasContext.lineJoin = 'round';\r\n                canvasContext.stroke();\r\n            }\r\n\r\n            canvasContext.closePath();\r\n\r\n            emitLines.push({x0, y0, x1, y1, color, isEraser, lineWidth});\r\n        } catch (e) {\r\n        }\r\n    }\r\n\r\n    throttle(callback, delay) {\r\n        var previousCall = new Date().getTime();\r\n        return function () {\r\n            const time = new Date().getTime();\r\n\r\n            if ((time - previousCall) >= delay) {\r\n                previousCall = time;\r\n                callback.apply(null, arguments);\r\n            }\r\n        };\r\n    }\r\n\r\n    get navbar_items() {\r\n        const\r\n            {state, props} = this,\r\n            {t} = props,\r\n            {isCompassActive, isEraser, isFullCanvasShowed, isStroke} = state\r\n        ;\r\n        return [\r\n            {\r\n                icon: <Icon28CompassOutline width={21} height={21}/>,\r\n                onClick: () => {\r\n                    this.setState({\r\n                        isCompassActive: !isCompassActive,\r\n                        isEraser: false,\r\n                        isFullCanvasShowed: false,\r\n                        isStroke: false\r\n                    });\r\n                },\r\n                selected: isCompassActive\r\n            },\r\n            {\r\n                icon: <Icon28PaletteOutline width={21} height={21}/>,\r\n                onClick: () => {\r\n                    t.setPopout(this.alert_color);\r\n                }\r\n            },\r\n            {\r\n                icon: <IconErase2/>,\r\n                onClick: () => {\r\n                    this.setState({isEraser: !isEraser, isCompassActive: false, isFullCanvasShowed: false});\r\n                },\r\n                selected: isEraser\r\n            },\r\n            {\r\n                icon: <IconStroke/>,\r\n                onClick: () => {\r\n                    this.setState({isStroke: !isStroke, isCompassActive: false, isFullCanvasShowed: false});\r\n                },\r\n                selected: isStroke\r\n            },\r\n            {\r\n                icon: <Icon28Crop width={21} height={21}/>,\r\n                onClick: async () => {\r\n                    if (!isFullCanvasShowed) {\r\n                        const canvasData = this.canvas.toDataURL('image/png');\r\n                        this.setState({fullCanvasData: canvasData});\r\n                    } else {\r\n                        this.setState({fullCanvasData: null});\r\n                    }\r\n                    this.setState({\r\n                        isFullCanvasShowed: !isFullCanvasShowed,\r\n                        isEraser: false,\r\n                        isCompassActive: false,\r\n                        isStroke: false\r\n                    });\r\n                },\r\n                selected: isFullCanvasShowed\r\n            },\r\n            {\r\n                icon: <Icon28MailOutline width={21} height={21}/>,\r\n                onClick: () => {\r\n                    openUrl('https://vk.me/join/DFIbwK_w537NhbqDIWPd8JjoW/qfkWn5tzk=');\r\n                }\r\n            },\r\n            {\r\n                icon: <Icon28HelpCircleOutline width={21} height={21}/>,\r\n                onClick: () => {\r\n                    this.componentWillUnmount();\r\n                    t.go('global_canvas_info');\r\n                }\r\n            },\r\n        ];\r\n    }\r\n\r\n    get alert_color() {\r\n        return <PopoutWrapper\r\n            onClick={() => this.props.t.setPopout(null)}\r\n            onClose={() => this.props.t.setPopout(null)}\r\n        >\r\n            <Div>\r\n                <HexColorPicker color={this.state.color} onChange={color => this.setState({color})}/>\r\n            </Div>\r\n        </PopoutWrapper>;\r\n    }\r\n\r\n    isAllowToDraw(x0_, y0_, x1_, y1_) {\r\n        const\r\n            {areas} = this.state,\r\n            area = areas.find(area => {\r\n                const {x0, y0, x1, y1} = area;\r\n                return x0_ >= x0 && y0_ >= y0 && x1_ <= x1 && y1_ <= y1\r\n            })\r\n        ;\r\n\r\n        //console.log(area);\r\n        return area ? (area.owner_id !== 0 ? (area.owner_id === this.props.t.state.vk_user.id) : true) : false;\r\n    }\r\n\r\n    get areas() {\r\n        const\r\n            {areas, areas_time, isCompassActive} = this.state,\r\n            {t} = this.props\r\n        ;\r\n        console.log({isCompassActive});\r\n        return <div\r\n            className='Canvas_Areas'\r\n            style={{transition: 'all 200ms', opacity: !isCompassActive && 0, visibility: !isCompassActive && 'hidden'}}\r\n        >\r\n            {\r\n                areas.map((value, index) =>\r\n                    <div\r\n                        key={`area_${index}`}\r\n                        style={{pointerEvents: isCompassActive && 'none'}}\r\n                    >\r\n                        {\r\n                            value.owner_id !== 0 && <Avatar size={48} shadow={false}\r\n                                                            src={vk_local_users[value.owner_id] && vk_local_users[value.owner_id].photo_100}/>\r\n                        }\r\n                        <h1 style={{marginTop: value.owner_id !== 0 && 2}}>\r\n                            {value.owner_id === 0 ? 'Свободная область' : (value.owner_id === this.props.t.state.vk_user.id ? 'Твоя область' : 'Чужая область')}\r\n                        </h1>\r\n                        <h3 style={{marginTop: 2}}>\r\n                            {value.owner_id !== 0 && areas_time[index]}\r\n                        </h3>\r\n                        {\r\n                            value.owner_id === 0 &&\r\n                            <div\r\n                                className='CustomButton'\r\n                                onClick={() => {\r\n                                    if (t.state.user.coins >= 1000) {\r\n                                        t.setPopout(<Alert\r\n                                            actions={[\r\n                                                {\r\n                                                    title: 'Подтвердить',\r\n                                                    autoclose: true,\r\n                                                    mode: 'positive',\r\n                                                    action: () => {\r\n                                                        t.socket.call('canvas.rentArea', {area_id: value.id});\r\n                                                    }\r\n                                                },\r\n                                                {\r\n                                                    title: 'Отмена',\r\n                                                    autoclose: true,\r\n                                                    mode: 'cancel'\r\n                                                }\r\n                                            ]}\r\n                                            actionsLayout='horizontal'\r\n                                            onClose={() => t.setPopout(null)}\r\n                                            header='Аренда области'\r\n                                            text={`Аренда стоит 1000 монет на 1 час. Продлить аренду можно только тогда, когда закончится срок (1 час). У Вас ${shortIntegers(t.state.user.coins)} ${decOfNum(t.state.user.coins, ['монета', 'монеты', 'монет'], false)}.`}\r\n                                        />);\r\n                                    } else {\r\n                                        t.setPopout(<Alert\r\n                                            actions={[\r\n                                                {\r\n                                                    title: 'Ок',\r\n                                                    autoclose: true,\r\n                                                    mode: 'cancel'\r\n                                                }\r\n                                            ]}\r\n                                            actionsLayout='horizontal'\r\n                                            onClose={() => t.setPopout(null)}\r\n                                            header='Аренда области'\r\n                                            text={`Тебе не хватает ${decOfNum(1000 - t.state.user.coins, ['монеты', 'монеты', 'монет'])}.`}\r\n                                        />);\r\n                                    }\r\n                                }}\r\n                            >\r\n                                арендовать\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                )\r\n            }\r\n        </div>\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {state, props} = this,\r\n            {t} = props,\r\n            {isCompassActive, drawing, isFullCanvasShowed, fullCanvasData, lineWidth, isStroke} = state\r\n        ;\r\n\r\n        return (\r\n            <div className='GlobalCanvas'>\r\n                {\r\n                    !isDesktop ?\r\n                        <PanelHeader\r\n                            left={<PanelHeaderBack onClick={() => {\r\n                                this.componentWillUnmount();\r\n                                t.back();\r\n                            }}/>}\r\n                            separator={false}\r\n                        />\r\n                        :\r\n                        <div className='CircleButtonBack' onClick={() => {\r\n                            this.componentWillUnmount();\r\n                            t.back();\r\n                        }}>\r\n                            <Icon24ChevronLeft/>\r\n                        </div>\r\n                }\r\n                {\r\n                    isFullCanvasShowed &&\r\n                    <img src={fullCanvasData} alt='canvas'/>\r\n                }\r\n                <div className='GlobalCanvas_canvas' ref={ref => this.canvas_container = ref}>\r\n                    {this.areas}\r\n                    <canvas\r\n                        style={{\r\n                            cursor: isCompassActive ? (drawing ? 'grabbing' : 'grab') : 'crosshair',\r\n                            display: isFullCanvasShowed && 'none'\r\n                        }}\r\n                        width={1595} height={1595} ref={ref => this.canvas = ref} id='canvas'\r\n                    />\r\n                </div>\r\n                <div className='NavigationBar'>\r\n                    <div className='Items'>\r\n                        {\r\n                            this.navbar_items.map(({icon, onClick, selected}, index) =>\r\n                                <div\r\n                                    style={{\r\n                                        ...(selected ? {\r\n                                            background: '#A4A6AA',\r\n                                            color: '#F8F8F8'\r\n                                        } : {\r\n                                            background: '#F8F8F8',\r\n                                            color: '#A4A6AA'\r\n                                        })\r\n                                    }}\r\n                                    key={`Item_${index}`}\r\n                                    onClick={onClick}\r\n                                >\r\n                                    {icon}\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                    <div className='SubItems'\r\n                         style={{transition: 'all 200ms', opacity: !isStroke && 0, visibility: !isStroke && 'hidden'}}>\r\n                        <div>\r\n                            <Slider\r\n                                step={1}\r\n                                min={2}\r\n                                max={20}\r\n                                value={Number(lineWidth)}\r\n                                onChange={(lineWidth) => this.setState({lineWidth})}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nGame.defaultProps = {};\r\n\r\nGame.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Game;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M3.84316 13.0355L5.96448 15.1568C6.74553 15.9378 8.01186 15.9378 8.79291 15.1568L11.6213 12.3284L6.67159 7.37862L3.84316 10.207C3.06211 10.9881 3.06211 12.2544 3.84316 13.0355Z\",\n  fill: \"#A4A6AA\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M3.31279 13.5658L5.43411 15.6872C6.50806 16.7611 8.24926 16.7611 9.3232 15.6872L15.6872 9.32321C16.7611 8.24926 16.7611 6.50806 15.6872 5.43412L13.5658 3.3128C12.4919 2.23886 10.7507 2.23886 9.67675 3.3128L3.31279 9.67676C2.23885 10.7507 2.23885 12.4919 3.31279 13.5658Z\",\n  stroke: \"#A4A6AA\",\n  strokeWidth: 1.5\n});\n\nvar SvgIconErase220 = function SvgIconErase220(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgIconErase220, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/IconErase2_20.bd03b526.svg\";\nexport { ForwardRef as ReactComponent };","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    IconButton,\r\n    Input,\r\n    PanelHeader,\r\n    PanelHeaderBack, PromoBanner,\r\n    ScreenSpinner,\r\n    Snackbar,\r\n    WriteBarIcon\r\n} from \"@vkontakte/vkui\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {\r\n    isPlatformDesktop\r\n} from \"../../js/utils\";\r\nimport {ReactComponent as IconErase2_20} from \"../../assets/drawing/icons/IconErase2_20.svg\";\r\nimport {Icon28CompassOutline, Icon28Crop, Icon28MailOutline, Icon28PaletteOutline} from \"@vkontakte/icons\";\r\n\r\nconst isDesktop = isPlatformDesktop();\r\n\r\nexport class GlobalCanvasInfo extends PureComponent {\r\n\r\n    render() {\r\n        const {t} = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                >\r\n                    {\r\n                        isDesktop && 'Общий холст'\r\n                    }\r\n                </PanelHeader>\r\n                <div className='GlobalCanvasInfo' style={{paddingBottom: 24}}>\r\n                    {\r\n                        !isDesktop && <h2 style={{textAlign: 'left'}}>Общий холст</h2>\r\n                    }\r\n                    <p style={{margin: !isDesktop && '8px 0 0 0'}}>\r\n                        На общем холсте могут рисовать все игроки. Рисовать можно на определённой области. Всего таких\r\n                        областей 25.\r\n                    </p>\r\n                    <div className='GlobalCanvas_Items__List'>\r\n                        {\r\n                            [\r\n                                [<Icon28CompassOutline width={20} height={20}/>, 'Перемещение по холсту'],\r\n                                [<Icon28PaletteOutline width={20} height={20}/>, 'Меню палитры'],\r\n                                [<IconErase2_20 />, 'Ластик позволяет стирать рисунок в определённом месте'],\r\n                                [<Icon28Crop width={20} height={20}/>, 'Показать весь холст'],\r\n                                [<Icon28MailOutline width={20} height={20}/>, 'Открыть чат']\r\n                            ].map((value, index) =>\r\n                                <div key={`item_${index}`}>{value[0]}<span>{value[1]}</span></div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                    <p style={{margin: '18px 0 0 0'}}>\r\n                        Свободную область можно арендовать (1000 монет на час). На арендованной области может рисовать\r\n                        только владелец. Продлить аренду невозможно — можно только купить её снова по окончанию срока.\r\n                    </p>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nGlobalCanvasInfo.defaultProps = {};\r\n\r\nGlobalCanvasInfo.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default GlobalCanvasInfo;","import React from 'react';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport '../../css/Drawing/Global.css';\r\n\r\nimport {\r\n    adAppApi,\r\n    get,\r\n    getRandomInts,\r\n    getUrlParams,\r\n    isPlatformDesktop,\r\n    isPlatformIOS,\r\n    loadFonts,\r\n    openUrl\r\n} from \"../../js/utils\";\r\nimport {vk_local_users, getVKUsers} from \"../../js/drawerapp/utils\";\r\nimport {\r\n    Button,\r\n    ModalCard,\r\n    ModalPage,\r\n    ModalRoot,\r\n    Panel,\r\n    ScreenSpinner,\r\n    Snackbar,\r\n    View,\r\n    ModalPageHeader,\r\n    PanelHeaderButton,\r\n    SliderSwitch,\r\n    Input,\r\n    IconButton,\r\n    SegmentedControl,\r\n    Div,\r\n    SplitLayout,\r\n    SplitCol, useAdaptivity, ViewWidth\r\n} from '@vkontakte/vkui';\r\nimport {\r\n    Icon16Link, Icon16Share,\r\n    Icon20AchievementCircleFillBlue,\r\n    Icon20FireCircleFillRed,\r\n    Icon20RecentCircleFillYellow, Icon20ThumbsUpCircleFillGreen, Icon20StoryReplyCircleFillViolet, Icon24Dismiss,\r\n    Icon28ChevronRightOutline,\r\n    Icon28ClockCircleFillGray, Icon28CopyOutline, Icon28SlidersOutline,\r\n    Icon56CakeCircleFillPurple,\r\n    Icon56ErrorTriangleOutline,\r\n    Icon56ServicesOutline, Icon20CancelCircleFillRed, Icon56PaletteOutline\r\n} from \"@vkontakte/icons\";\r\n\r\nimport fetch from 'node-fetch';\r\n\r\nimport {registerFont, createCanvas, loadImage} from 'canvas';\r\nimport request from \"request\";\r\n\r\nimport {ReactComponent as IconOnboard} from \"../../assets/drawing/icons/Icon.svg\";\r\nimport {ReactComponent as IconError} from \"../../assets/drawing/icons/IconError.svg\";\r\n\r\nimport Main from \"./Main\";\r\nimport Gallery from \"./Gallery\";\r\nimport Rating from \"./Rating\";\r\nimport Search from \"./Search\";\r\nimport Game from \"./Game\";\r\nimport Result from \"./Result\";\r\nimport Placeholder from \"./Placeholder\";\r\n\r\nimport Socket from '../../js/socket';\r\nimport Likes from \"./Likes\";\r\nimport PictureInfo from \"./PictureInfo\";\r\nimport Author from \"./Author\";\r\nimport Tags from \"./Tags\";\r\nimport Friends from \"./Friends\";\r\nimport FriendLobby from \"./FriendLoby\";\r\nimport Stats from \"./Stats\";\r\nimport Shop from \"./Shop\";\r\nimport GlobalCanvas from \"./GlobalCanvas\";\r\nimport GlobalCanvasInfo from \"./GlobalCanvasInfo\";\r\n\r\nimport (`../../css/Drawing/${window.location.search.length > 0 && JSON.parse('{\"' + decodeURI(window.location.search.substring(1)).replace(/\"/g, '\\\\\"').replace(/&/g, '\",\"').replace(/=/g, '\":\"') + '\"}').vk_platform === 'desktop_web' ? 'Desktop' : 'Mobile'}.css`);\r\n\r\nconst\r\n    socket = new Socket()\r\n;\r\nlet\r\n    bannersInterval,\r\n    connectInterval\r\n;\r\n\r\nexport const\r\n    app_version = '1.1.6',\r\n\r\n    MODAL_CARD_PLAY_MODE = 'play-mode',\r\n    MODAL_CARD_NEW_UPDATE = 'new-update',\r\n    MODAL_CARD_OUTDATED_VERSION = 'outdated-version',\r\n    MODAL_CARD_GLOBAL_CANVAS_ONBOARD = 'global-canvas',\r\n\r\n    MODAL_PAGE_FRIEND_LOBBY_SETTINGS = 'friend-lobby-settings'\r\n;\r\n\r\nclass Drawing extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isNotApp: false,\r\n\r\n            activePanel: 'main',\r\n            history: ['main'],\r\n\r\n            activeModal: null,\r\n            modalHistory: [],\r\n\r\n            colors: [\r\n                ['#ff0000', '#ff9a00', '#d0de21', '#4fdc4a', '#3fdad8', '#2fc9e2', '#1c7fee', '#ba0cf8', '#fb07d9', '#ff0000'],\r\n                '#000000',\r\n                '#FFFFFF',\r\n                '#E63902',\r\n                '#EA5A03',\r\n                '#FA8A00',\r\n                '#FBB101',\r\n                '#FDE401',\r\n                '#85B201',\r\n                '#019317',\r\n                '#019C8B',\r\n                '#035AA2',\r\n                '#00247A',\r\n                '#500A6D',\r\n                '#A9236B',\r\n                '#964B00',\r\n                '#F57C7C'\r\n            ],\r\n\r\n            __v_clicks: 0,\r\n\r\n            online: 0,\r\n\r\n            drawerId: 0,\r\n            lobbyId: 0,\r\n\r\n            isOnlineDrawing: true,\r\n\r\n            bannersCount: 9,\r\n            banners: [],\r\n            defaultBannerData: {\r\n                title: 'Заголовок',\r\n                domain: 'vk.com',\r\n                trackingLink: 'https://vk.com',\r\n                ctaText: 'Перейти',\r\n                advertisingLabel: 'Реклама',\r\n                iconLink: 'https://sun9-7.userapi.com/c846420/v846420985/1526c3/ISX7VF8NjZk.jpg',\r\n                description: 'Описание рекламы',\r\n                ageRestrictions: \"14+\",\r\n                statistics: [\r\n                    {url: '', type: 'playbackStarted'},\r\n                    {url: '', type: 'click'}\r\n                ]\r\n            },\r\n            connected: false,\r\n            dataUpdated: false,\r\n\r\n            author_works: [],\r\n\r\n            subGameInfo: {},\r\n\r\n            watchedShopItems: [],\r\n            boughtShopItems: [],\r\n\r\n            user: {},\r\n            friend_lobby: {}\r\n        };\r\n\r\n        this.componentDidMount = this.componentDidMount.bind(this);\r\n        this.updateData = this.updateData.bind(this);\r\n        this.back = () => {\r\n            const {history, popout, activeModal} = this.state;\r\n\r\n            if (popout !== null && popout !== undefined)\r\n                return;\r\n\r\n            if (activeModal !== null) {\r\n                this.setState({activeModal: null});\r\n                window.history.pushState({pop: 'popout'}, 'Title');\r\n                return;\r\n            }\r\n\r\n            if (history.length > 1) {\r\n                if (history[history.length - 1] === 'search') {\r\n                    socket.call('games.search');\r\n                    this.setState({\r\n                        snackbar: <Snackbar onClose={() => this.setState({snackbar: null})}>\r\n                            Поиск игры отменён\r\n                        </Snackbar>\r\n                    });\r\n                }\r\n\r\n                if (history[history.length - 1] === 'friend_lobby') {\r\n                    socket.call('friends.leaveLobby', {owner_id: this.state.friend_lobby.owner_id});\r\n                }\r\n\r\n                history.pop();\r\n                this.setState({activePanel: history[history.length - 1], history});\r\n                if (history[history.length - 1] !== 'search')\r\n                    this.setState({snackbar: null});\r\n            } else {\r\n                bridge.send('VKWebAppClose', {status: 'success'});\r\n            }\r\n        };\r\n        this.go = (panel) => {\r\n            const {history, activeModal} = this.state;\r\n            if (activeModal !== null) {\r\n                this.setState({activeModal: null, modalHistory: []});\r\n            }\r\n            if (history[history.length - 1] !== panel) {\r\n                history.push(panel);\r\n                window.history.pushState({activePanel: panel}, 'Title');\r\n                this.setState({activePanel: panel, history, snackbar: null});\r\n            }\r\n        };\r\n        this.setActivePanel = (panel, history = []) => {\r\n            this.setState({activePanel: panel, history: [...history, panel], snackbar: null});\r\n        };\r\n        this.setActiveModal = (activeModal = null) => {\r\n            let {modalHistory} = this.state;\r\n\r\n            if (activeModal === null) {\r\n                modalHistory = [];\r\n            } else if (modalHistory.indexOf(activeModal) !== -1) {\r\n                modalHistory = modalHistory.splice(\r\n                    0,\r\n                    modalHistory.indexOf(activeModal) + 1\r\n                );\r\n            } else {\r\n                modalHistory.push(activeModal);\r\n            }\r\n\r\n            this.setState({\r\n                activeModal,\r\n                modalHistory,\r\n            });\r\n        };\r\n        this.setPopout = (popout) => {\r\n            this.setState({popout});\r\n        };\r\n        this.socket = socket;\r\n    }\r\n\r\n    async componentDidMount() {\r\n        loadFonts();\r\n\r\n        window.addEventListener('popstate', e => {\r\n            e.preventDefault();\r\n            this.back();\r\n        });\r\n\r\n        bridge.subscribe(async ({detail: {type, data}}) => {\r\n            if (type !== undefined) {\r\n                if (type === 'vk-connect' && !data) {\r\n                    if (!this.state.isNotApp) {\r\n                        await this.setState({isNotApp: true});\r\n                        document.body.style.width = '660px';\r\n                        document.body.style.height = '600px';\r\n                        document.body.style.position = 'absolute';\r\n                        document.body.style.top = '50%';\r\n                        document.body.style.left = '50%';\r\n                        document.body.style.transform = 'translate(-50%, -50%)';\r\n                        console.log('Log in as not app version');\r\n                        this.componentDidMount();\r\n                    }\r\n                } else {\r\n                    console.log(type, data);\r\n                }\r\n            }\r\n            if (type === 'VKWebAppUpdateConfig') {\r\n                const schemeAttribute = document.createAttribute('scheme');\r\n                schemeAttribute.value = data.scheme ? data.scheme === 'client_light' ? 'bright_light' : data.scheme : 'bright_light';\r\n                document.body.attributes.setNamedItem(schemeAttribute);\r\n\r\n                const\r\n                    windowHeight = document.documentElement.clientHeight,\r\n                    windowWidth = document.documentElement.clientWidth,\r\n                    scale = 100 / 812 * (windowHeight > 0 ? windowHeight : 812) / 100\r\n                ;\r\n                document.body.style.setProperty('--scale-value', scale);\r\n                console.log(`windowHeight = ${document.documentElement.clientHeight}`);\r\n\r\n                document.body.setAttribute('_width', windowWidth);\r\n                document.body.setAttribute('_height', windowHeight);\r\n            } else if (type === 'VKWebAppViewRestore') {\r\n                this.setState({popout: null});\r\n                if (this.state.activePanel === 'global_canvas') {\r\n                    setTimeout(() => document.body.setAttribute('scheme', 'bright_light'), 500);\r\n                }\r\n            }\r\n        });\r\n\r\n        const\r\n            {isNotApp} = this.state,\r\n            isShowOnboard = !isNotApp && (await bridge.send('VKWebAppStorageGet', {keys: ['onboard']})).keys[0].value === '',\r\n            isShowVkGroup = !isNotApp && (await bridge.send('VKWebAppStorageGet', {keys: ['vk_group1']})).keys[0].value === '',\r\n            isShowUpdate = !isNotApp && (await bridge.send('VKWebAppStorageGet', {keys: ['update_01062022']})).keys[0].value === '',\r\n            isShowGlobalCanvas = !isNotApp && (await bridge.send('VKWebAppStorageGet', {keys: ['canvas_new_mode']})).keys[0].value === '',\r\n            isShowGlobalCanvasOnboard = !isNotApp && (await bridge.send('VKWebAppStorageGet', {keys: ['canvas_new_mode_onboard']})).keys[0].value === '',\r\n            vk_user = !isNotApp && await bridge.send('VKWebAppGetUserInfo'),\r\n            vk_user_ = await getVKUsers([vk_user ? vk_user.id : getUrlParams().vk_user_id])\r\n        ;\r\n        await this.setState({\r\n            isShowOnboard,\r\n            isShowVkGroup,\r\n            isShowGlobalCanvasOnboard,\r\n            isShowGlobalCanvas,\r\n            vk_user: vk_user || vk_user_[0]\r\n        });\r\n\r\n        bridge.send('VKWebAppEnableSwipeBack');\r\n\r\n        this.connect();\r\n\r\n        socket.subscribe('exit', r => {\r\n            this.setState({placeholderText: r.title, banned: r.banned});\r\n            this.setPopout(null);\r\n            if (r.banned) {\r\n                this.setState({placeholderNeed: 2});\r\n                this.setActivePanel('banned');\r\n            } else {\r\n                this.setState({placeholderNeed: 1});\r\n                this.setActivePanel('placeholder');\r\n            }\r\n            bridge.send('VKWebAppInit');\r\n        });\r\n        socket.subscribe('app_version', r => {\r\n            this.setState({app_version: r.app_version});\r\n        })\r\n        socket.onConnectionError((e) => {\r\n            console.error(e);\r\n            this.setState({placeholderText: 'Не удалось подключиться к серверу.', placeholderNeed: 1});\r\n            this.setPopout(null);\r\n            this.setActivePanel('placeholder');\r\n            bridge.send('VKWebAppInit');\r\n        });\r\n        socket.onDisconnect(() => {\r\n            this.setPopout(null);\r\n            if (this.state.placeholderNeed !== 2) {\r\n                this.setState({placeholderText: ''});\r\n                this.setActivePanel('placeholder');\r\n            }\r\n            bridge.send('VKWebAppInit');\r\n        });\r\n\r\n        await new Promise(resolve =>\r\n            socket.onConnect(async () => {\r\n                await this.setState({connected: true, placeholderNeed: 0});\r\n                console.log('Connected');\r\n                /*this.setState({test_game: true});*/\r\n                this.setActivePanel('main');\r\n                await this.updateData();\r\n\r\n                if (isShowVkGroup && !isShowOnboard) {\r\n                    setTimeout(() => {\r\n                        this.go('group_vk');\r\n                    }, 1000);\r\n                } else if (isShowUpdate && !isShowOnboard) {\r\n                    setTimeout(() => {\r\n                        this.setActiveModal(MODAL_CARD_NEW_UPDATE);\r\n                    }, 1000);\r\n                } else if (!isShowOnboard) {\r\n                    this.onChangeHash();\r\n                }\r\n                resolve(true);\r\n            })\r\n        );\r\n\r\n        clearInterval(bannersInterval);\r\n        bannersInterval =\r\n            setInterval(() => {\r\n                const {banners, bannersCount} = this.state;\r\n                for (let i = 0; i < bannersCount; i++) {\r\n                    bridge.send('VKWebAppGetAds', {}).then(data => {\r\n                        if (banners[i] !== false)\r\n                            banners[i] = data;\r\n                    });\r\n                }\r\n                this.setState({banners});\r\n            }, 3000);\r\n\r\n        bridge.send('VKWebAppInit');\r\n\r\n        adAppApi('stats.join');\r\n    }\r\n\r\n    connect() {\r\n        socket.connect('https://draw.avocado.special.vk-apps.com', getUrlParams());\r\n        setTimeout(() => {\r\n            if (!this.state.dataUpdated) {\r\n                this.updateData();\r\n            }\r\n            if (!this.state.connected) {\r\n                clearInterval(connectInterval);\r\n                connectInterval = setInterval(() => {\r\n                    if (!this.state.connected) {\r\n                        socket.connect('https://draw.avocado.special.vk-apps.com', getUrlParams());\r\n                    } else {\r\n                        clearInterval(connectInterval);\r\n                    }\r\n                }, 1000);\r\n            }\r\n        }, 1000);\r\n    }\r\n\r\n    async updateData() {\r\n        await new Promise(resolve => {\r\n            socket.call('users.getTopNumber', {}, r => {\r\n                this.setState({top_number: r.response});\r\n            });\r\n            socket.call('users.getTop', {}, async r => {\r\n                const\r\n                    user_ids = r.response.map(value => value.id)\r\n                ;\r\n                await getVKUsers(user_ids);\r\n\r\n                this.setState({top: r.response.map(value => ({...vk_local_users[value.id], ...value}))});\r\n            });\r\n            socket.call('users.get', {}, r => {\r\n                this.setState({user: r.response});\r\n\r\n                socket.call('games.getByDrawerId', {id: this.state.vk_user.id, limit: 10}, r => {\r\n                    this.setState({gamesAsDrawer: r.response});\r\n                    let user_ids = r.response.map(value => value.drawerId);\r\n\r\n                    socket.call('games.getByWinnerId', {id: this.state.vk_user.id, limit: 10}, r => {\r\n                        user_ids = [...user_ids, ...r.response.map(value => value.drawerId)];\r\n\r\n                        getVKUsers(user_ids);\r\n                        setTimeout(async () => {\r\n                            await this.setState({gamesAsWinner: r.response, dataUpdated: true});\r\n                            resolve(true);\r\n                        }, 400);\r\n                    });\r\n                });\r\n            })\r\n        });\r\n\r\n        this.setState({time: Date.now()});\r\n        return true;\r\n    }\r\n\r\n    onChangeHash() {\r\n        if (window.location.hash.startsWith('#')) {\r\n            const\r\n                hash = window.location.hash.substring(1),\r\n                keys = [\r\n                    {\r\n                        key: 'author',\r\n                        do: value => {\r\n                            this.setPopout(<ScreenSpinner/>);\r\n                            this.socket.call('users.getById', {id: value}, async r => {\r\n                                if (r.response !== null) {\r\n                                    await getVKUsers([value]);\r\n                                    await this.setState({\r\n                                        author: r.response\r\n                                    });\r\n                                    this.socket.call('games.getByDrawerId', {id: value}, async r => {\r\n                                        await this.setState({\r\n                                            author_works: r.response\r\n                                        });\r\n                                        setTimeout(() => {\r\n                                            this.go('author');\r\n                                            this.setPopout(null);\r\n                                        }, 400);\r\n                                    });\r\n                                } else {\r\n                                    this.setPopout(null);\r\n                                }\r\n                            });\r\n                        }\r\n                    },\r\n                    {\r\n                        key: 'picture',\r\n                        do: async value => {\r\n                            try {\r\n                                const\r\n                                    gameId = parseInt(value)\r\n                                ;\r\n\r\n                                this.setPopout(<ScreenSpinner/>);\r\n                                this.socket.call('games.getById', {id: gameId}, async r => {\r\n                                    if (r.response !== null) {\r\n                                        const {drawerId} = r.response;\r\n                                        await getVKUsers([drawerId]);\r\n                                        await this.setState({\r\n                                            gamesAsAuthor: [r.response],\r\n                                            like_currentPictureSelected: 0,\r\n                                            like_method: '',\r\n                                            like_param: 'gamesAsAuthor',\r\n                                            like_user_id: drawerId\r\n                                        });\r\n                                        setTimeout(() => {\r\n                                            this.go('picture_info');\r\n                                            this.setPopout(null);\r\n                                        }, 400);\r\n                                    } else {\r\n                                        this.setPopout(null);\r\n                                    }\r\n                                });\r\n                            } catch (e) {\r\n                                console.error(e);\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        key: 'lobby',\r\n                        do: value => {\r\n                            this.setPopout(<ScreenSpinner/>);\r\n                            this.socket.call('friends.joinLobby', {owner_id: parseInt(value), url: true}, async r => {\r\n                                if (r.response) {\r\n                                    await getVKUsers(r.response.members);\r\n                                    await this.setState({\r\n                                        friend_lobby: r.response\r\n                                    });\r\n                                    setTimeout(() => {\r\n                                        this.go('friend_lobby');\r\n                                        this.setPopout(null);\r\n                                    }, 400);\r\n                                } else {\r\n                                    this.setPopout(null);\r\n                                }\r\n                            });\r\n                        }\r\n                    },\r\n                ]\r\n            ;\r\n\r\n            for (const key of keys) {\r\n                if (hash.startsWith(key.key)) {\r\n                    key.do(hash.substring(key.key.length));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    _tags() {\r\n        return [\r\n            [\r\n                'tag_interesting',\r\n                <Icon20FireCircleFillRed/>,\r\n                'Интересный автор',\r\n                'Метка выдаётся при достижении 1000 лайков'\r\n            ],\r\n            [\r\n                'tag_rater',\r\n                <Icon20ThumbsUpCircleFillGreen/>,\r\n                'Оценщик',\r\n                'Оценить 100 картин'\r\n            ],\r\n            [\r\n                'tag_agitator',\r\n                <Icon20StoryReplyCircleFillViolet/>,\r\n                'Агитатор',\r\n                'Рассказать о своих работах друзьям (10 раз)'\r\n            ],\r\n            [\r\n                'tag_rapidfire',\r\n                <Icon20RecentCircleFillYellow/>,\r\n                'Скорострел',\r\n                'Метка выдаётся за картину, нарисованную и угаданную за 5 секунд'\r\n            ],\r\n            [\r\n                'tag_turtle',\r\n                <Icon28ClockCircleFillGray width={20} height={20}/>,\r\n                'Черепаха',\r\n                'Метка выдаётся за картину, нарисованную и угаданную за 85-90 секунд'\r\n            ],\r\n            [\r\n                'tag_creative',\r\n                <Icon20AchievementCircleFillBlue/>,\r\n                'Креативный',\r\n                'Метка выдаётся вручную администрацией, если та посчитает твои картины креативными'\r\n            ],\r\n            [\r\n                'tag_banned',\r\n                <Icon20CancelCircleFillRed/>,\r\n                'Нарушитель',\r\n                'Метка свидетельствует о нарушении правил игры'\r\n            ],\r\n        ];\r\n    }\r\n\r\n    _tag_modal(tag_name) {\r\n        const tag_info = this._tags().find(value => value[0] === tag_name);\r\n        return (\r\n            <ModalCard\r\n                key={tag_name}\r\n                id={tag_name}\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={React.cloneElement(tag_info[1], {width: 56, height: 56})}\r\n                header={tag_info[2]}\r\n                subheader={tag_info[3]}\r\n                actions={\r\n                    <Button\r\n                        size='l'\r\n                        mode='gradient_blue'\r\n                        onClick={() => this.go('tags')}\r\n                    >\r\n                        Подробнее\r\n                    </Button>\r\n                }\r\n            ></ModalCard>\r\n        );\r\n    }\r\n\r\n    isNonScrollingElement(element_id) {\r\n        return ['global_canvas', 'search'].indexOf(element_id) > -1;\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {\r\n                activePanel, activeModal,\r\n                popout, snackbar,\r\n\r\n                isShowOnboard, isShowVkGroup,\r\n                vk_user, user, banned,\r\n\r\n                placeholderText,\r\n\r\n                gamesAsWinner, gamesAsDrawer,\r\n\r\n                drawerId, winnerId, lobbyId, gameId, word,\r\n                like_picturesList, like_currentPictureSelected, like_method, like_param, like_user_id,\r\n\r\n                isOnlineDrawing,\r\n\r\n                friend_lobby,\r\n\r\n                watchedShopItems, boughtShopItems\r\n            } = this.state,\r\n            showConnecting = !(vk_user && user && gamesAsWinner && gamesAsDrawer),\r\n\r\n            modal = (\r\n                <ModalRoot activeModal={activeModal}>\r\n                    {\r\n                        this._tags().map(value => this._tag_modal(value[0]))\r\n                    }\r\n                    <ModalCard\r\n                        id={MODAL_CARD_PLAY_MODE}\r\n                        onClose={() => this.setActiveModal(null)}\r\n                        icon={<Icon56ServicesOutline/>}\r\n                        header='Какую игру запускать?'\r\n                        actionsLayout='horizontal'\r\n                        actions={\r\n                            [\r\n                                <Button\r\n                                    size='l'\r\n                                    mode='gradient_blue'\r\n                                    onClick={() => this.go('search')}\r\n                                >\r\n                                    Обычная\r\n                                </Button>,\r\n                                <Button\r\n                                    size='l'\r\n                                    mode='gradient_violet'\r\n                                    onClick={() => this.go('friends')}\r\n                                >\r\n                                    С друзьями\r\n                                </Button>\r\n                            ]\r\n                        }\r\n                    ></ModalCard>\r\n                    <ModalCard\r\n                        id={MODAL_CARD_NEW_UPDATE}\r\n                        onClose={() => this.setActiveModal(null)}\r\n                        icon={<Icon56CakeCircleFillPurple/>}\r\n                        header='Обновление'\r\n                        subheader='Глобальные изменения, внесение поправок в правила игры.'\r\n                        actions={\r\n                            <Button\r\n                                size='l'\r\n                                mode='gradient_violet'\r\n                                onClick={() => {\r\n                                    bridge.send('VKWebAppStorageSet', {key: 'update_01062022', value: '1'});\r\n                                    this.setActiveModal(null);\r\n                                    openUrl('https://vk.com/@draw_app-update-01-06-2022');\r\n                                }}\r\n                            >\r\n                                Читать\r\n                            </Button>\r\n                        }\r\n                    ></ModalCard>\r\n                    <ModalCard\r\n                        id={MODAL_CARD_GLOBAL_CANVAS_ONBOARD}\r\n                        onClose={() => this.setActiveModal(null)}\r\n                        icon={<Icon56PaletteOutline/>}\r\n                        header='Новый режим'\r\n                        subheader='Давай сначала научимся использовать все инструменты, которые пригодятся в этом режиме.'\r\n                        actions={\r\n                            <Button\r\n                                size='l'\r\n                                mode='gradient_blue'\r\n                                onClick={() => {\r\n                                    bridge.send('VKWebAppStorageSet', {key: 'canvas_new_mode_onboard', value: '1'});\r\n                                    this.setState({isShowGlobalCanvasOnboard: false});\r\n                                    this.setActiveModal(null);\r\n                                    this.go('global_canvas_info');\r\n                                }}\r\n                            >\r\n                                Посмотреть обучение\r\n                            </Button>\r\n                        }\r\n                    ></ModalCard>\r\n                    <ModalCard\r\n                        id={MODAL_CARD_OUTDATED_VERSION}\r\n                        onClose={() => this.setActiveModal(null)}\r\n                        icon={<Icon56ErrorTriangleOutline fill='#E63902'/>}\r\n                        header='Предупреждение'\r\n                        subheader={`Вы используете устаревшую версию мини-приложения. ${isPlatformIOS() ? 'Обновите приложение ВКонтакте через App Store.' : 'Попробуйте почистить кэш (через три точки справа).'}`}\r\n                    ></ModalCard>\r\n                    <ModalPage\r\n                        id={MODAL_PAGE_FRIEND_LOBBY_SETTINGS}\r\n                        onClose={() => this.setActiveModal(null)}\r\n                        dynamicContentHeight\r\n                        header={\r\n                            <ModalPageHeader\r\n                                right={\r\n                                    <PanelHeaderButton onClick={() => this.setActiveModal(null)}>\r\n                                        <Icon24Dismiss/>\r\n                                    </PanelHeaderButton>\r\n                                }\r\n                            >\r\n                                Настройки\r\n                            </ModalPageHeader>\r\n                        }\r\n                    >\r\n                        <Div style={{paddingBottom: 24}}>\r\n                            <div className='Span'>\r\n                                Видимость лобби\r\n                            </div>\r\n                            <SegmentedControl\r\n                                style={{marginTop: 8}}\r\n                                value={friend_lobby.friendsOnly ? 'private' : 'public'}\r\n                                onChange={value => {\r\n                                    friend_lobby.friendsOnly = value === 'private';\r\n                                    this.setState({friend_lobby});\r\n                                    socket.call('friends.changeVisibility', {friendsOnly: friend_lobby.friendsOnly});\r\n                                }}\r\n                                options={[{label: 'Для всех', value: 'public'},\r\n                                    {label: 'Для друзей', value: 'private'}]}\r\n                            />\r\n                            {\r\n                                (user.premium || user.admin) &&\r\n                                <React.Fragment>\r\n                                    <div className='Span' style={{marginTop: 12}}>\r\n                                        Максимальное кол-во игроков\r\n                                    </div>\r\n                                    <Input\r\n                                        style={{marginTop: 8}}\r\n                                        placeholder='Число (макс 500)' type='number'\r\n                                        defaultValue={20} min={2} max={500}\r\n                                        onChange={e => {\r\n                                            socket.call('friends.changeMaxPlayers', {count: e.currentTarget.value});\r\n                                        }}/>\r\n                                </React.Fragment>\r\n                            }\r\n                            {\r\n                                !friend_lobby.friendsOnly &&\r\n                                <Button\r\n                                    style={{\r\n                                        marginTop: 12, width: '100%'\r\n                                    }}\r\n                                    before={<Icon16Share/>}\r\n                                    size='m' mode='gradient_gray' stretched\r\n                                    onClick={async () => {\r\n                                        try {\r\n                                            await bridge.send('VKWebAppShare', {link: `https://vk.com/drawapp#lobby${user.id}`});\r\n                                        } catch (e) {\r\n                                            bridge.send('VKWebAppCopyText', {text: `https://vk.com/drawapp#lobby${user.id}`});\r\n                                            this.setActiveModal(null);\r\n                                            this.setState({\r\n                                                snackbar: <Snackbar\r\n                                                    onClose={() => this.setState({snackbar: null})}>\r\n                                                    Ссылка скопирована\r\n                                                </Snackbar>\r\n                                            });\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    Отправить приглашение\r\n                                </Button>\r\n                            }\r\n                        </Div>\r\n                    </ModalPage>\r\n                </ModalRoot>\r\n            )\r\n        ;\r\n\r\n        return (\r\n            <SplitLayout\r\n                popout={popout}\r\n                modal={modal}\r\n            >\r\n                <SplitCol animate={!isPlatformDesktop()}>\r\n                    <View\r\n                        style={{\r\n                            overflow: this.isNonScrollingElement(activePanel) && 'hidden'\r\n                        }}\r\n                        activePanel={(activePanel !== 'placeholder' && activePanel !== 'banned') ? (showConnecting ? 'connecting' : isShowOnboard ? 'onboard' : activePanel) : activePanel}\r\n                        onSwipeBack={this.back}\r\n                        history={this.state.history}\r\n                    >\r\n                        {\r\n                            [\r\n                                {\r\n                                    id: 'onboard',\r\n                                    component: <Placeholder\r\n                                        icon={<IconOnboard/>}\r\n                                        title='Добро пожаловать'\r\n                                        description='Здесь Вы можете почувствовать себя в роли как художника, так и Шерлока. Рисуйте картины и угадывайте чужие.'\r\n                                        buttonIcon={<Icon28ChevronRightOutline width={16} height={16}/>}\r\n                                        buttonText='Продолжить'\r\n                                        buttonOnClick={() => {\r\n                                            bridge.send('VKWebAppStorageSet', {key: 'onboard', value: '1'});\r\n                                            this.setState({isShowOnboard: false});\r\n                                        }}\r\n                                    />\r\n                                },\r\n                                {\r\n                                    id: 'connecting',\r\n                                    component: <Placeholder\r\n                                        icon={<IconOnboard/>}\r\n                                        title='Подключение'\r\n                                        description='Выполняется подключение к серверу...'\r\n                                    />\r\n                                },\r\n                                {\r\n                                    id: 'placeholder',\r\n                                    component: <Placeholder\r\n                                        icon={<IconError/>}\r\n                                        title='Соединение потеряно'\r\n                                        description={placeholderText}\r\n                                        buttonText='Переподключиться'\r\n                                        buttonOnClick={() => {\r\n                                            this.connect();\r\n                                        }}\r\n                                    />\r\n                                },\r\n                                {\r\n                                    id: 'main',\r\n                                    component: <React.Fragment>\r\n                                        <Main t={this} time={this.state.time}/>\r\n                                        {snackbar}\r\n                                    </React.Fragment>\r\n                                },\r\n                                {\r\n                                    id: 'shop',\r\n                                    component: <React.Fragment>\r\n                                        <Shop t={this} watchedShopItems={watchedShopItems}\r\n                                              boughtShopItems={boughtShopItems}/>\r\n                                        {snackbar}\r\n                                    </React.Fragment>\r\n                                },\r\n                                {\r\n                                    id: 'stats',\r\n                                    component: <React.Fragment>\r\n                                        <Stats t={this}/>\r\n                                        {snackbar}\r\n                                    </React.Fragment>\r\n                                },\r\n                                {\r\n                                    id: 'gallery',\r\n                                    component: <React.Fragment>\r\n                                        <Gallery t={this}/>\r\n                                        {snackbar}\r\n                                    </React.Fragment>\r\n                                },\r\n                                {\r\n                                    id: 'rating',\r\n                                    component: <React.Fragment>\r\n                                        <Rating t={this}/>\r\n                                        {snackbar}\r\n                                    </React.Fragment>\r\n                                },\r\n                                {\r\n                                    id: 'likes',\r\n                                    component: <React.Fragment>\r\n                                        <Likes t={this}/>\r\n                                        {snackbar}\r\n                                    </React.Fragment>\r\n                                },\r\n                                {\r\n                                    id: 'picture_info',\r\n                                    component: <React.Fragment>\r\n                                        <PictureInfo\r\n                                            t={this}\r\n                                            current={like_currentPictureSelected}\r\n                                            method={like_method} param={like_param} user_id={like_user_id}\r\n                                        />\r\n                                        {snackbar}\r\n                                    </React.Fragment>\r\n                                },\r\n                                {\r\n                                    id: 'author',\r\n                                    component: <Author t={this}/>\r\n                                },\r\n                                {\r\n                                    id: 'search',\r\n                                    component: <Search t={this}/>\r\n                                },\r\n                                {\r\n                                    id: 'game',\r\n                                    component: <React.Fragment>\r\n                                        <Game t={this} drawerId={drawerId} lobbyId={lobbyId} online={isOnlineDrawing}\r\n                                              word={word}/>\r\n                                        {snackbar}\r\n                                    </React.Fragment>\r\n                                },\r\n                                {\r\n                                    id: 'global_canvas',\r\n                                    component: <React.Fragment>\r\n                                        <GlobalCanvas t={this}/>\r\n                                        {snackbar}\r\n                                    </React.Fragment>\r\n                                },\r\n                                {\r\n                                    id: 'global_canvas_info',\r\n                                    component: <React.Fragment>\r\n                                        <GlobalCanvasInfo t={this}/>\r\n                                        {snackbar}\r\n                                    </React.Fragment>\r\n                                },\r\n                                {\r\n                                    id: 'result',\r\n                                    component: <React.Fragment>\r\n                                        <Result t={this} drawerId={drawerId} winnerId={winnerId} word={word}\r\n                                                gameId={gameId}/>\r\n                                        {snackbar}\r\n                                    </React.Fragment>\r\n                                },\r\n                                {\r\n                                    id: 'tags',\r\n                                    component: <Tags t={this}/>\r\n                                },\r\n                                {\r\n                                    id: 'friends',\r\n                                    component: <React.Fragment>\r\n                                        <Friends t={this}/>\r\n                                        {snackbar}\r\n                                    </React.Fragment>\r\n                                },\r\n                                {\r\n                                    id: 'friend_lobby',\r\n                                    component: <React.Fragment>\r\n                                        <FriendLobby t={this} friend_lobby={friend_lobby}/>\r\n                                        {snackbar}\r\n                                    </React.Fragment>\r\n                                },\r\n                                {\r\n                                    id: 'group_vk',\r\n                                    component: <Placeholder\r\n                                        icon={<img src={require('../../assets/drawing/icons/Icon_Group.png')}\r\n                                                   alt='icon'/>}\r\n                                        title='С возвращением!'\r\n                                        description='Не хочешь вступить в наше сообщество ВКонтакте? Именно там публикуются все крутые обновления'\r\n                                        buttonText='Вступить'\r\n                                        buttonOnClick={async () => {\r\n                                            bridge.send('VKWebAppStorageSet', {key: 'vk_group1', value: '1'});\r\n                                            this.setState({isShowVkGroup: false});\r\n                                            try {\r\n                                                await bridge.send('VKWebAppJoinGroup', {group_id: 208964042});\r\n                                                adAppApi('stats.subscribe', {group_id: 208964042});\r\n                                            } catch (e) {\r\n                                            }\r\n                                            this.back();\r\n                                        }}\r\n                                        buttonMode='gradient_gray'\r\n                                        buttonBack={true}\r\n                                        t={this}\r\n                                    />\r\n                                },\r\n                                {\r\n                                    id: 'vk_donut',\r\n                                    component: <Placeholder\r\n                                        icon={<img src={require('../../assets/drawing/icons/Icon_Donut.png')}\r\n                                                   alt='icon'/>}\r\n                                        title='VK Donut'\r\n                                        description='Чтобы получить доступ к дополнительным функциям, оформите подписку.'\r\n                                        buttonText='Перейти'\r\n                                        buttonOnClick={() => {\r\n                                            openUrl('https://vk.com/donut/draw_app');\r\n                                        }}\r\n                                        buttonMode='gradient_donut'\r\n                                        buttonBack={true}\r\n                                        t={this}\r\n                                    />\r\n                                },\r\n                                {\r\n                                    id: 'vk_donut_ios',\r\n                                    component: <Placeholder\r\n                                        icon={<img src={require('../../assets/drawing/icons/Icon_Donut.png')}\r\n                                                   alt='icon'/>}\r\n                                        title='VK Donut'\r\n                                        description='Для уточнения информации, напишите нам в группу ВКонтакте.'\r\n                                        buttonText='Написать'\r\n                                        buttonOnClick={() => {\r\n                                            openUrl('https://vk.com/draw_app');\r\n                                        }}\r\n                                        buttonMode='gradient_donut'\r\n                                        buttonBack={true}\r\n                                        t={this}\r\n                                    />\r\n                                },\r\n                                {\r\n                                    id: 'banned',\r\n                                    component: <Placeholder\r\n                                        icon={<img src={require('../../assets/drawing/icons/Icon_Group.png')}\r\n                                                   alt='icon'/>}\r\n                                        title='Блокировка'\r\n                                        description={`Вы были заблокированы за нарушение правил. Дата разблокировки: ${new Date(banned + (24 * 60 * 60 * 1000)).toLocaleDateString('ru', {\r\n                                            day: 'numeric',\r\n                                            month: 'numeric',\r\n                                            year: 'numeric',\r\n                                            hour: 'numeric',\r\n                                            minute: 'numeric'\r\n                                        })}`}\r\n                                        buttonText='Перейти в группу'\r\n                                        buttonOnClick={() => {\r\n                                            openUrl('https://vk.com/club' + 208964042);\r\n                                        }}\r\n                                        buttonMode='gradient_gray'\r\n                                        t={this}\r\n                                    />\r\n                                },\r\n                            ].map(({id, component}, index) =>\r\n                                <Panel id={id} key={`Panel__${index}`}>\r\n                                    {component}\r\n                                </Panel>\r\n                            )\r\n                        }\r\n                    </View>\r\n                </SplitCol>\r\n            </SplitLayout>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Drawing;","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport '@vkontakte/vkui/dist/unstable.css'\nimport {\n    AdaptivityProvider,\n    ConfigProvider,\n    useAdaptivity,\n    AppRoot,\n    SplitLayout,\n    SplitCol,\n    ViewWidth,\n    View,\n    Panel,\n    PanelHeader,\n    Header,\n    Group,\n    SimpleCell,\n} from \"@vkontakte/vkui\";\n\nimport './css/Fonts.css';\nimport './css/Error.css';\nimport './css/Utils.css';\n\n//import App from './apps/Tracker';\n//import App from './apps/MedicalCard';\n\n//import App from './apps/Wheel';\n//import App from './apps/AskMe';\n//import App from './apps/LoveAnalysis';\n//import App from './apps/YearTest';\n//import App from './apps/IQTest';\n//import App from './apps/MvsW';\n//import App from './apps/DeathDate';\n//import App from './apps/DeathDate2';\n//import App from './apps/Slaves';\n//import App from './apps/VKTime';\n//import App from './apps/LikesStat';\n//import App from './apps/VKAccPrice';\n//import App from './apps/DateCelebrity';\n//import App from './apps/NameInCountry';\n//import App from './apps/AccKarma';\n//import App from './apps/Free1000Stickers';\n\n//import App from './apps/BattleStat';\n//import App from './apps/BattleStatCatalog';\n\n//import App from './apps/AdvertisementApp';\n//import App from './apps/AdvertisementAppSite';\n\n//import App from './apps/ClickerBattle/ClickerBattle';\n\nimport App from './apps/Drawing/Drawing';\n//import App from './apps/Drawing/Global';\n\n//import App from './apps/RandomCooking';\n\nReactDOM.render(\n\t\tfalse ?\n\t\t<App />\n\t\t:\n        <ConfigProvider>\n            <AdaptivityProvider>\n                <AppRoot>\n                    <App />\n                </AppRoot>\n            </AdaptivityProvider>\n        </ConfigProvider>, document.getElementById('root')\n);\n"],"sourceRoot":""}