(window.webpackJsonpminiapp=window.webpackJsonpminiapp||[]).push([[0],{165:function(e,t,n){e.exports=n.p+"static/media/Story1.c1713922.png"},193:function(e,t,n){},266:function(e,t,n){e.exports=n.p+"static/media/Story2.28d56ba9.png"},267:function(e,t,n){e.exports=n.p+"static/media/Story3.2f47cccb.png"},364:function(e,t,n){e.exports=n(693)},454:function(e,t,n){},455:function(e,t,n){},456:function(e,t,n){},475:function(e,t){},477:function(e,t){},507:function(e,t){},508:function(e,t){},552:function(e,t){},554:function(e,t){},577:function(e,t){},668:function(e,t,n){var a={"./Story1.png":165,"./Story2.png":266,"./Story3.png":267};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=668},692:function(e,t,n){var a={"./Desktop.css":[694,3],"./Global.css":[193],"./Mobile.css":[695,4]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(r,7)}))}r.keys=function(){return Object.keys(a)},r.id=692,e.exports=r},693:function(e,t,n){"use strict";n.r(t);n(365),n(391),n(393),n(394),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433);var a=n(0),r=n.n(a),c=n(123),o=n.n(c),s=(n(441),n(442),n(7)),i=(n(454),n(455),n(456),n(24)),l=n(54),u=n(3),p=n.n(u),m=n(8),d=n(27),h=n(28),f=n(33),v=n(32),g=n(41),b=n(34),y=n(21),E=n.n(y);n(193);var k=["SF Pro Text","SF Pro Text Heavy","SF Pro Text Semibold","SF Pro Display","SF Pro Display Bold","SF Pro Display Semibold","SF Pro Display Medium","SF Pro Rounded","SF Pro Rounded Semibold","SF Pro Rounded Bold","SF UI Display","SF UI Text","TT Commons","TT Commons Bold","TT Commons Demibold","Manrope ExtraBold"];function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=!0,n=!1,a=void 0;try{for(var r,c=function(){var e=r.value,t=document.createElement("span");t.style.fontFamily=e,t.innerText=".",document.body.appendChild(t),setTimeout((function(){return t.remove()}),1)},o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)c()}catch(s){n=!0,a=s}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}}function C(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==e){var a=[];return a[e]||(a[e]=e%100>4&&e%100<20?2:[2,0,1,1,1,2][Math.min(e%10,5)]),(n?e+" ":"")+t[a[e]]}}function x(e){try{return e.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}catch(t){return 0}}function O(){return window.location.search.length>0&&JSON.parse('{"'+decodeURI(window.location.search.substring(1)).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}function _(){return"desktop_web"===O().vk_platform}function j(e){var t=document.createElement("a");t.href=e,t.target="_blank",t.click(),t.remove()}function S(e){return window.location.origin+window.location.pathname.replace("/index.html","")+e.substring(1)}function P(e){return I.apply(this,arguments)}function I(){return(I=Object(m.a)(p.a.mark((function e(t){var n,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.createElement("canvas"),a=n.getContext("2d"),(r=new Image).src="https://murmuring-bastion-20764.herokuapp.com/"+t,r.crossOrigin="Anonymous",e.next=5,new Promise((function(e){return r.onload=function(){n.width=this.width,n.height=this.height,a.drawImage(r,0,0,this.width,this.height),e(n.toDataURL("image/png"))}}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L={},M=["first_name","last_name","first_name_dat","first_name_nom","first_name_gen","first_name_acc","first_name_ins","first_name_abl","last_name_dat","last_name_nom","last_name_gen","last_name_acc","last_name_ins","last_name_abl"];function A(e){return T.apply(this,arguments)}function T(){return(T=Object(m.a)(p.a.mark((function e(t){var n,a,r,c,o,s,l,u,m,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(i.a)(new Set(t.filter((function(e){return void 0===L[e]&&void 0!==e})).map((function(e){return"number"===typeof e?e:e.replace("@","").replace("id","").replace("vk.com/","").replace("http://","").replace("https://","")})))),a=Math.floor(n.length/100),!(n.length>0)){e.next=32;break}r=[],c=0;case 4:if(!(c<a+1)){e.next=13;break}return e.t0=r,e.next=8,W("users.getVK",{user_ids:n.slice(100*c,100*c+100).join(","),fields:["screen_name","photo_100","photo_200","photo_max_orig","sex"].concat(M).join(",")});case 8:e.t1=e.sent,r=e.t0.concat.call(e.t0,e.t1);case 10:c++,e.next=4;break;case 13:for(o=!0,s=!1,l=void 0,e.prev=16,u=r[Symbol.iterator]();!(o=(m=u.next()).done);o=!0)d=m.value,L[d.id]=d;e.next=24;break;case 20:e.prev=20,e.t2=e.catch(16),s=!0,l=e.t2;case 24:e.prev=24,e.prev=25,o||null==u.return||u.return();case 27:if(e.prev=27,!s){e.next=30;break}throw l;case 30:return e.finish(27);case 31:return e.finish(24);case 32:return e.abrupt("return",t.map((function(e){return L[e]||L[Object.keys(L).find((function(t){return L[t].screen_name===e}))]})));case 33:case"end":return e.stop()}}),e,null,[[16,20,24,32],[25,,27,31]])})))).apply(this,arguments)}function W(e){return N.apply(this,arguments)}function N(){return(N=Object(m.a)(p.a.mark((function e(t){var n,a,r,c,o=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},a=D({},O(),{query:JSON.stringify(n)}),r=a?"?"+Object.keys(a).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(a[e])})).join("&"):"",c="https://draw.avocado.special.vk-apps.com/api/".concat(t).concat(r),e.next=4,new Promise((function(e,t){fetch(c,{method:"GET"}).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(t){return e({error:{code:-1,text:t.toString()}})}))}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=n(703);n(459),n(80),n(460);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function U(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Z=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M110 3.0095V184.326C54.6271 180.939 -0.694326 132.316 31.5388 55.8662C48.1357 16.502 79.4017 2.58244 110 3.0095Z",fill:"white"}),G=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M110 184.326V3.00952C149.416 3.55965 187.724 27.9163 192.141 52.3571C192.5 54.3448 190.978 56.1206 189 56.5322C129.309 68.9569 155.694 126.363 186.92 132.782C189.625 133.338 191.547 136.155 190.451 138.689C175.893 172.35 142.937 186.341 110 184.326Z",fill:"#E7D0A9"}),V=r.a.createElement("path",{d:"M38 61.5C76.8338 -30.605 173.437 7.4338 180.196 52.3506C180.497 54.3466 178.98 56.1203 177.004 56.5316C117.201 68.977 143.788 126.568 175.088 132.816C177.748 133.347 179.662 136.087 178.68 138.616C142.96 230.579 -5.46898 164.599 38 61.5Z",fill:"#FFE4B8"}),K=r.a.createElement("path",{d:"M150 40C150 49.3888 142.389 57 133 57C133 57 133 49.3888 133 40C133 30.6112 133 23 133 23C142.389 23 150 30.6112 150 40Z",fill:"#3769A5"}),Y=r.a.createElement("path",{d:"M116 40C116 49.3888 123.611 57 133 57C133 57 133 49.3888 133 40C133 30.6112 133 23 133 23C123.611 23 116 30.6112 116 40Z",fill:"white"}),z=r.a.createElement("ellipse",{cx:131.5,cy:40,rx:11.5,ry:17,fill:"#4E9BD4"}),X=r.a.createElement("circle",{cx:133,cy:40,r:18.5,stroke:"#171C1F",strokeWidth:5}),H=r.a.createElement("path",{d:"M97 49C97 58.3888 89.3888 66 80 66C80 66 80 58.3888 80 49C80 39.6112 80 32 80 32C89.3888 32 97 39.6112 97 49Z",fill:"#EE3C7A"}),J=r.a.createElement("path",{d:"M63 49C63 58.3888 70.6112 66 80 66C80 66 80 58.3888 80 49C80 39.6112 80 32 80 32C70.6112 32 63 39.6112 63 49Z",fill:"white"}),q=r.a.createElement("ellipse",{cx:78.5,cy:49,rx:11.5,ry:17,fill:"#F05F88"}),$=r.a.createElement("circle",{cx:80,cy:49,r:18.5,stroke:"#171C1F",strokeWidth:5}),Q=r.a.createElement("path",{d:"M74 98C74 107.389 66.3888 115 57 115C57 115 57 107.389 57 98C57 88.6112 57 81 57 81C66.3888 81 74 88.6112 74 98Z",fill:"#FAAF1A"}),ee=r.a.createElement("path",{d:"M40 98C40 107.389 47.6112 115 57 115C57 115 57 107.389 57 98C57 88.6112 57 81 57 81C47.6112 81 40 88.6112 40 98Z",fill:"white"}),te=r.a.createElement("ellipse",{cx:55.5,cy:98,rx:11.5,ry:17,fill:"#FBD20A"}),ne=r.a.createElement("circle",{cx:57,cy:98,r:18.5,stroke:"#171C1F",strokeWidth:5}),ae=r.a.createElement("path",{d:"M97 142C97 151.389 89.3888 159 80 159C80 159 80 151.389 80 142C80 132.611 80 125 80 125C89.3888 125 97 132.611 97 142Z",fill:"#F05225"}),re=r.a.createElement("path",{d:"M63 142C63 151.389 70.6112 159 80 159C80 159 80 151.389 80 142C80 132.611 80 125 80 125C70.6112 125 63 132.611 63 142Z",fill:"white"}),ce=r.a.createElement("ellipse",{cx:78.5,cy:142,rx:11.5,ry:17,fill:"#F16723"}),oe=r.a.createElement("circle",{cx:80,cy:142,r:18.5,stroke:"#171C1F",strokeWidth:5}),se=r.a.createElement("circle",{cx:132,cy:145,r:14.1471,fill:"#FFD1B0",stroke:"#171C1F",strokeWidth:3.82353}),ie=r.a.createElement("path",{d:"M31.5384 55.8662C63.9928 -24.637 176.923 -2.44941 191.655 51.924C192.236 54.0694 190.691 56.1691 188.517 56.634C129.451 69.267 155.778 126.38 186.92 132.782C189.625 133.338 191.547 136.155 190.452 138.69C151.491 228.969 -17.9357 178.587 31.5384 55.8662Z",stroke:"#171C1F",strokeWidth:5}),le=r.a.createElement("path",{d:"M28.789 74.0071H18.789L21.7286 184.733C21.7671 186.184 22.3378 188.007 23.789 188.007C25.2402 188.007 25.8108 186.184 25.8494 184.733L28.789 74.0071Z",fill:"#FFE4B8"}),ue=r.a.createElement("path",{d:"M6.28899 48.0071C5.88899 35.2071 15.789 24.3405 20.789 20.5071C22.789 30.5071 26.7889 35.0071 36.2889 42.0071C45.7889 49.0071 40.7889 67.0071 28.789 67.5071C16.789 68.0071 6.78899 64.0071 6.28899 48.0071Z",fill:"#FFE4B8"}),pe=r.a.createElement("path",{d:"M24.2888 50.0071C19.7888 51.2929 9.4555 45.5071 5.28883 42.0071C3.78883 52.6738 7.79443 67.5698 25.2889 68.0071C45.2889 68.5071 44.2889 46.0071 36.2888 39.5071C18.2888 40.5071 26.7888 49.2929 24.2888 50.0071Z",fill:"#E1E1E1"}),me=r.a.createElement("path",{d:"M24.2888 46.0071C19.7888 47.2929 9.4555 41.5071 5.28883 38.0071C3.78883 48.6738 7.79443 63.5698 25.2889 64.0071C45.2889 64.5071 44.2889 42.0071 36.2888 35.5071C18.2888 36.5071 26.7888 45.2929 24.2888 46.0071Z",fill:"white"}),de=r.a.createElement("path",{d:"M24.2889 50.0071C19.7889 51.2929 9.45561 45.5071 5.28894 42.0071C7.12227 35.0071 12.7889 20.4072 20.7889 18.0071C22.2889 17.5571 25.7889 38.5071 36.2889 39.5071C18.2889 40.5071 26.7889 49.2929 24.2889 50.0071Z",fill:"#F05F88"}),he=r.a.createElement("path",{d:"M31.7879 74.0868L31.8697 71.0071H28.789H18.789H15.7083L15.79 74.0868L18.7297 184.813C18.7565 185.825 18.9627 187.127 19.5632 188.29C20.1841 189.493 21.5263 191.007 23.789 191.007C26.0516 191.007 27.3939 189.493 28.0148 188.29C28.6153 187.127 28.8214 185.825 28.8483 184.813L31.7879 74.0868ZM23.7307 19.9188L22.7861 15.1958L18.9637 18.1263C16.2 20.2452 12.2308 24.1771 8.98255 29.2847C5.73379 34.3931 3.06551 40.9028 3.29045 48.1008C3.5607 56.7488 6.45078 62.7474 11.4687 66.3757C16.3317 69.8921 22.6414 70.7659 28.9139 70.5045C36.5885 70.1848 41.6847 64.2875 43.4848 58.0232C45.2806 51.7736 44.1224 44.0527 38.0685 39.592C33.3636 36.1252 30.2875 33.4635 28.1265 30.5821C26.0198 27.7733 24.6657 24.5937 23.7307 19.9188Z",stroke:"#171C1F",strokeWidth:6}),fe=r.a.createElement("path",{d:"M5.28894 42.0071C9.45561 45.5071 19.7889 51.2929 24.2889 50.0071C26.7889 49.2929 18.2889 40.5071 36.2889 39.5071",stroke:"#171C1F",strokeWidth:4}),ve=function(e){var t=e.svgRef,n=e.title,a=U(e,["svgRef","title"]);return r.a.createElement("svg",R({width:195,height:195,viewBox:"0 0 195 195",fill:"none",ref:t},a),n?r.a.createElement("title",null,n):null,Z,G,V,K,Y,z,X,H,J,q,$,Q,ee,te,ne,ae,re,ce,oe,se,ie,le,ue,pe,me,de,he,fe)},ge=r.a.forwardRef((function(e,t){return r.a.createElement(ve,R({svgRef:t},e))}));n.p;function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ye(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ee=r.a.createElement("path",{d:"M80.4243 72.7816L73.3533 79.8527L153.727 156.069C154.78 157.068 156.473 157.953 157.499 156.927C158.525 155.901 157.639 154.208 156.641 153.155L80.4243 72.7816Z",fill:"#FFE4B8"}),ke=r.a.createElement("path",{d:"M46.1297 70.3067C36.7958 61.5386 36.1123 46.8544 36.9373 40.6083C45.4226 46.2651 51.4329 46.6187 63.1002 44.8509C74.7675 43.0832 83.9598 59.3466 75.8281 68.1854C67.6964 77.0242 57.7969 81.2669 46.1297 70.3067Z",fill:"#FFE4B8"}),we=r.a.createElement("path",{d:"M60.2718 58.9932C57.9989 63.0844 46.601 66.3 41.1799 66.7714C47.6617 75.3745 61.0271 83.0752 73.7068 71.014C88.2026 57.2254 71.5855 42.0226 61.3324 43.0833C49.3116 56.5184 61.5345 56.7204 60.2718 58.9932Z",fill:"#E1E1E1"}),Ce=r.a.createElement("path",{d:"M57.4433 56.1648C55.1704 60.2559 43.7725 63.4715 38.3514 63.9429C44.8332 72.5461 58.1986 80.2467 70.8783 68.1855C85.3741 54.3969 68.757 39.1941 58.5039 40.2548C46.4831 53.6899 58.706 53.8919 57.4433 56.1648Z",fill:"white"}),xe=r.a.createElement("path",{d:"M60.2718 58.9931C57.999 63.0842 46.6011 66.2999 41.18 66.7713C37.5266 60.5252 31.2098 46.1945 35.1696 38.8406C35.912 37.4617 53.2008 49.8007 61.3325 43.0832C49.3117 56.5182 61.5345 56.7203 60.2718 58.9931Z",fill:"#F05F88"}),Oe=r.a.createElement("path",{d:"M71.2319 77.7314L69.0536 79.9098L71.289 82.0296L151.663 158.246C152.397 158.943 153.464 159.717 154.711 160.116C156.001 160.527 158.02 160.649 159.62 159.049C161.22 157.449 161.099 155.429 160.687 154.139C160.289 152.892 159.514 151.826 158.818 151.091L82.6012 70.7173L80.4814 68.4819L78.303 70.6603L71.2319 77.7314ZM38.6014 38.1121L34.5938 35.4404L33.9631 40.2154C33.5071 43.668 33.4808 49.2548 34.7955 55.1634C36.1105 61.0727 38.8268 67.5626 44.0756 72.4933C50.3818 78.4173 56.667 80.6153 62.7808 79.6327C68.7059 78.6804 73.7854 74.8367 78.0359 70.2166C83.2366 64.5637 82.6701 56.7901 79.5135 51.0878C76.3642 45.3988 70.0857 40.7583 62.6508 41.8848C56.8725 42.7603 52.8153 43.0534 49.2498 42.544C45.7739 42.0474 42.5682 40.7566 38.6014 38.1121Z",stroke:"#171C1F",strokeWidth:6}),_e=r.a.createElement("path",{d:"M41.1799 66.7713C46.601 66.2999 57.9989 63.0843 60.2718 58.9931C61.5344 56.7203 49.3116 56.5183 61.3324 43.0832",stroke:"#171C1F",strokeWidth:4}),je=r.a.createElement("path",{d:"M121.432 80.5199L114.36 73.4488L38.144 153.823C37.1454 154.876 36.2596 156.568 37.2858 157.595C38.312 158.621 40.0047 157.735 41.0578 156.736L121.432 80.5199Z",fill:"#FFE4B8"}),Se=r.a.createElement("path",{d:"M123.906 46.2252C132.675 36.8914 147.359 36.2079 153.605 37.0329C147.948 45.5181 147.594 51.5285 149.362 63.1958C151.13 74.863 134.867 84.0554 126.028 75.9237C117.189 67.792 112.946 57.8925 123.906 46.2252Z",fill:"#FFE4B8"}),Pe=r.a.createElement("path",{d:"M135.22 60.3674C131.129 58.0945 127.913 46.6966 127.442 41.2755C118.839 47.7573 111.138 61.1227 123.199 73.8024C136.988 88.2981 152.191 71.6811 151.13 61.428C137.695 49.4072 137.493 61.63 135.22 60.3674Z",fill:"#E1E1E1"}),Ie=r.a.createElement("path",{d:"M138.048 57.5389C133.957 55.266 130.742 43.8681 130.27 38.447C121.667 44.9288 113.966 58.2942 126.028 70.9739C139.816 85.4697 155.019 68.8526 153.958 58.5995C140.523 46.5787 140.321 58.8016 138.048 57.5389Z",fill:"white"}),Fe=r.a.createElement("path",{d:"M135.22 60.3674C131.129 58.0946 127.913 46.6967 127.442 41.2755C133.688 37.6222 148.019 31.3053 155.373 35.2651C156.751 36.0076 144.412 53.2964 151.13 61.4281C137.695 49.4073 137.493 61.6301 135.22 60.3674Z",fill:"#FBD20A"}),De=r.a.createElement("path",{d:"M116.482 71.3275L114.303 69.1491L112.184 71.3846L35.9671 151.758C35.2706 152.493 34.4957 153.559 34.0976 154.807C33.6861 156.096 33.5646 158.116 35.1645 159.716C36.7644 161.316 38.7842 161.194 40.0738 160.783C41.3211 160.385 42.3876 159.61 43.122 158.913L123.496 82.6968L125.731 80.577L123.553 78.3986L116.482 71.3275ZM156.101 38.697L158.773 34.6893L153.998 34.0587C150.545 33.6027 144.958 33.5764 139.05 34.8911C133.14 36.2061 126.651 38.9224 121.72 44.1712C115.796 50.4774 113.598 56.7626 114.58 62.8764C115.533 68.8015 119.376 73.881 123.997 78.1315C129.649 83.3322 137.423 82.7657 143.125 79.609C148.814 76.4598 153.455 70.1813 152.328 62.7464C151.453 56.968 151.16 52.9109 151.669 49.3453C152.166 45.8695 153.457 42.6637 156.101 38.697Z",stroke:"#171C1F",strokeWidth:6}),Le=r.a.createElement("path",{d:"M127.442 41.2755C127.913 46.6966 131.129 58.0945 135.22 60.3673C137.493 61.63 137.695 49.4072 151.13 61.428",stroke:"#171C1F",strokeWidth:4}),Me=function(e){var t=e.svgRef,n=e.title,a=ye(e,["svgRef","title"]);return r.a.createElement("svg",be({width:195,height:195,viewBox:"0 0 195 195",fill:"none",ref:t},a),n?r.a.createElement("title",null,n):null,Ee,ke,we,Ce,xe,Oe,_e,je,Se,Pe,Ie,Fe,De,Le)},Ae=r.a.forwardRef((function(e,t){return r.a.createElement(Me,be({svgRef:t},e))})),Te=(n.p,n(697)),We=n(696),Ne=function(e){function t(e){var n;return Object(d.a)(this,t),n=Object(f.a)(this,Object(v.a)(t).call(this,e)),e.t.socket.unsubscribe("changeOnline"),e.t.socket.subscribe("changeOnline",(function(t){e.t.setState({online:t.count}),n.forceUpdate()})),n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.t,t=e.state.user,n=t.lvl,a=t.pictures,c=t.successfulPictures,o=t.guessedPictures,l=t.likes,u=e.state,d=u.gamesAsWinner,h=u.gamesAsDrawer,f=u.top_number,v=u.online,g=[Math.min(e.state.colors.length-3,Math.max(n,4)-4),Math.min(e.state.colors.length,Math.max(n,3)+3)],b=e.state.colors.slice(g[0],g[1]);return r.a.createElement("div",{className:"Main"},r.a.createElement(s.e,{src:e.state.vk_user.photo_100,size:48,shadow:!1}),r.a.createElement("h3",null,"\u041f\u0440\u0438\u0432\u0435\u0442, ",e.state.vk_user.first_name),r.a.createElement("h1",null,"\u0422\u0432\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"),r.a.createElement("div",{className:"Colors__Container"},r.a.createElement("div",{className:"Gradient_Opacity"}),b.map((function(e,t){return r.a.createElement("div",{className:"Color",key:"Color__".concat(t),style:{marginLeft:t>0&&12,background:t+1+g[0]===n&&"linear-gradient(156.04deg, #F05F88 0%, #FBD20A 100%)",border:t+1+g[0]===n&&"none"}},r.a.createElement("span",null,t+1+g[0]),r.a.createElement("div",{style:{background:e}}))}))),r.a.createElement("p",null,"\u041e\u0442\u0433\u0430\u0434\u044b\u0432\u0430\u0439 \u0438 \u0440\u0438\u0441\u0443\u0439 \u043a\u0430\u0440\u0442\u0438\u043d\u044b, \u0447\u0442\u043e\u0431\u044b \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u0446\u0432\u0435\u0442\u0430"),r.a.createElement("div",{className:"Cards__Container"},r.a.createElement("div",{onClick:function(){h.length>0&&e.go("gallery")}},r.a.createElement("span",{className:"Top"},C(c,["\u0443\u0441\u043f\u0435\u0448\u043d\u0430\u044f","\u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0435","\u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0445"])),r.a.createElement("div",{className:"Images"},[1,0,2].map((function(e,t){return r.a.createElement("div",{num:t,key:"div__".concat(t)},h[e]&&r.a.createElement("img",{alt:"img",src:h[e]["Picture.url"]}))}))),r.a.createElement("div",{className:"Texts"},r.a.createElement("span",null,"\u0413\u0430\u043b\u0435\u0440\u0435\u044f"),r.a.createElement("span",null,C(a,["\u043a\u0430\u0440\u0442\u0438\u043d\u0430","\u043a\u0430\u0440\u0442\u0438\u043d\u044b","\u043a\u0430\u0440\u0442\u0438\u043d"])))),r.a.createElement("div",{onClick:function(){return e.go("rating")}},r.a.createElement("span",{className:"Top"},f&&"\u0422\u044b \u043d\u0430 ".concat(f," \u043c\u0435\u0441\u0442\u0435")),r.a.createElement("div",{className:"Images"},[1,0,2].map((function(e,t){return r.a.createElement("div",{num:t,key:"div__".concat(t)},d[e]&&r.a.createElement("img",{alt:"img",src:d[e]["Picture.url"]}))}))),r.a.createElement("div",{className:"Texts"},r.a.createElement("span",null,"\u041e\u0442\u0433\u0430\u0434\u0430\u043d\u043e"),r.a.createElement("span",null,C(o,["\u043a\u0430\u0440\u0442\u0438\u043d\u0430","\u043a\u0430\u0440\u0442\u0438\u043d\u044b","\u043a\u0430\u0440\u0442\u0438\u043d"]))))),r.a.createElement("div",{className:"Likes__Container"},r.a.createElement("div",null,"\u0423 \u0442\u0435\u0431\u044f ",r.a.createElement("span",null,x(l)," ",r.a.createElement(We.a,{style:{marginLeft:6}}))),r.a.createElement("div",{onClick:Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setPopout(r.a.createElement(s.m,null)),e.socket.call("pictures.getRandomLikes",{limit:10},(function(t){e.setState({randomGamesLike:t.response});var n=t.response.map((function(e){return e.drawerId}));e.socket.call("pictures.getLikesTop",{limit:10},function(){var t=Object(m.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({topLikes:a.response}),n=[].concat(Object(i.a)(n),Object(i.a)(a.response.map((function(e){return e.drawerId})))),t.next=4,A(n);case 4:e.setPopout(null),e.go("likes");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 2:case"end":return t.stop()}}),t)})))},"\u041e\u0446\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u044b")),!_()&&r.a.createElement("div",{style:{height:111,width:1}}),r.a.createElement("div",{className:"PlayContainer"},r.a.createElement("div",{className:"ButtonPlay",onClick:function(){return e.go("search")}},r.a.createElement(Te.a,null)),r.a.createElement("p",null,"\u041e\u043d\u043b\u0430\u0439\u043d: ",v)))}}]),t}(a.PureComponent);Ne.defaultProps={};var Be=Ne,Re=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={offset:e.t.state.gamesAsDrawer.length,limit:10,canGetMore:!0,prevY:0},n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef)}},{key:"handleObserver",value:function(e,t){var n=this,a=e[0].boundingClientRect.y,r=this.props.t,c=this.state,o=c.prevY,s=c.offset,l=c.limit,u=c.canGetMore;(0===o||o>a)&&u&&(r.socket.call("games.getByDrawerId",{id:r.state.vk_user.id,offset:s,limit:l},function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t.response.map((function(e){return e.drawerId})));case 2:r.setState({gamesAsDrawer:[].concat(Object(i.a)(r.state.gamesAsDrawer),Object(i.a)(t.response))}),n.setState({canGetMore:t.response.length>0}),n.forceUpdate();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.setState({offset:s+10})),this.setState({prevY:a})}},{key:"shareStory",value:function(e,t,a){var c=this;try{this.props.t.setPopout(r.a.createElement(s.m,null));var o=n(80),i=o.createCanvas,l=o.loadImage;l(S(n(165))).then(function(){var n=Object(m.a)(p.a.mark((function n(o){var u,m,d,h;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u=i(o.width,o.height),m=u.getContext("2d"),n.next=5,P(a);case 5:return d=n.sent,h=e.substring(0,1).toUpperCase()+e.substring(1),m.drawImage(o,0,0),m.font="64px TT Commons Demibold",m.textAlign="center",m.fillStyle="#616161",m.fillText(h,539,1210),n.t0=m,n.next=15,l(d);case 15:return n.t1=n.sent,n.t0.drawImage.call(n.t0,n.t1,198,618,683,683),n.next=19,E.a.send("VKWebAppShowStoryBox",{background_type:"image",blob:u.toDataURL("image/png"),attachment:{url:"https://vk.com/app"+O().vk_app_id,text:"go_to",type:"url"}});case 19:c.props.t.socket.call("games.share",{gameId:t}),c.props.t.setPopout(null),n.next=28;break;case 23:n.prev=23,n.t2=n.catch(0),console.error(n.t2),c.props.t.setPopout(null),c.props.t.setState({snackbar:r.a.createElement(s.n,{onClose:function(){return c.props.t.setState({snackbar:null})}},"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")});case 28:case"end":return n.stop()}}),n,null,[[0,23]])})));return function(e){return n.apply(this,arguments)}}())}catch(u){console.error(u),this.props.t.setPopout(null),this.props.t.setState({snackbar:r.a.createElement(s.n,{onClose:function(){return c.props.t.setState({snackbar:null})}},"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")})}}},{key:"render",value:function(){var e=this,t=this.props.t,n=_(),a=t.state.gamesAsDrawer;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.k,{left:r.a.createElement(s.l,{onClick:t.back}),separator:!1},n&&"\u0422\u0432\u043e\u044f \u0433\u0430\u043b\u0435\u0440\u0435\u044f"),r.a.createElement("div",{className:"Gallery"},!n&&r.a.createElement("h2",{style:{textAlign:"left"}},"\u0422\u0432\u043e\u044f \u0433\u0430\u043b\u0435\u0440\u0435\u044f"),r.a.createElement("p",{style:{margin:!n&&"8px 0 0 0"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u0443\u044e \u043a\u0430\u0440\u0442\u0438\u043d\u0443, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0438 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435:"),r.a.createElement("div",{style:{marginTop:n?18:24,gridGap:n?8:15},className:"Images_Grid"},a.map((function(e,n){return r.a.createElement("div",{key:"Image_".concat(n),onClick:Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({like_picturesList:a,like_currentPictureSelected:n});case 2:t.go("picture_info");case 3:case"end":return e.stop()}}),e)})))},r.a.createElement("img",{alt:"img",src:e["Picture.url"]}))})))),r.a.createElement("div",{ref:function(t){return e.loadingRef=t}}))}}]),t}(a.PureComponent);Re.defaultProps={};var Ue=Re,Ze=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={offset:e.t.state.gamesAsWinner.length,limit:10,canGetMore:!0,prevY:0},n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleObserver",value:function(e,t){var n=this,a=e[0].boundingClientRect.y,r=this.props.t,c=this.state,o=c.prevY,s=c.offset,l=c.limit,u=c.canGetMore;(0===o||o>a)&&u&&(r.socket.call("games.getByWinnerId",{id:r.state.vk_user.id,offset:s,limit:l},function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t.response.map((function(e){return e.drawerId})));case 2:r.setState({gamesAsWinner:[].concat(Object(i.a)(r.state.gamesAsWinner),Object(i.a)(t.response))}),n.setState({canGetMore:t.response.length>0}),n.forceUpdate();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.setState({offset:s+10})),this.setState({prevY:a})}},{key:"shareStory",value:function(e,t){var a=this;this.props.t.setPopout(r.a.createElement(s.m,null));try{var c=n(80),o=c.createCanvas,i=c.loadImage;i(S(n(266))).then(function(){var n=Object(m.a)(p.a.mark((function n(r){var c,s,l;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=o(r.width,r.height),s=c.getContext("2d"),n.next=4,P(t);case 4:return l=n.sent,s.drawImage(r,0,0),n.t0=s,n.next=9,i(l);case 9:return n.t1=n.sent,n.t0.drawImage.call(n.t0,n.t1,198,618,683,683),n.prev=11,n.next=14,E.a.send("VKWebAppShowStoryBox",{background_type:"image",blob:c.toDataURL("image/png"),attachment:{url:"https://vk.com/app"+O().vk_app_id,text:"go_to",type:"url"}});case 14:a.props.t.socket.call("games.share",{gameId:e}),n.next=19;break;case 17:n.prev=17,n.t2=n.catch(11);case 19:a.props.t.setPopout(null);case 20:case"end":return n.stop()}}),n,null,[[11,17]])})));return function(e){return n.apply(this,arguments)}}())}catch(l){console.error(l),this.props.t.setPopout(null),this.props.t.setState({snackbar:r.a.createElement(s.n,{onClose:function(){return a.props.t.setState({snackbar:null})}},"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")})}}},{key:"render",value:function(){var e=this,t=this.props.t,n=_(),a=t.state,c=a.user,o=a.gamesAsWinner,i=a.top,l=c.guessedPictures;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.k,{left:r.a.createElement(s.l,{onClick:t.back}),separator:!1}),r.a.createElement("div",{className:"Rating"},i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"\u041b\u0443\u0447\u0448\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0438 \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"),r.a.createElement("div",{className:"Users_List"},i.map((function(e,t){return r.a.createElement("div",{key:"div__".concat(t)},r.a.createElement(s.e,{size:48,shadow:!1,src:e.photo_100}),r.a.createElement("div",null,r.a.createElement("div",null,e.first_name," ",e.last_name.substring(0,1),"."),r.a.createElement("div",null,"\u041e\u0442\u0433\u0430\u0434\u0430\u043b",1===e.sex&&"\u0430"," ",C(e.guessedPicturesToday,["\u043a\u0430\u0440\u0442\u0438\u043d\u0443","\u043a\u0430\u0440\u0442\u0438\u043d\u044b","\u043a\u0430\u0440\u0442\u0438\u043d"]))))})))),o.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{margin:"24px 0 0 0"}},"\u0412\u044b \u043e\u0442\u0433\u0430\u0434\u0430\u043b\u0438 ",C(l,["\u043a\u0430\u0440\u0442\u0438\u043d\u0443","\u043a\u0430\u0440\u0442\u0438\u043d\u044b","\u043a\u0430\u0440\u0442\u0438\u043d"])," (\u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u0443, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043d\u0435\u0439):"),r.a.createElement("div",{style:{marginTop:18,gridGap:n?8:15},className:"Images_Grid"},o.map((function(e,n){return r.a.createElement("div",{key:"Image_".concat(n),onClick:Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({like_picturesList:o,like_currentPictureSelected:n});case 2:t.go("picture_info");case 3:case"end":return e.stop()}}),e)})))},r.a.createElement("img",{alt:"img",src:e["Picture.url"]}))})))),r.a.createElement("div",{ref:function(t){return e.loadingRef=t}})))}}]),t}(a.PureComponent);Ze.defaultProps={};var Ge,Ve=Ze,Ke=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={lobbyPlayers:[],point_count:0,starting:!1},n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(Ge)}},{key:"componentDidMount",value:function(){var e=this;Ge=setInterval((function(){var t=e.state.point_count;e.setState({point_count:t>=3?0:t+1})}),800);var t=this.props.t.socket;t.unsubscribe("changeLobbyUsers","gameStart","setWord","gameEnd","draw","gameStarting"),t.subscribe("changeLobbyUsers",function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,A(n.players);case 3:t.t1=t.sent,t.t2={lobbyPlayers:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.subscribe("setWord",function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.t.setState({word:n.word});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.subscribe("gameStart",function(){var t=Object(m.a)(p.a.mark((function t(n){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.lobbyId,r=n.drawerId,t.next=3,e.props.t.setState({lobbyId:a,drawerId:r,gameStart:Date.now()});case 3:setTimeout((function(){e.props.t.go("game")}),400);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.subscribe("gameStarting",function(){var t=Object(m.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({starting:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.call("games.search")}},{key:"render",value:function(){var e=this,t=this.props.t,n=this.state.lobbyPlayers.filter((function(e){return e.id!==t.state.vk_user.id})),a=r.a.createElement("svg",{width:"274",height:"316",viewBox:"0 0 274 316",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginTop:_()?72:"8.86699507vh"},onClick:function(){e.state.starting||t.back()}},r.a.createElement("rect",{x:"63",y:"84",width:"148",height:"148",rx:"74",fill:"url(#paint0_linear)"}),r.a.createElement("circle",{className:"Search_Avatar",cx:"137",cy:"158",r:"48",fill:"url(#pattern0)"}),r.a.createElement("line",{x1:"27.866",y1:"26.5",x2:"60.366",y2:"82.7916",stroke:"var(--border_players_color)",strokeWidth:"2",strokeDasharray:"4 4"}),r.a.createElement("rect",{x:"1.5",y:"1.5",width:"51",height:"51",rx:"25.5",fill:"var(--background_content)"}),r.a.createElement("circle",{cx:"27",cy:"27",r:"24",fill:"url(#pattern1)"}),r.a.createElement("rect",{x:"1.5",y:"1.5",width:"51",height:"51",rx:"25.5",stroke:"var(--border_players_color)",strokeWidth:"3"}),r.a.createElement("line",{y1:"-1",x2:"65",y2:"-1",transform:"matrix(-0.5 0.866025 0.866025 0.5 246.88 27)",stroke:"var(--border_players_color)",strokeWidth:"2",strokeDasharray:"4 4"}),r.a.createElement("rect",{x:"1.5",y:"-1.5",width:"51",height:"51",rx:"25.5",transform:"matrix(-1 0 0 1 274 3)",fill:"var(--background_content)"}),r.a.createElement("rect",{x:"1.5",y:"-1.5",width:"51",height:"51",rx:"25.5",transform:"matrix(-1 0 0 1 274 3)"}),r.a.createElement("circle",{cx:"247",cy:"27",r:"24",fill:"url(#pattern2)"}),r.a.createElement("rect",{x:"1.5",y:"-1.5",width:"51",height:"51",rx:"25.5",transform:"matrix(-1 0 0 1 274 3)",stroke:"var(--border_players_color)",strokeWidth:"3"}),r.a.createElement("line",{y1:"-1",x2:"65",y2:"-1",transform:"matrix(0.5 -0.866025 -0.866025 -0.5 27 289)",stroke:"var(--border_players_color)",strokeWidth:"2",strokeDasharray:"4 4"}),r.a.createElement("rect",{x:"-1.5",y:"1.5",width:"51",height:"51",rx:"25.5",transform:"matrix(1 0 0 -1 3 316)",fill:"var(--background_content)"}),r.a.createElement("rect",{x:"-1.5",y:"1.5",width:"51",height:"51",rx:"25.5",transform:"matrix(1 0 0 -1 3 316)"}),r.a.createElement("circle",{cx:"27",cy:"289",r:"24",fill:"url(#pattern3)"}),r.a.createElement("rect",{x:"-1.5",y:"1.5",width:"51",height:"51",rx:"25.5",transform:"matrix(1 0 0 -1 3 316)",stroke:"var(--border_players_color)",strokeWidth:"3"}),r.a.createElement("line",{x1:"246.014",y1:"289.5",x2:"213.514",y2:"233.208",stroke:"var(--border_players_color)",strokeWidth:"2",strokeDasharray:"4 4"}),r.a.createElement("rect",{x:"272.5",y:"314.5",width:"51",height:"51",rx:"25.5",transform:"rotate(-180 272.5 314.5)",fill:"var(--background_content)"}),r.a.createElement("rect",{x:"272.5",y:"314.5",width:"51",height:"51",rx:"25.5",transform:"rotate(-180 272.5 314.5)"}),r.a.createElement("circle",{cx:"247",cy:"289",r:"24",fill:"url(#pattern4)"}),r.a.createElement("rect",{x:"272.5",y:"314.5",width:"51",height:"51",rx:"25.5",transform:"rotate(-180 272.5 314.5)",stroke:"var(--border_players_color)",strokeWidth:"3"}),r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"paint0_linear",x1:"63",y1:"84",x2:"211",y2:"232",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{stopColor:"#F05F88"}),r.a.createElement("stop",{offset:"1",stopColor:"#FAAF1A"})),r.a.createElement("pattern",{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},r.a.createElement("use",{href:"#image0",transform:"scale(0.005)"})),r.a.createElement("image",{href:t.state.vk_user.photo_max_orig,id:"image0",width:"200",height:"200"}),r.a.createElement("pattern",{id:"pattern1",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},r.a.createElement("use",{href:"#image1",transform:"scale(0.005)"})),r.a.createElement("image",{href:n[0]&&n[0].photo_max_orig,id:"image1",width:"200",height:"200"}),r.a.createElement("pattern",{id:"pattern2",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},r.a.createElement("use",{href:"#image2",transform:"scale(0.005)"})),r.a.createElement("image",{href:n[1]&&n[1].photo_max_orig,id:"image2",width:"200",height:"200"}),r.a.createElement("pattern",{id:"pattern3",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},r.a.createElement("use",{href:"#image3",transform:"scale(0.005)"})),r.a.createElement("image",{href:n[2]&&n[2].photo_max_orig,id:"image3",width:"200",height:"200"}),r.a.createElement("pattern",{id:"pattern4",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},r.a.createElement("use",{href:"#image4",transform:"scale(0.005)"})),r.a.createElement("image",{href:n[3]&&n[3].photo_max_orig,id:"image4",width:"200",height:"200"}))),c=this.state.point_count;return r.a.createElement("div",{className:"Search"},r.a.createElement("h1",null,this.state.starting?"\u041e\u0447\u0438\u0449\u0430\u0435\u043c \u0445\u043e\u043b\u0441\u0442".concat(new Array(c).fill(".").join("")):"\u0418\u0449\u0435\u043c \u0438\u0433\u0440\u043e\u043a\u043e\u0432".concat(new Array(c).fill(".").join(""))),a)}}]),t}(a.PureComponent);Ke.defaultProps={};var Ye=Ke;function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var He=r.a.createElement("path",{d:"M16.1568 6.96446L14.0355 4.84314C13.2545 4.06209 11.9881 4.06209 11.2071 4.84314L8.37866 7.67157L13.3284 12.6213L16.1568 9.79289C16.9379 9.01184 16.9379 7.74551 16.1568 6.96446Z",fill:"#C3C3C3"}),Je=r.a.createElement("path",{d:"M16.864 6.25738L14.7427 4.13606C13.5711 2.96448 11.6716 2.96448 10.5 4.13606L4.13606 10.5C2.96449 11.6716 2.96449 13.5711 4.13606 14.7427L6.25738 16.864C7.42895 18.0356 9.32845 18.0356 10.5 16.864L16.864 10.5C18.0356 9.32844 18.0356 7.42895 16.864 6.25738Z",stroke:"#C3C3C3",strokeWidth:2}),qe=function(e){var t=e.svgRef,n=e.title,a=Xe(e,["svgRef","title"]);return r.a.createElement("svg",ze({width:21,height:21,viewBox:"0 0 21 21",fill:"none",ref:t},a),n?r.a.createElement("title",null,n):null,He,Je)},$e=r.a.forwardRef((function(e,t){return r.a.createElement(qe,ze({svgRef:t},e))}));n.p;function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tt,nt={},at=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={drawer:L[e.drawerId],isDrawer:e.drawerId===e.t.state.vk_user.id,text:"",selectedColor:0,drawing:!1,time:90,messages:[]},n.state.drawer||setTimeout(Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A([e.drawerId]);case 2:n.setState({drawer:L[e.drawerId]});case 3:case"end":return t.stop()}}),t)}))),1),n.onMouseDown=n.onMouseDown.bind(Object(g.a)(n)),n.onMouseUp=n.onMouseUp.bind(Object(g.a)(n)),n.throttle=n.throttle.bind(Object(g.a)(n)),n.onMouseMove=n.onMouseMove.bind(Object(g.a)(n)),n.drawLine=n.drawLine.bind(Object(g.a)(n)),tt=setInterval((function(){return n.setState({time:n.state.time>0?n.state.time-1:0})}),1e3),e.t.socket.subscribe("gameEnd",function(){var e=Object(m.a)(p.a.mark((function e(t){var a,r,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.canvas.toDataURL("image/png"),r=t.winnerId,c=t.word,o=t.gameId,n.state.isDrawer&&n.props.t.socket.call("games.end",{canvasData:a,lobbyId:n.props.lobbyId,gameId:o}),n.props.t.setState({canvas_:a,winnerId:r,word:c,gameId:o,gameEnd:Date.now()}),n.props.t.setActivePanel("result");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.state.isDrawer||(e.t.socket.subscribe("draw",(function(e){var t=e.data,a=t.x0,r=t.y0,c=t.x1,o=t.y1,s=t.color;n.drawLine(a,r,c,o,s)})),e.t.socket.subscribe("clear",(function(e){n.canvasContext.clearRect(0,0,319,319)}))),e.t.socket.subscribe("message",function(){var e=Object(m.a)(p.a.mark((function e(t){var a,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user_id,r=t.message,e.next=3,n.setState({messages:[].concat(Object(i.a)(n.state.messages),[et({user_id:a,message:r},L[a])])});case 3:try{(c=document.getElementsByClassName("Comment"))[c.length-1].scrollIntoView(!1)}catch(o){}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(tt)}},{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,n,a,r,c,o,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.canvas,n=this.onMouseDown,a=this.onMouseUp,r=this.throttle,c=this.onMouseMove,o=this.state,o.drawer,s=o.isDrawer,this.canvasContext=t.getContext("2d"),s&&(t.addEventListener("mousedown",n,!1),t.addEventListener("mouseup",a,!1),t.addEventListener("mouseout",a,!1),t.addEventListener("mousemove",r(c,10),!1),t.addEventListener("touchstart",n,!1),t.addEventListener("touchend",a,!1),t.addEventListener("touchcancel",a,!1),t.addEventListener("touchmove",r(c,10),!1));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onMouseDown",value:function(e){this.setState({drawing:!0}),nt.x=e.clientX||e.touches[0].clientX,nt.y=e.clientY||e.touches[0].clientY}},{key:"onMouseUp",value:function(e){var t=this.state,n=t.drawing,a=t.selectedColor;if(n){this.setState({drawing:!1});try{var r=this.canvas.getBoundingClientRect();this.drawLine(nt.x-r.left,nt.y-r.top,(e.clientX||e.touches[0].clientX)-r.left,(e.clientY||e.touches[0].clientY)-r.top,this.props.t.state.colors[a])}catch(c){}}}},{key:"onMouseMove",value:function(e){var t=this.state,n=t.drawing,a=t.selectedColor;if(n){var r=this.canvas.getBoundingClientRect();return this.drawLine(nt.x-r.left,nt.y-r.top,(e.clientX||e.touches[0].clientX)-r.left,(e.clientY||e.touches[0].clientY)-r.top,this.props.t.state.colors[a]),nt.x=e.clientX||e.touches[0].clientX,nt.y=e.clientY||e.touches[0].clientY,!1}}},{key:"drawLine",value:function(e,t,n,a,r){try{var c=this.props.lobbyId,o=(this.canvas,this.canvasContext);o.beginPath(),o.moveTo(e,t),o.lineTo(n,a),o.strokeStyle=r,o.lineWidth=2,o.stroke(),o.closePath(),this.state.isDrawer&&this.props.t.socket.call("games.draw",{lobbyId:c,data:{x0:e,y0:t,x1:n,y1:a,color:r}})}catch(s){}}},{key:"throttle",value:function(e,t){var n=(new Date).getTime();return function(){var a=(new Date).getTime();a-n>=t&&(n=a,e.apply(null,arguments))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.lobbyId,c=n.state,o=c.colors,i=c.user,l=c.word,u=this.state,p=u.drawer,m=u.isDrawer,d=u.text,h=u.selectedColor,f=u.time,v=u.messages,g=_();return r.a.createElement("div",{className:"Game"},r.a.createElement("div",{style:{width:g?319:"100%",alignSelf:"flex-start"},ref:function(t){return e.header=t}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("h2",{style:{textAlign:"left"}},m?"\u0417\u0430\u0434\u0430\u0447\u0430: "+l.nom:"\u0420\u0438\u0441\u0443\u0435\u0442: "+p.first_name),r.a.createElement("h2",{style:{textAlign:"right",width:"25%",color:"var(--color_secondary)"}},f," \u0441\u0435\u043a"))),r.a.createElement("div",{style:{display:g&&"flex"}},r.a.createElement("div",{className:"Canvas_Container"},r.a.createElement("canvas",{width:319,height:319,ref:function(t){return e.canvas=t},id:"canvas"}),r.a.createElement("div",{style:{display:!m&&"none"}},r.a.createElement("div",null,o.map((function(t,n){return r.a.createElement("div",{onClick:function(){return e.setState({selectedColor:n})},className:"Color",key:"Color__".concat(n),style:{marginLeft:n>0&&8,background:t,outline:h===n&&"4px solid #F3F2F2",opacity:i.lvl<n+1&&.25,pointerEvents:i.lvl<n+1&&"none"}})}))),r.a.createElement("div",null,r.a.createElement(s.h,{hasHover:!1,onClick:function(){n.socket.call("games.clear",{lobbyId:a}),e.canvasContext.clearRect(0,0,319,319)}},r.a.createElement($e,null))))),r.a.createElement("div",{className:"Comments_Container"},r.a.createElement("div",{className:"Comments",ref:function(t){return e.comments=t}},v.map((function(e,t){return r.a.createElement("div",{className:"Comment",key:"div__".concat(t),style:{marginTop:t>0&&6,cursor:e.id===n.state.vk_user.id&&"default"},onClick:function(){e.id!==n.state.vk_user.id&&e.message.replaceAll("*","").length>0&&n.setPopout(r.a.createElement(s.a,{onClose:function(){return n.setPopout(null)},iosCloseItem:r.a.createElement(s.b,{autoclose:!0,mode:"cancel"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")},r.a.createElement(s.b,{autoclose:!0,mode:"destructive",onClick:function(){n.socket.call("games.reportWord",{message:e.message}),n.setState({snackbar:r.a.createElement(s.n,{onClose:function(){return n.setState({snackbar:null})}},"\u0416\u0430\u043b\u043e\u0431\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430")})}},"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))}},r.a.createElement(s.e,{size:32,shadow:!1,src:e.photo_100}),r.a.createElement("div",null,r.a.createElement("div",null,e.first_name," ",e.last_name),r.a.createElement("div",null,e.message)))}))),!m&&r.a.createElement("div",{className:"Comment_Input"},r.a.createElement(s.i,{autoFocus:!0,id:"inputComment",value:d,onChange:function(t){t.currentTarget.value.length<=120&&e.setState({text:t.currentTarget.value})},placeholder:"\u0415\u0441\u0442\u044c \u0434\u043e\u0433\u0430\u0434\u043a\u0438?",onKeyDown:function(t){"Enter"===t.key&&d.replaceAll(" ","").length>0&&d.trim().length>0&&(n.socket.call("games.message",{lobbyId:a,message:d}),e.setState({text:""}))},onFocus:function(){setTimeout((function(){document.getElementById("inputComment").scrollIntoView(!1)}),100)}}),r.a.createElement(s.p,{style:{display:0===d.length&&"none"},mode:"send",onClick:function(){d.replaceAll(" ","").length>0&&d.trim().length>0&&(n.socket.call("games.message",{lobbyId:a,message:d}),e.setState({text:""}))}})))))}}]),t}(a.PureComponent);at.defaultProps={};var rt=at,ct=n(698),ot=n(699),st=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={isDrawer:e.t.state.drawerId===e.t.state.vk_user.id,isWinner:e.t.state.winnerId===e.t.state.vk_user.id,winnerId:e.t.state.winnerId,drawerId:e.t.state.drawerId,word:e.t.state.word},n.shareStory=n.shareStory.bind(Object(g.a)(n)),n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){}},{key:"shareStory",value:function(){var e=this;this.props.t.setPopout(r.a.createElement(s.m,null));var t=n(80),a=t.createCanvas,c=t.loadImage,o=this.state,i=o.isDrawer,l=(o.winnerId,o.isWinner),u=i?1:l?2:3;c(S(n(668)("./Story".concat(u,".png")))).then(function(){var t=Object(m.a)(p.a.mark((function t(n){var r,c,o,s,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a(n.width,n.height),c=r.getContext("2d"),o=new Image,s=e.state.word,i=s.nom.substring(0,1).toUpperCase()+s.nom.substring(1),c.drawImage(n,0,0),1===u&&(c.font="64px TT Commons Demibold",c.textAlign="center",c.fillStyle="#616161",c.fillText(i,539,1210)),o.src=e.props.t.state.canvas_,c.drawImage(o,198,618,683,683),t.prev=5,t.next=8,E.a.send("VKWebAppShowStoryBox",{background_type:"image",blob:r.toDataURL("image/png"),attachment:{url:"https://vk.com/app"+O().vk_app_id,text:"go_to",type:"url"}});case 8:e.props.t.socket.call("games.share",{gameId:e.props.t.state.gameId}),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(5);case 13:e.props.t.updateData(),e.props.t.setPopout(null),e.props.t.setActivePanel("main");case 16:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){var e=this,t=this.props.t,n=t.state.vk_user,a=this.state,c=a.isDrawer,o=a.isWinner,i=a.winnerId,l=a.drawerId,u=a.word,p=a.reported,m=Math.round((t.state.gameEnd-t.state.gameStart)/1e3);return r.a.createElement("div",{className:"Result"},c?0!==i?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u0422\u044b \u043c\u043e\u043b\u043e\u0434\u0435\u0446!"),r.a.createElement("p",null,"\u0422\u0432\u043e\u044e \u043a\u0430\u0440\u0442\u0438\u043d\u0443 \u0443\u0433\u0430\u0434\u0430\u043b\u0438 \u0437\u0430 ",C(m,["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"]))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u0448\u043b\u043e"),r.a.createElement("p",null,"\u041d\u0438\u043a\u0442\u043e \u043d\u0435 \u0443\u0433\u0430\u0434\u0430\u043b, \u0447\u0442\u043e \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043d\u043e \u043d\u0430 \u0442\u0432\u043e\u0435\u0439 \u043a\u0430\u0440\u0442\u0438\u043d\u0435")):0!==i?o?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u0422\u044b \u043c\u043e\u043b\u043e\u0434\u0435\u0446!"),r.a.createElement("p",null,"\u0422\u044b \u043f\u0435\u0440\u0432",1===n.sex?"\u0430\u044f":"\u044b\u0439"," \u0443\u0433\u0430\u0434\u0430\u043b",1===n.sex&&"\u0430",", \u0447\u0442\u043e ",L[l].first_name," \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043b",1===L[l].sex&&"\u0430"," \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u0435")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u0418\u0433\u0440\u0430 \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430"),r.a.createElement("p",null,L[i].first_name," \u0431\u044b\u043b",1===L[l].sex&&"\u0430"," \u043f\u0435\u0440\u0432\u044b\u043c, \u043a\u0442\u043e \u0443\u0433\u0430\u0434\u0430\u043b, \u0447\u0442\u043e \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043e \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u0435")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u0448\u043b\u043e"),r.a.createElement("p",null,"\u041d\u0438\u043a\u0442\u043e \u043d\u0435 \u0443\u0433\u0430\u0434\u0430\u043b, \u0447\u0442\u043e \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043d\u043e \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u0435")),r.a.createElement("div",{className:"Canvas_Container"},!p&&!c&&r.a.createElement(ct.a,{className:"Report",onClick:function(){e.setState({reported:!0}),t.socket.call("games.report",{game_id:t.state.gameId}),t.setState({snackbar:r.a.createElement(s.n,{onClose:function(){return t.setState({snackbar:null})}},"\u0416\u0430\u043b\u043e\u0431\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430")})}}),r.a.createElement("h2",null,u.nom.substring(0,1).toUpperCase()+u.nom.substring(1)),r.a.createElement("img",{alt:"canvas",src:t.state.canvas_}),r.a.createElement(s.f,{before:r.a.createElement(ot.a,{width:16,height:16}),size:"m",mode:"gradient",onClick:function(){e.shareStory()}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")),r.a.createElement(s.f,{size:"m",mode:"secondary",onClick:function(){t.updateData(),t.setActivePanel("main")}},"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"))}}]),t}(a.PureComponent);st.defaultProps={};var it=st,lt=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,a=e.description,c=e.buttonText,o=e.buttonIcon,i=e.buttonOnClick,l=e.buttonMode;return r.a.createElement("div",{className:"Placeholder"},r.a.cloneElement(t,{className:"Placeholder__Icon"}),r.a.createElement("div",null,r.a.createElement("h1",null,n),r.a.createElement("p",null,a),c&&r.a.createElement(s.f,{after:o,size:"m",mode:l||"gradient",onClick:i},c)))}}]),t}(a.PureComponent);lt.defaultProps={};var ut=lt,pt=n(283),mt=n.n(pt),dt=function(){function e(){Object(d.a)(this,e),this.onConnect=this.onConnect.bind(this),this.onDisconnect=this.onDisconnect.bind(this),this.onConnectionError=this.onConnectionError.bind(this),this.getSocket=this.getSocket.bind(this)}return Object(h.a)(e,[{key:"onConnect",value:function(e){this.socket.on("connect",e)}},{key:"onDisconnect",value:function(e){this.socket.on("disconnect",e)}},{key:"onConnectionError",value:function(e){this.socket.on("connect_error",e)}},{key:"call",value:function(e,t,n){this.socket.emit(e,t,n)}},{key:"subscribe",value:function(e,t){this.socket.on(e,t)}},{key:"unsubscribe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=0,r=t;a<r.length;a++){var c=r[a];this.socket.removeAllListeners(c)}}},{key:"connect",value:function(e,t){this.socket?this.socket.connect():this.socket=mt.a.connect(e,{path:"/socket.io",query:t,transports:["websocket","polling","flashsocket"],reconnection:!1})}},{key:"getSocket",value:function(){return this.socket}}]),e}(),ht=(n(691),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={offset:e.t.state.randomGamesLike.length,limit:10,canGetMore:!0,prevY:0},n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleObserver",value:function(e,t){var n=this,a=e[0].boundingClientRect.y,r=this.props.t,c=this.state,o=c.prevY,s=c.offset,l=c.limit,u=c.canGetMore;(0===o||o>a)&&u&&(r.socket.call("pictures.getRandomLikes",{offset:s,limit:l},function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t.response.map((function(e){return e.drawerId})));case 2:r.setState({randomGamesLike:[].concat(Object(i.a)(r.state.randomGamesLike),Object(i.a)(t.response))}),n.setState({canGetMore:t.response.length>0}),n.forceUpdate();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.setState({offset:s+10})),this.setState({prevY:a})}},{key:"render",value:function(){var e=this,t=this.props.t,n=_(),a=t.state,c=a.randomGamesLike,o=a.topLikes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.k,{left:r.a.createElement(s.l,{onClick:t.back}),separator:!1}),r.a.createElement("div",{className:"Likes"},o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"\u041b\u0443\u0447\u0448\u0438\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u044b:"),r.a.createElement("div",{className:"Pictures_List"},o.slice(0,3).map((function(e,n){return r.a.createElement("div",{key:"div__".concat(n),onClick:Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({like_picturesList:o,like_currentPictureSelected:n});case 2:t.go("picture_info");case 3:case"end":return e.stop()}}),e)})))},r.a.createElement("img",{alt:"img",src:e["Picture.url"]}),r.a.createElement("div",null,x(e["Picture.likes"]),r.a.createElement(We.a,{width:10,height:10,style:{marginLeft:4}})))})))),c.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{margin:"24px 0 0 0"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u0443\u044e \u043a\u0430\u0440\u0442\u0438\u043d\u0443, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0438 \u043e\u0446\u0435\u043d\u0438\u0442\u044c \u0435\u0451:"),r.a.createElement("div",{style:{marginTop:18,gridGap:n?8:15},className:"Images_Grid"},c.map((function(e,n){return r.a.createElement("div",{key:"Image_".concat(n),onClick:Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({like_picturesList:c,like_currentPictureSelected:n});case 2:t.go("picture_info");case 3:case"end":return e.stop()}}),e)})))},r.a.createElement("img",{alt:"img",src:e["Picture.url"]}))})))),r.a.createElement("div",{ref:function(t){return e.loadingRef=t}})))}}]),t}(a.PureComponent));ht.defaultProps={};var ft=ht,vt=n(700),gt=n(701),bt=n(702);function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Et=_(),kt=function(e){function t(e){var n;Object(d.a)(this,t),(n=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={},n.shareStory1=n.shareStory1.bind(Object(g.a)(n)),n.shareStory2=n.shareStory2.bind(Object(g.a)(n));var a=n.props,r=a.t,c=a.list,o=a.current;return r.socket.call("pictures.isLiked",{game_id:c[o].id},(function(e){n.setState({isLiked:e.response})})),n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){}},{key:"shareStory1",value:function(e,t){var a=this;this.props.t.setPopout(r.a.createElement(s.m,null));try{var c=n(80),o=c.createCanvas,i=c.loadImage;i(S(n(267))).then(function(){var n=Object(m.a)(p.a.mark((function n(r){var c,s,l;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=o(r.width,r.height),s=c.getContext("2d"),n.next=4,P(t);case 4:return l=n.sent,s.drawImage(r,0,0),n.t0=s,n.next=9,i(l);case 9:return n.t1=n.sent,n.t0.drawImage.call(n.t0,n.t1,198,618,683,683),n.prev=11,n.next=14,E.a.send("VKWebAppShowStoryBox",{background_type:"image",blob:c.toDataURL("image/png"),attachment:{url:"https://vk.com/app"+O().vk_app_id,text:"go_to",type:"url"}});case 14:a.props.t.socket.call("games.share",{gameId:e}),n.next=19;break;case 17:n.prev=17,n.t2=n.catch(11);case 19:a.props.t.setPopout(null);case 20:case"end":return n.stop()}}),n,null,[[11,17]])})));return function(e){return n.apply(this,arguments)}}())}catch(l){console.error(l),this.props.t.setPopout(null),this.props.t.setState({snackbar:r.a.createElement(s.n,{onClose:function(){return a.props.t.setState({snackbar:null})}},"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")})}}},{key:"shareStory2",value:function(e,t,a){var c=this;try{this.props.t.setPopout(r.a.createElement(s.m,null));var o=n(80),i=o.createCanvas,l=o.loadImage;l(S(n(165))).then(function(){var n=Object(m.a)(p.a.mark((function n(o){var u,m,d,h;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u=i(o.width,o.height),m=u.getContext("2d"),n.next=5,P(a);case 5:return d=n.sent,h=e.substring(0,1).toUpperCase()+e.substring(1),m.drawImage(o,0,0),m.font="64px TT Commons Demibold",m.textAlign="center",m.fillStyle="#616161",m.fillText(h,539,1210),n.t0=m,n.next=15,l(d);case 15:return n.t1=n.sent,n.t0.drawImage.call(n.t0,n.t1,198,618,683,683),n.next=19,E.a.send("VKWebAppShowStoryBox",{background_type:"image",blob:u.toDataURL("image/png"),attachment:{url:"https://vk.com/app"+O().vk_app_id,text:"go_to",type:"url"}});case 19:c.props.t.socket.call("games.share",{gameId:t}),c.props.t.setPopout(null),n.next=28;break;case 23:n.prev=23,n.t2=n.catch(0),console.error(n.t2),c.props.t.setPopout(null),c.props.t.setState({snackbar:r.a.createElement(s.n,{onClose:function(){return c.props.t.setState({snackbar:null})}},"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")});case 28:case"end":return n.stop()}}),n,null,[[0,23]])})));return function(e){return n.apply(this,arguments)}}())}catch(u){console.error(u),this.props.t.setPopout(null),this.props.t.setState({snackbar:r.a.createElement(s.n,{onClose:function(){return c.props.t.setState({snackbar:null})}},"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.list,c=t.current,o=a[c],i=this.state.isLiked,u=o.drawerId===n.state.vk_user.id,p=u&&r.a.createElement(s.f,{style:{marginTop:Et?10:16},className:"ButtonResumeDraw",before:r.a.createElement(vt.a,{width:16,height:16}),size:"m",mode:"gradient",stretched:!0,onClick:function(){n.setState({snackbar:r.a.createElement(s.n,{layout:"vertical",onClose:function(){return n.setState({snackbar:null})},before:r.a.createElement(s.e,{size:24,style:{background:"#FAAF1A"}},r.a.createElement(gt.a,{fill:"#fff",width:14,height:14})),action:"\u041a\u043e\u0433\u0434\u0430 \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e?",onActionClick:function(){return j("https://vk.com/public208964042")}},"\u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435...")})}},"\u0414\u043e\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c");return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.k,{left:r.a.createElement(s.l,{onClick:n.back}),separator:!1}),r.a.createElement("div",{className:"PictureInfo"},r.a.createElement("div",{className:"Canvas_Container"},r.a.createElement("h2",null,o["Word.nom"].substring(0,1).toUpperCase()+o["Word.nom"].substring(1)),r.a.createElement("img",{alt:"canvas",src:o["Picture.url"]}),r.a.createElement("div",{className:"Actions_Container"},r.a.createElement("div",{className:"PictureTime"},Math.round((o.endTime-o.startTime)/1e3)," \u0441."),r.a.createElement("div",{style:i?{color:"#F9F9F9",background:"#F16384"}:{},className:"LikeButton",onClick:function(){n.setPopout(r.a.createElement(s.m,null)),n.socket.call("pictures.like",{game_id:o.id},(function(t){t.response&&(a[c]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,Object(l.a)({},"Picture.likes",t.response.likes)),n.setState({like_picturesList:a}),e.setState({isLiked:t.response.isLiked})),n.setPopout(null)}))}},x(o["Picture.likes"])," ",r.a.createElement(We.a,{style:{marginLeft:4}})),r.a.createElement("div",{className:"ReportButton",onClick:function(){n.setPopout(r.a.createElement(s.m,null)),n.socket.call("games.report",{game_id:o.id},(function(e){e.response?n.setState({snackbar:r.a.createElement(s.n,{onClose:function(){return n.setState({snackbar:null})}},"\u0416\u0430\u043b\u043e\u0431\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430")}):n.setState({snackbar:r.a.createElement(s.n,{onClose:function(){return n.setState({snackbar:null})}},"\u0416\u0430\u043b\u043e\u0431\u0430 \u0443\u0436\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430")}),n.setPopout(null)}))}},r.a.createElement(ct.a,{width:16,height:16})))),r.a.createElement("div",{className:"Author_Container",onClick:function(){return j("https://vk.com/id".concat(o.drawerId))}},r.a.createElement("div",null,"\u0410\u0432\u0442\u043e\u0440"),r.a.createElement("div",null,r.a.createElement(s.e,{shadow:!1,size:36,src:L[o.drawerId].photo_100}),r.a.createElement("div",null,L[o.drawerId].first_name," ",L[o.drawerId].last_name))),r.a.createElement("div",{className:"Actions_Container"},r.a.createElement(s.f,{before:r.a.createElement(ot.a,{width:16,height:16}),size:"m",mode:u?"secondary":"gradient",onClick:function(){o.drawerId!==n.state.vk_user.id?e.shareStory1(o.id,o["Picture.url"]):e.shareStory2(o["Word.nom"],o.id,o["Picture.url"])}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"),r.a.createElement(s.f,{style:{marginTop:Et&&10},disabled:c===a.length-1,after:r.a.createElement(bt.a,null),size:"m",mode:"secondary",onClick:function(){n.setState({like_currentPictureSelected:c+1})}},"\u0414\u0430\u043b\u044c\u0448\u0435"),u&&Et&&p),u&&!Et&&p))}}]),t}(a.PureComponent);kt.defaultProps={};var wt=kt;function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(692)("./".concat(window.location.search.length>0&&"desktop_web"===JSON.parse('{"'+decodeURI(window.location.search.substring(1)).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}').vk_platform?"Desktop":"Mobile",".css"));var Ot=new dt,_t=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={activePanel:"main",history:["main"],colors:["#000000","#FFFFFF","#E63902","#EA5A03","#FA8A00","#FBB101","#FDE401","#85B201","#019317","#019C8B","#035AA2","#00247A","#500A6D","#A9236B"],online:0,drawerId:0,lobbyId:0},n.componentDidMount=n.componentDidMount.bind(Object(g.a)(n)),n.updateData=n.updateData.bind(Object(g.a)(n)),n.back=function(){var e=n.state,t=e.history,a=e.popout;null!==a&&void 0!==a||(t.length>1?("search"===t[t.length-1]&&(Ot.call("games.search"),n.setState({snackbar:r.a.createElement(s.n,{onClose:function(){return n.setState({snackbar:null})}},"\u041f\u043e\u0438\u0441\u043a \u0438\u0433\u0440\u044b \u043e\u0442\u043c\u0435\u043d\u0451\u043d")})),t.pop(),n.setState({activePanel:t[t.length-1],history:t}),"search"!==t[t.length-1]&&n.setState({snackbar:null})):E.a.send("VKWebAppClose",{status:"success"}))},n.go=function(e){var t=n.state.history;t[t.length-1]!==e&&(t.push(e),window.history.pushState({activePanel:e},"Title"),n.setState({activePanel:e,history:t,snackbar:null}))},n.setActivePanel=function(e){n.setState({activePanel:e,history:[e],snackbar:null})},n.setPopout=function(e){n.setState({popout:e})},n.socket=Ot,window.onload=function(){var e=100/812*document.documentElement.clientHeight/100;console.log("Scale value = "+e),document.body.style.setProperty("--scale-value",e)},n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,n,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(),window.addEventListener("popstate",(function(e){e.preventDefault(),a.back()})),E.a.subscribe(function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.detail,r=n.type,c=n.data,void 0!==r&&console.log(r,c),"VKWebAppUpdateConfig"===r?((o=document.createAttribute("scheme")).value=c.scheme?"client_light"===c.scheme?"bright_light":c.scheme:"bright_light",document.body.attributes.setNamedItem(o)):"VKWebAppViewRestore"===r&&a.setState({popout:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,E.a.send("VKWebAppStorageGet",{keys:["onboard"]});case 5:return e.t0=e.sent.keys[0].value,t=""===e.t0,e.next=9,E.a.send("VKWebAppGetUserInfo");case 9:return n=e.sent,e.next=12,this.setState({isShowOnboard:t,vk_user:n});case 12:return E.a.send("VKWebAppEnableSwipeBack"),this.connect(),Ot.subscribe("exit",(function(e){a.setState({placeholderText:e.title}),a.setPopout(null),a.setActivePanel("placeholder"),E.a.send("VKWebAppInit")})),Ot.onConnectionError((function(e){console.error(e),a.setState({placeholderText:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443."}),a.setPopout(null),a.setActivePanel("placeholder"),E.a.send("VKWebAppInit")})),Ot.onDisconnect((function(){a.setPopout(null),a.setActivePanel("placeholder"),E.a.send("VKWebAppInit")})),e.next=19,new Promise((function(e){return Ot.onConnect(Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setActivePanel("main"),t.next=3,a.updateData();case 3:e(!0);case 4:case"end":return t.stop()}}),t)}))))}));case 19:E.a.send("VKWebAppInit");case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"connect",value:function(){Ot.connect("https://draw.avocado.special.vk-apps.com",O())}},{key:"updateData",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){Ot.call("users.getTopNumber",{},(function(e){t.setState({top_number:e.response})})),Ot.call("users.getTop",{},function(){var e=Object(m.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.response.map((function(e){return e.id})),e.next=3,A(a);case 3:e.sent,t.setState({top:n.response.map((function(e){return xt({},L[e.id],{},e)}))});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ot.call("users.get",{},(function(n){t.setState({user:n.response}),Ot.call("games.getByDrawerId",{id:t.state.vk_user.id,limit:10},(function(n){t.setState({gamesAsDrawer:n.response});var a=n.response.map((function(e){return e.drawerId}));Ot.call("games.getByWinnerId",{id:t.state.vk_user.id,limit:10},(function(n){t.setState({gamesAsWinner:n.response}),A(a=[].concat(Object(i.a)(a),Object(i.a)(n.response.map((function(e){return e.drawerId}))))),e(!0)}))}))}))}));case 2:return this.setState({time:Date.now()}),e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.activePanel,a=t.popout,c=t.snackbar,o=t.isShowOnboard,i=t.vk_user,l=t.user,u=t.placeholderText,p=t.gamesAsWinner,m=t.gamesAsDrawer,d=t.drawerId,h=t.lobbyId,f=t.like_picturesList,v=t.like_currentPictureSelected;return i&&l&&p&&m?r.a.createElement(s.o,{activePanel:o?"onboard":n,popout:a},[{id:"onboard",component:r.a.createElement(ut,{icon:r.a.createElement(ge,null),title:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c",description:"\u0417\u0434\u0435\u0441\u044c \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0447\u0443\u0432\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0431\u044f \u0432 \u0440\u043e\u043b\u0438 \u043a\u0430\u043a \u0445\u0443\u0434\u043e\u0436\u043d\u0438\u043a\u0430, \u0442\u0430\u043a \u0438 \u0428\u0435\u0440\u043b\u043e\u043a\u0430. \u0420\u0438\u0441\u0443\u0439\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u044b \u0438 \u0443\u0433\u0430\u0434\u044b\u0432\u0430\u0439\u0442\u0435 \u0447\u0443\u0436\u0438\u0435.",buttonIcon:r.a.createElement(B.a,{width:16,height:16}),buttonText:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",buttonOnClick:function(){E.a.send("VKWebAppStorageSet",{key:"onboard",value:"1"}),e.setState({isShowOnboard:!1})}})},{id:"placeholder",component:r.a.createElement(ut,{icon:r.a.createElement(Ae,null),title:"\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u043e",description:u,buttonText:"\u041f\u0435\u0440\u0435\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f",buttonOnClick:function(){e.connect()}})},{id:"main",component:r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,{t:this,time:this.state.time}),c)},{id:"gallery",component:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue,{t:this}),c)},{id:"rating",component:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve,{t:this}),c)},{id:"likes",component:r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,{t:this}),c)},{id:"picture_info",component:r.a.createElement(r.a.Fragment,null,r.a.createElement(wt,{t:this,list:f,current:v}),c)},{id:"search",component:r.a.createElement(Ye,{t:this})},{id:"game",component:r.a.createElement(r.a.Fragment,null,r.a.createElement(rt,{t:this,drawerId:d,lobbyId:h}),c)},{id:"result",component:r.a.createElement(r.a.Fragment,null,r.a.createElement(it,{t:this}),c)}].map((function(e,t){var n=e.id,a=e.component;return r.a.createElement(s.j,{id:n,key:"Panel__".concat(t)},a)}))):r.a.createElement("div",null)}}]),t}(r.a.Component);o.a.render(r.a.createElement(s.g,null,r.a.createElement(s.c,null,r.a.createElement(s.d,null,r.a.createElement(_t,null)))),document.getElementById("root"))}},[[364,1,2]]]);
//# sourceMappingURL=main.29dff926.chunk.js.map