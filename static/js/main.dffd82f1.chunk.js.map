{"version":3,"sources":["assets/drawing/stories/Story1.png","assets/drawing/stories/Story2.png","assets/drawing/stories/Story3.png","assets/drawing/icons/Icon_Group.png","assets/drawing/icons/Icon_Donut.png","assets/drawing/stories sync /^/Story.*/.png$","css/Drawing lazy /^/.*/.css$/ groupOptions: {} namespace object","js/utils.js","js/drawerapp/utils.js","assets/drawing/icons/Icon.svg","assets/drawing/icons/IconError.svg","apps/Drawing/Main.js","apps/Drawing/Gallery.js","apps/Drawing/Rating.js","apps/Drawing/Search.js","assets/drawing/icons/IconErase.svg","apps/Drawing/Game.js","apps/Drawing/Result.js","apps/Drawing/Placeholder.js","js/socket.js","apps/Drawing/Likes.js","apps/Drawing/PictureInfo.js","apps/Drawing/Author.js","apps/Drawing/Tags.js","apps/Drawing/Friends.js","apps/Drawing/FriendLoby.js","apps/Drawing/Stats.js","apps/Drawing/Drawing.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","webpackAsyncContext","Promise","then","ids","all","slice","t","defaultFonts","loadFonts","fonts","font","span","document","createElement","style","fontFamily","innerText","body","appendChild","setTimeout","remove","decOfNum","number","titles","needNumber","undefined","decCache","Math","min","shortIntegers","int","toString","replace","getUrlParams","window","location","search","length","JSON","parse","decodeURI","substring","isPlatformIOS","vk_platform","isPlatformDesktop","openUrl","url","element","href","target","click","getSrcUrl","resource","origin","pathname","getBase64Image","imageUri","a","canvas","ctx","getContext","img","Image","src","crossOrigin","onload","width","this","height","drawImage","toDataURL","vk_local_users","name_cases","getVKUsers","user_ids","Set","filter","value","i","floor","users","j","vkApiRequest","join","fields","resp","response","interval","iterations","fetching","setInterval","data","clearInterval","concat","user","find","key","screen_name","method","params","static_params","query","stringify","encodeURIComponent","url_","res","rej","fetch","json","answer","catch","err","_extends","assign","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","fillRule","clipRule","d","fill","cx","cy","rx","ry","r","stroke","strokeWidth","_ref10","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","_ref24","_ref25","_ref26","_ref27","_ref28","_ref29","_ref","svgRef","title","props","viewBox","ref","ForwardRef","forwardRef","Main","socket","unsubscribe","subscribe","setState","online","count","forceUpdate","state","_tags","gamesAsWinner","gamesAsDrawer","top_number","lvl","pictures","successfulPictures","guessedPictures","offset","likes","colors","max","className","vk_user","photo_100","size","shadow","React","cloneElement","onClick","setActiveModal","first_name","index","marginLeft","background","border","go","num","alt","split","Array","shortIntegersK","setPopout","type","users_topPictures","users_topGuessedPictures","users_topLikes","limit","randomGamesLike","drawerId","topLikes","PureComponent","defaultProps","Gallery","canGetMore","prevY","observer","IntersectionObserver","handleObserver","bind","root","rootMargin","threshold","observe","loadingRef","entities","y","boundingClientRect","word","gameId","pic","require","createCanvas","loadImage","canvasData","toUpperCase","textAlign","fillStyle","fillText","bridge","send","background_type","blob","attachment","vk_app_id","text","console","error","snackbar","onClose","banners","isDesktop","defaultBannerData","Fragment","left","back","separator","margin","marginTop","gridGap","paddingBottom","like_currentPictureSelected","like_method","like_param","like_user_id","bannerData","Rating","top","author","author_works","last_name","sex","guessedPicturesToday","Search","lobbyPlayers","lobbyPlayers_","point_count","starting","players","lobbyId","gameStart","Date","now","isOnlineDrawing","log","xmlns","x","x1","y1","x2","y2","strokeDasharray","transform","gradientUnits","stopColor","patternContentUnits","photo_max_orig","current","Game","drawer","isDrawer","selectedColor","drawing","time","messages","onMouseDown","onMouseUp","throttle","onMouseMove","drawLine","winnerId","canvas_","gameEnd","setActivePanel","x0","y0","color","canvasContext","clearRect","user_id","message","comments","getElementsByClassName","scrollIntoView","addEventListener","picUrl","pictureUrl_","clientX","touches","clientY","canvasRect","getBoundingClientRect","er","beginPath","moveTo","lineTo","strokeStyle","lineWidth","closePath","callback","delay","previousCall","getTime","alignSelf","header","display","justifyContent","nom","wordWrap","outline","opacity","pointerEvents","hasHover","before","mode","gameId_","n_canvasData","cursor","replaceAll","iosCloseItem","autoclose","autoFocus","onChange","currentTarget","placeholder","onKeyDown","trim","onFocus","getElementById","Result","isWinner","shareStory","updateData","isLiked","round","game_id","ad_format","Placeholder","icon","description","buttonText","buttonIcon","buttonOnClick","buttonMode","buttonBack","after","Socket","onConnect","onDisconnect","onConnectionError","getSocket","on","emit","event","events","removeAllListeners","connect","openSocket","path","transports","reconnection","Likes","showArrows","getScrollToLeft","getScrollToRight","PictureInfo","shareStory1","shareStory2","param","list","game","needButtonResumeDraw","ButtonResumeDraw","stretched","admin","vk_donut","endTime","startTime","like_picturesList","disabled","Author","history","Tags","Friends","friends","app_id","parseInt","scope","access_token","v","_friends","friends_count","items","friend_ids","splice","updateFriends","friend_lobby","owner_id","members","expandable","FriendLobby","removed","splashShow","supports","activeValue","friendsOnly","onSwitch","options","name","readOnly","Stats","coins","value1","index1","subtitle","bannersInterval","connectInterval","Drawing","activePanel","activeModal","modalHistory","bannersCount","domain","trackingLink","ctaText","advertisingLabel","iconLink","ageRestrictions","statistics","connected","dataUpdated","componentDidMount","popout","pushState","pop","status","panel","push","scale","documentElement","clientHeight","setProperty","preventDefault","detail","schemeAttribute","createAttribute","scheme","attributes","setNamedItem","isShowOnboard","isShowVkGroup","isShowUpdate","placeholderText","banned","placeholderNeed","onChangeHash","hash","startsWith","do","gamesAsAuthor","tag_name","tag_info","subheader","actions","showConnecting","modal","_tag_modal","actionsLayout","onSwipeBack","component","group_id","toLocaleDateString","day","month","year","hour","minute","Component","ReactDOM","render"],"mappings":"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","file":"static/js/main.dffd82f1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Story1.c1713922.png\";","module.exports = __webpack_public_path__ + \"static/media/Story2.28d56ba9.png\";","module.exports = __webpack_public_path__ + \"static/media/Story3.2f47cccb.png\";","module.exports = __webpack_public_path__ + \"static/media/Icon_Group.9fbb0b78.png\";","module.exports = \"data:image/png;base64,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\"","var map = {\n\t\"./Story1.png\": 165,\n\t\"./Story2.png\": 266,\n\t\"./Story3.png\": 267\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 666;","var map = {\n\t\"./Desktop.css\": [\n\t\t692,\n\t\t3\n\t],\n\t\"./Global.css\": [\n\t\t193\n\t],\n\t\"./Mobile.css\": [\n\t\t693,\n\t\t4\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 690;\nmodule.exports = webpackAsyncContext;","import {default as bridge} from '@vkontakte/vk-bridge';\r\n\r\nexport function convertTextToLines(text, font, max_width) {\r\n    const\r\n        {createCanvas} = require('canvas'),\r\n        canvas = createCanvas(1080, 1920),\r\n        ctx = canvas.getContext('2d')\r\n    ;\r\n    ctx.font = font;\r\n    let width = 0, lines = [], result, i, j;\r\n\r\n    while (text.length) {\r\n        for (i = text.length; ctx.measureText(text.substr(0, i)).width > max_width; i--) ;\r\n        result = text.substr(0, i);\r\n\r\n        if (i !== text.length)\r\n\r\n            for (j = 0; result.indexOf(' ', j) !== -1; j = result.indexOf(' ', j) + 1) ;\r\n        lines.push(result.substr(0, j || result.length));\r\n\r\n        width = Math.max(width, ctx.measureText(lines[lines.length - 1]).width);\r\n        text = text.substr(lines[lines.length - 1].length, text.length);\r\n    }\r\n\r\n    return lines;\r\n}\r\n\r\nexport async function get(url, params) {\r\n    const\r\n        query = params ? '?' + Object.keys(params).map((value) =>\r\n            encodeURIComponent(value) + '=' + encodeURIComponent(params[value])\r\n        ).join('&') : '',\r\n        url_ = `${url}${query}`;\r\n    return await new Promise((res, rej) => {\r\n        fetch(url_, {method: 'GET'})\r\n            .then(res =>\r\n                res.json()\r\n            )\r\n            .then(answer =>\r\n                res(answer)\r\n            ).catch(err =>\r\n            res({error: {code: -1, text: err.toString()}})\r\n        );\r\n    });\r\n}\r\n\r\nexport const defaultFonts = [\r\n    'SF Pro Text',\r\n    'SF Pro Text Heavy',\r\n    'SF Pro Text Semibold',\r\n    'SF Pro Display',\r\n    'SF Pro Display Bold',\r\n    'SF Pro Display Semibold',\r\n    'SF Pro Display Medium',\r\n    'SF Pro Rounded',\r\n    'SF Pro Rounded Semibold',\r\n    'SF Pro Rounded Bold',\r\n    'SF UI Display',\r\n    'SF UI Text',\r\n    'TT Commons',\r\n    'TT Commons Bold',\r\n    'TT Commons Demibold',\r\n    'Manrope ExtraBold'\r\n];\r\n\r\nexport function loadFonts(fonts = defaultFonts) {\r\n    for (const font of fonts) {\r\n        const span = document.createElement('span');\r\n        span.style.fontFamily = font;\r\n        span.innerText = '.';\r\n        document.body.appendChild(span);\r\n        setTimeout(() => span.remove(), 1);\r\n    }\r\n}\r\n\r\nexport function animateValue(obj, start, end, duration) {\r\n    if (start === end || end - start === 1) {\r\n        obj.innerHTML = end;\r\n    } else {\r\n        let startTimestamp = null;\r\n        const step = (timestamp) => {\r\n            if (!startTimestamp) startTimestamp = timestamp;\r\n            const progress = Math.min((timestamp - startTimestamp) / duration, 1);\r\n            obj.innerHTML = Math.floor(progress * (end - start) + start);\r\n            if (progress < 1) {\r\n                window.requestAnimationFrame(step);\r\n            }\r\n        };\r\n        window.requestAnimationFrame(step);\r\n    }\r\n}\r\n\r\nexport function cps(array) {\r\n    if (array.length !== 0) {\r\n        let\r\n            first_date = array[0],\r\n            cur_pos = 0,\r\n            clicks_per_second = []\r\n        ;\r\n        array = array.map(value => value - first_date);\r\n\r\n        for (const click of array) {\r\n            cur_pos = click < 1000 ? 0 : parseInt((click + '').substring(0, (click + '').length - 3));\r\n            clicks_per_second[cur_pos] = clicks_per_second[cur_pos] > 0 ? clicks_per_second[cur_pos] + 1 : 1;\r\n        }\r\n\r\n        clicks_per_second = clicks_per_second.filter(value => value > 0);\r\n\r\n        const\r\n            max_cps = Math.max(...clicks_per_second),\r\n            min_cps = Math.min(...clicks_per_second),\r\n            mid_cps = Math.ceil((max_cps + min_cps) / 2)\r\n        ;\r\n        return {max_cps, min_cps, mid_cps};\r\n    } else {\r\n        return {max_cps: 0, min_cps: 0, mid_cps: 0};\r\n    }\r\n}\r\n\r\nfunction componentToHex(c) {\r\n    const hex = c.toString(16);\r\n    return hex.length == 1 ? '0' + hex : hex;\r\n}\r\n\r\nexport function rgbToHex(r, g, b) {\r\n    return '#' + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n}\r\n\r\nexport function sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\nexport function decOfNum(number, titles, needNumber = true) {\r\n    if (number !== undefined) {\r\n        let decCache = [],\r\n            decCases = [2, 0, 1, 1, 1, 2];\r\n        if (!decCache[number]) decCache[number] = number % 100 > 4 && number % 100 < 20 ? 2 : decCases[Math.min(number % 10, 5)];\r\n        return (needNumber ? number + ' ' : '') + titles[decCache[number]];\r\n    }\r\n}\r\n\r\nexport function numToStr(number) {\r\n    if (number > 0 && number <= 10) {\r\n        const words = [\r\n            '', '', '', '', '', '', '', '', '', ''\r\n        ];\r\n        return words[number - 1];\r\n    } else {\r\n        return number + '';\r\n    }\r\n}\r\n\r\nexport function shortIntegers(int) {\r\n    try {\r\n        return int.toString().replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\r\n    } catch (e) {\r\n        return 0;\r\n    }\r\n}\r\n\r\nexport function shortIntegersK(int) {\r\n    const\r\n        int_ = shortIntegers(int),\r\n        split = int_.split(' ')\r\n    ;\r\n    return split[0] + new Array((split.length - 1)).fill('').join('')\r\n}\r\n\r\nexport function getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nexport function getRandomInts(min, max, count) {\r\n    const array = [];\r\n    for (let i = 0; i < count; i++) {\r\n        const int = getRandomInt(min, max);\r\n        if (array.indexOf(int) === -1) {\r\n            array.push(int);\r\n        } else {\r\n            if (max >= count)\r\n                i--;\r\n            else\r\n                array.push(int);\r\n        }\r\n    }\r\n    return array;\r\n}\r\n\r\nexport function nodeToString(node) {\r\n    let tmpNode = document.createElement(\"div\");\r\n    tmpNode.appendChild(node.cloneNode(true));\r\n    let str = tmpNode.innerHTML;\r\n    tmpNode = node = null;\r\n    return str;\r\n}\r\n\r\nexport function convertMiliseconds(miliseconds) {\r\n    let hours, minutes, total_hours, total_minutes, total_seconds;\r\n\r\n    total_seconds = parseInt(Math.floor(miliseconds / 1000));\r\n    total_minutes = parseInt(Math.floor(total_seconds / 60));\r\n    total_hours = parseInt(Math.floor(total_minutes / 60));\r\n\r\n    minutes = parseInt(total_minutes % 60);\r\n    hours = parseInt(total_hours % 24);\r\n\r\n    return hours + '. ' + minutes + '.';\r\n}\r\n\r\nexport function convertMsToNormalTime(miliseconds) {\r\n    let hours, minutes, seconds, total_hours, total_minutes, total_seconds;\r\n\r\n    total_seconds = parseInt(Math.floor(miliseconds / 1000));\r\n    total_minutes = parseInt(Math.floor(total_seconds / 60));\r\n    total_hours = parseInt(Math.floor(total_minutes / 60));\r\n\r\n    seconds = parseInt(total_seconds % 60);\r\n    minutes = parseInt(total_minutes % 60);\r\n    hours = parseInt(total_hours % 24);\r\n\r\n    return {hours, minutes, seconds};\r\n}\r\n\r\nconst getImage = (src) =>\r\n    new Promise((res, rej) => {\r\n        const image = new Image();\r\n\r\n        image.onload = () => res(image);\r\n        image.crossOrigin = 'anonymous';\r\n        image.onstalled = (e) => {\r\n            console.log('Failed to fetch data, but trying.', e);\r\n            rej(e);\r\n        };\r\n        image.onerror = (e) => {\r\n            console.log('Failed to fetch data, error.', e);\r\n            rej(e);\r\n        };\r\n        image.src = src;\r\n    });\r\n\r\nexport async function toBlob(object, dataUrl = true) {\r\n    const\r\n        myCanvas = document.createElement('canvas'),\r\n        ctxt = myCanvas.getContext('2d');\r\n\r\n    let base = typeof object === 'string' ? object : window.btoa(object);\r\n    const img = await getImage(typeof object === 'string' ? base : `data:image/svg+xml;base64,${base}`);\r\n    myCanvas.height = img.height;\r\n    myCanvas.width = img.width;\r\n    if (ctxt === null) {\r\n        return \"\";\r\n    }\r\n    ctxt.drawImage(img, 0, 0, img.width, img.height);\r\n    return dataUrl ? myCanvas.toDataURL() : myCanvas;\r\n}\r\n\r\nexport function getUrlParams() {\r\n    return window.location.search.length > 0 && JSON.parse('{\"' + decodeURI(window.location.search.substring(1)).replace(/\"/g, '\\\\\"').replace(/&/g, '\",\"').replace(/=/g, '\":\"') + '\"}');\r\n}\r\n\r\nexport const platforms = {\r\n    desktop_web: /desktop_web/g,\r\n    mobile_android: /mobile_android/g,\r\n    mobile_android_messenger: /mobile_android_messenger/g,\r\n    mobile_ipad: /mobile_ipad/g,\r\n    mobile_iphone: /mobile_iphone/g,\r\n    mobile_iphone_messenger: /mobile_iphone_messenger/g,\r\n    mobile_web: /mobile_web/g,\r\n\r\n    android: /mobile_android|mobile_android_messenger/g,\r\n    ios: /mobile_ipad|mobile_iphone|mobile_iphone_messenger/g\r\n};\r\n\r\nexport function isPlatformIOS() {\r\n    return getUrlParams().vk_platform === 'mobile_iphone';\r\n}\r\n\r\nexport function isPlatformAndroid() {\r\n    return platforms.android.test(getUrlParams().vk_platform);\r\n}\r\n\r\nexport function isPlatformDesktop() {\r\n    return getUrlParams().vk_platform === 'desktop_web';\r\n}\r\n\r\nexport let\r\n    vk_local_users = {},\r\n    name_cases = ['first_name', 'last_name', 'first_name_dat', 'first_name_nom', 'first_name_gen', 'first_name_acc', 'first_name_ins', 'first_name_abl', 'last_name_dat', 'last_name_nom', 'last_name_gen', 'last_name_acc', 'last_name_ins', 'last_name_abl']\r\n;\r\n\r\nexport async function getVKUsers(ids) {\r\n    const\r\n        user_ids = [\r\n            ...new Set(\r\n                ids\r\n                    .filter(value => vk_local_users[value] === undefined)\r\n                    .map(\r\n                        value => typeof value === 'number' ? value : value.replace('@', '')\r\n                            .replace('id', '')\r\n                            .replace('vk.com/', '')\r\n                            .replace('http://', '')\r\n                            .replace('https://', '')\r\n                    )\r\n            )\r\n        ],\r\n        i = Math.floor(user_ids.length / 100)\r\n    ;\r\n\r\n    if (user_ids.length > 0) {\r\n        let users = [];\r\n\r\n        for (let j = 0; j < i + 1; j++) {\r\n            users = users.concat(\r\n                await vkApiRequest('users.get', {\r\n                    user_ids: user_ids.slice(j * 100, j * 100 + 100).join(','),\r\n                    fields: ['screen_name', 'photo_100', 'photo_200', 'photo_max_orig', 'sex', ...name_cases].join(',')\r\n                })\r\n            );\r\n        }\r\n\r\n        for (const user of users) {\r\n            vk_local_users[user.id] = user;\r\n        }\r\n    }\r\n\r\n    return ids.map(value => vk_local_users[value] || vk_local_users[Object.keys(vk_local_users).find(key => vk_local_users[key].screen_name === value)]);\r\n}\r\n\r\nexport async function vkApiRequest(method, params = {}) {\r\n    return (await bridge.send('VKWebAppCallAPIMethod', {\r\n        method,\r\n        params: {\r\n            ...params,\r\n            v: '5.126',\r\n            access_token: params.access_token || '7a8d6dcc7a8d6dcc7a8d6dcc637afa8f4477a8d7a8d6dcc1b06a888634e406617b4aef3'\r\n        }\r\n    })).response\r\n}\r\n\r\nexport function viewportToPixels(value) {\r\n    const\r\n        parts = value.match(/([0-9\\.]+)(vh|vw)/),\r\n        q = Number(parts[1]),\r\n        side = window[['innerHeight', 'innerWidth'][['vh', 'vw'].indexOf(parts[2])]]\r\n    ;\r\n    return side * (q / 100)\r\n}\r\n\r\nexport function openUrl(url) {\r\n    const element = document.createElement('a');\r\n    element.href = url;\r\n    element.target = '_blank';\r\n    element.click();\r\n    element.remove();\r\n}\r\n\r\nexport function getUrlLocation() {\r\n    return window.location.origin + window.location.pathname.replace('/index.html', '');\r\n}\r\n\r\nexport function getSrcUrl(resource) {\r\n    return getUrlLocation() + resource.substring(1);\r\n}\r\n\r\nexport async function getBase64Image(imageUri) {\r\n    const\r\n        canvas = document.createElement('canvas'),\r\n        ctx = canvas.getContext('2d'),\r\n        img = new Image()\r\n    ;\r\n    img.src = 'https://murmuring-bastion-20764.herokuapp.com/' + imageUri;\r\n    img.crossOrigin = 'Anonymous';\r\n    return await new Promise(resolve =>\r\n        img.onload = function () {\r\n            canvas.width = this.width;\r\n            canvas.height = this.height;\r\n            ctx.drawImage(img, 0, 0, this.width, this.height);\r\n            resolve(canvas.toDataURL('image/png'));\r\n        }\r\n    );\r\n}\r\n\r\nexport function appendScript(code) {\r\n    let\r\n        container = document.getElementById('advert_container'),\r\n        script = document.createElement('script')\r\n    ;\r\n    script.innerHTML = code;\r\n    if (container === null) {\r\n        container = document.createElement('div');\r\n        container.id = 'advert_container';\r\n        document.body.appendChild(container);\r\n    }\r\n    container.innerHTML = '';\r\n    setTimeout(() => {\r\n        container.appendChild(script);\r\n    }, 400);\r\n}","import {getUrlParams} from \"../utils\";\r\n\r\nexport let\r\n    vk_local_users = {},\r\n    name_cases = ['first_name', 'last_name', 'first_name_dat', 'first_name_nom', 'first_name_gen', 'first_name_acc', 'first_name_ins', 'first_name_abl', 'last_name_dat', 'last_name_nom', 'last_name_gen', 'last_name_acc', 'last_name_ins', 'last_name_abl']\r\n;\r\n\r\nexport async function getVKUsers(ids) {\r\n    const\r\n        user_ids = [\r\n            ...new Set(\r\n                ids\r\n                    .filter(value => vk_local_users[value] === undefined && value !== undefined)\r\n                    .map(\r\n                        value => typeof value === 'number' ? value : value.replace('@', '')\r\n                            .replace('id', '')\r\n                            .replace('vk.com/', '')\r\n                            .replace('http://', '')\r\n                            .replace('https://', '')\r\n                    )\r\n            )\r\n        ],\r\n        i = Math.floor(user_ids.length / 100)\r\n    ;\r\n\r\n    if (user_ids.length > 0) {\r\n        let users = [];\r\n\r\n        for (let j = 0; j < i + 1; j++) {\r\n            let resp = (await vkApiRequest('users.getVK', {\r\n                user_ids: user_ids.slice(j * 100, j * 100 + 100).join(','),\r\n                fields: ['screen_name', 'photo_100', 'photo_200', 'photo_max_orig', 'sex', ...name_cases].join(',')\r\n            })).response;\r\n            if (resp === null) {\r\n                resp = await new Promise(resolve => {\r\n                    let interval, iterations = 0, fetching = false;\r\n                    interval = setInterval(async () => {\r\n                        if (!fetching) {\r\n                            fetching = true;\r\n                            iterations++;\r\n\r\n                            const data = (await vkApiRequest('users.getVK', {\r\n                                user_ids: user_ids.slice(j * 100, j * 100 + 100).join(','),\r\n                                fields: ['screen_name', 'photo_100', 'photo_200', 'photo_max_orig', 'sex', ...name_cases].join(',')\r\n                            })).response;\r\n\r\n                            if (data !== null) {\r\n                                resolve(data);\r\n                                clearInterval(interval);\r\n                            } else {\r\n                                if (iterations >= 10) {\r\n                                    resolve([]);\r\n                                    clearInterval(interval);\r\n                                }\r\n                            }\r\n\r\n                            fetching = false;\r\n                        }\r\n                    }, 400);\r\n                });\r\n            }\r\n            users = users.concat(resp);\r\n        }\r\n\r\n        for (const user of users) {\r\n            vk_local_users[user.id] = user;\r\n        }\r\n    }\r\n\r\n    return ids.map(value => vk_local_users[value] || vk_local_users[Object.keys(vk_local_users).find(key => vk_local_users[key].screen_name === value)]);\r\n}\r\n\r\nexport async function vkApiRequest(method, params = {}) {\r\n    const\r\n        static_params = {...getUrlParams(), query: JSON.stringify(params)},\r\n        query = static_params ? '?' + Object.keys(static_params).map((value) =>\r\n            encodeURIComponent(value) + '=' + encodeURIComponent(static_params[value])\r\n        ).join('&') : '',\r\n        url_ = `https://draw.avocado.special.vk-apps.com/api/${method}${query}`;\r\n    return await new Promise((res, rej) => {\r\n        let interval, fetching = false;\r\n        interval = setInterval(() => {\r\n            if (!fetching) {\r\n                fetching = true;\r\n                fetch(url_, {method: 'GET'})\r\n                    .then(res =>\r\n                        res.json()\r\n                    )\r\n                    .then(answer => {\r\n                            clearInterval(interval);\r\n                            fetching = false;\r\n                            res(answer);\r\n                        }\r\n                    ).catch(err => {\r\n                        fetching = false;\r\n                    }\r\n                );\r\n            }\r\n        }, 400);\r\n    });\r\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M110 3.0095V184.326C54.6271 180.939 -0.694326 132.316 31.5388 55.8662C48.1357 16.502 79.4017 2.58244 110 3.0095Z\",\n  fill: \"white\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M110 184.326V3.00952C149.416 3.55965 187.724 27.9163 192.141 52.3571C192.5 54.3448 190.978 56.1206 189 56.5322C129.309 68.9569 155.694 126.363 186.92 132.782C189.625 133.338 191.547 136.155 190.451 138.689C175.893 172.35 142.937 186.341 110 184.326Z\",\n  fill: \"#E7D0A9\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M38 61.5C76.8338 -30.605 173.437 7.4338 180.196 52.3506C180.497 54.3466 178.98 56.1203 177.004 56.5316C117.201 68.977 143.788 126.568 175.088 132.816C177.748 133.347 179.662 136.087 178.68 138.616C142.96 230.579 -5.46898 164.599 38 61.5Z\",\n  fill: \"#FFE4B8\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M150 40C150 49.3888 142.389 57 133 57C133 57 133 49.3888 133 40C133 30.6112 133 23 133 23C142.389 23 150 30.6112 150 40Z\",\n  fill: \"#3769A5\"\n});\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M116 40C116 49.3888 123.611 57 133 57C133 57 133 49.3888 133 40C133 30.6112 133 23 133 23C123.611 23 116 30.6112 116 40Z\",\n  fill: \"white\"\n});\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"ellipse\", {\n  cx: 131.5,\n  cy: 40,\n  rx: 11.5,\n  ry: 17,\n  fill: \"#4E9BD4\"\n});\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 133,\n  cy: 40,\n  r: 18.5,\n  stroke: \"#171C1F\",\n  strokeWidth: 5\n});\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M97 49C97 58.3888 89.3888 66 80 66C80 66 80 58.3888 80 49C80 39.6112 80 32 80 32C89.3888 32 97 39.6112 97 49Z\",\n  fill: \"#EE3C7A\"\n});\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M63 49C63 58.3888 70.6112 66 80 66C80 66 80 58.3888 80 49C80 39.6112 80 32 80 32C70.6112 32 63 39.6112 63 49Z\",\n  fill: \"white\"\n});\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"ellipse\", {\n  cx: 78.5,\n  cy: 49,\n  rx: 11.5,\n  ry: 17,\n  fill: \"#F05F88\"\n});\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 80,\n  cy: 49,\n  r: 18.5,\n  stroke: \"#171C1F\",\n  strokeWidth: 5\n});\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M74 98C74 107.389 66.3888 115 57 115C57 115 57 107.389 57 98C57 88.6112 57 81 57 81C66.3888 81 74 88.6112 74 98Z\",\n  fill: \"#FAAF1A\"\n});\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M40 98C40 107.389 47.6112 115 57 115C57 115 57 107.389 57 98C57 88.6112 57 81 57 81C47.6112 81 40 88.6112 40 98Z\",\n  fill: \"white\"\n});\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"ellipse\", {\n  cx: 55.5,\n  cy: 98,\n  rx: 11.5,\n  ry: 17,\n  fill: \"#FBD20A\"\n});\n\nvar _ref16 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 57,\n  cy: 98,\n  r: 18.5,\n  stroke: \"#171C1F\",\n  strokeWidth: 5\n});\n\nvar _ref17 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M97 142C97 151.389 89.3888 159 80 159C80 159 80 151.389 80 142C80 132.611 80 125 80 125C89.3888 125 97 132.611 97 142Z\",\n  fill: \"#F05225\"\n});\n\nvar _ref18 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M63 142C63 151.389 70.6112 159 80 159C80 159 80 151.389 80 142C80 132.611 80 125 80 125C70.6112 125 63 132.611 63 142Z\",\n  fill: \"white\"\n});\n\nvar _ref19 =\n/*#__PURE__*/\nReact.createElement(\"ellipse\", {\n  cx: 78.5,\n  cy: 142,\n  rx: 11.5,\n  ry: 17,\n  fill: \"#F16723\"\n});\n\nvar _ref20 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 80,\n  cy: 142,\n  r: 18.5,\n  stroke: \"#171C1F\",\n  strokeWidth: 5\n});\n\nvar _ref21 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 132,\n  cy: 145,\n  r: 14.1471,\n  fill: \"#FFD1B0\",\n  stroke: \"#171C1F\",\n  strokeWidth: 3.82353\n});\n\nvar _ref22 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M31.5384 55.8662C63.9928 -24.637 176.923 -2.44941 191.655 51.924C192.236 54.0694 190.691 56.1691 188.517 56.634C129.451 69.267 155.778 126.38 186.92 132.782C189.625 133.338 191.547 136.155 190.452 138.69C151.491 228.969 -17.9357 178.587 31.5384 55.8662Z\",\n  stroke: \"#171C1F\",\n  strokeWidth: 5\n});\n\nvar _ref23 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M28.789 74.0071H18.789L21.7286 184.733C21.7671 186.184 22.3378 188.007 23.789 188.007C25.2402 188.007 25.8108 186.184 25.8494 184.733L28.789 74.0071Z\",\n  fill: \"#FFE4B8\"\n});\n\nvar _ref24 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M6.28899 48.0071C5.88899 35.2071 15.789 24.3405 20.789 20.5071C22.789 30.5071 26.7889 35.0071 36.2889 42.0071C45.7889 49.0071 40.7889 67.0071 28.789 67.5071C16.789 68.0071 6.78899 64.0071 6.28899 48.0071Z\",\n  fill: \"#FFE4B8\"\n});\n\nvar _ref25 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M24.2888 50.0071C19.7888 51.2929 9.4555 45.5071 5.28883 42.0071C3.78883 52.6738 7.79443 67.5698 25.2889 68.0071C45.2889 68.5071 44.2889 46.0071 36.2888 39.5071C18.2888 40.5071 26.7888 49.2929 24.2888 50.0071Z\",\n  fill: \"#E1E1E1\"\n});\n\nvar _ref26 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M24.2888 46.0071C19.7888 47.2929 9.4555 41.5071 5.28883 38.0071C3.78883 48.6738 7.79443 63.5698 25.2889 64.0071C45.2889 64.5071 44.2889 42.0071 36.2888 35.5071C18.2888 36.5071 26.7888 45.2929 24.2888 46.0071Z\",\n  fill: \"white\"\n});\n\nvar _ref27 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M24.2889 50.0071C19.7889 51.2929 9.45561 45.5071 5.28894 42.0071C7.12227 35.0071 12.7889 20.4072 20.7889 18.0071C22.2889 17.5571 25.7889 38.5071 36.2889 39.5071C18.2889 40.5071 26.7889 49.2929 24.2889 50.0071Z\",\n  fill: \"#F05F88\"\n});\n\nvar _ref28 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M31.7879 74.0868L31.8697 71.0071H28.789H18.789H15.7083L15.79 74.0868L18.7297 184.813C18.7565 185.825 18.9627 187.127 19.5632 188.29C20.1841 189.493 21.5263 191.007 23.789 191.007C26.0516 191.007 27.3939 189.493 28.0148 188.29C28.6153 187.127 28.8214 185.825 28.8483 184.813L31.7879 74.0868ZM23.7307 19.9188L22.7861 15.1958L18.9637 18.1263C16.2 20.2452 12.2308 24.1771 8.98255 29.2847C5.73379 34.3931 3.06551 40.9028 3.29045 48.1008C3.5607 56.7488 6.45078 62.7474 11.4687 66.3757C16.3317 69.8921 22.6414 70.7659 28.9139 70.5045C36.5885 70.1848 41.6847 64.2875 43.4848 58.0232C45.2806 51.7736 44.1224 44.0527 38.0685 39.592C33.3636 36.1252 30.2875 33.4635 28.1265 30.5821C26.0198 27.7733 24.6657 24.5937 23.7307 19.9188Z\",\n  stroke: \"#171C1F\",\n  strokeWidth: 6\n});\n\nvar _ref29 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M5.28894 42.0071C9.45561 45.5071 19.7889 51.2929 24.2889 50.0071C26.7889 49.2929 18.2889 40.5071 36.2889 39.5071\",\n  stroke: \"#171C1F\",\n  strokeWidth: 4\n});\n\nvar SvgIcon = function SvgIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 195,\n    height: 195,\n    viewBox: \"0 0 195 195\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19, _ref20, _ref21, _ref22, _ref23, _ref24, _ref25, _ref26, _ref27, _ref28, _ref29);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Icon.8e925224.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M80.4243 72.7816L73.3533 79.8527L153.727 156.069C154.78 157.068 156.473 157.953 157.499 156.927C158.525 155.901 157.639 154.208 156.641 153.155L80.4243 72.7816Z\",\n  fill: \"#FFE4B8\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M46.1297 70.3067C36.7958 61.5386 36.1123 46.8544 36.9373 40.6083C45.4226 46.2651 51.4329 46.6187 63.1002 44.8509C74.7675 43.0832 83.9598 59.3466 75.8281 68.1854C67.6964 77.0242 57.7969 81.2669 46.1297 70.3067Z\",\n  fill: \"#FFE4B8\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M60.2718 58.9932C57.9989 63.0844 46.601 66.3 41.1799 66.7714C47.6617 75.3745 61.0271 83.0752 73.7068 71.014C88.2026 57.2254 71.5855 42.0226 61.3324 43.0833C49.3116 56.5184 61.5345 56.7204 60.2718 58.9932Z\",\n  fill: \"#E1E1E1\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M57.4433 56.1648C55.1704 60.2559 43.7725 63.4715 38.3514 63.9429C44.8332 72.5461 58.1986 80.2467 70.8783 68.1855C85.3741 54.3969 68.757 39.1941 58.5039 40.2548C46.4831 53.6899 58.706 53.8919 57.4433 56.1648Z\",\n  fill: \"white\"\n});\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M60.2718 58.9931C57.999 63.0842 46.6011 66.2999 41.18 66.7713C37.5266 60.5252 31.2098 46.1945 35.1696 38.8406C35.912 37.4617 53.2008 49.8007 61.3325 43.0832C49.3117 56.5182 61.5345 56.7203 60.2718 58.9931Z\",\n  fill: \"#F05F88\"\n});\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M71.2319 77.7314L69.0536 79.9098L71.289 82.0296L151.663 158.246C152.397 158.943 153.464 159.717 154.711 160.116C156.001 160.527 158.02 160.649 159.62 159.049C161.22 157.449 161.099 155.429 160.687 154.139C160.289 152.892 159.514 151.826 158.818 151.091L82.6012 70.7173L80.4814 68.4819L78.303 70.6603L71.2319 77.7314ZM38.6014 38.1121L34.5938 35.4404L33.9631 40.2154C33.5071 43.668 33.4808 49.2548 34.7955 55.1634C36.1105 61.0727 38.8268 67.5626 44.0756 72.4933C50.3818 78.4173 56.667 80.6153 62.7808 79.6327C68.7059 78.6804 73.7854 74.8367 78.0359 70.2166C83.2366 64.5637 82.6701 56.7901 79.5135 51.0878C76.3642 45.3988 70.0857 40.7583 62.6508 41.8848C56.8725 42.7603 52.8153 43.0534 49.2498 42.544C45.7739 42.0474 42.5682 40.7566 38.6014 38.1121Z\",\n  stroke: \"#171C1F\",\n  strokeWidth: 6\n});\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M41.1799 66.7713C46.601 66.2999 57.9989 63.0843 60.2718 58.9931C61.5344 56.7203 49.3116 56.5183 61.3324 43.0832\",\n  stroke: \"#171C1F\",\n  strokeWidth: 4\n});\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M121.432 80.5199L114.36 73.4488L38.144 153.823C37.1454 154.876 36.2596 156.568 37.2858 157.595C38.312 158.621 40.0047 157.735 41.0578 156.736L121.432 80.5199Z\",\n  fill: \"#FFE4B8\"\n});\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M123.906 46.2252C132.675 36.8914 147.359 36.2079 153.605 37.0329C147.948 45.5181 147.594 51.5285 149.362 63.1958C151.13 74.863 134.867 84.0554 126.028 75.9237C117.189 67.792 112.946 57.8925 123.906 46.2252Z\",\n  fill: \"#FFE4B8\"\n});\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M135.22 60.3674C131.129 58.0945 127.913 46.6966 127.442 41.2755C118.839 47.7573 111.138 61.1227 123.199 73.8024C136.988 88.2981 152.191 71.6811 151.13 61.428C137.695 49.4072 137.493 61.63 135.22 60.3674Z\",\n  fill: \"#E1E1E1\"\n});\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M138.048 57.5389C133.957 55.266 130.742 43.8681 130.27 38.447C121.667 44.9288 113.966 58.2942 126.028 70.9739C139.816 85.4697 155.019 68.8526 153.958 58.5995C140.523 46.5787 140.321 58.8016 138.048 57.5389Z\",\n  fill: \"white\"\n});\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M135.22 60.3674C131.129 58.0946 127.913 46.6967 127.442 41.2755C133.688 37.6222 148.019 31.3053 155.373 35.2651C156.751 36.0076 144.412 53.2964 151.13 61.4281C137.695 49.4073 137.493 61.6301 135.22 60.3674Z\",\n  fill: \"#FBD20A\"\n});\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M116.482 71.3275L114.303 69.1491L112.184 71.3846L35.9671 151.758C35.2706 152.493 34.4957 153.559 34.0976 154.807C33.6861 156.096 33.5646 158.116 35.1645 159.716C36.7644 161.316 38.7842 161.194 40.0738 160.783C41.3211 160.385 42.3876 159.61 43.122 158.913L123.496 82.6968L125.731 80.577L123.553 78.3986L116.482 71.3275ZM156.101 38.697L158.773 34.6893L153.998 34.0587C150.545 33.6027 144.958 33.5764 139.05 34.8911C133.14 36.2061 126.651 38.9224 121.72 44.1712C115.796 50.4774 113.598 56.7626 114.58 62.8764C115.533 68.8015 119.376 73.881 123.997 78.1315C129.649 83.3322 137.423 82.7657 143.125 79.609C148.814 76.4598 153.455 70.1813 152.328 62.7464C151.453 56.968 151.16 52.9109 151.669 49.3453C152.166 45.8695 153.457 42.6637 156.101 38.697Z\",\n  stroke: \"#171C1F\",\n  strokeWidth: 6\n});\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M127.442 41.2755C127.913 46.6966 131.129 58.0945 135.22 60.3673C137.493 61.63 137.695 49.4072 151.13 61.428\",\n  stroke: \"#171C1F\",\n  strokeWidth: 4\n});\n\nvar SvgIconError = function SvgIconError(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 195,\n    height: 195,\n    viewBox: \"0 0 195 195\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgIconError, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/IconError.909a833a.svg\";\nexport { ForwardRef as ReactComponent };","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Avatar, Button, ScreenSpinner} from \"@vkontakte/vkui\";\r\nimport {} from \"@vkontakte/icons\";\r\nimport {Icon28Play} from \"@vkontakte/icons\";\r\nimport {decOfNum, isPlatformDesktop, shortIntegers, shortIntegersK} from \"../../js/utils\";\r\nimport {Icon24Like} from \"@vkontakte/icons\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\nimport {MODAL_CARD_PLAY_MODE} from \"./Drawing\";\r\nimport {Icon12Chevron} from \"@vkontakte/icons\";\r\nimport {Icon28AddCircleOutline} from \"@vkontakte/icons\";\r\n\r\nexport class Main extends PureComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        props.t.socket.unsubscribe('changeOnline');\r\n        props.t.socket.subscribe('changeOnline', r => {\r\n            props.t.setState({online: r.count});\r\n            this.forceUpdate();\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            {state, _tags} = t,\r\n            {gamesAsWinner, gamesAsDrawer, top_number, online, user} = state,\r\n            {lvl, pictures, successfulPictures, guessedPictures, likes} = user,\r\n            offset = [Math.min(t.state.colors.length - 3, Math.max(lvl, 4) - 4), Math.min(t.state.colors.length, Math.max(lvl, 3) + 3)],\r\n            colors = t.state.colors.slice(offset[0], offset[1])\r\n        ;\r\n\r\n        return (\r\n            <div className='Main'>\r\n                <div className='User_Header'>\r\n                    <Avatar src={t.state.vk_user.photo_100} size={48} shadow={false}/>\r\n                    <div className='UserTags'>\r\n                        {\r\n                            _tags().map(value =>\r\n                                user[value[0]] && React.cloneElement(value[1], {onClick: () => t.setActiveModal(value[0])})\r\n                            )\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <h3>, {t.state.vk_user.first_name}</h3>\r\n                <h1> </h1>\r\n                <div className='Colors__Container'>\r\n                    <div className='Gradient_Opacity'/>\r\n                    {\r\n                        colors.map((value, index) =>\r\n                            <div\r\n                                className='Color'\r\n                                key={`Color__${index}`}\r\n                                style={{\r\n                                    marginLeft: index > 0 && 12,\r\n                                    background: index + 1 + offset[0] === lvl && 'linear-gradient(156.04deg, #F05F88 0%, #FBD20A 100%)',\r\n                                    border: index + 1 + offset[0] === lvl && 'none'\r\n                                }}\r\n                            >\r\n                                <span>{index + 1 + offset[0]}</span>\r\n                                <div style={{background: value}}/>\r\n                            </div>\r\n                        )\r\n                    }\r\n                </div>\r\n                <p>   ,    </p>\r\n                <div className='Cards__Container'>\r\n                    <div onClick={() => {\r\n                        if (gamesAsDrawer.length > 0) {\r\n                            t.go('gallery')\r\n                        }\r\n                    }}>\r\n                        <span\r\n                            className='Top'>{decOfNum(successfulPictures, ['', '', ''])}</span>\r\n                        <div className='Images'>\r\n                            {[1, 0, 2].map((value, index) => <div num={index} key={`div__${index}`}>{\r\n                                gamesAsDrawer[value] && <img alt='img' src={gamesAsDrawer[value]['Picture.url']}/>\r\n                            }</div>)}\r\n                        </div>\r\n                        <div className='Texts'>\r\n                            <span></span>\r\n                            <span>{decOfNum(pictures, ['', '', ''])}</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div onClick={() => t.go('rating')}>\r\n                        <span className='Top'>{top_number && `  ${shortIntegersK(top_number)} `}</span>\r\n                        <div className='Images'>\r\n                            {[1, 0, 2].map((value, index) => <div num={index} key={`div__${index}`}>{\r\n                                gamesAsWinner[value] && <img alt='img' src={gamesAsWinner[value]['Picture.url']}/>\r\n                            }</div>)}\r\n                        </div>\r\n                        <div className='Texts'>\r\n                            <span></span>\r\n                            <span>{decOfNum(guessedPictures, ['', '', ''])}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='Cards2__Container'>\r\n                    <div onClick={async () => {\r\n                        t.setPopout(<ScreenSpinner/>);\r\n                        t.socket.call('users.getTop', {type: 'pictures'}, r => {\r\n                            t.setState({users_topPictures: r.response});\r\n                            let user_ids = r.response.map(value => value.id);\r\n\r\n                            t.socket.call('users.getTop', {type: 'guessed_pictures'}, r => {\r\n                                t.setState({users_topGuessedPictures: r.response});\r\n                                user_ids = [...user_ids, ...r.response.map(value => value.id)];\r\n\r\n                                t.socket.call('users.getTop', {type: 'likes'}, async r => {\r\n                                    t.setState({users_topLikes: r.response});\r\n                                    user_ids = [...user_ids, ...r.response.map(value => value.id)];\r\n                                    await getVKUsers(user_ids);\r\n\r\n                                    t.setPopout(null);\r\n                                    t.go('stats');\r\n                                });\r\n                            });\r\n                        });\r\n                    }}>\r\n                        <span></span>\r\n                        <Icon12Chevron/>\r\n                    </div>\r\n                    <div onClick={async () => {\r\n                        t.setPopout(<ScreenSpinner/>);\r\n                        t.socket.call('pictures.getRandomLikes', {limit: 10}, r => {\r\n                            t.setState({randomGamesLike: r.response});\r\n                            let user_ids = r.response.map(value => value.drawerId);\r\n\r\n                            t.socket.call('pictures.getLikesTop', {limit: 10}, async r => {\r\n                                t.setState({topLikes: r.response});\r\n                                user_ids = [...user_ids, ...r.response.map(value => value.drawerId)];\r\n                                await getVKUsers(user_ids);\r\n\r\n                                t.setPopout(null);\r\n                                t.go('likes');\r\n                            });\r\n                        });\r\n                    }}>\r\n                        <span> </span>\r\n                        <Icon12Chevron/>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    false && <div className='Likes__Container'>\r\n                        <div>\r\n                              <span>{shortIntegers(likes)} <Icon24Like style={{marginLeft: 6}}/></span>\r\n                        </div>\r\n                        <div onClick={async () => {\r\n                            t.setPopout(<ScreenSpinner/>);\r\n                            t.socket.call('pictures.getRandomLikes', {limit: 10}, r => {\r\n                                t.setState({randomGamesLike: r.response});\r\n                                let user_ids = r.response.map(value => value.drawerId);\r\n\r\n                                t.socket.call('pictures.getLikesTop', {limit: 10}, async r => {\r\n                                    t.setState({topLikes: r.response});\r\n                                    user_ids = [...user_ids, ...r.response.map(value => value.drawerId)];\r\n                                    await getVKUsers(user_ids);\r\n\r\n                                    t.setPopout(null);\r\n                                    t.go('likes');\r\n                                });\r\n                            });\r\n                        }}>\r\n                             \r\n                        </div>\r\n                    </div>\r\n                }\r\n                {\r\n                    !isPlatformDesktop() && <div style={{height: 111, width: 1}}/>\r\n                }\r\n                <div className='PlayContainer'>\r\n                    <div>\r\n                        <div className='ButtonPlayGlobal' onClick={() => t.go('search')}>\r\n                            <Icon28Play/>\r\n                        </div>\r\n                        <div className='ButtonPlayFriends' onClick={() => t.go('friends')}>\r\n                            <Icon28AddCircleOutline/>\r\n                        </div>\r\n                    </div>\r\n                    <p>: {online}</p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nMain.defaultProps = {};\r\n\r\nMain.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Main;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {PanelHeader, PanelHeaderBack, PromoBanner, ScreenSpinner, Snackbar} from \"@vkontakte/vkui\";\r\nimport {getBase64Image, getSrcUrl, getUrlParams, isPlatformDesktop} from \"../../js/utils\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {getVKUsers} from \"../../js/drawerapp/utils\";\r\n\r\nexport class Gallery extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            offset: props.t.state.gamesAsDrawer.length,\r\n            limit: 10,\r\n            canGetMore: true,\r\n            prevY: 0\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.observer = new IntersectionObserver(\r\n            this.handleObserver.bind(this),\r\n            {\r\n                root: null,\r\n                rootMargin: '0px',\r\n                threshold: 1.0\r\n            }\r\n        );\r\n        this.observer.observe(this.loadingRef);\r\n    }\r\n\r\n    handleObserver(entities, observer) {\r\n        const\r\n            {y} = entities[0].boundingClientRect,\r\n            {t} = this.props,\r\n            {prevY, offset, limit, canGetMore} = this.state\r\n        ;\r\n        if ((prevY === 0 || prevY > y) && canGetMore) {\r\n            t.socket.call('games.getByDrawerId', {id: t.state.vk_user.id, offset, limit}, async r => {\r\n                await getVKUsers(r.response.map(value => value.drawerId));\r\n                t.setState({gamesAsDrawer: [...t.state.gamesAsDrawer, ...r.response]});\r\n                this.setState({canGetMore: r.response.length > 0});\r\n                this.forceUpdate();\r\n            });\r\n            this.setState({offset: offset + 10});\r\n        }\r\n        this.setState({prevY: y});\r\n    }\r\n\r\n    shareStory(word, gameId, pic) {\r\n        try {\r\n            this.props.t.setPopout(<ScreenSpinner/>);\r\n            const\r\n                {createCanvas, loadImage} = require('canvas')\r\n            ;\r\n\r\n            loadImage(getSrcUrl(require(`../../assets/drawing/stories/Story1.png`))).then(async background => {\r\n                try {\r\n                    const\r\n                        canvas = createCanvas(background.width, background.height),\r\n                        ctx = canvas.getContext('2d'),\r\n                        canvasData = await getBase64Image(pic),\r\n                        title = word.substring(0, 1).toUpperCase() + word.substring(1)\r\n                    ;\r\n                    ctx.drawImage(background, 0, 0);\r\n\r\n                    ctx.font = '64px TT Commons Demibold';\r\n                    ctx.textAlign = 'center';\r\n                    ctx.fillStyle = '#616161';\r\n                    ctx.fillText(title, 539, 708 + 13 + 489);\r\n\r\n                    ctx.drawImage(await loadImage(canvasData), 198, 618, 683, 683);\r\n\r\n                    await bridge.send('VKWebAppShowStoryBox', {\r\n                        background_type: 'image',\r\n                        blob: canvas.toDataURL('image/png'),\r\n                        attachment: {\r\n                            url: 'https://vk.com/app' + getUrlParams().vk_app_id,\r\n                            text: 'go_to',\r\n                            type: 'url'\r\n                        }\r\n                    });\r\n                    this.props.t.socket.call('games.share', {gameId});\r\n                    this.props.t.setPopout(null);\r\n                } catch (e) {\r\n                    console.error(e);\r\n                    this.props.t.setPopout(null);\r\n                    this.props.t.setState({\r\n                        snackbar: <Snackbar onClose={() => this.props.t.setState({snackbar: null})}>\r\n                             \r\n                        </Snackbar>\r\n                    });\r\n                }\r\n            });\r\n        } catch (e) {\r\n            console.error(e);\r\n            this.props.t.setPopout(null);\r\n            this.props.t.setState({\r\n                snackbar: <Snackbar onClose={() => this.props.t.setState({snackbar: null})}>\r\n                     \r\n                </Snackbar>\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            {banners, defaultBannerData} = t.state,\r\n            isDesktop = isPlatformDesktop(),\r\n            {gamesAsDrawer} = t.state\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                >\r\n                    {\r\n                        isDesktop && ' '\r\n                    }\r\n                </PanelHeader>\r\n                <div className='Gallery'>\r\n                    {\r\n                        !isDesktop && <h2 style={{textAlign: 'left'}}> </h2>\r\n                    }\r\n                    <p style={{margin: !isDesktop && '8px 0 0 0'}}>\r\n                          ,      :\r\n                    </p>\r\n                    <div style={{\r\n                        marginTop: isDesktop ? 18 : 24,\r\n                        gridGap: isDesktop ? 8 : 15,\r\n                        paddingBottom: banners[0] || true && 140\r\n                    }} className='Images_Grid'>\r\n                        {\r\n                            gamesAsDrawer.map((value, index) =>\r\n                                <div key={`Image_${index}`} onClick={async () => {\r\n                                    //this.shareStory(value['Word.nom'], value.id, value['Picture.url']);\r\n                                    await t.setState({\r\n                                        like_currentPictureSelected: index,\r\n                                        like_method: 'games.getByDrawerId',\r\n                                        like_param: 'gamesAsDrawer',\r\n                                        like_user_id: t.state.vk_user.id\r\n                                    });\r\n                                    t.go('picture_info');\r\n                                }}>\r\n                                    <img alt='img' src={value['Picture.url']}/>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                    {\r\n                        banners[0] &&\r\n                        <PromoBanner\r\n                            bannerData={banners[0]}\r\n                            onClose={async () => {\r\n                                banners[0] = false;\r\n                                await t.setState({banners});\r\n                                this.forceUpdate();\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n                <div ref={ref => this.loadingRef = ref}/>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nGallery.defaultProps = {};\r\n\r\nGallery.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Gallery;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Avatar, PanelHeader, PanelHeaderBack, PromoBanner, ScreenSpinner, Snackbar} from \"@vkontakte/vkui\";\r\nimport {decOfNum, getBase64Image, getSrcUrl, getUrlParams, isPlatformDesktop} from \"../../js/utils\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {getVKUsers} from \"../../js/drawerapp/utils\";\r\n\r\nexport class Rating extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            offset: props.t.state.gamesAsWinner.length,\r\n            limit: 10,\r\n            canGetMore: true,\r\n            prevY: 0\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.observer = new IntersectionObserver(\r\n            this.handleObserver.bind(this),\r\n            {\r\n                root: null,\r\n                rootMargin: '0px',\r\n                threshold: 1.0\r\n            }\r\n        );\r\n        this.observer.observe(this.loadingRef);\r\n    }\r\n\r\n    handleObserver(entities, observer) {\r\n        const\r\n            {y} = entities[0].boundingClientRect,\r\n            {t} = this.props,\r\n            {prevY, offset, limit, canGetMore} = this.state\r\n        ;\r\n        if ((prevY === 0 || prevY > y) && canGetMore) {\r\n            t.socket.call('games.getByWinnerId', {id: t.state.vk_user.id, offset, limit}, async r => {\r\n                await getVKUsers(r.response.map(value => value.drawerId));\r\n                t.setState({gamesAsWinner: [...t.state.gamesAsWinner, ...r.response]});\r\n                this.setState({canGetMore: r.response.length > 0});\r\n                this.forceUpdate();\r\n            });\r\n            this.setState({offset: offset + 10});\r\n        }\r\n        this.setState({prevY: y});\r\n    }\r\n\r\n    shareStory(gameId, pic) {\r\n        this.props.t.setPopout(<ScreenSpinner/>);\r\n        try {\r\n            const\r\n                {createCanvas, loadImage} = require('canvas')\r\n            ;\r\n\r\n            loadImage(getSrcUrl(require(`../../assets/drawing/stories/Story2.png`))).then(async background => {\r\n                const\r\n                    canvas = createCanvas(background.width, background.height),\r\n                    ctx = canvas.getContext('2d'),\r\n                    canvasData = await getBase64Image(pic)\r\n                ;\r\n                ctx.drawImage(background, 0, 0);\r\n                ctx.drawImage(await loadImage(canvasData), 198, 618, 683, 683);\r\n\r\n                try {\r\n                    await bridge.send('VKWebAppShowStoryBox', {\r\n                        background_type: 'image',\r\n                        blob: canvas.toDataURL('image/png'),\r\n                        attachment: {\r\n                            url: 'https://vk.com/app' + getUrlParams().vk_app_id,\r\n                            text: 'go_to',\r\n                            type: 'url'\r\n                        }\r\n                    });\r\n                    this.props.t.socket.call('games.share', {gameId});\r\n                } catch (e) {\r\n                }\r\n                this.props.t.setPopout(null);\r\n            });\r\n        } catch (e) {\r\n            console.error(e);\r\n            this.props.t.setPopout(null);\r\n            this.props.t.setState({\r\n                snackbar: <Snackbar onClose={() => this.props.t.setState({snackbar: null})}>\r\n                     \r\n                </Snackbar>\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            {banners} = t.state,\r\n            isDesktop = isPlatformDesktop(),\r\n            {user, gamesAsWinner, top} = t.state,\r\n            {guessedPictures} = user\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                />\r\n                <div className='Rating'>\r\n                    {\r\n                        top &&\r\n                        <React.Fragment>\r\n                            <p>\r\n                                   :\r\n                            </p>\r\n                            <div className='Users_List'>\r\n                                {\r\n                                    top.map((value, index) =>\r\n                                        <div key={`div__${index}`} onClick={() => {\r\n                                            t.socket.call('users.getById', {id: value.id}, async r => {\r\n                                                await t.setState({\r\n                                                    author: r.response\r\n                                                });\r\n                                                t.socket.call('games.getByDrawerId', {id: value.id}, async r => {\r\n                                                    await t.setState({\r\n                                                        author_works: r.response\r\n                                                    });\r\n                                                    t.go('author');\r\n                                                    t.setPopout(null);\r\n                                                });\r\n                                            });\r\n                                        }}>\r\n                                            <Avatar size={48} shadow={false} src={value.photo_100}/>\r\n                                            <div>\r\n                                                <div>{value.first_name} {value.last_name.substring(0, 1)}.</div>\r\n                                                <div>{value.sex === 1 && ''} {decOfNum(value.guessedPicturesToday, ['', '', ''])}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            </div>\r\n                        </React.Fragment>\r\n                    }\r\n                    {\r\n                        gamesAsWinner.length > 0 &&\r\n                        <React.Fragment>\r\n                            <p style={{margin: '24px 0 0 0'}}>\r\n                                  {decOfNum(guessedPictures, ['', '', ''])} ( \r\n                                ,     ):\r\n                            </p>\r\n                            <div style={{marginTop: 18, gridGap: isDesktop ? 8 : 15, paddingBottom: banners[1] && 140}}\r\n                                 className='Images_Grid'>\r\n                                {\r\n                                    gamesAsWinner.map((value, index) =>\r\n                                        <div key={`Image_${index}`} onClick={async () => {\r\n                                            //this.shareStory(value.id, value['Picture.url']);\r\n                                            await t.setState({\r\n                                                like_currentPictureSelected: index,\r\n                                                like_method: 'games.getByWinnerId',\r\n                                                like_param: 'gamesAsWinner',\r\n                                                like_user_id: t.state.vk_user.id\r\n                                            });\r\n                                            t.go('picture_info');\r\n                                        }}>\r\n                                            <img alt='img' src={value['Picture.url']}/>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            </div>\r\n                            {\r\n                                banners[1] &&\r\n                                <PromoBanner\r\n                                    bannerData={banners[1]}\r\n                                    onClose={async () => {\r\n                                        banners[1] = false;\r\n                                        await t.setState({banners});\r\n                                        this.forceUpdate();\r\n                                    }}\r\n                                />\r\n                            }\r\n                        </React.Fragment>\r\n                    }\r\n                    <div ref={ref => this.loadingRef = ref}/>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nRating.defaultProps = {};\r\n\r\nRating.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Rating;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Avatar} from \"@vkontakte/vkui\";\r\nimport {isPlatformDesktop} from \"../../js/utils\";\r\nimport {getVKUsers} from \"../../js/drawerapp/utils\";\r\n\r\nlet interval;\r\n\r\nexport class Search extends PureComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            lobbyPlayers: [],\r\n            lobbyPlayers_: [],\r\n            point_count: 0,\r\n            starting: false\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(interval);\r\n    }\r\n\r\n    componentDidMount() {\r\n        interval = setInterval(() => {\r\n            const {point_count} = this.state;\r\n            this.setState({point_count: point_count >= 3 ? 0 : point_count + 1});\r\n        }, 800);\r\n\r\n        const {socket} = this.props.t;\r\n        socket.unsubscribe('changeLobbyUsers', 'gameStart', 'setWord', 'gameEnd', 'draw', 'gameStarting');\r\n        socket.subscribe('changeLobbyUsers', async r => {\r\n            this.setState({lobbyPlayers: await getVKUsers(r.players), lobbyPlayers_: r.players});\r\n        });\r\n        socket.subscribe('setWord', async r => {\r\n            this.props.t.setState({word: r.word});\r\n        });\r\n        socket.subscribe('gameStart', async r => {\r\n            //console.log(' ');\r\n            const {lobbyId, drawerId} = r;\r\n            await this.props.t.setState({lobbyId, drawerId, gameStart: Date.now(), isOnlineDrawing: true});\r\n            await new Promise(resolve => {\r\n                const {lobbyPlayers, lobbyPlayers_} = this.state;\r\n                console.log(` : ${lobbyPlayers.length}  : ${lobbyPlayers_.length}`);\r\n                let interval;\r\n                interval = setInterval(() => {\r\n                    if (lobbyPlayers_.length === lobbyPlayers.length) {\r\n                        clearInterval(interval);\r\n                        console.log('  ', lobbyPlayers);\r\n                        resolve(true);\r\n                    }\r\n                }, 400);\r\n            });\r\n            this.props.t.go('game');\r\n        });\r\n        socket.subscribe('gameStarting', async r => {\r\n            this.setState({starting: true});\r\n        });\r\n        socket.call('games.search');\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            lobbyPlayers = this.state.lobbyPlayers.filter(user => user.id !== t.state.vk_user.id),\r\n            players =\r\n                <svg width=\"274\" height=\"316\" viewBox=\"0 0 274 316\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\r\n                     style={{marginTop: isPlatformDesktop() ? 72 : '8.86699507vh'}}\r\n                     onClick={() => {\r\n                         if (!this.state.starting) {\r\n                             t.back();\r\n                         }\r\n                     }}\r\n                >\r\n                    <rect x=\"63\" y=\"84\" width=\"148\" height=\"148\" rx=\"74\" fill=\"url(#paint0_linear)\"/>\r\n                    <circle className='Search_Avatar' cx=\"137\" cy=\"158\" r=\"48\" fill=\"url(#pattern0)\"/>\r\n                    <line x1=\"27.866\" y1=\"26.5\" x2=\"60.366\" y2=\"82.7916\" stroke=\"var(--border_players_color)\"\r\n                          strokeWidth=\"2\" strokeDasharray=\"4 4\"/>\r\n                    <rect x=\"1.5\" y=\"1.5\" width=\"51\" height=\"51\" rx=\"25.5\"\r\n                          fill=\"var(--background_content)\"/>\r\n                    <circle cx=\"27\" cy=\"27\" r=\"24\" fill=\"url(#pattern1)\"/>\r\n                    <rect x=\"1.5\" y=\"1.5\" width=\"51\" height=\"51\" rx=\"25.5\" stroke=\"var(--border_players_color)\"\r\n                          strokeWidth=\"3\"/>\r\n                    <line y1=\"-1\" x2=\"65\" y2=\"-1\" transform=\"matrix(-0.5 0.866025 0.866025 0.5 246.88 27)\"\r\n                          stroke=\"var(--border_players_color)\" strokeWidth=\"2\" strokeDasharray=\"4 4\"/>\r\n                    <rect x=\"1.5\" y=\"-1.5\" width=\"51\" height=\"51\" rx=\"25.5\" transform=\"matrix(-1 0 0 1 274 3)\"\r\n                          fill=\"var(--background_content)\"/>\r\n                    <rect x=\"1.5\" y=\"-1.5\" width=\"51\" height=\"51\" rx=\"25.5\" transform=\"matrix(-1 0 0 1 274 3)\"/>\r\n                    <circle cx=\"247\" cy=\"27\" r=\"24\" fill=\"url(#pattern2)\"/>\r\n                    <rect x=\"1.5\" y=\"-1.5\" width=\"51\" height=\"51\" rx=\"25.5\" transform=\"matrix(-1 0 0 1 274 3)\"\r\n                          stroke=\"var(--border_players_color)\" strokeWidth=\"3\"/>\r\n                    <line y1=\"-1\" x2=\"65\" y2=\"-1\" transform=\"matrix(0.5 -0.866025 -0.866025 -0.5 27 289)\"\r\n                          stroke=\"var(--border_players_color)\" strokeWidth=\"2\" strokeDasharray=\"4 4\"/>\r\n                    <rect x=\"-1.5\" y=\"1.5\" width=\"51\" height=\"51\" rx=\"25.5\" transform=\"matrix(1 0 0 -1 3 316)\"\r\n                          fill=\"var(--background_content)\"/>\r\n                    <rect x=\"-1.5\" y=\"1.5\" width=\"51\" height=\"51\" rx=\"25.5\" transform=\"matrix(1 0 0 -1 3 316)\"/>\r\n                    <circle cx=\"27\" cy=\"289\" r=\"24\" fill=\"url(#pattern3)\"/>\r\n                    <rect x=\"-1.5\" y=\"1.5\" width=\"51\" height=\"51\" rx=\"25.5\" transform=\"matrix(1 0 0 -1 3 316)\"\r\n                          stroke=\"var(--border_players_color)\" strokeWidth=\"3\"/>\r\n                    <line x1=\"246.014\" y1=\"289.5\" x2=\"213.514\" y2=\"233.208\" stroke=\"var(--border_players_color)\"\r\n                          strokeWidth=\"2\" strokeDasharray=\"4 4\"/>\r\n                    <rect x=\"272.5\" y=\"314.5\" width=\"51\" height=\"51\" rx=\"25.5\" transform=\"rotate(-180 272.5 314.5)\"\r\n                          fill=\"var(--background_content)\"/>\r\n                    <rect x=\"272.5\" y=\"314.5\" width=\"51\" height=\"51\" rx=\"25.5\"\r\n                          transform=\"rotate(-180 272.5 314.5)\"/>\r\n                    <circle cx=\"247\" cy=\"289\" r=\"24\" fill=\"url(#pattern4)\"/>\r\n                    <rect x=\"272.5\" y=\"314.5\" width=\"51\" height=\"51\" rx=\"25.5\" transform=\"rotate(-180 272.5 314.5)\"\r\n                          stroke=\"var(--border_players_color)\" strokeWidth=\"3\"/>\r\n                    <defs>\r\n                        <linearGradient id=\"paint0_linear\" x1=\"63\" y1=\"84\" x2=\"211\" y2=\"232\"\r\n                                        gradientUnits=\"userSpaceOnUse\">\r\n                            <stop stopColor=\"#F05F88\"/>\r\n                            <stop offset=\"1\" stopColor=\"#FAAF1A\"/>\r\n                        </linearGradient>\r\n\r\n                        <pattern id=\"pattern0\" patternContentUnits=\"objectBoundingBox\" width=\"1\" height=\"1\">\r\n                            <use href=\"#image0\" transform=\"scale(0.005)\"/>\r\n                        </pattern>\r\n                        <image href={t.state.vk_user.photo_max_orig} id=\"image0\" width=\"200\" height=\"200\"/>\r\n\r\n                        <pattern id=\"pattern1\" patternContentUnits=\"objectBoundingBox\" width=\"1\" height=\"1\">\r\n                            <use href=\"#image1\" transform=\"scale(0.005)\"/>\r\n                        </pattern>\r\n                        <image href={lobbyPlayers[0] && lobbyPlayers[0].photo_max_orig} id=\"image1\" width=\"200\"\r\n                               height=\"200\"/>\r\n\r\n                        <pattern id=\"pattern2\" patternContentUnits=\"objectBoundingBox\" width=\"1\" height=\"1\">\r\n                            <use href=\"#image2\" transform=\"scale(0.005)\"/>\r\n                        </pattern>\r\n                        <image href={lobbyPlayers[1] && lobbyPlayers[1].photo_max_orig} id=\"image2\" width=\"200\"\r\n                               height=\"200\"/>\r\n\r\n                        <pattern id=\"pattern3\" patternContentUnits=\"objectBoundingBox\" width=\"1\" height=\"1\">\r\n                            <use href=\"#image3\" transform=\"scale(0.005)\"/>\r\n                        </pattern>\r\n                        <image href={lobbyPlayers[2] && lobbyPlayers[2].photo_max_orig} id=\"image3\" width=\"200\"\r\n                               height=\"200\"/>\r\n\r\n                        <pattern id=\"pattern4\" patternContentUnits=\"objectBoundingBox\" width=\"1\" height=\"1\">\r\n                            <use href=\"#image4\" transform=\"scale(0.005)\"/>\r\n                        </pattern>\r\n                        <image href={lobbyPlayers[3] && lobbyPlayers[3].photo_max_orig} id=\"image4\" width=\"200\"\r\n                               height=\"200\"/>\r\n                    </defs>\r\n                </svg>,\r\n            {point_count} = this.state\r\n        ;\r\n\r\n        return (\r\n            <div className='Search'>\r\n                <h1>{this.state.starting ? ` ${new Array(point_count).fill('.').join('')}` : ` ${new Array(point_count).fill('.').join('')}`}</h1>\r\n                {players}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nSearch.defaultProps = {};\r\n\r\nSearch.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Search;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M16.1568 6.96446L14.0355 4.84314C13.2545 4.06209 11.9881 4.06209 11.2071 4.84314L8.37866 7.67157L13.3284 12.6213L16.1568 9.79289C16.9379 9.01184 16.9379 7.74551 16.1568 6.96446Z\",\n  fill: \"#C3C3C3\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M16.864 6.25738L14.7427 4.13606C13.5711 2.96448 11.6716 2.96448 10.5 4.13606L4.13606 10.5C2.96449 11.6716 2.96449 13.5711 4.13606 14.7427L6.25738 16.864C7.42895 18.0356 9.32845 18.0356 10.5 16.864L16.864 10.5C18.0356 9.32844 18.0356 7.42895 16.864 6.25738Z\",\n  stroke: \"#C3C3C3\",\n  strokeWidth: 2\n});\n\nvar SvgIconErase = function SvgIconErase(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 21,\n    height: 21,\n    viewBox: \"0 0 21 21\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgIconErase, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/IconErase.538657b8.svg\";\nexport { ForwardRef as ReactComponent };","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    ActionSheet,\r\n    ActionSheetItem,\r\n    Avatar,\r\n    Button,\r\n    IconButton,\r\n    Input,\r\n    ScreenSpinner,\r\n    Snackbar,\r\n    WriteBarIcon\r\n} from \"@vkontakte/vkui\";\r\nimport {getBase64Image, isPlatformDesktop} from \"../../js/utils\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\nimport {ReactComponent as IconErase} from \"../../assets/drawing/icons/IconErase.svg\";\r\nimport {Icon16Cancel, Icon16Done} from \"@vkontakte/icons\";\r\n\r\nconst current = {};\r\nlet interval;\r\n\r\nexport class Game extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            drawer: vk_local_users[props.drawerId],\r\n            isDrawer: props.online === false ? true : (props.drawerId === props.t.state.vk_user.id),\r\n            text: '',\r\n            selectedColor: 0,\r\n            drawing: false,\r\n            time: 90,\r\n\r\n            messages: []\r\n        };\r\n        if (!this.state.drawer) {\r\n            setTimeout(async () => {\r\n                await getVKUsers([props.drawerId]);\r\n                this.setState({drawer: vk_local_users[props.drawerId]})\r\n            }, 1);\r\n        }\r\n\r\n        this.onMouseDown = this.onMouseDown.bind(this);\r\n        this.onMouseUp = this.onMouseUp.bind(this);\r\n        this.throttle = this.throttle.bind(this);\r\n        this.onMouseMove = this.onMouseMove.bind(this);\r\n        this.drawLine = this.drawLine.bind(this);\r\n\r\n        if (props.online) {\r\n            interval = setInterval(() => this.setState({time: this.state.time > 0 ? this.state.time - 1 : 0}), 1000);\r\n\r\n            props.t.socket.subscribe('gameEnd', async r => {\r\n                const\r\n                    canvasData = this.canvas.toDataURL('image/png'),\r\n                    {winnerId, word, gameId} = r\r\n                ;\r\n                if (this.state.isDrawer) {\r\n                    this.props.t.socket.call('games.end', {canvasData, lobbyId: this.props.lobbyId, gameId});\r\n                }\r\n                this.props.t.setState({canvas_: canvasData, winnerId, word, gameId, gameEnd: Date.now()});\r\n                this.props.t.setActivePanel('result');\r\n            });\r\n\r\n            if (!this.state.isDrawer) {\r\n                props.t.socket.subscribe('draw', r => {\r\n                    const {x0, y0, x1, y1, color} = r.data;\r\n                    this.drawLine(x0, y0, x1, y1, color);\r\n                });\r\n\r\n                props.t.socket.subscribe('clear', r => {\r\n                    this.canvasContext.clearRect(0, 0, 319, 319);\r\n                });\r\n            }\r\n\r\n            props.t.socket.subscribe('message', async r => {\r\n                const {user_id, message} = r;\r\n                await this.setState({\r\n                    messages: [...this.state.messages, {\r\n                        user_id,\r\n                        message, ...vk_local_users[user_id]\r\n                    }]\r\n                });\r\n\r\n                try {\r\n                    const comments = document.getElementsByClassName('Comment');\r\n                    comments[comments.length - 1].scrollIntoView(false);\r\n                } catch (e) {\r\n\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.props.online) {\r\n            clearInterval(interval);\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const\r\n            {canvas, onMouseDown, onMouseUp, throttle, onMouseMove, props} = this,\r\n            {drawer, isDrawer} = this.state,\r\n            {online, t} = props\r\n        ;\r\n        this.canvasContext = canvas.getContext('2d');\r\n\r\n        if (isDrawer) {\r\n            canvas.addEventListener('mousedown', onMouseDown, false);\r\n            canvas.addEventListener('mouseup', onMouseUp, false);\r\n            canvas.addEventListener('mouseout', onMouseUp, false);\r\n            canvas.addEventListener('mousemove', throttle(onMouseMove, 10), false);\r\n\r\n            //Touch support for mobile devices\r\n            canvas.addEventListener('touchstart', onMouseDown, false);\r\n            canvas.addEventListener('touchend', onMouseUp, false);\r\n            canvas.addEventListener('touchcancel', onMouseUp, false);\r\n            canvas.addEventListener('touchmove', throttle(onMouseMove, 10), false);\r\n        }\r\n\r\n        if (!online) {\r\n            t.setPopout(<ScreenSpinner/>);\r\n            const\r\n                picUrl = t.state.pictureUrl_,\r\n                canvasData = await getBase64Image(picUrl),\r\n                {loadImage} = require('canvas')\r\n            ;\r\n            this.canvasContext.drawImage(await loadImage(canvasData), 0, 0);\r\n            t.setPopout(null);\r\n        }\r\n    }\r\n\r\n    onMouseDown(e) {\r\n        this.setState({drawing: true});\r\n        current.x = e.clientX || e.touches[0].clientX;\r\n        current.y = e.clientY || e.touches[0].clientY;\r\n    }\r\n\r\n    onMouseUp(e) {\r\n        const {drawing, selectedColor} = this.state;\r\n        if (!drawing) {\r\n            return;\r\n        }\r\n        this.setState({drawing: false});\r\n        try {\r\n            const\r\n                {canvas} = this,\r\n                canvasRect = canvas.getBoundingClientRect()\r\n            ;\r\n            this.drawLine(current.x - canvasRect.left, current.y - canvasRect.top, (e.clientX || e.touches[0].clientX) - canvasRect.left, (e.clientY || e.touches[0].clientY) - canvasRect.top, this.props.t.state.colors[selectedColor]);\r\n        } catch (er) {\r\n        }\r\n    }\r\n\r\n    onMouseMove(e) {\r\n        const {drawing, selectedColor} = this.state;\r\n        if (!drawing) {\r\n            return;\r\n        }\r\n        const\r\n            {canvas} = this,\r\n            canvasRect = canvas.getBoundingClientRect()\r\n        ;\r\n        this.drawLine(current.x - canvasRect.left, current.y - canvasRect.top, (e.clientX || e.touches[0].clientX) - canvasRect.left, (e.clientY || e.touches[0].clientY) - canvasRect.top, this.props.t.state.colors[selectedColor]);\r\n        current.x = e.clientX || e.touches[0].clientX;\r\n        current.y = e.clientY || e.touches[0].clientY;\r\n        return false;\r\n    }\r\n\r\n    drawLine(x0, y0, x1, y1, color) {\r\n        try {\r\n            const\r\n                {lobbyId} = this.props,\r\n                {canvas, canvasContext} = this\r\n            ;\r\n\r\n            canvasContext.beginPath();\r\n            canvasContext.moveTo(x0, y0);\r\n            canvasContext.lineTo(x1, y1);\r\n            canvasContext.strokeStyle = color;\r\n            canvasContext.lineWidth = 2;\r\n            canvasContext.stroke();\r\n            canvasContext.closePath();\r\n\r\n            if (this.state.isDrawer && this.props.online) {\r\n                this.props.t.socket.call('games.draw', {\r\n                    lobbyId,\r\n                    data: {\r\n                        x0,\r\n                        y0,\r\n                        x1,\r\n                        y1,\r\n                        color\r\n                    }\r\n                });\r\n            }\r\n        } catch (e) {\r\n        }\r\n    }\r\n\r\n    throttle(callback, delay) {\r\n        var previousCall = new Date().getTime();\r\n        return function () {\r\n            const time = new Date().getTime();\r\n\r\n            if ((time - previousCall) >= delay) {\r\n                previousCall = time;\r\n                callback.apply(null, arguments);\r\n            }\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t, lobbyId, online, word} = this.props,\r\n            {colors, user} = t.state,\r\n            {drawer, isDrawer, text, selectedColor, time, messages} = this.state,\r\n            isDesktop = isPlatformDesktop()\r\n        ;\r\n\r\n        return (\r\n            <div className='Game'>\r\n                <div style={{width: isDesktop ? 319 : '100%', alignSelf: 'flex-start'}} ref={ref => this.header = ref}>\r\n                    <div style={{display: 'flex', justifyContent: 'space-between'}}>\r\n                        <h2 style={{textAlign: 'left'}}>\r\n                            {isDrawer ? ': ' + word.nom : ': ' + drawer.first_name}\r\n                        </h2>\r\n                        {\r\n                            online && <h2 style={{\r\n                                textAlign: 'right',\r\n                                width: '25%',\r\n                                color: 'var(--color_secondary)',\r\n                                wordWrap: 'normal'\r\n                            }}>\r\n                                {time} \r\n                            </h2>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div style={{display: (isDesktop && online) && 'flex'}}>\r\n                    <div className='Canvas_Container'>\r\n                        <canvas width={319} height={319} ref={ref => this.canvas = ref} id='canvas'/>\r\n                        <div style={{display: !isDrawer && 'none'}}>\r\n                            <div>\r\n                                {\r\n                                    colors.map((value, index) =>\r\n                                        <div\r\n                                            onClick={() => this.setState({selectedColor: index})}\r\n                                            className='Color'\r\n                                            key={`Color__${index}`}\r\n                                            style={{\r\n                                                marginLeft: index > 0 && 8,\r\n                                                background: value,\r\n                                                outline: selectedColor === index && '4px solid #F3F2F2',\r\n                                                opacity: user.lvl < (index + 1) && .25,\r\n                                                pointerEvents: user.lvl < (index + 1) && 'none'\r\n                                            }}\r\n                                        />\r\n                                    )\r\n                                }\r\n                            </div>\r\n                            <div>\r\n                                <IconButton hasHover={false} onClick={() => {\r\n                                    if (online) {\r\n                                        t.socket.call('games.clear', {lobbyId});\r\n                                    }\r\n                                    this.canvasContext.clearRect(0, 0, 319, 319);\r\n                                }}>\r\n                                    <IconErase/>\r\n                                </IconButton>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        !online &&\r\n                        <div className='Offline_Drawing__Buttons'>\r\n                            <Button\r\n                                before={<Icon16Cancel fill='var(--color_secondary)'/>}\r\n                                size='m' mode='secondary'\r\n                                onClick={() => {\r\n                                    t.back();\r\n                                }}\r\n                            >\r\n                                \r\n                            </Button>\r\n                            <Button\r\n                                style={{marginLeft: 10}}\r\n                                before={<Icon16Done fill='var(--color_secondary)'/>}\r\n                                size='m' mode='secondary'\r\n                                onClick={() => {\r\n                                    t.setPopout(<ScreenSpinner/>);\r\n                                    const\r\n                                        canvasData = this.canvas.toDataURL('image/png'),\r\n                                        {gameId_} = t.state\r\n                                    ;\r\n                                    if (this.state.isDrawer) {\r\n                                        this.props.t.socket.call('games.savePicture', {\r\n                                            canvasData, gameId: gameId_\r\n                                        }, async r => {\r\n                                            if (r.response) {\r\n                                                t.setState({\r\n                                                    n_canvasData: canvasData,\r\n                                                    snackbar: <Snackbar onClose={() => t.setState({snackbar: null})}>\r\n                                                         \r\n                                                    </Snackbar>\r\n                                                });\r\n                                                await new Promise(resolve =>\r\n                                                    this.props.t.socket.call('games.getByDrawerId', {\r\n                                                        id: this.props.t.state.vk_user.id,\r\n                                                        limit: this.props.t.state.gamesAsDrawer.length\r\n                                                    }, async r => {\r\n                                                        await this.props.t.setState({gamesAsDrawer: r.response});\r\n                                                        resolve(true);\r\n                                                    })\r\n                                                );\r\n                                                t.forceUpdate();\r\n                                            } else {\r\n                                                t.setState({\r\n                                                    snackbar: <Snackbar onClose={() => t.setState({snackbar: null})}>\r\n                                                          \r\n                                                    </Snackbar>\r\n                                                });\r\n                                            }\r\n                                            setTimeout(() => {\r\n                                                t.setPopout(null);\r\n                                                t.back();\r\n                                                t.forceUpdate();\r\n                                            }, 1000);\r\n                                        });\r\n                                    }\r\n                                }}\r\n                            >\r\n                                \r\n                            </Button>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        online &&\r\n                        <div className='Comments_Container'>\r\n                            <div className='Comments' ref={ref => this.comments = ref}>\r\n                                {\r\n                                    messages.map((value, index) =>\r\n                                        <div\r\n                                            className='Comment' key={`div__${index}`} style={{\r\n                                            marginTop: index > 0 && 6,\r\n                                            cursor: value.id === t.state.vk_user.id && 'default'\r\n                                        }}\r\n                                            onClick={() => {\r\n                                                if (value.id !== t.state.vk_user.id && value.message.replaceAll('*', '').length > 0) {\r\n                                                    t.setPopout(<ActionSheet\r\n                                                        onClose={() => t.setPopout(null)}\r\n                                                        iosCloseItem={<ActionSheetItem\r\n                                                            autoclose mode='cancel'>\r\n                                                            \r\n                                                        </ActionSheetItem>}\r\n                                                    >\r\n                                                        <ActionSheetItem\r\n                                                            autoclose mode='destructive'\r\n                                                            onClick={() => {\r\n                                                                t.socket.call('games.reportWord', {message: value.message});\r\n                                                                t.setState({\r\n                                                                    snackbar: <Snackbar\r\n                                                                        onClose={() => t.setState({snackbar: null})}>\r\n                                                                         \r\n                                                                    </Snackbar>\r\n                                                                });\r\n                                                            }}\r\n                                                        >\r\n                                                            \r\n                                                        </ActionSheetItem>\r\n                                                    </ActionSheet>)\r\n                                                }\r\n                                            }}\r\n                                        >\r\n                                            <Avatar size={32} shadow={false} src={value.photo_100}/>\r\n                                            <div>\r\n                                                <div>{value.first_name} {value.last_name}</div>\r\n                                                <div>{value.message}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            </div>\r\n                            {\r\n                                !isDrawer &&\r\n                                <div className='Comment_Input'>\r\n                                    <Input\r\n                                        autoFocus={true}\r\n                                        id='inputComment'\r\n                                        value={text}\r\n                                        onChange={(e) => {\r\n                                            if (e.currentTarget.value.length <= 120) {\r\n                                                this.setState({text: e.currentTarget.value});\r\n                                            }\r\n                                        }}\r\n                                        placeholder=' ?'\r\n                                        onKeyDown={(e) => {\r\n                                            if (e.key === 'Enter' && text.trim().length > 0) {\r\n                                                t.socket.call('games.message', {lobbyId, message: text});\r\n                                                this.setState({text: ''});\r\n                                            }\r\n                                        }}\r\n                                        onFocus={() => {\r\n                                            setTimeout(() => {\r\n                                                document.getElementById('inputComment').scrollIntoView(false);\r\n                                            }, 100);\r\n                                        }}\r\n                                    />\r\n                                    <WriteBarIcon\r\n                                        style={{display: text.length === 0 && 'none'}} mode='send'\r\n                                        onClick={() => {\r\n                                            if (text.trim().length > 0) {\r\n                                                t.socket.call('games.message', {lobbyId, message: text});\r\n                                            }\r\n                                            this.setState({text: ''});\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nGame.defaultProps = {};\r\n\r\nGame.propTypes = {\r\n    t: PropTypes.object,\r\n    drawerId: PropTypes.number.isRequired,\r\n    lobbyId: PropTypes.number.isRequired,\r\n    online: PropTypes.bool,\r\n    word: PropTypes.object\r\n};\r\n\r\nexport default Game;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Avatar, Button, IconButton, Input, ScreenSpinner, Snackbar, WriteBarIcon} from \"@vkontakte/vkui\";\r\nimport {Icon24Like, Icon28ChevronRightOutline, Icon28ReportOutline, Icon28ShareOutline} from \"@vkontakte/icons\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {decOfNum, getSrcUrl, getUrlParams} from \"../../js/utils\";\r\nimport {vk_local_users, getVKUsers} from \"../../js/drawerapp/utils\";\r\n\r\nexport class Result extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const {drawerId, winnerId, word, t} = props;\r\n\r\n        this.state = {\r\n            isDrawer: drawerId === t.state.vk_user.id,\r\n            isWinner: winnerId === t.state.vk_user.id,\r\n            winnerId: winnerId,\r\n            drawerId: drawerId,\r\n            word\r\n        };\r\n\r\n        this.shareStory = this.shareStory.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    shareStory() {\r\n        this.props.t.setPopout(<ScreenSpinner/>);\r\n        const\r\n            {createCanvas, loadImage} = require('canvas'),\r\n            {isDrawer, winnerId, isWinner} = this.state,\r\n            type = isDrawer ? 1 : isWinner ? 2 : 3\r\n        ;\r\n\r\n        loadImage(getSrcUrl(require(`../../assets/drawing/stories/Story${type}.png`))).then(async background => {\r\n            const\r\n                canvas = createCanvas(background.width, background.height),\r\n                ctx = canvas.getContext('2d'),\r\n                img = new Image(),\r\n                {word} = this.state,\r\n                title = word.nom.substring(0, 1).toUpperCase() + word.nom.substring(1)\r\n            ;\r\n            ctx.drawImage(background, 0, 0);\r\n\r\n            if (type === 1) {\r\n                ctx.font = '64px TT Commons Demibold';\r\n                ctx.textAlign = 'center';\r\n                ctx.fillStyle = '#616161';\r\n                ctx.fillText(title, 539, 708 + 13 + 489);\r\n            }\r\n\r\n            img.src = this.props.t.state.canvas_;\r\n            ctx.drawImage(img, 198, 618, 683, 683);\r\n\r\n            try {\r\n                await bridge.send('VKWebAppShowStoryBox', {\r\n                    background_type: 'image',\r\n                    blob: canvas.toDataURL('image/png'),\r\n                    attachment: {\r\n                        url: 'https://vk.com/app' + getUrlParams().vk_app_id,\r\n                        text: 'go_to',\r\n                        type: 'url'\r\n                    }\r\n                });\r\n                this.props.t.socket.call('games.share', {gameId: this.props.gameId});\r\n            } catch (e) {\r\n            }\r\n            this.props.t.updateData();\r\n            this.props.t.setPopout(null);\r\n            this.props.t.setActivePanel('main');\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t, gameId} = this.props,\r\n            {vk_user} = t.state,\r\n            {isDrawer, isWinner, winnerId, drawerId, word, isLiked} = this.state,\r\n            time = Math.round((t.state.gameEnd - t.state.gameStart) / 1000)\r\n        ;\r\n\r\n        return (\r\n            <div className='Result'>\r\n                {\r\n                    isDrawer ?\r\n                        winnerId !== 0 ?\r\n                            <React.Fragment>\r\n                                <h1> !</h1>\r\n                                <p>    {decOfNum(time, ['', '', ''])}</p>\r\n                            </React.Fragment>\r\n                            :\r\n                            <React.Fragment>\r\n                                <h1> </h1>\r\n                                <p>  ,     </p>\r\n                            </React.Fragment>\r\n                        :\r\n                        winnerId !== 0 ?\r\n                            isWinner ?\r\n                                <React.Fragment>\r\n                                    <h1> !</h1>\r\n                                    <p> {vk_user.sex === 1 ? '' : ''} {vk_user.sex === 1 && ''},\r\n                                         {vk_local_users[drawerId].first_name} {vk_local_users[drawerId].sex === 1 && ''} \r\n                                        </p>\r\n                                </React.Fragment>\r\n                                :\r\n                                <React.Fragment>\r\n                                    <h1> </h1>\r\n                                    <p>{vk_local_users[winnerId].first_name} {vk_local_users[drawerId].sex === 1 && ''} ,\r\n                                         ,   \r\n                                        </p>\r\n                                </React.Fragment>\r\n                            :\r\n                            <React.Fragment>\r\n                                <h1> </h1>\r\n                                <p>  ,    </p>\r\n                            </React.Fragment>\r\n                }\r\n                <div className='Canvas_Container'>\r\n                    {\r\n                        !isDrawer &&\r\n                        <Icon28ReportOutline className='Report' onClick={() => {\r\n                            t.setPopout(<ScreenSpinner/>);\r\n                            t.socket.call('games.report', {game_id: gameId}, r => {\r\n                                if (r.response) {\r\n                                    t.setState({\r\n                                        snackbar: <Snackbar onClose={() => t.setState({snackbar: null})}>\r\n                                             \r\n                                        </Snackbar>\r\n                                    });\r\n                                } else {\r\n                                    t.setState({\r\n                                        snackbar: <Snackbar onClose={() => t.setState({snackbar: null})}>\r\n                                              \r\n                                        </Snackbar>\r\n                                    });\r\n                                }\r\n                                t.setPopout(null);\r\n                            });\r\n                        }}/>\r\n                    }\r\n                    <Icon24Like fill={isLiked ? '#F16384' : 'var(--color_secondary)'} className='Like' onClick={() => {\r\n                        t.setPopout(<ScreenSpinner/>);\r\n                        t.socket.call('pictures.like', {game_id: gameId}, r => {\r\n                            this.setState({isLiked: r.response.isLiked});\r\n                            t.setPopout(null);\r\n                        });\r\n                    }}/>\r\n                    <h2>{word.nom.substring(0, 1).toUpperCase() + word.nom.substring(1)}</h2>\r\n                    <img alt='canvas' src={t.state.canvas_}/>\r\n                    <Button\r\n                        before={<Icon28ShareOutline width={16} height={16}/>}\r\n                        size='m' mode='gradient'\r\n                        onClick={() => {\r\n                            this.shareStory();\r\n                        }}\r\n                    >\r\n                        \r\n                    </Button>\r\n                </div>\r\n                <Button\r\n                    size='m' mode='secondary'\r\n                    onClick={async () => {\r\n                        t.setPopout(<ScreenSpinner/>);\r\n                        try {\r\n                            await bridge.send('VKWebAppShowNativeAds', {ad_format: 'interstitial'});\r\n                        } catch (e) {\r\n                        }\r\n                        t.setPopout(null);\r\n                        t.updateData();\r\n                        t.setActivePanel('main');\r\n                    }}\r\n                >\r\n                     \r\n                </Button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nResult.defaultProps = {};\r\n\r\nResult.propTypes = {\r\n    t: PropTypes.object,\r\n    drawerId: PropTypes.number,\r\n    winnerId: PropTypes.number,\r\n    word: PropTypes.object,\r\n    gameId: PropTypes.number\r\n};\r\n\r\nexport default Result;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport {Button, PanelHeader, PanelHeaderBack} from \"@vkontakte/vkui\";\r\n\r\nexport class Placeholder extends PureComponent {\r\n    render() {\r\n        const\r\n            {t, icon, title, description, buttonText, buttonIcon, buttonOnClick, buttonMode, buttonBack} = this.props\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                {buttonBack && false && <PanelHeader className='PanelHeader__Placeholder' separator={false}\r\n                                                     left={<PanelHeaderBack onClick={() => t.back()}/>}/>}\r\n                <div className='Placeholder'>\r\n                    {React.cloneElement(icon, {className: 'Placeholder__Icon'})}\r\n                    <div>\r\n                        <h1>{title}</h1>\r\n                        <p>{description}</p>\r\n                        <div className={buttonBack ? 'TwoButtons' : 'OneButton'}>\r\n                            {\r\n                                buttonText &&\r\n                                <Button\r\n                                    after={buttonIcon}\r\n                                    size='m' mode={buttonMode || 'gradient'}\r\n                                    onClick={buttonOnClick}\r\n                                >{buttonText}</Button>\r\n                            }\r\n                            {\r\n                                buttonBack &&\r\n                                <Button\r\n                                    style={{marginLeft: 8}}\r\n                                    size='m' mode='secondary'\r\n                                    onClick={() => t.back()}\r\n                                ></Button>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nPlaceholder.defaultProps = {};\r\n\r\nPlaceholder.propTypes = {\r\n    icon: PropTypes.object.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    description: PropTypes.string,\r\n    buttonText: PropTypes.string,\r\n    buttonIcon: PropTypes.object,\r\n    buttonOnClick: PropTypes.func,\r\n    buttonMode: PropTypes.string,\r\n    buttonBack: PropTypes.bool\r\n};\r\n\r\nexport default Placeholder;","import openSocket from \"socket.io-client\";\r\n\r\nclass Socket {\r\n    constructor() {\r\n        this.onConnect = this.onConnect.bind(this);\r\n        this.onDisconnect = this.onDisconnect.bind(this);\r\n        this.onConnectionError = this.onConnectionError.bind(this);\r\n        this.getSocket = this.getSocket.bind(this);\r\n    }\r\n\r\n    onConnect(callback) {\r\n        this.socket.on('connect', callback);\r\n    }\r\n\r\n    onDisconnect(callback) {\r\n        this.socket.on('disconnect', callback);\r\n    }\r\n\r\n    onConnectionError(callback) {\r\n        this.socket.on('connect_error', callback);\r\n    }\r\n\r\n    call(method, params, callback) {\r\n        this.socket.emit(method, params, callback);\r\n    }\r\n\r\n    subscribe(event, callback) {\r\n        this.socket.on(event, callback);\r\n    }\r\n\r\n    unsubscribe(...events) {\r\n        for (const event of events) {\r\n            this.socket.removeAllListeners(event);\r\n        }\r\n    }\r\n\r\n    connect(url, query) {\r\n        if (this.socket) {\r\n            this.socket.connect();\r\n        } else {\r\n            this.socket = openSocket.connect(url, {\r\n                path: '/socket.io',\r\n                query,\r\n                transports: ['websocket', 'polling', 'flashsocket'],\r\n                reconnection: false\r\n            });\r\n        }\r\n    }\r\n\r\n    getSocket() {\r\n        return this.socket;\r\n    }\r\n}\r\n\r\nexport default Socket;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Avatar,\r\n    HorizontalCell, HorizontalScroll,\r\n    PanelHeader,\r\n    PanelHeaderBack,\r\n    PromoBanner,\r\n    ScreenSpinner,\r\n    Snackbar\r\n} from \"@vkontakte/vkui\";\r\nimport {decOfNum, getBase64Image, getSrcUrl, getUrlParams, isPlatformDesktop, shortIntegers} from \"../../js/utils\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {Icon24Like} from \"@vkontakte/icons\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\n\r\nconst isDesktop = isPlatformDesktop();\r\n\r\nexport class Likes extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            offset: props.t.state.randomGamesLike.length,\r\n            limit: 10,\r\n            canGetMore: true,\r\n            prevY: 0\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.observer = new IntersectionObserver(\r\n            this.handleObserver.bind(this),\r\n            {\r\n                root: null,\r\n                rootMargin: '0px',\r\n                threshold: 1.0\r\n            }\r\n        );\r\n        this.observer.observe(this.loadingRef);\r\n    }\r\n\r\n    handleObserver(entities, observer) {\r\n        const\r\n            {y} = entities[0].boundingClientRect,\r\n            {t} = this.props,\r\n            {prevY, offset, limit, canGetMore} = this.state\r\n        ;\r\n        if ((prevY === 0 || prevY > y) && canGetMore) {\r\n            t.socket.call('pictures.getRandomLikes', {offset, limit}, async r => {\r\n                await getVKUsers(r.response.map(value => value.drawerId));\r\n                t.setState({randomGamesLike: [...t.state.randomGamesLike, ...r.response]});\r\n                this.setState({canGetMore: r.response.length > 0});\r\n                this.forceUpdate();\r\n            });\r\n            this.setState({offset: offset + 10});\r\n        }\r\n        this.setState({prevY: y});\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            {banners} = t.state,\r\n            isDesktop = isPlatformDesktop(),\r\n            {randomGamesLike, topLikes} = t.state\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                />\r\n                <div className='Likes'>\r\n                    {\r\n                        topLikes &&\r\n                        <React.Fragment>\r\n                            <p>\r\n                                 :\r\n                            </p>\r\n                            {\r\n                                true ?\r\n                                    <HorizontalScroll\r\n                                        showArrows\r\n                                        getScrollToLeft={(i) => i - 92 * 2}\r\n                                        getScrollToRight={(i) => i + 92 * 2}\r\n                                    >\r\n                                        <div style={{display: 'flex'}} className='Pictures_List__'>\r\n                                            {\r\n                                                topLikes.map((value, index) =>\r\n                                                    <div key={`div__${index}`} onClick={async () => {\r\n                                                        await t.setState({\r\n                                                            like_currentPictureSelected: index,\r\n                                                            like_method: '',\r\n                                                            like_param: 'topLikes'\r\n                                                        });\r\n                                                        t.go('picture_info');\r\n                                                    }}>\r\n                                                        <img alt='img' src={value['Picture.url']}/>\r\n                                                        <div>\r\n                                                            {shortIntegers(value['Picture.likes'])}<Icon24Like width={10} height={10} style={{marginLeft: 4}}/>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </HorizontalScroll>\r\n                                    :\r\n                                    <div className='Pictures_List'>\r\n                                        {\r\n                                            topLikes.slice(0, isDesktop ? 4 : 3).map((value, index) =>\r\n                                                <div key={`div__${index}`} onClick={async () => {\r\n                                                    await t.setState({\r\n                                                        like_currentPictureSelected: index,\r\n                                                        like_method: '',\r\n                                                        like_param: 'topLikes'\r\n                                                    });\r\n                                                    t.go('picture_info');\r\n                                                }}>\r\n                                                    <img alt='img' src={value['Picture.url']}/>\r\n                                                    <div>\r\n                                                        {shortIntegers(value['Picture.likes'])}<Icon24Like width={10} height={10} style={{marginLeft: 4}}/>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                    </div>\r\n                            }\r\n                        </React.Fragment>\r\n                    }\r\n                    {\r\n                        randomGamesLike.length > 0 &&\r\n                        <React.Fragment>\r\n                            <p style={{margin: '24px 0 0 0'}}>\r\n                                  ,      :\r\n                            </p>\r\n                            <div style={{marginTop: 18, gridGap: isDesktop ? 8 : 15, paddingBottom: banners[2] && 140}} className='Images_Grid'>\r\n                                {\r\n                                    randomGamesLike.map((value, index) =>\r\n                                        <div key={`Image_${index}`} onClick={async () => {\r\n                                            await t.setState({\r\n                                                like_currentPictureSelected: index,\r\n                                                like_method: 'pictures.getRandomLikes',\r\n                                                like_param: 'randomGamesLike',\r\n                                                like_user_id: t.state.vk_user.id\r\n                                            });\r\n                                            t.go('picture_info');\r\n                                        }}>\r\n                                            <img alt='img' src={value['Picture.url']}/>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            </div>\r\n                            {\r\n                                banners[2] &&\r\n                                <PromoBanner\r\n                                    bannerData={banners[2]}\r\n                                    onClose={async () => {\r\n                                        banners[2] = false;\r\n                                        await t.setState({banners});\r\n                                        this.forceUpdate();\r\n                                    }}\r\n                                />\r\n                            }\r\n                        </React.Fragment>\r\n                    }\r\n                    <div ref={ref => this.loadingRef = ref}/>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nLikes.defaultProps = {};\r\n\r\nLikes.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Likes;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    IconButton,\r\n    Input,\r\n    PanelHeader,\r\n    PanelHeaderBack,\r\n    ScreenSpinner,\r\n    Snackbar,\r\n    WriteBarIcon\r\n} from \"@vkontakte/vkui\";\r\nimport {\r\n    Icon16Chevron, Icon16Recent,\r\n    Icon24Like,\r\n    Icon28ChevronRightOutline,\r\n    Icon28ReportOutline,\r\n    Icon28ShareOutline, Icon28WriteOutline\r\n} from \"@vkontakte/icons\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {\r\n    decOfNum,\r\n    getBase64Image,\r\n    getSrcUrl,\r\n    getUrlParams,\r\n    isPlatformDesktop, isPlatformIOS,\r\n    openUrl,\r\n    shortIntegers\r\n} from \"../../js/utils\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\n\r\nconst isDesktop = isPlatformDesktop();\r\n\r\nexport class PictureInfo extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            canGetMore: true\r\n        };\r\n\r\n        this.shareStory1 = this.shareStory1.bind(this);\r\n        this.shareStory2 = this.shareStory2.bind(this);\r\n\r\n        const\r\n            {t, param, current} = this.props,\r\n            {socket, state} = t,\r\n            list = state[param]\r\n        ;\r\n        socket.call('pictures.isLiked', {game_id: list[current].id}, r => {\r\n            this.setState({isLiked: r.response});\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    shareStory1(gameId, pic) {\r\n        this.props.t.setPopout(<ScreenSpinner/>);\r\n        try {\r\n            const\r\n                {createCanvas, loadImage} = require('canvas')\r\n            ;\r\n\r\n            loadImage(getSrcUrl(require(`../../assets/drawing/stories/Story3.png`))).then(async background => {\r\n                const\r\n                    canvas = createCanvas(background.width, background.height),\r\n                    ctx = canvas.getContext('2d'),\r\n                    canvasData = await getBase64Image(pic)\r\n                ;\r\n                ctx.drawImage(background, 0, 0);\r\n                ctx.drawImage(await loadImage(canvasData), 198, 618, 683, 683);\r\n\r\n                try {\r\n                    await bridge.send('VKWebAppShowStoryBox', {\r\n                        background_type: 'image',\r\n                        blob: canvas.toDataURL('image/png'),\r\n                        attachment: {\r\n                            url: `https://vk.com/app${getUrlParams().vk_app_id}#picture${gameId}`,\r\n                            text: 'go_to',\r\n                            type: 'url'\r\n                        }\r\n                    });\r\n                    this.props.t.socket.call('games.share', {gameId});\r\n                } catch (e) {\r\n                }\r\n                this.props.t.setPopout(null);\r\n            });\r\n        } catch (e) {\r\n            console.error(e);\r\n            this.props.t.setPopout(null);\r\n            this.props.t.setState({\r\n                snackbar: <Snackbar onClose={() => this.props.t.setState({snackbar: null})}>\r\n                     \r\n                </Snackbar>\r\n            });\r\n        }\r\n    }\r\n\r\n    shareStory2(word, gameId, pic) {\r\n        try {\r\n            this.props.t.setPopout(<ScreenSpinner/>);\r\n            const\r\n                {createCanvas, loadImage} = require('canvas')\r\n            ;\r\n\r\n            loadImage(getSrcUrl(require(`../../assets/drawing/stories/Story1.png`))).then(async background => {\r\n                try {\r\n                    const\r\n                        canvas = createCanvas(background.width, background.height),\r\n                        ctx = canvas.getContext('2d'),\r\n                        canvasData = await getBase64Image(pic),\r\n                        title = word.substring(0, 1).toUpperCase() + word.substring(1)\r\n                    ;\r\n                    ctx.drawImage(background, 0, 0);\r\n\r\n                    ctx.font = '64px TT Commons Demibold';\r\n                    ctx.textAlign = 'center';\r\n                    ctx.fillStyle = '#616161';\r\n                    ctx.fillText(title, 539, 708 + 13 + 489);\r\n\r\n                    ctx.drawImage(await loadImage(canvasData), 198, 618, 683, 683);\r\n\r\n                    await bridge.send('VKWebAppShowStoryBox', {\r\n                        background_type: 'image',\r\n                        blob: canvas.toDataURL('image/png'),\r\n                        attachment: {\r\n                            url: `https://vk.com/app${getUrlParams().vk_app_id}#picture${gameId}`,\r\n                            text: 'go_to',\r\n                            type: 'url'\r\n                        }\r\n                    });\r\n                    this.props.t.socket.call('games.share', {gameId});\r\n                    this.props.t.setPopout(null);\r\n                } catch (e) {\r\n                    console.error(e);\r\n                    this.props.t.setPopout(null);\r\n                    this.props.t.setState({\r\n                        snackbar: <Snackbar onClose={() => this.props.t.setState({snackbar: null})}>\r\n                             \r\n                        </Snackbar>\r\n                    });\r\n                }\r\n            });\r\n        } catch (e) {\r\n            console.error(e);\r\n            this.props.t.setPopout(null);\r\n            this.props.t.setState({\r\n                snackbar: <Snackbar onClose={() => this.props.t.setState({snackbar: null})}>\r\n                     \r\n                </Snackbar>\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t, current, method, param, user_id} = this.props,\r\n            {n_canvasData} = t.state,\r\n            list = t.state[param],\r\n            game = list[current],\r\n            {isLiked, canGetMore} = this.state,\r\n            needButtonResumeDraw = game.drawerId === t.state.vk_user.id,\r\n            ButtonResumeDraw = needButtonResumeDraw && (<Button\r\n                style={{\r\n                    marginTop: isDesktop ? 10 : 16\r\n                }}\r\n                className='ButtonResumeDraw'\r\n                before={<Icon28WriteOutline width={16} height={16}/>}\r\n                size='m' mode='gradient' stretched\r\n                onClick={async () => {\r\n                    const {admin, vk_donut} = t.state.user;\r\n                    if (admin || vk_donut) {\r\n                        await t.setState({\r\n                            isOnlineDrawing: false,\r\n                            word: {nom: game['Word.nom']},\r\n                            pictureUrl_: game['Picture.url'],\r\n                            gameId_: game.id\r\n                        });\r\n                        t.go('game');\r\n                    } else {\r\n                        if (isPlatformIOS()) {\r\n                            t.go('vk_donut_ios');\r\n                        } else {\r\n                            t.go('vk_donut');\r\n                        }\r\n                    }\r\n                }}\r\n            >\r\n                \r\n            </Button>)\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                />\r\n                <div className='PictureInfo'>\r\n                    <div className='Canvas_Container'>\r\n                        <h2>{game['Word.nom'].substring(0, 1).toUpperCase() + game['Word.nom'].substring(1)}</h2>\r\n                        <img alt='canvas' src={n_canvasData || game['Picture.url']}/>\r\n                        <div className='Actions_Container'>\r\n                            <div className='PictureTime'>\r\n                                {Math.round((game.endTime - game.startTime) / 1000)} .\r\n                            </div>\r\n                            <div\r\n                                style={isLiked ? {color: '#F9F9F9', background: '#F16384'} : {}} className='LikeButton'\r\n                                onClick={() => {\r\n                                    t.setPopout(<ScreenSpinner/>);\r\n                                    t.socket.call('pictures.like', {game_id: game.id}, r => {\r\n                                        if (r.response) {\r\n                                            list[current] = {...game, ['Picture.likes']: r.response.likes};\r\n                                            t.setState({like_picturesList: list});\r\n                                            this.setState({isLiked: r.response.isLiked});\r\n                                        }\r\n                                        t.setPopout(null);\r\n                                    });\r\n                                }}>\r\n                                {shortIntegers(game['Picture.likes'])} <Icon24Like style={{marginLeft: 4}}/>\r\n                            </div>\r\n                            <div className='ReportButton' onClick={() => {\r\n                                t.setPopout(<ScreenSpinner/>);\r\n                                t.socket.call('games.report', {game_id: game.id}, r => {\r\n                                    if (r.response) {\r\n                                        t.setState({\r\n                                            snackbar: <Snackbar onClose={() => t.setState({snackbar: null})}>\r\n                                                 \r\n                                            </Snackbar>\r\n                                        });\r\n                                    } else {\r\n                                        t.setState({\r\n                                            snackbar: <Snackbar onClose={() => t.setState({snackbar: null})}>\r\n                                                  \r\n                                            </Snackbar>\r\n                                        });\r\n                                    }\r\n                                    t.setPopout(null);\r\n                                });\r\n                            }}>\r\n                                <Icon28ReportOutline width={16} height={16}/>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='Author_Container' onClick={() => {\r\n                        //openUrl(`https://vk.com/id${game.drawerId}`);\r\n                        t.setPopout(<ScreenSpinner/>);\r\n                        t.socket.call('users.getById', {id: game.drawerId}, async r => {\r\n                            await t.setState({\r\n                                author: r.response\r\n                            });\r\n                            t.socket.call('games.getByDrawerId', {id: game.drawerId}, async r => {\r\n                                await t.setState({\r\n                                    author_works: r.response\r\n                                });\r\n                                t.go('author');\r\n                                t.setPopout(null);\r\n                            });\r\n                        });\r\n                    }}>\r\n                        <div></div>\r\n                        <div>\r\n                            <Avatar shadow={false} size={36} src={vk_local_users[game.drawerId].photo_100}/>\r\n                            <div>{vk_local_users[game.drawerId].first_name} {vk_local_users[game.drawerId].last_name}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='Actions_Container'>\r\n                        <Button\r\n                            before={<Icon28ShareOutline width={16} height={16}/>}\r\n                            size='m' mode={needButtonResumeDraw ? 'secondary' : 'gradient'}\r\n                            onClick={() => {\r\n                                if (game.drawerId !== t.state.vk_user.id) {\r\n                                    this.shareStory1(game.id, game['Picture.url']);\r\n                                } else {\r\n                                    this.shareStory2(game['Word.nom'], game.id, game['Picture.url']);\r\n                                }\r\n                            }}\r\n                        >\r\n                            \r\n                        </Button>\r\n                        <Button\r\n                            style={{marginTop: isDesktop && 10}}\r\n                            disabled={!canGetMore}\r\n                            after={<Icon16Chevron/>}\r\n                            size='m' mode='secondary'\r\n                            onClick={() => {\r\n                                if (current === (list.length - 1)) {\r\n                                    if (method && method.length > 0) {\r\n                                        t.setPopout(<ScreenSpinner/>);\r\n                                        t.socket.call(method, {\r\n                                            offset: t.state[param].length,\r\n                                            limit: 10,\r\n                                            id: user_id\r\n                                        }, async r => {\r\n                                            if (r.response.length > 0) {\r\n                                                await getVKUsers(r.response.map(value => value.drawerId));\r\n                                                await t.setState({[param]: [...t.state[param], ...r.response]});\r\n                                                t.socket.call('pictures.isLiked', {game_id: r.response[0].id}, r => {\r\n                                                    this.setState({isLiked: r.response});\r\n                                                });\r\n                                                t.setState({\r\n                                                    like_currentPictureSelected: current + 1,\r\n                                                    n_canvasData: undefined\r\n                                                });\r\n                                            }\r\n                                            this.setState({canGetMore: r.response.length > 0});\r\n                                            t.setPopout(null);\r\n                                        });\r\n                                    } else {\r\n                                        this.setState({canGetMore: false});\r\n                                    }\r\n                                } else {\r\n                                    t.socket.call('pictures.isLiked', {game_id: list[current + 1].id}, r => {\r\n                                        this.setState({isLiked: r.response});\r\n                                    });\r\n                                    t.setState({like_currentPictureSelected: current + 1, n_canvasData: undefined});\r\n                                }\r\n                            }}\r\n                        >\r\n                            \r\n                        </Button>\r\n                        {\r\n                            (needButtonResumeDraw && isDesktop) && ButtonResumeDraw\r\n                        }\r\n                    </div>\r\n                    {\r\n                        (needButtonResumeDraw && !isDesktop) && ButtonResumeDraw\r\n                    }\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nPictureInfo.defaultProps = {};\r\n\r\nPictureInfo.propTypes = {\r\n    t: PropTypes.object,\r\n    current: PropTypes.number,\r\n    method: PropTypes.string,\r\n    param: PropTypes.string,\r\n    user_id: PropTypes.number\r\n};\r\n\r\nexport default PictureInfo;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Avatar, PanelHeader, PanelHeaderBack, PromoBanner, ScreenSpinner, Snackbar} from \"@vkontakte/vkui\";\r\nimport {getBase64Image, getSrcUrl, getUrlParams, isPlatformDesktop} from \"../../js/utils\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\n\r\nexport class Author extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            offset: props.t.state.author_works.length,\r\n            limit: 10,\r\n            canGetMore: true,\r\n            prevY: 0\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.observer = new IntersectionObserver(\r\n            this.handleObserver.bind(this),\r\n            {\r\n                root: null,\r\n                rootMargin: '0px',\r\n                threshold: 1.0\r\n            }\r\n        );\r\n        this.observer.observe(this.loadingRef);\r\n    }\r\n\r\n    handleObserver(entities, observer) {\r\n        const\r\n            {y} = entities[0].boundingClientRect,\r\n            {t} = this.props,\r\n            {prevY, offset, limit, canGetMore} = this.state\r\n        ;\r\n        if ((prevY === 0 || prevY > y) && canGetMore) {\r\n            t.socket.call('games.getByDrawerId', {id: t.state.author.id, offset, limit}, async r => {\r\n                t.setState({author_works: [...t.state.author_works, ...r.response]});\r\n                this.setState({canGetMore: r.response.length > 0});\r\n                this.forceUpdate();\r\n            });\r\n            this.setState({offset: offset + 10});\r\n        }\r\n        this.setState({prevY: y});\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            {state, _tags} = t,\r\n            isDesktop = isPlatformDesktop(),\r\n            {author, author_works} = state\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                />\r\n                <div className='Author'>\r\n                    <div className='User_Header'>\r\n                        <Avatar src={vk_local_users[author.id].photo_100} size={48} shadow={false}/>\r\n                        <div className='UserTags'>\r\n                            {\r\n                                _tags().map(value =>\r\n                                    author[value[0]] && React.cloneElement(value[1], {onClick: () => t.setActiveModal(value[0])})\r\n                                )\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <h3>{vk_local_users[author.id].first_name} {vk_local_users[author.id].last_name.substring(0, 1)}.</h3>\r\n                    <h1> </h1>\r\n                    <div style={{\r\n                        marginTop: 24,\r\n                        gridGap: isDesktop ? 8 : 15\r\n                    }} className='Images_Grid'>\r\n                        {\r\n                            author_works.map((value, index) =>\r\n                                <div key={`Image_${index}`} onClick={async () => {\r\n                                    await t.setState({\r\n                                        like_currentPictureSelected: index,\r\n                                        like_method: 'games.getByDrawerId',\r\n                                        like_param: 'author_works',\r\n                                        like_user_id: author.id\r\n                                    });\r\n                                    const {history} = t.state;\r\n                                    if (history[history.length - 1] === 'picture_info') {\r\n                                        t.back();\r\n                                    } else {\r\n                                        t.go('picture_info');\r\n                                    }\r\n                                }}>\r\n                                    <img alt='img' src={value['Picture.url']}/>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div ref={ref => this.loadingRef = ref}/>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nAuthor.defaultProps = {};\r\n\r\nAuthor.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Author;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    IconButton,\r\n    Input,\r\n    PanelHeader,\r\n    PanelHeaderBack,\r\n    ScreenSpinner,\r\n    Snackbar,\r\n    WriteBarIcon\r\n} from \"@vkontakte/vkui\";\r\nimport {\r\n    Icon16Chevron, Icon16Recent,\r\n    Icon24Like,\r\n    Icon28ChevronRightOutline,\r\n    Icon28ReportOutline,\r\n    Icon28ShareOutline, Icon28WriteOutline\r\n} from \"@vkontakte/icons\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {\r\n    decOfNum,\r\n    getBase64Image,\r\n    getSrcUrl,\r\n    getUrlParams,\r\n    isPlatformDesktop, isPlatformIOS,\r\n    openUrl,\r\n    shortIntegers\r\n} from \"../../js/utils\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\n\r\nconst isDesktop = isPlatformDesktop();\r\n\r\nexport class Tags extends PureComponent {\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            {_tags} = t\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                >\r\n                    {\r\n                        isDesktop && ''\r\n                    }\r\n                </PanelHeader>\r\n                <div className='Tags'>\r\n                    {\r\n                        !isDesktop && <h2 style={{textAlign: 'left'}}></h2>\r\n                    }\r\n                    <div className='TagsList'>\r\n                        {\r\n                            _tags().map(value =>\r\n                                <div>\r\n                                    {value[1]}\r\n                                    <div>\r\n                                        <h1>{value[2]}</h1>\r\n                                        <h3>{value[3]}</h3>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nTags.defaultProps = {};\r\n\r\nTags.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Tags;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    PanelHeader,\r\n    PanelHeaderBack,\r\n    SimpleCell,\r\n} from \"@vkontakte/vkui\";\r\nimport {\r\n    getUrlParams,\r\n    isPlatformDesktop, isPlatformIOS\r\n} from \"../../js/utils\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\n\r\nconst isDesktop = isPlatformDesktop();\r\n\r\nexport class Friends extends PureComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            friends: []\r\n        };\r\n    }\r\n\r\n    async updateFriends() {\r\n        const\r\n            access_token = (await bridge.send('VKWebAppGetAuthToken', {\r\n                app_id: parseInt(getUrlParams().vk_app_id),\r\n                scope: 'friends'\r\n            })).access_token,\r\n            _friends = await bridge.send('VKWebAppCallAPIMethod', {\r\n                method: 'friends.get',\r\n                params: {access_token, v: '5.131'}\r\n            }),\r\n            friends_count = _friends.response.count,\r\n            j = Math.floor(friends_count / 100)\r\n        ;\r\n        let\r\n            friends = [..._friends.response.items]\r\n        ;\r\n\r\n        for (let i = 0; i < j; i++) {\r\n            friends = friends.concat((await bridge.send('VKWebAppCallAPIMethod', {\r\n                method: 'friends.get',\r\n                params: {access_token, v: '5.131', offset: i * 100}\r\n            })).response.items);\r\n        }\r\n\r\n        await getVKUsers(friends);\r\n        const {socket} = this.props.t;\r\n        socket.call('friends.getLobbies', {ids: friends}, r => {\r\n            const friend_ids = r.response;\r\n            this.setState({friends: friend_ids});\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {socket} = this.props.t;\r\n        socket.unsubscribe('createLobby', 'removeLobby');\r\n        socket.subscribe('createLobby', async r => {\r\n            this.setState({friends: [...this.state.friends, r.id]});\r\n        });\r\n        socket.subscribe('removeLobby', async r => {\r\n            const {friends} = this.state;\r\n            friends.splice(friends.indexOf(r.id), 1);\r\n            this.setState({friends});\r\n            this.forceUpdate();\r\n        });\r\n\r\n        this.updateFriends();\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            {socket} = t,\r\n            {user} = t.state,\r\n            {friends} = this.state\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                >\r\n                    {\r\n                        isDesktop && ' '\r\n                    }\r\n                </PanelHeader>\r\n                <div className='Friends'>\r\n                    {\r\n                        !isDesktop && <h2 style={{textAlign: 'left'}}> </h2>\r\n                    }\r\n                    <p style={{margin: '8px 40px 0 0'}}>\r\n                             .\r\n                    </p>\r\n                    <p style={{margin: '4px 40px 0 0'}}>\r\n                               20.\r\n                    </p>\r\n                    <div style={{display: 'flex', marginTop: 24}}>\r\n                        <Button\r\n                            stretched\r\n                            size='m'\r\n                            mode='gradient_violet'\r\n                            onClick={() => {\r\n                                if (user.vk_donut || user.admin) {\r\n                                    socket.call('friends.createLobby');\r\n                                    t.setState({friend_lobby: {owner_id: t.state.user.id, members: []}});\r\n                                    t.go('friend_lobby');\r\n                                } else {\r\n                                    if (isPlatformIOS()) {\r\n                                        t.go('vk_donut_ios');\r\n                                    } else {\r\n                                        t.go('vk_donut');\r\n                                    }\r\n                                }\r\n                            }}\r\n                        >\r\n                             \r\n                        </Button>\r\n                        <Button\r\n                            style={{marginLeft: 4}}\r\n                            stretched\r\n                            size='m'\r\n                            mode='gradient_gray'\r\n                            onClick={async () => {\r\n                                await this.updateFriends();\r\n                            }}\r\n                        >\r\n                             \r\n                        </Button>\r\n                    </div>\r\n                    <div className='FriendsList'>\r\n                        {\r\n                            friends.length > 0 ?\r\n                                <React.Fragment>\r\n                                    <span className='Span'>\r\n                                         ,     :\r\n                                    </span>\r\n                                    <div style={{marginTop: 8}}>\r\n                                        {\r\n                                            friends.map((value, index) =>\r\n                                                <SimpleCell\r\n                                                    key={`SCell_${index}`}\r\n                                                    before={<Avatar size={32} shadow={false}\r\n                                                                    src={vk_local_users[value].photo_100}/>}\r\n                                                    expandable={true}\r\n                                                    onClick={() => {\r\n                                                        socket.call('friends.joinLobby', {owner_id: value}, async r => {\r\n                                                            await getVKUsers(r.response.members);\r\n                                                            await t.setState({friend_lobby: r.response});\r\n                                                            t.go('friend_lobby');\r\n                                                        });\r\n                                                    }}\r\n                                                >\r\n                                                    {vk_local_users[value].first_name} {vk_local_users[value].last_name.substring(0, 1)}.\r\n                                                </SimpleCell>\r\n                                            )\r\n                                        }\r\n                                    </div>\r\n                                </React.Fragment>\r\n                                :\r\n                                <span className='Span'>\r\n                                          :(\r\n                                </span>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nFriends.defaultProps = {};\r\n\r\nFriends.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Friends;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    IconButton,\r\n    Input,\r\n    PanelHeader,\r\n    PanelHeaderBack,\r\n    ScreenSpinner, SimpleCell, SliderSwitch,\r\n    Snackbar,\r\n    WriteBarIcon\r\n} from \"@vkontakte/vkui\";\r\nimport {\r\n    Icon16Cancel,\r\n    Icon16Chevron, Icon16Recent,\r\n    Icon24Like,\r\n    Icon28ChevronRightOutline, Icon28CopyOutline,\r\n    Icon28ReportOutline,\r\n    Icon28ShareOutline, Icon28WriteOutline\r\n} from \"@vkontakte/icons\";\r\nimport {\r\n    decOfNum,\r\n    getBase64Image,\r\n    getSrcUrl,\r\n    getUrlParams,\r\n    isPlatformDesktop, isPlatformIOS,\r\n    openUrl,\r\n    shortIntegers\r\n} from \"../../js/utils\";\r\nimport {getVKUsers, name_cases, vk_local_users, vkApiRequest} from \"../../js/drawerapp/utils\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\n\r\nconst isDesktop = isPlatformDesktop();\r\n\r\nexport class FriendLobby extends PureComponent {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            removed: false,\r\n            members: [],\r\n            splashShow: false\r\n        };\r\n\r\n        setTimeout(async () => {\r\n            const {friend_lobby} = this.props.t.state;\r\n            await getVKUsers(friend_lobby.members);\r\n            this.setState({members: friend_lobby.members});\r\n        }, 1);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {socket, state} = this.props.t;\r\n        socket.unsubscribe('changeLobbyUsers', 'gameStart', 'setWord', 'gameEnd', 'draw', 'removeLobby', 'wakeUp');\r\n        socket.subscribe('wakeUp', async r => {\r\n            if (r.user_ids.indexOf(state.user.id) > -1) {\r\n                for (let i = 0; i < 3; i++) {\r\n                    setTimeout(async () => {\r\n                        if (bridge.supports('VKWebAppTapticNotificationOccurred')) {\r\n                            await bridge.send('VKWebAppTapticNotificationOccurred', {type: 'success'});\r\n                        }\r\n                        await this.setState({splashShow: !this.state.splashShow});\r\n                        setTimeout(() => {\r\n                            this.setState({splashShow: !this.state.splashShow});\r\n                        }, 100);\r\n                    }, 200 + i * 200)\r\n                }\r\n            }\r\n        });\r\n        socket.subscribe('removeLobby', async r => {\r\n            this.setState({removed: true});\r\n        });\r\n        socket.subscribe('changeLobbyUsers', async r => {\r\n            const {friend_lobby} = this.props;\r\n            await getVKUsers(r.players);\r\n            friend_lobby.members = r.players;\r\n            this.props.t.setState({friend_lobby});\r\n            setTimeout(async () => {\r\n                await this.setState({members: friend_lobby.members});\r\n                this.forceUpdate();\r\n                if (r.players.indexOf(state.user.id) === -1 && this.props.friend_lobby.owner_id !== state.user.id) {\r\n                    this.props.t.back();\r\n                    if (this.state.removed) {\r\n                        this.props.t.setState({\r\n                            snackbar: <Snackbar onClose={() => this.setState({snackbar: null})}>\r\n                                  \r\n                            </Snackbar>\r\n                        });\r\n                    } else {\r\n                        this.props.t.setState({\r\n                            snackbar: <Snackbar onClose={() => this.setState({snackbar: null})}>\r\n                                   \r\n                            </Snackbar>\r\n                        });\r\n                    }\r\n                }\r\n            }, 400);\r\n        });\r\n        socket.subscribe('setWord', async r => {\r\n            this.props.t.setState({word: r.word});\r\n        });\r\n        socket.subscribe('gameStart', async r => {\r\n            const {lobbyId, drawerId} = r;\r\n            await this.props.t.setState({lobbyId, drawerId, gameStart: Date.now(), isOnlineDrawing: true});\r\n            this.props.t.go('game');\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {t, friend_lobby} = this.props,\r\n            {socket} = t,\r\n            {user} = t.state,\r\n            {members, splashShow} = this.state\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                >\r\n                    {\r\n                        isDesktop && ' '\r\n                    }\r\n                </PanelHeader>\r\n                <div className='FriendSplash' style={{opacity: splashShow ? 1 : 0}}/>\r\n                <div className='FriendLobby'>\r\n                    {\r\n                        !isDesktop && <h2 style={{textAlign: 'left'}}> </h2>\r\n                    }\r\n                    {\r\n                        friend_lobby.owner_id === user.id &&\r\n                        <React.Fragment>\r\n                            <SliderSwitch\r\n                                activeValue={friend_lobby.friendsOnly ? 'private' : 'public'}\r\n                                onSwitch={value => {\r\n                                    friend_lobby.friendsOnly = value === 'private';\r\n                                    t.setState({friend_lobby});\r\n                                    console.log(friend_lobby);\r\n                                    this.forceUpdate();\r\n                                    socket.call('friends.changeVisibility', {friendsOnly: friend_lobby.friendsOnly});\r\n                                }}\r\n                                options={[\r\n                                    {\r\n                                        name: '',\r\n                                        value: 'public',\r\n                                    },\r\n                                    {\r\n                                        name: '',\r\n                                        value: 'private',\r\n                                    },\r\n                                ]}\r\n                            />\r\n                            {\r\n                                !friend_lobby.friendsOnly &&\r\n                                <React.Fragment>\r\n                                    <div className='Span' style={{marginTop: 24}}>\r\n                                           (    ):\r\n                                    </div>\r\n                                    <Input\r\n                                        after={\r\n                                            <IconButton\r\n                                                onClick={() => {\r\n                                                    bridge.send('VKWebAppCopyText', {text: `https://vk.com/drawapp#lobby${user.id}`});\r\n                                                    t.setState({\r\n                                                        snackbar: <Snackbar\r\n                                                            onClose={() => this.setState({snackbar: null})}>\r\n                                                             \r\n                                                        </Snackbar>\r\n                                                    });\r\n                                                }}\r\n                                            >\r\n                                                <Icon28CopyOutline width={16} height={16}/>\r\n                                            </IconButton>\r\n                                        }\r\n                                        readOnly\r\n                                        value={`https://vk.com/drawapp#lobby${user.id}`}/>\r\n                                </React.Fragment>\r\n                            }\r\n                        </React.Fragment>\r\n                    }\r\n                    <div className='Span' style={{marginTop: 24}}>\r\n                        {\r\n                            friend_lobby.owner_id === user.id ?\r\n                                ' . :'\r\n                                :\r\n                                ' :'\r\n                        }\r\n                    </div>\r\n                    <div className='FriendsList'>\r\n                        <div style={{marginTop: 8}}>\r\n                            <SimpleCell\r\n                                onClick={() => {\r\n                                    if (friend_lobby.owner_id === user.id) {\r\n                                        socket.call('friends.wakeUp', {\r\n                                            user_ids: [user.id, ...members],\r\n                                            owner_id: friend_lobby.owner_id\r\n                                        });\r\n                                    } else {\r\n                                        socket.call('friends.wakeUp', {\r\n                                            user_ids: [friend_lobby.owner_id],\r\n                                            owner_id: friend_lobby.owner_id\r\n                                        });\r\n                                    }\r\n                                }}\r\n                                before={<Avatar size={32} shadow={false}\r\n                                                src={vk_local_users[friend_lobby.owner_id].photo_100}/>}\r\n                            >\r\n                                {vk_local_users[friend_lobby.owner_id].first_name} {vk_local_users[friend_lobby.owner_id].last_name.substring(0, 1)}.\r\n                            </SimpleCell>\r\n                            {\r\n                                members.map((value, index) =>\r\n                                    <SimpleCell\r\n                                        onClick={() => {\r\n                                            socket.call('friends.wakeUp', {\r\n                                                user_ids: [value],\r\n                                                owner_id: friend_lobby.owner_id\r\n                                            });\r\n                                        }}\r\n                                        key={`SCell_${index}`}\r\n                                        before={<Avatar size={32} shadow={false}\r\n                                                        src={vk_local_users[value].photo_100}/>}\r\n                                        after={friend_lobby.owner_id === user.id &&\r\n                                        <IconButton onClick={() => {\r\n                                            socket.call('friends.kickFromLobby', {user_id: value});\r\n                                        }}><Icon16Cancel fill='var(--icon_tertiary)'/></IconButton>}\r\n                                    >\r\n                                        {vk_local_users[value].first_name} {vk_local_users[value].last_name.substring(0, 1)}.\r\n                                    </SimpleCell>\r\n                                )\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        friend_lobby.owner_id === user.id && members.length > 0 &&\r\n                        <Button\r\n                            style={{marginTop: 24}}\r\n                            size='m'\r\n                            mode='gradient_violet'\r\n                            onClick={() => {\r\n                                socket.call('friends.startGame');\r\n                            }}\r\n                        >\r\n                             \r\n                        </Button>\r\n                    }\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nFriendLobby.defaultProps = {};\r\n\r\nFriendLobby.propTypes = {\r\n    t: PropTypes.object,\r\n    friend_lobby: PropTypes.object\r\n};\r\n\r\nexport default FriendLobby;","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    PanelHeader,\r\n    PanelHeaderBack,\r\n    SimpleCell,\r\n    HorizontalCell,\r\n    HorizontalScroll, ScreenSpinner\r\n} from \"@vkontakte/vkui\";\r\nimport {\r\n    getUrlParams,\r\n    isPlatformDesktop, isPlatformIOS, shortIntegers\r\n} from \"../../js/utils\";\r\nimport {getVKUsers, vk_local_users} from \"../../js/drawerapp/utils\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {Icon20VotestTransferCircleFillTurquoise, Icon28LikeFillRed} from \"@vkontakte/icons\";\r\n\r\nconst isDesktop = isPlatformDesktop();\r\n\r\nexport class Stats extends PureComponent {\r\n\r\n    render() {\r\n        const\r\n            {t} = this.props,\r\n            {state, socket} = t,\r\n            {user} = t.state\r\n        ;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={t.back}/>}\r\n                    separator={false}\r\n                >\r\n                    {\r\n                        isDesktop && ''\r\n                    }\r\n                </PanelHeader>\r\n                <div className='Stats'>\r\n                    {\r\n                        !isDesktop && <h2 style={{textAlign: 'left'}}></h2>\r\n                    }\r\n                    <p style={{margin: '8px 40px 0 0'}}>\r\n                            ,   .\r\n                    </p>\r\n                    <div className='StatsCards__Container'>\r\n                        <div>\r\n                            <Icon20VotestTransferCircleFillTurquoise width={16} height={16}/>\r\n                            <span>{shortIntegers(user.coins)}</span>\r\n                        </div>\r\n                        <div>\r\n                            <span>{shortIntegers(user.likes)}</span>\r\n                            <Icon28LikeFillRed width={16} height={16}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className='Rating__List'>\r\n                        {\r\n                            [\r\n                                ['users_topPictures', ' ', 'pictures'],\r\n                                ['users_topGuessedPictures', ' ', 'guessedPictures'],\r\n                                ['users_topLikes', '', 'likes']\r\n                            ].map((value, index) =>\r\n                                <div>\r\n                                    <span className='Span'>\r\n                                           {value[1]}:\r\n                                    </span>\r\n                                    <HorizontalScroll\r\n                                        showArrows\r\n                                        getScrollToLeft={(i) => i - 64 * 2}\r\n                                        getScrollToRight={(i) => i + 64 * 2}\r\n                                    >\r\n                                        <div style={{display: 'flex'}}>\r\n                                            {\r\n                                                state[value[0]].map((value1, index1) =>\r\n                                                    <HorizontalCell\r\n                                                        key={`Cell_${index1}`}\r\n                                                        header={vk_local_users[value1.id].first_name}\r\n                                                        subtitle={value1[value[2]]}\r\n                                                        onClick={() => {\r\n                                                            t.setPopout(<ScreenSpinner/>);\r\n                                                            socket.call('users.getById', {id: value1.id}, async r => {\r\n                                                                if (r.response !== null) {\r\n                                                                    await t.setState({\r\n                                                                        author: r.response\r\n                                                                    });\r\n                                                                    socket.call('games.getByDrawerId', {id: value1.id}, async r => {\r\n                                                                        await t.setState({\r\n                                                                            author_works: r.response\r\n                                                                        });\r\n                                                                        t.go('author');\r\n                                                                        t.setPopout(null);\r\n                                                                    });\r\n                                                                } else {\r\n                                                                    t.setPopout(null);\r\n                                                                }\r\n                                                            });\r\n                                                        }}\r\n                                                    >\r\n                                                        <Avatar size={48} shadow={false}\r\n                                                                src={vk_local_users[value1.id].photo_100}/>\r\n                                                    </HorizontalCell>\r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                    </HorizontalScroll>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nStats.defaultProps = {};\r\n\r\nStats.propTypes = {\r\n    t: PropTypes.object\r\n};\r\n\r\nexport default Stats;","import React from 'react';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport '../../css/Drawing/Global.css';\r\n\r\nimport {get, getRandomInts, getUrlParams, isPlatformDesktop, loadFonts, openUrl} from \"../../js/utils\";\r\nimport {vk_local_users, getVKUsers} from \"../../js/drawerapp/utils\";\r\nimport {\r\n    Button,\r\n    ModalCard,\r\n    ModalRoot,\r\n    Panel, ScreenSpinner, Snackbar,\r\n    View\r\n} from '@vkontakte/vkui';\r\nimport {\r\n    Icon20AchievementCircleFillBlue,\r\n    Icon20FireCircleFillRed,\r\n    Icon20RecentCircleFillYellow,\r\n    Icon28ChevronRightOutline, Icon56CakeCircleFillPurple, Icon56ServicesOutline\r\n} from \"@vkontakte/icons\";\r\n\r\nimport fetch from 'node-fetch';\r\n\r\nimport {registerFont, createCanvas, loadImage} from 'canvas';\r\nimport request from \"request\";\r\n\r\nimport {ReactComponent as IconOnboard} from \"../../assets/drawing/icons/Icon.svg\";\r\nimport {ReactComponent as IconError} from \"../../assets/drawing/icons/IconError.svg\";\r\n\r\nimport Main from \"./Main\";\r\nimport Gallery from \"./Gallery\";\r\nimport Rating from \"./Rating\";\r\nimport Search from \"./Search\";\r\nimport Game from \"./Game\";\r\nimport Result from \"./Result\";\r\nimport Placeholder from \"./Placeholder\";\r\n\r\nimport Socket from '../../js/socket';\r\nimport eruda from 'eruda';\r\nimport Likes from \"./Likes\";\r\nimport PictureInfo from \"./PictureInfo\";\r\nimport Author from \"./Author\";\r\nimport Tags from \"./Tags\";\r\nimport Friends from \"./Friends\";\r\nimport FriendLobby from \"./FriendLoby\";\r\nimport Stats from \"./Stats\";\r\n\r\nimport (`../../css/Drawing/${window.location.search.length > 0 && JSON.parse('{\"' + decodeURI(window.location.search.substring(1)).replace(/\"/g, '\\\\\"').replace(/&/g, '\",\"').replace(/=/g, '\":\"') + '\"}').vk_platform === 'desktop_web' ? 'Desktop' : 'Mobile'}.css`);\r\n\r\nconst\r\n    socket = new Socket()\r\n;\r\nlet\r\n    bannersInterval,\r\n    connectInterval\r\n;\r\n\r\nexport const\r\n    MODAL_CARD_PLAY_MODE = 'play-mode',\r\n    MODAL_CARD_NEW_UPDATE = 'new-update'\r\n;\r\n\r\nclass Drawing extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            activePanel: 'main',\r\n            history: ['main'],\r\n\r\n            activeModal: null,\r\n            modalHistory: [],\r\n\r\n            colors: [\r\n                '#000000',\r\n                '#FFFFFF',\r\n                '#E63902',\r\n                '#EA5A03',\r\n                '#FA8A00',\r\n                '#FBB101',\r\n                '#FDE401',\r\n                '#85B201',\r\n                '#019317',\r\n                '#019C8B',\r\n                '#035AA2',\r\n                '#00247A',\r\n                '#500A6D',\r\n                '#A9236B'\r\n            ],\r\n\r\n            online: 0,\r\n\r\n            drawerId: 0,\r\n            lobbyId: 0,\r\n\r\n            isOnlineDrawing: true,\r\n\r\n            bannersCount: 3,\r\n            banners: [],\r\n            defaultBannerData: {\r\n                title: '',\r\n                domain: 'vk.com',\r\n                trackingLink: 'https://vk.com',\r\n                ctaText: '',\r\n                advertisingLabel: '',\r\n                iconLink: 'https://sun9-7.userapi.com/c846420/v846420985/1526c3/ISX7VF8NjZk.jpg',\r\n                description: ' ',\r\n                ageRestrictions: \"14+\",\r\n                statistics: [\r\n                    {url: '', type: 'playbackStarted'},\r\n                    {url: '', type: 'click'}\r\n                ]\r\n            },\r\n            connected: false,\r\n            dataUpdated: false,\r\n\r\n            author_works: []\r\n        };\r\n\r\n        this.componentDidMount = this.componentDidMount.bind(this);\r\n        this.updateData = this.updateData.bind(this);\r\n        this.back = () => {\r\n            const {history, popout, activeModal} = this.state;\r\n\r\n            if (popout !== null && popout !== undefined)\r\n                return;\r\n\r\n            if (activeModal !== null) {\r\n                this.setState({activeModal: null});\r\n                window.history.pushState({pop: 'popout'}, 'Title');\r\n                return;\r\n            }\r\n\r\n            if (history.length > 1) {\r\n                if (history[history.length - 1] === 'search') {\r\n                    socket.call('games.search');\r\n                    this.setState({\r\n                        snackbar: <Snackbar onClose={() => this.setState({snackbar: null})}>\r\n                              \r\n                        </Snackbar>\r\n                    });\r\n                }\r\n\r\n                if (history[history.length - 1] === 'friend_lobby') {\r\n                    socket.call('friends.leaveLobby', {owner_id: this.state.friend_lobby.owner_id});\r\n                }\r\n\r\n                history.pop();\r\n                this.setState({activePanel: history[history.length - 1], history});\r\n                if (history[history.length - 1] !== 'search')\r\n                    this.setState({snackbar: null});\r\n            } else {\r\n                bridge.send('VKWebAppClose', {status: 'success'});\r\n            }\r\n        };\r\n        this.go = (panel) => {\r\n            const {history, activeModal} = this.state;\r\n            if (activeModal !== null) {\r\n                this.setState({activeModal: null, modalHistory: []});\r\n            }\r\n            if (history[history.length - 1] !== panel) {\r\n                history.push(panel);\r\n                window.history.pushState({activePanel: panel}, 'Title');\r\n                this.setState({activePanel: panel, history, snackbar: null});\r\n            }\r\n        };\r\n        this.setActivePanel = (panel) => {\r\n            this.setState({activePanel: panel, history: [panel], snackbar: null});\r\n        };\r\n        this.setActiveModal = (activeModal = null) => {\r\n            let {modalHistory} = this.state;\r\n\r\n            if (activeModal === null) {\r\n                modalHistory = [];\r\n            } else if (modalHistory.indexOf(activeModal) !== -1) {\r\n                modalHistory = modalHistory.splice(\r\n                    0,\r\n                    modalHistory.indexOf(activeModal) + 1\r\n                );\r\n            } else {\r\n                modalHistory.push(activeModal);\r\n            }\r\n\r\n            this.setState({\r\n                activeModal,\r\n                modalHistory,\r\n            });\r\n        };\r\n        this.setPopout = (popout) => {\r\n            this.setState({popout});\r\n        };\r\n        this.socket = socket;\r\n\r\n        window.onload = () => {\r\n            const\r\n                windowHeight = document.documentElement.clientHeight,\r\n                scale = 100 / 812 * windowHeight / 100\r\n            ;\r\n            document.body.style.setProperty('--scale-value', scale);\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        loadFonts();\r\n\r\n        window.addEventListener('popstate', e => {\r\n            e.preventDefault();\r\n            this.back();\r\n        });\r\n\r\n        bridge.subscribe(async ({detail: {type, data}}) => {\r\n            if (type !== undefined) console.log(type, data);\r\n            if (type === 'VKWebAppUpdateConfig') {\r\n                const schemeAttribute = document.createAttribute('scheme');\r\n                schemeAttribute.value = data.scheme ? data.scheme === 'client_light' ? 'bright_light' : data.scheme : 'bright_light';\r\n                document.body.attributes.setNamedItem(schemeAttribute);\r\n            } else if (type === 'VKWebAppViewRestore') {\r\n                this.setState({popout: null});\r\n            }\r\n        });\r\n\r\n        const\r\n            isShowOnboard = (await bridge.send('VKWebAppStorageGet', {keys: ['onboard']})).keys[0].value === '',\r\n            isShowVkGroup = (await bridge.send('VKWebAppStorageGet', {keys: ['vk_group1']})).keys[0].value === '',\r\n            isShowUpdate = (await bridge.send('VKWebAppStorageGet', {keys: ['update_friends_mode']})).keys[0].value === '',\r\n            vk_user = await bridge.send('VKWebAppGetUserInfo'),\r\n            vk_user_ = getVKUsers([vk_user.id])\r\n        ;\r\n        await this.setState({isShowOnboard, isShowVkGroup, vk_user});\r\n\r\n        bridge.send('VKWebAppEnableSwipeBack');\r\n\r\n        this.connect();\r\n\r\n        socket.subscribe('exit', r => {\r\n            this.setState({placeholderText: r.title, banned: r.banned});\r\n            this.setPopout(null);\r\n            if (r.banned) {\r\n                this.setState({placeholderNeed: 2});\r\n                this.setActivePanel('banned');\r\n            } else {\r\n                this.setState({placeholderNeed: 1});\r\n                this.setActivePanel('placeholder');\r\n            }\r\n            bridge.send('VKWebAppInit');\r\n        });\r\n        socket.onConnectionError((e) => {\r\n            console.error(e);\r\n            this.setState({placeholderText: '    .', placeholderNeed: 1});\r\n            this.setPopout(null);\r\n            this.setActivePanel('placeholder');\r\n            bridge.send('VKWebAppInit');\r\n        });\r\n        socket.onDisconnect(() => {\r\n            this.setPopout(null);\r\n            if (this.state.placeholderNeed !== 2) {\r\n                this.setState({placeholderText: ''});\r\n                this.setActivePanel('placeholder');\r\n            }\r\n            bridge.send('VKWebAppInit');\r\n        });\r\n\r\n        await new Promise(resolve =>\r\n            socket.onConnect(async () => {\r\n                await this.setState({connected: true, placeholderNeed: 0});\r\n                console.log('Connected');\r\n                this.setActivePanel('main');\r\n                await this.updateData();\r\n\r\n                if (isShowVkGroup && !isShowOnboard) {\r\n                    setTimeout(() => {\r\n                        this.go('group_vk');\r\n                    }, 1000);\r\n                } else if (isShowUpdate && !isShowOnboard) {\r\n                    setTimeout(() => {\r\n                        this.setActiveModal(MODAL_CARD_NEW_UPDATE);\r\n                    }, 1000);\r\n                } else if (!isShowOnboard) {\r\n                    this.onChangeHash();\r\n                }\r\n                resolve(true);\r\n            })\r\n        );\r\n\r\n        clearInterval(bannersInterval);\r\n        bannersInterval =\r\n            setInterval(() => {\r\n                const {banners, bannersCount} = this.state;\r\n                for (let i = 0; i < bannersCount; i++) {\r\n                    bridge.send('VKWebAppGetAds', {}).then(data => {\r\n                        if (banners[i] !== false)\r\n                            banners[i] = data;\r\n                    });\r\n                }\r\n                this.setState({banners});\r\n            }, 3000);\r\n\r\n        bridge.send('VKWebAppInit');\r\n    }\r\n\r\n    connect() {\r\n        socket.connect('https://draw.avocado.special.vk-apps.com', getUrlParams());\r\n        setTimeout(() => {\r\n            if (!this.state.dataUpdated) {\r\n                this.updateData();\r\n            }\r\n            if (!this.state.connected) {\r\n                clearInterval(connectInterval);\r\n                connectInterval = setInterval(() => {\r\n                    if (!this.state.connected) {\r\n                        socket.connect('https://draw.avocado.special.vk-apps.com', getUrlParams());\r\n                    } else {\r\n                        clearInterval(connectInterval);\r\n                    }\r\n                }, 1000);\r\n            }\r\n        }, 1000);\r\n    }\r\n\r\n    async updateData() {\r\n        await new Promise(resolve => {\r\n            socket.call('users.getTopNumber', {}, r => {\r\n                this.setState({top_number: r.response});\r\n            });\r\n            socket.call('users.getTop', {}, async r => {\r\n                const\r\n                    user_ids = r.response.map(value => value.id)\r\n                ;\r\n                await getVKUsers(user_ids);\r\n\r\n                this.setState({top: r.response.map(value => ({...vk_local_users[value.id], ...value}))});\r\n            });\r\n            socket.call('users.get', {}, r => {\r\n                this.setState({user: r.response});\r\n\r\n                socket.call('games.getByDrawerId', {id: this.state.vk_user.id, limit: 10}, r => {\r\n                    this.setState({gamesAsDrawer: r.response});\r\n                    let user_ids = r.response.map(value => value.drawerId);\r\n\r\n                    socket.call('games.getByWinnerId', {id: this.state.vk_user.id, limit: 10}, r => {\r\n                        user_ids = [...user_ids, ...r.response.map(value => value.drawerId)];\r\n\r\n                        getVKUsers(user_ids);\r\n                        setTimeout(async () => {\r\n                            await this.setState({gamesAsWinner: r.response, dataUpdated: true});\r\n                            resolve(true);\r\n                        }, 400);\r\n                    });\r\n                });\r\n            })\r\n        });\r\n\r\n        this.setState({time: Date.now()});\r\n        return true;\r\n    }\r\n\r\n    onChangeHash() {\r\n        if (window.location.hash.startsWith('#')) {\r\n            const\r\n                hash = window.location.hash.substring(1),\r\n                keys = [\r\n                    {\r\n                        key: 'author',\r\n                        do: value => {\r\n                            this.setPopout(<ScreenSpinner/>);\r\n                            this.socket.call('users.getById', {id: value}, async r => {\r\n                                if (r.response !== null) {\r\n                                    await getVKUsers([value]);\r\n                                    await this.setState({\r\n                                        author: r.response\r\n                                    });\r\n                                    this.socket.call('games.getByDrawerId', {id: value}, async r => {\r\n                                        await this.setState({\r\n                                            author_works: r.response\r\n                                        });\r\n                                        setTimeout(() => {\r\n                                            this.go('author');\r\n                                            this.setPopout(null);\r\n                                        }, 400);\r\n                                    });\r\n                                } else {\r\n                                    this.setPopout(null);\r\n                                }\r\n                            });\r\n                        }\r\n                    },\r\n                    {\r\n                        key: 'picture',\r\n                        do: async value => {\r\n                            try {\r\n                                const\r\n                                    gameId = parseInt(value)\r\n                                ;\r\n\r\n                                this.setPopout(<ScreenSpinner/>);\r\n                                this.socket.call('games.getById', {id: gameId}, async r => {\r\n                                    if (r.response !== null) {\r\n                                        const {drawerId} = r.response;\r\n                                        await getVKUsers([drawerId]);\r\n                                        await this.setState({\r\n                                            gamesAsAuthor: [r.response],\r\n                                            like_currentPictureSelected: 0,\r\n                                            like_method: '',\r\n                                            like_param: 'gamesAsAuthor',\r\n                                            like_user_id: drawerId\r\n                                        });\r\n                                        setTimeout(() => {\r\n                                            this.go('picture_info');\r\n                                            this.setPopout(null);\r\n                                        }, 400);\r\n                                    } else {\r\n                                        this.setPopout(null);\r\n                                    }\r\n                                });\r\n                            } catch (e) {\r\n                                console.error(e);\r\n                            }\r\n                        }\r\n                    },\r\n                    {\r\n                        key: 'lobby',\r\n                        do: value => {\r\n                            this.setPopout(<ScreenSpinner/>);\r\n                            this.socket.call('friends.joinLobby', {owner_id: parseInt(value), url: true}, async r => {\r\n                                if (r.response) {\r\n                                    await getVKUsers(r.response.members);\r\n                                    await this.setState({\r\n                                        friend_lobby: r.response\r\n                                    });\r\n                                    setTimeout(() => {\r\n                                        this.go('friend_lobby');\r\n                                        this.setPopout(null);\r\n                                    }, 400);\r\n                                } else {\r\n                                    this.setPopout(null);\r\n                                }\r\n                            });\r\n                        }\r\n                    },\r\n                ]\r\n            ;\r\n\r\n            for (const key of keys) {\r\n                if (hash.startsWith(key.key)) {\r\n                    key.do(hash.substring(key.key.length));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    _tags() {\r\n        return [\r\n            [\r\n                'tag_interesting',\r\n                <Icon20FireCircleFillRed/>,\r\n                ' ',\r\n                '    1000 '\r\n            ],\r\n            [\r\n                'tag_rapidfire',\r\n                <Icon20RecentCircleFillYellow/>,\r\n                '',\r\n                '   ,     5 '\r\n            ],\r\n            [\r\n                'tag_creative',\r\n                <Icon20AchievementCircleFillBlue/>,\r\n                '',\r\n                '   ,      '\r\n            ]\r\n        ];\r\n    }\r\n\r\n    _tag_modal(tag_name) {\r\n        const tag_info = this._tags().find(value => value[0] === tag_name);\r\n        return (\r\n            <ModalCard\r\n                key={tag_name}\r\n                id={tag_name}\r\n                onClose={() => this.setActiveModal(null)}\r\n                icon={React.cloneElement(tag_info[1], {width: 56, height: 56})}\r\n                header={tag_info[2]}\r\n                subheader={tag_info[3]}\r\n                actions={\r\n                    <Button\r\n                        size='l'\r\n                        mode='gradient_blue'\r\n                        onClick={() => this.go('tags')}\r\n                    >\r\n                        \r\n                    </Button>\r\n                }\r\n            ></ModalCard>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const\r\n            {\r\n                activePanel, activeModal,\r\n                popout, snackbar,\r\n\r\n                isShowOnboard, isShowVkGroup,\r\n                vk_user, user, banned,\r\n\r\n                placeholderText,\r\n\r\n                gamesAsWinner, gamesAsDrawer,\r\n\r\n                drawerId, winnerId, lobbyId, gameId, word,\r\n                like_picturesList, like_currentPictureSelected, like_method, like_param, like_user_id,\r\n\r\n                isOnlineDrawing,\r\n\r\n                friend_lobby\r\n            } = this.state,\r\n            showConnecting = !(vk_user && user && gamesAsWinner && gamesAsDrawer),\r\n\r\n            modal = (\r\n                <ModalRoot activeModal={activeModal}>\r\n                    {\r\n                        this._tags().map(value => this._tag_modal(value[0]))\r\n                    }\r\n                    <ModalCard\r\n                        id={MODAL_CARD_PLAY_MODE}\r\n                        onClose={() => this.setActiveModal(null)}\r\n                        icon={<Icon56ServicesOutline/>}\r\n                        header='  ?'\r\n                        actionsLayout='horizontal'\r\n                        actions={\r\n                            [\r\n                                <Button\r\n                                    size='l'\r\n                                    mode='gradient_blue'\r\n                                    onClick={() => this.go('search')}\r\n                                >\r\n                                    \r\n                                </Button>,\r\n                                <Button\r\n                                    size='l'\r\n                                    mode='gradient_violet'\r\n                                    onClick={() => this.go('friends')}\r\n                                >\r\n                                     \r\n                                </Button>\r\n                            ]\r\n                        }\r\n                    ></ModalCard>\r\n                    <ModalCard\r\n                        id={MODAL_CARD_NEW_UPDATE}\r\n                        onClose={() => this.setActiveModal(null)}\r\n                        icon={<Icon56CakeCircleFillPurple/>}\r\n                        header=''\r\n                        subheader=' ,     ?'\r\n                        actions={\r\n                            <Button\r\n                                size='l'\r\n                                mode='gradient_violet'\r\n                                onClick={() => {\r\n                                    bridge.send('VKWebAppStorageSet', {key: 'update_friends_mode', value: '1'});\r\n                                    this.setActiveModal(null);\r\n                                    openUrl('https://vk.com/wall-208964042_481');\r\n                                }}\r\n                            >\r\n                                \r\n                            </Button>\r\n                        }\r\n                    ></ModalCard>\r\n                </ModalRoot>\r\n            )\r\n        ;\r\n\r\n        return (\r\n            <View\r\n                activePanel={(activePanel !== 'placeholder' && activePanel !== 'banned') ? (showConnecting ? 'connecting' : isShowOnboard ? 'onboard' : activePanel) : activePanel}\r\n                popout={popout}\r\n                modal={modal}\r\n                onSwipeBack={this.back}\r\n                history={this.state.history}\r\n            >\r\n                {\r\n                    [\r\n                        {\r\n                            id: 'onboard',\r\n                            component: <Placeholder\r\n                                icon={<IconOnboard/>}\r\n                                title=' '\r\n                                description='        ,   .     .'\r\n                                buttonIcon={<Icon28ChevronRightOutline width={16} height={16}/>}\r\n                                buttonText=''\r\n                                buttonOnClick={() => {\r\n                                    bridge.send('VKWebAppStorageSet', {key: 'onboard', value: '1'});\r\n                                    this.setState({isShowOnboard: false});\r\n                                }}\r\n                            />\r\n                        },\r\n                        {\r\n                            id: 'connecting',\r\n                            component: <Placeholder\r\n                                icon={<IconOnboard/>}\r\n                                title=''\r\n                                description='   ...'\r\n                            />\r\n                        },\r\n                        {\r\n                            id: 'placeholder',\r\n                            component: <Placeholder\r\n                                icon={<IconError/>}\r\n                                title=' '\r\n                                description={placeholderText}\r\n                                buttonText=''\r\n                                buttonOnClick={() => {\r\n                                    this.connect();\r\n                                }}\r\n                            />\r\n                        },\r\n                        {\r\n                            id: 'main',\r\n                            component: <React.Fragment>\r\n                                <Main t={this} time={this.state.time}/>\r\n                                {snackbar}\r\n                            </React.Fragment>\r\n                        },\r\n                        {\r\n                            id: 'stats',\r\n                            component: <React.Fragment>\r\n                                <Stats t={this}/>\r\n                                {snackbar}\r\n                            </React.Fragment>\r\n                        },\r\n                        {\r\n                            id: 'gallery',\r\n                            component: <React.Fragment>\r\n                                <Gallery t={this}/>\r\n                                {snackbar}\r\n                            </React.Fragment>\r\n                        },\r\n                        {\r\n                            id: 'rating',\r\n                            component: <React.Fragment>\r\n                                <Rating t={this}/>\r\n                                {snackbar}\r\n                            </React.Fragment>\r\n                        },\r\n                        {\r\n                            id: 'likes',\r\n                            component: <React.Fragment>\r\n                                <Likes t={this}/>\r\n                                {snackbar}\r\n                            </React.Fragment>\r\n                        },\r\n                        {\r\n                            id: 'picture_info',\r\n                            component: <React.Fragment>\r\n                                <PictureInfo\r\n                                    t={this}\r\n                                    current={like_currentPictureSelected}\r\n                                    method={like_method} param={like_param} user_id={like_user_id}\r\n                                />\r\n                                {snackbar}\r\n                            </React.Fragment>\r\n                        },\r\n                        {\r\n                            id: 'author',\r\n                            component: <Author t={this}/>\r\n                        },\r\n                        {\r\n                            id: 'search',\r\n                            component: <Search t={this}/>\r\n                        },\r\n                        {\r\n                            id: 'game',\r\n                            component: <React.Fragment>\r\n                                <Game t={this} drawerId={drawerId} lobbyId={lobbyId} online={isOnlineDrawing}\r\n                                      word={word}/>\r\n                                {snackbar}\r\n                            </React.Fragment>\r\n                        },\r\n                        {\r\n                            id: 'result',\r\n                            component: <React.Fragment>\r\n                                <Result t={this} drawerId={drawerId} winnerId={winnerId} word={word} gameId={gameId}/>\r\n                                {snackbar}\r\n                            </React.Fragment>\r\n                        },\r\n                        {\r\n                            id: 'tags',\r\n                            component: <Tags t={this}/>\r\n                        },\r\n                        {\r\n                            id: 'friends',\r\n                            component: <React.Fragment>\r\n                                <Friends t={this}/>\r\n                                {snackbar}\r\n                            </React.Fragment>\r\n                        },\r\n                        {\r\n                            id: 'friend_lobby',\r\n                            component: <React.Fragment>\r\n                                <FriendLobby t={this} friend_lobby={friend_lobby}/>\r\n                                {snackbar}\r\n                            </React.Fragment>\r\n                        },\r\n                        {\r\n                            id: 'group_vk',\r\n                            component: <Placeholder\r\n                                icon={<img src={require('../../assets/drawing/icons/Icon_Group.png')} alt='icon'/>}\r\n                                title=' !'\r\n                                description='      ?      '\r\n                                buttonText=''\r\n                                buttonOnClick={async () => {\r\n                                    bridge.send('VKWebAppStorageSet', {key: 'vk_group1', value: '1'});\r\n                                    this.setState({isShowVkGroup: false});\r\n                                    try {\r\n                                        await bridge.send('VKWebAppJoinGroup', {group_id: 208964042});\r\n                                    } catch (e) {\r\n                                    }\r\n                                    this.back();\r\n                                }}\r\n                                buttonMode='gradient_gray'\r\n                                buttonBack={true}\r\n                                t={this}\r\n                            />\r\n                        },\r\n                        {\r\n                            id: 'vk_donut',\r\n                            component: <Placeholder\r\n                                icon={<img src={require('../../assets/drawing/icons/Icon_Donut.png')} alt='icon'/>}\r\n                                title='VK Donut'\r\n                                description='     ,  .'\r\n                                buttonText=''\r\n                                buttonOnClick={() => {\r\n                                    openUrl('https://vk.com/donut/draw_app');\r\n                                }}\r\n                                buttonMode='gradient_donut'\r\n                                buttonBack={true}\r\n                                t={this}\r\n                            />\r\n                        },\r\n                        {\r\n                            id: 'vk_donut_ios',\r\n                            component: <Placeholder\r\n                                icon={<img src={require('../../assets/drawing/icons/Icon_Donut.png')} alt='icon'/>}\r\n                                title='VK Donut'\r\n                                description='  ,     .'\r\n                                buttonText=''\r\n                                buttonOnClick={() => {\r\n                                    openUrl('https://vk.com/draw_app');\r\n                                }}\r\n                                buttonMode='gradient_donut'\r\n                                buttonBack={true}\r\n                                t={this}\r\n                            />\r\n                        },\r\n                        {\r\n                            id: 'banned',\r\n                            component: <Placeholder\r\n                                icon={<img src={require('../../assets/drawing/icons/Icon_Group.png')} alt='icon'/>}\r\n                                title=''\r\n                                description={`     .  : ${new Date(banned + (24 * 60 * 60 * 1000)).toLocaleDateString('ru', {\r\n                                    day: 'numeric',\r\n                                    month: 'numeric',\r\n                                    year: 'numeric',\r\n                                    hour: 'numeric',\r\n                                    minute: 'numeric'\r\n                                })}`}\r\n                                buttonText='  '\r\n                                buttonOnClick={() => {\r\n                                    openUrl('https://vk.com/club' + 208964042);\r\n                                }}\r\n                                buttonMode='gradient_gray'\r\n                                t={this}\r\n                            />\r\n                        },\r\n                    ].map(({id, component}, index) =>\r\n                        <Panel id={id} key={`Panel__${index}`}>\r\n                            {component}\r\n                        </Panel>\r\n                    )\r\n                }\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Drawing;","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport '@vkontakte/vkui/dist/unstable.css'\nimport {AdaptivityProvider, AppRoot, ConfigProvider} from \"@vkontakte/vkui\";\n\nimport './css/Fonts.css';\nimport './css/Error.css';\nimport './css/Utils.css';\n\n//import App from './apps/Tracker';\n//import App from './apps/Wheel';\n//import App from './apps/MedicalCard';\n//import App from './apps/AskMe';\n//import App from './apps/LoveAnalysis';\n//import App from './apps/BattleStat';\n//import App from './apps/BattleStatCatalog';\n//import App from './apps/YearTest';\n//import App from './apps/IQTest';\n//import App from './apps/MvsW';\n//import App from './apps/DeathDate';\n//import App from './apps/DeathDate2';\n//import App from './apps/Slaves';\n//import App from './apps/VKTime';\n//import App from './apps/LikesStat';\n//import App from './apps/VKAccPrice';\n//import App from './apps/DateCelebrity';\n//import App from './apps/NameInCountry';\n//import App from './apps/AccKarma';\n//import App from './apps/AdvertisementApp';\n//import App from './apps/AdvertisementAppSite';\n//import App from './apps/ClickerBattle/ClickerBattle';\nimport App from './apps/Drawing/Drawing';\n//import App from './apps/Drawing/Global';\n//import App from './apps/RandomCooking';\n\n\nReactDOM.render(\n    false ?\n        <App/>\n        :\n        <ConfigProvider>\n            <AdaptivityProvider>\n                <AppRoot>\n                    <App/>\n                </AppRoot>\n            </AdaptivityProvider>\n        </ConfigProvider>, document.getElementById('root')\n);\n"],"sourceRoot":""}