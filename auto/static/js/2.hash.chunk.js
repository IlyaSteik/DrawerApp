(window.webpackJsonpminiapp=window.webpackJsonpminiapp||[]).push([[2],[function(e,t,n){"use strict";n.r(t);var r=n(12),a=(n(212),n(4)),i=n(11),o=n(40),s=n(270),u=n(271),c=n(140),l=n(267),d=function(){function e(){Object(a.a)(this,e),this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}return Object(i.a)(e,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)}))},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return new TextDecoder(t).decode(e)}},{key:"setTimeoutCustom",value:function(e,t){var n=this;"undefined"!==typeof window&&Object(o.c)().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((function(){window.postMessage({name:n.messageName,index:n.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(function(e){e.source===window&&e.data.name===n.messageName&&(e.stopPropagation(),(0,n.functionRefs[e.data.index])(),n.handledMessageCount++,n.handledMessageCount===n.functionRefs.length&&(n.functionRefs=[],n.handledMessageCount=0))}),!0))):setTimeout(e,t)}},{key:"isTypedArray",value:function(e){return Object(l.a)(e)}}]),e}();if(Object(o.c)().get("IS_BROWSER")){Object(o.c)().setPlatform("browser",new d);try{c.a.registerManager(u.a.URL_SCHEME,new u.b)}catch(T){}try{c.a.registerManager(s.a.URL_SCHEME,new s.b)}catch(T){}}n(709);var p=n(73),f=n(28),h=n(102),m=n(229),v=n(15);Object(r.b)();var b={buffer:p.a,cast:f.a,clone:h.a,print:m.a};Object(v.f)(b);var g=n(175),y=n(178),_=n(179),x=n(180),k=n(181),w=n(182),O=n(143),j=n(177),S=[g.a,y.a,_.a,x.a,k.a,w.a,O.a];var C=n(216);n.d(t,"AdadeltaOptimizer",(function(){return C.d})),n.d(t,"AdagradOptimizer",(function(){return C.e})),n.d(t,"AdamOptimizer",(function(){return C.f})),n.d(t,"AdamaxOptimizer",(function(){return C.g})),n.d(t,"MomentumOptimizer",(function(){return C.hc})),n.d(t,"Optimizer",(function(){return C.sc})),n.d(t,"OptimizerConstructors",(function(){return C.tc})),n.d(t,"RMSPropOptimizer",(function(){return C.Ac})),n.d(t,"SGDOptimizer",(function(){return C.Vc})),n.d(t,"Tensor",(function(){return C.Bd})),n.d(t,"TensorBuffer",(function(){return C.Cd})),n.d(t,"Variable",(function(){return C.Md})),n.d(t,"Rank",(function(){return C.Fc})),n.d(t,"sumOutType",(function(){return C.mi})),n.d(t,"upcastType",(function(){return C.Li})),n.d(t,"abs",(function(){return C.Pd})),n.d(t,"acos",(function(){return C.Qd})),n.d(t,"acosh",(function(){return C.Rd})),n.d(t,"add",(function(){return C.Sd})),n.d(t,"addN",(function(){return C.Td})),n.d(t,"all",(function(){return C.Ud})),n.d(t,"any",(function(){return C.Vd})),n.d(t,"argMax",(function(){return C.Wd})),n.d(t,"argMin",(function(){return C.Xd})),n.d(t,"asin",(function(){return C.Yd})),n.d(t,"asinh",(function(){return C.Zd})),n.d(t,"atan",(function(){return C.ae})),n.d(t,"atan2",(function(){return C.be})),n.d(t,"atanh",(function(){return C.ce})),n.d(t,"avgPool",(function(){return C.de})),n.d(t,"avgPool3d",(function(){return C.ee})),n.d(t,"basicLSTMCell",(function(){return C.he})),n.d(t,"batchToSpaceND",(function(){return C.me})),n.d(t,"batchNorm",(function(){return C.ie})),n.d(t,"batchNorm2d",(function(){return C.je})),n.d(t,"batchNorm3d",(function(){return C.ke})),n.d(t,"batchNorm4d",(function(){return C.le})),n.d(t,"bincount",(function(){return C.ne})),n.d(t,"broadcastArgs",(function(){return C.pe})),n.d(t,"broadcastTo",(function(){return C.qe})),n.d(t,"buffer",(function(){return C.te})),n.d(t,"cast",(function(){return C.ue})),n.d(t,"ceil",(function(){return C.ve})),n.d(t,"clipByValue",(function(){return C.we})),n.d(t,"clone",(function(){return C.xe})),n.d(t,"complex",(function(){return C.ye})),n.d(t,"concat",(function(){return C.ze})),n.d(t,"concat1d",(function(){return C.Ae})),n.d(t,"concat2d",(function(){return C.Be})),n.d(t,"concat3d",(function(){return C.Ce})),n.d(t,"concat4d",(function(){return C.De})),n.d(t,"conv1d",(function(){return C.Ee})),n.d(t,"conv2d",(function(){return C.Fe})),n.d(t,"conv2dTranspose",(function(){return C.Ge})),n.d(t,"conv3d",(function(){return C.He})),n.d(t,"conv3dTranspose",(function(){return C.Ie})),n.d(t,"cos",(function(){return C.Ke})),n.d(t,"cosh",(function(){return C.Le})),n.d(t,"cumprod",(function(){return C.Ne})),n.d(t,"cumsum",(function(){return C.Oe})),n.d(t,"denseBincount",(function(){return C.Qe})),n.d(t,"depthToSpace",(function(){return C.Se})),n.d(t,"depthwiseConv2d",(function(){return C.Te})),n.d(t,"diag",(function(){return C.Ve})),n.d(t,"dilation2d",(function(){return C.We})),n.d(t,"div",(function(){return C.af})),n.d(t,"divNoNan",(function(){return C.bf})),n.d(t,"dot",(function(){return C.cf})),n.d(t,"einsum",(function(){return C.ef})),n.d(t,"elu",(function(){return C.ff})),n.d(t,"equal",(function(){return C.lf})),n.d(t,"erf",(function(){return C.mf})),n.d(t,"euclideanNorm",(function(){return C.nf})),n.d(t,"exp",(function(){return C.of})),n.d(t,"expandDims",(function(){return C.pf})),n.d(t,"expm1",(function(){return C.qf})),n.d(t,"eye",(function(){return C.rf})),n.d(t,"fill",(function(){return C.tf})),n.d(t,"floor",(function(){return C.wf})),n.d(t,"floorDiv",(function(){return C.xf})),n.d(t,"gather",(function(){return C.zf})),n.d(t,"greater",(function(){return C.If})),n.d(t,"greaterEqual",(function(){return C.Jf})),n.d(t,"imag",(function(){return C.Lf})),n.d(t,"isFinite",(function(){return C.Qf})),n.d(t,"isInf",(function(){return C.Rf})),n.d(t,"isNaN",(function(){return C.Sf})),n.d(t,"leakyRelu",(function(){return C.Vf})),n.d(t,"less",(function(){return C.Wf})),n.d(t,"lessEqual",(function(){return C.Xf})),n.d(t,"linspace",(function(){return C.Zf})),n.d(t,"localResponseNormalization",(function(){return C.ag})),n.d(t,"log",(function(){return C.bg})),n.d(t,"log1p",(function(){return C.cg})),n.d(t,"logSigmoid",(function(){return C.dg})),n.d(t,"logSoftmax",(function(){return C.eg})),n.d(t,"logSumExp",(function(){return C.fg})),n.d(t,"logicalAnd",(function(){return C.gg})),n.d(t,"logicalNot",(function(){return C.hg})),n.d(t,"logicalOr",(function(){return C.ig})),n.d(t,"logicalXor",(function(){return C.jg})),n.d(t,"lowerBound",(function(){return C.lg})),n.d(t,"matMul",(function(){return C.mg})),n.d(t,"max",(function(){return C.og})),n.d(t,"maxPool",(function(){return C.pg})),n.d(t,"maxPool3d",(function(){return C.qg})),n.d(t,"maxPoolWithArgmax",(function(){return C.rg})),n.d(t,"maximum",(function(){return C.sg})),n.d(t,"mean",(function(){return C.tg})),n.d(t,"meshgrid",(function(){return C.vg})),n.d(t,"min",(function(){return C.wg})),n.d(t,"minimum",(function(){return C.xg})),n.d(t,"mirrorPad",(function(){return C.yg})),n.d(t,"mod",(function(){return C.zg})),n.d(t,"moments",(function(){return C.Ag})),n.d(t,"mul",(function(){return C.Cg})),n.d(t,"multiRNNCell",(function(){return C.Dg})),n.d(t,"multinomial",(function(){return C.Eg})),n.d(t,"neg",(function(){return C.Fg})),n.d(t,"notEqual",(function(){return C.Ig})),n.d(t,"oneHot",(function(){return C.Jg})),n.d(t,"ones",(function(){return C.Kg})),n.d(t,"onesLike",(function(){return C.Lg})),n.d(t,"outerProduct",(function(){return C.Ng})),n.d(t,"pad",(function(){return C.Og})),n.d(t,"pad1d",(function(){return C.Pg})),n.d(t,"pad2d",(function(){return C.Qg})),n.d(t,"pad3d",(function(){return C.Rg})),n.d(t,"pad4d",(function(){return C.Sg})),n.d(t,"pool",(function(){return C.Tg})),n.d(t,"pow",(function(){return C.Ug})),n.d(t,"prelu",(function(){return C.Vg})),n.d(t,"print",(function(){return C.Wg})),n.d(t,"prod",(function(){return C.Xg})),n.d(t,"raggedGather",(function(){return C.Zg})),n.d(t,"raggedRange",(function(){return C.ah})),n.d(t,"raggedTensorToTensor",(function(){return C.bh})),n.d(t,"rand",(function(){return C.ch})),n.d(t,"randomGamma",(function(){return C.dh})),n.d(t,"randomNormal",(function(){return C.eh})),n.d(t,"randomStandardNormal",(function(){return C.fh})),n.d(t,"randomUniform",(function(){return C.gh})),n.d(t,"range",(function(){return C.hh})),n.d(t,"real",(function(){return C.jh})),n.d(t,"reciprocal",(function(){return C.kh})),n.d(t,"relu",(function(){return C.oh})),n.d(t,"relu6",(function(){return C.ph})),n.d(t,"reshape",(function(){return C.rh})),n.d(t,"reverse",(function(){return C.sh})),n.d(t,"reverse1d",(function(){return C.th})),n.d(t,"reverse2d",(function(){return C.uh})),n.d(t,"reverse3d",(function(){return C.vh})),n.d(t,"reverse4d",(function(){return C.wh})),n.d(t,"round",(function(){return C.yh})),n.d(t,"rsqrt",(function(){return C.zh})),n.d(t,"scalar",(function(){return C.Ah})),n.d(t,"selu",(function(){return C.Eh})),n.d(t,"separableConv2d",(function(){return C.Fh})),n.d(t,"setdiff1dAsync",(function(){return C.Jh})),n.d(t,"sigmoid",(function(){return C.Kh})),n.d(t,"sign",(function(){return C.Lh})),n.d(t,"sin",(function(){return C.Nh})),n.d(t,"sinh",(function(){return C.Oh})),n.d(t,"slice",(function(){return C.Ph})),n.d(t,"slice1d",(function(){return C.Qh})),n.d(t,"slice2d",(function(){return C.Rh})),n.d(t,"slice3d",(function(){return C.Sh})),n.d(t,"slice4d",(function(){return C.Th})),n.d(t,"softmax",(function(){return C.Vh})),n.d(t,"softplus",(function(){return C.Wh})),n.d(t,"spaceToBatchND",(function(){return C.Xh})),n.d(t,"fft",(function(){return C.sf})),n.d(t,"ifft",(function(){return C.Kf})),n.d(t,"irfft",(function(){return C.Pf})),n.d(t,"rfft",(function(){return C.xh})),n.d(t,"split",(function(){return C.bi})),n.d(t,"sqrt",(function(){return C.ci})),n.d(t,"square",(function(){return C.di})),n.d(t,"squaredDifference",(function(){return C.ei})),n.d(t,"squeeze",(function(){return C.fi})),n.d(t,"stack",(function(){return C.gi})),n.d(t,"step",(function(){return C.hi})),n.d(t,"stridedSlice",(function(){return C.ii})),n.d(t,"sub",(function(){return C.ki})),n.d(t,"sum",(function(){return C.li})),n.d(t,"tan",(function(){return C.ni})),n.d(t,"tanh",(function(){return C.oi})),n.d(t,"tensor",(function(){return C.pi})),n.d(t,"tensor1d",(function(){return C.qi})),n.d(t,"tensor2d",(function(){return C.ri})),n.d(t,"tensor3d",(function(){return C.si})),n.d(t,"tensor4d",(function(){return C.ti})),n.d(t,"tensor5d",(function(){return C.ui})),n.d(t,"tensor6d",(function(){return C.vi})),n.d(t,"tensorScatterUpdate",(function(){return C.wi})),n.d(t,"tile",(function(){return C.Ai})),n.d(t,"topk",(function(){return C.Ci})),n.d(t,"truncatedNormal",(function(){return C.Fi})),n.d(t,"unique",(function(){return C.Gi})),n.d(t,"unsortedSegmentSum",(function(){return C.Ji})),n.d(t,"unstack",(function(){return C.Ki})),n.d(t,"upperBound",(function(){return C.Mi})),n.d(t,"variable",(function(){return C.Qi})),n.d(t,"where",(function(){return C.Ti})),n.d(t,"whereAsync",(function(){return C.Ui})),n.d(t,"zeros",(function(){return C.Vi})),n.d(t,"zerosLike",(function(){return C.Wi})),n.d(t,"op",(function(){return C.Mg})),n.d(t,"OP_SCOPE_SUFFIX",(function(){return C.pc})),n.d(t,"image",(function(){return C.Mf})),n.d(t,"linalg",(function(){return C.Yf})),n.d(t,"losses",(function(){return C.kg})),n.d(t,"spectral",(function(){return C.ai})),n.d(t,"fused",(function(){return C.yf})),n.d(t,"signal",(function(){return C.Mh})),n.d(t,"sparse",(function(){return C.Yh})),n.d(t,"string",(function(){return C.ji})),n.d(t,"Reduction",(function(){return C.Jc})),n.d(t,"enableProdMode",(function(){return C.hf})),n.d(t,"enableDebugMode",(function(){return C.gf})),n.d(t,"disableDeprecationWarnings",(function(){return C.Xe})),n.d(t,"deprecationWarn",(function(){return C.Re})),n.d(t,"disposeVariables",(function(){return C.Ze})),n.d(t,"engine",(function(){return C.jf})),n.d(t,"memory",(function(){return C.ug})),n.d(t,"profile",(function(){return C.Yg})),n.d(t,"tidy",(function(){return C.zi})),n.d(t,"dispose",(function(){return C.Ye})),n.d(t,"keep",(function(){return C.Tf})),n.d(t,"time",(function(){return C.Bi})),n.d(t,"setBackend",(function(){return C.Hh})),n.d(t,"ready",(function(){return C.ih})),n.d(t,"getBackend",(function(){return C.Cf})),n.d(t,"removeBackend",(function(){return C.qh})),n.d(t,"findBackend",(function(){return C.uf})),n.d(t,"findBackendFactory",(function(){return C.vf})),n.d(t,"registerBackend",(function(){return C.lh})),n.d(t,"backend",(function(){return C.fe})),n.d(t,"setPlatform",(function(){return C.Ih})),n.d(t,"getKernel",(function(){return C.Ef})),n.d(t,"getGradient",(function(){return C.Df})),n.d(t,"getKernelsForBackend",(function(){return C.Ff})),n.d(t,"registerKernel",(function(){return C.nh})),n.d(t,"registerGradient",(function(){return C.mh})),n.d(t,"unregisterKernel",(function(){return C.Ii})),n.d(t,"unregisterGradient",(function(){return C.Hi})),n.d(t,"copyRegisteredKernels",(function(){return C.Je})),n.d(t,"customGrad",(function(){return C.Pe})),n.d(t,"grad",(function(){return C.Gf})),n.d(t,"grads",(function(){return C.Hf})),n.d(t,"valueAndGrad",(function(){return C.Oi})),n.d(t,"valueAndGrads",(function(){return C.Pi})),n.d(t,"variableGrads",(function(){return C.Ri})),n.d(t,"Environment",(function(){return C.gb})),n.d(t,"env",(function(){return C.kf})),n.d(t,"ENV",(function(){return C.cb})),n.d(t,"version_core",(function(){return C.Si})),n.d(t,"nextFrame",(function(){return C.Gg})),n.d(t,"browser",(function(){return C.se})),n.d(t,"io",(function(){return C.Of})),n.d(t,"math",(function(){return C.ng})),n.d(t,"serialization",(function(){return C.Gh})),n.d(t,"test_util",(function(){return C.yi})),n.d(t,"util",(function(){return C.Ni})),n.d(t,"backend_util",(function(){return C.ge})),n.d(t,"broadcast_util",(function(){return C.re})),n.d(t,"tensor_util",(function(){return C.xi})),n.d(t,"slice_util",(function(){return C.Uh})),n.d(t,"gather_util",(function(){return C.Bf})),n.d(t,"scatter_util",(function(){return C.Ch})),n.d(t,"device_util",(function(){return C.Ue})),n.d(t,"kernel_impls",(function(){return C.Uf})),n.d(t,"KernelBackend",(function(){return C.Fb})),n.d(t,"DataStorage",(function(){return C.S})),n.d(t,"Abs",(function(){return C.a})),n.d(t,"Acos",(function(){return C.b})),n.d(t,"Acosh",(function(){return C.c})),n.d(t,"Add",(function(){return C.h})),n.d(t,"AddN",(function(){return C.i})),n.d(t,"All",(function(){return C.j})),n.d(t,"Any",(function(){return C.k})),n.d(t,"ArgMax",(function(){return C.l})),n.d(t,"ArgMin",(function(){return C.m})),n.d(t,"Asin",(function(){return C.n})),n.d(t,"Asinh",(function(){return C.o})),n.d(t,"Atan",(function(){return C.p})),n.d(t,"Atanh",(function(){return C.r})),n.d(t,"Atan2",(function(){return C.q})),n.d(t,"AvgPool",(function(){return C.s})),n.d(t,"AvgPoolGrad",(function(){return C.v})),n.d(t,"AvgPool3D",(function(){return C.t})),n.d(t,"AvgPool3DGrad",(function(){return C.u})),n.d(t,"BatchMatMul",(function(){return C.w})),n.d(t,"BatchToSpaceND",(function(){return C.x})),n.d(t,"Bincount",(function(){return C.y})),n.d(t,"BroadcastTo",(function(){return C.A})),n.d(t,"BroadcastArgs",(function(){return C.z})),n.d(t,"Cast",(function(){return C.B})),n.d(t,"Ceil",(function(){return C.C})),n.d(t,"ClipByValue",(function(){return C.D})),n.d(t,"Complex",(function(){return C.E})),n.d(t,"ComplexAbs",(function(){return C.F})),n.d(t,"Concat",(function(){return C.G})),n.d(t,"Conv2D",(function(){return C.H})),n.d(t,"Conv2DBackpropFilter",(function(){return C.I})),n.d(t,"Conv2DBackpropInput",(function(){return C.J})),n.d(t,"Conv3D",(function(){return C.K})),n.d(t,"Conv3DBackpropFilterV2",(function(){return C.L})),n.d(t,"Conv3DBackpropInputV2",(function(){return C.M})),n.d(t,"Cos",(function(){return C.N})),n.d(t,"Cosh",(function(){return C.O})),n.d(t,"Cumprod",(function(){return C.Q})),n.d(t,"Cumsum",(function(){return C.R})),n.d(t,"CropAndResize",(function(){return C.P})),n.d(t,"DenseBincount",(function(){return C.T})),n.d(t,"DepthToSpace",(function(){return C.U})),n.d(t,"DepthwiseConv2dNative",(function(){return C.V})),n.d(t,"DepthwiseConv2dNativeBackpropFilter",(function(){return C.W})),n.d(t,"DepthwiseConv2dNativeBackpropInput",(function(){return C.X})),n.d(t,"Diag",(function(){return C.Y})),n.d(t,"Dilation2D",(function(){return C.Z})),n.d(t,"Dilation2DBackpropInput",(function(){return C.bb})),n.d(t,"Dilation2DBackpropFilter",(function(){return C.ab})),n.d(t,"RealDiv",(function(){return C.Hc})),n.d(t,"Einsum",(function(){return C.db})),n.d(t,"Elu",(function(){return C.eb})),n.d(t,"EluGrad",(function(){return C.fb})),n.d(t,"Erf",(function(){return C.ib})),n.d(t,"Equal",(function(){return C.hb})),n.d(t,"Exp",(function(){return C.jb})),n.d(t,"ExpandDims",(function(){return C.kb})),n.d(t,"Expm1",(function(){return C.lb})),n.d(t,"FFT",(function(){return C.mb})),n.d(t,"Fill",(function(){return C.nb})),n.d(t,"FlipLeftRight",(function(){return C.ob})),n.d(t,"Floor",(function(){return C.pb})),n.d(t,"FloorDiv",(function(){return C.qb})),n.d(t,"FusedBatchNorm",(function(){return C.sb})),n.d(t,"GatherV2",(function(){return C.wb})),n.d(t,"GatherNd",(function(){return C.vb})),n.d(t,"Greater",(function(){return C.xb})),n.d(t,"GreaterEqual",(function(){return C.yb})),n.d(t,"Identity",(function(){return C.Ab})),n.d(t,"IFFT",(function(){return C.zb})),n.d(t,"Imag",(function(){return C.Bb})),n.d(t,"IsFinite",(function(){return C.Cb})),n.d(t,"IsInf",(function(){return C.Db})),n.d(t,"IsNan",(function(){return C.Eb})),n.d(t,"LeakyRelu",(function(){return C.Ib})),n.d(t,"Less",(function(){return C.Jb})),n.d(t,"LessEqual",(function(){return C.Kb})),n.d(t,"LinSpace",(function(){return C.Lb})),n.d(t,"Log",(function(){return C.Mb})),n.d(t,"Log1p",(function(){return C.Nb})),n.d(t,"LogicalAnd",(function(){return C.Pb})),n.d(t,"LogicalNot",(function(){return C.Qb})),n.d(t,"LogicalOr",(function(){return C.Rb})),n.d(t,"LogicalXor",(function(){return C.Sb})),n.d(t,"LogSoftmax",(function(){return C.Ob})),n.d(t,"LowerBound",(function(){return C.Tb})),n.d(t,"LRN",(function(){return C.Gb})),n.d(t,"LRNGrad",(function(){return C.Hb})),n.d(t,"MatrixBandPart",(function(){return C.Ub})),n.d(t,"Max",(function(){return C.Vb})),n.d(t,"Maximum",(function(){return C.bc})),n.d(t,"MaxPool",(function(){return C.Wb})),n.d(t,"MaxPoolGrad",(function(){return C.Zb})),n.d(t,"MaxPool3D",(function(){return C.Xb})),n.d(t,"MaxPool3DGrad",(function(){return C.Yb})),n.d(t,"MaxPoolWithArgmax",(function(){return C.ac})),n.d(t,"Mean",(function(){return C.cc})),n.d(t,"Min",(function(){return C.dc})),n.d(t,"Minimum",(function(){return C.ec})),n.d(t,"MirrorPad",(function(){return C.fc})),n.d(t,"Mod",(function(){return C.gc})),n.d(t,"Multinomial",(function(){return C.ic})),n.d(t,"Multiply",(function(){return C.jc})),n.d(t,"Neg",(function(){return C.kc})),n.d(t,"NotEqual",(function(){return C.oc})),n.d(t,"NonMaxSuppressionV3",(function(){return C.lc})),n.d(t,"NonMaxSuppressionV4",(function(){return C.mc})),n.d(t,"NonMaxSuppressionV5",(function(){return C.nc})),n.d(t,"OnesLike",(function(){return C.rc})),n.d(t,"OneHot",(function(){return C.qc})),n.d(t,"Pack",(function(){return C.uc})),n.d(t,"PadV2",(function(){return C.vc})),n.d(t,"Pool",(function(){return C.wc})),n.d(t,"Pow",(function(){return C.xc})),n.d(t,"Prelu",(function(){return C.yc})),n.d(t,"Prod",(function(){return C.zc})),n.d(t,"RaggedGather",(function(){return C.Bc})),n.d(t,"RaggedRange",(function(){return C.Cc})),n.d(t,"RaggedTensorToTensor",(function(){return C.Dc})),n.d(t,"Range",(function(){return C.Ec})),n.d(t,"Real",(function(){return C.Gc})),n.d(t,"Reciprocal",(function(){return C.Ic})),n.d(t,"Relu",(function(){return C.Kc})),n.d(t,"Reshape",(function(){return C.Mc})),n.d(t,"ResizeNearestNeighbor",(function(){return C.Pc})),n.d(t,"ResizeNearestNeighborGrad",(function(){return C.Qc})),n.d(t,"ResizeBilinear",(function(){return C.Nc})),n.d(t,"ResizeBilinearGrad",(function(){return C.Oc})),n.d(t,"Relu6",(function(){return C.Lc})),n.d(t,"Reverse",(function(){return C.Rc})),n.d(t,"Round",(function(){return C.Tc})),n.d(t,"Rsqrt",(function(){return C.Uc})),n.d(t,"ScatterNd",(function(){return C.Wc})),n.d(t,"TensorScatterUpdate",(function(){return C.Dd})),n.d(t,"SearchSorted",(function(){return C.Xc})),n.d(t,"Select",(function(){return C.Yc})),n.d(t,"Selu",(function(){return C.Zc})),n.d(t,"Slice",(function(){return C.ed})),n.d(t,"Sin",(function(){return C.cd})),n.d(t,"Sinh",(function(){return C.dd})),n.d(t,"Sign",(function(){return C.bd})),n.d(t,"Sigmoid",(function(){return C.ad})),n.d(t,"Softplus",(function(){return C.gd})),n.d(t,"Sqrt",(function(){return C.od})),n.d(t,"Sum",(function(){return C.yd})),n.d(t,"SpaceToBatchND",(function(){return C.hd})),n.d(t,"SplitV",(function(){return C.nd})),n.d(t,"Softmax",(function(){return C.fd})),n.d(t,"SparseFillEmptyRows",(function(){return C.id})),n.d(t,"SparseReshape",(function(){return C.jd})),n.d(t,"SparseSegmentMean",(function(){return C.kd})),n.d(t,"SparseSegmentSum",(function(){return C.ld})),n.d(t,"SparseToDense",(function(){return C.md})),n.d(t,"SquaredDifference",(function(){return C.qd})),n.d(t,"Square",(function(){return C.pd})),n.d(t,"StaticRegexReplace",(function(){return C.rd})),n.d(t,"StridedSlice",(function(){return C.td})),n.d(t,"StringNGrams",(function(){return C.ud})),n.d(t,"StringSplit",(function(){return C.vd})),n.d(t,"StringToHashBucketFast",(function(){return C.wd})),n.d(t,"Sub",(function(){return C.xd})),n.d(t,"Tan",(function(){return C.zd})),n.d(t,"Tanh",(function(){return C.Ad})),n.d(t,"Tile",(function(){return C.Ed})),n.d(t,"TopK",(function(){return C.Fd})),n.d(t,"Transform",(function(){return C.Gd})),n.d(t,"Transpose",(function(){return C.Hd})),n.d(t,"Unique",(function(){return C.Id})),n.d(t,"Unpack",(function(){return C.Jd})),n.d(t,"UnsortedSegmentSum",(function(){return C.Kd})),n.d(t,"UpperBound",(function(){return C.Ld})),n.d(t,"ZerosLike",(function(){return C.Nd})),n.d(t,"Step",(function(){return C.sd})),n.d(t,"FromPixels",(function(){return C.rb})),n.d(t,"RotateWithOffset",(function(){return C.Sc})),n.d(t,"_FusedMatMul",(function(){return C.Od})),n.d(t,"FusedConv2D",(function(){return C.tb})),n.d(t,"FusedDepthwiseConv2D",(function(){return C.ub})),n.d(t,"booleanMaskAsync",(function(){return C.oe})),n.d(t,"transpose",(function(){return C.Ei})),n.d(t,"norm",(function(){return C.Hg})),n.d(t,"movingAverage",(function(){return C.Bg})),n.d(t,"scatterND",(function(){return C.Bh})),n.d(t,"searchSorted",(function(){return C.Dh})),n.d(t,"sparseToDense",(function(){return C.Zh})),n.d(t,"gatherND",(function(){return C.Af})),n.d(t,"dropout",(function(){return C.df})),n.d(t,"enclosingPowerOfTwo",(function(){return C.if})),n.d(t,"cosineWindow",(function(){return C.Me})),n.d(t,"inTopKAsync",(function(){return C.Nf})),n.d(t,"train",(function(){return C.Di})),function(){var e=!0,t=!1,n=void 0;try{for(var r,a=S[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var i=r.value;Object(j.registerClass)(i)}}catch(T){t=!0,n=T}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}}()},function(e,t,n){"use strict";e.exports=n(585)},function(e,t,n){e.exports=n(605)},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n(9),a=n(0);function i(e,t,n,r,i){var s=t.inputParams[e];if(s&&void 0!==s.inputIndexStart){var u=s.inputIndexStart,c=0===s.inputIndexEnd?void 0:void 0===s.inputIndexEnd?u+1:s.inputIndexEnd,l=u<0?t.inputNames.length+u:u;if("tensor"===s.type)return o(t.inputNames[l],n,r,i);if("tensors"===s.type){var d=t.inputs.slice(u,c);return t.inputNames.slice(u,c).filter((function(e,t){var n;return"NoOp"!==(null===(n=d[t])||void 0===n?void 0:n.op)})).map((function(e){return o(e,n,r,i)}))}var p=o(t.inputNames[l],n,r,i),f=p.dataSync();return"number"===s.type?f[0]:a.util.toNestedArray(p.shape,f)}var h=t.attrParams[e];return h&&h.value}function o(e,t,n,a){var i=l(e,n),o=Object(r.a)(i,2),s=o[0],u=o[1];if(null!=a){var d=a.getHashTableHandleByName(s);if(null!=d)return d}var p=n.currentContextIds.find((function(e){return!!t[c(s,e)]}));return void 0!==p?t[c(s,p)][u]:void 0}function s(e,t,n){return t[c(e,n.currentContextId)]}function u(e,t){var n=l(e,t),a=Object(r.a)(n,3),i=a[0],o=a[1],s=a[2];return[c(i,t&&t.currentContextId),o,s]}function c(e,t){return t?"".concat(e,"-").concat(t):e}function l(e,t){if(""===e)return["",0,void 0];var n=null!=t&&null!=t.parseNodeNameCache;if(n){var r=t.parseNodeNameCache.get(e);if(null!=r)return r}var a,i=e.split(":");if(1===i.length)a=[e,0,void 0];else{var o=i[0],s=3===i.length?i[1]:void 0;a=[o,Number(i[i.length-1]),s]}return n&&t.parseNodeNameCache.set(e,a),a}function d(e,t,n){var r=i("pad",e,t,n);if("explicit"===r){r=i("explicitPaddings",e,t,n);for(var a=[[0,0],[0,0],[0,0],[0,0]],o=0;o<4;o++)a[o][0]=r[2*o],a[o][1]=r[2*o+1];return a}return r}function p(e){return e.kept?e:Object(a.clone)(e)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n(9),a=n(0);function i(e,t,n,r,i){var s=t.inputParams[e];if(s&&void 0!==s.inputIndexStart){var u=s.inputIndexStart,c=0===s.inputIndexEnd?void 0:void 0===s.inputIndexEnd?u+1:s.inputIndexEnd;if("tensor"===s.type)return o(t.inputNames[s.inputIndexStart],n,r,i);if("tensors"===s.type)return t.inputNames.slice(u,c).map((function(e){return o(e,n,r,i)}));var l=o(t.inputNames.slice(u)[0],n,r,i),d=l.dataSync();return"number"===s.type?d[0]:a.util.toNestedArray(l.shape,d)}var p=t.attrParams[e];return p&&p.value}function o(e,t,n,a){var i=l(e),o=Object(r.a)(i,2),s=o[0],u=o[1];if(null!=a){var d=a.getHashTableHandleByName(s);if(null!=d)return d}var p=n.currentContextIds.find((function(e){return!!t[c(s,e)]}));return void 0!==p?t[c(s,p)][u]:void 0}function s(e,t,n){return t[c(e,n.currentContextId)]}function u(e,t){var n=l(e),a=Object(r.a)(n,3),i=a[0],o=a[1],s=a[2];return[c(i,t&&t.currentContextId),o,s]}function c(e,t){return t?"".concat(e,"-").concat(t):e}function l(e){var t=e.split(":");if(1===t.length)return[e,0,void 0];var n=t[0],r=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),r]}function d(e,t,n){var r=i("pad",e,t,n);if("explicit"===r){r=i("explicitPaddings",e,t,n);for(var a=[[0,0],[0,0],[0,0],[0,0]],o=0;o<4;o++)a[o][0]=r[2*o],a[o][1]=r[2*o+1];return a}return r}function p(e){return e.kept?e:Object(a.clone)(e)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(12),a=n(40),i=n(15),o=n(84),s=n(24),u=n(21);function c(e,t){var n=e;if(Object(s.isTypedArray)(e))return"string"===t?[]:[e.length];if(Object(o.b)(e)){var r=e.channels||"RGBA";return[e.height,e.width*r.length]}if(Object(o.c)(e))return[e.buffer.size/(null==t?4:Object(u.g)(t))];if(!Array.isArray(e))return[];for(var i=[];Array.isArray(n)||Object(s.isTypedArray)(n)&&"string"!==t;)i.push(n.length),n=n[0];return Array.isArray(e)&&Object(a.c)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,n,r){if(r=r||[],!Array.isArray(t)&&!Object(s.isTypedArray)(t))return void Object(u.b)(0===n.length,(function(){return"Element arr[".concat(r.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(n[0]," elements")}));Object(u.b)(n.length>0,(function(){return"Element arr[".concat(r.join("]["),"] should be a primitive, ")+"but is an array of ".concat(t.length," elements")})),Object(u.b)(t.length===n[0],(function(){return"Element arr[".concat(r.join("]["),"] should have ").concat(n[0]," ")+"elements, but has ".concat(t.length," elements")}));for(var a=n.slice(1),i=0;i<t.length;++i)e(t[i],a,r.concat(i))}(e,i,[]),i}function l(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function d(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof i.a)return l(a,e.dtype,t,n),e;var o=Object(u.r)(e);if("string"!==o&&["bool","int32","float32"].indexOf(a)>=0&&(o=a),l(a,o,t,n),null==e||!Object(s.isTypedArray)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){var d=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(d,"'"))}var p=c(e,o);Object(s.isTypedArray)(e)||Array.isArray(e)||(e=[e]);var f="string"!==o?Object(s.toTypedArray)(e,o):Object(s.flatten)(e,[],!0);return r.a.makeTensor(f,p,o)}function p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");return e.map((function(e,a){return d(e,"".concat(t,"[").concat(a,"]"),n,r)}))}},function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){try{var s=e[i](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function s(e){r(o,a,i,s,u,"next",e)}function u(e){r(o,a,i,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return h})),n.d(t,"n",(function(){return m})),n.d(t,"m",(function(){return v})),n.d(t,"o",(function(){return b})),n.d(t,"r",(function(){return g})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return _})),n.d(t,"s",(function(){return x})),n.d(t,"t",(function(){return k})),n.d(t,"u",(function(){return w})),n.d(t,"w",(function(){return O})),n.d(t,"v",(function(){return j})),n.d(t,"x",(function(){return S})),n.d(t,"y",(function(){return C})),n.d(t,"z",(function(){return T})),n.d(t,"A",(function(){return N})),n.d(t,"B",(function(){return E})),n.d(t,"C",(function(){return I})),n.d(t,"D",(function(){return A})),n.d(t,"E",(function(){return R})),n.d(t,"F",(function(){return D})),n.d(t,"G",(function(){return M})),n.d(t,"H",(function(){return F})),n.d(t,"I",(function(){return L})),n.d(t,"J",(function(){return P})),n.d(t,"K",(function(){return z})),n.d(t,"M",(function(){return B})),n.d(t,"N",(function(){return V})),n.d(t,"L",(function(){return U})),n.d(t,"O",(function(){return W})),n.d(t,"P",(function(){return H})),n.d(t,"Q",(function(){return G})),n.d(t,"R",(function(){return $})),n.d(t,"S",(function(){return q})),n.d(t,"T",(function(){return K})),n.d(t,"U",(function(){return X})),n.d(t,"W",(function(){return Y})),n.d(t,"V",(function(){return Z})),n.d(t,"tc",(function(){return Q})),n.d(t,"X",(function(){return J})),n.d(t,"Y",(function(){return ee})),n.d(t,"Z",(function(){return te})),n.d(t,"bb",(function(){return ne})),n.d(t,"ab",(function(){return re})),n.d(t,"cb",(function(){return ae})),n.d(t,"db",(function(){return ie})),n.d(t,"eb",(function(){return oe})),n.d(t,"fb",(function(){return se})),n.d(t,"gb",(function(){return ue})),n.d(t,"hb",(function(){return ce})),n.d(t,"ib",(function(){return le})),n.d(t,"jb",(function(){return de})),n.d(t,"lb",(function(){return pe})),n.d(t,"pb",(function(){return fe})),n.d(t,"ob",(function(){return he})),n.d(t,"qb",(function(){return me})),n.d(t,"rb",(function(){return ve})),n.d(t,"tb",(function(){return be})),n.d(t,"sb",(function(){return ge})),n.d(t,"ub",(function(){return ye})),n.d(t,"vb",(function(){return _e})),n.d(t,"wb",(function(){return xe})),n.d(t,"xb",(function(){return ke})),n.d(t,"Ab",(function(){return we})),n.d(t,"Bb",(function(){return Oe})),n.d(t,"Cb",(function(){return je})),n.d(t,"Db",(function(){return Se})),n.d(t,"Eb",(function(){return Ce})),n.d(t,"Fb",(function(){return Te})),n.d(t,"Hb",(function(){return Ne})),n.d(t,"Ib",(function(){return Ee})),n.d(t,"Jb",(function(){return Ie})),n.d(t,"Kb",(function(){return Ae})),n.d(t,"Gb",(function(){return Re})),n.d(t,"Lb",(function(){return De})),n.d(t,"yb",(function(){return Me})),n.d(t,"zb",(function(){return Fe})),n.d(t,"Mb",(function(){return Le})),n.d(t,"Nb",(function(){return Pe})),n.d(t,"Tb",(function(){return ze})),n.d(t,"Ob",(function(){return Be})),n.d(t,"Rb",(function(){return Ve})),n.d(t,"Pb",(function(){return Ue})),n.d(t,"Qb",(function(){return We})),n.d(t,"Sb",(function(){return He})),n.d(t,"Ub",(function(){return Ge})),n.d(t,"Vb",(function(){return $e})),n.d(t,"Wb",(function(){return qe})),n.d(t,"Xb",(function(){return Ke})),n.d(t,"Yb",(function(){return Xe})),n.d(t,"Zb",(function(){return Ye})),n.d(t,"ac",(function(){return Ze})),n.d(t,"bc",(function(){return Qe})),n.d(t,"fc",(function(){return Je})),n.d(t,"cc",(function(){return et})),n.d(t,"dc",(function(){return tt})),n.d(t,"ec",(function(){return nt})),n.d(t,"hc",(function(){return rt})),n.d(t,"gc",(function(){return at})),n.d(t,"ic",(function(){return it})),n.d(t,"jc",(function(){return ot})),n.d(t,"kc",(function(){return st})),n.d(t,"lc",(function(){return ut})),n.d(t,"mc",(function(){return ct})),n.d(t,"nc",(function(){return lt})),n.d(t,"oc",(function(){return dt})),n.d(t,"pc",(function(){return pt})),n.d(t,"qc",(function(){return ft})),n.d(t,"rc",(function(){return ht})),n.d(t,"sc",(function(){return mt})),n.d(t,"uc",(function(){return vt})),n.d(t,"vc",(function(){return bt})),n.d(t,"xc",(function(){return gt})),n.d(t,"Ac",(function(){return yt})),n.d(t,"Bc",(function(){return _t})),n.d(t,"yc",(function(){return xt})),n.d(t,"zc",(function(){return kt})),n.d(t,"wc",(function(){return wt})),n.d(t,"Cc",(function(){return Ot})),n.d(t,"Ec",(function(){return jt})),n.d(t,"Fc",(function(){return St})),n.d(t,"Gc",(function(){return Ct})),n.d(t,"ld",(function(){return Tt})),n.d(t,"Hc",(function(){return Nt})),n.d(t,"Ic",(function(){return Et})),n.d(t,"Jc",(function(){return It})),n.d(t,"Oc",(function(){return At})),n.d(t,"Mc",(function(){return Rt})),n.d(t,"Nc",(function(){return Dt})),n.d(t,"Lc",(function(){return Mt})),n.d(t,"Kc",(function(){return Ft})),n.d(t,"Qc",(function(){return Lt})),n.d(t,"Yc",(function(){return Pt})),n.d(t,"id",(function(){return zt})),n.d(t,"Rc",(function(){return Bt})),n.d(t,"Xc",(function(){return Vt})),n.d(t,"Pc",(function(){return Ut})),n.d(t,"Sc",(function(){return Wt})),n.d(t,"Tc",(function(){return Ht})),n.d(t,"Uc",(function(){return Gt})),n.d(t,"Vc",(function(){return $t})),n.d(t,"Wc",(function(){return qt})),n.d(t,"ad",(function(){return Kt})),n.d(t,"Zc",(function(){return Xt})),n.d(t,"bd",(function(){return Yt})),n.d(t,"dd",(function(){return Zt})),n.d(t,"ed",(function(){return Qt})),n.d(t,"fd",(function(){return Jt})),n.d(t,"gd",(function(){return en})),n.d(t,"hd",(function(){return tn})),n.d(t,"jd",(function(){return nn})),n.d(t,"kd",(function(){return rn})),n.d(t,"md",(function(){return an})),n.d(t,"nd",(function(){return on})),n.d(t,"od",(function(){return sn})),n.d(t,"pd",(function(){return un})),n.d(t,"qd",(function(){return cn})),n.d(t,"rd",(function(){return ln})),n.d(t,"sd",(function(){return dn})),n.d(t,"td",(function(){return pn})),n.d(t,"ud",(function(){return fn})),n.d(t,"cd",(function(){return hn})),n.d(t,"kb",(function(){return mn})),n.d(t,"Dc",(function(){return vn})),n.d(t,"vd",(function(){return bn})),n.d(t,"mb",(function(){return gn})),n.d(t,"nb",(function(){return yn}));var r="Abs",a="Acos",i="Acosh",o="Add",s="AddN",u="All",c="Any",l="ArgMax",d="ArgMin",p="Asin",f="Asinh",h="Atan",m="Atanh",v="Atan2",b="AvgPool",g="AvgPoolGrad",y="AvgPool3D",_="AvgPool3DGrad",x="BatchMatMul",k="BatchToSpaceND",w="Bincount",O="BroadcastTo",j="BroadcastArgs",S="Cast",C="Ceil",T="ClipByValue",N="Complex",E="ComplexAbs",I="Concat",A="Conv2D",R="Conv2DBackpropFilter",D="Conv2DBackpropInput",M="Conv3D",F="Conv3DBackpropFilterV2",L="Conv3DBackpropInputV2",P="Cos",z="Cosh",B="Cumprod",V="Cumsum",U="CropAndResize",W="DenseBincount",H="DepthToSpace",G="DepthwiseConv2dNative",$="DepthwiseConv2dNativeBackpropFilter",q="DepthwiseConv2dNativeBackpropInput",K="Diag",X="Dilation2D",Y="Dilation2DBackpropInput",Z="Dilation2DBackpropFilter",Q="RealDiv",J="Einsum",ee="Elu",te="EluGrad",ne="Erf",re="Equal",ae="Exp",ie="ExpandDims",oe="Expm1",se="FFT",ue="Fill",ce="FlipLeftRight",le="Floor",de="FloorDiv",pe="FusedBatchNorm",fe="GatherV2",he="GatherNd",me="Greater",ve="GreaterEqual",be="Identity",ge="IFFT",ye="Imag",_e="IsFinite",xe="IsInf",ke="IsNan",we="LeakyRelu",Oe="Less",je="LessEqual",Se="LinSpace",Ce="Log",Te="Log1p",Ne="LogicalAnd",Ee="LogicalNot",Ie="LogicalOr",Ae="LogicalXor",Re="LogSoftmax",De="LowerBound",Me="LRN",Fe="LRNGrad",Le="MatrixBandPart",Pe="Max",ze="Maximum",Be="MaxPool",Ve="MaxPoolGrad",Ue="MaxPool3D",We="MaxPool3DGrad",He="MaxPoolWithArgmax",Ge="Mean",$e="Min",qe="Minimum",Ke="MirrorPad",Xe="Mod",Ye="Multinomial",Ze="Multiply",Qe="Neg",Je="NotEqual",et="NonMaxSuppressionV3",tt="NonMaxSuppressionV4",nt="NonMaxSuppressionV5",rt="OnesLike",at="OneHot",it="Pack",ot="PadV2",st="Pool",ut="Pow",ct="Prelu",lt="Prod",dt="RaggedGather",pt="RaggedRange",ft="RaggedTensorToTensor",ht="Range",mt="Real",vt="Reciprocal",bt="Relu",gt="Reshape",yt="ResizeNearestNeighbor",_t="ResizeNearestNeighborGrad",xt="ResizeBilinear",kt="ResizeBilinearGrad",wt="Relu6",Ot="Reverse",jt="Round",St="Rsqrt",Ct="ScatterNd",Tt="TensorScatterUpdate",Nt="SearchSorted",Et="Select",It="Selu",At="Slice",Rt="Sin",Dt="Sinh",Mt="Sign",Ft="Sigmoid",Lt="Softplus",Pt="Sqrt",zt="Sum",Bt="SpaceToBatchND",Vt="SplitV",Ut="Softmax",Wt="SparseFillEmptyRows",Ht="SparseReshape",Gt="SparseSegmentMean",$t="SparseSegmentSum",qt="SparseToDense",Kt="SquaredDifference",Xt="Square",Yt="StaticRegexReplace",Zt="StridedSlice",Qt="StringNGrams",Jt="StringSplit",en="StringToHashBucketFast",tn="Sub",nn="Tan",rn="Tanh",an="Tile",on="TopK",sn="Transform",un="Transpose",cn="Unique",ln="Unpack",dn="UnsortedSegmentSum",pn="UpperBound",fn="ZerosLike",hn="Step",mn="FromPixels",vn="RotateWithOffset",bn="_FusedMatMul",gn="FusedConv2D",yn="FusedDepthwiseConv2D"},function(e,t,n){"use strict";var r=n(268);var a=n(269);function i(e,t){return Object(r.a)(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(e,t)||Object(a.a)()}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(12),a=n(21),i="__op";function o(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));var n=t[0],o=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=i;var s=function(){r.a.startScope(n);try{var e=o.apply(void 0,arguments);return Object(a.x)(e)&&console.error("Cannot return a Promise inside of tidy."),r.a.endScope(e),e}catch(t){throw r.a.endScope(null),t}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";var r=n(18),a=n(2),i=n.n(a),o=n(7),s=n(4),u=n(11),c=n(213),l=n(40),d=n(165),p=n(8),f=n(96),h=n(114),m=n(24),v=n(21),b=function(){function e(t,n){Object(s.a)(this,e),this.backendTimer=t,this.logger=n,null==n&&(this.logger=new g)}return Object(u.a)(e,[{key:"profileKernel",value:function(e,t,n){var r,a,i=function(){r=n()},o=m.now();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(i);else{i();var s=!0,u=!1,c=void 0;try{for(var d,p=r[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){d.value.dataSync()}}catch(v){u=!0,c=v}finally{try{s||null==p.return||p.return()}finally{if(u)throw c}}a=Promise.resolve({kernelMs:m.now()-o})}if(Object(l.c)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var f=function(t){var n=r[t];n.data().then((function(t){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var a=e[r];if(isNaN(a)||!isFinite(a))return console.warn("Found ".concat(a," in the result of '").concat(n,"'")),!0}}(t,n.dtype,e)}))},h=0;h<r.length;h++)f(h);return{kernelName:e,outputs:r,inputs:t,timeMs:a.then((function(e){return e.kernelMs})),extraInfo:a.then((function(e){return null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""}))}}},{key:"logKernelProfile",value:function(e){var t=this,n=e.kernelName,r=e.outputs,a=e.timeMs,i=e.inputs,o=e.extraInfo;r.forEach((function(e){Promise.all([e.data(),a,o]).then((function(r){t.logger.logKernelProfile(n,e,r[0],r[1],i,r[2])}))}))}}]),e}();var g=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,[{key:"logKernelProfile",value:function(e,t,n,r,a,i){var o="number"===typeof r?v.K("".concat(r,"ms"),9):r.error,s=v.K(e,25),u=t.rank,c=t.size,l=v.K(t.shape.toString(),14),d="";for(var p in a){var f=a[p];if(null!=f){var h=f.shape||t.shape,m=h.length;d+="".concat(p,": ").concat(m,"D ").concat(m>0?h:""," ")}}console.log("%c".concat(s,"\t%c").concat(o,"\t%c").concat(u,"D ").concat(l,"\t%c").concat(c,"\t%c").concat(d,"\t%c").concat(i),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),e}();function y(e,t,n){for(var r={},a={},i=0;i<t.length;i++)r[t[i].id]=!0;for(var o=0;o<e.length;o++){var s=e[o],u=s.inputs;for(var c in u){for(var l=u[c],d=!1,p=0;p<t.length;p++)if(r[l.id]){s.outputs.forEach((function(e){return r[e.id]=!0})),d=!0,a[s.id]=!0;break}if(d)break}}var f={};f[n.id]=!0;for(var h={},m=e.length-1;m>=0;m--)for(var v=e[m],b=v.inputs,g=0;g<v.outputs.length;g++)if(f[v.outputs[g].id]){for(var y in b)f[b[y].id]=!0,h[v.id]=!0;break}for(var _=[],x=0;x<e.length;x++){var k=e[x];if(a[k.id]&&h[k.id]){var w={};for(var O in k.inputs){var j=k.inputs[O];r[j.id]&&(w[O]=j)}var S=Object.assign({},k);S.inputs=w,S.outputs=k.outputs,_.push(S)}}return _}function _(e,t,n,r){for(var a=function(a){var i=t[a],o=[];if(i.outputs.forEach((function(t){var n=e[t.id];null!=n?o.push(n):o.push(null)})),null==i.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(i.kernelName,"."));var s=i.gradient(o),u=function(t){if(!(t in s))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(s),"."));var a=n((function(){return s[t]()}));if("float32"!==a.dtype)throw new Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(a.dtype,"'"));var o=i.inputs[t];if(!v.a(a.shape,o.shape))throw new Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(a.shape,"', which does not match ")+"the shape of the input '".concat(o.shape,"'"));if(null==e[o.id])e[o.id]=a;else{var u=e[o.id];e[o.id]=r(u,a),u.dispose()}};for(var c in i.inputs)u(c)},i=t.length-1;i>=0;i--)a(i)}var x=n(15),k=n(43);function w(e){return null!=e.kernelName}n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return T}));var O=function(){function e(){Object(s.a)(this,e),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((function(e){return e.name}))))}}}return Object(u.a)(e,[{key:"dispose",value:function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()}}]),e}(),j=function(){function e(t){Object(s.a)(this,e),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new O}return Object(u.a)(e,[{key:"ready",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.pendingBackendInit){e.next=2;break}return e.abrupt("return",this.pendingBackendInit.then((function(){})));case 2:if(null==this.backendInstance){e.next=4;break}return e.abrupt("return");case 4:t=this.getSortedBackends(),n=0;case 6:if(!(n<t.length)){e.next=18;break}return r=t[n],e.next=10,this.initializeBackend(r).success;case 10:if(!e.sent){e.next=15;break}return e.next=14,this.setBackend(r);case 14:return e.abrupt("return");case 15:n++,e.next=6;break;case 18:throw new Error("Could not initialize any backends, all backend initializations failed.");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]}},{key:"findBackendFactory",value:function(e){return e in this.registryFactory?this.registryFactory[e].factory:null}},{key:"registerBackend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(h.b("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}},{key:"setBackend",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.registryFactory[t]){e.next=2;break}throw new Error("Backend name '".concat(t,"' not found in registry"));case 2:if(this.backendName=t,null!=this.registry[t]){e.next=16;break}if(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,!n.asyncInit){e.next=12;break}return e.next=9,r;case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=r;case 13:if(e.t0){e.next=16;break}return e.abrupt("return",!1);case 16:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new b(this.backendInstance),e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupRegisteredKernels",value:function(){var e=this;Object(f.d)(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))}},{key:"disposeRegisteredKernels",value:function(e){var t=this;Object(f.d)(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))}},{key:"initializeBackend",value:function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{var r=n.factory();if(!r||r instanceof c.b||"function"!==typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};var a=++this.pendingBackendInitId,i=r.then((function(n){return!(a<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return!(a<t.pendingBackendInitId)&&(t.pendingBackendInit=null,h.b("Initialization of backend ".concat(e," failed")),h.b(n.stack||n.message),!1)}));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}catch(o){return h.b("Initialization of backend ".concat(e," failed")),h.b(o.stack||o.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))}},{key:"initializeBackendsAndReturnBest",value:function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),a=r.success,i=r.asyncInit;if(i||a)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),i=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(e,t){var n,r=this,a=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((function(){return r.startScope(a)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))}},{key:"scopedRun",value:function(e,t,n){e();try{var r=n();return t(),r}catch(a){throw t(),a}}},{key:"nextTensorId",value:function(){return e.nextTensorId++}},{key:"nextVariableId",value:function(){return e.nextVariableId++}},{key:"clone",value:function(e){var t=T.runKernel(p.tb,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){var t={x:e},n={dtype:"float32"};return T.runKernel(p.x,t,n)}}}),[],{}),t}},{key:"runKernel",value:function(e,t,n){if(null==this.backendName&&this.backend,!(null!=Object(f.c)(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(e,t,n){var r=this.backend.numDataIds(),a=0;n.forEach((function(e){a+="complex64"===e.dtype?3:1}));var i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-a-i;if(o>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(o," data ids) after running '").concat(e,"'"))}},{key:"runKernelFunc",value:function(e){var t,n,r,a=this,i=[],o=this.isTapeOn(),s=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var c=w(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(w(e)){var l=e.kernelName,d=e.inputs,p=e.attrs;null==this.backendName&&this.backend;var h=Object(f.c)(l,this.backendName);v.b(null!=h,(function(){return"Cannot find registered kernel '".concat(l,"' for backend '").concat(a.backendName,"'")})),n=function(){var e=a.backend.numDataIds();r=h.kernelFunc({inputs:d,attrs:p,backend:a.backend});var t=Array.isArray(r)?r:[r];a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(l,e,t);var n=t.map((function(e){return null!=e.rank?e:a.makeTensorFromTensorInfo(e)}));if(o){var s=a.getTensorsForGradient(l,d,n);i=a.saveTensorsForBackwardMode(s)}return n}}else{var m=e.forwardFunc,b=function(e){o&&(i=e.map((function(e){return a.keep(a.clone(e))})))};n=function(){var e=a.backend.numDataIds();r=a.tidy((function(){return m(a.backend,b)}));var t=Array.isArray(r)?r:[r];return a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(c,e,t),t}}var g,y=e.inputs,_=e.attrs,x=w(e)?null:e.backwardsFunc;return this.scopedRun((function(){return a.state.kernelDepth++}),(function(){return a.state.kernelDepth--}),(function(){a.ENV.getBool("DEBUG")||a.state.profiling?(g=a.profiler.profileKernel(c,y,(function(){return n()})),a.ENV.getBool("DEBUG")&&a.profiler.logKernelProfile(g),t=g.outputs):t=n()})),o&&this.addTapeNode(c,y,t,x,i,_),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(y).map((function(e){return null!=y[e]?y[e].shape:null})),outputShapes:t.map((function(e){return e.shape})),kernelTimeMs:g.timeMs,extraInfo:g.extraInfo}),Array.isArray(r)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(e){var t=this;return e.map((function(e){return t.keep(t.clone(e))}))}},{key:"getTensorsForGradient",value:function(e,t,n){var r=Object(f.b)(e);if(null!=r){var a,i=r.inputsToSave||[],o=r.outputsToSave||[];r.saveAllInputs?(v.b(Array.isArray(t),(function(){return"saveAllInputs is true, expected inputs to be an array."})),a=Object.keys(t).map((function(e){return t[e]}))):a=i.map((function(e){return t[e]}));var s=n.filter((function(e,t){return o[t]}));return a.concat(s)}return[]}},{key:"makeTensor",value:function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var a=e;"string"===n&&v.z(e[0])&&(a=e.map((function(e){return m.encodeString(e)})));var i=r.write(a,t,n),o=new x.a(t,n,i,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){var s=this.state.tensorInfo.get(i),u=Object(v.f)(a);this.state.numBytes+=u-s.bytes,s.bytes=u}return o}},{key:"makeTensorFromDataId",value:function(e,t,n,r){var a={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(a,r)}},{key:"makeTensorFromTensorInfo",value:function(e,t){var n=e.dataId,r=e.shape,a=e.dtype,i=new x.a(r,a,n,this.nextTensorId());return this.trackTensor(i,t),i}},{key:"makeVariable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));var a=new x.c(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error("Variable with name ".concat(a.name," was already registered"));return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}},{key:"trackTensor",value:function(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;var n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*v.g(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof x.c||this.track(e)}},{key:"incRef",value:function(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}},{key:"removeDataId",value:function(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(e){if(this.state.tensorInfo.has(e.dataId)){var t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){var n=e.size*v.g(e.dtype);this.state.numBytes-=n}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}},{key:"memory",value:function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}},{key:"profile",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n,a,o,s,u,c,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.profiling=!0,n=this.state.numBytes,a=this.state.numTensors,this.state.activeProfile.kernels=[],e.next=6,t();case 6:this.state.activeProfile.result=e.sent,this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,Object(r.a)(this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot})))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-a,o=!0,s=!1,u=void 0,e.prev=14,c=this.state.activeProfile.kernels[Symbol.iterator]();case 16:if(o=(l=c.next()).done){e.next=27;break}return d=l.value,e.next=20,d.kernelTimeMs;case 20:return d.kernelTimeMs=e.sent,e.next=23,d.extraInfo;case 23:d.extraInfo=e.sent;case 24:o=!0,e.next=16;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(14),s=!0,u=e.t0;case 33:e.prev=33,e.prev=34,o||null==c.return||c.return();case 36:if(e.prev=36,!s){e.next=39;break}throw u;case 39:return e.finish(36);case 40:return e.finish(33);case 41:return e.abrupt("return",this.state.activeProfile);case 42:case"end":return e.stop()}}),e,this,[[14,29,33,41],[34,,36,40]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(e,t,n,r,a,i){var o=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},u=Object(f.b)(e);null!=u&&(r=u.gradFunc),null!=r&&(s.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],a=v.E(r.size,r.dtype);return o.makeTensor(a,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],a,i)}),this.state.activeTape.push(s)}},{key:"keep",value:function(e){return e.kept=!0,e}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(e){for(var t=this,n=Object(k.getTensorsInContainer)(e),r=new Set(n.map((function(e){return e.id}))),a=0;a<this.state.activeScope.track.length;a++){var i=this.state.activeScope.track[a];i.kept||r.has(i.id)||i.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==o.id||t.track(e)}))}},{key:"gradients",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(v.b(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));var i=this.scopedRun((function(){return r.startTape()}),(function(){return r.endTape()}),(function(){return r.tidy("forward",e)}));v.b(i instanceof x.a,(function(){return"The result y returned by f() must be a tensor."}));var o=y(this.state.activeTape,t,i);if(!a&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e={};e[i.id]=null==n?S(i.shape):n,_(e,o,(function(e){return r.tidy(e)}),N);var a=t.map((function(t){return e[t.id]}));return 0===r.state.gradientDepth&&(r.state.activeTape.forEach((function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=e.saved[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){a.value.dispose()}}catch(o){n=!0,r=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}})),r.state.activeTape=null),{value:i,grads:a}}))}},{key:"customGrad",value:function(e){var t=this;return v.b(v.u(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i;v.b(r.every((function(e){return e instanceof x.a})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var o={};r.forEach((function(e,t){o[t]=e}));var s=function(t,n){return i=e.apply(void 0,[].concat(r,[n])),v.b(i.value instanceof x.a,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),v.b(v.u(i.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),i.value},u=function(e,t){var n=i.gradFunc(e,t),a=Array.isArray(n)?n:[n];v.b(a.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),v.b(a.every((function(e){return e instanceof x.a})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var o={};return a.forEach((function(e,t){o[t]=function(){return e}})),o};return t.runKernelFunc({forwardFunc:s,backwardsFunc:u,inputs:o})}}},{key:"readSync",value:function(e){return this.state.tensorInfo.get(e).backend.readSync(e)}},{key:"read",value:function(e){return this.state.tensorInfo.get(e).backend.read(e)}},{key:"readToGPU",value:function(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}},{key:"time",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(m.now)(),e.next=3,this.backend.time(t);case 3:return(r=e.sent).wallMs=Object(m.now)()-n,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"track",value:function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}},{key:"reset",value:function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new O,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '".concat(t,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}}]),e}();function S(e){var t=Object(v.C)(Object(v.N)(e),"float32");return T.makeTensor(t,e,"float32")}function C(){var e=Object(d.b)();if(null==e._tfengine){var t=new l.b(e);e._tfengine=new j(t)}return Object(l.d)(e._tfengine.ENV),Object(x.g)((function(){return e._tfengine})),e._tfengine}j.nextTensorId=0,j.nextVariableId=0;var T=C();function N(e,t){var n={a:e,b:t};return T.runKernel(p.d,n)}},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),a=r&&!!window.addEventListener;var i={supported:!1,name:"animationend"},o={supported:!1,name:"transitionend"};r&&("undefined"!==typeof AnimationEvent?i.supported=!0:"undefined"!==typeof WebKitAnimationEvent&&(i.supported=!0,i.name="webkitAnimationEnd"),"undefined"!==typeof TransitionEvent?o.supported=!0:"undefined"!==typeof WebKitTransitionEvent&&(o.supported=!0,o.name="webkitTransitionEnd"));var s=n(61),u=n.n(s);var c=function(){};if(a)try{var l=Object.defineProperty({},"passive",{get:function(){!0}});window.addEventListener("test",c,l),window.removeEventListener("test",c,l)}catch(Fu){}!function(){if(!r)return!1;var e=!1;try{document.createElement("div").scrollTo({top:0,get behavior(){return e=!0,"smooth"}})}catch(Fu){}}();var d=n(82),p=n.n(d);var f=n(27),h=n.n(f);String.fromCodePoint,String.prototype.codePointAt;String.fromCharCode(65533);var m=n(52),v=n.n(m);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var g={parse:function(e){if("string"!==typeof e)return{};if(!(e=e.trim().replace(/^[?#&]/,"")))return{};var t=/\?(.+)$/gi.exec(e);return(t?t[1]:e).split("&").reduce((function(e,t){var n=t.split("=");return n[1]&&(e[n[0]]=decodeURIComponent(n[1])),e}),{})},stringify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==u()(e)||null===e)return"";t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({encode:!0},t);var n=function(e){return t.encode?encodeURIComponent(e):String(e)};return Object.keys(e).reduce((function(r,a){var i=e[a];return void 0===i?r:null===i?(t.skipNull||r.push([n(a),""].join("=")),r):Array.isArray(i)?(i.map((function(e){r.push("".concat(n(a),"[]=").concat(n(e)))})).join(),r):(r.push([n(a),n(i)].join("=")),r)}),[]).join("&")}};var y=n(201),_=n.n(y),x=n(202),k=n.n(x);function w(e){e||(e=r?navigator.userAgent.toLowerCase():"");var t=function(e){if(!r)return!1;var t=!/ipad|iphone|ipod/.test(e);if(/mac os/.test(e)&&t&&"boolean"===typeof navigator.standalone)return!0;return!1}(e),n=t||-1!==e.indexOf("ipad"),a=!n&&-1!==e.search(/iphone|ipod/),i=a||n,o=i&&e.match(/OS ([\d_]+) like Mac OS X/i),s=0,u=0;t?(s=13,u=0):o&&(s=+(o=o[1].split("_"))[0],u=+o[1]),o=null;var c=s<13&&!(11===s&&u<3),l=i&&function(e){if(!r)return!1;var t=window.webkit;if(t&&t.messageHandlers)return!0;var n=/constructor/i.test(String(window.HTMLElement)),a=!!window.indexedDB;if(-1===e.indexOf("safari")||-1===e.indexOf("version")||navigator.standalone){if(!a&&n||!window.statusbar||!window.statusbar.visible);else if(!n||a)return!0}else;return!1}(e),d=!1;return r&&(d=i&&375===screen.width&&812===screen.height&&3===window.devicePixelRatio),{isIPad:n,isIPhone:a,isIOS:i,isIPadOS:t,iosMajor:s,iosMinor:u,isWKWebView:l,isScrollBasedViewport:c,isIPhoneX:d,isIOSChrome:-1!==e.search(/crios/i)}}var O,j,S=w(),C=(S.isIPad,S.isIPhone,S.isIOS),T=S.isIPadOS;S.iosMajor,S.iosMinor,S.isWKWebView,S.isScrollBasedViewport,S.isIPhoneX,S.isIOSChrome;if(r)if(C&&!T)O=!1,j=!1,!0,!0;else if("ontouchstart"in document||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0){var N=!/android|mobile|tablet/i.test(navigator.userAgent);O="function"===typeof window.matchMedia&&window.matchMedia("(pointer)").matches?matchMedia("(pointer: fine)").matches:N,j=O&&("function"===typeof window.matchMedia&&window.matchMedia("(hover)").matches?matchMedia("(hover: hover)").matches:N)}else O=!0,j=!0;else O=!1,!1,j=!1,!1;if(r){var E=Element.prototype;E.matches||(E.matches=E.matchesSelector||E.webkitMatchesSelector||E.mozMatchesSelector||E.msMatchesSelector),E.closest||(E.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;var a,i,o=0|t,s=Math.max(o>=0?o:r-Math.abs(o),0);for(;s<r;){if((a=n[s])===(i=e)||"number"===typeof a&&"number"===typeof i&&isNaN(a)&&isNaN(i))return!0;s++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],a=0;a<n;a++){var i=t[a];if(e.call(r,i,a,t))return i}}}),String.prototype.padStart||(String.prototype.padStart=function(e,t){return e>>=0,t=String(t||" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))});var I=n(23),A=n.n(I),R=n(25),D=n.n(R),M=n(1),F={_noConflict:!1,_isSet:!1,get noConflict(){return this._noConflict},set noConflict(e){this._isSet&&e!==this.noConflict&&setTimeout((function(){throw new Error("[vkui]: Single VKUI instance can not have different globalClassName settings")}),0),this._noConflict=e,this._isSet=!0}},L=/\b(?=[A-Z])/g,P={},z={};function B(e){var t=F.noConflict,n=t?P:z;if(n[e])return n[e];var r=e.replace(L,"vkui"),a=t||e===r?r:r+" "+e;return n[e]=a,a}function V(e){if("string"===typeof e)return B(e);for(var t="",n=0;n<e.length;n++){t+=(t?" ":"")+B(e[n])}return t}function U(e,t){var n=arguments;if(!t||!("vkuiClass"in t))return M.createElement.apply(void 0,n);var r=n.length,a=new Array(r);a[0]=n[0],a[1]=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&"vkuiClass"!==n&&(t[n]=e[n]);if(e.vkuiClass){var r=e.className,a=V(e.vkuiClass);t.className=r?r+" "+a:a}return t}(t);for(var i=2;i<r;i++)a[i]=n[i];return M.createElement.apply(null,a)}function W(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n)switch(u()(n)){case"string":e.push(n);break;case"object":for(var r in n)n[r]&&e.push(r);break;default:e.push("".concat(n))}}return e.length>1?e:e[0]||""}function H(){var e=W.apply(void 0,arguments);return"string"===typeof e?e:e.join(" ")}U.Fragment=M.Fragment;var G,$=Boolean(r&&window.__isVkuiTesting),q={supported:!1},K={supported:!1,name:null};r&&!$&&("undefined"!==typeof AnimationEvent?q.supported=!0:"undefined"!==typeof WebKitAnimationEvent&&(q.supported=!0),"undefined"!==typeof TransitionEvent?(K.supported=!0,K.name="transitionend"):"undefined"!==typeof WebKitTransitionEvent&&(K.supported=!0,K.name="webkitTransitionEnd")),function(e){e.IOS="ios",e.UNKNOWN=""}(G||(G={}));var X,Y={};function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(Y[e])return Y[e];var t=null,n=G.UNKNOWN,r=w(e),a=r.isIOS,i=r.iosMajor,o=r.iosMinor;a&&(n=G.IOS,t={major:i,minor:o});var s={userAgent:e,system:n,systemVersion:t};return Y[e]=s,s}!function(e){e.ANDROID="android",e.IOS="ios",e.VKCOM="vkcom"}(X||(X={}));var Q={desktop_web:X.VKCOM};var J=r?function(e){try{var t=g.parse(e).vk_platform;return"string"===typeof t&&t in Q?Q[t]:void 0}catch(Fu){return void console.warn(Fu)}}(location.search):void 0,ee=X.ANDROID,te=X.IOS,ne=X.VKCOM;function re(e){return J||(e||(e=Z()),"ios"===e.system?te:ee)}re();var ae=n(46),ie=n.n(ae),oe=function(e){return null!=e.clientX?e.clientX:e.changedTouches&&e.changedTouches[0].clientX},se=function(e){return null!=e.clientY?e.clientY:e.changedTouches&&e.changedTouches[0].clientY},ue=function(){return r&&"ontouchstart"in window};function ce(){return ue()?["touchstart","touchmove","touchend","touchcancel"]:["mousedown","mousemove","mouseup","mouseleave"]}function le(e,t,n,r){if(r||e<0)return e;var a=e*n;return a*t/(a+t)}var de=function(){return{window:r?window:void 0,document:r?document:void 0}},pe=M.createContext(de()),fe=function(){return M.useContext(pe)};function he(e){return function(t){var n=fe();return U(e,A()({},t,n))}}function me(e){e&&e.activeElement&&e.activeElement.blur()}function ve(e){return"function"===typeof e}function be(e){return void 0!==e&&!1!==e&&null!==e&&""!==e}function ge(e){return"string"===typeof e||"number"===typeof e}function ye(e,t){t&&("function"===typeof t?t(e):t.current=e)}function _e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null;return{get current(){return r},set current(e){r=e,t.forEach((function(t){return t&&ye(e,t)}))}}}var xe=function(){};function ke(e){var t="";return M.Children.map(e,(function(e){"string"===typeof e&&(t+=e)})),t}var we=function(e){return e.stopPropagation()};function Oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=M.useRef(null);return M.useMemo((function(){return{get current(){return r.current},set current(e){r.current=e,t.forEach((function(t){t&&ye(e,t)}))}}}),t)}var je=r?M.useLayoutEffect:M.useEffect;function Se(e,t,n){var a=M.useRef(t);je((function(){a.current=t}),[t]);var i=M.useCallback((function(e){return a.current&&a.current(e)}),[]),o=M.useRef(xe),s=M.useCallback((function(){o.current(),o.current=xe}),[]),u=M.useCallback((function(t){if(r&&(s(),t)){var a=ie()({},n);t.addEventListener(e,i,a),o.current=function(){return t.removeEventListener(e,i,a)}}}),[n,i,e,s]);return M.useEffect((function(){return s}),[s]),{add:u,remove:s}}var Ce=["onStart","onStartX","onStartY","onMove","onMoveX","onMoveY","onLeave","onEnter","onEnd","onEndX","onEndY","onClickCapture","usePointerHover","slideThreshold","useCapture","Component","getRootRef","noSlideClick","stopPropagation"],Te=function(e){var t=e.onStart,n=e.onStartX,r=e.onStartY,a=e.onMove,i=e.onMoveX,o=e.onMoveY,s=e.onLeave,u=e.onEnter,c=e.onEnd,l=e.onEndX,d=e.onEndY,p=e.onClickCapture,f=e.usePointerHover,h=e.slideThreshold,m=void 0===h?5:h,v=e.useCapture,b=void 0!==v&&v,g=e.Component,y=void 0===g?"div":g,_=e.getRootRef,x=e.noSlideClick,k=void 0!==x&&x,w=e.stopPropagation,O=void 0!==w&&w,j=D()(e,Ce),S=fe().document,C=M.useMemo(ce,[]),T=M.useRef(!1),N=M.useRef(null),E=function(e,t){O&&e.stopPropagation(),t.forEach((function(t){var n,r,a,i=Date.now()-(null!==(n=null===(r=N.current)||void 0===r?void 0:null===(a=r.startT)||void 0===a?void 0:a.getTime())&&void 0!==n?n:0);t&&t(ie()(ie()({},N.current),{},{duration:i,originalEvent:e}))}))},I=Se(f?"pointerenter":"mouseenter",u),R=Se(f?"pointerleave":"mouseleave",s),F=Se(C[0],(function(e){var a,i,o;N.current=(a=oe(e),i=se(e),{startX:a,startY:i,startT:new Date,duration:0,isPressed:!0,isY:!1,isX:!1,isSlideX:!1,isSlideY:!1,isSlide:!1,shiftX:0,shiftY:0,shiftXAbs:0,shiftYAbs:0}),E(e,[t,n,r]),(o=ue()?e.target:S)&&B.forEach((function(e){return e.add(o)}))}),{capture:b,passive:!1}),L=Oe(_);function P(e){var t,n=null!==(t=N.current)&&void 0!==t?t:{},r=n.isPressed,a=n.isSlide,i=n.isSlideX,o=n.isSlideY;r&&E(e,[c,o&&d,i&&l]),T.current=Boolean(a),N.current={},ue()&&s&&s(e),B.forEach((function(e){return e.remove()}))}je((function(){var e=L.current;e&&(I.add(e),R.add(e),F.add(e))}),[y]);var z={capture:b,passive:!1},B=[Se(C[1],(function(e){var t,n=null!==(t=N.current)&&void 0!==t?t:{},r=n.isPressed,s=n.isX,u=n.isY,c=n.startX,l=void 0===c?0:c,d=n.startY,p=void 0===d?0:d;if(r){var f,h=oe(e)-l,v=se(e)-p,b=Math.abs(h),g=Math.abs(v);if(e.touches&&e.touches.length>1)return P(e);if(!s&&!u){var y=b>=m&&b>g,_=g>=m&&g>b,x=y&&(!!i||!!a),k=_&&(!!o||!!a);Object.assign(N.current,{isY:_,isX:y,isSlideX:x,isSlideY:k,isSlide:x||k})}null!==(f=N.current)&&void 0!==f&&f.isSlide&&(Object.assign(N.current,{shiftX:h,shiftY:v,shiftXAbs:b,shiftYAbs:g}),E(e,[a,N.current.isSlideX&&i,N.current.isSlideY&&o]))}}),z),Se(C[2],P,z),Se(C[3],P,z)];return U(y,A()({},j,{onDragStart:function(e){var t=e.target;"A"!==t.tagName&&"IMG"!==t.tagName||e.preventDefault()},onClickCapture:function(e){if(!T.current)return p&&p(e);e.target.closest("a")&&e.preventDefault(),k?e.stopPropagation():p&&p(e),T.current=!1},ref:L}))};var Ne,Ee=n(26),Ie=n.n(Ee);!function(e){e.VKAPPS="vkapps",e.INTERNAL="internal"}(Ne||(Ne={}));var Ae=M.createContext({webviewType:Ne.VKAPPS,isWebView:Ie.a.isWebView(),transitionMotionEnabled:!0,platform:re(),hasNewTokens:!1}),Re=function(e,t,n){return Math.max(t,Math.min(e,n))};function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Math.pow(10,t);return Math.round(e*n)/n}function Me(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(e,t,n,r){if(null==r||r<=0)return Re(e,t,n);var a=("".concat(r).split(".")[1]||"").length,i=De(Math.round((e-t)/r)*r,a),o=De(Math.floor((n-t)/r)*r,a);return t+Re(i,0,o)}((e-t[0])/(t[1]-t[0])*(n[1]-n[0])+n[0],n[0],n[1],r.step)}var Fe,Le,Pe=function(e){Object.assign(e.style,{position:"",top:"",left:"",right:"",overflowY:"",overflowX:""})},ze=function(e){var t=e.document.documentElement.clientHeight-e.innerHeight;return e.pageYOffset-t},Be=M.createContext({getScroll:function(){return{x:0,y:0}},scrollTo:xe,isScrollLock:!1,enableScrollLock:xe,disableScrollLock:xe}),Ve=function(){return M.useContext(Be)},Ue=function(e){var t=e.children,n=fe(),r=n.window,a=n.document,i=M.useState(!1),o=h()(i,2),s=o[0],u=o[1],c=M.useRef(new Set),l=M.useCallback((function(){return{x:r.pageXOffset,y:ze(r)}}),[r]),d=M.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r.scrollTo(e?Re(e,0,a.body.scrollWidth-r.innerWidth):0,t?Re(t,0,a.body.scrollHeight-r.innerHeight):0)}),[a,r]),p=M.useCallback((function(){c.current.forEach((function(e){e()}));var e=r.pageYOffset,t=r.pageXOffset,n=r.innerWidth>a.documentElement.clientWidth?"scroll":"",i=r.innerHeight>a.documentElement.clientHeight?"scroll":"";Object.assign(a.body.style,{position:"fixed",top:"-".concat(e,"px"),left:"-".concat(t,"px"),right:"0",overflowY:n,overflowX:i}),u(!0)}),[a,r]),f=M.useCallback((function(){var e=a.body.style.top,t=a.body.style.left;Pe(a.body),r.scrollTo(-parseInt(t||"0"),-parseInt(e||"0")),u(!1)}),[a,r]),m=M.useMemo((function(){return{getScroll:l,scrollTo:d,isScrollLock:s,disableScrollLock:f,enableScrollLock:p,beforeScrollLockFnSetRef:c}}),[l,d,s,f,p]);return U(Be.Provider,{value:m},t)},We=function(e){var t=e.elRef,n=e.children,r=M.useState(!1),a=h()(r,2),i=a[0],o=a[1],s=M.useRef(new Set),u=M.useCallback((function(){var e,n,r,a;return{x:null!==(e=null===(n=t.current)||void 0===n?void 0:n.scrollLeft)&&void 0!==e?e:0,y:null!==(r=null===(a=t.current)||void 0===a?void 0:a.scrollTop)&&void 0!==r?r:0}}),[t]),c=M.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t.current;null===r||void 0===r||r.scrollTo(e?Re(e,0,r.scrollWidth-r.clientWidth):0,n?Re(n,0,r.scrollHeight-r.clientHeight):0)}),[t]),l=M.useCallback((function(){var e=t.current;if(e){s.current.forEach((function(e){e()}));var n=e.scrollTop,r=e.scrollLeft,a=e.scrollWidth>e.clientWidth?"scroll":"",i=e.scrollHeight>e.clientHeight?"scroll":"";Object.assign(e.style,{position:"absolute",top:"-".concat(n,"px"),left:"-".concat(r,"px"),right:"0",overflowY:a,overflowX:i}),o(!0)}}),[t]),d=M.useCallback((function(){var e=t.current;if(e){var n=e.style.top,r=e.style.left;Pe(e),e.scrollTo(-parseInt(r||"0"),-parseInt(n||"0")),o(!1)}}),[t]),p=M.useMemo((function(){return{getScroll:u,scrollTo:c,isScrollLock:i,disableScrollLock:d,enableScrollLock:l,beforeScrollLockFnSetRef:s}}),[u,c,i,d,l]);return U(Be.Provider,{value:p},n)},He=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Ve(),n=t.enableScrollLock,r=t.disableScrollLock;je((function(){return e?(n(),r):xe}),[n,r,e])},Ge=["children","width","maxWidth","minWidth","spaced","animate","fixed","style"],$e=M.createContext({colRef:null,animate:!0}),qe=function(e){var t=e.children,n=e.width,r=e.maxWidth,a=e.minWidth,i=e.spaced,o=e.animate,s=void 0!==o&&o,u=e.fixed,c=e.style,l=D()(e,Ge),d=M.useRef(null),p=M.useRef(null),f=M.useMemo((function(){return{colRef:d,animate:s}}),[d,s]);return function(e,t){var n=M.useRef(xe),r=Ve(),a=r.isScrollLock,i=r.beforeScrollLockFnSetRef,o=M.useCallback((function(){n.current=e()}),t);M.useEffect((function(){var e=null===i||void 0===i?void 0:i.current;return e?(e.add(o),function(){e.delete(o)}):xe}),[i,o]),M.useEffect((function(){!a&&n.current&&n.current()}),[a])}((function(){var e=p.current;return e?(e.style.top="".concat(e.offsetTop,"px"),function(){e.style.top=""}):xe}),[p.current]),U("div",A()({},l,{style:ie()(ie()({},c),{},{width:n,maxWidth:r,minWidth:a}),ref:d,vkuiClass:W("SplitCol",i&&"SplitCol--spaced",u&&"SplitCol--fixed")}),U($e.Provider,{value:f},u?U("div",{ref:p,vkuiClass:"SplitCol__fixedInner"},t):t))},Ke=n(200),Xe=n.n(Ke),Ye=M.createContext({portalRoot:null});function Ze(e){var t={};return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn";t[n]||(console[r]("[VKUI/".concat(e,"] ").concat(n)),t[n]=!0)}}function Qe(e){var t=e.platform;switch(e.appearance){case"dark":switch(t){case ne:return Fe.VKCOM_DARK;default:return Fe.SPACE_GRAY}default:switch(t){case ne:return Fe.VKCOM_LIGHT;default:return Fe.BRIGHT_LIGHT}}}!function(e){e.DEPRECATED_CLIENT_LIGHT="client_light",e.DEPRECATED_CLIENT_DARK="client_dark",e.VKCOM="vkcom",e.BRIGHT_LIGHT="bright_light",e.SPACE_GRAY="space_gray",e.VKCOM_LIGHT="vkcom_light",e.VKCOM_DARK="vkcom_dark"}(Fe||(Fe={})),function(e){e.DARK="dark",e.LIGHT="light"}(Le||(Le={}));Ze("scheme");var Je=M.createContext(Le.LIGHT),et=M.createContext({platform:null,userAgent:"",browserInfo:void 0});function tt(){var e=M.useContext(et),t=M.useContext(Ae).platform;return e.platform||t}var nt=function(e,t){var n;switch(e){case X.ANDROID:n="vkBase";break;case X.IOS:n="vkIOS";break;case X.VKCOM:n="vkCom";break;default:n=e}return"vkui--".concat(n,"--").concat(t)},rt=function(e){var t=e.children,n=e.appearance,r=void 0===n?"light":n,a=tt(),i=Qe({platform:a,appearance:r});return U(Je.Provider,{value:r},M.Children.map(t,(function(e){return M.isValidElement(e)?M.cloneElement(e,{className:H(e.props.className,"vkui".concat(i),nt(a,r))}):e})))},at=function(e){var t,n=e.children,r=e.className,a=e.forcePortal,i=M.useContext(Ye),o=i.portalRoot,s=i.mode,u=i.disablePortal,c=M.useContext(Je);return a=null!==(t=a)&&void 0!==t?t:"full"!==s,!u&&o&&a?Object(Ke.createPortal)(U(rt,{appearance:c},U("div",{className:r},n)),o):U(M.Fragment,null,n)};function it(e){var t,n,r=M.useRef(e);return t=r.current,n=e,Object.keys(t).length===Object.keys(n).length&&Object.keys(t).every((function(e){return t[e]===n[e]}))||(r.current=e),r.current}var ot=M.createContext({entering:!1}),st=function(){return M.useContext(ot)},ut=function(e){var t=e.children,n=e.entering,r=it({entering:st().entering||n});return U(ot.Provider,{value:r},t)};function ct(e,t){return e.nav||e.id}var lt="input, textarea, [data-vkui-swipe-back=false]";var dt=function(){var e=M.useRef(null),t=fe().document,n=M.useRef(xe),r=M.useCallback((function(){n.current(),n.current=xe}),[]);return{waitTransitionFinish:M.useCallback((function(a,i,o){a&&(null!==t&&void 0!==t&&t.hidden||!K.supported||!K.name?(null!==e&&void 0!==e&&e.current&&clearTimeout(e.current),e.current=setTimeout(i,o)):(r(),a.addEventListener(K.name,i),n.current=function(){K.name&&a.removeEventListener(K.name,i)}))}),[t,r,e])}};function pt(e,t){var n=M.useRef({cb:e,duration:t});je((function(){n.current.cb=e,n.current.duration=t}),[e,t]);var a=M.useRef(),i=M.useCallback((function(){r&&null!==a&&void 0!==a&&a.current&&clearTimeout(a.current)}),[]),o=M.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.current.duration;i(),r&&(a.current=setTimeout((function(){var e=n.current.cb;"function"===typeof e&&e()}),e))}),[i]);return je((function(){return i}),[]),{set:o,clear:i}}function ft(e){var t=M.useRef();return M.useEffect((function(){t.current=e})),t.current}var ht,mt=["popout","modal","activePanel","history","nav","onTransition","onSwipeBack","onSwipeBackStart","onSwipeBackCancel","children"];!function(e){e[e.fail=1]="fail",e[e.success=2]="success"}(ht||(ht={}));var vt,bt,gt,yt={},_t=(Ze("View"),function(e){var t=e.popout,n=e.modal,a=e.activePanel,i=e.history,o=e.nav,s=e.onTransition,u=e.onSwipeBack,c=e.onSwipeBackStart,l=e.onSwipeBackCancel,d=e.children,p=D()(e,mt);var f=M.useRef(yt[ct({nav:o,id:p.id})]||{}),m=M.useRef(xe);M.useEffect((function(){return function(){var e=ct({nav:o,id:p.id});e&&(yt[e]=f.current)}}));var v=M.useRef({}),b=fe(),g=b.window,y=b.document,_=Ve(),x=M.useContext(Ae),k=M.useContext($e),w=tt(),O=M.useState(!1),j=h()(O,2),S=j[0],C=j[1],T=M.useState([a]),N=h()(T,2),E=N[0],I=N[1],R=M.useState(a),F=h()(R,2),L=F[0],P=F[1],z=M.useState(void 0),B=h()(z,2),V=B[0],H=B[1],G=M.useState(null),$=h()(G,2),K=$[0],X=$[1],Y=M.useState(null),Z=h()(Y,2),Q=Z[0],J=Z[1],ee=M.useState(!1),ne=h()(ee,2),re=ne[0],ae=ne[1],ie=M.useState(0),oe=h()(ie,2),se=oe[0],ue=oe[1],ce=M.useState(0),le=h()(ce,2),de=le[0],pe=le[1],he=M.useState(null),ve=h()(he,2),be=ve[0],ge=ve[1],ye=M.useState(null),_e=h()(ye,2),ke=_e[0],we=_e[1],Oe=M.useState(null),Se=h()(Oe,2),Ce=Se[0],Ne=Se[1],Ee=M.useState(!1),Ie=h()(Ee,2),Re=Ie[0],De=Ie[1],Me=ft(a),Fe=ft(re),Le=ft(Re),Pe=ft(Ce),ze=ft(ke),Be=ft(s),Ue=M.Children.toArray(d).filter((function(e){var t=ct(e.props);return void 0!==t&&E.includes(t)||t===ke||t===be})),We=!1===(null===x||void 0===x?void 0:x.transitionMotionEnabled)||!(null!==k&&void 0!==k&&k.animate),He=function(e){return null===e?null:v.current[e]},Ge=M.useCallback((function(e,t){t&&(f.current[e]=0),X(null),J(null),I([a]),P(a),C(!1),H(void 0),m.current=function(){null===_||void 0===_||_.scrollTo(0,t?f.current[a]:0),s&&s({isBack:t,from:e,to:a})}}),[a,s,_]);je((function(){m.current(),m.current=xe}),[m.current]);var qe=M.useCallback((function(e){e&&!["vkui-animation-ios-next-forward","vkui-animation-ios-prev-back","vkui-animation-view-next-forward","vkui-animation-view-prev-back"].includes(e.animationName)||null===K||Ge(K,Boolean(V))}),[Ge,V,K]),Ke=dt().waitTransitionFinish,Xe=pt(qe,w===te?600:300),Ye=M.useCallback((function(){u&&u()}),[u]),Ze=M.useCallback((function(){l&&l(),we(null),ge(null),ae(!1),Ne(null),ue(0),pe(0)}),[l]),Qe=M.useCallback((function(e){if(!e||null!==e&&void 0!==e&&e.propertyName.includes("transform")&&(null===e||void 0===e?void 0:e.target)===He(be))switch(Ce){case ht.fail:Ze();break;case ht.success:Ye()}}),[Ze,Ye,be,Ce]),Je=M.useCallback((function(e){if(re&&g){var t,n=de/e.duration*1e3;0===de?Ze():de>=(null!==(t=null===g||void 0===g?void 0:g.innerWidth)&&void 0!==t?t:0)?Ye():n>250||se+de>g.innerWidth/2?Ne(ht.success):Ne(ht.fail)}}),[Ze,Ye,de,se,re,g]),et=function(e){if(!r||!g)return{};var t=e===ke,n=e===be;if(!t&&!n||Ce)return{};var a="".concat(de,"px"),i="".concat(100*de/g.innerWidth/2-50,"%"),o=.3*(g.innerWidth-de)/g.innerWidth;return Ce?t?{boxShadow:"-2px 0 12px rgba(0, 0, 0, ".concat(o,")")}:{}:n?{transform:"translate3d(".concat(i,", 0, 0)"),WebkitTransform:"translate3d(".concat(i,", 0, 0)")}:t?{transform:"translate3d(".concat(a,", 0, 0)"),WebkitTransform:"translate3d(".concat(a,", 0, 0)"),boxShadow:"-2px 0 12px rgba(0, 0, 0, ".concat(o,")")}:{}};return M.useEffect((function(){t&&me(y)}),[y,t]),M.useEffect((function(){if(Me&&Me!==a&&!Fe&&!Le){var e=M.Children.toArray(d).map((function(e){return ct(e.props)})).find((function(e){return e===Me||e===a}))===a;f.current[Me]=null===_||void 0===_?void 0:_.getScroll().y,We?Ge(Me,e):(me(y),I([Me,a]),X(Me),J(a),P(null),C(!0),H(e),q.supported||Xe.set())}if(Me&&Me!==a&&Fe){var t=a,n=Me;ze&&(f.current[ze]=0),we(null),ge(null),ae(!1),Ne(null),ue(0),pe(0),P(t),I([t]),m.current=function(){null!==t&&(null===_||void 0===_||_.scrollTo(0,f.current[t])),Be&&Be({isBack:!0,from:n,to:t})}}!Fe&&re&&c&&c(),!Pe&&Ce&&Ke(He(be),Qe,w===te?600:300),Pe!==ht.fail||Ce||null===L||null===_||void 0===_||_.scrollTo(0,f.current[L]),Me!==a&&Re&&(De(!1),J(null),X(null),C(!1),I([a]),P(a))}),[a,L,Xe,Re,d,We,y,Ge,c,Ue,w,Me,Le,Be,ze,Pe,Fe,_,be,Ce,re,Qe,Ke]),U(Te,A()({Component:"section"},p,{vkuiClass:W("View",w===te&&"View--ios",!We&&S&&"View--animated",!We&&re&&"View--swiping-back",We&&"View--no-motion"),onMoveX:function(e){if(!function(e){var t,n=e.originalEvent.target;return Boolean(null===n||void 0===n?void 0:null===(t=n.closest)||void 0===t?void 0:t.call(n,lt))}(e)&&(w!==te||null!==x&&void 0!==x&&x.isWebView||!(e.startX<=70||e.startX>=g.innerWidth-70)||Re||De(!0),w===te&&null!==x&&void 0!==x&&x.isWebView&&u)){if(S&&e.startX<=70||!g)return;if(e.startX<=70&&!re&&i&&i.length>1&&(null!==L&&(me(y),f.current[L]=null===_||void 0===_?void 0:_.getScroll().y),ae(!0),ue(e.startX),we(L),ge(i.slice(-2)[0])),re){var t=0;t=e.shiftX<0?0:e.shiftX>g.innerWidth-se?null===g||void 0===g?void 0:g.innerWidth:e.shiftX,pe(t)}}},onEnd:Je}),U("div",{vkuiClass:"View__panels"},Ue.map((function(e){var t,n=ct(e.props),r=S&&n===(V?K:Q),a=n===K||n===ke||n===be||n===Q&&V;return U("div",{vkuiClass:W("View__panel",n===L&&"View__panel--active",n===K&&"View__panel--prev",n===Q&&"View__panel--next",n===ke&&"View__panel--swipe-back-prev",n===be&&"View__panel--swipe-back-next",Ce===ht.success&&"View__panel--swipe-back-success",Ce===ht.fail&&"View__panel--swipe-back-failed"),onAnimationEnd:r?qe:void 0,ref:function(e){return void 0!==n&&(v.current[n]=e)},style:et(n),key:n},U("div",{vkuiClass:"View__panel-in",style:{marginTop:a?-(null!==(t=f.current[n])&&void 0!==t?t:0):void 0}},U(ut,{entering:n===Q||n===be},e)))}))),U(at,null,!!t&&U("div",{vkuiClass:"View__popout"},t),!!n&&U("div",{vkuiClass:"View__modal"},n)))}),xt=["fixed"],kt=M.forwardRef((function(e,t){var n=e.fixed,r=void 0!==n&&n,a=D()(e,xt);return a["data-tooltip-container"]=r?"fixed":"true",U("div",A()({},a,{ref:t}))}));!function(e){e.COMPACT="compact",e.REGULAR="regular"}(vt||(vt={})),function(e){e[e.SMALL_MOBILE=1]="SMALL_MOBILE",e[e.MOBILE=2]="MOBILE",e[e.SMALL_TABLET=3]="SMALL_TABLET",e[e.TABLET=4]="TABLET",e[e.DESKTOP=5]="DESKTOP"}(bt||(bt={})),function(e){e[e.EXTRA_SMALL=1]="EXTRA_SMALL",e[e.SMALL=2]="SMALL",e[e.MEDIUM=3]="MEDIUM"}(gt||(gt={}));var wt=M.createContext({sizeX:vt.COMPACT,sizeY:vt.REGULAR,hasMouse:O,deviceHasHover:j,viewWidth:0,viewHeight:0});function Ot(e,t){return function(n){var r=M.useContext(wt),a=!1;(n.sizeX||n.sizeY)&&(a=!0);var i=n.sizeX||r.sizeX,o=n.sizeY||r.sizeY,s=r.viewWidth,u=r.viewHeight,c=r.hasMouse,l=r.deviceHasHover,d={};t.sizeX&&(d.sizeX=i),t.sizeY&&(d.sizeY=o),t.viewWidth&&(d.viewWidth=s),t.viewHeight&&(d.viewHeight=u),t.hasMouse&&(d.hasMouse=c),t.deviceHasHover&&(d.deviceHasHover=l);var p=U(e,A()({},n,d));return a?U(wt.Provider,{value:{sizeX:i,sizeY:o,viewWidth:s,viewHeight:u,hasMouse:c,deviceHasHover:l}},p):p}}var jt=["centered","children","getRootRef","sizeX","nav"],St=Ot((function(e){var t=e.centered,n=void 0!==t&&t,r=e.children,a=e.getRootRef,i=e.sizeX,o=(e.nav,D()(e,jt)),s=tt();return U("div",A()({},o,{ref:a,vkuiClass:W("Panel",s===te&&"Panel--ios",s===ne&&"Panel--vkcom","Panel--sizeX-".concat(i),n&&"Panel--centered")}),U(Te,{Component:kt,vkuiClass:"Panel__in"},s===te&&U("div",{vkuiClass:"Panel__fade"}),U("div",{vkuiClass:"Panel__in-before"}),n?U("div",{vkuiClass:"Panel__centered"},r):r,U("div",{vkuiClass:"Panel__in-after"})))}),{sizeX:!0});St.displayName="Panel";var Ct=M.createContext(!1);var Tt;!function(e){e.ENTER="Enter",e.SPACE="Space",e.TAB="Tab",e.ESCAPE="Escape",e.HOME="Home",e.END="End",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e.ARROW_DOWN="ArrowDown"}(Tt||(Tt={}));var Nt=[{code:Tt.ENTER,key:["Enter"],keyCode:13},{code:Tt.SPACE,key:["Space","Spacebar"," "],keyCode:32},{code:Tt.TAB,key:["Tab"],keyCode:9},{code:Tt.ESCAPE,key:["Escape"],keyCode:27},{code:Tt.HOME,key:["Home"],keyCode:36},{code:Tt.END,key:["End"],keyCode:35},{code:Tt.ARROW_LEFT,key:["ArrowLeft"],keyCode:37},{code:Tt.ARROW_RIGHT,key:["ArrowRight"],keyCode:39},{code:Tt.ARROW_DOWN,key:["ArrowDown"],keyCode:40}];function Et(e){var t;return(null===(t=Nt.find((function(t){var n=t.key,r=t.keyCode;return n.includes(e.key)||r===e.keyCode})))||void 0===t?void 0:t.code)||null}var It=function(e){var t=e.mode;return U("span",{"aria-hidden":"true",vkuiClass:W("FocusVisible","FocusVisible--".concat(t))})};function At(){var e=Object(M.useState)(!1),t=h()(e,2),n=t[0],r=t[1];return{focusVisible:Object(M.useContext)(Ye).keyboardInput&&n,onFocus:Object(M.useCallback)((function(e){e.stopPropagation(),r(!0)}),[r]),onBlur:Object(M.useCallback)((function(e){e.stopPropagation(),r(!1)}),[r])}}var Rt,Dt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.filter((function(e){return"function"===typeof e})).forEach((function(e){return e.apply(void 0,n)}))}},Mt=["children","Component","onClick","onKeyDown","activeEffectDelay","stopPropagation","getRootRef","sizeX","hasMouse","deviceHasHover","hasHover","hoverMode","hasActive","activeMode","focusVisibleMode","onEnter","onLeave"],Ft=225,Lt=70,Pt={all:Rt=Rt||new Map,on:function(e,t){var n=Rt.get(e);n?n.push(t):Rt.set(e,[t])},off:function(e,t){var n=Rt.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):Rt.set(e,[]))},emit:function(e,t){var n=Rt.get(e);n&&n.slice().map((function(e){e(t)})),(n=Rt.get("*"))&&n.slice().map((function(n){n(e,t)}))}},zt={none:0,pending:1,active:2,exiting:3},Bt=M.createContext({onHoverChange:xe});var Vt=Ot((function(e){var t=e.children,n=e.Component,r=e.onClick,a=e.onKeyDown,i=e.activeEffectDelay,o=void 0===i?600:i,s=e.stopPropagation,u=void 0!==s&&s,c=e.getRootRef,l=e.sizeX,d=e.hasMouse,f=e.deviceHasHover,m=e.hasHover,v=void 0===m||m,b=e.hoverMode,g=void 0===b?"background":b,y=e.hasActive,_=void 0===y||y,x=e.activeMode,k=void 0===x?"background":x,w=e.focusVisibleMode,O=void 0===w?"inside":w,j=e.onEnter,S=e.onLeave,C=D()(e,Mt);n=n||(C.href?"a":"div");var T=M.useContext(Bt).onHoverChange,N=M.useContext(Ct),E=tt(),I=At(),R=I.focusVisible,F=I.onBlur,L=I.onFocus,P=M.useState([]),z=h()(P,2),B=z[0],V=z[1],H=M.useState(!1),G=h()(H,2),$=G[0],q=G[1],K=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=M.useState(e),n=h()(t,2),r=n[0],a=n[1],i=M.useCallback((function(){a(!0)}),[]),o=M.useCallback((function(){a(!1)}),[]),s=M.useCallback((function(){a(!r)}),[r]);return{value:r,setTrue:i,setFalse:o,toggle:s}}(!1),X=K.value,Y=K.setTrue,Z=K.setFalse,Q=X&&!C.disabled,J=_&&!$&&!C.disabled,ne=f&&v&&!$,re="a"!==n&&"button"!==n&&"label"!==n&&!C.contentEditable,ae=["opacity","background"].includes(g),ie=["opacity","background"].includes(k),ue=["inside","outside"].includes(O),ce=function(e,t){var n=M.useMemo((function(){return Math.round(1e8*Math.random()).toString(16)}),[]),r=M.useState(zt.none),a=h()(r,2),i=a[0],o=a[1],s=function(){return o(zt.none)},u=function(){return e&&o(zt.active)},c=pt(u,Lt),l=pt(s,t);return je((function(){return i===zt.pending?(c.set(),c.clear):i===zt.exiting?l.clear:(i===zt.active&&Pt.emit("active",n),xe)}),[i]),je((function(){if(i===zt.none)return xe;var e=function(e){e!==n&&s()};return Pt.on("active",e),function(){return Pt.off("active",e)}}),[i===zt.none]),je((function(){!e&&s()}),[e]),[i,{delayStart:function(){e&&o(zt.pending)},start:u,stop:function(e){if(e)return o(zt.exiting),l.set(e);s()}}]}(J,o),le=h()(ce,2),de=le[0],pe=le[1],fe=pe.start,he=pe.stop,me=pe.delayStart,ve=de===zt.active||de===zt.exiting,be=Oe(c),ge=M.useRef({onHoverChange:q}).current;je((function(){return Q?(T(!0),function(){return T(!1)}):xe}),[Q]);var ye=E===ee&&!d&&J&&"background"===k,_e=pt((function(){return V([])}),Ft);var ke=W("Tappable",E===te&&"Tappable--ios","Tappable--sizeX-".concat(l),ne&&"Tappable--hasHover",J&&"Tappable--hasActive",ne&&Q&&!ae&&g,J&&ve&&!ie&&k,R&&!ue&&O,J&&ve&&"Tappable--active",d&&"Tappable--mouse",ne&&Q&&ae&&"Tappable--hover-".concat(g),J&&ve&&ie&&"Tappable--active-".concat(k),R&&"Tappable--focus-visible"),we={onStart:Dt((function(e){var t=e.originalEvent;if(J){if(t.touches&&t.touches.length>1)return he();if(ye){var n=function(e){var t=null===e||void 0===e?void 0:e.getBoundingClientRect();return{top:null===t||void 0===t?void 0:t.top,left:null===t||void 0===t?void 0:t.left,width:null===e||void 0===e?void 0:e.offsetWidth,height:null===e||void 0===e?void 0:e.offsetHeight}}(be.current),r=n.top,a=n.left;!function(e,t){var n=Date.now(),r=B.filter((function(e){return e.id+Ft>n}));V([].concat(p()(r),[{x:e,y:t,id:n}])),_e.set()}(oe(t)-(null!==a&&void 0!==a?a:0),se(t)-(null!==r&&void 0!==r?r:0))}me()}}),C.onStart),onMove:Dt((function(e){e.isSlide&&he()}),C.onMove),onEnd:Dt((function(e){var t=e.duration;if(de!==zt.none){de===zt.pending&&fe();var n=t-Lt;he(n>=100?0:o-n)}}),C.onEnd),onClick:r,onKeyDown:Dt((function(e){var t;re&&function(e){var t=e.target,n=t.tagName,r=t.getAttribute("role"),a=!0!==t.isContentEditable&&"INPUT"!==n&&"TEXTAREA"!==n&&("button"===r||"link"===r),i="A"===n&&t.hasAttribute("href"),o=Et(e);return a&&(o===Tt.SPACE&&"button"===r||o===Tt.ENTER&&!i)}(e)&&(e.preventDefault(),null===(t=be.current)||void 0===t||t.click())}),a)},Se=C.href?"link":"button";return U(Te,A()({onEnter:Dt(Y,j),onLeave:Dt(Z,S),type:"button"===n?"button":void 0,tabIndex:re&&!C.disabled?0:void 0,role:re?Se:void 0,"aria-disabled":re?C.disabled:void 0,stopPropagation:u&&!N&&!C.disabled},C,{slideThreshold:20,usePointerHover:!0,vkuiClass:ke,Component:n,getRootRef:be,onBlur:Dt(F,C.onBlur),onFocus:Dt(L,C.onFocus)},C.disabled?{}:we),U(Bt.Provider,{value:ge},t),ye&&U("span",{"aria-hidden":"true",vkuiClass:"Tappable__waves"},B.map((function(e){return U("span",{key:e.id,vkuiClass:"Tappable__wave",style:{top:e.y,left:e.x}})}))),ne&&"background"===g&&U("span",{"aria-hidden":"true",vkuiClass:"Tappable__hoverShadow"}),!C.disabled&&ue&&U(It,{mode:O}))}),{sizeX:!0,hasMouse:!0,deviceHasHover:!0});function Ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re();return"".concat(e," ").concat(e,"--").concat(t)}Vt.displayName="Tappable";var Wt=function(){return M.useContext(wt)},Ht=function(){var e=tt(),t=Wt(),n=t.viewWidth,r=t.viewHeight,a=t.hasMouse;return n>=bt.SMALL_TABLET&&(a||r>=gt.MEDIUM)||e===ne},Gt=["children","weight","Component","getRootRef"],$t=(Ze("Text"),function(e){var t=e.children,n=e.weight,r=e.Component,a=void 0===r?"span":r,i=e.getRootRef,o=D()(e,Gt);var s=Wt().sizeY;return U(a,A()({},o,{ref:i,vkuiClass:W("Text","Text--sizeY-".concat(s),n&&"Text--w-".concat(n))}),t)}),qt=["children","weight","level","Component"],Kt=(Ze("Title"),function(e){var t=e.children,n=e.weight,r=e.level,a=void 0===r?"1":r,i=e.Component,o=D()(e,qt);return i||(i="h"+a),U(i,A()({},o,{vkuiClass:W("Title","Title--l-".concat(a),n&&"Title--w-".concat(n))}),t)}),Xt=["children","primary","label"],Yt=function(e){var t=e.primary,n=e.children,r=tt();return r===te?U(Kt,{Component:"span",level:"3",weight:t?"1":"3"},n):U($t,{weight:r===ne?void 0:"2"},n)},Zt=(Ze("PanelHeaderButton"),function(e){var t,n,r=e.children,a=e.primary,i=void 0!==a&&a,o=e.label,s=D()(e,Xt),u=ge(r),c=ge(o),l=tt();switch(l){case ee:t="background",n="background";break;case te:t="background",n="opacity";break;case ne:t="PanelHeaderButton--hover",n="PanelHeaderButton--active"}return U(Vt,A()({},s,{hoverMode:t,Component:s.href?"a":"button",activeEffectDelay:200,activeMode:n,vkuiClass:W(Ut("PanelHeaderButton",l),i&&"PanelHeaderButton--primary",u&&"PanelHeaderButton--primitive",!u&&!c&&"PanelHeaderButton--notPrimitive")}),u?U(Yt,{primary:i},r):r,c?U(Yt,{primary:i},o):o)});function Qt(e,t,n,r){var a=Se(t,n,r);je((function(){n&&e?a.add(e):a.remove()}),[Boolean(n),Boolean(e)])}var Jt=["children","style","vertical","getRootRef","getRef","filled"],en=function(e){var t=e.children,n=e.style,r=e.vertical,a=e.getRootRef,i=e.getRef,o=e.filled,s=D()(e,Jt),u=tt(),c=M.useState(void 0),l=h()(c,2),d=l[0],p=l[1],f=fe().window,m=M.useContext($e).colRef,v=function(){return p(null!==m&&void 0!==m&&m.current?"".concat(m.current.offsetWidth,"px"):void 0)};return M.useEffect(v,[m,u]),Qt(f,"resize",v),U(kt,A()({},s,{fixed:!0,ref:a,vkuiClass:W("FixedLayout",u===te&&"FixedLayout--ios",o&&"FixedLayout--filled","FixedLayout--".concat(r)),style:ie()(ie()({},n),{},{width:d})}),U("div",{vkuiClass:"FixedLayout__in",ref:i},t))},tn=["wide","expanded"],nn=function(e){var t=e.wide,n=e.expanded,r=D()(e,tn);return U("div",A()({},r,{"aria-hidden":"true",vkuiClass:W("Separator",t&&"Separator--wide",!t&&"Separator--padded"),role:"separator"}),U("div",{vkuiClass:W("Separator__in",n&&"Separator__in--expanded")}))},rn=M.createContext({updateModalHeight:function(){},registerModal:function(){},isInsideModal:!1});function an(e,t){var n=M.useContext(rn),r=M.useRef({}).current;return je((function(){if(void 0!==e){n.registerModal(ie()(ie()({},r),{},{type:t,id:e}));var a=Object.keys(r).reduce((function(e,t){return ie()(ie()({},e),{},v()({},t,null))}),{type:t,id:e});return function(){return n.registerModal(a)}}}),[]),{refs:M.useRef({modalElement:function(e){return r.modalElement=e},innerElement:function(e){return r.innerElement=e},headerElement:function(e){return r.headerElement=e},contentElement:function(e){return r.contentElement=e}}).current}}var on=["size","separator","style"],sn=function(e){var t=e.size,n=void 0===t?8:t,r=e.separator,a=e.style,i=D()(e,on),o=ie()({height:n},a);return U("div",A()({},i,{"aria-hidden":"true",vkuiClass:W("Spacing",!!r&&"Spacing--separator",(!0===r||"center"===r)&&"Spacing--separator-center","top"===r&&"Spacing--separator-top","bottom"===r&&"Spacing--separator-bottom"),style:o}))},un=["before","left","after","right","children","separator","visor","transparent","shadow","getRef","getRootRef","sizeX","sizeY","fixed"],cn=function(e){var t=e.before,n=e.after,r=e.separator,a=e.children,i=M.useContext(Ae).webviewType,o=M.useContext(rn).isInsideModal,s=tt();return U(M.Fragment,null,U(kt,{fixed:!0,vkuiClass:"PanelHeader__in"},U("div",{vkuiClass:"PanelHeader__before"},t),U("div",{vkuiClass:"PanelHeader__content"},s===ne?U($t,{weight:"2"},a):U("span",{vkuiClass:"PanelHeader__content-in"},a)),U("div",{vkuiClass:"PanelHeader__after"},(i===Ne.INTERNAL||o)&&n)),r&&s===ne&&U(nn,{wide:!0}))},ln=(Ze("PanelHeader"),Ot((function(e){var t=e.before,n=e.left,r=e.after,a=e.right,i=e.children,o=e.separator,s=void 0===o||o,u=e.visor,c=void 0===u||u,l=e.transparent,d=void 0!==l&&l,p=e.shadow,f=e.getRef,h=e.getRootRef,m=e.sizeX,v=(e.sizeY,e.fixed),b=D()(e,un),g=tt(),y=M.useContext(Ae).webviewType,_=M.useContext(rn).isInsideModal,x=p&&m===vt.REGULAR,k=void 0!==v?v:g!==X.VKCOM,w=null!==t&&void 0!==t?t:n,O=null!==r&&void 0!==r?r:a;var j={before:w,after:O,separator:s,children:i};return U("div",A()({},b,{vkuiClass:W(Ut("PanelHeader",g),d&&"PanelHeader--trnsp",x&&"PanelHeader--shadow",c&&"PanelHeader--vis",s&&c&&"PanelHeader--sep",y===Ne.VKAPPS&&!_&&"PanelHeader--vkapps",!w&&"PanelHeader--no-before",!O&&"PanelHeader--no-after",k&&"PanelHeader--fixed","PanelHeader--sizeX-".concat(m)),ref:k?h:f}),k?U(en,{vkuiClass:"PanelHeader__fixed",vertical:"top",getRootRef:f},U(cn,j)):U(cn,j),s&&c&&g!==ne&&(m===vt.REGULAR?U(sn,{size:16}):U(nn,null)))}),{sizeX:!0,sizeY:!0}));ln.displayName="PanelHeader";var dn=["popout","modal","viewWidth","viewHeight","hasMouse","children","getRootRef"],pn=function(e){var t=e.popout,n=e.modal,r=(e.viewWidth,e.viewHeight,e.hasMouse,e.children),a=e.getRootRef,i=D()(e,dn),o=fe().document,s=Ht();return M.useEffect((function(){t&&me(o)}),[o,t]),U("div",A()({},i,{vkuiClass:"PopoutRoot",ref:a}),r,U(at,null,!!t&&U("div",{vkuiClass:s?"PopoutRoot--absolute":"PopoutRoot__popout"},t),!!n&&U("div",{vkuiClass:"PopoutRoot__modal"},n)))};pn.displayName="PopoutRoot";var fn=Ot(pn,{viewWidth:!0,viewHeight:!0,hasMouse:!0}),hn=["popout","modal","header","children","getRootRef","getRef"],mn=function(e){var t=e.popout,n=e.modal,r=e.header,a=e.children,i=e.getRootRef,o=e.getRef,s=D()(e,hn),u=tt();return U(fn,{vkuiClass:W("SplitLayout",u===te&&"SplitLayout--ios"),popout:t,modal:n,getRootRef:i},r,U("div",A()({},s,{ref:o,vkuiClass:W("SplitLayout__inner",!!r&&"SplitLayout__inner--header")}),a))},vn=n(19),bn=Object(vn.a)("Icon16ChevronLeft","chevron_left_16","0 0 12 16",'<symbol fill="none" viewBox="0 0 12 16" xmlns="http://www.w3.org/2000/svg" id="chevron_left_16"><path d="m4.773 8 3.363 3.364a.9.9 0 1 1-1.272 1.272l-4-4a.9.9 0 0 1 0-1.272l4-4a.9.9 0 1 1 1.272 1.272z" fill="currentColor" /></symbol>',12,16,!1,void 0),gn=Object(vn.a)("Icon16Chevron","chevron_16","0 0 12 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 16" id="chevron_16"><path fill="currentColor" d="M7.227 8 3.864 4.636a.9.9 0 0 1 1.272-1.272l4 4a.9.9 0 0 1 0 1.272l-4 4a.9.9 0 0 1-1.272-1.272L7.227 8Z" /></symbol>',12,16,!1,void 0),yn=Object(vn.a)("Icon24ChevronCompactLeft","chevron_compact_left_24","0 0 16 24",'<symbol fill="none" viewBox="0 0 16 24" xmlns="http://www.w3.org/2000/svg" id="chevron_compact_left_24"><path d="M11.293 7.706a1 1 0 0 0 0-1.412l-.088-.088a.997.997 0 0 0-1.414.002l-5.084 5.084a.998.998 0 0 0 0 1.416l5.084 5.084c.39.391 1.026.39 1.414.002l.088-.088a.995.995 0 0 0 0-1.412L7 12z" fill="currentColor" /></symbol>',16,24,!1,void 0),_n=Object(vn.a)("Icon24Chevron","chevron_24","0 0 16 24",'<symbol viewBox="0 0 16 24" xmlns="http://www.w3.org/2000/svg" id="chevron_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v24H0z" /><path d="M4.706 7.706a1 1 0 0 1 0-1.412l.088-.088a.997.997 0 0 1 1.414.002l5.084 5.084a.998.998 0 0 1 0 1.416l-5.084 5.084a1.002 1.002 0 0 1-1.414.002l-.088-.088a.995.995 0 0 1 0-1.412L9 12 4.706 7.706Z" fill="currentColor" /></g></symbol>',16,24,!1,void 0),xn=["size","direction","onClick"],kn=function(e){var t,n=e.size,r=void 0===n?"l":n,a=e.direction,i=e.onClick,o=D()(e,xn),s=tt();return t="m"===r?"left"===a?bn:gn:"left"===a?yn:_n,U(Vt,A()({},o,{Component:"button",hasHover:!1,hasActive:!1,vkuiClass:W("HorizontalScrollArrow","HorizontalScrollArrow--".concat(r),"HorizontalScrollArrow--".concat(a),s===te&&"HorizontalScrollArrow--ios"),onClick:i}),U("span",{vkuiClass:"HorizontalScrollArrow__icon"},U(t,null)))};var wn=["children","getScrollToLeft","getScrollToRight","showArrows","arrowSize","scrollAnimationDuration","hasMouse","getRef"];function On(){return performance&&performance.now?performance.now():Date.now()}var jn=function(e){return Math.ceil(e.scrollLeft)},Sn=250;function Cn(e){var t=e.scrollElement,n=e.getScrollPosition,r=e.animationQueue,a=e.onScrollToRightBorder,i=e.onScrollEnd,o=e.onScrollStart,s=e.initialScrollWidth,u=e.scrollAnimationDuration,c=void 0===u?Sn:u;if(t&&n){var l=s-t.offsetWidth,d=jn(t),p=n(d);o(),p>=l&&(a(),p=l);var f=On();!function e(){if(t){var n,a=On(),o=Math.min((a-f)/c,1),s=(n=o,.5*(1-Math.cos(Math.PI*n))),u=d+(p-d)*s;t.scrollLeft=Math.ceil(u),jn(t)===Math.max(0,p)||1===o?(i(),r.shift(),r.length>0&&r[0]()):requestAnimationFrame(e)}else i()}()}}var Tn=Ot((function(e){var t=e.children,n=e.getScrollToLeft,r=e.getScrollToRight,a=e.showArrows,i=void 0===a||a,o=e.arrowSize,s=void 0===o?"l":o,u=e.scrollAnimationDuration,c=void 0===u?Sn:u,l=e.hasMouse,d=e.getRef,p=D()(e,wn),f=M.useState(!1),m=h()(f,2),v=m[0],b=m[1],g=M.useState(!1),y=h()(g,2),_=y[0],x=y[1],k=M.useRef(!1),w=Oe(d),O=M.useRef([]),j=M.useCallback((function(e){var t=w.current;O.current.push((function(){var n;return Cn({scrollElement:t,getScrollPosition:e,animationQueue:O.current,onScrollToRightBorder:function(){return x(!1)},onScrollEnd:function(){return k.current=!1},onScrollStart:function(){return k.current=!0},initialScrollWidth:(null===t||void 0===t?void 0:null===(n=t.firstElementChild)||void 0===n?void 0:n.scrollWidth)||0,scrollAnimationDuration:c})})),1===O.current.length&&O.current[0]()}),[c,w]),S=M.useCallback((function(){j(null!==n&&void 0!==n?n:function(e){return e-w.current.offsetWidth})}),[n,j,w]),C=M.useCallback((function(){j(null!==r&&void 0!==r?r:function(e){return e+w.current.offsetWidth})}),[r,j,w]),T=M.useCallback((function(){if(i&&l&&w.current&&!k.current){var e=w.current;b(e.scrollLeft>0),x(jn(e)+e.offsetWidth<e.scrollWidth)}}),[l,w,i]),N=Se("scroll",T);return M.useEffect((function(){w.current&&N.add(w.current)}),[N,w]),M.useEffect(T,[w,t,T]),U("div",A()({},p,{vkuiClass:W("HorizontalScroll","always"===i&&"HorizontalScroll--withConstArrows")}),i&&l&&v&&U(kn,{size:s,direction:"left",vkuiClass:"HorizontalScroll__arrowLeft",onClick:S}),i&&l&&_&&U(kn,{size:s,direction:"right",vkuiClass:"HorizontalScroll__arrowRight",onClick:C}),U("div",{vkuiClass:"HorizontalScroll__in",ref:w},U("div",{vkuiClass:"HorizontalScroll__in-wrapper"},t)))}),{hasMouse:!0});Tn.displayName="HorizontalScroll";var Nn=["alignY","alignX","closing","hasMask","fixed","children","onClick"],En=function(e){var t=e.alignY,n=void 0===t?"center":t,r=e.alignX,a=void 0===r?"center":r,i=e.closing,o=void 0!==i&&i,s=e.hasMask,u=void 0===s||s,c=e.fixed,l=void 0===c||c,d=e.children,p=e.onClick,f=D()(e,Nn),m=tt(),v=M.useState(!u),b=h()(v,2),g=b[0],y=b[1],_=M.useRef(null),x=function(e){e&&"vkui-animation-full-fade-in"!==e.animationName||y(!0)},k=pt(x,m===te?300:200);return M.useEffect((function(){!g&&k.set()}),[k,g]),Qt(fe().window,"touchmove",(function(e){return e.preventDefault()}),{passive:!1}),U("div",A()({},f,{vkuiClass:W("PopoutWrapper","PopoutWrapper--v-".concat(n),"PopoutWrapper--h-".concat(a),o&&"PopoutWrapper--closing",g&&"PopoutWrapper--opened",l&&"PopoutWrapper--fixed",u&&"PopoutWrapper--masked"),onAnimationEnd:g?void 0:x,ref:_}),U("div",{vkuiClass:"PopoutWrapper__container"},U("div",{vkuiClass:"PopoutWrapper__overlay",onClick:p}),U("div",{vkuiClass:"PopoutWrapper__content"},d)))},In=["children","weight","Component"],An=(Ze("Subhead"),function(e){var t=e.children,n=e.weight,r=e.Component,a=void 0===r?"h5":r,i=D()(e,In),o=Wt().sizeY;return U(a,A()({},i,{vkuiClass:W("Subhead","Subhead--sizeY-".concat(o),n&&"Subhead--w-".concat(n))}),t)}),Rn=["children","weight","level","caps","Component"],Dn=(Ze("Caption"),function(e){var t=e.children,n=e.weight,r=e.level,a=void 0===r?"1":r,i=e.caps,o=e.Component,s=void 0===o?"span":o,u=D()(e,Rn);return U(s,A()({},u,{vkuiClass:W("Caption","Caption--l-".concat(a),i&&"Caption--caps",n&&"Caption--w-".concat(n))}),t)}),Mn=Object(vn.a)("Icon16Spinner","spinner_16","0 0 16 16",'<symbol fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" id="spinner_16"><path clip-rule="evenodd" d="M11.21 2.93a6 6 0 0 0-8.64 7.62 1 1 0 1 1-1.8.86A8 8 0 1 1 8 16a1 1 0 1 1 0-2 6 6 0 0 0 3.21-11.07z" fill="currentColor" fill-rule="evenodd" /></symbol>',16,16,!1,void 0),Fn=Object(vn.a)("Icon24Spinner","spinner_24","0 0 24 24",'<symbol fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="spinner_24"><path clip-rule="evenodd" d="M16.394 5.077A8.2 8.2 0 0 0 4.58 15.49a.9.9 0 0 1-1.628.767A10 10 0 1 1 12 22a.9.9 0 0 1 0-1.8 8.2 8.2 0 0 0 4.394-15.123z" fill="currentColor" fill-rule="evenodd" /></symbol>',24,24,!1,void 0),Ln=Object(vn.a)("Icon32Spinner","spinner_32","0 0 32 32",'<symbol viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" id="spinner_32"><path d="M16 32a1.5 1.5 0 0 1 0-3c7.18 0 13-5.82 13-13S23.18 3 16 3 3 8.82 3 16c0 1.557.273 3.074.8 4.502A1.5 1.5 0 1 1 .986 21.54 15.97 15.97 0 0 1 0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16Z" fill="currentColor" /></symbol>',32,32,!1,void 0),Pn=Object(vn.a)("Icon44Spinner","spinner_44","0 0 44 44",'<symbol viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg" id="spinner_44"><path d="M22 44a1.5 1.5 0 0 1 0-3c10.493 0 19-8.507 19-19S32.493 3 22 3 3 11.507 3 22c0 2.208.376 4.363 1.103 6.397a1.5 1.5 0 1 1-2.825 1.01A21.964 21.964 0 0 1 0 22C0 9.85 9.85 0 22 0s22 9.85 22 22-9.85 22-22 22Z" fill="currentColor" /></symbol>',44,44,!1,void 0),zn=["size","aria-label"],Bn=M.memo((function(e){var t=e.size,n=void 0===t?"regular":t,r=e["aria-label"],a=void 0===r?"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f...":r,i=D()(e,zn),o={small:Mn,regular:Fn,medium:Ln,large:Pn}[n];return U("span",A()({role:"status","aria-label":a},i,{vkuiClass:"Spinner"}),U(o,{"aria-hidden":"true",vkuiClass:"Spinner__self"}))}));Bn.displayName="Spinner";var Vn=["children","weight","level","Component","getRootRef"],Un=(Ze("Headline"),function(e){var t=e.children,n=e.weight,r=void 0===n?"3":n,a=e.level,i=void 0===a?"1":a,o=e.Component,s=void 0===o?"h3":o,u=e.getRootRef,c=D()(e,Vn),l=tt(),d=Wt().sizeY;return U(s,A()({},c,{ref:u,vkuiClass:W(Ut("Headline",l),"Headline--sizeY-".concat(d),"Headline--l-".concat(i),"Headline--w-".concat(r))}),t)}),Wn=["size","sizeY","platform"],Hn=["size","mode","appearance","stretched","align","children","before","after","getRootRef","sizeY","Component","loading","onClick","stopPropagation"],Gn=function(e){var t=e.size,n=e.sizeY,r=e.platform,a=D()(e,Wn),i=n===vt.COMPACT;switch(t){case"l":return i?U($t,A()({weight:"2"},a)):r===ee?U(Un,A()({weight:"2"},a)):U(Kt,A()({level:"3",weight:"2"},a));case"m":return i?U(An,A()({weight:r===ne?"3":"2"},a)):U($t,A()({weight:"2"},a));case"s":default:return r===te?U(An,A()({weight:"2"},a)):r===ne?U(Dn,a):U(i?Dn:An,A()({weight:"2"},a))}};var $n=Ot((function(e){var t=e.size,n=void 0===t?"s":t,r=e.mode,a=void 0===r?"primary":r,i=e.appearance,o=e.stretched,s=void 0!==o&&o,u=e.align,c=void 0===u?"center":u,l=e.children,d=e.before,p=e.after,f=e.getRootRef,h=e.sizeY,m=e.Component,v=void 0===m?"button":m,b=e.loading,g=e.onClick,y=e.stopPropagation,_=void 0===y||y,x=D()(e,Hn),k=tt(),w=Boolean(d||p),O=!l&&Boolean(p)!==Boolean(d),j=function(e,t){var n=e,r=t;if(void 0===e)switch(t){case"tertiary":case"secondary":case"primary":case"outline":n="accent";break;case"commerce":r="primary",n="positive";break;case"destructive":r="primary",n="negative";break;case"overlay_primary":r="primary",n="overlay";break;case"overlay_secondary":r="secondary",n="overlay";break;case"overlay_outline":r="outline",n="overlay"}return{resolvedAppearance:n,resolvedMode:r}}(i,a),S=j.resolvedMode,C=j.resolvedAppearance,T=M.useContext(Ae).hasNewTokens;return U(Vt,A()({hoverMode:T?"Button--hover":"background",activeMode:T?"Button--active":"opacity"},x,{Component:x.href?"a":v,onClick:b?void 0:g,focusVisibleMode:"outside",stopPropagation:_,vkuiClass:W("Button","Button--sz-".concat(n),"Button--lvl-".concat(S),"Button--clr-".concat(C),"Button--aln-".concat(c),"Button--sizeY-".concat(h),s&&"Button--stretched",w&&"Button--with-icon",O&&"Button--singleIcon",b&&"Button--loading"),getRootRef:f}),b&&U(Bn,{size:"small",vkuiClass:"Button__spinner"}),U("span",{vkuiClass:"Button__in"},d&&U("span",{vkuiClass:"Button__before",role:"presentation"},d),l&&U(Gn,{size:n,sizeY:h,platform:k,vkuiClass:"Button__content",Component:"span"},l),p&&U("span",{vkuiClass:"Button__after",role:"presentation"},p)))}),{sizeY:!0});$n.displayName="Button";var qn=Object(vn.a)("Icon20Cancel","cancel_20","0 0 20 20",'<symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="cancel_20"><path clip-rule="evenodd" d="M4.72 4.72a.75.75 0 0 1 1.06 0L10 8.94l4.22-4.22a.75.75 0 1 1 1.06 1.06L11.06 10l4.22 4.22a.75.75 0 1 1-1.06 1.06L10 11.06l-4.22 4.22a.75.75 0 0 1-1.06-1.06L8.94 10 4.72 5.78a.75.75 0 0 1 0-1.06z" fill="currentColor" fill-rule="evenodd" /></symbol>',20,20,!1,void 0),Kn=["aria-label"],Xn=function(e){var t=e["aria-label"],n=void 0===t?"\u0417\u0430\u043a\u0440\u044b\u0442\u044c":t,r=D()(e,Kn);return U(Vt,A()({vkuiClass:"ModalDismissButton"},r,{"aria-label":n,activeMode:"ModalDismissButton--active",hoverMode:"ModalDismissButton--hover"}),U(qn,null))},Yn=["Component","onClose","restoreFocus","timeout","getRootRef","children"],Zn=["a[href]","area[href]",'input:not([disabled]):not([hidden]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([hidden]):not([aria-hidden])","textarea:not([disabled])","button:not([disabled])","iframe","audio","video","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(),Qn=function(e){var t=e.Component,n=void 0===t?"div":t,r=e.onClose,a=e.restoreFocus,i=void 0===a||a,o=e.timeout,s=void 0===o?0:o,u=e.getRootRef,c=e.children,l=D()(e,Yn),d=Oe(u),p=fe(),f=p.document,m=p.window,v=M.useState(null),b=h()(v,2),g=b[0],y=b[1],_=M.useState(null),x=h()(_,2),k=x[0],w=x[1],O=M.useContext(Ye).keyboardInput,j=pt((function(){var e;!O||null!==(e=d.current)&&void 0!==e&&e.contains(f.activeElement)||null===g||void 0===g||!g.length||g[0].focus()}),s);je((function(){j.set()}),[]),je((function(){if(d.current){var e=[];Array.prototype.forEach.call(d.current.querySelectorAll(Zn),(function(t){var n=m.getComputedStyle(t),r=n.display,a=n.visibility;"none"!==r&&"hidden"!==a&&e.push(t)})),0===e.length&&e.push(d.current),y(e)}}),[c]);var S=pt((function(){k&&k.focus()}),s);je((function(){if(i&&f.activeElement)return w(f.activeElement),function(){S.set()}}),[i]);return Qt(f,"keydown",(function(e){if(Et(e)===Tt.TAB&&null!==g&&void 0!==g&&g.length){var t=g.length-1,n=g.findIndex((function(t){return t===e.target})),a=-1===n||n===t&&!e.shiftKey;if(a||0===n&&e.shiftKey){e.preventDefault();var i=g[a?0:t];return i!==f.activeElement&&i.focus(),!1}}return r&&Et(e)===Tt.ESCAPE&&r(),!0}),{capture:!0}),U(n,A()({tabIndex:-1,ref:d},l),c)},Jn=["action","onItemClick"],er=["actions","actionsLayout","children","className","style","text","header","onClose","dismissLabel"],tr=function(e){switch(tt()){case te:return U(Kt,A()({vkuiClass:"Alert__header",weight:"1",level:"3"},e));default:return U(Kt,A()({vkuiClass:"Alert__header",weight:"2",level:"2"},e))}},nr=function(e){switch(tt()){case ne:return U(Dn,A()({vkuiClass:"Alert__text"},e));case te:return U(Dn,A()({vkuiClass:"Alert__text",level:"2"},e));default:return U($t,A()({Component:"span",vkuiClass:"Alert__text",weight:"3"},e))}},rr=function(e){var t=e.action,n=e.onItemClick,r=D()(e,Jn),a=tt(),i=Wt().viewWidth,o=M.useCallback((function(){return n(t)}),[n,t]);if(a===te){var s=t.Component,u=void 0===s?"button":s;return U(Vt,A()({Component:t.href?"a":u,vkuiClass:W("Alert__action","Alert__action--".concat(t.mode)),onClick:o,href:t.href,target:t.target},r),t.title)}var c="tertiary";return i===bt.DESKTOP&&"destructive"===t.mode&&(c="destructive"),a===ne&&(c="cancel"===t.mode?"secondary":"primary"),U($n,{vkuiClass:W("Alert__button","Alert__button--".concat(t.mode)),mode:c,size:"m",onClick:o,Component:t.Component,href:t.href,target:t.target},t.title)},ar=function(e){var t=e.actions,n=void 0===t?[]:t,r=e.actionsLayout,a=void 0===r?"horizontal":r,i=e.children,o=e.className,s=e.style,u=e.text,c=e.header,l=e.onClose,d=e.dismissLabel,p=void 0===d?"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435":d,f=D()(e,er),m=tt(),v=Wt().viewWidth,b=dt().waitTransitionFinish,g=M.useState(!1),y=h()(g,2),_=y[0],x=y[1],k=M.useRef(null),w=m===ne?"horizontal":a,O=m!==te&&v>=bt.SMALL_TABLET,j=v>=bt.SMALL_TABLET,S=m===te?300:200,C=M.useCallback((function(){x(!0),b(k.current,(function(e){e&&"opacity"!==e.propertyName||l&&l()}),S)}),[k,b,l,S]),T=M.useCallback((function(e){var t=e.action;e.autoclose?(x(!0),b(k.current,(function(e){e&&"opacity"!==e.propertyName||(l&&l(),t&&t())}),S)):t&&t()}),[k,b,l,S]);return He(),U(En,{className:o,closing:_,style:s,onClick:C},U(Qn,A()({},f,{getRootRef:k,onClick:we,onClose:C,timeout:S,vkuiClass:W("Alert",m===te&&"Alert--ios",m===ne&&"Alert--vkcom","vertical"===w?"Alert--v":"Alert--h",_&&"Alert--closing",j&&"Alert--desktop"),role:"alertdialog","aria-modal":!0,"aria-labelledby":"vkui--alert--title","aria-describedby":"vkui--alert--desc"}),U("div",{vkuiClass:"Alert__content"},be(c)&&U(tr,{id:"vkui--alert--title"},c),be(u)&&U(nr,{id:"vkui--alert--desc"},u),i),U("div",{vkuiClass:"Alert__actions"},n.map((function(e,t){return U(rr,{key:t,action:e,onItemClick:T})}))),O&&U(Xn,{onClick:C,"aria-label":p})))},ir=xe,or=function(e){return"object"===u()(e)&&null!==e&&e.hasOwnProperty("current")};function sr(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ur(e){return e instanceof sr(e).Element||e instanceof Element}function cr(e){return e instanceof sr(e).HTMLElement||e instanceof HTMLElement}function lr(e){return"undefined"!==typeof ShadowRoot&&(e instanceof sr(e).ShadowRoot||e instanceof ShadowRoot)}var dr=Math.round;function pr(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,a=1;if(cr(e)&&t){var i=e.offsetHeight,o=e.offsetWidth;o>0&&(r=n.width/o||1),i>0&&(a=n.height/i||1)}return{width:dr(n.width/r),height:dr(n.height/a),top:dr(n.top/a),right:dr(n.right/r),bottom:dr(n.bottom/a),left:dr(n.left/r),x:dr(n.left/r),y:dr(n.top/a)}}function fr(e){var t=sr(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function hr(e){return e?(e.nodeName||"").toLowerCase():null}function mr(e){return((ur(e)?e.ownerDocument:e.document)||window.document).documentElement}function vr(e){return pr(mr(e)).left+fr(e).scrollLeft}function br(e){return sr(e).getComputedStyle(e)}function gr(e){var t=br(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function yr(e,t,n){void 0===n&&(n=!1);var r=cr(t),a=cr(t)&&function(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return 1!==n||1!==r}(t),i=mr(t),o=pr(e,a),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==hr(t)||gr(i))&&(s=function(e){return e!==sr(e)&&cr(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:fr(e);var t}(t)),cr(t)?((u=pr(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):i&&(u.x=vr(i))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function _r(e){var t=pr(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function xr(e){return"html"===hr(e)?e:e.assignedSlot||e.parentNode||(lr(e)?e.host:null)||mr(e)}function kr(e,t){var n;void 0===t&&(t=[]);var r=function e(t){return["html","body","#document"].indexOf(hr(t))>=0?t.ownerDocument.body:cr(t)&&gr(t)?t:e(xr(t))}(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),i=sr(r),o=a?[i].concat(i.visualViewport||[],gr(r)?r:[]):r,s=t.concat(o);return a?s:s.concat(kr(xr(o)))}function wr(e){return["table","td","th"].indexOf(hr(e))>=0}function Or(e){return cr(e)&&"fixed"!==br(e).position?e.offsetParent:null}function jr(e){for(var t=sr(e),n=Or(e);n&&wr(n)&&"static"===br(n).position;)n=Or(n);return n&&("html"===hr(n)||"body"===hr(n)&&"static"===br(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&cr(e)&&"fixed"===br(e).position)return null;for(var n=xr(e);cr(n)&&["html","body"].indexOf(hr(n))<0;){var r=br(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var Sr="top",Cr="bottom",Tr="right",Nr="left",Er="auto",Ir=[Sr,Cr,Tr,Nr],Ar="start",Rr="end",Dr="clippingParents",Mr="viewport",Fr="popper",Lr="reference",Pr=Ir.reduce((function(e,t){return e.concat([t+"-"+Ar,t+"-"+Rr])}),[]),zr=[].concat(Ir,[Er]).reduce((function(e,t){return e.concat([t,t+"-"+Ar,t+"-"+Rr])}),[]),Br=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Vr(e){var t=new Map,n=new Set,r=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||function e(a){n.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach((function(r){if(!n.has(r)){var a=t.get(r);a&&e(a)}})),r.push(a)}(e)})),r}function Ur(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Wr={placement:"bottom",modifiers:[],strategy:"absolute"};function Hr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Gr(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,i=void 0===a?Wr:a;return function(e,t,n){void 0===n&&(n=i);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Wr,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,u={state:a,setOptions:function(n){var s="function"===typeof n?n(a.options):n;c(),a.options=Object.assign({},i,a.options,s),a.scrollParents={reference:ur(e)?kr(e):e.contextElement?kr(e.contextElement):[],popper:kr(t)};var l=function(e){var t=Vr(e);return Br.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,a.options.modifiers)));return a.orderedModifiers=l.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var s=i({state:a,name:t,instance:u,options:r});o.push(s||function(){})}})),u.update()},forceUpdate:function(){if(!s){var e=a.elements,t=e.reference,n=e.popper;if(Hr(t,n)){a.rects={reference:yr(t,jr(n),"fixed"===a.options.strategy),popper:_r(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var i=a.orderedModifiers[r],o=i.fn,c=i.options,l=void 0===c?{}:c,d=i.name;"function"===typeof o&&(a=o({state:a,options:l,name:d,instance:u})||a)}else a.reset=!1,r=-1}}},update:Ur((function(){return new Promise((function(e){u.forceUpdate(),e(a)}))})),destroy:function(){c(),s=!0}};if(!Hr(e,t))return u;function c(){o.forEach((function(e){return e()})),o=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var $r={passive:!0};var qr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=void 0===a||a,o=r.resize,s=void 0===o||o,u=sr(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,$r)})),s&&u.addEventListener("resize",n.update,$r),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,$r)})),s&&u.removeEventListener("resize",n.update,$r)}},data:{}};function Kr(e){return e.split("-")[0]}function Xr(e){return e.split("-")[1]}function Yr(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Zr(e){var t,n=e.reference,r=e.element,a=e.placement,i=a?Kr(a):null,o=a?Xr(a):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(i){case Sr:t={x:s,y:n.y-r.height};break;case Cr:t={x:s,y:n.y+n.height};break;case Tr:t={x:n.x+n.width,y:u};break;case Nr:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=i?Yr(i):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case Ar:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Rr:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}var Qr={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Zr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Jr=Math.max,ea=Math.min,ta=Math.round,na={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ra(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,d=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:ta(ta(t*r)/r)||0,y:ta(ta(n*r)/r)||0}}(o):"function"===typeof l?l(o):o,p=d.x,f=void 0===p?0:p,h=d.y,m=void 0===h?0:h,v=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),g=Nr,y=Sr,_=window;if(c){var x=jr(n),k="clientHeight",w="clientWidth";x===sr(n)&&"static"!==br(x=mr(n)).position&&"absolute"===s&&(k="scrollHeight",w="scrollWidth"),x=x,a!==Sr&&(a!==Nr&&a!==Tr||i!==Rr)||(y=Cr,m-=x[k]-r.height,m*=u?1:-1),a!==Nr&&(a!==Sr&&a!==Cr||i!==Rr)||(g=Tr,f-=x[w]-r.width,f*=u?1:-1)}var O,j=Object.assign({position:s},c&&na);return u?Object.assign({},j,((O={})[y]=b?"0":"",O[g]=v?"0":"",O.transform=(_.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",O)):Object.assign({},j,((t={})[y]=b?m+"px":"",t[g]=v?f+"px":"",t.transform="",t))}var aa={left:"right",right:"left",bottom:"top",top:"bottom"};function ia(e){return e.replace(/left|right|bottom|top/g,(function(e){return aa[e]}))}var oa={start:"end",end:"start"};function sa(e){return e.replace(/start|end/g,(function(e){return oa[e]}))}function ua(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&lr(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ca(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function la(e,t){return t===Mr?ca(function(e){var t=sr(e),n=mr(e),r=t.visualViewport,a=n.clientWidth,i=n.clientHeight,o=0,s=0;return r&&(a=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,s=r.offsetTop)),{width:a,height:i,x:o+vr(e),y:s}}(e)):cr(t)?function(e){var t=pr(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):ca(function(e){var t,n=mr(e),r=fr(e),a=null==(t=e.ownerDocument)?void 0:t.body,i=Jr(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=Jr(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),s=-r.scrollLeft+vr(e),u=-r.scrollTop;return"rtl"===br(a||n).direction&&(s+=Jr(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:s,y:u}}(mr(e)))}function da(e,t,n){var r="clippingParents"===t?function(e){var t=kr(xr(e)),n=["absolute","fixed"].indexOf(br(e).position)>=0&&cr(e)?jr(e):e;return ur(n)?t.filter((function(e){return ur(e)&&ua(e,n)&&"body"!==hr(e)})):[]}(e):[].concat(t),a=[].concat(r,[n]),i=a[0],o=a.reduce((function(t,n){var r=la(e,n);return t.top=Jr(r.top,t.top),t.right=ea(r.right,t.right),t.bottom=ea(r.bottom,t.bottom),t.left=Jr(r.left,t.left),t}),la(e,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function pa(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function fa(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function ha(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,i=n.boundary,o=void 0===i?Dr:i,s=n.rootBoundary,u=void 0===s?Mr:s,c=n.elementContext,l=void 0===c?Fr:c,d=n.altBoundary,p=void 0!==d&&d,f=n.padding,h=void 0===f?0:f,m=pa("number"!==typeof h?h:fa(h,Ir)),v=l===Fr?Lr:Fr,b=e.rects.popper,g=e.elements[p?v:l],y=da(ur(g)?g:g.contextElement||mr(e.elements.popper),o,u),_=pr(e.elements.reference),x=Zr({reference:_,element:b,strategy:"absolute",placement:a}),k=ca(Object.assign({},b,x)),w=l===Fr?k:_,O={top:y.top-w.top+m.top,bottom:w.bottom-y.bottom+m.bottom,left:y.left-w.left+m.left,right:w.right-y.right+m.right},j=e.modifiersData.offset;if(l===Fr&&j){var S=j[a];Object.keys(O).forEach((function(e){var t=[Tr,Cr].indexOf(e)>=0?1:-1,n=[Sr,Cr].indexOf(e)>=0?"y":"x";O[e]+=S[n]*t}))}return O}function ma(e,t,n){return Jr(e,ea(t,n))}var va=function(e,t){return pa("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:fa(e,Ir))};function ba(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ga(e){return[Sr,Tr,Cr,Nr].some((function(t){return e[t]>=0}))}var ya=Gr({defaultModifiers:[qr,Qr,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,i=n.adaptive,o=void 0===i||i,s=n.roundOffsets,u=void 0===s||s,c={placement:Kr(t.placement),variation:Xr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ra(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ra(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];cr(a)&&hr(a)&&(Object.assign(a.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],a=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});cr(r)&&hr(r)&&(Object.assign(r.style,i),Object.keys(a).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=void 0===a?[0,0]:a,o=zr.reduce((function(e,n){return e[n]=function(e,t,n){var r=Kr(e),a=[Nr,Sr].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=i[0],s=i[1];return o=o||0,s=(s||0)*a,[Nr,Tr].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,i),e}),{}),s=o[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,i=void 0===a||a,o=n.altAxis,s=void 0===o||o,u=n.fallbackPlacements,c=n.padding,l=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,h=void 0===f||f,m=n.allowedAutoPlacements,v=t.options.placement,b=Kr(v),g=u||(b===v||!h?[ia(v)]:function(e){if(Kr(e)===Er)return[];var t=ia(e);return[sa(e),t,sa(t)]}(v)),y=[v].concat(g).reduce((function(e,n){return e.concat(Kr(n)===Er?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,i=n.rootBoundary,o=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?zr:u,l=Xr(r),d=l?s?Pr:Pr.filter((function(e){return Xr(e)===l})):Ir,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var f=p.reduce((function(t,n){return t[n]=ha(e,{placement:n,boundary:a,rootBoundary:i,padding:o})[Kr(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:l,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),_=t.rects.reference,x=t.rects.popper,k=new Map,w=!0,O=y[0],j=0;j<y.length;j++){var S=y[j],C=Kr(S),T=Xr(S)===Ar,N=[Sr,Cr].indexOf(C)>=0,E=N?"width":"height",I=ha(t,{placement:S,boundary:l,rootBoundary:d,altBoundary:p,padding:c}),A=N?T?Tr:Nr:T?Cr:Sr;_[E]>x[E]&&(A=ia(A));var R=ia(A),D=[];if(i&&D.push(I[C]<=0),s&&D.push(I[A]<=0,I[R]<=0),D.every((function(e){return e}))){O=S,w=!1;break}k.set(S,D)}if(w)for(var M=function(e){var t=y.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return O=t,"break"},F=h?3:1;F>0;F--){if("break"===M(F))break}t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,i=void 0===a||a,o=n.altAxis,s=void 0!==o&&o,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,d=n.padding,p=n.tether,f=void 0===p||p,h=n.tetherOffset,m=void 0===h?0:h,v=ha(t,{boundary:u,rootBoundary:c,padding:d,altBoundary:l}),b=Kr(t.placement),g=Xr(t.placement),y=!g,_=Yr(b),x="x"===_?"y":"x",k=t.modifiersData.popperOffsets,w=t.rects.reference,O=t.rects.popper,j="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,S={x:0,y:0};if(k){if(i||s){var C="y"===_?Sr:Nr,T="y"===_?Cr:Tr,N="y"===_?"height":"width",E=k[_],I=k[_]+v[C],A=k[_]-v[T],R=f?-O[N]/2:0,D=g===Ar?w[N]:O[N],M=g===Ar?-O[N]:-w[N],F=t.elements.arrow,L=f&&F?_r(F):{width:0,height:0},P=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=P[C],B=P[T],V=ma(0,w[N],L[N]),U=y?w[N]/2-R-V-z-j:D-V-z-j,W=y?-w[N]/2+R+V+B+j:M+V+B+j,H=t.elements.arrow&&jr(t.elements.arrow),G=H?"y"===_?H.clientTop||0:H.clientLeft||0:0,$=t.modifiersData.offset?t.modifiersData.offset[t.placement][_]:0,q=k[_]+U-$-G,K=k[_]+W-$;if(i){var X=ma(f?ea(I,q):I,E,f?Jr(A,K):A);k[_]=X,S[_]=X-E}if(s){var Y="x"===_?Sr:Nr,Z="x"===_?Cr:Tr,Q=k[x],J=Q+v[Y],ee=Q-v[Z],te=ma(f?ea(J,q):J,Q,f?Jr(ee,K):ee);k[x]=te,S[x]=te-Q}}t.modifiersData[r]=S}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,s=Kr(n.placement),u=Yr(s),c=[Nr,Tr].indexOf(s)>=0?"height":"width";if(i&&o){var l=va(a.padding,n),d=_r(i),p="y"===u?Sr:Nr,f="y"===u?Cr:Tr,h=n.rects.reference[c]+n.rects.reference[u]-o[u]-n.rects.popper[c],m=o[u]-n.rects.reference[u],v=jr(i),b=v?"y"===u?v.clientHeight||0:v.clientWidth||0:0,g=h/2-m/2,y=l[p],_=b-d[c]-l[f],x=b/2-d[c]/2+g,k=ma(y,x,_),w=u;n.modifiersData[r]=((t={})[w]=k,t.centerOffset=k-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&ua(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=ha(t,{elementContext:"reference"}),s=ha(t,{altBoundary:!0}),u=ba(o,r),c=ba(s,a,i),l=ga(u),d=ga(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":d})}}]}),_a=n(387),xa=n.n(_a),ka=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},wa="undefined"!==typeof window&&window.document&&window.document.createElement?M.useLayoutEffect:M.useEffect,Oa=[],ja=function(e,t,n){void 0===n&&(n={});var r=M.useRef(null),a={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Oa},i=M.useState({styles:{popper:{position:a.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=i[0],s=i[1],u=M.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);s({styles:ka(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:ka(n.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),c=M.useMemo((function(){var e={onFirstUpdate:a.onFirstUpdate,placement:a.placement,strategy:a.strategy,modifiers:[].concat(a.modifiers,[u,{name:"applyStyles",enabled:!1}])};return xa()(r.current,e)?r.current||e:(r.current=e,e)}),[a.onFirstUpdate,a.placement,a.strategy,a.modifiers,u]),l=M.useRef();return wa((function(){l.current&&l.current.setOptions(c)}),[c]),wa((function(){if(null!=e&&null!=t){var r=(n.createPopper||ya)(e,t,c);return l.current=r,function(){r.destroy(),l.current=null}}}),[e,t,n.createPopper]),{state:l.current?l.current.state:null,styles:o.styles,attributes:o.attributes,update:l.current?l.current.update:null,forceUpdate:l.current?l.current.forceUpdate:null}},Sa=function(e){var t=e.style,n=e.attributes,r=e.arrowClassName;return U("div",A()({style:t},n,{vkuiClass:"PopperArrow","data-popper-arrow":!0}),U("svg",{vkuiClass:"PopperArrow__in",className:r,width:"20",height:"8",viewBox:"0 0 20 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},U("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 0C13 0 15.9999 8 20 8H0C3.9749 8 7 0 10 0Z",fill:"currentColor"})))},Ca=["targetRef","children","getRef","placement","onPlacementChange","arrow","arrowClassName","sameWidth","offsetDistance","offsetSkidding","forcePortal","style","customModifiers","renderContent"],Ta={name:"preventOverflow",options:{mainAxis:!1}},Na={name:"flip"},Ea={name:"arrow",options:{padding:8}},Ia={name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;t.styles.popper.width="".concat(t.rects.reference.width,"px")},effect:function(e){var t=e.state;t.elements.popper.style.width="".concat(t.elements.reference.offsetWidth,"px")}},Aa=function(e){var t,n=e.targetRef,r=e.children,a=e.getRef,i=e.placement,o=void 0===i?"bottom-start":i,s=e.onPlacementChange,u=e.arrow,c=e.arrowClassName,l=e.sameWidth,d=e.offsetDistance,f=void 0===d?8:d,m=e.offsetSkidding,v=void 0===m?0:m,b=e.forcePortal,g=void 0===b||b,y=e.style,_=e.customModifiers,x=e.renderContent,k=D()(e,Ca),w=M.useState(null),O=h()(w,2),j=O[0],S=O[1],C=M.useState(0),T=h()(C,2),N=T[0],E=T[1],I=tt(),R=Oe(a,S),F=M.useMemo((function(){var e=[Ta,{name:"offset",options:{offset:[u?v-N:v,u?f+8:f]}},Na];return u&&e.push(Ea),l&&e.push(Ia),_&&e.push.apply(e,p()(_)),e}),[u,l,N,v,f,_]),L=ja(n.current,j,{placement:o,modifiers:F}),P=L.styles,z=L.state,B=L.attributes,V=null===z||void 0===z?void 0:z.placement,W=!!V&&V.includes("-");je((function(){if(u&&W){var e,t,r,a=null!==V&&void 0!==V&&V.startsWith("bottom")||null!==V&&void 0!==V&&V.startsWith("top")?"vertical":"horizontal",i="vertical"===a?20:8;(null!==(e="vertical"===a?null===(t=n.current)||void 0===t?void 0:t.offsetWidth:null===(r=n.current)||void 0===r?void 0:r.offsetHeight)&&void 0!==e?e:0)<i+16&&E(8+i/2)}else E(0)}),[u,W]),M.useEffect((function(){V&&s&&s({placement:V})}),[s,V]);var H=U("div",A()({},k,B.popper,{vkuiClass:Ut("Popper",I),ref:R,style:ie()(ie()(ie()({},y),P.popper),{},{minWidth:l?null===(t=n.current)||void 0===t?void 0:t.scrollWidth:void 0})}),u&&U(Sa,{attributes:B.arrow,style:P.arrow,arrowClassName:c}),x?x({className:"Popper__content"}):U("div",{vkuiClass:"Popper__content"},r));return U(at,{forcePortal:g,vkuiClass:"PopperPortal"},H)},Ra=["children","toggleRef","closing","popupDirection","onClose","className","style","popupOffsetDistance"],Da=Ze("ActionSheet");var Ma=function(e){var t=e.children,n=e.toggleRef,r=(e.closing,e.popupDirection),a=e.onClose,i=e.className,o=e.style,s=e.popupOffsetDistance,u=void 0===s?0:s,c=D()(e,Ra),l=fe().document,d=tt(),p=Wt().sizeY,f=M.useRef(null);ir((function(){var e;((e=n)&&"current"in e?e.current:e)||Da('\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e "toggleRef" \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e',"error")}),[n]);var h=M.useMemo((function(){return"top"===r||"function"===typeof r&&"top"===r(f)}),[r,f]),m=Se("click",(function(e){var t=null===f||void 0===f?void 0:f.current;t&&!t.contains(e.target)&&(null===a||void 0===a||a())}));M.useEffect((function(){setTimeout((function(){m.add(l.body)}))}),[m,l]);var v=M.useCallback((function(e){return e.stopPropagation()}),[]),b=M.useMemo((function(){return or(n)?n:{current:n}}),[n]);return U(Aa,{targetRef:b,offsetDistance:u,placement:h?"top-end":"bottom-end",vkuiClass:W("ActionSheet",d===X.IOS&&"ActionSheet--ios","ActionSheet--desktop","ActionSheet--sizeY-".concat(p)),className:i,style:o,getRef:f,forcePortal:!1},U(Qn,A()({onClose:a},c,{onClick:v}),t))},Fa=["children","closing","toggleRef"],La=function(e){return e.stopPropagation()},Pa=function(e){var t=e.children,n=e.closing,r=(e.toggleRef,D()(e,Fa)),a=Wt().sizeY,i=tt();return U(Qn,A()({},r,{onClick:La,vkuiClass:W("ActionSheet",i===X.IOS&&"ActionSheet--ios",n&&"ActionSheet--closing","ActionSheet--sizeY-".concat(a))}),t)},za=M.createContext({}),Ba=["children","weight","caps","Component"],Va=function(e){var t=e.children,n=e.weight,r=e.caps,a=e.Component,i=void 0===a?"span":a,o=D()(e,Ba);return U(i,A()({},o,{vkuiClass:W("Footnote",r&&"Footnote--caps",n&&"Footnote--w-".concat(n))}),t)},Ua=["children","className","header","text","style","iosCloseItem","popupDirection","popupOffsetDistance"],Wa=(Ze("ActionSheet"),function(e){var t=e.children,n=e.className,r=e.header,a=e.text,i=e.style,o=e.iosCloseItem,s=e.popupDirection,u=void 0===s?"bottom":s,c=e.popupOffsetDistance,l=D()(e,Ua),d=tt(),p=M.useState(!1),f=h()(p,2),m=f[0],v=f[1],b=function(){return v(!0)},g=M.useRef(xe);var y=Ht();He(!y);var _=d===te?300:200;y&&(_=0);var x=pt((function(){var e;null===(e=l.onClose)||void 0===e||e.call(l),g.current(),g.current=xe}),_);M.useEffect((function(){m?x.set():x.clear()}),[m,x]);var k=it({onItemClick:M.useCallback((function(e,t,n){return function(r){r.persist(),t&&t(r),n?(g.current=function(){return e&&e(r)},v(!0)):e&&e(r)}}),[]),isDesktop:y}),w=y?Ma:Pa,O=y?Object.assign(l,{popupOffsetDistance:c,popupDirection:u}):l,j=U(za.Provider,{value:k},U(w,A()({closing:m,timeout:_},O,{onClose:b,className:y?n:void 0,style:y?i:void 0}),(be(r)||be(a))&&U("header",{vkuiClass:"ActionSheet__header"},be(r)&&U(Va,{weight:"2",vkuiClass:"ActionSheet__title"},r),be(a)&&U(Va,{vkuiClass:"ActionSheet__text"},a)),t,d===te&&!y&&o));return y?j:U(En,{closing:m,alignY:"bottom",className:n,style:i,onClick:b,hasMask:!0,fixed:!0},j)}),Ha=Object(vn.a)("Icon24CheckCircleOn","check_circle_on_24","0 0 24 24",'<symbol viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" id="check_circle_on_24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12Zm6.207-14.793a1 1 0 0 0-1.414-1.414L10 14.586l-2.793-2.793a1 1 0 0 0-1.414 1.414l3.5 3.5a1 1 0 0 0 1.414 0l7.5-7.5Z" fill="currentColor" /></symbol>',24,24,!1,void 0),Ga=["children","autoclose","mode","meta","subtitle","before","selectable","value","name","checked","defaultChecked","onChange","onClick","sizeY","onImmediateClick","multiline","iconChecked"],$a=Ot((function(e){var t=e.children,n=e.autoclose,r=e.mode,a=void 0===r?"default":r,i=e.meta,o=e.subtitle,s=e.before,u=e.selectable,c=e.value,l=e.name,d=e.checked,p=e.defaultChecked,f=e.onChange,h=e.onClick,m=e.sizeY,v=e.onImmediateClick,b=e.multiline,g=void 0!==b&&b,y=e.iconChecked,_=void 0===y?U(Ha,{"aria-hidden":!0}):y,x=D()(e,Ga),k=tt(),w=M.useContext(za),O=w.onItemClick,j=void 0===O?function(){return xe}:O,S=w.isDesktop,C=x.href?"a":"div";u&&(C="label");var T=be(o)||be(i)||u,N=!T&&!be(s)&&k===X.IOS;return U(Vt,A()({},x,{onClick:u?h:j(h,v,Boolean(n)),activeMode:k===X.IOS?"ActionSheetItem--active":void 0,vkuiClass:W("ActionSheetItem",k===X.IOS&&"ActionSheetItem--ios","ActionSheetItem--".concat(a),"ActionSheetItem--sizeY-".concat(m),T&&"ActionSheetItem--rich",S&&"ActionSheetItem--desktop"),Component:C}),be(s)&&U("div",{vkuiClass:"ActionSheetItem__before"},s),U("div",{vkuiClass:W("ActionSheetItem__container",!g&&"ActionSheetItem--ellipsis")},U("div",{vkuiClass:W("ActionSheetItem__content",N&&"ActionSheetItem--centered")},U($t,{weight:"cancel"===a?"2":void 0,vkuiClass:"ActionSheetItem__children"},t),be(i)&&U($t,{vkuiClass:"ActionSheetItem__meta"},i)),be(o)&&U(An,{vkuiClass:"ActionSheetItem__subtitle"},o)),u&&U("div",{vkuiClass:"ActionSheetItem__after"},U("input",{type:"radio",vkuiClass:"ActionSheetItem__radio",name:l,value:c,onChange:f,onClick:j(xe,xe,Boolean(n)),defaultChecked:p,checked:d,disabled:x.disabled}),U("div",{vkuiClass:"ActionSheetItem__marker"},_)))}),{sizeY:!0}),qa=Object(vn.a)("Icon24Cancel","cancel_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="cancel_24"><path d="M7.536 6.264a.9.9 0 0 0-1.272 1.272L10.727 12l-4.463 4.464a.9.9 0 0 0 1.272 1.272L12 13.273l4.464 4.463a.9.9 0 1 0 1.272-1.272L13.273 12l4.463-4.464a.9.9 0 1 0-1.272-1.272L12 10.727 7.536 6.264Z" /></symbol>',24,24,!1,void 0),Ka=function(e){return U("svg",A()({vkuiClass:"Icon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),U("path",{d:"M9 24L19 34L39 14",stroke:"currentColor",strokeWidth:"3.5",strokeLinecap:"round",strokeLinejoin:"round"}))},Xa=function(e){return U("svg",A()({vkuiClass:"Icon",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),U("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40 24c0 8.837-7.163 16-16 16S8 32.837 8 24 15.163 8 24 8s16 7.163 16 16Zm-10.08-4.33a1.125 1.125 0 0 0-1.59-1.59L24 22.409l-4.33-4.33a1.125 1.125 0 0 0-1.59 0l-.101.116a1.125 1.125 0 0 0 .1 1.476L22.41 24l-4.33 4.33a1.125 1.125 0 0 0 1.591 1.59L24 25.591l4.33 4.33c.439.439 1.151.439 1.59 0l.101-.116a1.125 1.125 0 0 0-.1-1.476L25.59 24l4.33-4.33Z",fill:"currentColor"}))},Ya=["style","className","state","size","aria-label","onClick"],Za=function(e){var t=e.style,n=e.className,r=e.state,a=void 0===r?"loading":r,i=e.size,o=void 0===i?"large":i,s=e["aria-label"],u=void 0===s?"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435...":s,c=e.onClick,l=D()(e,Ya),d="done"===a||"error"===a,p={loading:function(){return null},cancelable:qa,done:Ka,error:Xa}[a];return He(),U(En,{hasMask:!1,vkuiClass:W("ScreenSpinner",d&&"ScreenSpinner--hideSpinner","ScreenSpinner--state-".concat(a)),className:n,style:t},U("div",{vkuiClass:"ScreenSpinner__container",onClick:c},U(Bn,A()({vkuiClass:"ScreenSpinner__spinner",size:o,"aria-label":u},l)),U("div",{vkuiClass:"ScreenSpinner__icon"},U(p,{"aria-hidden":!0}))))},Qa=["Component","getRootRef","weight","children"],Ja=(Ze("Paragraph"),function(e){var t=e.Component,n=void 0===t?"span":t,r=e.getRootRef,a=e.weight,i=e.children,o=D()(e,Qa);return U(n,A()({},o,{ref:r,vkuiClass:W("Paragraph",a&&"Paragraph--w-".concat(a))}),i)}),ei=["children","layout","action","before","after","viewWidth","duration","onActionClick","onClose","mode"],ti=function(e){var t=e.children,n=e.layout,r=void 0===n?"horizontal":n,a=e.action,i=e.before,o=e.after,s=e.viewWidth,u=e.duration,c=void 0===u?4e3:u,l=e.onActionClick,d=e.onClose,p=e.mode,f=void 0===p?"default":p,m=D()(e,ei),v=tt(),b=dt().waitTransitionFinish,g=M.useState(!1),y=h()(g,2),_=y[0],x=y[1],k=M.useState(!1),w=h()(k,2),O=w[0],j=w[1],S=M.useRef(0),C=M.useRef(0),T=M.useRef(null),N=M.useRef(null),E=M.useRef(null),I=s>=bt.SMALL_TABLET,R=v===ee||v===ne?400:320,F=function(){x(!0),b(N.current,(function(){d()}),R)},L=pt(F,c),P=function(e){null!==E.current&&cancelAnimationFrame(E.current),E.current=requestAnimationFrame((function(){T.current&&(T.current.style.transform="translate3d(".concat(e,"%, 0, 0)"))}))},z=L.clear;M.useEffect((function(){return L.set()}),[L]);var B=o||I?"vertical":r;return U(at,null,U("div",A()({},m,{vkuiClass:W("Snackbar",v===te&&"Snackbar--ios","Snackbar--l-".concat(B),"Snackbar--".concat(f),_&&"Snackbar--closing",O&&"Snackbar--touched",I&&"Snackbar--desktop")}),U(Te,{vkuiClass:"Snackbar__in",getRootRef:N,onStart:z,onMoveX:function(e){var t,n,r=e.shiftX;e.originalEvent.preventDefault(),O||j(!0),S.current=r/(null!==(t=null===(n=T.current)||void 0===n?void 0:n.offsetWidth)&&void 0!==t?t:0)*100,C.current=le(S.current,72,1.2,v===ee||v===ne),P(C.current)},onEnd:function(e){var t;if(O){var n=C.current;n+=n/e.duration*240*.6,I&&n<=-50?(L.clear(),b(T.current,(function(){d()}),R),P(-120)):!I&&n>=50?(L.clear(),b(T.current,(function(){d()}),R),P(120)):t=function(){L.set(),P(0)}}else L.set();j(!1),t&&requestAnimationFrame(t)}},U("div",{vkuiClass:"Snackbar__body",ref:T},i&&U("div",{vkuiClass:"Snackbar__before"},i),U("div",{vkuiClass:"Snackbar__content"},U(Ja,{vkuiClass:"Snackbar__content-text"},t),a&&U($n,{align:"left",hasHover:!1,mode:"tertiary",appearance:"dark"===f?"overlay":"accent",size:"s",vkuiClass:"Snackbar__action",onClick:function(e){F(),a&&"function"===typeof l&&l(e)}},a)),o&&U("div",{vkuiClass:"Snackbar__after"},o)))))};ti.displayName="Snackbar";var ni,ri=Ot(ti,{viewWidth:!0}),ai=n(64),ii=n.n(ai),oi=n(262),si=n.n(oi),ui=n(263),ci=n.n(ui);function li(e){return function(t){var n=M.useContext(et),r=M.useContext(Ae).platform;return U(e,A()({},t,{platform:n.platform||r}))}}function di(e,t,n){return function(r){var a=M.useContext(t);return U(e,A()({},r,v()({},n,a)))}}!function(e){e.PAGE="page",e.CARD="card"}(ni||(ni={}));var pi=75;Ze("ModalRoot");function fi(e,t){if("setActive"===t.type&&t.id!==e.activeModal){var n=t.id,r=e.exitingModal||e.activeModal,a=e.history?p()(e.history):[],i=Boolean(n&&a.includes(n));return null===n?a=[]:i?a=a.splice(0,a.indexOf(n)+1):a.push(n),{activeModal:n,enteringModal:null,exitingModal:r,history:a,isBack:i}}return"entered"===t.type&&t.id===e.enteringModal?ie()(ie()({},e),{},{enteringModal:null}):"exited"===t.type&&t.id===e.exitingModal?ie()(ie()({},e),{},{exitingModal:null}):"inited"===t.type&&t.id===e.activeModal?ie()(ie()({},e),{},{enteringModal:t.id}):e}function hi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xe,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xe,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xe,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:xe,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:xe,s=M.useRef({}).current;(function(e){return M.Children.toArray(e)})(t).forEach((function(e){var t=e.props,n=ct(t),r=void 0!==n&&s[n]||{id:null!==n&&void 0!==n?n:null};r.onOpen=e.props.onOpen,r.onOpened=e.props.onOpened,r.onClose=e.props.onClose,r.onClosed=e.props.onClosed,r.dynamicContentHeight=!!t.dynamicContentHeight,"number"===typeof t.settlingHeight&&(r.settlingHeight=t.settlingHeight),null!==r.id&&(s[r.id]=r)}));var u=e&&!s[e]?null:e,c=M.useReducer(fi,{activeModal:u,enteringModal:null,exitingModal:null,history:u?[u]:[],isBack:!1}),l=h()(c,2),d=l[0],p=l[1];je((function(){p({type:"setActive",id:null!==u&&void 0!==u?u:null})}),[e]),je((function(){d.activeModal&&(o(s[d.activeModal]),p({type:"inited",id:d.activeModal}))}),[d.activeModal]);var f=function(e){var t;return null!=e&&(null===(t=s[e])||void 0===t?void 0:t.type)===ni.CARD},m=M.useCallback((function(e){if(e){var t=s[e];ve(t.onOpened)?t.onOpened():ve(r)&&r(e)}p({type:"entered",id:e})}),[s,r]),v=M.useCallback((function(e){if(e){var t=s[e];ve(t.onClosed)?t.onClosed():ve(i)&&i(e)}p({type:"exited",id:e})}),[s,i]),b=Boolean(d.exitingModal&&(f(e)||f(d.exitingModal))),g=M.useCallback((function(e){return s[e]}),[s]);return ie()(ie()({onEnter:function(){var e=d.activeModal&&s[d.activeModal];e&&(ve(e.onOpen)?e.onOpen():ve(n)&&n(e.id))},onEntered:m,onExit:function(){var e=d.activeModal&&s[d.activeModal];e&&(ve(e.onClose)?e.onClose():ve(a)&&a(e.id))},onExited:v},d),{},{delayEnter:b,getModalState:g})}function mi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe;return function(t){return function(n){var r=hi(n.activeModal,n.children,n.onOpen,n.onOpened,n.onClose,n.onClosed,e);return U(t,A()({},n,r))}}}var vi=["id"],bi=Ze("ModalRoot"),gi=!1;function yi(e,t){return!!t&&(e>=t[0]&&e<=t[1])}function _i(e){return Math.max(0,Math.min(98,e))}var xi=function(e){si()(n,e);var t=ci()(n);function n(e){var r;return _()(this,n),r=t.call(this,e),v()(ii()(r),"documentScrolling",!1),v()(ii()(r),"maskElementRef",void 0),v()(ii()(r),"viewportRef",M.createRef()),v()(ii()(r),"maskAnimationFrame",void 0),v()(ii()(r),"modalRootContext",void 0),v()(ii()(r),"frameIds",void 0),v()(ii()(r),"restoreFocusTo",void 0),v()(ii()(r),"preventTouch",(function(e){if(!e)return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.preventDefault(),!1})),v()(ii()(r),"updateModalTranslate",(function(){var e=r.getModalState(r.props.activeModal);e&&r.animateTranslate(e,e.translateY)})),v()(ii()(r),"updateModalHeight",(function(){var e=r.getModalState(r.props.activeModal);e&&e.type===ni.PAGE&&e.dynamicContentHeight&&(r.props.enteringModal?r.waitTransitionFinish(e,(function(){requestAnimationFrame((function(){return r.checkPageContentHeight()}))})):requestAnimationFrame((function(){return r.checkPageContentHeight()})))})),v()(ii()(r),"onTouchMove",(function(e){if(!r.props.exitingModal){var t=r.getModalState(r.props.activeModal);if(t)return t.type===ni.PAGE?r.onPageTouchMove(e,t):t.type===ni.CARD?r.onCardTouchMove(e,t):void 0}})),v()(ii()(r),"onTouchEnd",(function(e){var t=r.getModalState(r.props.activeModal);return(null===t||void 0===t?void 0:t.type)===ni.PAGE?r.onPageTouchEnd(e,t):(null===t||void 0===t?void 0:t.type)===ni.CARD?r.onCardTouchEnd(e,t):void 0})),v()(ii()(r),"onScroll",(function(e){var t,n=r.props.activeModal,a=e.target;if(n){var i=r.getModalState(n);(null===i||void 0===i?void 0:i.type)===ni.PAGE&&null!==i&&void 0!==i&&null!==(t=i.contentElement)&&void 0!==t&&t.contains(a)&&(i.contentScrolled=!0,i.contentScrollStopTimeout&&clearTimeout(i.contentScrollStopTimeout),i.contentScrollStopTimeout=setTimeout((function(){i.contentScrolled&&(i.contentScrolled=!1)}),250))}})),r.state={touchDown:!1,dragging:!1},r.maskElementRef=M.createRef(),r.modalRootContext={updateModalHeight:r.updateModalHeight,registerModal:function(e){var t=e.id,n=D()(e,vi);return Object.assign(r.getModalState(t),n)},onClose:function(){return r.props.onExit()},isInsideModal:!0},r.frameIds={},r}return k()(n,[{key:"timeout",get:function(){return this.props.platform===ee||this.props.platform===ne?320:400}},{key:"document",get:function(){return this.props.document}},{key:"window",get:function(){return this.props.window}},{key:"getModalState",value:function(e){if(e)return this.props.getModalState(e)}},{key:"getModals",value:function(){return M.Children.toArray(this.props.children)}},{key:"componentDidMount",value:function(){var e;this.props.platform===te&&(null===(e=this.window)||void 0===e||e.addEventListener("resize",this.updateModalTranslate,!1))}},{key:"componentWillUnmount",value:function(){this.toggleDocumentScrolling(!0),this.window.removeEventListener("resize",this.updateModalTranslate,!1)}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.exitingModal&&this.props.exitingModal!==e.exitingModal&&this.closeModal(this.props.exitingModal),this.props.enteringModal&&this.props.enteringModal!==e.enteringModal){var n=this.props.enteringModal,r=this.getModalState(n);this.props.onEnter(),this.waitTransitionFinish(r,(function(){null!==r&&void 0!==r&&r.innerElement&&(r.innerElement.style.transitionDelay=""),t.props.onEntered(n)})),null!==r&&void 0!==r&&r.innerElement&&(r.innerElement.style.transitionDelay=this.props.delayEnter?"".concat(this.timeout,"ms"):"",this.animateTranslate(r,r.translateY))}this.props.activeModal&&!e.activeModal&&(this.restoreFocusTo=this.document.activeElement),this.props.activeModal||this.props.exitingModal||!this.restoreFocusTo||(this.restoreFocusTo.focus(),this.restoreFocusTo=null),this.toggleDocumentScrolling(!this.props.activeModal&&!this.props.exitingModal)}},{key:"toggleDocumentScrolling",value:function(e){this.documentScrolling!==e&&(this.documentScrolling=e,e?this.window.removeEventListener("touchmove",this.preventTouch,{passive:!1}):this.window.addEventListener("touchmove",this.preventTouch,{passive:!1}))}},{key:"checkPageContentHeight",value:function(){var e=this.getModalState(this.props.activeModal);if((null===e||void 0===e?void 0:e.type)===ni.PAGE&&null!==e&&void 0!==e&&e.modalElement){var t=ie()({},e);wi(e);var n=ie()({},e),r=!1;t.expandable===n.expandable?t.translateYFrom!==n.translateYFrom&&(r=!0):r=!0,r&&this.animateTranslate(e,e.translateY)}}},{key:"closeModal",value:function(e){var t,n,r,a=this;this.setState({touchDown:!1});var i=this.getModalState(e);if(i){var o=this.getModalState(this.props.activeModal),s=!!o&&o.type===ni.PAGE,u=!!i&&i.type===ni.PAGE;this.waitTransitionFinish(i,(function(){return a.props.onExited(e)}));var c=u&&s&&(null!==(t=i.translateY)&&void 0!==t?t:0)<=(null!==(n=null===o||void 0===o?void 0:o.translateYFrom)&&void 0!==n?n:0)&&!this.props.isBack?(null!==(r=null===o||void 0===o?void 0:o.translateYFrom)&&void 0!==r?r:0)+10:100;this.animateTranslate(i,c),o||this.setMaskOpacity(i,0)}else e&&bi("closeActiveModal: \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e (\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430) ".concat(e," \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),"error")}},{key:"onPageTouchMove",value:function(e,t){var n,r,a=e.shiftY,i=e.originalEvent,o=i.target;if(e.isY){if(null===(n=t.innerElement)||void 0===n||!n.contains(o))return i.preventDefault();i.stopPropagation();var s,u,c=t.expandable,l=t.contentScrolled,d=t.collapsed,p=t.expanded;if(!this.state.touchDown)t.touchStartContentScrollTop=null!==(s=null===(u=t.contentElement)||void 0===u?void 0:u.scrollTop)&&void 0!==s?s:0,this.setState({touchDown:!0});if(!l&&(null===t.touchMovePositive&&(t.touchMovePositive=a>0),!t.expandable||d||p&&t.touchMovePositive&&0===t.touchStartContentScrollTop||null!==(r=t.headerElement)&&void 0!==r&&r.contains(o))){var f;if(i.preventDefault(),!c&&a<0||!this.window)return;!this.state.dragging&&this.setState({dragging:!0});var h=a/this.window.innerHeight*100,m=le(h,72,.8,this.props.platform===ee||this.props.platform===ne);t.touchShiftYPercent=h,t.translateYCurrent=_i((null!==(f=t.translateY)&&void 0!==f?f:0)+m),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}else{var v;null!==(v=this.viewportRef.current)&&void 0!==v&&v.contains(o)&&i.preventDefault()}}},{key:"onCardTouchMove",value:function(e,t){var n,r=e.originalEvent,a=e.shiftY,i=r.target;if(null!==(n=t.innerElement)&&void 0!==n&&n.contains(i)){var o;this.state.touchDown||this.setState({touchDown:!0,dragging:!0});var s=a/t.innerElement.offsetHeight*100,u=le(s,72,1.2,this.props.platform===ee||this.props.platform===ne);t.touchShiftYPercent=s,t.translateYCurrent=Math.max(0,(null!==(o=t.translateY)&&void 0!==o?o:0)+u),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}},{key:"onPageTouchEnd",value:function(e,t){var n,r=this,a=e.startY,i=e.shiftY;if(t.contentScrolled=!1,t.touchMovePositive=null,this.state.dragging&&this.window){var o,s,u,c,l=(a+i)/this.window.innerHeight*100,d=null!==(o=t.translateYCurrent)&&void 0!==o?o:0;if(d=_i(d+d/e.duration*240*.6*((null!==(s=t.touchShiftYPercent)&&void 0!==s?s:0)<0?-1:1)),100!==t.settlingHeight)if(yi(d,t.expandedRange))d=null!==(u=null===(c=t.expandedRange)||void 0===c?void 0:c[0])&&void 0!==u?u:0;else if(yi(d,t.collapsedRange)){var p;d=null!==(p=t.translateYFrom)&&void 0!==p?p:0}else if(yi(d,t.hiddenRange))d=100;else{var f;d=null!==(f=t.translateYFrom)&&void 0!==f?f:0}else d=yi(d,[0,25])?0:100;100!==d&&l>=75&&(d=100),t.translateY=d,t.translateYCurrent=d,t.collapsed=d>0&&d<l,t.expanded=0===d,t.hidden=100===d,t.hidden&&this.props.onExit(),n=function(){t.hidden||r.animateTranslate(t,t.translateY),r.setMaskOpacity(t)}}this.setState({touchDown:!1,dragging:!1},n)}},{key:"onCardTouchEnd",value:function(e,t){var n,r=this,a=e.duration;if(this.state.dragging){var i,o,s=null!==(i=t.translateYCurrent)&&void 0!==i?i:0,u=s/a*240*.6*((null!==(o=t.touchShiftYPercent)&&void 0!==o?o:0)<0?-1:1);s=(s=Math.max(0,s+u))>=30?100:0,t.translateY=s,t.hidden=100===s,t.hidden&&this.props.onExit(),n=function(){t.hidden||r.animateTranslate(t,t.translateY),r.setMaskOpacity(t)}}this.setState({touchDown:!1,dragging:!1},n)}},{key:"waitTransitionFinish",value:function(e,t){if(K.supported){var n;null===e||void 0===e||null===(n=e.innerElement)||void 0===n||n.addEventListener(K.name,(function n(){var r;null===e||void 0===e||null===(r=e.innerElement)||void 0===r||r.removeEventListener(K.name,n),t()}))}else setTimeout(t,this.timeout)}},{key:"animateTranslate",value:function(e,t){var n="animateTranslateFrame".concat(e.id);cancelAnimationFrame(this.frameIds[n]),this.frameIds[n]=requestAnimationFrame((function(){var n,r;n=e.innerElement,r="translate3d(0, ".concat(t,"%, 0)"),n&&(n.style.transform=r,n.style.webkitTransform=r)}))}},{key:"setMaskOpacity",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===r&&(null===(t=this.props.history)||void 0===t?void 0:t[0])!==e.id||(this.maskAnimationFrame&&cancelAnimationFrame(this.maskAnimationFrame),this.maskAnimationFrame=requestAnimationFrame((function(){if(n.maskElementRef.current){var t=e.translateY,a=void 0===t?0:t,i=e.translateYCurrent,o=null===r?1-((void 0===i?0:i)-a)/(100-a)||0:r;n.maskElementRef.current.style.opacity=Math.max(0,Math.min(100,o)).toString()}})))}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.activeModal,a=n.exitingModal,i=n.enteringModal,o=this.state,s=o.touchDown,u=o.dragging;return r||a?U(Ct.Provider,{value:!0},U(rn.Provider,{value:this.modalRootContext},U(Te,{vkuiClass:W(Ut("ModalRoot",this.props.platform),(null===(e=this.props.configProvider)||void 0===e?void 0:e.webviewType)===Ne.VKAPPS&&"ModalRoot--vkapps",s&&"ModalRoot--touched",!(!i&&!a)&&"ModalRoot--switching"),onMove:this.onTouchMove,onEnd:this.onTouchEnd,onScroll:this.onScroll},U("div",{vkuiClass:"ModalRoot__mask",onClick:this.props.onExit,ref:this.maskElementRef}),U("div",{vkuiClass:"ModalRoot__viewport",ref:this.viewportRef},this.getModals().map((function(e){var n=ct(e.props),o=t.getModalState(n);if(n!==r&&n!==a||!o)return null;var s=ie()({},o),c=s.type===ni.PAGE,l="modal-".concat(n);return U(Qn,{key:l,getRootRef:function(e){var r=t.getModalState(n);r&&(r.modalElement=e)},onClose:t.props.onExit,timeout:t.timeout,vkuiClass:W("ModalRoot__modal",n===r&&"ModalRoot__modal--active",n===a&&"ModalRoot__modal--prev",(a&&n===r||n===i)&&"ModalRoot__modal--next",u&&"ModalRoot__modal--dragging",c&&s.expandable&&"ModalRoot__modal--expandable",c&&s.expanded&&"ModalRoot__modal--expanded",c&&s.collapsed&&"ModalRoot__modal--collapsed"),restoreFocus:!1},e)})))))):null}}]),n}(M.Component),ki=di(li(he(mi((function(e){switch(e.type){case ni.PAGE:return e.settlingHeight=e.settlingHeight||pi,wi(e);case ni.CARD:return function(e){e.translateY=0}(e);default:gi&&bi('initActiveModal: modalState.type="'.concat(e.type,'" \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f'),"error")}}))(xi))),Ae,"configProvider");function wi(e){var t,n=e.contentElement,r=(null===n||void 0===n?void 0:n.firstElementChild).offsetHeight,a=e.translateY;e.expandable=r>(null!==(t=null===n||void 0===n?void 0:n.clientHeight)&&void 0!==t?t:0)||100===e.settlingHeight;var i,o,s,u,c,l=!1,d=!1;if(e.expandable){var p,f=(i=100-(null!==(p=e.settlingHeight)&&void 0!==p?p:0))/2,h=100-i;s=[0,f],u=[f,i+h/4],c=[i+h/4,100],l=i>0,d=i<=0,o=i}else{var m,v,b,g,y;s=[o=i=100-(r+(null!==(m=null===(v=e.headerElement)||void 0===v?void 0:v.offsetHeight)&&void 0!==m?m:0))/(null!==(b=null===(g=e.innerElement)||void 0===g?void 0:null===(y=g.parentElement)||void 0===y?void 0:y.offsetHeight)&&void 0!==b?b:0)*100,o+25],u=[o+25,o+25],c=[o+25,o+100]}(e.expandable&&o>(null!==a&&void 0!==a?a:100)||100===e.settlingHeight)&&(o=0),0===o&&(d=!0,l=!1),e.expandedRange=s,e.collapsedRange=u,e.hiddenRange=c,e.translateY=o,e.translateYFrom=i,e.collapsed=l,e.expanded=d}var Oi=["id"],ji=(Ze("ModalRoot"),function(e){si()(n,e);var t=ci()(n);function n(e){var r;return _()(this,n),r=t.call(this,e),v()(ii()(r),"maskElementRef",void 0),v()(ii()(r),"maskAnimationFrame",void 0),v()(ii()(r),"modalRootContext",void 0),v()(ii()(r),"restoreFocusTo",void 0),r.maskElementRef=M.createRef(),r.modalRootContext={updateModalHeight:function(){},registerModal:function(e){var t=e.id,n=D()(e,Oi);return Object.assign(r.getModalState(t),n)},onClose:function(){return r.props.onExit()},isInsideModal:!0},r}return k()(n,[{key:"timeout",get:function(){return this.props.platform===ee||this.props.platform===ne?320:400}},{key:"modals",get:function(){return M.Children.toArray(this.props.children)}},{key:"getModalState",value:function(e){if(null!==e)return this.props.getModalState(e)}},{key:"componentDidUpdate",value:function(e){var t,n,r=this;if(this.props.exitingModal&&this.props.exitingModal!==e.exitingModal&&this.closeModal(this.props.exitingModal),this.props.enteringModal&&this.props.enteringModal!==e.enteringModal){var a=this.props.enteringModal,i=this.getModalState(a);this.props.onEnter(),requestAnimationFrame((function(){r.props.enteringModal===a&&(r.waitTransitionFinish(i,(function(){return r.props.onEntered(a)})),r.animateModalOpacity(i,!0))}))}this.props.activeModal&&!e.activeModal&&(this.restoreFocusTo=null!==(t=null===(n=this.props.document)||void 0===n?void 0:n.activeElement)&&void 0!==t?t:void 0);this.props.activeModal||this.props.exitingModal||!this.restoreFocusTo||(this.restoreFocusTo.focus(),this.restoreFocusTo=void 0)}},{key:"closeModal",value:function(e){var t=this,n=this.getModalState(e);n&&(this.waitTransitionFinish(n,(function(){return t.props.onExited(e)})),this.animateModalOpacity(n,!1),this.props.activeModal||this.setMaskOpacity(n,0))}},{key:"waitTransitionFinish",value:function(e,t){if(K.supported){var n;null===e||void 0===e||null===(n=e.innerElement)||void 0===n||n.addEventListener(K.name,(function n(){var r;null===e||void 0===e||null===(r=e.innerElement)||void 0===r||r.removeEventListener(K.name,n),t()}))}else setTimeout(t,this.timeout)}},{key:"animateModalOpacity",value:function(e,t){null!==e&&void 0!==e&&e.innerElement&&(e.innerElement.style.transitionDelay=t&&this.props.delayEnter?"".concat(this.timeout,"ms"):"",e.innerElement.style.opacity=t?"1":"0")}},{key:"setMaskOpacity",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===r&&(null===(t=this.props.history)||void 0===t?void 0:t[0])!==e.id||(this.maskAnimationFrame&&cancelAnimationFrame(this.maskAnimationFrame),this.maskAnimationFrame=requestAnimationFrame((function(){if(n.maskElementRef.current){var t=e.translateY,a=void 0===t?0:t,i=e.translateYCurrent,o=null===r?1-((void 0===i?0:i)-a)/(100-a)||0:r;n.maskElementRef.current.style.opacity=Math.max(0,Math.min(100,o)).toString()}})))}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.exitingModal,a=n.activeModal,i=n.enteringModal;return a||r?U(rn.Provider,{value:this.modalRootContext},U("div",{vkuiClass:W(Ut("ModalRoot",this.props.platform),(null===(e=this.props.configProvider)||void 0===e?void 0:e.webviewType)===Ne.VKAPPS&&"ModalRoot--vkapps","ModalRoot--desktop")},U("div",{vkuiClass:"ModalRoot__mask",ref:this.maskElementRef,onClick:this.props.onExit}),U("div",{vkuiClass:"ModalRoot__viewport"},this.modals.map((function(e){var n=ct(e.props);if(n!==a&&n!==r)return null;var o="modal-".concat(n);return U(Qn,{restoreFocus:!1,onClose:t.props.onExit,timeout:t.timeout,key:o,vkuiClass:W("ModalRoot__modal",!r&&!i&&n===a&&"ModalRoot__modal--active",n===r&&"ModalRoot__modal--prev",Boolean(r)&&n===a&&"ModalRoot__modal--next")},e)}))))):null}}]),n}(M.Component)),Si=di(li(he(mi()(ji))),Ae,"configProvider"),Ci=function(e){var t=Ht();return He(!!e.activeModal),U(t?Si:ki,e)};Ci.displayName="ModalRoot";var Ti=Ot(Ci,{viewWidth:!0,viewHeight:!0,hasMouse:!0});function Ni(e){var t,n,r;return e&&90===Math.abs(null!==(t=null===(n=e.screen)||void 0===n?void 0:null===(r=n.orientation)||void 0===r?void 0:r.angle)&&void 0!==t?t:Number(e.orientation))?"landscape":"portrait"}var Ei=["children","header","size","viewWidth","viewHeight","sizeX","hasMouse","onOpen","onOpened","onClose","onClosed","settlingHeight","dynamicContentHeight","getModalContentRef","nav","id","hideCloseButton"],Ii=(Ze("ModalPage"),Ot((function(e){var t=e.children,n=e.header,r=e.size,a=void 0===r?"s":r,i=(e.viewWidth,e.viewHeight,e.sizeX),o=(e.hasMouse,e.onOpen,e.onOpened,e.onClose),s=(e.onClosed,e.settlingHeight,e.dynamicContentHeight,e.getModalContentRef),u=e.nav,c=e.id,l=e.hideCloseButton,d=void 0!==l&&l,p=D()(e,Ei),f=M.useContext(rn).updateModalHeight,m=tt(),v=function(){var e=fe().window,t=M.useState((function(){return Ni(e)})),n=h()(t,2),r=n[0],a=n[1];return Qt(e,"orientationchange",(function(){return a(Ni(e))})),r}();M.useEffect(f,[t,v,f]);var b=Ht(),g=!d&&b,y=b?a:"s",_=M.useContext(rn),x=an(ct({nav:u,id:c}),ni.PAGE).refs;return U("div",A()({},p,{id:c,vkuiClass:W("ModalPage",m===X.IOS&&"ModalPage--ios",m===X.VKCOM&&"ModalPage--vkcom","ModalPage--sizeX-".concat(i),b&&"ModalPage--desktop",y&&"ModalPage--".concat(y))}),U("div",{vkuiClass:"ModalPage__in-wrap",ref:x.innerElement},U("div",{vkuiClass:"ModalPage__in"},U("div",{vkuiClass:"ModalPage__header",ref:x.headerElement},n),U("div",{vkuiClass:"ModalPage__content-wrap"},U("div",{vkuiClass:"ModalPage__content",ref:_e(x.contentElement,s)},U("div",{vkuiClass:"ModalPage__content-in"},t))),g&&U(Xn,{onClick:o||_.onClose}))))}),{viewWidth:!0,viewHeight:!0,sizeX:!0,hasMouse:!0}));Ii.displayName="ModalPage";var Ai=["children","separator","getRef"],Ri=function(e){var t=e.children,n=e.separator,r=void 0===n||n,a=e.getRef,i=D()(e,Ai),o=tt(),s=r&&o===ne,u=Ht();return U("div",{vkuiClass:W("ModalPageHeader",o!==ne&&"ModalPageHeader--withGaps",u&&"ModalPageHeader--desktop"),ref:a},U(ln,A()({vkuiClass:"ModalPageHeader__in"},i,{fixed:!1,separator:!1,transparent:!0}),t),s&&U(nn,{wide:!0}))},Di=n(764);var Mi={passive:!0,capture:!1};var Fi=["getRootRef","icon","header","subheader","children","actions","actionsLayout","viewWidth","hasMouse","viewHeight","onClose","dismissLabel"],Li=Ot((function(e){var t=e.getRootRef,n=e.icon,r=e.header,a=e.subheader,i=e.children,o=e.actions,s=e.actionsLayout,u=e.viewWidth,c=(e.hasMouse,e.viewHeight,e.onClose),l=e.dismissLabel,d=void 0===l?"\u0421\u043a\u0440\u044b\u0442\u044c":l,p=D()(e,Fi),f=tt(),m=Ht(),v=function(){var e,t=fe().document,n=M.useState(!1),r=h()(n,2),a=r[0],i=r[1],o=M.useCallback((function(e){var n,r,a=(!0===e||"focusin"===e.type)&&("INPUT"===(null===t||void 0===t?void 0:null===(n=t.activeElement)||void 0===n?void 0:n.tagName)||"TEXTAREA"===(null===t||void 0===t?void 0:null===(r=t.activeElement)||void 0===r?void 0:r.tagName));i(a)}),[null===t||void 0===t?void 0:null===(e=t.activeElement)||void 0===e?void 0:e.tagName]);return M.useEffect((function(){o(!0)}),[o]),Qt(t,"focusout",o,Mi),Qt(t,"focusin",o,Mi),{isOpened:a}}().isOpened,b=u>=bt.SMALL_TABLET||f===X.VKCOM,g=f===te&&!b;return U("div",A()({},p,{vkuiClass:W(Ut("ModalCardBase",f),m&&"ModalCardBase--desktop"),ref:t}),U("div",{vkuiClass:W("ModalCardBase__container",v&&"ModalCardBase__container--softwareKeyboardOpened")},be(n)&&U("div",{vkuiClass:"ModalCardBase__icon"},n),be(r)&&U(Kt,{level:"2",weight:"2",vkuiClass:"ModalCardBase__header"},r),be(a)&&U(An,{vkuiClass:"ModalCardBase__subheader"},a),i,be(o)&&U("div",{vkuiClass:W("ModalCardBase__actions","vertical"===s&&"ModalCardBase__actions--v")},o),b&&U(Xn,{onClick:c}),g&&U(Zt,{"aria-label":d,vkuiClass:"ModalCardBase__dismiss",onClick:c},U(Di.a,null))))}),{viewWidth:!0,viewHeight:!0,hasMouse:!0});Li.displayName="ModalCardBase";var Pi=["icon","header","subheader","children","actions","actionsLayout","onClose","platform","viewWidth","viewHeight","hasMouse","nav","id"],zi=(Ze("ModalCard"),Ot(li((function(e){var t=e.icon,n=e.header,r=e.subheader,a=e.children,i=e.actions,o=e.actionsLayout,s=void 0===o?"horizontal":o,u=e.onClose,c=e.platform,l=(e.viewWidth,e.viewHeight,e.hasMouse,e.nav),d=e.id,p=D()(e,Pi),f=Ht(),h=M.useContext(rn),m=an(ct({nav:l,id:d}),ni.CARD).refs;return U("div",A()({},p,{id:d,vkuiClass:W(Ut("ModalCard",c),f&&"ModalCard--desktop")}),U(Li,{vkuiClass:"ModalCard__in",getRootRef:m.innerElement,icon:t,header:n,subheader:r,actions:i,actionsLayout:s,onClose:u||h.onClose},a))})),{viewWidth:!0,viewHeight:!0,hasMouse:!0}));zi.displayName="ModalCard";var Bi=["icon","sizeY","children","Component"],Vi=(Ze("IconButton"),Ot((function(e){var t=e.icon,n=e.sizeY,r=e.children,a=e.Component,i=void 0===a?"button":a,o=D()(e,Bi),s=tt();return U(Vt,A()({activeEffectDelay:200,activeMode:"background"},o,{Component:o.href?"a":i,vkuiClass:W("IconButton","IconButton--sizeY-".concat(n),s===te&&"IconButton--ios")}),t||r)}),{sizeY:!0}));Vi.displayName="IconButton";var Ui=["children","size","spaced","sizeX"],Wi=Ot((function(e){var t=e.children,n=e.size,r=void 0===n?"s":n,a=e.spaced,i=void 0!==a&&a,o=e.sizeX,s=D()(e,Ui);return U("div",A()({},s,{vkuiClass:W("CardGrid",i&&"CardGrid--spaced","CardGrid--".concat(r),"CardGrid--sizeX-".concat(o))}),t)}),{sizeX:!0});Wi.displayName="CardGrid";var Hi=["mode","children","getRootRef"],Gi=function(e){var t=e.mode,n=void 0===t?"tint":t,r=e.children,a=e.getRootRef,i=D()(e,Hi),o=tt();return U("div",A()({},i,{ref:a,vkuiClass:W(Ut("Card",o),"Card--md-".concat(n))}),U("div",{vkuiClass:"Card__in"},r))},$i=["subtitle","header","text","caption","className","mode","style","getRootRef","getRef","maxHeight","image","src","srcSet","alt","width","height","crossOrigin","decoding","loading","referrerPolicy","sizes","useMap","hasHover","hasActive"],qi=(Ze("ContentCard"),function(e){var t=e.subtitle,n=e.header,r=e.text,a=e.caption,i=e.className,o=e.mode,s=void 0===o?"shadow":o,u=e.style,c=e.getRootRef,l=e.getRef,d=e.maxHeight,p=e.image,f=e.src,h=e.srcSet,m=e.alt,v=(e.width,e.height),b=e.crossOrigin,g=e.decoding,y=e.loading,_=e.referrerPolicy,x=e.sizes,k=e.useMap,w=e.hasHover,O=void 0!==w&&w,j=e.hasActive,S=void 0!==j&&j,C=D()(e,$i),T=p||f;return U(Gi,{mode:s,getRootRef:c,vkuiClass:W("ContentCard",C.disabled&&"ContentCard--disabled"),style:u,className:i},U(Vt,A()({},C,{disabled:C.disabled||!C.onClick&&!C.href,hasHover:O,hasActive:S,vkuiClass:"ContentCard__tappable"}),(T||h)&&U("img",{ref:l,vkuiClass:"ContentCard__img",src:T,srcSet:h,alt:m,crossOrigin:b,decoding:g,loading:y,referrerPolicy:_,sizes:x,useMap:k,height:v,style:{maxHeight:d},width:"100%"}),U("div",{vkuiClass:"ContentCard__body"},be(t)&&U(Dn,{vkuiClass:"ContentCard__text ContentCard__subtitle",weight:"1",level:"3",caps:!0},t),be(n)&&U(Un,{vkuiClass:"ContentCard__text",weight:"2",level:"1"},n),be(r)&&U($t,{vkuiClass:"ContentCard__text"},r),be(a)&&U(Dn,{vkuiClass:"ContentCard__text ContentCard__caption"},a))))}),Ki=["badge","badgeBeforeTitle","badgeAfterTitle","badgeBeforeSubtitle","badgeAfterSubtitle","before","indicator","children","after","description","expandable","multiline","sizeY","subhead","subtitle","extraSubtitle"],Xi=function(e){return Wt().sizeY===vt.COMPACT?U(Dn,A()({level:"2"},e)):U(Va,e)},Yi=Ot((function(e){var t=e.badge,n=e.badgeBeforeTitle,r=e.badgeAfterTitle,a=void 0===r?t:r,i=e.badgeBeforeSubtitle,o=e.badgeAfterSubtitle,s=e.before,u=e.indicator,c=e.children,l=e.after,d=e.description,p=e.expandable,f=e.multiline,h=e.sizeY,m=e.subhead,v=e.subtitle,b=void 0===v?d:v,g=e.extraSubtitle,y=D()(e,Ki),_=tt(),x=be(l)||p&&_===te;return U(Vt,A()({},y,{vkuiClass:W(Ut("SimpleCell",_),p&&"SimpleCell--exp",f&&"SimpleCell--mult","SimpleCell--sizeY-".concat(h))}),s,U("div",{vkuiClass:"SimpleCell__main"},m&&U(An,{Component:"span",vkuiClass:"SimpleCell__text SimpleCell__subhead"},m),U("div",{vkuiClass:"SimpleCell__content"},n&&U("span",{vkuiClass:"SimpleCell__badge"},n),U(Un,{Component:"span",vkuiClass:"SimpleCell__children",weight:"3"},c),be(a)&&U("span",{vkuiClass:"SimpleCell__badge"},a)),b&&U("div",{vkuiClass:"SimpleCell__content"},i&&U("span",{vkuiClass:"SimpleCell__badge"},i),U(Xi,{vkuiClass:"SimpleCell__text SimpleCell__subtitle"},b),o&&U("span",{vkuiClass:"SimpleCell__badge"},o)),g&&U(Xi,{vkuiClass:"SimpleCell__text SimpleCell__extraSubtitle"},g)),be(u)&&U(Un,{Component:"span",weight:"3",vkuiClass:"SimpleCell__indicator"},u),x&&U("div",{vkuiClass:"SimpleCell__after"},l,p&&_===te&&U(_n,null)))}),{sizeY:!0});Yi.displayName="SimpleCell";var Zi=Object(vn.a)("Icon12Circle","circle_12","0 0 12 12",'<symbol fill="none" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg" id="circle_12"><path d="M10 6a4 4 0 1 1-8 0 4 4 0 0 1 8 0z" fill="currentColor" /></symbol>',12,12,!1,void 0),Qi=Object(vn.a)("Icon12OnlineMobile","online_mobile_12","0 0 8 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 12" id="online_mobile_12"><path fill="currentColor" d="M5.99 0C7.1 0 8 .9 8 2.01v7.98C8 11.1 7.1 12 5.99 12H2.01C.9 12 0 11.1 0 9.99V2.01C0 .9.9 0 2.01 0h3.98Zm.007 3H2.004a.502.502 0 0 0-.503.502v4.995c0 .278.225.503.503.503h3.995a.502.502 0 0 0 .502-.502V3.503A.502.502 0 0 0 5.997 3Z" /></symbol>',8,12,!1,void 0),Ji=["alt","crossOrigin","decoding","height","loading","referrerPolicy","sizes","src","srcSet","useMap","width","getRef","size","shadow","mode","className","children","getRootRef","style","aria-label","badge","overlayIcon","overlayMode","overlayAction","onClick"],eo=function(e){var t=e.alt,n=e.crossOrigin,r=e.decoding,a=e.height,i=e.loading,o=e.referrerPolicy,s=e.sizes,u=e.src,c=e.srcSet,l=e.useMap,d=e.width,p=e.getRef,f=e.size,m=void 0===f?48:f,v=e.shadow,b=void 0===v||v,g=e.mode,y=void 0===g?"default":g,_=e.className,x=e.children,k=e.getRootRef,w=e.style,O=e["aria-label"],j=e.badge,S=e.overlayIcon,C=e.overlayMode,T=void 0===C?"light":C,N=e.overlayAction,E=e.onClick,I=D()(e,Ji),R=Wt().hasMouse,F=M.useState(!1),L=h()(F,2),P=L[0],z=L[1],B=null!==N&&void 0!==N?N:R?"hover":"always",V="50%";switch(y){case"image":m<64&&(V=4),m>=64&&m<96&&(V=6),m>=96&&(V=8);break;case"app":m<=40&&(V=8),m>40&&m<56&&(V=10),m>=56&&m<64&&(V=12),m>=64&&m<84&&(V=16),m>=84&&(V=18)}var H=u||c;return U("div",A()({},I,{vkuiClass:W("Avatar","Avatar--type-".concat(y),"Avatar--sz-".concat(m),b&&"Avatar--shadow",P&&"Avatar--failed"),className:_,ref:k,role:H?"img":"presentation","aria-label":t||O,onClick:S?void 0:E,style:ie()(ie()({},w),{},{width:m,height:m,borderRadius:V})}),H&&U("img",{crossOrigin:n,decoding:r,height:a,loading:i,referrerPolicy:o,sizes:s,src:u,srcSet:c,useMap:l,width:d,ref:p,onError:function(){z(!0)},onLoad:function(){z(!1)},vkuiClass:"Avatar__img",alt:""}),x&&U("div",{vkuiClass:"Avatar__children"},x),S&&U(Vt,{Component:"button",vkuiClass:W("Avatar__overlay","always"===B&&"Avatar__overlay--visible","light"===T&&"Avatar__overlay--light","dark"===T&&"Avatar__overlay--dark"),hoverMode:"Avatar__overlay--visible",focusVisibleMode:"Avatar__overlay--focus-visible",hasActive:!1,onClick:E},S),j&&U("div",{vkuiClass:W("Avatar__badge",m>=96&&"Avatar__badge--large","online"!==j&&"online-mobile"!==j&&"Avatar__badge--shadow")},"online"===j?U("div",{vkuiClass:"Avatar__badge-online"},U(Zi,{width:m>=72?15:12,height:m>=72?15:12})):"online-mobile"===j?U("div",{vkuiClass:"Avatar__badge-online-mobile"},U(Qi,{width:m>=72?9:8,height:m>=72?15:12})):j))},to=["size","children"],no=["className","header","style","subtitle","size","children","getRootRef","getRef"],ro=function(e){var t=e.size,n=e.children,r=D()(e,to);return"s"===t?U(Dn,A()({level:"2"},r),n):U(An,r,n)},ao=function(e){var t=e.className,n=e.header,r=e.style,a=e.subtitle,i=e.size,o=void 0===i?"s":i,s=e.children,u=void 0===s?U(eo,{size:56}):s,c=e.getRootRef,l=e.getRef,d=D()(e,no);return U("div",{vkuiClass:W("HorizontalCell","HorizontalCell--".concat(o)),ref:c,style:r,className:t},U(Vt,A()({vkuiClass:"HorizontalCell__body",getRootRef:l},d),be(u)&&U("div",{vkuiClass:"HorizontalCell__image"},u),U("div",{vkuiClass:"HorizontalCell__content"},be(n)&&U(ro,{size:o,vkuiClass:"HorizontalCell__title"},n),be(a)&&U(Va,{vkuiClass:"HorizontalCell__subtitle"},a))))},io=["hasVisited","children"],oo=function(e){var t=e.hasVisited,n=e.children,r=D()(e,io);return U(Vt,A()({Component:r.href?"a":"button"},r,{vkuiClass:W("Link",t&&"Link--has-visited"),hasHover:!1,activeMode:"opacity",focusVisibleMode:"Link--focus-visible"}),n)},so=["children","isShown","offsetX","offsetY","alignX","alignY","onClose","cornerOffset","cornerAbsoluteOffset","mode","appearance","arrow","placement"],uo=function(e){return M.isValidElement(e)&&"string"===typeof e.type},co=Ut("Tooltip"),lo=(Ze("Tooltip"),M.forwardRef((function(e,t){var n=e.appearance,r=void 0===n?"accent":n,a=e.header,i=e.text,o=e.arrow,s=e.style,u=void 0===s?{}:s,c=e.attributes;return U("div",{vkuiClass:W(co,"Tooltip--".concat(r))},U("div",A()({vkuiClass:"Tooltip__container",ref:t,style:u.container},null===c||void 0===c?void 0:c.container),o&&U(Sa,{style:u.arrow,attributes:null===c||void 0===c?void 0:c.arrow,arrowClassName:V("Tooltip__arrow")}),U("div",{vkuiClass:"Tooltip__content"},a&&U(An,{weight:"2",vkuiClass:"Tooltip__title"},a),i&&U(An,{vkuiClass:"Tooltip__text"},i))))})));function po(e){switch(e){case"left":return"start";case"right":return"end";default:return""}}var fo=function(e){var t,n,r=e.children,a=e.isShown,i=void 0===a||a,o=e.offsetX,s=void 0===o?0:o,u=e.offsetY,c=void 0===u?15:u,l=e.alignX,d=e.alignY,p=e.onClose,f=e.cornerOffset,m=void 0===f?0:f,b=e.cornerAbsoluteOffset,g=e.mode,y=void 0===g?"accent":g,_=e.appearance,x=e.arrow,k=void 0===x||x,w=e.placement,O=D()(e,so),j=st().entering,S=i&&!j,C=M.useState(null),T=h()(C,2),N=T[0],E=T[1],I=M.useState(),R=h()(I,2),F=R[0],L=R[1],P=M.useMemo((function(){return null===F||void 0===F?void 0:F.closest("[".concat("data-tooltip-container","]"))}),[F]),z=M.useMemo((function(){return"fixed"===(null===F||void 0===F?void 0:F.style.position)?"fixed":"absolute"}),[F]);var B=M.useMemo((function(){var e=[{name:"offset",options:{offset:[s,c]}},{name:"preventOverflow"},{name:"flip"}];return k&&(e.push({name:"arrow",options:{padding:14}}),e.push({name:"arrowOffset",enabled:!0,phase:"main",fn:function(e){var t,n,r=e.state;r.modifiersData.arrow&&(!function(e){return e.startsWith("top")||e.startsWith("bottom")}(r.placement)?void 0!==b?r.modifiersData.arrow.y=b:void 0!==(null===(n=r.modifiersData.arrow)||void 0===n?void 0:n.y)&&(r.modifiersData.arrow.y+=m):void 0!==b?r.modifiersData.arrow.x=b:void 0!==(null===(t=r.modifiersData.arrow)||void 0===t?void 0:t.x)&&(r.modifiersData.arrow.x+=m))}})),e}),[k,b,m,s,c]),V=null!==w&&void 0!==w?w:function(e,t){return[t||"bottom",po(e||"left")].filter((function(e){return!!e})).join("-")}(l,d),W=ja(F,N,{strategy:z,placement:V,modifiers:B}),H=W.styles,G=W.attributes;Qt(fe().document,"click",S&&p,{capture:!0,passive:!0});var $=Oe(L,M.isValidElement(r)&&(uo(r)?r.ref:r.props.getRootRef)),q=M.isValidElement(r)?M.cloneElement(r,v()({},uo(r)?"ref":"getRootRef",$)):r,K=function(e,t){return t||("light"===e?"white":"accent")}(y,_);return U(M.Fragment,null,q,S&&null!=F&&Xe.a.createPortal(U(lo,A()({},O,{appearance:K,arrow:k,ref:function(e){return E(e)},style:{arrow:H.arrow,container:H.popper},attributes:{arrow:null!==(t=G.arrow)&&void 0!==t?t:null,container:null!==(n=G.popper)&&void 0!==n?n:null}})),P))},ho=M["useId".toString()],mo=0;var vo=null!==ho&&void 0!==ho?ho:function(){var e=M.useState((function(){return mo++})),t=h()(e,1)[0];return":r".concat(t,":")},bo=["photoSize","direction"],go=["photos","visibleCount","count","size","layout","children"];function yo(e){var t=e.photoSize,n=e.direction,r=D()(e,bo);switch(n){case"circle":var a=t/2;return U("circle",A()({cx:a,cy:a,r:a},r));case"right":switch(t){case 24:return U("path",A()({d:"M22,18.625A12 12 0 0 1 12 24A12 12 0 0 1 12 0A12 12 0 0 1 22 5.375A12 12 0 0 0 22,18.625"},r));default:return U("path",A()({d:"M30,23.75A16 16 0 0 1 16 32A16 16 0 0 1 16 0A16 16 0 0 1 30 8.25A16 16 0 0 0 30,23.75"},r))}default:switch(t){case 16:return U("path",A()({d:"M2,13.285A8 8 0 0 0 8 16A8 8 0 0 0 8 0A8 8 0 0 0 2 2.715A8 8 0 0 1 2,13.285"},r));case 24:return U("path",A()({d:"M2,18.625A12 12 0 0 0 12 24A12 12 0 0 0 12 0A12 12 0 0 0 2 5.375A12 12 0 0 1 2,18.625"},r));default:return U("path",A()({d:"M2,23.75A16 16 0 0 0 16 32A16 16 0 0 0 16 0A16 16 0 0 0 2 8.25A16 16 0 0 1 2,23.75"},r))}}}var _o=function(e){var t=e.photos,n=void 0===t?[]:t,r=e.visibleCount,a=void 0===r?3:r,i=e.count,o=void 0===i?Math.max(0,n.length-a):i,s=e.size,u=void 0===s?"s":s,c=e.layout,l=void 0===c?"horizontal":c,d=e.children,p=D()(e,go),f=vo(),h=o>0&&"xs"!==u,m="m"===u?Va:Dn,v={xs:16,s:24,m:32}[u],b=h?"right":"left",g=n.slice(0,a).map((function(e,t){var n=0!==t||h?b:"circle",r="UsersStackDefs".concat(f).concat(t),a="#".concat(r),i="UsersStackMask".concat(f).concat(t);return U("svg",{xmlns:"http://www.w3.org/2000/svg",vkuiClass:"UsersStack__photo",key:t,"aria-hidden":!0},U("defs",null,U(yo,{id:r,direction:n,photoSize:v})),U("clipPath",{id:i},U("use",{href:a})),U("g",{clipPath:"url(#".concat(i,")")},U("use",{href:a,vkuiClass:"UsersStack__fill"}),U("image",{href:e,width:v,height:v}),U("use",{href:a,fill:"none",stroke:"rgba(0, 0, 0, 0.08)"})))})),y=h?U(m,{caps:!0,weight:"1",level:"2",vkuiClass:"UsersStack__photo UsersStack__photo--others","aria-hidden":!0},U("span",null,"+",o)):null;return U("div",A()({},p,{vkuiClass:W("UsersStack","UsersStack--size-".concat(u),"UsersStack--l-".concat(l),h&&"UsersStack--others")}),(g.length>0||y)&&U("div",{vkuiClass:"UsersStack__photos",role:"presentation"},g,y),be(d)&&U(Va,{vkuiClass:"UsersStack__text"},d))},xo=Object(vn.a)("Icon24DismissDark","dismiss_dark_24","0 0 24 24",'<symbol fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="dismiss_dark_24"><path d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z" fill="#000" opacity=".24" /><path d="M16.736 7.264a.9.9 0 0 1 0 1.272L13.273 12l3.463 3.464a.9.9 0 0 1 .081 1.18l-.08.092a.9.9 0 0 1-1.273 0L12 13.273l-3.464 3.463a.9.9 0 1 1-1.272-1.272L10.727 12 7.264 8.536a.9.9 0 0 1-.08-1.18l.08-.092a.9.9 0 0 1 1.272 0L12 10.727l3.464-3.463a.9.9 0 0 1 1.272 0z" fill="#fff" /></symbol>',24,24,!1,void 0),ko=Object(vn.a)("Icon24DismissSubstract","dismiss_substract_24","0 0 24 24",'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="dismiss_substract_24"><path d="M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm4.736 7.264a.9.9 0 0 0-1.272 0L12 10.727 8.536 7.264l-.092-.08a.9.9 0 0 0-1.18.08l-.08.092a.9.9 0 0 0 .08 1.18L10.727 12l-3.463 3.464a.9.9 0 1 0 1.272 1.272L12 13.273l3.464 3.463.092.08a.9.9 0 0 0 1.18-.08l.08-.092a.9.9 0 0 0-.08-1.18L13.273 12l3.463-3.464a.9.9 0 0 0 0-1.272z" fill="currentColor" /></symbol>',24,24,!1,void 0),wo=["mode","imageTheme","size","before","asideMode","header","subheader","text","children","background","actions","onDismiss","dismissLabel"],Oo=function(e){var t=e.mode,n=void 0===t?"tint":t,r=e.imageTheme,a=void 0===r?"dark":r,i=e.size,o=void 0===i?"s":i,s=e.before,u=e.asideMode,c=e.header,l=e.subheader,d=e.text,p=(e.children,e.background),f=e.actions,h=e.onDismiss,m=e.dismissLabel,v=void 0===m?"\u0421\u043a\u0440\u044b\u0442\u044c":m,b=D()(e,wo),g=tt(),y="m"===o?Kt:Un,_="m"===o?$t:An,x="image"===n?xo:ko,k=U(M.Fragment,null,"image"===n&&p&&U("div",{"aria-hidden":"true",vkuiClass:"Banner__bg"},p),s&&U("div",{vkuiClass:"Banner__before"},s),U("div",{vkuiClass:"Banner__content"},be(c)&&U(y,{Component:"span",vkuiClass:"Banner__header",weight:"2",level:"m"===o?"2":"1"},c),be(l)&&U(_,{Component:"span",vkuiClass:"Banner__subheader"},l),be(d)&&U($t,{vkuiClass:"Banner__text"},d),be(f)&&M.Children.count(f)>0&&U("div",{vkuiClass:"Banner__actions"},f)));return U("section",A()({},b,{vkuiClass:W("Banner",g===te&&"Banner--ios","Banner--md-".concat(n),"Banner--sz-".concat(o),"image"===n&&"dark"===a&&"Banner--inverted")}),"expand"===u?U(Vt,{vkuiClass:"Banner__in",activeMode:g===te?"opacity":"background",role:"button"},k,U("div",{vkuiClass:"Banner__aside"},U(_n,null))):U("div",{vkuiClass:"Banner__in"},k,"dismiss"===u&&U("div",{vkuiClass:"Banner__aside"},U(Vi,{"aria-label":v,vkuiClass:"Banner__dismiss",onClick:h,hoverMode:"opacity",hasActive:!1},U(g===te?x:qa,null)))))},jo=n(765),So=n(766),Co=Object(vn.a)("Icon48WritebarSend","writebar_send_48","0 0 48 48",'<symbol fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" id="writebar_send_48"><path d="M24 7c9.389 0 17 7.611 17 17s-7.611 17-17 17S7 33.389 7 24 14.611 7 24 7zm0 10h-.018a.99.99 0 0 0-.071.004L24 17a1.017 1.017 0 0 0-.52.146 1.045 1.045 0 0 0-.097.067l-.008.007-.082.073-5.5 5.5a1 1 0 0 0 1.414 1.414L23 20.414V30.5a1 1 0 1 0 2 0V20.414l3.793 3.793a1 1 0 0 0 1.414-1.414l-5.5-5.5-.082-.073-.008-.007.09.08a1.012 1.012 0 0 0-.559-.282.906.906 0 0 0-.129-.01L24 17z" fill="currentColor" /></symbol>',48,48,!1,void 0),To=Object(vn.a)("Icon24Send","send_24","0 0 24 24",'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="send_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M5.739 15.754c-.686 1.855-1.117 3.158-1.293 3.91-.553 2.362-.956 2.894 1.107 1.771 2.062-1.122 12.046-6.683 14.274-7.919 2.904-1.611 2.942-1.485-.156-3.196-2.36-1.302-12.227-6.718-14.118-7.782-1.892-1.063-1.66-.59-1.107 1.772.178.761.616 2.076 1.311 3.944a4 4 0 0 0 2.988 2.531l5.765 1.117a.1.1 0 0 1 0 .196l-5.778 1.116a4 4 0 0 0-2.993 2.54Z" fill="currentColor" /></g></symbol>',24,24,!1,void 0),No=Object(vn.a)("Icon48WritebarDone","writebar_done_48","0 0 48 48",'<symbol fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" id="writebar_done_48"><path d="M24 7c9.389 0 17 7.611 17 17s-7.611 17-17 17S7 33.389 7 24 14.611 7 24 7zm6.957 12.126a1 1 0 0 0-1.414 0L21.5 27.17l-3.46-3.46a1 1 0 1 0-1.414 1.415l4.167 4.166a1 1 0 0 0 1.414 0l8.75-8.75a1 1 0 0 0 0-1.414z" fill="currentColor" /></symbol>',48,48,!1,void 0),Eo=Object(vn.a)("Icon28CheckCircleOutline","check_circle_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="check_circle_outline_28"><g fill-rule="nonzero" fill="none"><path d="M0 0h28v28H0z" /><path d="M14 2c6.627 0 12 5.373 12 12s-5.373 12-12 12S2 20.627 2 14 7.373 2 14 2Zm0 2C8.477 4 4 8.477 4 14s4.477 10 10 10 10-4.477 10-10S19.523 4 14 4Zm4.29 6.29c.39-.39 1.03-.39 1.42 0 .39.39.39 1.03 0 1.42l-7.003 6.997a1 1 0 0 1-1.414 0l-3.5-3.5a1 1 0 0 1 1.414-1.414L12 16.586Z" fill="currentColor" /></g></symbol>',28,28,!1,void 0),Io=["mode","size","children"],Ao=function(e){var t=e.mode,n=void 0===t?"secondary":t,r=e.size,a=void 0===r?"m":r,i=e.children,o=D()(e,Io);if(0===M.Children.count(i))return null;var s="s"===a?Dn:Un;return U("span",A()({},o,{vkuiClass:W("Counter","Counter--".concat(n),"Counter--s-".concat(a))}),be(i)&&U(s,{Component:"span",vkuiClass:"Counter__in",level:"2"},i))},Ro=["mode","children","count"],Do=(Ze("WriteBarIcon"),function(e){var t,n=e.mode,r=e.children,a=e.count,i=D()(e,Ro),o=tt(),s=void 0;switch(n){case"attach":t=U(o===te?jo.a:So.a,{"aria-hidden":!0}),s="\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0444\u0430\u0439\u043b";break;case"send":t=U(o===te?Co:To,{"aria-hidden":!0}),s="\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c";break;case"done":t=U(o===te?No:Eo,{"aria-hidden":!0}),s="\u0413\u043e\u0442\u043e\u0432\u043e"}return U(Vt,A()({"aria-label":s},i,{Component:"button",hasHover:!1,activeMode:"WriteBarIcon__active",vkuiClass:W("WriteBarIcon",o===X.IOS&&"WriteBarIcon--ios",!!n&&"WriteBarIcon--".concat(n))}),U("span",{vkuiClass:"WriteBarIcon__in"},t||r,be(a)&&U(Ao,{vkuiClass:"WriteBarIcon__counter",size:"s"},a)))}),Mo=["children","Component","getRef","onSubmit"],Fo=function(e){return e.preventDefault()},Lo=function(e){var t=e.children,n=e.Component,r=void 0===n?"form":n,a=e.getRef,i=e.onSubmit,o=void 0===i?Fo:i,s=D()(e,Mo),u=tt();return U(r,A()({},s,{vkuiClass:Ut("FormLayout",u),onSubmit:o,ref:a}),U("div",{vkuiClass:"FormLayout__container"},t),"form"===r&&U("input",{type:"submit",vkuiClass:"FormLayout__submit",value:""}))},Po=["getRootRef","children","onRemove","removePlaceholder","align"],zo=function(e){var t=e.onRemove,n=e.removePlaceholder,r=e.removePlaceholderString,a=e.children,i=fe().window,o=M.useRef(null),s=M.useRef(!0),u=M.useState(0),c=h()(u,2),l=c[0],d=c[1];Qt(i,"click",(function(){l>0&&d(0)}),{capture:!0});return U("div",{vkuiClass:"Removable__content",style:{transform:"translateX(-".concat(null!==l&&void 0!==l?l:0,"px)")},onTransitionEnd:function(){var e;l>0?null===o||void 0===o||null===(e=o.current)||void 0===e||e.focus():s.current=!0}},U(Vi,{hasActive:!1,hasHover:!1,"aria-label":r,vkuiClass:"Removable__action Removable__toggle",onClick:function(e){if(e.stopPropagation(),o.current){var t=o.current.offsetWidth;s.current=!1,d(t)}},disabled:l>0},U("i",{vkuiClass:"Removable__toggle-in",role:"presentation"})),a,U("span",{vkuiClass:"Removable__offset","aria-hidden":!0}),U(Vt,{Component:"button",hasActive:!1,hasHover:!1,disabled:s.current,getRootRef:o,vkuiClass:"Removable__remove",onClick:t},U("span",{vkuiClass:"Removable__remove-in"},n)))},Bo=function(e){var t=e.getRootRef,n=e.children,r=e.onRemove,a=void 0===r?xe:r,i=e.removePlaceholder,o=void 0===i?"\u0423\u0434\u0430\u043b\u0438\u0442\u044c":i,s=e.align,u=void 0===s?"center":s,c=D()(e,Po),l=tt(),d=Wt().sizeY,p=Oe(t),f=function(e){e.preventDefault(),a(e)},h=ke(o);return U("div",A()({},c,{ref:p,vkuiClass:W("Removable",l===te&&"Removable--ios","Removable--".concat(u),"Removable--sizeY-".concat(d))}),l!==te&&U("div",{vkuiClass:"Removable__content"},n,U(Vi,{activeMode:"opacity",hoverMode:"opacity",vkuiClass:"Removable__action",onClick:f,"aria-label":h},U(qa,{role:"presentation"})),U("span",{vkuiClass:"Removable__offset","aria-hidden":!0})),l===te&&U(zo,{onRemove:f,removePlaceholder:o,removePlaceholderString:h},n))},Vo=["children","top","bottom","status","Component","removable","onRemove","removePlaceholder","getRootRef"],Uo=function(e){var t=e.children,n=e.top,r=e.bottom,a=e.status,i=void 0===a?"default":a,o=e.Component,s=void 0===o?"div":o,u=e.removable,c=e.onRemove,l=void 0===c?xe:c,d=e.removePlaceholder,p=void 0===d?"\u0423\u0434\u0430\u043b\u0438\u0442\u044c":d,f=e.getRootRef,h=D()(e,Vo),m=tt(),v=Oe(f),b=Wt().sizeY,g=U(M.Fragment,null,be(n)&&U(An,{vkuiClass:"FormItem__top"},n),t,be(r)&&U(Dn,{vkuiClass:"FormItem__bottom"},r));return U(s,A()({},h,{ref:v,vkuiClass:W(Ut("FormItem",m),"FormItem--".concat(i),"FormItem--sizeY-".concat(b),be(n)&&"FormItem--withTop",u&&"FormItem--removable")}),u?U(Bo,{align:"start",onRemove:function(e){null!==v&&void 0!==v&&v.current&&l(e,v.current)},removePlaceholder:p},U("div",{vkuiClass:"FormItem__removable"},g)):g)},Wo=["getRef"],Ho=function(e){var t=e.getRef,n=D()(e,Wo);return U("input",A()({},n,{vkuiClass:"VisuallyHiddenInput",ref:t}))},Go=["style","className","getRootRef"],$o=function(e){var t=e.style,n=e.className,r=e.getRootRef,a=D()(e,Go),i=tt(),o=Wt().sizeY,s=At(),u=s.focusVisible,c=s.onBlur,l=s.onFocus;return U("label",{vkuiClass:W(Ut("Switch",i),"Switch--sizeY-".concat(o),a.disabled&&"Switch--disabled",u&&"Switch--focus-visible"),className:n,style:t,ref:r,role:"presentation"},U(Ho,A()({},a,{type:"checkbox",vkuiClass:"Switch__self",onBlur:Dt(c,a.onBlur),onFocus:Dt(l,a.onFocus)})),U("span",{role:"presentation",vkuiClass:"Switch__pseudo"}),U(It,{mode:"outside"}))},qo=["Component","status","children","getRootRef","before","after","disabled","mode"],Ko="default",Xo="plain",Yo=function(e){var t=e.Component,n=void 0===t?"div":t,r=e.status,a=void 0===r?"default":r,i=e.children,o=e.getRootRef,s=e.before,u=e.after,c=e.disabled,l=e.mode,d=void 0===l?Ko:l,p=D()(e,qo),f=Wt().sizeY,m=M.useState(!1),v=h()(m,2),b=v[0],g=v[1];return U(n,A()({role:"presentation"},p,{ref:o,onMouseEnter:function(e){e.stopPropagation(),g(!0)},onMouseLeave:function(e){e.stopPropagation(),g(!1)},vkuiClass:W("FormField","FormField--".concat(d),"FormField--status-".concat(a),"FormField--sizeY-".concat(f),c&&"FormField--disabled",!c&&b&&"FormField--hover")}),s&&U("div",{role:"presentation",vkuiClass:"FormField__before"},s),i,u&&U("div",{role:"presentation",vkuiClass:"FormField__after"},u),U("div",{role:"presentation",vkuiClass:"FormField__border"}))},Zo=["type","align","getRef","className","getRootRef","sizeY","style","before","after","status"],Qo=Ot((function(e){var t=e.type,n=void 0===t?"text":t,r=e.align,a=e.getRef,i=e.className,o=e.getRootRef,s=e.sizeY,u=e.style,c=e.before,l=e.after,d=e.status,p=D()(e,Zo);return U(Yo,{vkuiClass:W("Input",!!r&&"Input--".concat(r),"Input--sizeY-".concat(s),c&&"Input--hasBefore",l&&"Input--hasAfter"),style:u,className:i,getRootRef:o,before:c,after:l,disabled:p.disabled,status:d},U("input",A()({},p,{type:n,vkuiClass:"Input__el",ref:a})))}),{sizeY:!0});Qo.displayName="Input";var Jo=["min","max","step","value","defaultValue","onChange","getRootRef","sizeY","disabled"],es=Ot((function(e){var t=e.min,n=void 0===t?0:t,r=e.max,a=void 0===r?100:r,i=e.step,o=e.value,s=void 0===o?[0,0]:o,u=(e.defaultValue,e.onChange),c=e.getRootRef,l=e.sizeY,d=e.disabled,p=D()(e,Jo),f=h()(s,2),m=f[0],v=f[1],b=null!=m,g=M.useRef({dragging:!1,startX:0,containerWidth:0}).current,y=Oe(c),_=M.useRef(null),x=M.useRef(null),k=function(e){return Me(e,[0,g.containerWidth],[n,a],{step:i})},w=function(e){if(null==m)return[null,e];var t=g.dragging;return"start"===t?e>v?(g.dragging="end",[v,e]):[e,v]:"end"===t?e<m?(g.dragging="start",[e,m]):[m,e]:s},O=function(e){return(e-n)/(a-n)*100},j=b?{width:"".concat(O(v)-O(null!==m&&void 0!==m?m:0),"%"),left:"".concat(O(null!==m&&void 0!==m?m:0),"%")}:{width:"".concat(O(v),"%")};return U(Te,A()({"data-value":b?s.join(","):s},p,d?{}:{onStart:function(e){var t,n,r,a=null===(t=y.current)||void 0===t?void 0:t.getBoundingClientRect();g.containerWidth=null!==(n=null===a||void 0===a?void 0:a.width)&&void 0!==n?n:0;var i=e.startX-(null!==(r=null===a||void 0===a?void 0:a.left)&&void 0!==r?r:0),o=k(i);g.dragging=function(e,t){return t===_.current?"start":t===x.current?"end":Math.abs((null!==m&&void 0!==m?m:0)-e)<=Math.abs(v-e)?"start":"end"}(o,e.originalEvent.target),g.startX=i,null===u||void 0===u||u(w(o),e),e.originalEvent.stopPropagation()},onMove:function(e){null===u||void 0===u||u(w(k(g.startX+(e.shiftX||0))),e),e.originalEvent.stopPropagation(),e.originalEvent.preventDefault()},onEnd:function(e){g.dragging=!1,e.originalEvent.stopPropagation()}},{vkuiClass:W("Slider","Slider--sizeY-".concat(l),d&&"Slider--disabled")}),U("div",{ref:y,vkuiClass:"Slider__in"},U("div",{vkuiClass:"Slider__dragger",style:j},b&&U("span",{vkuiClass:W("Slider__thumb","Slider__thumb--start"),ref:_}),U("span",{vkuiClass:W("Slider__thumb","Slider__thumb--end"),ref:x}))))}),{sizeY:!0});es.displayName="UniversalSlider";var ts=["onChange","defaultValue","min","max","value"],ns=function(e){var t=e.onChange,n=e.defaultValue,r=e.min,a=void 0===r?0:r,i=e.max,o=void 0===i?100:i,s=e.value,u=void 0===s?0:s,c=D()(e,ts),l=null!=u,d=M.useState(null==n?a:n),p=h()(d,2),f=p[0],m=p[1],v=Re(l?u:f,a,o),b=M.useCallback((function(e,n){c.disabled||v===e[1]||(!l&&m(e[1]),t&&t(e[1],n))}),[c.disabled,v,l,t]),g=M.useMemo((function(){return[null,v]}),[v]);return U(es,A()({},c,{value:g,onChange:b,min:a,max:o}))};function rs(e,t){var n=e.hasOwnProperty("value"),r=M.useState(t.defaultValue),a=h()(r,2),i=a[0],o=a[1],s=M.useCallback((function(t){!n&&o(t.target.value),e.onChange&&e.onChange(t)}),[n,e]);return[n?e.value:i,s]}var as=["defaultValue","grow","style","onResize","className","getRootRef","getRef","sizeY","rows","maxHeight","status"],is=Ot((function(e){var t=e.defaultValue,n=void 0===t?"":t,r=e.grow,a=void 0===r||r,i=e.style,o=e.onResize,s=e.className,u=e.getRootRef,c=e.getRef,l=e.sizeY,d=e.rows,p=void 0===d?2:d,f=e.maxHeight,m=e.status,v=D()(e,as),b=rs(v,{defaultValue:n}),g=h()(b,2),y=g[0],_=g[1],x=M.useRef(),k=Oe(c);return M.useEffect((function(){var e=k.current;a&&null!==e&&void 0!==e&&e.offsetParent&&(e.style.height="",e.style.height="".concat(e.scrollHeight,"px"),e.scrollHeight!==x.current&&o&&(o(e),x.current=e.scrollHeight))}),[a,y,l,k,o]),U(Yo,{vkuiClass:W("Textarea","Textarea--sizeY-".concat(l)),className:s,style:i,getRootRef:u,disabled:v.disabled,status:m},U("textarea",A()({},v,{style:{maxHeight:f},rows:p,vkuiClass:"Textarea__el",value:y,onChange:_,ref:k})))}),{sizeY:!0});is.displayName="Textarea";var os=Object(vn.a)("Icon20CheckBoxOn","check_box_on_20","0 0 20 20",'<symbol viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" id="check_box_on_20"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.436 4.184C2 5.04 2 6.16 2 8.4v3.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 18 6.16 18 8.4 18h3.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C18 14.96 18 13.84 18 11.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C14.96 2 13.84 2 11.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748Zm12.2 3.803a.9.9 0 1 0-1.272-1.274l-4.673 4.665-2.055-2.052A.9.9 0 0 0 5.364 10.6l2.691 2.687a.9.9 0 0 0 1.272 0l5.309-5.3Z" fill="currentColor" /></symbol>',20,20,!1,void 0),ss=Object(vn.a)("Icon24CheckBoxOn","check_box_on_24","0 0 24 24",'<symbol fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="check_box_on_24"><path clip-rule="evenodd" d="M2.436 4.184C2 5.04 2 6.16 2 8.4v7.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 22 6.16 22 8.4 22h7.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C22 18.96 22 17.84 22 15.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C18.96 2 17.84 2 15.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748zm15.771 5.023a1 1 0 0 0-1.414-1.414L10 14.586l-2.793-2.793a1 1 0 0 0-1.414 1.414l3.5 3.5a1 1 0 0 0 1.414 0z" fill="currentColor" fill-rule="evenodd" /></symbol>',24,24,!1,void 0),us=Object(vn.a)("Icon20CheckBoxOff","check_box_off_20","0 0 20 20",'<symbol viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" id="check_box_off_20"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.046 2.534C4.788 2.138 5.517 2 7.128 2h5.744c1.61 0 2.34.138 3.082.534.65.348 1.164.862 1.512 1.512.396.742.534 1.471.534 3.082v5.744c0 1.61-.138 2.34-.534 3.082a3.644 3.644 0 0 1-1.512 1.512c-.742.396-1.472.534-3.082.534H7.128c-1.61 0-2.34-.138-3.082-.534a3.644 3.644 0 0 1-1.512-1.512C2.138 15.212 2 14.482 2 12.872V7.128c0-1.61.138-2.34.534-3.082a3.645 3.645 0 0 1 1.512-1.512Zm3.082.966c-1.531 0-1.962.136-2.374.357a2.145 2.145 0 0 0-.897.897c-.22.412-.357.843-.357 2.374v5.744c0 1.531.136 1.962.357 2.374.208.389.508.69.897.897.412.22.843.357 2.374.357h5.744c1.531 0 1.962-.136 2.374-.357.389-.208.69-.508.897-.897.22-.412.357-.843.357-2.374V7.128c0-1.531-.136-1.962-.357-2.374a2.145 2.145 0 0 0-.897-.897c-.412-.22-.843-.357-2.374-.357H7.128Z" fill="currentColor" /></symbol>',20,20,!1,void 0),cs=Object(vn.a)("Icon24CheckBoxOff","check_box_off_24","0 0 24 24",'<symbol fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="check_box_off_24"><path d="M16.872 2c1.783 0 2.43.186 3.082.534.651.349 1.163.86 1.512 1.512S22 5.345 22 7.128v9.744c0 1.783-.186 2.43-.534 3.082a3.635 3.635 0 0 1-1.512 1.512c-.652.348-1.299.534-3.082.534H7.128c-1.783 0-2.43-.186-3.082-.534s-1.163-.86-1.512-1.512C2.186 19.302 2 18.655 2 16.872V7.128c0-1.783.186-2.43.534-3.082a3.635 3.635 0 0 1 1.512-1.512C4.698 2.186 5.345 2 7.128 2zm.564 2H6.564c-.892 0-1.215.093-1.54.267-.327.174-.583.43-.757.756-.174.326-.267.65-.267 1.54v10.873c0 .892.093 1.215.267 1.54.174.327.43.583.756.757.326.174.65.267 1.54.267h10.873c.892 0 1.215-.093 1.54-.267.327-.174.583-.43.757-.756.174-.326.267-.65.267-1.54V6.563c0-.892-.093-1.215-.267-1.54a1.817 1.817 0 0 0-.756-.757c-.326-.174-.65-.267-1.54-.267z" fill="currentColor" /></symbol>',24,24,!1,void 0),ls=Object(vn.a)("Icon20CheckBoxIndetermanate","check_box_indetermanate_20","0 0 20 20",'<symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="check_box_indetermanate_20"><path clip-rule="evenodd" d="M2 8.4c0-2.24 0-3.36.436-4.216a4 4 0 0 1 1.748-1.748C5.04 2 6.16 2 8.4 2h3.2c2.24 0 3.36 0 4.216.436a4 4 0 0 1 1.748 1.748C18 5.04 18 6.16 18 8.4v3.2c0 2.24 0 3.36-.436 4.216a4 4 0 0 1-1.748 1.748C14.96 18 13.84 18 11.6 18H8.4c-2.24 0-3.36 0-4.216-.436a4 4 0 0 1-1.748-1.748C2 14.96 2 13.84 2 11.6zm4.4.7a.9.9 0 1 0 0 1.8h7.2a.9.9 0 1 0 0-1.8z" fill="currentColor" fill-rule="evenodd" /></symbol>',20,20,!1,void 0),ds=["children","className","style","getRootRef","getRef","description","indeterminate","defaultIndeterminate","sizeY","hoverMode","activeMode","hasHover","hasActive","focusVisibleMode","onChange"],ps=(Ze("Checkbox"),function(e){var t=e.children,n=e.className,r=e.style,a=e.getRootRef,i=e.getRef,o=e.description,s=e.indeterminate,u=e.defaultIndeterminate,c=e.sizeY,l=e.hoverMode,d=e.activeMode,p=e.hasHover,f=e.hasActive,h=e.focusVisibleMode,m=e.onChange,v=D()(e,ds),b=Oe(i),g=tt();M.useEffect((function(){var e=void 0===s?u:s;b.current&&(b.current.indeterminate=Boolean(e))}),[u,s,b]);var y=M.useCallback((function(e){void 0!==u&&void 0===s&&void 0===v.checked&&b.current&&(b.current.indeterminate=!1),void 0!==s&&b.current&&(b.current.indeterminate=s),m&&m(e)}),[u,s,v.checked,m,b]);return U(Vt,{Component:"label",vkuiClass:W("Checkbox","Checkbox--sizeY-".concat(c),!(be(t)||be(o))&&"Checkbox--simple"),className:n,style:r,disabled:v.disabled,activeEffectDelay:g===te?100:600,getRootRef:a,hoverMode:l,activeMode:d,hasHover:p,hasActive:f,focusVisibleMode:h},U(Ho,A()({},v,{onChange:y,type:"checkbox",vkuiClass:"Checkbox__input",getRef:b})),U("div",{vkuiClass:"Checkbox__icon Checkbox__icon--on"},c===vt.COMPACT||g===ne?U(os,{"aria-hidden":!0}):U(ss,{"aria-hidden":!0})),U("div",{vkuiClass:"Checkbox__icon Checkbox__icon--off"},c===vt.COMPACT||g===ne?U(us,{"aria-hidden":!0}):U(cs,{"aria-hidden":!0})),U("div",{vkuiClass:"Checkbox__icon Checkbox__icon--indeterminate"},U(ls,{"aria-hidden":!0,width:c===vt.COMPACT||g===ne?20:24,height:c===vt.COMPACT||g===ne?20:24})),U($t,{vkuiClass:"Checkbox__content",Component:"div"},U("div",{vkuiClass:"Checkbox__children"},t),be(o)&&U(Dn,{vkuiClass:"Checkbox__description"},o)))}),fs=(Ot(ps,{sizeY:!0}),Object(vn.a)("Icon20Dropdown","dropdown_20","0 0 20 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 16" id="dropdown_20"><path fill-rule="evenodd" d="M4.22 5.875a1 1 0 0 1 1.405-.156L10 9.22l4.375-3.5a1 1 0 0 1 1.25 1.562l-5 4a1 1 0 0 1-1.25 0l-5-4a1 1 0 0 1-.156-1.406Z" clip-rule="evenodd" /></symbol>',20,16,!1,void 0)),hs=Object(vn.a)("Icon24ChevronDown","chevron_down_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="chevron_down_24"><path d="M12 13.698 6.64 9.232a1 1 0 0 0-1.28 1.536l6 5a1 1 0 0 0 1.28 0l6-5a1 1 0 1 0-1.28-1.536L12 13.698Z" /></symbol>',24,24,!1,void 0),ms=Object(vn.a)("Icon20ChevronUp","chevron_up_20","0 0 20 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 16" id="chevron_up_20"><path fill-rule="evenodd" d="M15.78 11.125a1 1 0 0 1-1.405.156L10 7.78l-4.375 3.5a1 1 0 0 1-1.25-1.562l5-4a1 1 0 0 1 1.25 0l5 4a1 1 0 0 1 .156 1.406Z" clip-rule="evenodd" /></symbol>',20,16,!1,void 0),vs=Object(vn.a)("Icon24ChevronUp","chevron_up_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="chevron_up_24"><path d="m12 10.302-5.36 4.466a1 1 0 1 1-1.28-1.536l6-5a1 1 0 0 1 1.28 0l6 5a1 1 0 1 1-1.28 1.536L12 10.302Z" /></symbol>',24,24,!1,void 0),bs=["opened"],gs=function(e){var t=e.opened,n=void 0!==t&&t,r=D()(e,bs),a=Wt().sizeY,i=a===vt.COMPACT?fs:hs;return n&&(i=a===vt.COMPACT?ms:vs),U(i,A()({vkuiClass:W("DropdownIcon"),"aria-hidden":!0},r))},ys=["style","defaultValue","align","placeholder","children","className","getRef","getRootRef","disabled","sizeX","sizeY","multiline","selectType","status"],_s=Ot((function(e){var t=e.style,n=e.defaultValue,r=void 0===n?"":n,a=e.align,i=e.placeholder,o=e.children,s=e.className,u=e.getRef,c=e.getRootRef,l=e.disabled,d=e.sizeX,p=e.sizeY,f=e.multiline,m=e.selectType,v=void 0===m?Qs.default:m,b=e.status,g=D()(e,ys),y=tt(),_=M.useState(""),x=h()(_,2),k=x[0],w=x[1],O=M.useState(!1),j=h()(O,2),S=j[0],C=j[1],T=rs(g,{defaultValue:r}),N=h()(T,2),E=N[0],I=N[1],R=Oe(u);return je((function(){var e,t=null===(e=R.current)||void 0===e?void 0:e.options[R.current.selectedIndex];t&&(w(t.text),C(""===t.value&&null!=i))}),[E,o]),U(Yo,{Component:"label",vkuiClass:W(Ut("Select",y),"Select--".concat(v),S&&"Select--empty",f&&"Select--multiline",a&&"Select--align-".concat(a),"Select--sizeX-".concat(d),"Select--sizeY-".concat(p)),className:s,style:t,getRootRef:c,disabled:l,after:U(gs,null),status:b},U("select",A()({},g,{disabled:l,vkuiClass:"Select__el",onChange:I,value:E,ref:R}),i&&U("option",{value:""},i),o),U("div",{vkuiClass:"Select__container"},U(Js,{vkuiClass:"Select__title"},k)))}),{sizeX:!0,sizeY:!0});_s.displayName="NativeSelect";var xs,ks=n(264),ws=n.n(ks),Os=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[],r=e.indexOf(t);-1!==r;)n.push(r),r=e.indexOf(t,r+1);return n};try{xs=new RegExp("\\p{L}","u")}catch(Fu){}var js=function(e){return ke(e.label)},Ss=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:js;t=t.toLocaleLowerCase();var a=null===(e=r(n))||void 0===e?void 0:e.toLocaleLowerCase();if(null!==a&&void 0!==a&&a.startsWith(t))return!0;var i=Os(a,t);if(!xs||!a)return i.length>0;var o,s=ws()(i);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(!xs.test(a[u-1]))return!0}}catch(c){s.e(c)}finally{s.f()}return!1},Cs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qs.default;return e===Qs.default?Ko:Xo},Ts=["tabIndex","placeholder","children","align","getRootRef","multiline","disabled","onClick","sizeX","sizeY","before","after","selectType","status"],Ns=Ot((function(e){var t=e.tabIndex,n=void 0===t?0:t,r=e.placeholder,a=e.children,i=e.align,o=e.getRootRef,s=e.multiline,u=e.disabled,c=e.onClick,l=e.sizeX,d=e.sizeY,p=e.before,f=e.after,h=void 0===f?U(gs,null):f,m=e.selectType,v=void 0===m?Qs.default:m,b=e.status,g=D()(e,Ts),y=tt(),_=a||r;return U(Yo,A()({},g,{tabIndex:u?void 0:n,vkuiClass:W(Ut("Select",y),"Select--".concat(v),!a&&"Select--empty",s&&"Select--multiline",i&&"Select--align-".concat(i),"Select--sizeX-".concat(l),"Select--sizeY-".concat(d),p&&"Select--hasBefore",h&&"Select--hasAfter"),getRootRef:o,onClick:u?void 0:c,disabled:u,before:p,after:h,mode:Cs(v),status:b}),U("div",{vkuiClass:"Select__container"},U(Js,{selectType:v,vkuiClass:"Select__title"},_)))}),{sizeX:!0,sizeY:!0});Ns.displayName="SelectMimicry";var Es=n(767),Is=["children","hierarchy","hovered","selected","before","after","option","description","disabled","style"],As=(Ze("CustomSelectOption"),function(e){var t=e.children,n=e.hierarchy,r=void 0===n?0:n,a=e.hovered,i=e.selected,o=e.before,s=e.after,u=(e.option,e.description),c=e.disabled,l=e.style,d=D()(e,Is),p="string"===typeof t?t:void 0,f=Wt().sizeY,h=M.useMemo((function(){return r>0?ie()({"--custom-select-option-hierarchy-level":r},l):l}),[r,l]);return U(Ja,A()({},d,{Component:"div",role:"option",title:p,"aria-disabled":c,"aria-selected":i,vkuiClass:W("CustomSelectOption","CustomSelectOption--sizeY-".concat(f),a&&!c&&"CustomSelectOption--hover",i&&"CustomSelectOption--selected",c&&"CustomSelectOption--disabled",r>0&&"CustomSelectOption--hierarchy"),style:h}),be(o)&&U("div",{vkuiClass:"CustomSelectOption__before"},o),U("div",{vkuiClass:"CustomSelectOption__main"},U("div",{vkuiClass:"CustomSelectOption__children"},t),be(u)&&U(Dn,{vkuiClass:"CustomSelectOption__description"},u)),U("div",{vkuiClass:"CustomSelectOption__after"},be(s)&&U("div",{vkuiClass:"CustomSelectOption__afterIn"},s),i&&U(Es.a,{vkuiClass:"CustomSelectOption__selectedIcon"})))}),Rs=function(e){var t=e.className,n=e.children,r=e.boxRef,a=e.windowResize,i=e.autoHideScrollbar,o=void 0!==i&&i,s=e.autoHideScrollbarDelay,u=fe(),c=u.document,l=u.window,d=M.useRef(NaN),p=M.useRef(0),f=M.useRef(0),m=M.useRef(0),v=M.useRef(0),b=M.useRef(""),g=M.useRef(0),y=M.useRef(0),_=Oe(r),x=M.useRef(null),k=M.useRef(null),w=function(e){var t=e/(v.current-f.current);!function(e){p.current=e,null!==k.current&&(k.current.style[b.current]="translate(0, ".concat(e,"px)"))}((f.current-m.current)*t)},O=function(){if(_.current&&x.current&&k.current){var e=_.current.clientHeight,t=_.current.scrollHeight,n=e/t,r=Math.max(e*n,40);d.current=n,f.current=e,v.current=t,m.current=r,n>=1?x.current.style.display="none":(x.current.style.display="",k.current.style.height="".concat(r,"px"),w(_.current.scrollTop))}},j=Se("resize",O);je((function(){a&&l&&j.add(l)}),[a,l]),je((function(){var e,t=null===(e=k.current)||void 0===e?void 0:e.style,n="";void 0!==t&&("transform"in t?n="transform":"webkitTransform"in t&&(n="webkitTransform")),b.current=n}),[]),je(O);var S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=M.useState(!e),r=h()(n,2),a=r[0],i=r[1],o=M.useRef(!1),s=M.useRef(!1),u=pt((function(){return i(!1)}),t),c=u.set,l=u.clear,d=M.useCallback((function(){l(),i(!0),s.current=!0}),[l]),p=M.useCallback((function(){s.current=!1,o.current||c()}),[c,o]),f=M.useCallback((function(){s.current||(i(!0),c())}),[c]),m=M.useCallback((function(){l(),o.current=!0,i(!0)}),[l]),v=M.useCallback((function(){f(),o.current=!1}),[f]),b=M.useCallback((function(){f()}),[f]);return{trackerVisible:a,onTrackerDragStart:d,onTrackerDragStop:p,onTrackerMouseEnter:m,onTrackerMouseLeave:v,onTargetScroll:b}}(o,s),C=S.trackerVisible,T=S.onTargetScroll,N=S.onTrackerDragStart,E=S.onTrackerDragStop,I=S.onTrackerMouseEnter,A=S.onTrackerMouseLeave,R=[Se("mousemove",(function(e){e.preventDefault();var t=e.clientY-g.current;!function(e){var t=e/(f.current-m.current);null!==_.current&&(_.current.scrollTop=(v.current-f.current)*t)}(Math.min(Math.max(y.current+t,0),f.current-m.current))})),Se("mouseup",(function(e){e.preventDefault(),o&&E(),R.forEach((function(e){return e.remove()}))}))];return U("div",{vkuiClass:"CustomScrollView",className:t},U("div",{vkuiClass:"CustomScrollView__barY",ref:x,onClick:we},U("div",{vkuiClass:W("CustomScrollView__trackerY",!C&&"CustomScrollView__trackerY--hidden"),onMouseEnter:o?I:void 0,onMouseLeave:o?A:void 0,ref:k,onMouseDown:function(e){var t;e.preventDefault(),g.current=e.clientY,y.current=p.current,o&&N(),(t=c)&&R.forEach((function(e){return e.add(t)}))}})),U("div",{vkuiClass:"CustomScrollView__box",tabIndex:-1,ref:_,onScroll:function(){d.current>=1||!_.current||(o&&T(),w(_.current.scrollTop))}},n))},Ds=["children","targetRef","scrollBoxRef","placement","fetching","onPlacementChange","offsetDistance","sameWidth","forcePortal","autoHideScrollbar","autoHideScrollbarDelay","observableRefs"],Ms=function(e){return null===e||void 0===e?void 0:e.includes("top")};function Fs(e){return{name:"customSelectChildrenChange",enabled:!0,phase:"main",fn:xe,effect:function(t){var n=t.instance,r=new MutationObserver(n.forceUpdate);return r.observe(e,{childList:!0,subtree:!0}),function(){r.disconnect()}}}}var Ls=function(e){var t=e.children,n=e.targetRef,r=e.scrollBoxRef,a=e.placement,i=e.fetching,o=e.onPlacementChange,s=e.offsetDistance,u=void 0===s?0:s,c=e.sameWidth,l=void 0===c||c,d=e.forcePortal,p=void 0===d||d,f=e.autoHideScrollbar,m=e.autoHideScrollbarDelay,v=e.observableRefs,b=D()(e,Ds),g=M.useState((function(){return Ms(a)})),y=h()(g,2),_=y[0],x=y[1],k=M.useState([]),w=h()(k,2),O=w[0],j=w[1];je((function(){if(v){var e=[];if(Array.isArray(v)){var t,n=ws()(v);try{for(n.s();!(t=n.n()).done;){var r=t.value;null!==r&&void 0!==r&&r.current&&e.push(Fs(r.current))}}catch(a){n.e(a)}finally{n.f()}}else v.current&&e.push(Fs(v.current));j(e)}}),[v]);var S=M.useCallback((function(e){var t=e.placement;x(Ms(t)),null===o||void 0===o||o(t)}),[o,x]);return U(Aa,A()({targetRef:n,offsetDistance:u,sameWidth:l,onPlacementChange:S,placement:a,vkuiClass:W("CustomSelectDropdown",0===u&&(_?"CustomSelectDropdown--top":"CustomSelectDropdown--bottom"),l&&"CustomSelectDropdown--wide"),forcePortal:p,customModifiers:O},b),U(Rs,{boxRef:r,vkuiClass:"CustomSelectDropdown__in",autoHideScrollbar:f,autoHideScrollbarDelay:m},i?U("div",{vkuiClass:"CustomSelectDropdown__fetching"},U(Bn,{size:"small"})):t))},Ps=["option"],zs=["before","name","className","getRef","getRootRef","popupDirection","sizeY","platform","style","onChange","children","onInputChange","renderDropdown","onOpen","onClose","fetching","forceDropdownPortal","selectType","autoHideScrollbar","autoHideScrollbarDelay","searchable","renderOption","options","emptyText","filterFn","icon","dropdownOffsetDistance","fixDropdownWidth"],Bs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t>=e.length-1?-1:e.findIndex((function(e,n){return n>t&&!e.disabled}))},Vs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=-1;if(t<=0)return n;for(var r=t-1;r>=0;r--){var a=e[r];if(!a.disabled){n=r;break}}return n};Ze("CustomSelect");function Us(e){e.option;var t=D()(e,Ps);return U(As,t)}var Ws=function(e){e.preventDefault()};function Hs(e,t){var n;return null!==(n=e.findIndex((function(e){return t="number"===typeof e.value?Number(t):t,e.value===t})))&&void 0!==n?n:-1}var Gs=function(e,t,n){return"function"===typeof n?e.filter((function(e){return n(t,e)})):e},$s=[];var qs=Ot((function(e){var t,n,r=M.useState(!1),a=h()(r,2),i=a[0],o=a[1],s=e.before,u=e.name,c=e.className,l=(e.getRef,e.getRootRef),d=e.popupDirection,p=(e.sizeY,e.platform,e.style),f=e.onChange,m=(e.children,e.onInputChange),v=e.renderDropdown,b=e.onOpen,g=e.onClose,y=e.fetching,_=e.forceDropdownPortal,x=e.selectType,k=void 0===x?Qs.default:x,w=e.autoHideScrollbar,O=e.autoHideScrollbarDelay,j=e.searchable,S=void 0!==j&&j,C=e.renderOption,T=void 0===C?Us:C,N=e.options,E=void 0===N?$s:N,I=e.emptyText,R=void 0===I?"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e":I,F=e.filterFn,L=void 0===F?Ss:F,P=e.icon,z=void 0===P?U(gs,{opened:i}):P,B=e.dropdownOffsetDistance,V=void 0===B?0:B,H=e.fixDropdownWidth,G=void 0===H||H,$=D()(e,zs),q=M.useRef(null),K=M.useRef(null),X=M.useRef(null),Y=M.useState(-1),Z=h()(Y,2),Q=Z[0],J=Z[1],ee=M.useState(void 0!==e.value),te=h()(ee,2),ne=te[0],re=te[1],ae=M.useState(""),ie=h()(ae,2),oe=ie[0],se=ie[1],ue=M.useState(null!==(t=e.value)&&void 0!==t?t:e.defaultValue),ce=h()(ue,2),le=ce[0],de=ce[1],pe=M.useState(""),fe=h()(pe,2),he=fe[0],me=fe[1],ve=M.useState(void 0),be=h()(ve,2),ge=be[0],ye=be[1],xe=M.useState(E),we=h()(xe,2),Oe=we[0],Se=we[1],Ce=M.useState(Hs(E,null!==(n=e.value)&&void 0!==n?n:e.defaultValue)),Te=h()(Ce,2),Ne=Te[0],Ee=Te[1];M.useEffect((function(){re(void 0!==e.value),de((function(t){var n;return null!==(n=e.value)&&void 0!==n?n:t}))}),[e.value]),je((function(){if(Oe.some((function(e){var t=e.value;return le===t}))){var e,t=new Event("change",{bubbles:!0});null===(e=X.current)||void 0===e||e.dispatchEvent(t)}}),[le]);var Ie=M.useMemo((function(){return Oe.length?void 0!==Ne?Oe[Ne]:void 0:null}),[Oe,Ne]),Ae=M.useMemo((function(){return W(i&&"Select--open",i&&0===V&&(null!==ge&&void 0!==ge&&ge.includes("top")?"Select--pop-up":"Select--pop-down"))}),[V,i,ge]),Re=M.useCallback((function(){me("")}),[]),De=M.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=K.current,r=n?n.children[e]:null;if(r&&n){var a=n.offsetHeight,i=n.scrollTop,o=r.offsetTop,s=r.offsetHeight;t?n.scrollTop=o-a/2+s/2:o+s>a+i?n.scrollTop=o-a+s:o<i&&(n.scrollTop=o)}}),[]),Me=M.useCallback((function(e){var t;return e>=0&&e<(null!==(t=Oe.length)&&void 0!==t?t:0)}),[Oe.length]),Fe=M.useCallback((function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!(void 0===e||e<0||e>(null!==(t=Oe.length)&&void 0!==t?t:0)-1)){var r=Oe[e];null!==r&&void 0!==r&&r.disabled||(n&&De(e),J((function(t){return t!==e?e:t})))}}),[Oe,De]),Le=M.useCallback((function(){return null!==K.current}),[]),Pe=M.useCallback((function(e){var t=he+e,n=Oe.findIndex((function(e){return ke(e.label).toLowerCase().includes(t)}));void 0!==n&&n>-1&&Fe(n),me(t)}),[Fe,he,Oe]),ze=M.useCallback((function(){Re(),se(""),o(!1),J(-1),Se(E),null===g||void 0===g||g()}),[g,E,Re]),Be=M.useCallback((function(){if(void 0!==Q&&Me(Q)){var e=Oe[Q];de(null===e||void 0===e?void 0:e.value),ze()}}),[ze,Q,Me,Oe]),Ve=M.useCallback((function(){o(!0),J(Ne),"function"===typeof b&&b()}),[b,Ne]);M.useEffect((function(){i&&void 0!==Ne&&Me(Ne)&&De(Ne,!0)}),[Me,i,De,Ne]);var Ue=M.useCallback((function(){var e;ze();var t=new Event("blur");null===(e=X.current)||void 0===e||e.dispatchEvent(t)}),[ze]),We=M.useCallback((function(){J(-1)}),[]),He=M.useCallback((function(){var e,t=new Event("focus");null===(e=X.current)||void 0===e||e.dispatchEvent(t)}),[]),Ge=M.useCallback((function(){i?ze():Ve()}),[ze,Ve,i]),$e=M.useMemo((function(){return function(e,t){var n;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];clearTimeout(n),n=setTimeout((function(){return e.apply(void 0,a)}),t)}}(Re,1e3)}),[Re]),qe=M.useCallback((function(e){var t=Q;if("next"===e){var n=Bs(Oe,t);t=-1===n?Bs(Oe):n}else if("prev"===e){var r=Vs(Oe,t);t=-1===r?Vs(Oe):r}Fe(t)}),[Fe,Q,Oe]);M.useEffect((function(){var t,n,r=null!==(t=null!==(n=e.value)&&void 0!==n?n:le)&&void 0!==t?t:e.defaultValue,a=S&&void 0!==oe?Gs(E,oe,L):E;Se(a),Ee(Hs(a,r))}),[L,oe,le,E,e.defaultValue,e.value,S]);var Ke=M.useCallback((function(e){var t;null!==(t=K.current)&&void 0!==t&&t.contains(e.target)&&e.preventDefault()}),[]),Xe=M.useCallback((function(e){var t=Hs(Oe,e.currentTarget.value);Ne!==t&&(ne||Ee(t),null===f||void 0===f||f(e))}),[ne,f,Oe,Ne]),Ye=M.useCallback((function(e){switch(["ArrowUp","ArrowDown","Escape","Enter"].includes(e.key)&&Le()&&e.preventDefault(),e.key){case"ArrowUp":Le()&&qe("prev");break;case"ArrowDown":Le()&&qe("next");break;case"Escape":ze();break;case"Enter":Le()&&Be()}}),[Le,ze,qe,Be]),Ze=M.useCallback((function(e){if(m){var t=m(e,E);t&&(Se(t),Ee(Hs(t,le)))}else{var n=Gs(E,e.target.value,L);Se(n),Ee(Hs(n,le))}se(e.target.value)}),[L,le,m,E]),Qe=M.useCallback((function(e){if(1!==e.key.length||" "===e.key)switch(["ArrowUp","ArrowDown","Escape","Enter"].includes(e.key)&&Le()&&e.preventDefault(),e.key){case"ArrowUp":i?Le()&&qe("prev"):Ve();break;case"ArrowDown":i?Le()&&qe("next"):Ve();break;case"Escape":ze();break;case"Enter":case"Spacebar":case" ":i?Le()&&Be():Ve()}else Pe(e.key)}),[Le,ze,qe,Pe,Ve,i,Be]),Je=M.useCallback((function(e){var t,n=Array.prototype.indexOf.call(null===(t=e.currentTarget.parentNode)||void 0===t?void 0:t.children,e.currentTarget),r=Oe[n];r&&!r.disabled&&Be()}),[Oe,Be]),et=M.useCallback((function(e){var t;Fe(Array.prototype.indexOf.call(null===(t=e.currentTarget.parentNode)||void 0===t?void 0:t.children,e.currentTarget),!1)}),[Fe]),tt=M.useCallback((function(e,t){var n=t===Q,r=t===Ne;return U(M.Fragment,{key:"".concat(e.value)},T({option:e,hovered:n,children:e.label,selected:r,disabled:e.disabled,onClick:Je,onMouseDown:Ws,onMouseOver:et}))}),[Q,Je,et,T,Ne]),nt=M.useMemo((function(){var e=(null===Oe||void 0===Oe?void 0:Oe.length)>0?Oe.map(tt):U(Dn,{vkuiClass:"CustomSelect__empty"},R);return"function"===typeof v?v({defaultDropdownContent:e}):e}),[R,Oe,v,tt]);return U("label",{vkuiClass:"CustomSelect",className:c,style:p,ref:_e(q,l),onClick:Ke},i&&S?U(Qo,A()({},$,{autoFocus:!0,onBlur:Ue,vkuiClass:Ae,value:oe,onKeyDown:Ye,onChange:Ze,onClick:e.onClick,before:s,after:z,placeholder:$.placeholder,mode:Cs(k)})):U(Ns,A()({},$,{"aria-hidden":!0,onClick:Ge,onKeyDown:Qe,onKeyUp:$e,onFocus:He,onBlur:Ue,vkuiClass:Ae,before:s,after:z,selectType:k}),null===Ie||void 0===Ie?void 0:Ie.label),U("select",{ref:X,name:u,onChange:Xe,onBlur:e.onBlur,onFocus:e.onFocus,onClick:e.onClick,value:le,"aria-hidden":!0,vkuiClass:"CustomSelect__control"},E.map((function(e){return U("option",{key:"".concat(e.value),value:e.value})}))),i&&U(Ls,{targetRef:q,placement:d,scrollBoxRef:K,onPlacementChange:ye,onMouseLeave:We,fetching:y,offsetDistance:V,sameWidth:G,forcePortal:_,autoHideScrollbar:w,autoHideScrollbarDelay:O,observableRefs:K},nt))}),{sizeY:!0}),Ks=["selectType","children"],Xs=["hasMouse"],Ys=["children"],Zs=["options","popupDirection","renderOption"],Qs={default:"default",plain:"plain",accent:"accent"},Js=function(e){var t=e.selectType,n=void 0===t?Qs.default:t,r=e.children,a=D()(e,Ks),i=tt(),o=Wt().sizeY;return n===Qs.accent?U(Ja,A()({weight:i===X.ANDROID?"2":"1"},a),r):U(i===ne||o===vt.COMPACT?$t:Un,A()({Component:"span"},a),r)},eu=Ot((function(e){var t=e.hasMouse,n=D()(e,Xs);if(t){n.children;var r=D()(n,Ys);return U(qs,r)}var a=n.options,i=void 0===a?[]:a,o=(n.popupDirection,n.renderOption,D()(n,Zs));return U(_s,o,i.map((function(e){var t=e.label,n=e.value;return U("option",{value:n,key:"".concat(n)},t)})))}),{hasMouse:!0});eu.displayName="Select";var tu=["className","style","children"],nu=function(e){var t=e.className,n=e.style,r=e.children,a=D()(e,tu),i=At(),o=i.focusVisible,s=i.onBlur,u=i.onFocus,c=Wt().sizeY;return U("label",{className:t,style:n,vkuiClass:W("SegmentedControlOption",a.checked&&"SegmentedControlOption--checked",o&&"SegmentedControlOption--focus-visible")},U(Ho,A()({},a,{type:"radio",onBlur:Dt(s,a.onBlur),onFocus:Dt(u,a.onFocus)})),c===vt.COMPACT?U(Dn,{level:"1",vkuiClass:"SegmentedControlOption__content",weight:"3"},r):U($t,{vkuiClass:"SegmentedControlOption__content",weight:"2"},r),U(It,{mode:"inside"}))},ru=["size","name","options","getRootRef","onChange","value","defaultValue","children"],au=["label"],iu=(Ze("SegmentedControl"),function(e){var t,n=e.size,r=void 0===n?"l":n,a=e.name,i=e.options,o=e.getRootRef,s=e.onChange,u=void 0===s?xe:s,c=e.value,l=e.defaultValue,d=(e.children,D()(e,ru)),p=Wt().sizeY,f=null!==l&&void 0!==l?l:null===(t=i[0])||void 0===t?void 0:t.value;var m=M.useState(0),v=h()(m,2),b=v[0],g=v[1],y=M.useState(f),_=h()(y,2),x=_[0],k=_[1],w=null!==c&&void 0!==c?c:x,O=M.useRef(null!==a&&void 0!==a?a:Math.random().toString(36).replace(/[^a-z]+/g,""));je((function(){var e=i.findIndex((function(e){return e.value===w}));g(e)}),[w,i]);var j="translateX(".concat(100*b,"%)"),S=function(e){void 0===c&&k(e),u(e)};return U("div",A()({},d,{vkuiClass:W("SegmentedControl","SegmentedControl--sizeY-".concat(p),"SegmentedControl--".concat(r)),ref:o}),U("div",{role:"radiogroup",vkuiClass:"SegmentedControl__in"},b>-1&&U("div",{"aria-hidden":"true",vkuiClass:"SegmentedControl__slider",style:{width:"".concat(100/i.length,"%"),transform:j,WebkitTransform:j}}),i.map((function(e){var t=e.label,n=D()(e,au);return U(nu,A()({key:"".concat(n.value)},n,{vkuiClass:"SegmentedControl__option",name:O.current,checked:w===n.value,onChange:function(){return S(n.value)}}),t)}))))}),ou=["children","getRootRef"],su=function(e){var t=e.children,n=e.getRootRef,r=D()(e,ou);return U("div",A()({},r,{ref:n,vkuiClass:"Div"}),t)},uu=["height","style"],cu=M.memo((function(e){var t=e.height,n=void 0===t?96:t,r=e.style,a=D()(e,uu);return U(Bn,A()({size:"regular"},a,{style:ie()({height:n},r)}))}));cu.displayName="PanelSpinner";var lu=Object(vn.a)("Icon28ArrowLeftOutline","arrow_left_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="arrow_left_outline_28"><g fill="none" fill-rule="evenodd"><path d="M28 0H0v28h28z" /><path d="M12.293 6.293a1 1 0 0 1 1.414 1.414L8.414 13H22a1 1 0 0 1 .993.883L23 14a1 1 0 0 1-1 1H8.414l5.293 5.293a1 1 0 0 1 .083 1.32l-.083.094a1 1 0 0 1-1.414 0l-7-7-.073-.082A1.005 1.005 0 0 1 5 14l.004.09A1.006 1.006 0 0 1 5 14.02V14a1.02 1.02 0 0 1 .125-.484.878.878 0 0 1 .071-.111.999.999 0 0 1 .097-.112l-.08.09c.025-.031.051-.062.08-.09Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0),du=n(768),pu=Object(vn.a)("Icon28ChevronBack","chevron_back_28","0 0 20 28",'<symbol viewBox="0 0 20 28" xmlns="http://www.w3.org/2000/svg" id="chevron_back_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v28H0z" /><path d="M4.56 12.94 13 4.5a1.414 1.414 0 0 1 2 2L7.5 14l7.5 7.5a1.414 1.414 0 0 1-2 2l-8.44-8.44a1.5 1.5 0 0 1 0-2.12Z" fill="currentColor" /></g></symbol>',20,28,!1,void 0),fu=["label","sizeX","aria-label"],hu=M.memo(Ot((function(e){var t=e.label,n=e.sizeX,r=e["aria-label"],a=void 0===r?"\u041d\u0430\u0437\u0430\u0434":r,i=D()(e,fu),o=tt(),s=o===ne||o===te&&n===vt.REGULAR;return U(Zt,A()({},i,{"aria-label":a,vkuiClass:W("PanelHeaderBack",o===te&&"PanelHeaderBack--ios",o===ne&&"PanelHeaderBack--vkcom",s&&!!t&&"PanelHeaderBack--has-label"),label:s&&t}),o===ee&&U(lu,null),o===ne&&U(du.a,null),o===te&&U(pu,null))}),{sizeX:!0}));hu.displayName="PanelHeaderBack";var mu=n(385),vu="enableKeyboardInput",bu="disableKeyboardInput";var gu={bottom:null,top:null,left:null,right:null};function yu(e){var t=e.detail,n=t.type,r=t.data;switch(n){case"VKWebAppUpdateConfig":case"VKWebAppUpdateInsets":var a=r.insets;if(a)return ie()(ie()({},a),{},{bottom:a.bottom>150?0:a.bottom})}return null}Ie.a.subscribe((function(e){var t=yu(e);t&&(gu=t)}));var _u=["children","mode","embedded","sizeX","hasMouse","noLegacyClasses","scroll","portalRoot","disablePortal"],xu=(Ze("AppRoot"),Ot((function(e){var t=e.children,n=e.mode,r=e.embedded,a=e.sizeX,i=e.hasMouse,o=e.noLegacyClasses,s=void 0!==o&&o,u=e.scroll,c=void 0===u?"global":u,l=e.portalRoot,d=void 0===l?null:l,f=e.disablePortal,m=D()(e,_u),v=n||(r?"embedded":"full"),b=function(){var e=fe().document,t=M.useState(!1),n=h()(t,2),r=n[0],a=n[1],i=M.useCallback((function(){a(!0)}),[]),o=M.useCallback((function(e){Et(e)===Tt.TAB&&i()}),[i]),s=M.useCallback((function(){a(!1)}),[]),u={passive:!0,capture:!0};return Qt(e,"keydown",o,u),Qt(e,"mousedown",s,u),Qt(e,"touchstart",s,u),Qt(e,vu,i,u),Qt(e,bu,s,u),r}(),g=M.useRef(null),y=M.useState(null),_=h()(y,2),x=_[0],k=_[1],w=fe().document,O=function(){var e=M.useState(gu),t=h()(e,2),n=t[0],r=t[1];return je((function(){function e(e){var t=yu(e);t&&r(t)}return Ie.a.subscribe(e),function(){Ie.a.unsubscribe(e)}}),[]),n}(),j=M.useContext(Ae).appearance;F.noConflict=s,je((function(){var e=null;return d&&(e=or(d)?d.current:d),e||((e=w.createElement("div")).classList.add("vkui__portal-root"),w.body.appendChild(e)),k(e),function(){var t,n;null===(t=e)||void 0===t||null===(n=t.parentElement)||void 0===n||n.removeChild(e)}}),[d]),je((function(){var e,t;if("partial"===v)return xe;var n=null===(e=g.current)||void 0===e?void 0:e.parentElement,r=["vkui__root"].concat("embedded"===v?"vkui__root--embedded":[]);return null===n||void 0===n||(t=n.classList).add.apply(t,p()(r)),function(){var e;null===n||void 0===n||(e=n.classList).remove.apply(e,p()(r))}}),[]),je((function(){if("full"===v)return w.documentElement.classList.add("vkui"),function(){w.documentElement.classList.remove("vkui")}}),[w,v]),je((function(){var e;if("partial"===v||null===(e=g.current)||void 0===e||!e.parentElement)return xe;var t=g.current.parentElement;for(var n in O)if(O.hasOwnProperty(n)&&"number"===typeof O[n]){var r=O[n];t.style.setProperty("--safe-area-inset-".concat(n),"".concat(r,"px")),x&&x.style.setProperty("--safe-area-inset-".concat(n),"".concat(r,"px"))}return function(){for(var e in O)O.hasOwnProperty(e)&&(t.style.removeProperty("--safe-area-inset-".concat(e)),x&&x.style.removeProperty("--safe-area-inset-".concat(e)))}}),[O,x]),je((function(){var e;if("partial"===v||a!==vt.REGULAR)return xe;var t="embedded"===v?null===(e=g.current)||void 0===e?void 0:e.parentElement:w.body;return null===t||void 0===t||t.classList.add("vkui--sizeX-regular"),function(){return null===t||void 0===t?void 0:t.classList.remove("vkui--sizeX-regular")}}),[a]),je((function(){return"full"!==v||void 0===j?xe:(w.documentElement.style.setProperty("color-scheme",j),function(){return w.documentElement.style.removeProperty("color-scheme")})}),[j]);var S=M.useMemo((function(){return"contain"===c?We:Ue}),[c]),C=U(Ye.Provider,{value:{appRoot:g,portalRoot:x,embedded:"embedded"===v,keyboardInput:b,mode:v,disablePortal:f}},U(S,{elRef:g},U(mu.b,{classPrefix:"vkui",globalClasses:!s},t)));return"partial"===v?C:U("div",A()({ref:g,vkuiClass:W("AppRoot",!i&&"AppRoot--no-mouse")},m),C)}),{sizeX:!0,hasMouse:!0}));xu.displayName="AppRoot";var ku={type:"",viewportWidth:0,viewportHeight:0};function wu(e){var t=e.detail,n=t.type,r=t.data;if("VKWebAppUpdateConfig"!==n||!r)return null;var a=r.adaptivity,i=r.viewport_width,o=r.viewport_height,s={type:"",viewportWidth:isFinite(i)?+i:0,viewportHeight:isFinite(o)?+o:0};switch(a){case"force_mobile":case"force_mobile_compact":case"adaptive":s.type=a}return s}Ie.a.subscribe((function(e){var t=wu(e);t&&(ku=t)}));var Ou=1280,ju=1024,Su=768,Cu=320,Tu=414,Nu=720,Eu=function(e){var t=M.useRef(null),n=M.useState({}),r=h()(n,2)[1],a=function(){var e=M.useState(ku),t=h()(e,2),n=t[0],r=t[1];return je((function(){function e(e){var t=wu(e);t&&r(t)}return Ie.a.subscribe(e),function(){Ie.a.unsubscribe(e)}}),[]),n}(),i=fe().window;return t.current||(t.current=Iu(e,a,i)),M.useEffect((function(){function n(){if(null!==t.current){var n=Iu(e,a,i),o=t.current,s=o.viewWidth,u=o.viewHeight,c=o.sizeX,l=o.sizeY,d=o.hasMouse,p=o.deviceHasHover;s===n.viewWidth&&u===n.viewHeight&&c===n.sizeX&&l===n.sizeY&&d===n.hasMouse&&p===n.deviceHasHover||(t.current=n,r({}))}}return n(),i.addEventListener("resize",n,!1),function(){i.removeEventListener("resize",n,!1)}}),[e.viewWidth,e.viewHeight,e.sizeX,e.sizeY,e.hasMouse,e.deviceHasHover,i,e,a]),U(wt.Provider,{value:t.current},e.children)};function Iu(e,t,n){var r=0,a=0;"adaptive"===t.type?(r=t.viewportWidth,a=t.viewportHeight):n&&(r=n.innerWidth,a=n.innerHeight);var i,o,s=bt.SMALL_MOBILE,u=gt.SMALL,c=vt.REGULAR,l=vt.REGULAR,d=O,p=j;(s=r>=Ou?bt.DESKTOP:r>=ju?bt.TABLET:r>=Su?bt.SMALL_TABLET:r>=Cu?bt.MOBILE:bt.SMALL_MOBILE,u=a>=Nu?gt.MEDIUM:a>Tu?gt.SMALL:gt.EXTRA_SMALL,t.type)||(e.viewWidth&&(s=e.viewWidth),e.viewHeight&&(u=e.viewHeight),d=null!==(i=e.hasMouse)&&void 0!==i?i:d,p=null!==(o=e.deviceHasHover)&&void 0!==o?o:p);return s<=bt.MOBILE&&(l=vt.COMPACT),(s>=bt.SMALL_TABLET&&d||u<=gt.EXTRA_SMALL)&&(c=vt.COMPACT),t.type||(e.sizeX&&(l=e.sizeX),e.sizeY&&(c=e.sizeY)),"force_mobile"!==t.type&&"force_mobile_compact"!==t.type||(s=bt.MOBILE,l=vt.COMPACT,c="force_mobile_compact"===t.type?vt.COMPACT:vt.REGULAR),{viewWidth:s,viewHeight:u,sizeX:l,sizeY:c,hasMouse:d,deviceHasHover:p}}var Au=M.createContext(void 0);Ze("ConfigProvider");var Ru=function(e){var t=M.useContext(Au),n=M.useContext(Ae),a=e.children,i=e.webviewType,o=void 0===i?n.webviewType:i,s=e.isWebView,u=void 0===s?n.isWebView:s,c=e.transitionMotionEnabled,l=void 0===c?n.transitionMotionEnabled:c,d=e.platform,p=void 0===d?n.platform:d,f=e.hasNewTokens,m=void 0===f?n.hasNewTokens:f,v=e.appearance,b=void 0===v?n.appearance:v,g=e.scheme,y=e.locale,_=void 0===y?null!==t&&void 0!==t?t:"ru":y,x=function(e){var t=e.platform,n=e.scheme,r=e.appearance;if("inherit"===n)return n;if(r||void 0===n)return Qe({platform:t,appearance:r});if(n===Fe.VKCOM)return Fe.VKCOM_LIGHT;if(t===ne&&(n===Fe.BRIGHT_LIGHT||n===Fe.SPACE_GRAY))return Fe.VKCOM_LIGHT;switch(n){case Fe.DEPRECATED_CLIENT_LIGHT:return Fe.BRIGHT_LIGHT;case Fe.DEPRECATED_CLIENT_DARK:return Fe.SPACE_GRAY;default:return n}}({scheme:g,platform:p,appearance:b}),k=fe().document,w=null===k||void 0===k?void 0:k.body;je((function(){return"inherit"===x?xe:(null===w||void 0===w||w.setAttribute("scheme",x),function(){return null===w||void 0===w?void 0:w.removeAttribute("scheme")})}),[x]);var O=function(e){return e===Fe.SPACE_GRAY||e===Fe.VKCOM_DARK?"dark":"light"}(function(e,t){var n="inherit"===t,a=M.useCallback((function(){if(n&&r&&e)return e.getAttribute("scheme")}),[n,e]),i=M.useState(a()),o=h()(i,2),s=o[0],u=o[1];return M.useEffect((function(){if(!n||!e)return xe;u(a());var t=new MutationObserver((function(){return u(a())}));return t.observe(e,{attributes:!0,attributeFilter:["scheme"]}),function(){return t.disconnect()}}),[a,n,e]),"inherit"===t?s:t}(w,x));je((function(){var e=nt(p,O);return null===w||void 0===w||w.classList.add(e),function(){null===w||void 0===w||w.classList.remove(e)}}),[p,O]);var j=it({webviewType:o,isWebView:u,transitionMotionEnabled:l,hasNewTokens:m,platform:p,scheme:g,appearance:b||O});return U(Ae.Provider,{value:j},U(Au.Provider,{value:_},U(rt,{appearance:j.appearance},a)))},Du=["bannerData","onClose","isCloseButtonHidden"],Mu=(Ze("PromoBanner"),function(e){var t=e.bannerData,n=void 0===t?{}:t,r=e.onClose,a=e.isCloseButtonHidden,i=D()(e,Du),o=null!=n.ageRestrictions?parseInt(n.ageRestrictions):n.ageRestriction;n.ageRestriction;var s=M.useState(""),u=h()(s,2),c=u[0],l=u[1],d=M.useMemo((function(){return n.statistics?n.statistics.reduce((function(e,t){return ie()(ie()({},e),{},v()({},t.type,t.url))}),{}):{}}),[n.statistics]),p=M.useCallback((function(){return l(d.click||"")}),[d.click]);return M.useEffect((function(){d.playbackStarted&&l(d.playbackStarted)}),[d.playbackStarted]),U("div",A()({vkuiClass:"PromoBanner"},i),U("div",{vkuiClass:"PromoBanner__head"},U(Dn,{vkuiClass:"PromoBanner__label"},n.advertisingLabel||"Advertisement"),null!=o&&U(Dn,{vkuiClass:"PromoBanner__age"},o,"+"),!a&&U("div",{vkuiClass:"PromoBanner__close",onClick:r},U(Di.a,null))),U(Yi,{href:n.trackingLink,onClick:p,rel:"nofollow noopener noreferrer",target:"_blank",before:n.iconLink&&U(eo,{mode:"image",size:48,src:n.iconLink,alt:n.title,"data-testid":void 0}),after:n.ctaText&&U($n,{mode:"outline","data-testid":void 0},n.ctaText),subtitle:n.domain},n.title),c.length>0&&U("div",{vkuiClass:"PromoBanner__pixels"},U("img",{src:c,alt:""})))});n.d(t,"T",(function(){return _t})),n.d(t,"z",(function(){return St})),n.d(t,"C",(function(){return Zt})),n.d(t,"A",(function(){return ln})),n.d(t,"O",(function(){return mn})),n.d(t,"N",(function(){return qe})),n.d(t,"r",(function(){return Tn})),n.d(t,"E",(function(){return En})),n.d(t,"d",(function(){return ar})),n.d(t,"a",(function(){return Wa})),n.d(t,"b",(function(){return $a})),n.d(t,"G",(function(){return Za})),n.d(t,"L",(function(){return ri})),n.d(t,"y",(function(){return Ti})),n.d(t,"w",(function(){return Ii})),n.d(t,"x",(function(){return Ri})),n.d(t,"v",(function(){return zi})),n.d(t,"h",(function(){return $n})),n.d(t,"s",(function(){return Vi})),n.d(t,"i",(function(){return Wi})),n.d(t,"l",(function(){return qi})),n.d(t,"J",(function(){return Yi})),n.d(t,"q",(function(){return ao})),n.d(t,"f",(function(){return eo})),n.d(t,"M",(function(){return Bn})),n.d(t,"u",(function(){return oo})),n.d(t,"R",(function(){return fo})),n.d(t,"S",(function(){return _o})),n.d(t,"g",(function(){return Oo})),n.d(t,"V",(function(){return Do})),n.d(t,"p",(function(){return Lo})),n.d(t,"o",(function(){return Uo})),n.d(t,"P",(function(){return $o})),n.d(t,"t",(function(){return Qo})),n.d(t,"K",(function(){return ns})),n.d(t,"Q",(function(){return is})),n.d(t,"j",(function(){return ps})),n.d(t,"I",(function(){return eu})),n.d(t,"m",(function(){return qs})),n.d(t,"H",(function(){return iu})),n.d(t,"n",(function(){return su})),n.d(t,"D",(function(){return cu})),n.d(t,"B",(function(){return hu})),n.d(t,"e",(function(){return xu})),n.d(t,"c",(function(){return Eu})),n.d(t,"k",(function(){return Ru})),n.d(t,"U",(function(){return Ne})),n.d(t,"F",(function(){return Mu}))},function(e,t,n){"use strict";var r=n(17),a=n(13),i=n(16),o=n(2),s=n.n(o),u=n(7),c=n(4),l=n(11),d=n(165),p=n(18),f=n(21),h=20,m=3,v=7;function b(e,t,n,r){var a=Object(f.j)(t),i=function(e,t,n,r){var a=Object(f.N)(t),i=r[r.length-1],o=new Array(i).fill(0),s=t.length,u="complex64"===n?_(e):e;if(s>1)for(var c=0;c<a/i;c++)for(var l=c*i,d=0;d<i;d++)o[d]=Math.max(o[d],g(u[l+d],0,n).length);return o}(e,t,n,a),o=t.length,s=function e(t,n,r,a,i){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s="complex64"===r?2:1,u=n[0],c=n.length;if(0===c){return"complex64"===r?[g(_(t)[0],0,r)]:"bool"===r?[y(t[0])]:[t[0].toString()]}if(1===c){if(u>h){var l=m*s,d=Array.from(t.slice(0,l)),f=Array.from(t.slice((u-m)*s,u*s));return"complex64"===r&&(d=_(d),f=_(f)),["["+d.map((function(e,t){return g(e,i[t],r)})).join(", ")+", ..., "+f.map((function(e,t){return g(e,i[u-m+t],r)})).join(", ")+"]"]}return["["+("complex64"===r?_(t):Array.from(t)).map((function(e,t){return g(e,i[t],r)})).join(", ")+"]"]}var v=n.slice(1),b=a.slice(1),x=a[0]*s,k=[];if(u>h){for(var w=0;w<m;w++){var O=w*x,j=O+x;k.push.apply(k,Object(p.a)(e(t.slice(O,j),v,r,b,i,!1)))}k.push("...");for(var S=u-m;S<u;S++){var C=S*x,T=C+x;k.push.apply(k,Object(p.a)(e(t.slice(C,T),v,r,b,i,S===u-1)))}}else for(var N=0;N<u;N++){var E=N*x,I=E+x;k.push.apply(k,Object(p.a)(e(t.slice(E,I),v,r,b,i,N===u-1)))}var A=2===c?",":"";k[0]="["+(u>0?k[0]+A:"");for(var R=1;R<k.length-1;R++)k[R]=" "+k[R]+A;for(var D=",\n",M=2;M<c;M++)D+="\n";return k[k.length-1]=" "+k[k.length-1]+"]"+(o?"":D),k}(e,t,n,a,i),u=["Tensor"];return r&&(u.push("  dtype: ".concat(n)),u.push("  rank: ".concat(o)),u.push("  shape: [".concat(t,"]")),u.push("  values:")),u.push(s.map((function(e){return"    "+e})).join("\n")),u.join("\n")}function g(e,t,n){var r;return r=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(v))," + ")+"".concat(parseFloat(e[1].toFixed(v)),"j"):Object(f.z)(e)?"'".concat(e,"'"):"bool"===n?y(e):parseFloat(e.toFixed(v)).toString(),Object(f.K)(r,t)}function y(e){return 0===e?"false":"true"}function _(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var x=n(24);n.d(t,"b",(function(){return k})),n.d(t,"g",(function(){return j})),n.d(t,"f",(function(){return S})),n.d(t,"e",(function(){return C})),n.d(t,"a",(function(){return T})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return E}));var k=function(){function e(t,n,r){var a=this;if(Object(c.a)(this,e),this.dtype=n,this.shape=t.slice(),this.size=f.N(t),null!=r){var i=r.length;f.b(i===this.size,(function(){return"Length of values '".concat(i,"' does not match the size ")+"inferred by the shape '".concat(a.size,"'.")}))}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||f.n(n,this.size),this.strides=Object(f.j)(t)}return Object(l.a)(e,[{key:"set",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];0===r.length&&(r=[0]),f.b(r.length===this.rank,(function(){return"The number of provided coordinates (".concat(r.length,") must ")+"match the rank (".concat(t.rank,")")}));var i=this.locToIndex(r);this.values[i]=e}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);for(var r=0,a=0,i=t;a<i.length;a++){var o=i[a];if(o<0||o>=this.shape[r]){var s="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(s)}r++}for(var u=t[t.length-1],c=0;c<t.length-1;++c)u+=this.strides[c]*t[c];return this.values[u]}},{key:"locToIndex",value:function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}},{key:"indexToLoc",value:function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}},{key:"toTensor",value:function(){return w().makeTensor(this.values,this.shape,this.dtype)}},{key:"rank",get:function(){return this.shape.length}}]),e}(),w=null,O=null;function j(e){w=e}function S(e){O=e}function C(e){e}var T=function(){function e(t,n,r,a){Object(c.a)(this,e),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=f.N(t),this.strides=Object(f.j)(t),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return Object(l.a)(e,[{key:"buffer",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",O.buffer(this.shape,this.dtype,t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bufferSync",value:function(){return O.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",Object(f.T)(this.shape,t,"complex64"===this.dtype));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"arraySync",value:function(){return Object(f.T)(this.shape,this.dataSync(),"complex64"===this.dtype)}},{key:"data",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.throwIfDisposed(),t=w().read(this.dataId),"string"!==this.dtype){e.next=13;break}return e.next=5,t;case 5:return n=e.sent,e.prev=6,e.abrupt("return",n.map((function(e){return x.decodeString(e)})));case 10:throw e.prev=10,e.t0=e.catch(6),new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().");case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this,[[6,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"dataToGPU",value:function(e){return this.throwIfDisposed(),w().readToGPU(this.dataId,e)}},{key:"dataSync",value:function(){this.throwIfDisposed();var e=w().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return x.decodeString(e)}))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}},{key:"bytes",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.throwIfDisposed(),e.next=3,w().read(this.dataId);case 3:if(t=e.sent,"string"!==this.dtype){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",new Uint8Array(t.buffer));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){this.isDisposed||(w().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw new Error("Tensor is disposed.")}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return O.print(this,e)}},{key:"clone",value:function(){return this.throwIfDisposed(),O.clone(this)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.dataSync();return b(t,this.shape,this.dtype,e)}},{key:"cast",value:function(e){return this.throwIfDisposed(),O.cast(this,e)}},{key:"variable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),w().makeVariable(this,e,t,n)}},{key:"rank",get:function(){return this.shape.length}},{key:"isDisposed",get:function(){return this.isDisposedInternal}}]),e}();function N(){return Object(d.a)("Tensor",(function(){return T}))}Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}}),N();var E=function(e){function t(e,n,i,o){var s;return Object(c.a)(this,t),(s=Object(r.a)(this,Object(a.a)(t).call(this,e.shape,e.dtype,e.dataId,o))).trainable=n,s.name=i,s}return Object(i.a)(t,e),Object(l.a)(t,[{key:"assign",value:function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!f.a(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));w().disposeTensor(this),this.dataId=e.dataId,w().incRef(this,null)}},{key:"dispose",value:function(){w().disposeVariable(this),this.isDisposedInternal=!0}}]),t}(T);Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return e instanceof T&&null!=e.assign&&e.assign instanceof Function}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(199);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return(a="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var i=n(29);function o(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?Object(i.a)(e):t}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";var r=n(265);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";var r,a=n(1),i=n.n(a),o=n(384),s=n.n(o),u=n(385),c=n(386),l=n.n(c),d=!("undefined"===typeof window||!window.document||!window.document.createElement);if(d){r=new l.a({attrs:{id:"__SVG_SPRITE_NODE__"}});var p=function e(){var t=document.getElementById("__SVG_SPRITE_NODE__");t?r.attach(t):r.mount(),document.removeEventListener("DOMContentLoaded",e)};document.querySelector("body")?p():document.addEventListener("DOMContentLoaded",p)}else r=null;var f=d?a.useLayoutEffect:a.useEffect;function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}function b(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function g(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,"a",(function(){return x}));var y={display:"block"};var _=function(e){var t=e.width,n=e.height,r=e.viewBox,a=e.id,o=e.className,s=void 0===o?"":o,c=e.style,l=void 0===c?{}:c,d=e.fill,p=e.getRootRef,f=e.Component,h=void 0===f?"div":f,_=e.role,x=e["aria-label"],k=e["aria-hidden"],w=g(e,["width","height","viewBox","id","className","style","fill","getRootRef","Component","role","aria-label","aria-hidden"]),O=Math.max(t,n),j=i.a.useContext(u.a),S=function(e,t){for(var n=t.classPrefix,r=t.globalClasses,a="",i=0;i<e.length;i++)n&&(a+=" "+(n+e[i])),n&&!r||(a+=" "+e[i]);return a}(["Icon","Icon--".concat(O),"Icon--w-".concat(t),"Icon--h-".concat(n),"Icon--".concat(a)],j);return i.a.createElement(h,m({role:"presentation"},w,{ref:p,className:"".concat(S," ").concat(s),style:b(v({},l),{width:t,height:n})}),i.a.createElement("svg",{viewBox:r,width:t,height:n,style:y,role:_,"aria-label":x,"aria-hidden":k},i.a.createElement("use",{xlinkHref:"#".concat(a),style:{fill:"currentColor",color:d}})))};function x(e,t,n,a,o,u,c,l){var d=!1;function p(){var e;d||(e=new s.a({id:t,viewBox:n,content:a}),r&&r.add(e),d=!0)}var h=c?function(e){var t={};return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn";t[n]||(console[r]("[@vkontakte/icons][".concat(e,"] ").concat(n)),t[n]=!0)}}(e):null,v=function(e){if(f(p,[]),c){var r=l?". \u0417\u0430\u043c\u0435\u043d\u0438\u0442\u0435 \u043d\u0430 ".concat(l):"";h("\u0418\u043a\u043e\u043d\u043a\u0430 \u0443\u0441\u0442\u0430\u0440\u0435\u043b\u0430"+r)}return i.a.createElement(_,m({},e,{viewBox:n,id:t,width:isNaN(e.width)?o:+e.width,height:isNaN(e.height)?u:+e.height}))};return v.mountIcon=p,v.displayName=e,v}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({reshape_:function(e,t){var n={x:Object(i.a)(e,"x","reshape","string_or_numeric")},o={shape:t};return r.a.runKernel(a.xc,n,o)}})},function(e,t,n){"use strict";function r(e){for(var t=e.length,n=0;t>0;)n=Math.random()*t|0,s(e,--t,n)}function a(e,t){if(e.length!==t.length)throw new Error("Array sizes must match to be shuffled together "+"First array length was ".concat(e.length)+"Second array length was ".concat(t.length));for(var n=e.length,r=0;n>0;)r=Math.random()*n|0,s(e,--n,r),s(t,n,r)}function i(e,t,n){return Math.max(e,Math.min(t,n))}function o(e){return e%2===0?e:e+1}function s(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function u(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function c(e,t){var n=Math.random();return t*n+(1-n)*e}function l(e,t){for(var n=0,r=0;r<e.length;r++){var a=Number(e[r])-Number(t[r]);n+=a*a}return n}function d(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";d(v(e,t),(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}function f(e){d(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function h(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function m(e){return 0===e.length}function v(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function b(e){return e%1===0}function g(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function y(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function _(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return r(t),t}function x(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 0},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,i){var o=0;!function s(){if(e())a();else{o++;var u=t(o);null!=n&&o>=n?i():null!=r?r(s,u):setTimeout(s,u)}}()}))}function w(e,t){for(var n=1,r=-1,a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(a));r=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found ".concat(e[a]," at dim ").concat(a));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));var i=e.slice();return i[r]=t/n,i}function O(e,t){var n=t.length;return d((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e)})),d(e.every((function(e){return b(e)})),(function(){return"All values in axis param must be integers but "+"got axis ".concat(e)})),e.map((function(e){return e<0?n+e:e}))}function j(e,t){for(var n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||a?null:O(t,e).sort(),o=0,s=0;s<e.length;++s){if(null!=i){if(i[o]===s&&1!==e[s])throw new Error("Can't squeeze axis ".concat(s," since its dim '").concat(e[s],"' is not 1"));(null==i[o]||i[o]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),i[o]<=s&&o++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function S(e,t){return C(e,t)}function C(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function T(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}function N(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function E(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function I(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function A(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function R(e){return"string"===typeof e||e instanceof String}function D(e){return"boolean"===typeof e}function M(e){return"number"===typeof e}function F(e){return Array.isArray(e)?F(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":M(e)?"float32":R(e)?"string":D(e)?"bool":"float32"}function L(e){return!!(e&&e.constructor&&e.call&&e.apply)}function P(e,t){for(var n=t;n<e;++n)if(e%n===0)return n;return e}function z(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];var r=e.reduce((function(e,t){return e*t}))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new Array;if(1===n.length)for(var o=n[0]*(a?2:1),s=0;s<o;s++)i[s]=r[t+s];else for(var u=n[0],c=n.slice(1),l=c.reduce((function(e,t){return e*t}))*(a?2:1),d=0;d<u;d++)i[d]=e(t+d*l,c,r,a);return i}(0,e,t,n)}function V(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error("Unknown dtype ".concat(t))}function U(e,t){for(var n=W(e,t),r=0;r<n.length;r++)n[r]=1;return n}function W(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function H(e,t){var n=e.reduce((function(e,t){return e*t}),1);if(null==t||"float32"===t)return B(e,new Float32Array(n));if("int32"===t)return B(e,new Int32Array(n));if("bool"===t)return B(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function G(e){e.forEach((function(t){d(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")}))}))}function $(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function q(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function K(e){return e&&e.then&&"function"===typeof e.then}n.d(t,"L",(function(){return r})),n.d(t,"M",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"G",(function(){return o})),n.d(t,"R",(function(){return s})),n.d(t,"Q",(function(){return u})),n.d(t,"I",(function(){return c})),n.d(t,"m",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"N",(function(){return h})),n.d(t,"y",(function(){return m})),n.d(t,"a",(function(){return v})),n.d(t,"v",(function(){return b})),n.d(t,"S",(function(){return g})),n.d(t,"O",(function(){return y})),n.d(t,"l",(function(){return _})),n.d(t,"K",(function(){return x})),n.d(t,"J",(function(){return k})),n.d(t,"s",(function(){return w})),n.d(t,"H",(function(){return O})),n.d(t,"P",(function(){return j})),n.d(t,"o",(function(){return S})),n.d(t,"n",(function(){return C})),n.d(t,"h",(function(){return T})),n.d(t,"A",(function(){return N})),n.d(t,"p",(function(){return E})),n.d(t,"g",(function(){return I})),n.d(t,"f",(function(){return A})),n.d(t,"z",(function(){return R})),n.d(t,"t",(function(){return D})),n.d(t,"w",(function(){return M})),n.d(t,"r",(function(){return F})),n.d(t,"u",(function(){return L})),n.d(t,"F",(function(){return P})),n.d(t,"j",(function(){return z})),n.d(t,"T",(function(){return B})),n.d(t,"k",(function(){return V})),n.d(t,"C",(function(){return U})),n.d(t,"E",(function(){return W})),n.d(t,"D",(function(){return H})),n.d(t,"c",(function(){return G})),n.d(t,"B",(function(){return $})),n.d(t,"q",(function(){return q})),n.d(t,"x",(function(){return K}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(10);var c=Object(u.b)({mul_:function(e,t){var n=Object(s.a)(e,"a","mul"),u=Object(s.a)(t,"b","mul"),c=Object(o.makeTypesMatch)(n,u),l=Object(r.a)(c,2),d={a:n=l[0],b:u=l[1]};return a.a.runKernel(i.ac,d)}})},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.r(t);var r=n(40),a=n(267),i=n(21),o=n(304),s=n.n(o).a||o;function u(e){return s.fromString(e,!0,16)}var c=u("c3a5c85c97cb3127"),l=u("b492b66fbe98f273"),d=u("9ae16a3b2f90404f");function p(e){return e.xor(e.shru(47))}function f(e,t,n){var r=e.slice(t,t+n);return s.fromBytes(Array.from(r),!0,!0)}function h(e,t){return f(e,t,8)}function m(e,t){return f(e,t,4)}function v(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));var a=t.xor(r).mul(n);return a=(a=a.xor(a.shru(47))).mul(n)}function g(e,t,n,r){return function(e,t,n,r,a,i){a=a.add(e),i=v(i.add(a).add(r),21);var o=a;return a=(a=a.add(t)).add(n),i=i.add(v(a,44)),[a.add(r),i.add(o)]}(h(e,t),h(e,t+8),h(e,t+16),h(e,t+24),n,r)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=s.fromNumber(81,!0);if(t<=32)return t<=16?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){var n=d.add(2*t),r=h(e,0).add(d),a=h(e,t-8);return b(v(a,37).mul(n).add(r),v(r,25).add(a).mul(n),n)}if(t>=4){var i=d.add(2*t);return b(m(e,0).shl(3).add(t),m(e,t-4),i)}if(t>0){var o=e[0]+(e[t>>1]<<8),s=t+(e[t-1]<<2);return p(d.mul(o).xor(c.mul(s))).mul(d)}return d}(e,t):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=d.add(2*t),r=h(e,0).mul(l),a=h(e,8),i=h(e,t-8).mul(n),o=h(e,t-16).mul(d);return b(v(r.add(a),43).add(v(i,30)).add(o),r.add(v(a.add(d),18)).add(i),n)}(e,t);if(t<=64)return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=d.add(2*t),r=h(e,0).mul(d),a=h(e,8),i=h(e,t-8).mul(n),o=h(e,t-16).mul(d),s=v(r.add(a),43).add(v(i,30)).add(o),u=b(s,r.add(v(a.add(d),18)).add(i),n),c=h(e,16).mul(n),l=h(e,24),p=s.add(h(e,t-32)).mul(n),f=u.add(h(e,t-24)).mul(n);return b(v(c.add(l),43).add(v(p,30)).add(f),c.add(v(l.add(r),18)).add(p),n)}(e,t);var r=n,a=n.mul(l).add(113),i=p(a.mul(d).add(113)).mul(d),o=[s.UZERO,s.UZERO],u=[s.UZERO,s.UZERO];r=r.mul(d).add(h(e,0));var f=0,y=64*(t-1>>6),_=y+(t-1&63)-63;do{r=v(r.add(a).add(o[0]).add(h(e,f+8)),37).mul(l),a=v(a.add(o[1]).add(h(e,f+48)),42).mul(l),r=r.xor(u[1]),a=a.add(o[0]).add(h(e,f+40)),i=v(i.add(u[0]),33).mul(l),o=g(e,f,o[1].mul(l),r.add(u[0])),u=g(e,f+32,i.add(u[1]),a.add(h(e,f+16)));var x=[r,i];i=x[0],r=x[1],f+=64}while(f!==y);var k=l.add(i.and(255).shl(1));f=_,u[0]=u[0].add(t-1&63),o[0]=o[0].add(u[0]),u[0]=u[0].add(o[0]),r=v(r.add(a).add(o[0]).add(h(e,f+8)),37).mul(k),a=v(a.add(o[1]).add(h(e,f+48)),42).mul(k),r=r.xor(u[1].mul(9)),a=a.add(o[0].mul(9).add(h(e,f+40))),i=v(i.add(u[0]),33).mul(k),o=g(e,f,o[1].mul(k),r.add(u[0])),u=g(e,f+32,i.add(u[1]),a.add(h(e,f+16)));var w=[r,i];return i=w[0],r=w[1],b(b(o[0],u[0],k).add(p(a).mul(c)).add(i),b(o[1],u[1],k).add(r),k)}function _(e,t){return"string"===t?O(e):x([e],t)}function x(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=C(e)),Object(r.c)().getBool("DEBUG")&&i.h(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var n=new Uint8Array(e.length),a=0;a<n.length;++a)0!==Math.round(e[a])&&(n[a]=1);return n}throw new Error("Unknown data type ".concat(t))}function k(){return Object(r.c)().platform.now()}function w(e,t){return Object(r.c)().platform.fetch(e,t)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Object(r.c)().platform.encode(e,t)}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",Object(r.c)().platform.decode(e,t)}function S(e){return null!=Object(r.c)().platform.isTypedArray?Object(r.c)().platform.isTypedArray(e):Object(a.a)(e)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"===typeof e||"number"===typeof e||"string"===typeof e||i.x(e)||null==e||S(e)&&n)t.push(e);else if(Array.isArray(e)||S(e))for(var r=0;r<e.length;++r)C(e[r],t,n);else{for(var a=-1,o=0,s=Object.keys(e);o<s.length;o++){var u=s[o];/^([1-9]+[0-9]*|0)$/.test(u)&&(a=Math.max(a,Number(u)))}for(var c=0;c<=a;c++)C(e[c],t,n)}return t}n.d(t,"createScalarValue",(function(){return _})),n.d(t,"toTypedArray",(function(){return x})),n.d(t,"now",(function(){return k})),n.d(t,"fetch",(function(){return w})),n.d(t,"encodeString",(function(){return O})),n.d(t,"decodeString",(function(){return j})),n.d(t,"isTypedArray",(function(){return S})),n.d(t,"flatten",(function(){return C})),n.d(t,"shuffle",(function(){return i.L})),n.d(t,"shuffleCombo",(function(){return i.M})),n.d(t,"clamp",(function(){return i.i})),n.d(t,"nearestLargerEven",(function(){return i.G})),n.d(t,"swap",(function(){return i.R})),n.d(t,"sum",(function(){return i.Q})),n.d(t,"randUniform",(function(){return i.I})),n.d(t,"distSquared",(function(){return i.m})),n.d(t,"assert",(function(){return i.b})),n.d(t,"assertShapesMatch",(function(){return i.e})),n.d(t,"assertNonNull",(function(){return i.d})),n.d(t,"sizeFromShape",(function(){return i.N})),n.d(t,"isScalarShape",(function(){return i.y})),n.d(t,"arraysEqual",(function(){return i.a})),n.d(t,"isInt",(function(){return i.v})),n.d(t,"tanh",(function(){return i.S})),n.d(t,"sizeToSquarishShape",(function(){return i.O})),n.d(t,"createShuffledIndices",(function(){return i.l})),n.d(t,"rightPad",(function(){return i.K})),n.d(t,"repeatedTry",(function(){return i.J})),n.d(t,"inferFromImplicitShape",(function(){return i.s})),n.d(t,"parseAxisParam",(function(){return i.H})),n.d(t,"squeezeShape",(function(){return i.P})),n.d(t,"getTypedArrayFromDType",(function(){return i.o})),n.d(t,"getArrayFromDType",(function(){return i.n})),n.d(t,"checkConversionForErrors",(function(){return i.h})),n.d(t,"isValidDtype",(function(){return i.A})),n.d(t,"hasEncodingLoss",(function(){return i.p})),n.d(t,"bytesPerElement",(function(){return i.g})),n.d(t,"bytesFromStringArray",(function(){return i.f})),n.d(t,"isString",(function(){return i.z})),n.d(t,"isBoolean",(function(){return i.t})),n.d(t,"isNumber",(function(){return i.w})),n.d(t,"inferDtype",(function(){return i.r})),n.d(t,"isFunction",(function(){return i.u})),n.d(t,"nearestDivisor",(function(){return i.F})),n.d(t,"computeStrides",(function(){return i.j})),n.d(t,"toNestedArray",(function(){return i.T})),n.d(t,"convertBackendValuesAndArrayBuffer",(function(){return i.k})),n.d(t,"makeOnesTypedArray",(function(){return i.C})),n.d(t,"makeZerosTypedArray",(function(){return i.E})),n.d(t,"makeZerosNestedTypedArray",(function(){return i.D})),n.d(t,"assertNonNegativeIntegerDimensions",(function(){return i.c})),n.d(t,"locToIndex",(function(){return i.B})),n.d(t,"indexToLoc",(function(){return i.q})),n.d(t,"isPromise",(function(){return i.x})),n.d(t,"hexToLong",(function(){return u})),n.d(t,"fingerPrint64",(function(){return y}))},function(e,t,n){var r=n(598);e.exports=function(e,t){if(null==e)return{};var n,a,i=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){!function(e){"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function n(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}var r,a,i,o,s,u,c,l="undefined"!=typeof window,d=Boolean(l&&window.AndroidBridge),p=Boolean(l&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),f=Boolean(l&&window.ReactNativeWebView&&"function"==typeof window.ReactNativeWebView.postMessage),h=l&&!d&&!p,m=h&&/(^\?|&)vk_platform=mobile_web(&|$)/.test(location.search),v=h?"message":"VKWebAppEvent",b=n(["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppAddToHomeScreenInfo","VKWebAppClose","VKWebAppCopyText","VKWebAppCreateHash","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppSendToClient","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGroupInfo","VKWebAppGetGeodata","VKWebAppGetCommunityToken","VKWebAppGetConfig","VKWebAppGetLaunchParams","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppLeaveGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowStoryBox","VKWebAppStorageGet","VKWebAppStorageGetKeys","VKWebAppStorageSet","VKWebAppFlashGetInfo","VKWebAppSubscribeStoryApp","VKWebAppOpenWallPost","VKWebAppCheckAllowedScopes","VKWebAppCheckBannerAd","VKWebAppHideBannerAd","VKWebAppShowBannerAd","VKWebAppCheckNativeAds","VKWebAppShowNativeAds","VKWebAppRetargetingPixel","VKWebAppConversionHit","VKWebAppShowSubscriptionBox","VKWebAppCheckSurvey","VKWebAppShowSurvey","VKWebAppScrollTop","VKWebAppScrollTopStart","VKWebAppScrollTopStop","VKWebAppShowSlidesSheet","VKWebAppTranslate"],h&&!m?["VKWebAppResizeWindow","VKWebAppAddToMenu","VKWebAppShowInstallPushBox","VKWebAppGetFriends","VKWebAppShowCommunityWidgetPreviewBox"]:["VKWebAppShowImages"],!0),g=l?window.AndroidBridge:void 0,y=p?window.webkit.messageHandlers:void 0,_=h?parent:void 0;e.EAdsFormats=void 0,(r=e.EAdsFormats||(e.EAdsFormats={})).REWARD="reward",r.INTERSTITIAL="interstitial",e.BannerAdLayoutType=void 0,(a=e.BannerAdLayoutType||(e.BannerAdLayoutType={})).RESIZE="resize",a.OVERLAY="overlay",e.BannerAdLocation=void 0,(i=e.BannerAdLocation||(e.BannerAdLocation={})).TOP="top",i.BOTTOM="bottom",e.EGrantedPermission=void 0,(o=e.EGrantedPermission||(e.EGrantedPermission={})).CAMERA="camera",o.LOCATION="location",o.PHOTO="photo",e.EGetLaunchParamsResponseLanguages=void 0,(s=e.EGetLaunchParamsResponseLanguages||(e.EGetLaunchParamsResponseLanguages={})).RU="ru",s.UK="uk",s.UA="ua",s.EN="en",s.BE="be",s.KZ="kz",s.PT="pt",s.ES="es",e.EGetLaunchParamsResponseGroupRole=void 0,(u=e.EGetLaunchParamsResponseGroupRole||(e.EGetLaunchParamsResponseGroupRole={})).ADMIN="admin",u.EDITOR="editor",u.MEMBER="member",u.MODER="moder",u.NONE="none",e.EGetLaunchParamsResponsePlatforms=void 0,(c=e.EGetLaunchParamsResponsePlatforms||(e.EGetLaunchParamsResponsePlatforms={})).DESKTOP_WEB="desktop_web",c.DESKTOP_WEB_MESSENGER="desktop_web_messenger",c.DESKTOP_APP_MESSENGER="desktop_app_messenger",c.MOBILE_WEB="mobile_web",c.MOBILE_ANDROID="mobile_android",c.MOBILE_ANDROID_MESSENGER="mobile_android_messenger",c.MOBILE_IPHONE="mobile_iphone",c.MOBILE_IPHONE_MESSENGER="mobile_iphone_messenger",c.MOBILE_IPAD="mobile_ipad";var x=function(e){var r=void 0,a=[];function i(e){a.push(e)}function o(){return p||d}function s(){return h&&window.parent!==window}function u(){return o()||s()}function c(e){if(p||d)return n([],a,!0).map((function(t){return t.call(null,e)}));var t=null==e?void 0:e.data;if(h&&t){if(f&&"string"==typeof t)try{t=JSON.parse(t)}catch(e){}var i=t.type,o=t.data,s=t.frameId;i&&("VKWebAppSettings"!==i?n([],a,!0).map((function(e){return e({detail:{type:i,data:o}})})):r=s)}}f&&/(android)/i.test(navigator.userAgent)?document.addEventListener(v,c):"undefined"!=typeof window&&"addEventListener"in window&&window.addEventListener(v,c);var l=function(e,n){var r,a,i=(r={current:0,next:function(){return++this.current}},a={},{add:function(e,t){var n=null!=t?t:r.next();return a[n]=e,n},resolve:function(e,t,n){var r=a[e];r&&(n(t)?r.resolve(t):r.reject(t),a[e]=null)}});return n((function(e){if(e.detail&&e.detail.data&&"object"==typeof e.detail.data&&"request_id"in e.detail.data){var t=e.detail.data,n=t.request_id,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(t,["request_id"]);n&&i.resolve(n,r,(function(e){return!("error_type"in e)}))}})),function(n,r){return void 0===r&&(r={}),new Promise((function(a,o){var s=i.add({resolve:a,reject:o},r.request_id);e(n,t(t({},r),{request_id:s}))}))}}((function(e,t){g&&g[e]?g[e](JSON.stringify(t)):y&&y[e]&&"function"==typeof y[e].postMessage?y[e].postMessage(t):f?window.ReactNativeWebView.postMessage(JSON.stringify({handler:e,params:t})):_&&"function"==typeof _.postMessage&&_.postMessage({handler:e,params:t,type:"vk-connect",webFrameId:r,connectVersion:"2.9.0"},"*")}),i);return{send:l,sendPromise:l,subscribe:i,unsubscribe:function(e){var t=a.indexOf(e);t>-1&&a.splice(t,1)},supports:function(e){return d?!(!g||"function"!=typeof g[e]):p?!(!y||!y[e]||"function"!=typeof y[e].postMessage):!!h&&b.includes(e)},isWebView:o,isIframe:s,isEmbedded:u,isStandalone:function(){return!u()}}}();e.applyMiddleware=function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.includes(void 0)||n.includes(null)?e.apply(void 0,n.filter((function(e){return"function"==typeof e}))):function(e){if(0===n.length)return e;var r,a={subscribe:e.subscribe,send:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.send.apply(e,t)}};return r=n.filter((function(e){return"function"==typeof e})).map((function(e){return e(a)})).reduce((function(e,t){return function(n){return e(t(n))}}))(e.send),t(t({},e),{send:r})}},e.default=x,e.parseURLSearchParamsForGetLaunchParams=function(t){var n={};try{new URLSearchParams(t).forEach((function(t,r){switch(r){case"vk_ts":case"vk_is_recommended":case"vk_profile_id":case"vk_has_profile_button":case"vk_testing_group_id":case"vk_user_id":case"vk_app_id":case"vk_group_id":n[r]=Number(t);break;case"sign":case"vk_chat_id":case"vk_ref":case"vk_access_token_settings":n[r]=t;break;case"odr_enabled":n.odr_enabled="1"===t?1:void 0;break;case"vk_is_app_user":case"vk_are_notifications_enabled":case"vk_is_favorite":n[r]=function(e){switch(e){case"0":return 0;case"1":return 1;default:return}}(t);break;case"vk_language":n.vk_language=function(t){return Object.values(e.EGetLaunchParamsResponseLanguages).some((function(e){return e===t}))}(t)?t:void 0;break;case"vk_viewer_group_role":n.vk_viewer_group_role=function(t){return Object.values(e.EGetLaunchParamsResponseGroupRole).some((function(e){return e===t}))}(t)?t:void 0;break;case"vk_platform":n.vk_platform=function(t){return Object.values(e.EGetLaunchParamsResponsePlatforms).some((function(e){return e===t}))}(t)?t:void 0}}))}catch(e){console.warn(e)}return n},Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){var r=n(594),a=n(595),i=n(298),o=n(596);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(10);var u=Object(s.b)({cast_:function(e,t){var n=Object(i.a)(e,"x","cast");if(!o.A(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var s={x:n},u={dtype:t};return r.a.runKernel(a.x,s,u)}})},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(13);function a(e,t,n){return(a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(10);var c=Object(u.b)({add_:function(e,t){var n=Object(s.a)(e,"a","add"),u=Object(s.a)(t,"b","add"),c=Object(o.makeTypesMatch)(n,u),l=Object(r.a)(c,2),d={a:n=l[0],b:u=l[1]};return a.a.runKernel(i.d,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(10);var c=Object(u.b)({sub_:function(e,t){var n=Object(s.a)(e,"a","sub"),u=Object(s.a)(t,"b","sub"),c=Object(o.makeTypesMatch)(n,u),l=Object(r.a)(c,2),d={a:n=l[0],b:u=l[1]};return a.a.runKernel(i.hd,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(176),c=n(10);var l=Object(c.b)({div_:function(e,t){var n=Object(s.a)(e,"a","div"),c=Object(s.a)(t,"b","div"),l=Object(o.makeTypesMatch)(n,c),d=Object(r.a)(l,2);if(n=d[0],c=d[1],"int32"===n.dtype&&"int32"===c.dtype)return Object(u.a)(n,c);var p={a:n,b:c};return a.a.runKernel(i.tc,p,{})}})},function(e,t,n){"use strict";function r(e,t){for(var n=e.length,r=[],a=0;a<n;a++){var i=n-1-a,o=e[i]||1;(t[t.length-1-a]||1)>1&&1===o&&r.unshift(i)}return r}function a(e,t){for(var n=[],r=0;r<t.length;r++){var a=e[e.length-r-1],i=t.length-r-1,o=t[i];(null==a||1===a&&o>1)&&n.unshift(i)}return n}function i(e,t){for(var n=Math.max(e.length,t.length),r=new Array(n),a=0;a<n;a++){var i=e[e.length-a-1];null==i&&(i=1);var o=t[t.length-a-1];if(null==o&&(o=1),1===i)r[n-a-1]=o;else if(1===o)r[n-a-1]=i;else{if(i!==o){var s="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(s)}r[n-a-1]=i}}return r}n.r(t),n.d(t,"getBroadcastDims",(function(){return r})),n.d(t,"getReductionAxes",(function(){return a})),n.d(t,"assertAndGetBroadcastShape",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(8),i=n(6),o=n(28),s=n(10);var u=Object(s.b)({sum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=Object(i.a)(e,"x","sum");"bool"===s.dtype&&(s=Object(o.a)(s,"int32"));var u={x:s},c={axis:t,keepDims:n};return r.a.runKernel(a.id,u,c)}})},function(e,t,n){"use strict";n.r(t);var r=n(42);n.d(t,"abs",(function(){return r.b})),n.d(t,"acos",(function(){return r.c})),n.d(t,"acosh",(function(){return r.d})),n.d(t,"add",(function(){return r.e})),n.d(t,"addN",(function(){return r.f})),n.d(t,"all",(function(){return r.g})),n.d(t,"any",(function(){return r.h})),n.d(t,"argMax",(function(){return r.i})),n.d(t,"argMin",(function(){return r.j})),n.d(t,"asin",(function(){return r.k})),n.d(t,"asinh",(function(){return r.l})),n.d(t,"atan",(function(){return r.m})),n.d(t,"atan2",(function(){return r.n})),n.d(t,"atanh",(function(){return r.o})),n.d(t,"avgPool",(function(){return r.p})),n.d(t,"avgPool3d",(function(){return r.q})),n.d(t,"basicLSTMCell",(function(){return r.r})),n.d(t,"batchToSpaceND",(function(){return r.w})),n.d(t,"batchNorm",(function(){return r.s})),n.d(t,"batchNorm2d",(function(){return r.t})),n.d(t,"batchNorm3d",(function(){return r.u})),n.d(t,"batchNorm4d",(function(){return r.v})),n.d(t,"bincount",(function(){return r.x})),n.d(t,"broadcastArgs",(function(){return r.z})),n.d(t,"broadcastTo",(function(){return r.A})),n.d(t,"buffer",(function(){return r.B})),n.d(t,"cast",(function(){return r.C})),n.d(t,"ceil",(function(){return r.D})),n.d(t,"clipByValue",(function(){return r.E})),n.d(t,"clone",(function(){return r.F})),n.d(t,"complex",(function(){return r.G})),n.d(t,"concat",(function(){return r.H})),n.d(t,"concat1d",(function(){return r.I})),n.d(t,"concat2d",(function(){return r.J})),n.d(t,"concat3d",(function(){return r.K})),n.d(t,"concat4d",(function(){return r.L})),n.d(t,"conv1d",(function(){return r.M})),n.d(t,"conv2d",(function(){return r.N})),n.d(t,"conv2dTranspose",(function(){return r.O})),n.d(t,"conv3d",(function(){return r.P})),n.d(t,"conv3dTranspose",(function(){return r.Q})),n.d(t,"cos",(function(){return r.R})),n.d(t,"cosh",(function(){return r.S})),n.d(t,"cumprod",(function(){return r.U})),n.d(t,"cumsum",(function(){return r.V})),n.d(t,"denseBincount",(function(){return r.W})),n.d(t,"depthToSpace",(function(){return r.X})),n.d(t,"depthwiseConv2d",(function(){return r.Y})),n.d(t,"diag",(function(){return r.Z})),n.d(t,"dilation2d",(function(){return r.ab})),n.d(t,"div",(function(){return r.bb})),n.d(t,"divNoNan",(function(){return r.cb})),n.d(t,"dot",(function(){return r.db})),n.d(t,"einsum",(function(){return r.fb})),n.d(t,"elu",(function(){return r.gb})),n.d(t,"equal",(function(){return r.ib})),n.d(t,"erf",(function(){return r.jb})),n.d(t,"euclideanNorm",(function(){return r.kb})),n.d(t,"exp",(function(){return r.lb})),n.d(t,"expandDims",(function(){return r.mb})),n.d(t,"expm1",(function(){return r.nb})),n.d(t,"eye",(function(){return r.ob})),n.d(t,"fill",(function(){return r.qb})),n.d(t,"floor",(function(){return r.rb})),n.d(t,"floorDiv",(function(){return r.sb})),n.d(t,"gather",(function(){return r.ub})),n.d(t,"greater",(function(){return r.wb})),n.d(t,"greaterEqual",(function(){return r.xb})),n.d(t,"imag",(function(){return r.zb})),n.d(t,"isFinite",(function(){return r.Db})),n.d(t,"isInf",(function(){return r.Eb})),n.d(t,"isNaN",(function(){return r.Fb})),n.d(t,"leakyRelu",(function(){return r.Gb})),n.d(t,"less",(function(){return r.Hb})),n.d(t,"lessEqual",(function(){return r.Ib})),n.d(t,"linspace",(function(){return r.Kb})),n.d(t,"localResponseNormalization",(function(){return r.Lb})),n.d(t,"log",(function(){return r.Mb})),n.d(t,"log1p",(function(){return r.Nb})),n.d(t,"logSigmoid",(function(){return r.Ob})),n.d(t,"logSoftmax",(function(){return r.Pb})),n.d(t,"logSumExp",(function(){return r.Qb})),n.d(t,"logicalAnd",(function(){return r.Rb})),n.d(t,"logicalNot",(function(){return r.Sb})),n.d(t,"logicalOr",(function(){return r.Tb})),n.d(t,"logicalXor",(function(){return r.Ub})),n.d(t,"lowerBound",(function(){return r.Wb})),n.d(t,"matMul",(function(){return r.Xb})),n.d(t,"max",(function(){return r.Yb})),n.d(t,"maxPool",(function(){return r.Zb})),n.d(t,"maxPool3d",(function(){return r.ac})),n.d(t,"maxPoolWithArgmax",(function(){return r.bc})),n.d(t,"maximum",(function(){return r.cc})),n.d(t,"mean",(function(){return r.dc})),n.d(t,"meshgrid",(function(){return r.ec})),n.d(t,"min",(function(){return r.fc})),n.d(t,"minimum",(function(){return r.gc})),n.d(t,"mirrorPad",(function(){return r.hc})),n.d(t,"mod",(function(){return r.ic})),n.d(t,"moments",(function(){return r.jc})),n.d(t,"mul",(function(){return r.lc})),n.d(t,"multiRNNCell",(function(){return r.mc})),n.d(t,"multinomial",(function(){return r.nc})),n.d(t,"neg",(function(){return r.oc})),n.d(t,"notEqual",(function(){return r.qc})),n.d(t,"oneHot",(function(){return r.rc})),n.d(t,"ones",(function(){return r.sc})),n.d(t,"onesLike",(function(){return r.tc})),n.d(t,"outerProduct",(function(){return r.vc})),n.d(t,"pad",(function(){return r.wc})),n.d(t,"pad1d",(function(){return r.xc})),n.d(t,"pad2d",(function(){return r.yc})),n.d(t,"pad3d",(function(){return r.zc})),n.d(t,"pad4d",(function(){return r.Ac})),n.d(t,"pool",(function(){return r.Bc})),n.d(t,"pow",(function(){return r.Cc})),n.d(t,"prelu",(function(){return r.Dc})),n.d(t,"print",(function(){return r.Ec})),n.d(t,"prod",(function(){return r.Fc})),n.d(t,"raggedGather",(function(){return r.Gc})),n.d(t,"raggedRange",(function(){return r.Hc})),n.d(t,"raggedTensorToTensor",(function(){return r.Ic})),n.d(t,"rand",(function(){return r.Jc})),n.d(t,"randomGamma",(function(){return r.Kc})),n.d(t,"randomNormal",(function(){return r.Lc})),n.d(t,"randomStandardNormal",(function(){return r.Mc})),n.d(t,"randomUniform",(function(){return r.Nc})),n.d(t,"range",(function(){return r.Oc})),n.d(t,"real",(function(){return r.Pc})),n.d(t,"reciprocal",(function(){return r.Qc})),n.d(t,"relu",(function(){return r.Rc})),n.d(t,"relu6",(function(){return r.Sc})),n.d(t,"reshape",(function(){return r.Tc})),n.d(t,"reverse",(function(){return r.Uc})),n.d(t,"reverse1d",(function(){return r.Vc})),n.d(t,"reverse2d",(function(){return r.Wc})),n.d(t,"reverse3d",(function(){return r.Xc})),n.d(t,"reverse4d",(function(){return r.Yc})),n.d(t,"round",(function(){return r.ad})),n.d(t,"rsqrt",(function(){return r.bd})),n.d(t,"scalar",(function(){return r.cd})),n.d(t,"selu",(function(){return r.fd})),n.d(t,"separableConv2d",(function(){return r.gd})),n.d(t,"setdiff1dAsync",(function(){return r.hd})),n.d(t,"sigmoid",(function(){return r.id})),n.d(t,"sign",(function(){return r.jd})),n.d(t,"sin",(function(){return r.ld})),n.d(t,"sinh",(function(){return r.md})),n.d(t,"slice",(function(){return r.nd})),n.d(t,"slice1d",(function(){return r.od})),n.d(t,"slice2d",(function(){return r.pd})),n.d(t,"slice3d",(function(){return r.qd})),n.d(t,"slice4d",(function(){return r.rd})),n.d(t,"softmax",(function(){return r.sd})),n.d(t,"softplus",(function(){return r.td})),n.d(t,"spaceToBatchND",(function(){return r.ud})),n.d(t,"fft",(function(){return r.pb})),n.d(t,"ifft",(function(){return r.yb})),n.d(t,"irfft",(function(){return r.Cb})),n.d(t,"rfft",(function(){return r.Zc})),n.d(t,"split",(function(){return r.yd})),n.d(t,"sqrt",(function(){return r.zd})),n.d(t,"square",(function(){return r.Ad})),n.d(t,"squaredDifference",(function(){return r.Bd})),n.d(t,"squeeze",(function(){return r.Cd})),n.d(t,"stack",(function(){return r.Dd})),n.d(t,"step",(function(){return r.Ed})),n.d(t,"stridedSlice",(function(){return r.Fd})),n.d(t,"sub",(function(){return r.Hd})),n.d(t,"sum",(function(){return r.Id})),n.d(t,"tan",(function(){return r.Jd})),n.d(t,"tanh",(function(){return r.Kd})),n.d(t,"tensor",(function(){return r.Ld})),n.d(t,"tensor1d",(function(){return r.Md})),n.d(t,"tensor2d",(function(){return r.Nd})),n.d(t,"tensor3d",(function(){return r.Od})),n.d(t,"tensor4d",(function(){return r.Pd})),n.d(t,"tensor5d",(function(){return r.Qd})),n.d(t,"tensor6d",(function(){return r.Rd})),n.d(t,"tensorScatterUpdate",(function(){return r.Sd})),n.d(t,"tile",(function(){return r.Td})),n.d(t,"topk",(function(){return r.Ud})),n.d(t,"truncatedNormal",(function(){return r.Wd})),n.d(t,"unique",(function(){return r.Xd})),n.d(t,"unsortedSegmentSum",(function(){return r.Yd})),n.d(t,"unstack",(function(){return r.Zd})),n.d(t,"upperBound",(function(){return r.ae})),n.d(t,"variable",(function(){return r.be})),n.d(t,"where",(function(){return r.ce})),n.d(t,"whereAsync",(function(){return r.de})),n.d(t,"zeros",(function(){return r.ee})),n.d(t,"zerosLike",(function(){return r.fe})),n.d(t,"op",(function(){return r.uc})),n.d(t,"OP_SCOPE_SUFFIX",(function(){return r.a})),n.d(t,"image",(function(){return r.Ab})),n.d(t,"linalg",(function(){return r.Jb})),n.d(t,"losses",(function(){return r.Vb})),n.d(t,"spectral",(function(){return r.xd})),n.d(t,"fused",(function(){return r.tb})),n.d(t,"signal",(function(){return r.kd})),n.d(t,"sparse",(function(){return r.vd})),n.d(t,"string",(function(){return r.Gd})),n.d(t,"booleanMaskAsync",(function(){return r.y})),n.d(t,"transpose",(function(){return r.Vd})),n.d(t,"norm",(function(){return r.pc})),n.d(t,"movingAverage",(function(){return r.kc})),n.d(t,"scatterND",(function(){return r.dd})),n.d(t,"searchSorted",(function(){return r.ed})),n.d(t,"sparseToDense",(function(){return r.wd})),n.d(t,"gatherND",(function(){return r.vb})),n.d(t,"dropout",(function(){return r.eb})),n.d(t,"enclosingPowerOfTwo",(function(){return r.hb})),n.d(t,"cosineWindow",(function(){return r.T})),n.d(t,"inTopKAsync",(function(){return r.Bb}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(24),a=n(76);function i(e,t){if((Object(r.isTypedArray)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&Object(r.isTypedArray)(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Object(a.a)(e,[],[],t)}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({zerosLike_:function(e){var t={x:Object(i.a)(e,"x","zerosLike")};return r.a.runKernel(a.ud,t)}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return m}));var r=n(9),a=n(2),i=n.n(a),o=n(7),s=n(4),u=n(11),c=n(21),l=function(){function e(t){Object(s.a)(this,e),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=d,this.populateURLFlags()}return Object(u.a)(e,[{key:"setPlatform",value:function(e,t){null!=this.platform&&(f().getBool("IS_TEST")||f().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=t}},{key:"registerFlag",value:function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];f().getBool("IS_TEST")||f().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(r,".")),this.set(e,r)}}},{key:"getAsync",value:function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.flags)){e.next=2;break}return e.abrupt("return",this.flags[t]);case 2:return e.next=4,this.evaluateFlag(t);case 4:return this.flags[t]=e.sent,e.abrupt("return",this.flags[t]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(e){if(e in this.flags)return this.flags[e];var t=this.evaluateFlag(e);if(Object(c.x)(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}},{key:"getNumber",value:function(e){return this.get(e)}},{key:"getBool",value:function(e){return this.get(e)}},{key:"getString",value:function(e){return this.get(e)}},{key:"getFlags",value:function(){return this.flags}},{key:"set",value:function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}},{key:"evaluateFlag",value:function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}},{key:"setFlags",value:function(e){this.flags=Object.assign({},e)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var e=this;if("undefined"!==typeof this.global&&"undefined"!==typeof this.global.location&&"undefined"!==typeof this.global.location.search){var t=this.getQueryParams(this.global.location.search);if("tfjsflags"in t)t.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),a=Object(r.a)(n,2),i=a[0],o=a[1];e.urlFlags[i]=function(e,t){var n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:"".concat(+n)===n?+n:t}(0,o)}))}}},{key:"features",get:function(){return this.flags}}]),e}();function d(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return p(t,r[0],r[1]),r.join("=")})),t}function p(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function f(){return h}var h=null;function m(e){h=e}},function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"k",(function(){return v})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return g})),n.d(t,"h",(function(){return y})),n.d(t,"a",(function(){return _}));var r=n(9),a=n(18),i=n(21);function o(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5?arguments[5]:void 0,s=e[3];return c(e,[].concat(Object(a.a)(t),[s]),n,o,r,null,null,y(i))}function s(e,t,n,a,i,o){var s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",l=p(t),d=Object(r.a)(l,2),f=d[0],h=d[1];if("channelsLast"===u)s=[f,h,e[3],e[3]];else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));s=[f,h,e[1],e[1]]}return c(e,s,n,a,i,o,!1,u)}function u(e,t,n,a,i,o){var s,u,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",d=f(t),p=Object(r.a)(d,3),h=p[0],m=p[1],v=p[2];if("NDHWC"===c)u="channelsLast",s=[h,m,v,e[4],e[4]];else{if("NCDHW"!==c)throw new Error("Unknown dataFormat ".concat(c));u="channelsFirst",s=[h,m,v,e[1],e[1]]}return l(e,s,n,a,i,!1,u,o)}function c(e,t,n,a,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",c=-1,l=-1,f=-1,v=-1;if("channelsLast"===u){var b=Object(r.a)(e,4);c=b[0],l=b[1],f=b[2],v=b[3]}else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));var g=Object(r.a)(e,4);c=g[0],v=g[1],l=g[2],f=g[3]}var y,_=Object(r.a)(t,4),x=_[0],k=_[1],w=_[3],O=p(n),j=Object(r.a)(O,2),S=j[0],C=j[1],T=p(a),N=Object(r.a)(T,2),E=N[0],I=N[1],A=h(x,E),R=h(k,I),D=function(e,t,n,r,a,i,o,s,u){var c,l,p;if("number"===typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var f=function(e,t,n,r,a){null==r&&(r=d(e,t,n));var i=e[0],o=e[1],s=m((i-t+2*r)/n+1,a),u=m((o-t+2*r)/n+1,a);return[s,u]}([t,n],i,r,e,s);l=f[0],p=f[1]}else if("same"===e){l=Math.ceil(t/r),p=Math.ceil(n/a);var h=Math.max(0,(l-1)*r+i-t),v=Math.max(0,(p-1)*a+o-n),b=Math.floor(h/2),g=h-b,y=Math.floor(v/2);c={top:b,bottom:g,left:y,right:v-y,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((t-i+1)/r),p=Math.ceil((n-o+1)/a);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));var _="channelsLast"===u?e[1][0]:e[2][0],x="channelsLast"===u?e[1][1]:e[2][1],k="channelsLast"===u?e[2][0]:e[3][0],w="channelsLast"===u?e[2][1]:e[3][1];c={top:_,bottom:x,left:k,right:w,type:0===_&&0===x&&0===k&&0===w?"VALID":"EXPLICIT"},l=m((t-i+_+x)/r+1,s),p=m((n-o+k+w)/a+1,s)}return{padInfo:c,outHeight:l,outWidth:p}}(i,l,f,S,C,A,R,o,u),M=D.padInfo,F=D.outHeight,L=D.outWidth,P=s?w*v:w;return"channelsFirst"===u?y=[c,P,F,L]:"channelsLast"===u&&(y=[c,F,L,P]),{batchSize:c,dataFormat:u,inHeight:l,inWidth:f,inChannels:v,outHeight:F,outWidth:L,outChannels:P,padInfo:M,strideHeight:S,strideWidth:C,filterHeight:x,filterWidth:k,effectiveFilterHeight:A,effectiveFilterWidth:R,dilationHeight:E,dilationWidth:I,inShape:e,outShape:y,filterShape:t}}function l(e,t,n,a,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",u=arguments.length>7?arguments[7]:void 0,c=-1,l=-1,p=-1,v=-1,b=-1;if("channelsLast"===s){var g=Object(r.a)(e,5);c=g[0],l=g[1],p=g[2],v=g[3],b=g[4]}else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));var y=Object(r.a)(e,5);c=y[0],b=y[1],l=y[2],p=y[3],v=y[4]}var _,x=Object(r.a)(t,5),k=x[0],w=x[1],O=x[2],j=x[4],S=f(n),C=Object(r.a)(S,3),T=C[0],N=C[1],E=C[2],I=f(a),A=Object(r.a)(I,3),R=A[0],D=A[1],M=A[2],F=h(k,R),L=h(w,D),P=h(O,M),z=function(e,t,n,r,a,i,o,s,u,c,l){var p,f,h,v;"valid"===e&&(e=0);if("number"===typeof e){p={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var b=function(e,t,n,r,a,i){null==a&&(a=d(e,t[0],r[0]));for(var o=[0,0,0,n],s=0;s<3;s++)e[s]+2*a>=t[s]&&(o[s]=m((e[s]-t[s]+2*a)/r[s]+1,i));return o}([t,n,r,1],[s,u,c],1,[a,i,o],e,l);f=b[0],h=b[1],v=b[2]}else{if("same"!==e)throw Error("Unknown padding parameter: ".concat(e));f=Math.ceil(t/a),h=Math.ceil(n/i),v=Math.ceil(r/o);var g=(f-1)*a+s-t,y=(h-1)*i+u-n,_=(v-1)*o+c-r,x=Math.floor(g/2),k=g-x,w=Math.floor(y/2),O=y-w,j=Math.floor(_/2);p={top:w,bottom:O,left:j,right:_-j,front:x,back:k,type:"SAME"}}return{padInfo:p,outDepth:f,outHeight:h,outWidth:v}}(i,l,p,v,T,N,E,F,L,P,u),B=z.padInfo,V=z.outDepth,U=z.outHeight,W=z.outWidth,H=o?j*b:j;return"channelsFirst"===s?_=[c,H,V,U,W]:"channelsLast"===s&&(_=[c,V,U,W,H]),{batchSize:c,dataFormat:s,inDepth:l,inHeight:p,inWidth:v,inChannels:b,outDepth:V,outHeight:U,outWidth:W,outChannels:H,padInfo:B,strideDepth:T,strideHeight:N,strideWidth:E,filterDepth:k,filterHeight:w,filterWidth:O,effectiveFilterDepth:F,effectiveFilterHeight:L,effectiveFilterWidth:P,dilationDepth:R,dilationHeight:D,dilationWidth:M,inShape:e,outShape:_,filterShape:t}}function d(e,t,n){var r=h(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function p(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function f(e){return"number"===typeof e?[e,e,e]:e}function h(e,t){return t<=1?e:e+(e-1)*(t-1)}function m(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function v(e){var t=p(e),n=Object(r.a)(t,3),a=n[0],i=n[1],o=n[2];return 1===a&&1===i&&1===o}function b(e,t){return v(e)||v(t)}function g(e){return p(e).every((function(e){return e>0}))}function y(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function _(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)i.b(i.v(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((function(t){t.forEach((function(t){i.b(i.v(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}))}))}))}}}},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"conv2d",(function(){return Sr})),n.d(r,"depthwiseConv2d",(function(){return Nr})),n.d(r,"matMul",(function(){return Er}));var a=n(69),i=n(362),o=n(363),s=n(31),u=n(12),c=n(8),l=n(6),d=n(21),p=n(10);var f=Object(p.b)({addN_:function(e){d.b(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),d.b(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)}));var t=e.map((function(e,t){return Object(l.a)(e,"tensors".concat(t),"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!d.a(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return u.a.runKernel(c.e,r)}}),h=n(230),m=n(231),v=n(232),b=n(233),g=n(364),y=n(365),_=n(366),x=n(234),k=n(367),w=n(183),O=n(28),j=n(41),S=n(20);var C=Object(p.b)({avgPool3d_:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",o=Object(l.a)(e,"x","avgPool3d","float32"),s=o,p=!1;4===o.rank&&(p=!0,s=Object(S.a)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),d.b(5===s.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(s.rank,".")})),d.b("NDHWC"===i,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(i)})),d.b("number"===typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(function(){return"Error in avgPool3d: Stride must be > 0, but got '".concat(n,"'")})),Object(j.a)("avgPool3d",r,a);var f={x:s},h={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i},m=u.a.runKernel(c.p,f,h);return m=Object(O.a)(m,s.dtype),p?Object(S.a)(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}}),T=n(54),N=n(44),E=n(22),I=n(103),A=n(49),R=n(214);var D=Object(p.b)({basicLSTMCell_:function(e,t,n,r,a,i){var o=Object(l.a)(e,"forgetBias","basicLSTMCell"),u=Object(l.a)(t,"lstmKernel","basicLSTMCell"),c=Object(l.a)(n,"lstmBias","basicLSTMCell"),d=Object(l.a)(r,"data","basicLSTMCell"),p=Object(l.a)(a,"c","basicLSTMCell"),f=Object(l.a)(i,"h","basicLSTMCell"),h=Object(T.a)([d,f],1),m=Object(N.a)(h,u),v=Object(s.a)(m,c),b=v.shape[0],g=v.shape[1]/4,y=[b,g],_=Object(A.a)(v,[0,0],y),x=Object(A.a)(v,[0,g],y),k=Object(A.a)(v,[0,2*g],y),w=Object(A.a)(v,[0,3*g],y),O=Object(s.a)(Object(E.a)(Object(I.a)(_),Object(R.a)(x)),Object(E.a)(p,Object(I.a)(Object(s.a)(o,k))));return[O,Object(E.a)(Object(R.a)(O),Object(I.a)(w))]}}),M=n(144),F=n(131);var L=Object(p.b)({batchNorm2d_:function(e,t,n,r,a,i){var o,s,u=Object(l.a)(e,"x","batchNorm"),c=Object(l.a)(t,"mean","batchNorm"),p=Object(l.a)(n,"variance","batchNorm");return null!=a&&(o=Object(l.a)(a,"scale","batchNorm")),null!=r&&(s=Object(l.a)(r,"offset","batchNorm")),d.b(2===u.rank,(function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(u.rank,".")})),d.b(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(c.rank,".")})),d.b(2===p.rank||1===p.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(p.rank,".")})),null!=o&&d.b(2===o.rank||1===o.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&d.b(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(s.rank,".")})),Object(F.a)(u,c,p,s,o,i)}});var P=Object(p.b)({batchNorm3d_:function(e,t,n,r,a,i){var o,s,u=Object(l.a)(e,"x","batchNorm"),c=Object(l.a)(t,"mean","batchNorm"),p=Object(l.a)(n,"variance","batchNorm");return null!=a&&(o=Object(l.a)(a,"scale","batchNorm")),null!=r&&(s=Object(l.a)(r,"offset","batchNorm")),d.b(3===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(u.rank,".")})),d.b(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(c.rank,".")})),d.b(3===p.rank||1===p.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(p.rank,".")})),null!=o&&d.b(3===o.rank||1===o.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&d.b(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(s.rank,".")})),Object(F.a)(u,c,p,s,o,i)}});var z=Object(p.b)({batchNorm4d_:function(e,t,n,r,a,i){var o,s,u=Object(l.a)(e,"x","batchNorm"),c=Object(l.a)(t,"mean","batchNorm"),p=Object(l.a)(n,"variance","batchNorm");return null!=a&&(o=Object(l.a)(a,"scale","batchNorm")),null!=r&&(s=Object(l.a)(r,"offset","batchNorm")),d.b(4===u.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(u.rank,".")})),d.b(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(c.rank,".")})),d.b(4===p.rank||1===p.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(p.rank,".")})),null!=o&&d.b(4===o.rank||1===o.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&d.b(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(s.rank,".")})),Object(F.a)(u,c,p,s,o,i)}});var B=Object(p.b)({bincount_:function(e,t,n){var r=Object(l.a)(e,"x","bincount"),a=Object(l.a)(t,"weights","bincount");d.b("int32"===r.dtype,(function(){return"Error in bincount: input "+"dtype must be int32, but got ".concat(r.dtype)})),d.b(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),d.b(a.size===r.size||0===a.size,(function(){return"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(r.shape,", weights shape: ")+"".concat(a.shape,".")}));var i={x:r,weights:a},o={size:n};return u.a.runKernel(c.u,i,o)}});var V=Object(p.b)({broadcastArgs_:function(e,t){var n=Object(l.a)(e,"s0","broadcastArgs","int32"),r=Object(l.a)(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==r.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(r.rank));var a={s0:n,s1:r};return u.a.runKernel(c.v,a)}}),U=n(153),W=n(73),H=n(368),G=n(369),$=n(102),q=n(79);var K=Object(p.b)({concat1d_:function(e){return Object(T.a)(e,0)}});var X=Object(p.b)({concat2d_:function(e,t){return Object(T.a)(e,t)}});var Y=Object(p.b)({concat3d_:function(e,t){return Object(T.a)(e,t)}});var Z=Object(p.b)({concat4d_:function(e,t){return Object(T.a)(e,t)}}),Q=n(235),J=n(100),ee=n(236);var te=Object(p.b)({conv3d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],o=Object(l.a)(e,"x","conv3d"),s=Object(l.a)(t,"filter","conv3d"),p=o,f=!1;4===o.rank&&(f=!0,p=Object(S.a)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),d.b(5===p.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(p.rank,".")})),d.b(5===s.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+"".concat(s.rank,".")})),d.b(p.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input (".concat(p.shape[4],") must match ")+"input depth for filter ".concat(s.shape[3],".")})),d.b(Object(j.i)(n,i),(function(){return"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(i,"'")})),d.b("NDHWC"===a,(function(){return"Error in conv3d: got dataFormat of ".concat(a," but only NDHWC is currently supported.")})),d.b(Object(j.j)(i),(function(){return"Error in conv3D: Dilated rates should be larger than 0."})),d.b(Object(j.j)(n),(function(){return"Error in conv3D: Strides should be larger than 0."}));var h={x:p,filter:s},m={strides:n,pad:r,dataFormat:a,dilations:i},v=u.a.runKernel(c.G,h,m);return f?Object(S.a)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}}),ne=n(272);var re=Object(p.b)({conv3dTranspose_:function(e,t,n,r,a){var i=Object(l.a)(e,"x","conv3dTranspose"),o=Object(l.a)(t,"filter","conv3dTranspose");return Object(ne.a)(n,i,o,r,a)}}),ae=n(184),ie=n(237),oe=n(160),se=n(185);var ue=Object(p.b)({denseBincount_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Object(l.a)(e,"x","denseBincount"),i=Object(l.a)(t,"weights","denseBincount");d.b("int32"===a.dtype,(function(){return"Error in denseBincount: input "+"dtype must be int32, but got ".concat(a.dtype)})),d.b(a.rank<=2,(function(){return"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(a.rank,".")})),d.b(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),d.b(i.size===a.size||0===i.size,(function(){return"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(a.shape,", weights shape: ")+"".concat(i.shape,".")}));var o={x:a,weights:i},s={size:n,binaryOutput:r};return u.a.runKernel(c.O,o,s)}}),ce=n(238),le=n(145);var de=Object(p.b)({diag_:function(e){var t={x:Object(l.a)(e,"x","diag")};return u.a.runKernel(c.T,t)}}),pe=n(239),fe=n(33),he=n(240),me=n(241);var ve=Object(p.b)({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map((function(e,t){return Object(l.a)(e,"tensors".concat(t),"einsum")})),i={equation:e};return u.a.runKernel(c.X,a,i)}}),be=n(186),ge=n(146),ye=n(370),_e=n(242),xe=n(63),ke=n(97),we=n(371),Oe=n(105);var je=Object(p.b)({eye_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";null==t&&(t=e);for(var a=Object(W.a)([e,t],r),i=e<=t?e:t,o=0;o<i;++o)a.set(1,o,o);var s=Object(S.a)(a.toTensor(),[e,t]);if(null==n)return s;if(1===n.length)return Object(Oe.a)(Object(ke.a)(s,0),[n[0],1,1]);if(2===n.length)return Object(Oe.a)(Object(ke.a)(Object(ke.a)(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return Object(Oe.a)(Object(ke.a)(Object(ke.a)(Object(ke.a)(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}}),Se=n(126),Ce=n(187),Te=n(176),Ne=n(148),Ee=n(67),Ie=n(101),Ae=n(149),Re=n(372),De=n(373),Me=n(374),Fe=n(188),Le=n(135),Pe=n(86);function ze(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");var r={start:e,stop:t,num:n};return u.a.runKernel(c.Db,{},r)}var Be=n(243),Ve=n(113),Ue=n(244),We=n(375),He=n(376),Ge=n(189),$e=n(93),qe=n(150),Ke=n(190),Xe=n(246),Ye=2147483648;var Ze=Object(p.b)({searchSorted_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",r=Object(l.a)(e,"sortedSequence","searchSorted"),a=Object(l.a)(t,"values","searchSorted"),i=r.shape[r.shape.length-1],o=a.shape[a.shape.length-1],s=Object(S.a)(r,[-1,i]),p=Object(S.a)(a,[-1,o]);if(s.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(s.shape[0]!==p.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Object(d.N)(p.shape)>=Ye)throw new Error("values tensor size must less than ".concat(Ye));if(s.shape[1]>=Ye)throw new Error("trailing dim_size must less than ".concat(Ye," for int32 output type, was ").concat(s.shape[1]));var f={sortedSequence:s,values:p},h={side:n};return u.a.runKernel(c.Hc,f,h)}});function Qe(e,t){return Ze(e,t,"left")}var Je=n(104),et=n(191);var tt=Object(p.b)({maxPool3d_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",o=Object(l.a)(e,"x","maxPool3d"),s=o,p=!1;4===o.rank&&(p=!0,s=Object(S.a)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),d.b(5===s.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(s.rank,".")})),d.b("NDHWC"===i,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(i)})),Object(j.a)("maxPool3d",r,a);var f={x:s},h={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i},m=u.a.runKernel(c.Pb,f,h);return p?Object(S.a)(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}});var nt=Object(p.b)({maxPoolWithArgmax_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={x:Object(l.a)(e,"x","maxPoolWithArgmax")},o={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},s=u.a.runKernel(c.Sb,i,o);return{result:s[0],indexes:s[1]}}}),rt=n(142),at=n(136),it=n(81),ot=n(15);function st(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).indexing,r=void 0===n?"xy":n;if("xy"!==r&&"ij"!==r)throw new TypeError("".concat(r," is not a valid third argument to meshgrid"));if(void 0===e)return[];var a=Object(l.a)(e,"x","meshgrid",e instanceof ot.a?e.dtype:"float32");if(void 0===t)return[a];var i=Object(l.a)(t,"y","meshgrid",t instanceof ot.a?t.dtype:"float32"),o=Object(d.N)(a.shape),s=Object(d.N)(i.shape);return"xy"===r?(a=Object(S.a)(a,[1,-1]),i=Object(S.a)(i,[-1,1]),[Object(N.a)(Object(it.a)([s,1],a.dtype),a),Object(N.a)(i,Object(it.a)([1,o],i.dtype))]):(a=Object(S.a)(a,[-1,1]),i=Object(S.a)(i,[1,-1]),[Object(N.a)(a,Object(it.a)([1,s],a.dtype)),Object(N.a)(Object(it.a)([o,1],i.dtype),i)])}var ut=n(161),ct=n(137),lt=n(247),dt=n(248),pt=n(62),ft=n(45),ht=n(32);var mt=Object(p.b)({moments_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=Object(l.a)(e,"x","moments");var r=Object(d.H)(t,e.shape),a=Object(at.a)(e,r,n),i=a.shape;n||(i=Object(pt.e)(a.shape,r));var o=Object(ft.a)(Object(ht.a)(Object(O.a)(e,"float32"),Object(S.a)(a,i)));return{mean:a,variance:Object(at.a)(o,r,n)}}});var vt=Object(p.b)({multiRNNCell_:function(e,t,n,r){for(var a=Object(l.a)(t,"data","multiRNNCell"),i=Object(l.b)(n,"c","multiRNNCell"),o=Object(l.b)(r,"h","multiRNNCell"),s=a,u=[],c=0;c<e.length;c++){var d=e[c](s,i[c],o[c]);u.push(d[0]),u.push(d[1]),s=d[1]}for(var p=[],f=[],h=0;h<u.length;h+=2)p.push(u[h]),f.push(u[h+1]);return[p,f]}});var bt=Object(p.b)({multinomial_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Object(l.a)(e,"logits","multinomial"),i=a.size,o=a.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(i,"."));if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(o));n=n||Math.random();var s={logits:1===o?Object(S.a)(a,[1,-1]):a},d={numSamples:t,seed:n,normalized:r},p=u.a.runKernel(c.Zb,s,d);return 1===o?Object(S.a)(p,[p.size]):p}}),gt=n(50),yt=n(192),_t=n(162),xt=n(377);var kt=Object(p.b)({outerProduct_:function(e,t){var n=Object(l.a)(e,"v1","outerProduct"),r=Object(l.a)(t,"v2","outerProduct");d.b(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var a=Object(S.a)(n,[-1,1]),i=Object(S.a)(r,[1,-1]);return Object(N.a)(a,i)}}),wt=n(87);var Ot=Object(p.b)({pad1d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(d.b)(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),Object(wt.a)(e,[t],n)}});var jt=Object(p.b)({pad2d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(d.b)(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Object(wt.a)(e,t,n)}});var St=Object(p.b)({pad3d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(d.b)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Object(wt.a)(e,t,n)}});var Ct=Object(p.b)({pad4d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(d.b)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Object(wt.a)(e,t,n)}}),Tt=n(249),Nt=n(80),Et=n(193),It=n(229),At=n(250);var Rt=Object(p.b)({raggedGather_:function(e,t,n,r){var a={paramsNestedSplits:e.map((function(e,t){return Object(l.a)(e,"tensors".concat(t),"raggedGather","int32")})),paramsDenseValues:Object(l.a)(t,"paramsDenseValues","raggedGather"),indices:Object(l.a)(n,"indices","raggedGather","int32")},i={outputRaggedRank:r},o=u.a.runKernel(c.oc,a,i);return{outputNestedSplits:o.slice(0,o.length-1),outputDenseValues:o[o.length-1]}}});var Dt=Object(p.b)({raggedRange_:function(e,t,n){var r=Object(l.a)(e,"starts","raggedRange"),a={starts:r,limits:Object(l.a)(t,"limits","raggedRange",r.dtype),deltas:Object(l.a)(n,"deltas","raggedRange",r.dtype)},i=u.a.runKernel(c.pc,a);return{rtNestedSplits:i[0],rtDenseValues:i[1]}}});var Mt=Object(p.b)({raggedTensorToTensor_:function(e,t,n,r,a){var i=Object(l.a)(e,"shape","raggedTensorToTensor","int32"),o=Object(l.a)(t,"values","raggedTensorToTensor"),s={shape:i,values:o,defaultValue:Object(l.a)(n,"defaultValue","raggedTensorToTensor",o.dtype),rowPartitionTensors:r.map((function(e,t){return Object(l.a)(e,"tensors".concat(t),"raggedTensorToTensor","int32")}))},d={rowPartitionTypes:a};return u.a.runKernel(c.qc,s,d)}});var Ft=Object(p.b)({rand_:function(e,t,n){Object(d.c)(e);var r=Object(d.N)(e),a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));a=new Uint8Array(r)}for(var i=0;i<r;i++)a[i]=t();return u.a.makeTensor(a,e,n)}}),Lt=n(4),Pt=n(11),zt=n(133),Bt=(n(204),function(){function e(t,n,r,a,i){Object(Lt.a)(this,e),this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=i||Math.random();this.random=zt.alea(o.toString())}return Object(Pt.a)(e,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var a=void 0,i=void 0,o=void 0;do{o=(a=2*this.random()-1)*a+(i=2*this.random()-1)*i}while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*a*s,n=this.mean+this.stdDev*i*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)}},{key:"convertValue",value:function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}},{key:"isValidTruncated",value:function(e){return e<=this.upper&&e>=this.lower}}]),e}()),Vt=function(){function e(t,n,r,a){Object(Lt.a)(this,e),this.alpha=t,this.beta=1/n,this.dtype=r;var i=a||Math.random();this.randu=zt.alea(i.toString()),this.randn=new Bt(0,1,r,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return Object(Pt.a)(e,[{key:"nextValue",value:function(){for(var e,t,n,r,a,i;;){do{r=this.randn.nextValue(),i=1+this.c*r}while(i<=0);if(i*=i*i,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-i+Math.log(i)),(a=this.randu())<t||Math.log(a)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}},{key:"convertValue",value:function(e){return"float32"===this.dtype?e:Math.round(e)}}]),e}(),Ut=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(Object(Lt.a)(this,e),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=n,this.range=r-n,this.dtype=a,null==i&&(i=Math.random()),"number"===typeof i&&(i=i.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(n," - ").concat(r," <= 1 and dtype is not float"));this.random=zt.alea(i)}return Object(Pt.a)(e,[{key:"convertValue",value:function(e){return this.canReturnFloat()?e:Math.round(e)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),e}();var Wt=Object(p.b)({randomGamma_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(Object(d.c)(e),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));for(var i=new Vt(t,n,r,a),o=Object(W.a)(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}});var Ht=Object(p.b)({randomNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(Object(d.c)(e),null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));for(var i=new Bt(t,n,r,!1,a),o=Object(W.a)(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}});var Gt=Object(p.b)({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error("Unsupported data type ".concat(t));return Ht(e,0,1,t,n)}});var $t=Object(p.b)({randomUniform_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;Object(d.c)(e);for(var i=Object(W.a)(e,r),o=new Ut(t,n,null,a),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});function qt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");var a={start:e,stop:t,step:n,dtype:r};return u.a.runKernel(c.rc,{},a)}var Kt=n(138),Xt=n(378),Yt=n(128),Zt=n(194),Qt=n(74);var Jt=Object(p.b)({reverse1d_:function(e){var t=Object(l.a)(e,"x","reverse");return d.b(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")})),Object(Qt.a)(t,0)}});var en=Object(p.b)({reverse2d_:function(e,t){var n=Object(l.a)(e,"x","reverse");return d.b(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")})),Object(Qt.a)(n,t)}});var tn=Object(p.b)({reverse3d_:function(e,t){var n=Object(l.a)(e,"x","reverse");return d.b(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")})),Object(Qt.a)(n,t)}});var nn=Object(p.b)({reverse4d_:function(e,t){var n=Object(l.a)(e,"x","reverse");return d.b(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")})),Object(Qt.a)(n,t)}}),rn=n(251),an=n(252),on=n(37),sn=n(253),un=n(254),cn=n(2),ln=n.n(cn),dn=n(7);function pn(){return(pn=Object(dn.a)(ln.a.mark((function e(t,n){var r,a,i,o,s,u,c,p,f,h,m;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(l.a)(t,"x","setdiff1d"),a=Object(l.a)(n,"y","setdiff1d"),d.b(r.dtype===a.dtype,(function(){return"x and y should have the same dtype, but got x (".concat(r.dtype,") and y (").concat(a.dtype,").")})),d.b(1===r.rank,(function(){return"x should be 1D tensor, but got x (".concat(r.shape,").")})),d.b(1===a.rank,(function(){return"y should be 1D tensor, but got y (".concat(a.shape,").")})),e.next=7,r.data();case 7:return i=e.sent,e.next=10,a.data();case 10:for(o=e.sent,s=new Set(o),u=0,c=0;c<i.length;c++)s.has(i[c])||u++;for(p=new ot.b([u],r.dtype),f=new ot.b([u],"int32"),h=0,m=0;h<i.length;h++)s.has(i[h])||(p.values[m]=i[h],f.values[m]=h,m++);return e.abrupt("return",[p.toTensor(),f.toTensor()]);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fn=function(e,t){return pn.apply(this,arguments)},hn=n(379),mn=n(255),vn=n(256);var bn=Object(p.b)({slice1d_:function(e,t,n){var r=Object(l.a)(e,"x","slice1d");return d.b(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor")})),Object(A.a)(r,[t],[n])}});var gn=Object(p.b)({slice2d_:function(e,t,n){var r=Object(l.a)(e,"x","slice2d");return d.b(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor")})),Object(A.a)(r,t,n)}});var yn=Object(p.b)({slice3d_:function(e,t,n){var r=Object(l.a)(e,"x","slice3d");return d.b(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor")})),Object(A.a)(r,t,n)}});var _n=Object(p.b)({slice4d_:function(e,t,n){var r=Object(l.a)(e,"x","slice4d");return d.b(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor")})),Object(A.a)(r,t,n)}}),xn=n(380),kn=n(245),wn=n(151),On=n(195),jn=n(163),Sn=n(257),Cn=n(196),Tn=n(94),Nn=n(57),En=n(197),In=n(152),An=n(95),Rn=n(129),Dn=n(381),Mn=n(35),Fn=n(382),Ln=n(132),Pn=n(76);function zn(e,t){Object(d.d)(e);var n=Object(l.c)(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Object(Pn.a)(e,null,n,t)}function Bn(e,t,n){if(Object(d.d)(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=Object(l.c)(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Object(Pn.a)(e,t,r,n)}var Vn=n(258);function Un(e,t,n){if(Object(d.d)(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=Object(l.c)(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Object(Pn.a)(e,t,r,n)}function Wn(e,t,n){if(Object(d.d)(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=Object(l.c)(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Object(Pn.a)(e,t,r,n)}function Hn(e,t,n){if(Object(d.d)(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=Object(l.c)(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||r,Object(Pn.a)(e,t,r,n)}var Gn=n(141);var $n=Object(p.b)({tensorScatterUpdate_:function(e,t,n){var r=Object(l.a)(e,"tensor","tensorScatterupdate"),a=Object(l.a)(t,"indices","tensorScatterupdate","int32"),i=Object(l.a)(n,"updates","tensorScatterupdate");if(Gn.validateInput(i,a,r.shape),r.dtype!==i.dtype)throw new Error("tensor and updates must have the same dtype, instead they are ".concat(r.dtype," and ").concat(i.dtype,"."));var o={tensor:r,indices:a,updates:i};return u.a.runKernel(c.ld,o,{})}}),qn=n(259);var Kn=Object(p.b)({truncatedNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(Object(d.c)(e),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");for(var i=new Bt(t,n,r,!0,a),o=Object(W.a)(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}}),Xn=n(260),Yn=n(198),Zn=n(130);function Qn(e,t){return Ze(e,t,"right")}function Jn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return u.a.makeVariable(e,t,n,r)}var er=n(55),tr=n(261);function nr(){return(nr=Object(dn.a)(ln.a.mark((function e(t){var n,r,a;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(l.a)(t,"condition","whereAsync","bool"),e.next=3,n.data();case 3:return r=e.sent,a=Object(tr.a)(n.shape,r),t!==n&&n.dispose(),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rr=function(e){return nr.apply(this,arguments)},ar=n(127),ir=n(39);function or(){return(or=Object(dn.a)(ln.a.mark((function e(t,n,r){var a,i,o,s,u,c,p,f,h,m,v,b,g;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=Object(l.a)(t,"tensor","boolMask"),i=Object(l.a)(n,"mask","boolMask","bool"),o=null==r?0:r,s=i.rank,u=a.shape,d.b(s>0,(function(){return"mask cannot be scalar"})),d.e(u.slice(o,o+s),i.shape,"mask's shape must match the first K dimensions of tensor's shape,"),c=1,p=o;p<o+s;p++)c*=u[p];return f=u.slice(0,o).concat([c],u.slice(o+s)),h=Object(S.a)(a,f),m=Object(S.a)(i,[-1]),e.next=14,rr(m);case 14:return v=e.sent,b=Object(In.a)(v,[1]),g=Object(Ne.a)(h,b,o),t!==a&&a.dispose(),n!==i&&i.dispose(),b.dispose(),h.dispose(),m.dispose(),v.dispose(),e.abrupt("return",g);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sr=function(e,t,n){return or.apply(this,arguments)},ur=n(68),cr=n(147),lr=n(43);var dr=Object(p.b)({movingAverage_:function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=Object(l.a)(e,"v","movingAverage"),o=Object(l.a)(t,"x","movingAverage"),u=Object(l.a)(n,"decay","movingAverage");Object(lr.assertTypesMatch)(i,o),d.b(d.a(i.shape,o.shape),(function(){return"Shape mismatch in v and x"}));var c=Object(on.a)(1),p=Object(ht.a)(c,u),f=Object(E.a)(Object(ht.a)(o,i),p);if(a){d.b(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var h=Object(l.a)(r,"step","movingAverage");f=Object(fe.a)(f,Object(ht.a)(c,Object(Nt.a)(u,h)))}return Object(s.a)(i,f)}});var pr=Object(p.b)({scatterND_:function(e,t,n){Object(d.c)(n);var r=Object(l.a)(e,"indices","scatterND","int32"),a=Object(l.a)(t,"updates","scatterND");Gn.validateInput(a,r,n);var i={indices:r,updates:a},o={shape:n};return u.a.runKernel(c.Gc,i,o)}});var fr=Object(p.b)({sparseToDense_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(d.c)(n);var a=Object(l.a)(e,"sparseIndices","sparseToDense","int32"),i=Object(l.a)(t,"sparseValues","sparseToDense","string_or_numeric"),o=Object(l.a)(r,"defaultValue","sparseToDense",i.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));var a=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(n.length!==i)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(i,"."));var o=t.size;if(0!==t.rank&&(1!==t.rank||o!==a))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(a,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,i,n,o);var s={sparseIndices:a,sparseValues:i,defaultValue:o},p={outputShape:n};return u.a.runKernel(c.Wc,s,p)}});var hr=Object(p.b)({gatherND_:function(e,t){var n=Object(l.a)(t,"indices","gatherND","int32"),r={params:Object(l.a)(e,"x","gatherND","string_or_numeric"),indices:n};return u.a.runKernel(c.ob,r)}});var mr=Object(p.b)({dropout_:function(e,t,n,r){var a=Object(l.a)(e,"x","dropout");if(d.b("float32"===a.dtype,(function(){return"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(a.dtype," tensor instead.")})),d.b(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got ".concat(t,".")})),0===t)return e instanceof ot.a?a.clone():a;var i=function(e,t){if(null==t)return e.shape.slice();if(d.a(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),o=1-t,u=Object(fe.a)(Object(Ce.a)(Object(s.a)($t(i,0,1,"float32",r),o)),o);return Object(E.a)(a,u)}});function vr(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function br(e,t,n){for(var r=1-e%2,a=new Float32Array(e),i=0;i<e;++i){var o=2*Math.PI*i/(e+r-1);a[i]=t-n*Math.cos(o)}return zn(a,"float32")}function gr(){return(gr=Object(dn.a)(ln.a.mark((function e(t,n){var r,a,i,o,s,u,c,p,f,h,m,v,b,g,y,_=arguments;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_.length>2&&void 0!==_[2]?_[2]:1,a=Object(l.a)(t,"predictions","inTopK"),i=Object(l.a)(n,"targets","inTopK"),Object(d.b)(a.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(a.rank)})),Object(d.b)(a.rank-1===i.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(a.rank," and targets rank ").concat(i.rank)})),Object(d.e)(a.shape.slice(0,a.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=a.shape[a.shape.length-1],Object(d.b)(r>0&&r<=o,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(o,"), but got ").concat(r)})),e.next=10,a.data();case 10:return s=e.sent,e.next=13,i.data();case 13:u=e.sent,c=s.length/o,p=o,f=Object(d.o)("bool",c),h=0;case 17:if(!(h<c)){e.next=35;break}for(m=h*p,v=s.subarray(m,m+p),b=[],g=0;g<v.length;g++)b.push({value:v[g],index:g});b.sort((function(e,t){return t.value-e.value})),f[h]=0,y=0;case 25:if(!(y<r)){e.next=32;break}if(b[y].index!==u[h]){e.next=29;break}return f[h]=1,e.abrupt("break",32);case 29:y++,e.next=25;break;case 32:h++,e.next=17;break;case 35:return t!==a&&a.dispose(),n!==i&&i.dispose(),e.abrupt("return",Object(Ln.a)(f,i.shape,"bool"));case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yr=function(e,t){return gr.apply(this,arguments)},_r=n(9),xr=n(56),kr=n(34),wr=n(205),Or=n(203),jr=n(70);var Sr=Object(p.b)({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=void 0===i?"NHWC":i,p=e.dilations,f=void 0===p?[1,1]:p,h=e.dimRoundingMode,m=e.bias,v=e.activation,b=void 0===v?"linear":v,g=e.preluActivationWeights,y=e.leakyreluAlpha;if(b=b||"linear",!1===Object(jr.d)(u.a.state.gradientDepth,b)){d.b("NHWC"===o,(function(){return"Error in fused conv2d: got dataFormat of ".concat(o," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."}));var _=Object(J.a)(t,n,r,a,o,f,h);return null!=m&&(_=Object(s.a)(_,m)),Object(jr.a)(_,b,g,y)}var x=Object(l.a)(t,"x","conv2d","float32"),k=Object(l.a)(n,"filter","conv2d","float32"),w=x,O=!1;3===x.rank&&(O=!0,w=Object(S.a)(x,[1,x.shape[0],x.shape[1],x.shape[2]])),d.b(4===w.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(w.rank,".")})),d.b(4===k.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(k.rank,".")})),j.a("fused conv2d",a,h);var C="NHWC"===o?w.shape[3]:w.shape[1];d.b(k.shape[2]===C,(function(){return"Error in conv2d: depth of input (".concat(C,") must match ")+"input depth for filter ".concat(k.shape[2],".")})),d.b(j.i(r,f),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(f,"'")}));var T,N,E=j.b(w.shape,k.shape,r,f,a,h);if(null!=m){T=Object(l.a)(m,"bias","fused conv2d");var I=Object(lr.makeTypesMatch)(T,x),A=Object(_r.a)(I,1);T=A[0],"NHWC"===o?kr.assertAndGetBroadcastShape(E.outShape,T.shape):(d.b(T.shape.length<=1,(function(){return"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(T.shape.length,".")})),d.b(0===T.shape.length||T.shape[0]===E.outChannels||1===T.shape[0],(function(){return"Error in fused conv2d: bias shape (".concat(T.shape,") is not ")+"compatible with the number of output channels "+"(".concat(E.outChannels,")")})))}if(null!=g){var R=g.shape;if(d.b(R.length<=1||3===R.length,(function(){return"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(R.length,".")})),1===R.length)d.b(1===R[0]||R[0]===E.outChannels,(function(){return"Error in fused conv2d: PReLU activation weights "+"(".concat(R,") is not compatible with the number of output ")+"channels (".concat(E.outChannels,").")}));else if(3===R.length)try{kr.assertAndGetBroadcastShape(R,E.outShape)}catch(P){var D="Error in fused conv2d: PReLU activation weights (".concat(R,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(E.outShape,").");throw Error(D)}N=Object(l.a)(g,"prelu weights","fused conv2d")}var M=function(e,t){d.b("NHWC"===o,(function(){return"Error in gradient of fused conv2D: got dataFormat of ".concat(o," but only NHWC is currently supported.")}));var n=Object(_r.a)(t,4),i=n[0],s=n[1],u=n[2],c=n[3],l=Object(jr.c)(e,u,b);d.b(j.k(f),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(f,"'")}));var p=[Object(Or.a)(s.shape,l,i,r,a),Object(wr.a)(s,l,i.shape,r,a)];if(null!=c){var h=Object(jr.b)(c,l);p.push(h)}return p},F={x:w,filter:k,bias:T,preluActivationWeights:N},L={strides:r,pad:a,dataFormat:o,dilations:f,dimRoundingMode:h,activation:b,leakyreluAlpha:y};return null==m?Object(xr.a)((function(e,t,n){var r=u.a.runKernel(c.mb,F,L);return n([t,e,r]),O&&(r=Object(S.a)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:M}}))(w,k):Object(xr.a)((function(e,t,n,r){var a=u.a.runKernel(c.mb,F,L);return r([t,e,a,n]),O&&(a=Object(S.a)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:M}}))(w,k,T)}}),Cr=n(277),Tr=n(276);var Nr=Object(p.b)({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=void 0===i?"NHWC":i,p=e.dilations,f=void 0===p?[1,1]:p,h=e.dimRoundingMode,m=e.bias,v=e.activation,b=void 0===v?"linear":v,g=e.preluActivationWeights,y=e.leakyreluAlpha;if(!1===Object(jr.d)(u.a.state.gradientDepth,b)){var _=Object(le.a)(t,n,r,a,o,f,h);return null!=m&&(_=Object(s.a)(_,m)),Object(jr.a)(_,b,g,y)}var x=Object(l.a)(t,"x","depthwiseConv2d","float32"),k=Object(l.a)(n,"filter","depthwiseConv2d","float32"),w=x,O=!1;3===x.rank&&(O=!0,w=Object(S.a)(x,[1,x.shape[0],x.shape[1],x.shape[2]])),d.b(4===w.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(w.rank,".")})),d.b(4===k.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(k.rank,".")})),d.b(w.shape[3]===k.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels "+"(".concat(w.shape[3],") must match the inChannels dimension in ")+"filter ".concat(k.shape[2],".")})),null==f&&(f=[1,1]),d.b(j.i(r,f),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(r," and dilations '").concat(f,"'")})),j.a("fused depthwiseConv2d",a,h);var C,T,N=j.b(w.shape,k.shape,r,f,a,h,!0);if(null!=m){C=Object(l.a)(m,"bias","fused conv2d");var E=Object(lr.makeTypesMatch)(C,x),I=Object(_r.a)(E,1);C=I[0],kr.assertAndGetBroadcastShape(N.outShape,C.shape)}null!=g&&(T=Object(l.a)(g,"prelu weights","fused depthwiseConv2d"));var A=function(e,t){d.b(j.k(f),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(f,"'")}));var n=Object(_r.a)(t,4),i=n[0],o=n[1],s=n[2],u=n[3],c=Object(jr.c)(e,s,b),l=Object(Tr.a)(o.shape,c,i,r,a,f,h),p=Object(Cr.a)(o,c,i.shape,r,a,f,h);return null!=u?[l,p,Object(jr.b)(C,c)]:[l,p]},R={x:w,filter:k,bias:C,preluActivationWeights:T},D={strides:r,pad:a,dataFormat:o,dilations:f,dimRoundingMode:h,activation:b,leakyreluAlpha:y};return null==m?Object(xr.a)((function(e,t,n){var r=u.a.runKernel(c.nb,R,D);return n([t,e,r]),O&&(r=Object(S.a)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:A}}))(w,k):Object(xr.a)((function(e,t,n,r){var a=u.a.runKernel(c.nb,R,D);return r([t,e,a,n]),O&&(a=Object(S.a)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:A}}))(w,k,C)}});var Er=Object(p.b)({fusedMatMul_:function(e){var t=e.a,n=e.b,r=e.transposeA,a=void 0!==r&&r,i=e.transposeB,o=void 0!==i&&i,p=e.bias,f=e.activation,h=void 0===f?"linear":f,m=e.preluActivationWeights,v=e.leakyreluAlpha,b=void 0===v?.2:v;if(!1===Object(jr.d)(u.a.state.gradientDepth,h)){var g=Object(N.a)(t,n,a,o);return null!=p&&(g=Object(s.a)(g,p)),Object(jr.a)(g,h,m,b)}var y=Object(l.a)(t,"a","fused matMul"),_=Object(l.a)(n,"b","fused matMul"),x=Object(lr.makeTypesMatch)(y,_),k=Object(_r.a)(x,2);y=k[0],_=k[1];var w=a?y.shape[y.rank-2]:y.shape[y.rank-1],O=o?_.shape[_.rank-1]:_.shape[_.rank-2],j=a?y.shape[y.rank-1]:y.shape[y.rank-2],C=o?_.shape[_.rank-2]:_.shape[_.rank-1],T=y.shape.slice(0,-2),E=_.shape.slice(0,-2),I=d.N(T),A=d.N(E);d.b(w===O,(function(){return"Error in fused matMul: inner shapes (".concat(w,") and (")+"".concat(O,") of Tensors with shapes ").concat(y.shape," and ")+"".concat(_.shape," and transposeA=").concat(a)+" and transposeB=".concat(o," must match.")}));var R,D,M=kr.assertAndGetBroadcastShape(y.shape.slice(0,-2),_.shape.slice(0,-2)).concat([j,C]),F=a?Object(S.a)(y,[I,w,j]):Object(S.a)(y,[I,j,w]),L=o?Object(S.a)(_,[A,C,O]):Object(S.a)(_,[A,O,C]);if(null!=p){R=Object(l.a)(p,"bias","fused matMul");var P=Object(lr.makeTypesMatch)(R,y);R=Object(_r.a)(P,1)[0],kr.assertAndGetBroadcastShape(M,R.shape)}null!=m&&(D=Object(l.a)(m,"prelu weights","fused matMul"));var z=function(e,t){var n,r,i=Object(_r.a)(t,4),s=i[0],u=i[1],c=i[2],l=i[3],d=Object(jr.c)(Object(S.a)(e,c.shape),c,h);return a||o?!a&&o?(n=Object(N.a)(d,u,!1,!1),r=Object(N.a)(d,s,!0,!1)):a&&!o?(n=Object(N.a)(u,d,!1,!0),r=Object(N.a)(s,d,!1,!1)):(n=Object(N.a)(u,d,!0,!0),r=Object(N.a)(d,s,!0,!0)):(n=Object(N.a)(d,u,!1,!0),r=Object(N.a)(s,d,!0,!1)),null!=p?[n,r,Object(jr.b)(l,d)]:[n,r]},B={a:F,b:L,bias:R,preluActivationWeights:D},V={transposeA:a,transposeB:o,activation:h,leakyreluAlpha:b};return null==p?Object(xr.a)((function(e,t,n){var r=u.a.runKernel(c.vd,B,V);return n([e,t,r]),{value:Object(S.a)(r,M),gradFunc:z}}))(F,L):Object(xr.a)((function(e,t,n,r){var a=u.a.runKernel(c.vd,B,V);return r([e,t,a,n]),{value:Object(S.a)(a,M),gradFunc:z}}))(F,L,R)}});var Ir=Object(p.b)({hammingWindow_:function(e){return br(e,.54,.46)}});var Ar=Object(p.b)({hannWindow_:function(e){return br(e,.5,.5)}});var Rr=Object(p.b)({frame_:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=0,o=[];i+t<=e.size;)o.push(Object(A.a)(e,i,t)),i+=n;if(r)for(;i<e.size;){var s=i+t-e.size,u=Object(T.a)([Object(A.a)(e,i,t-s),Object(Se.a)([s],a)]);o.push(u),i+=n}return 0===o.length?Bn([],[0,t]):Object(S.a)(Object(T.a)(o),[o.length,t])}});var Dr=Object(p.b)({stft_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ar;null==r&&(r=vr(t));var i=Rr(e,t,n),o=Object(E.a)(i,a(t));return Object(Cn.a)(o,r)}});var Mr=Object(p.b)({cropAndResize_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=Object(l.a)(e,"image","cropAndResize"),s=Object(l.a)(t,"boxes","cropAndResize","float32"),p=Object(l.a)(n,"boxInd","cropAndResize","int32"),f=s.shape[0];d.b(4===o.rank,(function(){return"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(o.rank,".")})),d.b(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size [".concat(f,",4] ")+"but had shape ".concat(s.shape,".")})),d.b(1===p.rank&&p.shape[0]===f,(function(){return"Error in cropAndResize: boxInd must be have size [".concat(f,"] ")+"but had shape ".concat(s.shape,".")})),d.b(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,".")})),d.b(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was ".concat(r)})),d.b("bilinear"===a||"nearest"===a,(function(){return"method must be bilinear or nearest, but was ".concat(a)}));var h={image:o,boxes:s,boxInd:p},m={method:a,extrapolationValue:i,cropSize:r};return u.a.runKernel(c.L,h,m)}});var Fr=Object(p.b)({flipLeftRight_:function(e){var t=Object(l.a)(e,"image","flipLeftRight","float32");d.b(4===t.rank,(function(){return"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")}));var n={image:t};return u.a.runKernel(c.hb,n,{})}});var Lr=Object(p.b)({grayscaleToRGB_:function(e){var t=Object(l.a)(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];d.b(t.rank>=2,(function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,".")})),d.b(1===r,(function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,".")}));var a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,Object(Oe.a)(t,a)}});var Pr=Object(p.b)({rotateWithOffset_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=Object(l.a)(e,"image","rotateWithOffset","float32");d.b(4===a.rank,(function(){return"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(a.rank,".")}));var i={image:a},o={radians:t,fillValue:n,center:r};return u.a.runKernel(c.Dc,i,o)}});function zr(e,t,n,r,a,i){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==i&&(i=0);var o=e.shape[0];return n=Math.min(n,o),d.b(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '".concat(r,"'")})),d.b(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'")})),d.b(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1])})),d.b(1===t.rank,(function(){return"scores must be a 1D tensor"})),d.b(t.shape[0]===o,(function(){return"scores has incompatible shape with boxes. Expected ".concat(o,", ")+"but was ".concat(t.shape[0])})),d.b(0<=i&&i<=1,(function(){return"softNmsSigma must be in [0, 1], but was '".concat(i,"'")})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}var Br=Object(p.b)({nonMaxSuppression_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=Object(l.a)(e,"boxes","nonMaxSuppression","float32"),o=Object(l.a)(t,"scores","nonMaxSuppression","float32"),s=zr(i,o,n,r,a),d={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:a=s.scoreThreshold};return u.a.runKernel(c.cc,{boxes:i,scores:o},d)}}),Vr=n(125);function Ur(){return(Ur=Object(dn.a)(ln.a.mark((function e(t,n,r){var a,i,o,s,u,c,d,p,f,h,m=arguments;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.length>3&&void 0!==m[3]?m[3]:.5,i=m.length>4&&void 0!==m[4]?m[4]:Number.NEGATIVE_INFINITY,o=Object(l.a)(t,"boxes","nonMaxSuppressionAsync"),s=Object(l.a)(n,"scores","nonMaxSuppressionAsync"),u=zr(o,s,r,a,i),r=u.maxOutputSize,a=u.iouThreshold,i=u.scoreThreshold,e.next=10,Promise.all([o.data(),s.data()]);case 10:return c=e.sent,d=c[0],p=c[1],f=Object(Vr.a)(d,p,r,a,i),h=f.selectedIndices,o!==t&&o.dispose(),s!==n&&s.dispose(),e.abrupt("return",zn(h,"int32"));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wr=function(e,t,n){return Ur.apply(this,arguments)};var Hr=Object(p.b)({nonMaxSuppressionWithScore_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=Object(l.a)(e,"boxes","nonMaxSuppression"),s=Object(l.a)(t,"scores","nonMaxSuppression"),d=zr(o,s,n,r,a,i),p={boxes:o,scores:s},f={maxOutputSize:n=d.maxOutputSize,iouThreshold:r=d.iouThreshold,scoreThreshold:a=d.scoreThreshold,softNmsSigma:i=d.softNmsSigma},h=u.a.runKernel(c.ec,p,f);return{selectedIndices:h[0],selectedScores:h[1]}}});function Gr(){return(Gr=Object(dn.a)(ln.a.mark((function e(t,n,r){var a,i,o,s,u,c,d,p,f,h,m,v,b=arguments;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b.length>3&&void 0!==b[3]?b[3]:.5,i=b.length>4&&void 0!==b[4]?b[4]:Number.NEGATIVE_INFINITY,o=b.length>5&&void 0!==b[5]?b[5]:0,s=Object(l.a)(t,"boxes","nonMaxSuppressionAsync"),u=Object(l.a)(n,"scores","nonMaxSuppressionAsync"),c=zr(s,u,r,a,i,o),r=c.maxOutputSize,a=c.iouThreshold,i=c.scoreThreshold,o=c.softNmsSigma,e.next=12,Promise.all([s.data(),u.data()]);case 12:return d=e.sent,p=d[0],f=d[1],h=Object(Vr.c)(p,f,r,a,i,o),m=h.selectedIndices,v=h.selectedScores,s!==t&&s.dispose(),u!==n&&u.dispose(),e.abrupt("return",{selectedIndices:zn(m,"int32"),selectedScores:zn(v)});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $r=function(e,t,n){return Gr.apply(this,arguments)};var qr=Object(p.b)({nonMaxSuppressionPadded_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=Object(l.a)(e,"boxes","nonMaxSuppression"),s=Object(l.a)(t,"scores","nonMaxSuppression"),d=zr(o,s,n,r,a,null),p={boxes:o,scores:s},f={maxOutputSize:d.maxOutputSize,iouThreshold:d.iouThreshold,scoreThreshold:d.scoreThreshold,padToMaxOutputSize:i},h=u.a.runKernel(c.dc,p,f);return{selectedIndices:h[0],validOutputs:h[1]}}});function Kr(){return(Kr=Object(dn.a)(ln.a.mark((function e(t,n,r){var a,i,o,s,u,c,d,p,f,h,m,v,b,g,y,_,x=arguments;return ln.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.length>3&&void 0!==x[3]?x[3]:.5,i=x.length>4&&void 0!==x[4]?x[4]:Number.NEGATIVE_INFINITY,o=x.length>5&&void 0!==x[5]&&x[5],s=Object(l.a)(t,"boxes","nonMaxSuppressionAsync"),u=Object(l.a)(n,"scores","nonMaxSuppressionAsync"),c=zr(s,u,r,a,i,null),d=c.maxOutputSize,p=c.iouThreshold,f=c.scoreThreshold,e.next=11,Promise.all([s.data(),u.data()]);case 11:return h=e.sent,m=Object(_r.a)(h,2),v=m[0],b=m[1],g=Object(Vr.b)(v,b,d,p,f,o),y=g.selectedIndices,_=g.validOutputs,s!==t&&s.dispose(),u!==n&&u.dispose(),e.abrupt("return",{selectedIndices:zn(y,"int32"),validOutputs:Object(on.a)(_,"int32")});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xr=function(e,t,n){return Kr.apply(this,arguments)},Yr=n(275),Zr=n(273);var Qr=Object(p.b)({threshold_:function(e){var t,n,r,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,c=Object(l.a)(e,"image","threshold"),p=c.shape[0]*c.shape[1],f=Object(E.a)(zn([u]),255);if(d.b(3===c.rank,(function(){return"Error in threshold: image must be rank 3,"+"but got rank ".concat(c.rank,".")})),d.b(3===c.shape[2]||1===c.shape[2],(function(){return"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(c.shape[2],".")})),d.b("int32"===c.dtype||"float32"===c.dtype,(function(){return"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(c.dtype,".")})),d.b("otsu"===i||"binary"===i,(function(){return"Method must be binary or otsu, but was ".concat(i)})),3===c.shape[2]){var h=Object(Tn.a)(c,[1,1,1],-1),m=Object(_r.a)(h,3);t=m[0],n=m[1],r=m[2];var v=Object(E.a)(t,.2989),b=Object(E.a)(n,.587),g=Object(E.a)(r,.114);a=Object(s.a)(Object(s.a)(v,b),g)}else a=e;"otsu"===i&&(f=function(e,t){for(var n,r,a,i,o,u,c=zn([-1]),l=zn([0]),d=zn([0]),p=0;p<e.size-1;p++){n=Object(A.a)(e,0,p+1),r=Object(A.a)(e,p+1),o=Object(fe.a)(Object(Mn.a)(n),t),u=Object(fe.a)(Object(Mn.a)(r),t);var f=Object(Mn.a)(Object(E.a)(n,qt(0,n.size)));a=Object(fe.a)(f,Object(Mn.a)(n));var h=Object(Se.a)(r.shape,n.size),m=Object(s.a)(qt(0,r.size),h),v=Object(E.a)(r,m);i=Object(fe.a)(Object(Mn.a)(v),Object(Mn.a)(r));var b=Object(ht.a)(a,i),g=Object(ht.a)(a,i),y=Object(E.a)(o,u);d=Object(E.a)(Object(E.a)(y,b),g);var _=Object(Ee.a)(d,l);l=Object(er.a)(_,d,l),c=Object(er.a)(_,zn([p]),c)}return c}(B(Object(O.a)(Object(rn.a)(a),"int32"),Object(Ln.a)([]),256),p));var y=o?Object(Pe.a)(a,f):Object(Ee.a)(a,f);return Object(O.a)(Object(E.a)(y,255),"int32")}});var Jr=Object(p.b)({transform_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0,o=Object(l.a)(e,"image","transform","float32"),s=Object(l.a)(t,"transforms","transform","float32");d.b(4===o.rank,(function(){return"Error in transform: image must be rank 4,"+"but got rank ".concat(o.rank,".")})),d.b(2===s.rank&&(s.shape[0]===o.shape[0]||1===s.shape[0])&&8===s.shape[1],(function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"})),d.b(null==i||2===i.length,(function(){return"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(i,".")}));var p={image:o,transforms:s},f={interpolation:n,fillMode:r,fillValue:a,outputShape:i};return u.a.runKernel(c.od,p,f)}});var ea=Object(p.b)({bandPart_:function(e,t,n){var r=Object(l.a)(e,"a","bandPart");Object(d.b)(r.rank>=2,(function(){return"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")}));var a,i,o=r.shape,s=r.shape.slice(-2),u=Object(_r.a)(s,2),c=u[0],p=u[1];"number"===typeof t?(Object(d.b)(t%1===0,(function(){return"bandPart(): numLower must be an integer, got ".concat(t,".")})),Object(d.b)(t<=c,(function(){return"bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(c,").")})),a=Object(l.a)(t<0?c:t,"numLower","bandPart")):(Object(d.b)("int32"===t.dtype,(function(){return"bandPart(): numLower's dtype must be an int32."})),a=Object(er.a)(Object(Le.a)(t,0),c,Object(ct.a)(t,c))),"number"===typeof n?(Object(d.b)(n%1===0,(function(){return"bandPart(): numUpper must be an integer, got ".concat(n,".")})),Object(d.b)(n<=p,(function(){return"bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(p,").")})),i=Object(l.a)(n<0?p:n,"numUpper","bandPart")):(Object(d.b)("int32"===n.dtype,(function(){return"bandPart(): numUpper's dtype must be an int32."})),i=Object(er.a)(Object(Le.a)(n,0),p,Object(ct.a)(n,p)));var f=Object(S.a)(qt(0,c,1,"int32"),[-1,1]),h=qt(0,p,1,"int32"),m=Object(ht.a)(f,h),v=Object($e.a)(Object(Pe.a)(m,a),Object(Ie.a)(m,Object(gt.a)(i))),b=Object(ar.a)([c,p],r.dtype);return Object(S.a)(Object(An.a)(Object(Zn.a)(Object(S.a)(r,[-1,c,p])).map((function(e){return Object(er.a)(v,e,b)}))),o)}});var ta=Object(p.b)({gramSchmidt_:function(e){var t;Array.isArray(e)?function(){t=!1,Object(d.b)(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){Object(d.b)(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")}))},a=1;a<e.length;++a)r(a)}():(t=!0,e=Object(Tn.a)(e,e.shape[0],0).map((function(e){return Object(In.a)(e,[0])}))),Object(d.b)(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")}));for(var n=[],r=e,a=function(e){n.push(u.a.tidy((function(){var t=r[e];if(e>0)for(var a=0;a<e;++a){var i=Object(E.a)(Object(Mn.a)(Object(E.a)(n[a],t)),n[a]);t=Object(ht.a)(t,i)}return Object(fe.a)(t,Object(cr.a)(t,"euclidean"))})))},i=0;i<e.length;++i)a(i);return t?Object(An.a)(n,0):n}}),na=n(48);function ra(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u.a.tidy((function(){Object(d.b)(2===e.shape.length,(function(){return"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")}));for(var n=e.shape[0],r=e.shape[1],a=je(n),i=Object($.a)(e),o=Bn([[1]],[1,1]),s=Object($.a)(o),c=n>=r?r:n,l=function(e){var t=i,c=s,l=a,d=u.a.tidy((function(){var t=Object(A.a)(i,[e,e],[n-e,1]),u=Object(cr.a)(t),c=Object(A.a)(i,[e,e],[1,1]),l=Object(er.a)(Object(Ee.a)(c,0),Bn([[-1]]),Bn([[1]])),d=Object(ht.a)(c,Object(E.a)(l,u)),p=Object(fe.a)(t,d);s=1===p.shape[0]?Object($.a)(o):Object(T.a)([o,Object(A.a)(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);var f=Object(gt.a)(Object(fe.a)(Object(N.a)(l,d),u)),h=Object(A.a)(i,[e,0],[n-e,r]),m=Object(E.a)(f,s),v=Object(ur.a)(s);if(0===e)i=Object(ht.a)(h,Object(N.a)(m,Object(N.a)(v,h)));else{var b=Object(ht.a)(h,Object(N.a)(m,Object(N.a)(v,h)));i=Object(T.a)([Object(A.a)(i,[0,0],[e,r]),b],0)}var g=Object(ur.a)(m),y=Object(A.a)(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=Object(ht.a)(y,Object(N.a)(Object(N.a)(y,s),g));else{var _=Object(ht.a)(y,Object(N.a)(Object(N.a)(y,s),g));a=Object(T.a)([Object(A.a)(a,[0,0],[n,e]),_],1)}return[s,i,a]})),p=Object(_r.a)(d,3);s=p[0],i=p[1],a=p[2],Object(na.d)([t,c,l])},p=0;p<c;++p)l(p);return!t&&n>r&&(a=Object(A.a)(a,[0,0],[n,r]),i=Object(A.a)(i,[0,0],[r,r])),[a,i]}))}var aa=Object(p.b)({qr_:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Object(d.b)(e.rank>=2,(function(){return"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank)})),2===e.rank)return ra(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=Object(Zn.a)(Object(S.a)(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],i=[];return r.forEach((function(e){var n=ra(e,t),r=Object(_r.a)(n,2),o=r[0],s=r[1];a.push(o),i.push(s)})),[Object(S.a)(Object(An.a)(a,0),e.shape),Object(S.a)(Object(An.a)(i,0),e.shape)]}}),ia=n(58);var oa=Object(p.b)({computeWeightedLoss_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ia.a.SUM_BY_NONZERO_WEIGHTS,r=Object(l.a)(e,"losses","computeWeightedLoss"),a=null;null!=t&&(a=Object(l.a)(t,"weights","computeWeightedLoss"));var i=null==a?r:Object(E.a)(r,a);if(n===ia.a.NONE)return i;if(n===ia.a.SUM)return Object(Mn.a)(i);if(n===ia.a.MEAN){if(null==a)return Object(at.a)(i);var o=r.size/a.size,s=Object(fe.a)(Object(Mn.a)(i),Object(Mn.a)(a));return o>1?Object(fe.a)(s,Object(on.a)(o)):s}if(n===ia.a.SUM_BY_NONZERO_WEIGHTS){if(null==a)return Object(fe.a)(Object(Mn.a)(i),Object(on.a)(r.size));var u=Object(E.a)(a,Object(it.a)(r.shape)),c=Object(O.a)(Object(Mn.a)(Object(yt.a)(u,Object(on.a)(0))),"float32");return Object(fe.a)(Object(Mn.a)(i),c)}throw Error("Unknown reduction: ".concat(n))}});var sa=Object(p.b)({absoluteDifference_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ia.a.SUM_BY_NONZERO_WEIGHTS,i=Object(l.a)(e,"labels","absoluteDifference"),o=Object(l.a)(t,"predictions","absoluteDifference"),s=null;null!=n&&(s=Object(l.a)(n,"weights","absoluteDifference")),Object(d.e)(i.shape,o.shape,"Error in absoluteDifference: ");var u=Object(a.a)(Object(ht.a)(i,o));return oa(u,s,r)}});var ua=Object(p.b)({cosineDistance_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ia.a.SUM_BY_NONZERO_WEIGHTS,i=Object(l.a)(e,"labels","cosineDistance"),o=Object(l.a)(t,"predictions","cosineDistance"),s=null;null!=r&&(s=Object(l.a)(r,"weights","cosineDistance")),Object(d.e)(i.shape,o.shape,"Error in cosineDistance: ");var u=Object(on.a)(1),c=Object(ht.a)(u,Object(Mn.a)(Object(E.a)(i,o),n,!0));return oa(c,s,a)}});var ca=Object(p.b)({hingeLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ia.a.SUM_BY_NONZERO_WEIGHTS,a=Object(l.a)(e,"labels","hingeLoss"),i=Object(l.a)(t,"predictions","hingeLoss"),o=null;null!=n&&(o=Object(l.a)(n,"weights","hingeLoss")),Object(d.e)(a.shape,i.shape,"Error in hingeLoss: ");var s=Object(on.a)(1);a=Object(ht.a)(Object(E.a)(Object(on.a)(2),a),s);var u=Object(Yt.a)(Object(ht.a)(s,Object(E.a)(a,i)));return oa(u,o,r)}});var la=Object(p.b)({huberLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ia.a.SUM_BY_NONZERO_WEIGHTS,o=Object(l.a)(e,"labels","huberLoss"),u=Object(l.a)(t,"predictions","huberLoss"),c=null;null!=n&&(c=Object(l.a)(n,"weights","huberLoss")),Object(d.e)(o.shape,u.shape,"Error in huberLoss: ");var p=Object(on.a)(r),f=Object(a.a)(Object(ht.a)(u,o)),h=Object(ct.a)(f,p),m=Object(ht.a)(f,h),v=Object(s.a)(Object(E.a)(Object(on.a)(.5),Object(ft.a)(h)),Object(E.a)(p,m));return oa(v,c,i)}});var da=Object(p.b)({logLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ia.a.SUM_BY_NONZERO_WEIGHTS,i=Object(l.a)(e,"labels","logLoss"),o=Object(l.a)(t,"predictions","logLoss"),u=null;null!=n&&(u=Object(l.a)(n,"weights","logLoss")),Object(d.e)(i.shape,o.shape,"Error in logLoss: ");var c=Object(on.a)(1),p=Object(on.a)(r),f=Object(gt.a)(Object(E.a)(i,Object(Ve.a)(Object(s.a)(o,p)))),h=Object(E.a)(Object(ht.a)(c,i),Object(Ve.a)(Object(s.a)(Object(ht.a)(c,o),p))),m=Object(ht.a)(f,h);return oa(m,u,a)}});var pa=Object(p.b)({meanSquaredError_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ia.a.SUM_BY_NONZERO_WEIGHTS,a=Object(l.a)(e,"labels","meanSquaredError"),i=Object(l.a)(t,"predictions","meanSquaredError"),o=null;null!=n&&(o=Object(l.a)(n,"weights","meanSquaredError")),Object(d.e)(a.shape,i.shape,"Error in meanSquaredError: ");var s=Object(En.a)(a,i);return oa(s,o,r)}});var fa=Object(p.b)({sigmoidCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ia.a.SUM_BY_NONZERO_WEIGHTS,o=Object(l.a)(e,"multiClassLabels","sigmoidCrossEntropy"),u=Object(l.a)(t,"logits","sigmoidCrossEntropy"),c=null;if(null!=n&&(c=Object(l.a)(n,"weights","sigmoidCrossEntropy")),Object(d.e)(o.shape,u.shape,"Error in sigmoidCrossEntropy: "),r>0){var p=Object(on.a)(r),f=Object(on.a)(1),h=Object(on.a)(.5);o=Object(s.a)(Object(E.a)(o,Object(ht.a)(f,p)),Object(E.a)(h,p))}var m=function(e,t){var n=Object(l.a)(e,"labels","sigmoidCrossEntropyWithLogits"),r=Object(l.a)(t,"logits","sigmoidCrossEntropyWithLogits");Object(d.e)(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var i=Object(Yt.a)(r),o=Object(E.a)(r,n),u=Object(Ue.a)(Object(xe.a)(Object(gt.a)(Object(a.a)(r))));return Object(s.a)(Object(ht.a)(i,o),u)}(o,u);return oa(m,c,i)}});var ha=Object(p.b)({softmaxCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ia.a.SUM_BY_NONZERO_WEIGHTS,i=Object(l.a)(e,"onehotLabels","softmaxCrossEntropy"),o=Object(l.a)(t,"logits","softmaxCrossEntropy"),u=null;if(null!=n&&(u=Object(l.a)(n,"weights","softmaxCrossEntropy")),Object(d.e)(i.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var c=Object(on.a)(r),p=Object(on.a)(1),f=Object(on.a)(i.shape[1]);i=Object(s.a)(Object(E.a)(i,Object(ht.a)(p,c)),Object(fe.a)(c,f))}var h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));return Object(xr.a)((function(e,t,r){var a=Object(Ge.a)(t,[n],!0),i=Object(ht.a)(Object(O.a)(t,"float32"),a);r([e,i]);var o=Object(gt.a)(Object(E.a)(i,e));return{value:Object(Mn.a)(o,[n]),gradFunc:function(e,t){var r=Object(_r.a)(t,2),a=r[0],i=r[1],o=Object(pt.e)(e.shape,[n]);return[Object(E.a)(Object(S.a)(e,o),Object(ht.a)(Object(O.a)(a,"float32"),Object(xe.a)(i))),Object(E.a)(Object(S.a)(e,o),Object(ht.a)(Object(xe.a)(i),Object(O.a)(a,"float32")))]}}}))(e,t)}(i,o);return oa(h,u,a)}});var ma=Object(p.b)({sparseFillEmptyRows_:function(e,t,n,r){var a=Object(l.a)(e,"indices","sparseFillEmptyRows","int32"),i=Object(l.a)(t,"values","sparseFillEmptyRows"),o=Object(l.a)(n,"denseShape","sparseFillEmptyRows","int32"),s=Object(l.a)(r,"defaultValue","sparseFillEmptyRows",i.dtype);if(2!==a.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(a.shape));if(1!==i.rank)throw new Error("Values should be Tensor1D but received shape ".concat(i.shape));if(1!==o.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(o.shape));if(0!==s.rank)throw new Error("Default value should be a scalar but received shape ".concat(s.shape));var d={indices:a,values:i,denseShape:o,defaultValue:s},p=u.a.runKernel(c.Sc,d);return{outputIndices:p[0],outputValues:p[1],emptyRowIndicator:p[2],reverseIndexMap:p[3]}}});var va=Object(p.b)({sparseReshape_:function(e,t,n){var r=Object(l.a)(e,"inputIndices","sparseReshape","int32"),a=Object(l.a)(t,"inputShape","sparseReshape","int32"),i=Object(l.a)(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==a.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(a.shape));if(1!==i.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(i.shape));var o={inputIndices:r,inputShape:a,newShape:i},s=u.a.runKernel(c.Tc,o);return{outputIndices:s[0],outputShape:s[1]}}});var ba=Object(p.b)({sparseSegmentMean_:function(e,t,n){var r=Object(l.a)(e,"data","sparseSegmentMean"),a=Object(l.a)(t,"indices","sparseSegmentMean","int32"),i=Object(l.a)(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(a.shape));if(1!==i.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(i.shape));var o={data:r,indices:a,segmentIds:i};return u.a.runKernel(c.Uc,o)}});var ga=Object(p.b)({sparseSegmentSum_:function(e,t,n){var r=Object(l.a)(e,"data","sparseSegmentSum"),a=Object(l.a)(t,"indices","sparseSegmentSum","int32"),i=Object(l.a)(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(a.shape));if(1!==i.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(i.shape));var o={data:r,indices:a,segmentIds:i};return u.a.runKernel(c.Vc,o)}});var ya=Object(p.b)({stringNGrams_:function(e,t,n,r,a,i,o,s){var d=Object(l.a)(e,"data","stringNGrams","string");if("string"!==d.dtype)throw new Error("Data must be of datatype string");if(1!==d.shape.length)throw new Error("Data must be a vector, saw: ".concat(d.shape));var p=Object(l.a)(t,"dataSplits","stringNGrams");if("int32"!==p.dtype)throw new Error("Data splits must be of datatype int32");var f={separator:n,nGramWidths:r,leftPad:a,rightPad:i,padWidth:o,preserveShortSequences:s},h={data:d,dataSplits:p},m=u.a.runKernel(c.ed,h,f);return{nGrams:m[0],nGramsSplits:m[1]}}});var _a=Object(p.b)({stringSplit_:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object(l.a)(e,"input","stringSplit","string"),a=Object(l.a)(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==a.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(a.shape));var i={skipEmpty:n},o={input:r,delimiter:a},s=u.a.runKernel(c.fd,o,i);return{indices:s[0],values:s[1],shape:s[2]}}});var xa=Object(p.b)({stringToHashBucketFast_:function(e,t){var n=Object(l.a)(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");var a={input:n};return u.a.runKernel(c.gd,a,r)}});var ka=Object(p.b)({staticRegexReplace_:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=Object(l.a)(e,"input","staticRegexReplace","string"),i={pattern:t,rewrite:n,replaceGlobal:r};return u.a.runKernel(c.bd,{x:a},i)}});n.d(t,"Ab",(function(){return ja})),n.d(t,"Jb",(function(){return Sa})),n.d(t,"Vb",(function(){return Ca})),n.d(t,"xd",(function(){return wa})),n.d(t,"kd",(function(){return Oa})),n.d(t,"vd",(function(){return Ta})),n.d(t,"Gd",(function(){return Na})),n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return i.a})),n.d(t,"d",(function(){return o.a})),n.d(t,"e",(function(){return s.a})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return h.a})),n.d(t,"h",(function(){return m.a})),n.d(t,"i",(function(){return v.a})),n.d(t,"j",(function(){return b.a})),n.d(t,"k",(function(){return g.a})),n.d(t,"l",(function(){return y.a})),n.d(t,"m",(function(){return _.a})),n.d(t,"n",(function(){return x.a})),n.d(t,"o",(function(){return k.a})),n.d(t,"p",(function(){return w.a})),n.d(t,"q",(function(){return C})),n.d(t,"r",(function(){return D})),n.d(t,"w",(function(){return M.a})),n.d(t,"s",(function(){return F.a})),n.d(t,"t",(function(){return L})),n.d(t,"u",(function(){return P})),n.d(t,"v",(function(){return z})),n.d(t,"x",(function(){return B})),n.d(t,"z",(function(){return V})),n.d(t,"A",(function(){return U.a})),n.d(t,"B",(function(){return W.a})),n.d(t,"C",(function(){return O.a})),n.d(t,"D",(function(){return H.a})),n.d(t,"E",(function(){return G.a})),n.d(t,"F",(function(){return $.a})),n.d(t,"G",(function(){return q.a})),n.d(t,"H",(function(){return T.a})),n.d(t,"I",(function(){return K})),n.d(t,"J",(function(){return X})),n.d(t,"K",(function(){return Y})),n.d(t,"L",(function(){return Z})),n.d(t,"M",(function(){return Q.a})),n.d(t,"N",(function(){return J.a})),n.d(t,"O",(function(){return ee.a})),n.d(t,"P",(function(){return te})),n.d(t,"Q",(function(){return re})),n.d(t,"R",(function(){return ae.a})),n.d(t,"S",(function(){return ie.a})),n.d(t,"U",(function(){return oe.a})),n.d(t,"V",(function(){return se.a})),n.d(t,"W",(function(){return ue})),n.d(t,"X",(function(){return ce.a})),n.d(t,"Y",(function(){return le.a})),n.d(t,"Z",(function(){return de})),n.d(t,"ab",(function(){return pe.a})),n.d(t,"bb",(function(){return fe.a})),n.d(t,"cb",(function(){return he.a})),n.d(t,"db",(function(){return me.a})),n.d(t,"fb",(function(){return ve})),n.d(t,"gb",(function(){return be.a})),n.d(t,"ib",(function(){return ge.a})),n.d(t,"jb",(function(){return ye.a})),n.d(t,"kb",(function(){return _e.a})),n.d(t,"lb",(function(){return xe.a})),n.d(t,"mb",(function(){return ke.a})),n.d(t,"nb",(function(){return we.a})),n.d(t,"ob",(function(){return je})),n.d(t,"qb",(function(){return Se.a})),n.d(t,"rb",(function(){return Ce.a})),n.d(t,"sb",(function(){return Te.a})),n.d(t,"ub",(function(){return Ne.a})),n.d(t,"wb",(function(){return Ee.a})),n.d(t,"xb",(function(){return Ie.a})),n.d(t,"zb",(function(){return Ae.a})),n.d(t,"Db",(function(){return Re.a})),n.d(t,"Eb",(function(){return De.a})),n.d(t,"Fb",(function(){return Me.a})),n.d(t,"Gb",(function(){return Fe.a})),n.d(t,"Hb",(function(){return Le.a})),n.d(t,"Ib",(function(){return Pe.a})),n.d(t,"Kb",(function(){return ze})),n.d(t,"Lb",(function(){return Be.a})),n.d(t,"Mb",(function(){return Ve.a})),n.d(t,"Nb",(function(){return Ue.a})),n.d(t,"Ob",(function(){return We.a})),n.d(t,"Pb",(function(){return He.a})),n.d(t,"Qb",(function(){return Ge.a})),n.d(t,"Rb",(function(){return $e.a})),n.d(t,"Sb",(function(){return qe.a})),n.d(t,"Tb",(function(){return Ke.a})),n.d(t,"Ub",(function(){return Xe.a})),n.d(t,"Wb",(function(){return Qe})),n.d(t,"Xb",(function(){return N.a})),n.d(t,"Yb",(function(){return Je.a})),n.d(t,"Zb",(function(){return et.a})),n.d(t,"ac",(function(){return tt})),n.d(t,"bc",(function(){return nt})),n.d(t,"cc",(function(){return rt.a})),n.d(t,"dc",(function(){return at.a})),n.d(t,"ec",(function(){return st})),n.d(t,"fc",(function(){return ut.a})),n.d(t,"gc",(function(){return ct.a})),n.d(t,"hc",(function(){return lt.a})),n.d(t,"ic",(function(){return dt.a})),n.d(t,"jc",(function(){return mt})),n.d(t,"lc",(function(){return E.a})),n.d(t,"mc",(function(){return vt})),n.d(t,"nc",(function(){return bt})),n.d(t,"oc",(function(){return gt.a})),n.d(t,"qc",(function(){return yt.a})),n.d(t,"rc",(function(){return _t.a})),n.d(t,"sc",(function(){return it.a})),n.d(t,"tc",(function(){return xt.a})),n.d(t,"vc",(function(){return kt})),n.d(t,"wc",(function(){return wt.a})),n.d(t,"xc",(function(){return Ot})),n.d(t,"yc",(function(){return jt})),n.d(t,"zc",(function(){return St})),n.d(t,"Ac",(function(){return Ct})),n.d(t,"Bc",(function(){return Tt.a})),n.d(t,"Cc",(function(){return Nt.a})),n.d(t,"Dc",(function(){return Et.a})),n.d(t,"Ec",(function(){return It.a})),n.d(t,"Fc",(function(){return At.a})),n.d(t,"Gc",(function(){return Rt})),n.d(t,"Hc",(function(){return Dt})),n.d(t,"Ic",(function(){return Mt})),n.d(t,"Jc",(function(){return Ft})),n.d(t,"Kc",(function(){return Wt})),n.d(t,"Lc",(function(){return Ht})),n.d(t,"Mc",(function(){return Gt})),n.d(t,"Nc",(function(){return $t})),n.d(t,"Oc",(function(){return qt})),n.d(t,"Pc",(function(){return Kt.a})),n.d(t,"Qc",(function(){return Xt.a})),n.d(t,"Rc",(function(){return Yt.a})),n.d(t,"Sc",(function(){return Zt.a})),n.d(t,"Tc",(function(){return S.a})),n.d(t,"Uc",(function(){return Qt.a})),n.d(t,"Vc",(function(){return Jt})),n.d(t,"Wc",(function(){return en})),n.d(t,"Xc",(function(){return tn})),n.d(t,"Yc",(function(){return nn})),n.d(t,"ad",(function(){return rn.a})),n.d(t,"bd",(function(){return an.a})),n.d(t,"cd",(function(){return on.a})),n.d(t,"fd",(function(){return sn.a})),n.d(t,"gd",(function(){return un.a})),n.d(t,"hd",(function(){return fn})),n.d(t,"id",(function(){return I.a})),n.d(t,"jd",(function(){return hn.a})),n.d(t,"ld",(function(){return mn.a})),n.d(t,"md",(function(){return vn.a})),n.d(t,"nd",(function(){return A.a})),n.d(t,"od",(function(){return bn})),n.d(t,"pd",(function(){return gn})),n.d(t,"qd",(function(){return yn})),n.d(t,"rd",(function(){return _n})),n.d(t,"sd",(function(){return xn.a})),n.d(t,"td",(function(){return kn.a})),n.d(t,"ud",(function(){return wn.a})),n.d(t,"pb",(function(){return On.a})),n.d(t,"yb",(function(){return jn.a})),n.d(t,"Cb",(function(){return Sn.a})),n.d(t,"Zc",(function(){return Cn.a})),n.d(t,"yd",(function(){return Tn.a})),n.d(t,"zd",(function(){return Nn.a})),n.d(t,"Ad",(function(){return ft.a})),n.d(t,"Bd",(function(){return En.a})),n.d(t,"Cd",(function(){return In.a})),n.d(t,"Dd",(function(){return An.a})),n.d(t,"Ed",(function(){return Rn.a})),n.d(t,"Fd",(function(){return Dn.a})),n.d(t,"Hd",(function(){return ht.a})),n.d(t,"Id",(function(){return Mn.a})),n.d(t,"Jd",(function(){return Fn.a})),n.d(t,"Kd",(function(){return R.a})),n.d(t,"Ld",(function(){return Ln.a})),n.d(t,"Md",(function(){return zn})),n.d(t,"Nd",(function(){return Bn})),n.d(t,"Od",(function(){return Vn.a})),n.d(t,"Pd",(function(){return Un})),n.d(t,"Qd",(function(){return Wn})),n.d(t,"Rd",(function(){return Hn})),n.d(t,"Sd",(function(){return $n})),n.d(t,"Td",(function(){return Oe.a})),n.d(t,"Ud",(function(){return qn.a})),n.d(t,"Wd",(function(){return Kn})),n.d(t,"Xd",(function(){return Xn.a})),n.d(t,"Yd",(function(){return Yn.a})),n.d(t,"Zd",(function(){return Zn.a})),n.d(t,"ae",(function(){return Qn})),n.d(t,"be",(function(){return Jn})),n.d(t,"ce",(function(){return er.a})),n.d(t,"de",(function(){return rr})),n.d(t,"ee",(function(){return ar.a})),n.d(t,"fe",(function(){return ir.a})),n.d(t,"y",(function(){return sr})),n.d(t,"Vd",(function(){return ur.a})),n.d(t,"pc",(function(){return cr.a})),n.d(t,"kc",(function(){return dr})),n.d(t,"dd",(function(){return pr})),n.d(t,"ed",(function(){return Ze})),n.d(t,"wd",(function(){return fr})),n.d(t,"vb",(function(){return hr})),n.d(t,"eb",(function(){return mr})),n.d(t,"hb",(function(){return vr})),n.d(t,"T",(function(){return br})),n.d(t,"Bb",(function(){return yr})),n.d(t,"uc",(function(){return p.b})),n.d(t,"a",(function(){return p.a})),n.d(t,"tb",(function(){return r}));var wa={fft:On.a,ifft:jn.a,rfft:Cn.a,irfft:Sn.a},Oa={hammingWindow:Ir,hannWindow:Ar,frame:Rr,stft:Dr},ja={flipLeftRight:Fr,grayscaleToRGB:Lr,resizeNearestNeighbor:Zr.a,resizeBilinear:Yr.a,rotateWithOffset:Pr,cropAndResize:Mr,nonMaxSuppression:Br,nonMaxSuppressionAsync:Wr,nonMaxSuppressionWithScore:Hr,nonMaxSuppressionWithScoreAsync:$r,nonMaxSuppressionPadded:qr,nonMaxSuppressionPaddedAsync:Xr,threshold:Qr,transform:Jr},Sa={bandPart:ea,gramSchmidt:ta,qr:aa},Ca={absoluteDifference:sa,computeWeightedLoss:oa,cosineDistance:ua,hingeLoss:ca,huberLoss:la,logLoss:da,meanSquaredError:pa,sigmoidCrossEntropy:fa,softmaxCrossEntropy:ha},Ta={sparseFillEmptyRows:ma,sparseReshape:va,sparseSegmentMean:ba,sparseSegmentSum:ga},Na={stringNGrams:ya,stringSplit:_a,stringToHashBucketFast:xa,staticRegexReplace:ka}},function(e,t,n){"use strict";n.r(t),n.d(t,"makeTypesMatch",(function(){return o})),n.d(t,"assertTypesMatch",(function(){return s})),n.d(t,"isTensorInList",(function(){return u})),n.d(t,"getTensorsInContainer",(function(){return c}));var r=n(15),a=n(84),i=n(21);function o(e,t){if(e.dtype===t.dtype)return[e,t];var n=Object(a.e)(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function s(e,t){Object(i.b)(e.dtype===t.dtype,(function(){return"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")}))}function u(e,t){return t.some((function(t){return t.id===e.id}))}function c(e){var t=[];return function e(t,n,a){if(null==t)return;if(t instanceof r.a)return void n.push(t);if(i=t,!Array.isArray(i)&&"object"!==typeof i)return;var i;var o=t;for(var s in o){var u=o[s];a.has(u)||(a.add(u),e(u,n,a))}}(e,t,new Set),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(10);var c=Object(u.b)({matMul_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=Object(s.a)(e,"a","matMul"),l=Object(s.a)(t,"b","matMul"),d=Object(o.makeTypesMatch)(c,l),p=Object(r.a)(d,2),f={a:c=p[0],b:l=p[1]},h={transposeA:n,transposeB:u};return a.a.runKernel(i.s,f,h)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12),a=n(6),i=n(10);var o=Object(i.b)({square_:function(e){var t=Object(a.a)(e,"x","square");return r.a.runKernel("Square",{x:t},{})}})},function(e,t,n){var r=n(52);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return h})),n.d(t,"t",(function(){return m})),n.d(t,"d",(function(){return v})),n.d(t,"l",(function(){return b})),n.d(t,"u",(function(){return g})),n.d(t,"r",(function(){return y})),n.d(t,"o",(function(){return _})),n.d(t,"k",(function(){return x})),n.d(t,"q",(function(){return k})),n.d(t,"i",(function(){return w})),n.d(t,"j",(function(){return O})),n.d(t,"p",(function(){return j})),n.d(t,"a",(function(){return S})),n.d(t,"s",(function(){return C}));var r=n(12),a=n(40),i=n(15),o=n(43);function s(){Object(a.c)().set("PROD",!0)}function u(){Object(a.c)().set("DEBUG",!0)}function c(){Object(a.c)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function l(e){Object(a.c)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function d(){r.a.disposeVariables()}function p(){return r.a}function f(){return r.a.memory()}function h(e){return r.a.profile(e)}function m(e,t){return r.a.tidy(e,t)}function v(e){Object(o.getTensorsInContainer)(e).forEach((function(e){return e.dispose()}))}function b(e){return r.a.keep(e)}function g(e){return r.a.time(e)}function y(e){return r.a.setBackend(e)}function _(){return r.a.ready()}function x(){return r.a.backendName}function k(e){r.a.removeBackend(e)}function w(e){return r.a.findBackend(e)}function O(e){return r.a.findBackendFactory(e)}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return r.a.registerBackend(e,t,n)}function S(){return r.a.backend}function C(e,t){Object(a.c)().setPlatform(e,t)}Object(i.e)(l)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({slice_:function(e,t,n){var o=Object(i.a)(e,"x","slice","string_or_numeric");if(0===o.rank)throw new Error("Slicing scalar is not possible");var s={x:o},u={begin:t,size:n};return r.a.runKernel(a.Oc,s,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({neg_:function(e){var t={x:Object(i.a)(e,"x","neg")};return r.a.runKernel(a.bc,t)}})},function(e,t,n){var r=n(107),a=n(308).f,i=n(221),o=n(168),s=n(284),u=n(502),c=n(322);e.exports=function(e,t){var n,l,d,p,f,h=e.target,m=e.global,v=e.stat;if(n=m?r:v?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(p=t[l],d=e.dontCallGetSet?(f=a(n,l))&&f.value:n[l],!c(m?l:h+(v?".":"#")+l,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;u(p,d)}(e.sham||d&&d.sham)&&i(p,"sham",!0),o(n,l,p,e)}}},function(e,t,n){var r=n(336);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return x})),n.d(t,"c",(function(){return k})),n.d(t,"j",(function(){return w})),n.d(t,"h",(function(){return O})),n.d(t,"g",(function(){return j})),n.d(t,"i",(function(){return C})),n.d(t,"k",(function(){return T}));var r=n(9),a=n(2),i=n.n(a),o=n(18),s=n(7),u=n(79),c=n(132),l=n(21),d=n(217),p=4;function f(e,t){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(i.a.mark((function e(t,n){var r,a,o,u,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],a=[],o=Array.isArray(t)?t.map((function(e){return e.name})):Object.keys(t),u=function(e){var u=o[e],c=Array.isArray(t)?t[e].tensor:t[u];if("float32"!==c.dtype&&"int32"!==c.dtype&&"bool"!==c.dtype&&"string"!==c.dtype&&"complex64"!==c.dtype)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(c.dtype));var l={name:u,shape:c.shape,dtype:c.dtype};if("string"===c.dtype){var d=new Promise(function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,a,o,s,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.bytes();case 2:for(n=e.sent,r=n.reduce((function(e,t){return e+t.length}),0)+p*n.length,a=new Uint8Array(r),o=0,s=0;s<n.length;s++)u=n[s],l=new Uint8Array(new Uint32Array([u.length]).buffer),a.set(l,o),o+=p,a.set(u,o),o+=u.length;t(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());a.push(d)}else a.push(c.data());null!=n&&(l.group=n),r.push(l)},c=0;c<o.length;++c)u(c);return e.next=7,Promise.all(a);case 7:return l=e.sent,e.abrupt("return",{data:v(l),specs:r});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){var n,r={},a=0,i=!0,o=!1,s=void 0;try{for(var f,h=t[Symbol.iterator]();!(i=(f=h.next()).done);i=!0){var m=f.value,v=m.name,b=m.dtype,g=m.shape,y=Object(l.N)(g),_=void 0;if("quantization"in m){var x=m.quantization;if("uint8"===x.dtype||"uint16"===x.dtype){if(!("min"in x&&"scale"in x))throw new Error("Weight ".concat(m.name," with quantization ").concat(x.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==x.dtype)throw new Error("Weight ".concat(m.name," has unknown ")+"quantization dtype ".concat(x.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==b)throw new Error("Weight ".concat(m.name," is quantized with ").concat(x.dtype," ")+"which only supports weights of type float32 not ".concat(b,"."))}var k=d.a[x.dtype],w=e.slice(a,a+y*k),O="uint8"===x.dtype?new Uint8Array(w):new Uint16Array(w);if("float32"===b)if("uint8"===x.dtype||"uint16"===x.dtype){_=new Float32Array(O.length);for(var j=0;j<O.length;j++){var S=O[j];_[j]=S*x.scale+x.min}}else{if("float16"!==x.dtype)throw new Error("Unsupported quantization type ".concat(x.dtype," ")+"for weight type float32.");void 0===n&&(n=N()),_=n(O)}else{if("int32"!==b)throw new Error("Unsupported dtype in weight '".concat(v,"': ").concat(b));if("uint8"!==x.dtype&&"uint16"!==x.dtype)throw new Error("Unsupported quantization type ".concat(x.dtype," ")+"for weight type int32.");_=new Int32Array(O.length);for(var C=0;C<O.length;C++){var T=O[C];_[C]=Math.round(T*x.scale+x.min)}}a+=y*k}else if("string"===b){var E=Object(l.N)(m.shape);_=[];for(var I=0;I<E;I++){var A=new Uint32Array(e.slice(a,a+p))[0];a+=p;var R=new Uint8Array(e.slice(a,a+A));_.push(R),a+=A}}else{var D=d.a[b],M=e.slice(a,a+y*D);if("float32"===b)_=new Float32Array(M);else if("int32"===b)_=new Int32Array(M);else if("bool"===b)_=new Uint8Array(M);else{if("complex64"!==b)throw new Error("Unsupported dtype in weight '".concat(v,"': ").concat(b));_=new Float32Array(M);for(var F=new Float32Array(_.length/2),L=new Float32Array(_.length/2),P=0;P<F.length;P++)F[P]=_[2*P],L[P]=_[2*P+1];var z=Object(c.a)(F,g,"float32"),B=Object(c.a)(L,g,"float32");r[v]=Object(u.a)(z,B),z.dispose(),B.dispose()}a+=y*D}"complex64"!==b&&(r[v]=Object(c.a)(_,g,b))}}catch(V){o=!0,s=V}finally{try{i||null==h.return||h.return()}finally{if(o)throw s}}return r}function v(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));var r=new Uint8Array(t),a=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}var b="undefined"!==typeof e&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function g(t){return b?e.byteLength(t):new Blob([t]).size}function y(t){if(b)return e.from(t).toString("base64");for(var n=new Uint8Array(t),r="",a=0,i=n.length;a<i;a++)r+=String.fromCharCode(n[a]);return btoa(r)}function _(t){if(b){var n=e.from(t,"base64");return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}for(var r=atob(t),a=new Uint8Array(r.length),i=0;i<r.length;++i)a.set([r.charCodeAt(i)],i);return a.buffer}function x(e){if(1===e.length)return e[0];var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function k(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function w(e,t){var n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function O(e,t,n){var r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}function j(e,t){return S.apply(this,arguments)}function S(){return(S=Object(s.a)(i.a.mark((function e(t,n){var a,o,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t.weightsManifest){e.next=7;break}return e.next=3,n(t.weightsManifest);case 3:s=e.sent,u=Object(r.a)(s,2),a=u[0],o=u[1];case 7:return e.abrupt("return",O(t,a,o));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:g(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:g(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function T(e){var t=[],n=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var u=i.value;t.push.apply(t,Object(o.a)(u.weights))}}catch(c){r=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}return t}function N(){var e=function(){var e=function(e){for(var t=e<<13,n=0;0===(8388608&t);)n-=8388608,t<<=1;return(t&=-8388609)|(n+=947912704)},t=new Uint32Array(2048);t[0]=0;for(var n=1;n<1024;n++)t[n]=e(n);for(var r=1024;r<2048;r++)t[r]=939524096+(r-1024<<13);return t}(),t=function(){var e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(var t=1;t<31;t++)e[t]=t<<23;for(var n=33;n<63;n++)e[n]=2147483648+(n-32<<23);return e}(),n=function(){for(var e=new Uint32Array(64),t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return function(r){for(var a=new ArrayBuffer(4*r.length),i=new Uint32Array(a),o=0;o<r.length;o++){var s=r[o],u=e[n[s>>10]+(1023&s)]+t[s>>10];i[o]=u}return new Float32Array(a)}}}).call(this,n(211).Buffer)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(102),u=n(10);var c=Object(u.b)({concat_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(o.b)(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=Object(i.b)(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return Object(s.a)(n[0]);var u=n,c={axis:t};return r.a.runKernel(a.C,u,c)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(8),i=n(6),o=n(153),s=n(34),u=n(10);var c=Object(u.b)({where_:function(e,t,n){var u=Object(i.a)(t,"a","where"),c=Object(i.a)(n,"b","where"),l=Object(i.a)(e,"condition","where","bool"),d=Object(s.assertAndGetBroadcastShape)(Object(s.assertAndGetBroadcastShape)(l.shape,u.shape),c.shape),p={condition:Object(o.a)(l,d),t:Object(o.a)(u,d),e:Object(o.a)(c,d)};return r.a.runKernel(a.Ic,p)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c}));var r=n(18),a=n(12),i=n(15),o=n(6),s=n(21);function u(e){return s.b(s.u(e),(function(){return"The f passed in grad(f) must be a function"})),function(t,n){var r=Object(o.a)(t,"x","tf.grad","string_or_numeric"),i=null!=n?Object(o.a)(n,"dy","tf.grad"):null;return a.a.tidy((function(){var t=a.a.gradients((function(){return e(r)}),[r],i),n=t.value,o=t.grads;return null!=i&&s.e(n.shape,i.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),h(o),o[0]}))}}function c(e){return s.b(s.u(e),(function(){return"The f passed in grads(f) must be a function"})),function(t,n){s.b(Array.isArray(t),(function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"}));var i=Object(o.b)(t,"args","tf.grads","string_or_numeric"),u=null!=n?Object(o.a)(n,"dy","tf.grads"):null;return a.a.tidy((function(){var t=a.a.gradients((function(){return e.apply(void 0,Object(r.a)(i))}),i,u),n=t.value,o=t.grads;return null!=u&&s.e(n.shape,u.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),h(o),o}))}}function l(e){return s.b(s.u(e),(function(){return"The f passed in valueAndGrad(f) must be a function"})),function(t,n){s.b(t instanceof i.a,(function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"})),s.b(null==n||n instanceof i.a,(function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"}));var r=a.a.gradients((function(){return e(t)}),[t],n),o=r.grads,u=r.value;return h(o),{grad:o[0],value:u}}}function d(e){return s.b(s.u(e),(function(){return"The f passed in valueAndGrads(f) must be a function"})),function(t,n){s.b(Array.isArray(t)&&t.every((function(e){return e instanceof i.a})),(function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"})),s.b(null==n||n instanceof i.a,(function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"}));var o=a.a.gradients((function(){return e.apply(void 0,Object(r.a)(t))}),t,n);return null!=n&&s.e(o.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),h(o.grads),o}}function p(e,t){s.b(s.u(e),(function(){return"The f passed in variableGrads(f) must be a function"})),s.b(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof i.c})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],a.a.registeredVariables)t.push(a.a.registeredVariables[r]);var o=n?t.filter((function(e){return!e.trainable})):null,u=t.length;t=t.filter((function(e){return e.trainable})),s.b(t.length>0,(function(){return"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(u," variables is ")+"trainable."}));var c=a.a.gradients(e,t,null,!0),l=c.value,d=c.grads;s.b(d.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),s.b(0===l.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(l.rank," tensor")}));var p={};return t.forEach((function(e,t){null!=d[t]&&(p[e.name]=d[t])})),null!=o&&o.forEach((function(e){return p[e.name]=null})),{value:l,grads:p}}function f(e){return a.a.customGrad(e)}function h(e){if(e.filter((function(e){return null==e})).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({sqrt_:function(e){var t={x:Object(i.a)(e,"x","sqrt","float32")};return r.a.runKernel(a.Yc,t)}})},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(r||(r={}))},function(e,t,n){var r=n(278),a=Function.prototype,i=a.call,o=r&&a.bind.bind(i,i);e.exports=r?o:function(e){return function(){return i.apply(e,arguments)}}},function(e,t,n){var r=n(309),a=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===a}:function(e){return"function"==typeof e}},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return d}));var r=n(21);function a(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function i(e,t,n){for(var r=e.length+t.length,a=[],i=0,o=0,s=0;s<r;s++)-1===n.indexOf(s)?a.push(e[i++]):a.push(t[o++]);return a}function o(e,t){for(var n=[],r=e.length,a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);return[n,t.map((function(t){return e[t]}))]}function s(e,t){return i(e,t.map((function(e){return 1})),t)}function u(e,t,n){r.b(a(t,n),(function(){return"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")}))}function c(e,t){if(a(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function l(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function d(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({exp_:function(e){var t={x:Object(i.a)(e,"x","exp")};return r.a.runKernel(a.cb,t)}})},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(278),a=Function.prototype.call;e.exports=r?a.bind(a):function(){return a.apply(a,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return c}));var r=n(4),a=n(11),i=function(){function e(){Object(r.a)(this,e),this.saveRouters=[],this.loadRouters=[]}return Object(a.a)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerSaveRouter",value:function(t){e.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){e.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return e.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,n){return e.getHandlers(t,"load",n)}},{key:"getHandlers",value:function(t,n,r){var a=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&a.push(n)})),a}}]),e}(),o=function(e){return i.registerSaveRouter(e)},s=function(e){return i.registerLoadRouter(e)},u=function(e){return i.getSaveHandlers(e)},c=function(e,t){return i.getLoadHandlers(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(34),c=n(10);var l=Object(c.b)({greater_:function(e,t){var n=Object(s.a)(e,"a","greater","string_or_numeric"),c=Object(s.a)(t,"b","greater","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),d=Object(r.a)(l,2);n=d[0],c=d[1],Object(u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.a.runKernel(i.qb,p)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(12),a=n(48),i=n(8),o=n(6),s=n(21),u=n(79),c=n(149),l=n(50),d=n(10),p=n(138);var f=Object(d.b)({transpose_:function(e,t,n){var d=Object(o.a)(e,"x","transpose");if(null==t&&(t=d.shape.map((function(e,t){return t})).reverse()),s.b(d.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(d.rank," ")+"must match length of perm ".concat(t,".")})),t.forEach((function(e){s.b(e>=0&&e<d.rank,(function(){return"All entries in 'perm' must be between 0 and ".concat(d.rank-1)+" but got ".concat(t)}))})),d.rank<=1)return d.clone();var f={x:d},h={perm:t};return"complex64"===d.dtype?Object(a.t)((function(){var e=Object(p.a)(d),t=Object(c.a)(d);return e=r.a.runKernel(i.pd,{x:e},h),t=r.a.runKernel(i.pd,{x:t},h),n&&(t=Object(l.a)(t)),Object(u.a)(e,t)})):r.a.runKernel(i.pd,f,h)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({abs_:function(e){var t=Object(i.a)(e,"x","abs");if("complex64"===t.dtype){var n={x:t};return r.a.runKernel(a.B,n)}var o={x:t};return r.a.runKernel(a.a,o)}})},function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return b}));var r=n(34),a=n(186),i=n(188),o=n(22),s=n(193),u=n(128),c=n(194),l=n(20),d=n(103),p=n(129),f=n(35);function h(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return Object(o.a)(e,Object(p.a)(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function m(e,t){var n=t,a=r.getReductionAxes(e.shape,t.shape);return a.length>0&&(n=Object(f.a)(n,a)),Object(l.a)(n,e.shape)}function v(e,t,n,r){if("linear"===t)return e;if("relu"===t)return Object(u.a)(e);if("elu"===t)return Object(a.a)(e);if("relu6"===t)return Object(c.a)(e);if("prelu"===t)return Object(s.a)(e,n);if("leakyrelu"===t)return Object(i.a)(e,r);if("sigmoid"===t)return Object(d.a)(e);throw new Error("Unknown fused activation ".concat(t,"."))}var b=function(e,t){return!(e>0)||"linear"===t}},function(e,t,n){"use strict";var r=n(17),a=n(13),i=n(16),o=n(2),s=n.n(o),u=n(7),c=n(4),l=n(11),d=n(0),p=n(133),f=n(106);function h(e){return e instanceof d.Tensor?{value:e.clone(),recurse:!1}:Object(f.e)(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}var m=n(30),v=function(){function e(t){if(Object(c.a)(this,e),this.capacity=t,this.begin=0,this.end=0,null==t)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(t<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(t),this.doubledCapacity=2*t}return Object(l.a)(e,[{key:"wrap",value:function(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}},{key:"get",value:function(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}},{key:"set",value:function(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}},{key:"length",value:function(){var e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}},{key:"isFull",value:function(){return this.length()===this.capacity}},{key:"isEmpty",value:function(){return 0===this.length()}},{key:"push",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}},{key:"pushAll",value:function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;this.push(o)}}catch(s){n=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"pop",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var e=this.get(this.end);return this.set(this.end,void 0),e}},{key:"unshift",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}},{key:"shift",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}},{key:"shuffleExcise",value:function(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}]),e}(),b=function(e){function t(){return Object(c.a)(this,t),Object(r.a)(this,Object(a.a)(t).call(this,t.INITIAL_CAPACITY))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"isFull",value:function(){return!1}},{key:"push",value:function(e){Object(m.a)(Object(a.a)(t.prototype),"isFull",this).call(this)&&this.expand(),Object(m.a)(Object(a.a)(t.prototype),"push",this).call(this,e)}},{key:"unshift",value:function(e){Object(m.a)(Object(a.a)(t.prototype),"isFull",this).call(this)&&this.expand(),Object(m.a)(Object(a.a)(t.prototype),"unshift",this).call(this,e)}},{key:"expand",value:function(){for(var e=2*this.capacity,t=new Array(e),n=this.length(),r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}]),t}(v);function g(e){return new O(e)}function y(e){return new j(e)}function _(e,t){return new F(e,t)}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.FAIL;return new L(e,t)}b.INITIAL_CAPACITY=32,n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return _})),n.d(t,"g",(function(){return x})),n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return D})),n.d(t,"c",(function(){return k}));var k,w=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"toArray",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.next();case 3:n=e.sent;case 4:if(n.done){e.next=11;break}return t.push(n.value),e.next=8,this.next();case 8:n=e.sent,e.next=4;break;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.prefetch(100),n=[],e.next=4,t.next();case 4:r=e.sent;case 5:if(r.done){e.next=12;break}return n.push(r.value),e.next=9,t.next();case 9:r=e.sent,e.next=5;break;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveFully",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:t=e.sent;case 3:if(t.done){e.next=9;break}return e.next=6,this.next();case 6:t=e.sent,e.next=3;break;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveWhile",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:n=e.sent,r=t(n.value);case 4:if(n.done||!r){e.next=11;break}return e.next=7,this.next();case 7:n=e.sent,r=t(n.value),e.next=4;break;case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleErrors",value:function(e){return new A(this,e)}},{key:"filter",value:function(e){return new E(this,e)}},{key:"map",value:function(e){return new I(this,e)}},{key:"mapAsync",value:function(e){return new R(this,e)}},{key:"serialMapAsync",value:function(e){return new R(this,e).serial()}},{key:"flatmap",value:function(e){return new M(this,e)}},{key:"forEachAsync",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.map(t).resolveFully());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"serialForEach",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.serialMapAsync(t).resolveWhile((function(e){return!0===e})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rowMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new N(this,e,t)}},{key:"columnMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.f,r=this.rowMajorBatch(e,t);return r.map((function(e){return Object(f.d)(e,n)}))}},{key:"concatenate",value:function(e,t){return new F(g([this,e]),t)}},{key:"take",value:function(e){return e<0||null==e?this:new T(this,e)}},{key:"skip",value:function(e){return e<0||null==e?this:new C(this,e)}},{key:"prefetch",value:function(e){return new P(this,e)}},{key:"shuffle",value:function(e,t){return new z(this,e,t)}},{key:"serial",value:function(){return new S(this)}}]),e}(),O=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(r.a)(this,Object(a.a)(t).call(this))).items=e,n.trav=0,n}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"Array of ".concat(this.items.length," items")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.trav>=this.items.length)){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return t=this.items[this.trav],this.trav++,e.abrupt("return",{value:(n=t,Object(f.b)(n,h)),done:!1});case 5:case"end":return e.stop()}var n}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(w),j=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(r.a)(this,Object(a.a)(t).call(this))).nextFn=e,n}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"Function call"}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this.nextFn());case 4:throw e.prev=4,e.t0=e.catch(0),e.t0.message="Error thrown while iterating through a dataset: ".concat(e.t0.message),e.t0;case 8:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(){return e.apply(this,arguments)}}()}]),t}(w),S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,n.lastRead=Promise.resolve({value:null,done:!1}),n}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Serial")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.upstream.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(w),C=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.maxCount=n,i.count=0,i.lastRead=Promise.resolve({value:null,done:!1}),i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Skip")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.count++<this.maxCount)){e.next=9;break}return e.next=3,this.upstream.next();case 3:if(!(t=e.sent).done){e.next=6;break}return e.abrupt("return",t);case 6:d.dispose(t.value),e.next=0;break;case 9:return e.abrupt("return",this.upstream.next());case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(w),T=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.maxCount=n,i.count=0,i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Take")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.count++>=this.maxCount)){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return e.abrupt("return",this.upstream.next());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(w),N=function(e){function t(e,n){var i,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.batchSize=n,i.enableSmallLastBatch=o,i.lastRead=Promise.resolve({value:null,done:!1}),i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> RowMajorBatch")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[];case 1:if(!(t.length<this.batchSize)){e.next=12;break}return e.next=4,this.upstream.next();case 4:if(!(n=e.sent).done){e.next=9;break}if(!(this.enableSmallLastBatch&&t.length>0)){e.next=8;break}return e.abrupt("return",{value:t,done:!1});case 8:return e.abrupt("return",{value:null,done:!0});case 9:t.push(n.value),e.next=1;break;case 12:return e.abrupt("return",{value:t,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(w),E=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.predicate=n,i.lastRead=Promise.resolve({value:null,done:!1}),i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Filter")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.upstream.next();case 3:if(!(t=e.sent).done&&!this.predicate(t.value)){e.next=6;break}return e.abrupt("return",t);case 6:d.dispose(t.value),e.next=0;break;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(w),I=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.transform=n,i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Map")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,r,a,i,o,u,c,l,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:for(n=d.tensor_util.getTensorsInContainer(t.value),r=this.transform(t.value),a=d.tensor_util.getTensorsInContainer(r),i=!0,o=!1,u=void 0,e.prev=11,c=n[Symbol.iterator]();!(i=(l=c.next()).done);i=!0)p=l.value,d.tensor_util.isTensorInList(p,a)||p.dispose();e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),o=!0,u=e.t0;case 19:e.prev=19,e.prev=20,i||null==c.return||c.return();case 22:if(e.prev=22,!o){e.next=25;break}throw u;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return e.abrupt("return",{value:r,done:!1});case 28:case"end":return e.stop()}}),e,this,[[11,15,19,27],[20,,22,26]])})));return function(){return e.apply(this,arguments)}}()}]),t}(w),A=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.handler=n,i.count=0,i.lastRead=Promise.resolve({value:null,done:!1}),i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> handleErrors")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,this.upstream.next();case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),this.handler(e.t0)){e.next=11;break}return e.abrupt("return",{value:null,done:!0});case 11:e.next=0;break;case 13:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()}]),t}(w),R=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.transform=n,i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> AsyncMap")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,r,a,i,o,u,c,l,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:return n=d.tensor_util.getTensorsInContainer(t.value),e.next=8,this.transform(t.value);case 8:for(r=e.sent,a=d.tensor_util.getTensorsInContainer(r),i=!0,o=!1,u=void 0,e.prev=13,c=n[Symbol.iterator]();!(i=(l=c.next()).done);i=!0)p=l.value,d.tensor_util.isTensorInList(p,a)||p.dispose();e.next=21;break;case 17:e.prev=17,e.t0=e.catch(13),o=!0,u=e.t0;case 21:e.prev=21,e.prev=22,i||null==c.return||c.return();case 24:if(e.prev=24,!o){e.next=27;break}throw u;case 27:return e.finish(24);case 28:return e.finish(21);case 29:return e.abrupt("return",{value:r,done:!1});case 30:case"end":return e.stop()}}),e,this,[[13,17,21,29],[22,,24,28]])})));return function(){return e.apply(this,arguments)}}()}]),t}(w),D=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(r.a)(this,Object(a.a)(t).call(this))).outputQueue=new b,e.lastRead=Promise.resolve({value:null,done:!1}),e}return Object(i.a)(t,e),Object(l.a)(t,[{key:"next",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.outputQueue.length()){e.next=7;break}return e.next=3,this.pump();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:e.next=0;break;case 7:return e.abrupt("return",{value:this.outputQueue.shift(),done:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(w),M=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.transform=n,i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Flatmap")}},{key:"pump",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,r,a,i,o,u,c,l,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",!1);case 5:for(n=d.tensor_util.getTensorsInContainer(t.value),r=this.transform(t.value),a=d.tensor_util.getTensorsInContainer(r),this.outputQueue.pushAll(r),i=!0,o=!1,u=void 0,e.prev=12,c=n[Symbol.iterator]();!(i=(l=c.next()).done);i=!0)p=l.value,d.tensor_util.isTensorInList(p,a)||p.dispose();e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),o=!0,u=e.t0;case 20:e.prev=20,e.prev=21,i||null==c.return||c.return();case 23:if(e.prev=23,!o){e.next=26;break}throw u;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",!0);case 29:case"end":return e.stop()}}),e,this,[[12,16,20,28],[21,,23,27]])})));return function(){return e.apply(this,arguments)}}()}]),t}(D),F=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).baseErrorHandler=n,i.lastRead=null,i.iterator=null,i.moreIterators=e,i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat("TODO: fill in upstream of chained summaries"," -> Chained")}},{key:"next",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.readFromChain(this.lastRead),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readFromChain",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(null!=this.iterator){e.next=10;break}return e.next=5,this.moreIterators.next();case 5:if(!(n=e.sent).done){e.next=8;break}return e.abrupt("return",{value:null,done:!0});case 8:this.iterator=n.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler));case 10:return e.next=12,this.iterator.next();case 12:if(!(r=e.sent).done){e.next=16;break}return this.iterator=null,e.abrupt("return",this.readFromChain(t));case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(w);!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(k||(k={}));var L=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.FAIL;return Object(c.a)(this,t),(n=Object(r.a)(this,Object(a.a)(t).call(this))).iterators=e,n.mismatchMode=i,n.count=0,n.currentPromise=null,n}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"{".concat("TODO: fill in upstream of zip summaries","} -> Zip")}},{key:"nextState",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return e instanceof w?{value:e.next().then((function(e){return n++,e.done&&r++,e.value})),recurse:!1}:{value:null,recurse:!0}},e.next=3,t;case 3:return n=0,r=0,e.next=7,Object(f.c)(this.iterators,a);case 7:if(i=e.sent,n!==r){e.next=10;break}return e.abrupt("return",{value:null,done:!0});case 10:if(!(r>0)){e.next=16;break}e.t0=this.mismatchMode,e.next=e.t0===k.FAIL?14:e.t0===k.SHORTEST?15:(e.t0,k.LONGEST,16);break;case 14:throw new Error("Zipped streams should have the same length. "+"Mismatched at element ".concat(this.count,"."));case 15:return e.abrupt("return",{value:null,done:!0});case 16:return this.count++,e.abrupt("return",{value:i,done:!1});case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currentPromise=this.nextState(this.currentPromise),e.abrupt("return",this.currentPromise);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(w),P=function(e){function t(e,n){var i;return Object(c.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).upstream=e,i.bufferSize=n,i.buffer=new v(n),i}return Object(i.a)(t,e),Object(l.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Prefetch")}},{key:"refill",value:function(){for(;!this.buffer.isFull();){var e=this.upstream.next();this.buffer.push(e)}}},{key:"next",value:function(){return this.refill(),this.buffer.shift()}}]),t}(w),z=function(e){function t(e,n,i){var o;return Object(c.a)(this,t),(o=Object(r.a)(this,Object(a.a)(t).call(this,e,n))).upstream=e,o.windowSize=n,o.upstreamExhausted=!1,o.random=p.alea(i||d.util.now().toString()),o.lastRead=Promise.resolve({value:null,done:!1}),o}return Object(i.a)(t,e),Object(l.a)(t,[{key:"next",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"randomInt",value:function(e){return Math.floor(this.random()*e)}},{key:"chooseIndex",value:function(){return this.randomInt(this.buffer.length())}},{key:"serialNext",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.upstreamExhausted||this.refill();case 1:if(this.buffer.isEmpty()){e.next=14;break}return t=this.chooseIndex(),e.next=5,this.buffer.shuffleExcise(t);case 5:if(!(n=e.sent).done){e.next=10;break}this.upstreamExhausted=!0,e.next=12;break;case 10:return this.refill(),e.abrupt("return",n);case 12:e.next=1;break;case 14:return e.abrupt("return",{value:null,done:!0});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(P)},function(e,t,n){var r=n(606);t.parseFont=r,t.createCanvas=function(e,t){return Object.assign(document.createElement("canvas"),{width:e,height:t})},t.createImageData=function(e,t,n){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(e);case 2:return new ImageData(e,t);default:return new ImageData(e,t,n)}},t.loadImage=function(e,t){return new Promise((function(n,r){var a=Object.assign(document.createElement("img"),t);function i(){a.onload=null,a.onerror=null}a.onload=function(){i(),n(a)},a.onerror=function(){i(),r(new Error('Failed to load the image "'+e+'"'))},a.src=e}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(15),a=n(21);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",a.c(e),new r.b(e,t,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({reverse_:function(e,t){var n={x:Object(i.a)(e,"x","reverse")},o={dims:t};return r.a.runKernel(a.Cc,n,o)}})},function(e,t,n){var r=n(83).has;e.exports=function(e){return r(e),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(84),i=n(21),o=n(24);function s(e,t,n,s){if(null==s)s=Object(i.r)(e);else if("complex64"===s)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(Object(a.c)(e)||Object(a.b)(e)){if("float32"!==s&&"int32"!==s)throw new Error("Creating tensor from GPU data only supports "+"'float32'|'int32' dtype, while the dtype is ".concat(s,"."));return r.a.backend.createTensorFromGPUData(e,t||n,s)}if(!Object(o.isTypedArray)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){Object(i.c)(t);var u=Object(i.N)(t),c=Object(i.N)(n);Object(i.b)(u===c,(function(){return"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(u," values but has ").concat(c)}));for(var l=0;l<n.length;++l){var d=n[l],p=l!==n.length-1||d!==Object(i.N)(t.slice(l));Object(i.b)(n[l]===t[l]||!p,(function(){return"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")}))}}return Object(o.isTypedArray)(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==s?Object(o.toTypedArray)(e,s):Object(o.flatten)(e,[],!0),r.a.makeTensor(e,t,s)}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var r=n(514),a=n(110),i=n(278),o=r(r.bind);e.exports=function(e,t){return a(e),void 0===t?e:i?o(e,t):function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(10);var u=Object(s.b)({complex_:function(e,t){var n=Object(i.a)(e,"real","complex"),s=Object(i.a)(t,"imag","complex");o.e(n.shape,s.shape,"real and imag shapes, ".concat(n.shape," and ").concat(s.shape,", ")+"must match in call to tf.complex().");var u={real:n,imag:s};return r.a.runKernel(a.A,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(10);var c=Object(u.b)({pow_:function(e,t){var n=Object(s.a)(e,"base","pow"),u=Object(s.a)(t,"exp","pow"),c=Object(o.makeTypesMatch)(n,u),l=Object(r.a)(c,2),d={a:n=l[0],b:u=l[1]};return a.a.runKernel(i.lc,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(21),i=n(79),o=n(127);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(Object(a.c)(e),"complex64"===t){var n=s(e,"float32"),u=Object(o.a)(e,"float32");return Object(i.a)(n,u)}var c=Object(a.C)(Object(a.N)(e),t);return r.a.makeTensor(c,e,t)}},function(e,t,n){var r=n(591),a=n(592),i=n(298),o=n(593);e.exports=function(e){return r(e)||a(e)||i(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(59),a=Set.prototype;e.exports={Set:Set,add:r(a.add),has:r(a.has),remove:r(a.delete),proto:a,$has:a.has,$keys:a.keys}},function(e,t,n){"use strict";var r,a,i,o,s;n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(r||(r={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(a||(a={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(i||(i={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(o||(o={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(s||(s={}));var u={float32:o,int32:a,bool:i,complex64:s};function c(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return u[e][t]}function l(e){return c(e,"int32")}function d(e){return null!=e&&"object"===typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function p(e){return"undefined"!==typeof GPUBuffer&&null!=e&&"object"===typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(2),a=n.n(r),i=n(7),o=n(4),s=n(11),u=n(17),c=n(13),l=n(16),d=n(48),p=n(56),f=n(37),h=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"minimize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.computeGradients(e,n),a=r.value,i=r.grads;if(null!=n){var o=n.map((function(e){return{name:e.name,tensor:i[e.name]}}));this.applyGradients(o)}else this.applyGradients(i);return Object(d.d)(i),t?a:(a.dispose(),null)}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(e,t){return Object(p.f)(e,t)}},{key:"dispose",value:function(){null!=this.iterations_&&Object(d.d)(this.iterations_)}},{key:"saveIterations",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.iterations_&&(this.iterations_=0),e.abrupt("return",{name:"iter",tensor:Object(f.a)(this.iterations_,"int32")});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWeights",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for this optimizer yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"extractIterations",value:function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[0].tensor.data();case 2:return this.iterations_=e.sent[0],e.abrupt("return",t.slice(1));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}}]),t}(n(177).Serializable);Object.defineProperty(h,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(34),c=n(10);var l=Object(c.b)({lessEqual_:function(e,t){var n=Object(s.a)(e,"a","lessEqual","string_or_numeric"),c=Object(s.a)(t,"b","lessEqual","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),d=Object(r.a)(l,2);n=d[0],c=d[1],Object(u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.a.runKernel(i.Cb,p)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({pad_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=Object(i.a)(e,"x","pad");if(0===o.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var s={paddings:t,constantValue:n},u={x:o};return r.a.runKernel(a.jc,u,s)}})},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E})),n.d(t,"i",(function(){return A})),n.d(t,"c",(function(){return R})),n.d(t,"f",(function(){return D})),n.d(t,"e",(function(){return L})),n.d(t,"d",(function(){return P})),n.d(t,"k",(function(){return B})),n.d(t,"g",(function(){return V})),n.d(t,"h",(function(){return U})),n.d(t,"j",(function(){return W})),n.d(t,"b",(function(){return H}));var r=n(9),a=n(18),i=n(4),o=n(11),s=n(0),u=n(115),c=n(158),l=n(3),d=n(389),p=n(390),f=n(391),h=n(392),m=n(393),v=n(394),b=n(395),g=n(396),y=n(397),_=n(398),x=n(399),k=n(400),w=n(401),O=n(402),j=n(403),S=n(404),C=n(405),T=n(406),N=n(407),E=function(){function e(){var t;Object(i.a)(this,e);var n=[d,p,f,h,m,v,b,g,y,_,x,k,w,O,j,S,C,T,N],r=(t=[]).concat.apply(t,Object(a.a)(n.map((function(e){return e.json}))));this.opMappers=r.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return Object(o.a)(e,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),Object(o.a)(e,[{key:"transformGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.node,i=[],o=[],s=[],u=a.reduce((function(e,n){return e[n.name]=t.mapNode(n),n.op.startsWith("Placeholder")?i.push(e[n.name]):"Const"===n.op?o.push(e[n.name]):null!=n.input&&0!==n.input.length||s.push(e[n.name]),e}),{}),c=[],d=[],p={},f={};null!=n&&(p=this.mapSignatureEntries(n.inputs),f=this.mapSignatureEntries(n.outputs));var h=Object.keys(u);h.forEach((function(e){var t=u[e];t.inputNames.forEach((function(e,n){var a=Object(l.b)(e),i=Object(r.a)(a,3),o=i[0],s=i[2],c=u[o];if(null!=c.outputs){var d=c.outputs.indexOf(s);if(-1!==d){var p="".concat(o,":").concat(d);t.inputNames[n]=p}}t.inputs.push(c),c.children.push(t)}))})),0===Object.keys(f).length?h.forEach((function(e){var t=u[e];0===t.children.length&&d.push(t)})):Object.keys(f).forEach((function(e){var t=Object(l.b)(e),n=Object(r.a)(t,1)[0],a=u[n];null!=a&&(a.signatureKey=f[e],d.push(a))})),Object.keys(p).length>0?Object.keys(p).forEach((function(e){var t=Object(l.b)(e),n=Object(r.a)(t,1)[0],a=u[n];a&&(a.signatureKey=p[e],c.push(a))})):c=i;var m={};null!=e.library&&null!=e.library.function&&(m=e.library.function.reduce((function(e,n){return e[n.signature.name]=t.mapFunction(n),e}),{}));var v={nodes:u,inputs:c,outputs:d,weights:o,placeholders:i,signature:n,functions:m};return s.length>0&&(v.initNodes=s),v}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce((function(t,n){return t[e[n].name]=n,t}),{})}},{key:"mapNode",value:function(e){var t=Object(c.a)(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.slice(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r=n.type,a=void 0;switch(n.type){case"string":void 0===(a=A(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=A(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(a=U(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=U(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(a=D(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(a=D(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(a=V(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=V(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(a=R(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=R(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(a=H(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=H(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(a=B(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=B(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(a=W(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=W(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(a=L(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=L(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(a=P(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=P(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":void 0===(a=F(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=F(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:a,type:r},t}),{})),n}},{key:"mapFunction",value:function(e){var t=this,n=e.nodeDef,a=[],i={};null!=n&&(i=n.reduce((function(e,n){return e[n.name]=t.mapNode(n),"Const"===n.op&&a.push(e[n.name]),e}),{}));var o=[],s=[];e.signature.inputArg.forEach((function(e){var t=Object(l.b)(e.name),n=Object(r.a)(t,1)[0],a={name:n,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:M(e.type),type:"dtype"}},children:[]};a.signatureKey=e.name,o.push(a),i[n]=a})),Object.keys(i).forEach((function(e){var t=i[e];t.inputNames.forEach((function(e,n){var a=Object(l.b)(e),o=Object(r.a)(a,3),s=o[0],u=o[2],c=i[s];if(null!=c.outputs){var d=c.outputs.indexOf(u);if(-1!==d){var p="".concat(s,":").concat(d);t.inputNames[n]=p}}t.inputs.push(c),c.children.push(t)}))}));var u=e.ret;e.signature.outputArg.forEach((function(e){var t=Object(l.b)(u[e.name]),n=Object(r.a)(t,2),a=n[0],o=n[1],c=i[a];null!=c&&(c.defaultOutput=o,s.push(c))}));var c=this.mapArgsToSignature(e);return{nodes:i,inputs:o,outputs:s,weights:a,placeholders:[],signature:c}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((function(e,n){return e[n.name]=t.mapArgToTensorInfo(n),e}),{}),outputs:e.signature.outputArg.reduce((function(n,r){return n[r.name]=t.mapArgToTensorInfo(r,e.ret),n}),{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}]),e}();function I(t,n){var r=Array.isArray(t)?String.fromCharCode.apply(null,t):function(t){var n=Object(s.env)().global;if("undefined"!==typeof n.atob)return n.atob(t);if("undefined"!==typeof e)return new e(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(t);return n?r:r.toLowerCase()}function A(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return null!=a?I(a.s,r):n}function R(e,t,n){var r=e[t];return r?r.b:n}function D(e,t,n){var r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function M(e){switch("string"===typeof e&&(e=u.a[e]),e){case u.a.DT_FLOAT:case u.a.DT_HALF:return"float32";case u.a.DT_INT32:case u.a.DT_INT64:case u.a.DT_INT8:case u.a.DT_UINT8:return"int32";case u.a.DT_BOOL:return"bool";case u.a.DT_DOUBLE:return"float32";case u.a.DT_STRING:return"string";default:return null}}function F(e,t,n){var r=e[t];return r&&r.func?r.func.name:n}function L(e,t,n){var r=e[t];return r&&r.type?M(r.type):n}function P(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return M(e)})):n}function z(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"===typeof e.size?e.size:parseInt(e.size,10)})):[]}function B(e,t,n){var r=e[t];return r&&r.shape?z(r.shape):n}function V(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"===typeof e?e:parseInt(e,10)})):n}function U(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return a&&a.list&&a.list.s?a.list.s.map((function(e){return I(e,r)})):n}function W(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return z(e)})):n}function H(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}}).call(this,n(211).Buffer)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E})),n.d(t,"i",(function(){return A})),n.d(t,"c",(function(){return R})),n.d(t,"f",(function(){return D})),n.d(t,"e",(function(){return L})),n.d(t,"d",(function(){return P})),n.d(t,"k",(function(){return B})),n.d(t,"g",(function(){return V})),n.d(t,"h",(function(){return U})),n.d(t,"j",(function(){return W})),n.d(t,"b",(function(){return H}));var r=n(9),a=n(18),i=n(4),o=n(11),s=n(0),u=n(116),c=n(159),l=n(5),d=n(411),p=n(412),f=n(413),h=n(414),m=n(415),v=n(416),b=n(417),g=n(418),y=n(419),_=n(420),x=n(421),k=n(422),w=n(423),O=n(424),j=n(425),S=n(426),C=n(427),T=n(428),N=n(429),E=function(){function e(){var t;Object(i.a)(this,e);var n=[d,p,f,h,m,v,b,g,y,_,x,k,w,O,j,S,C,T,N],r=(t=[]).concat.apply(t,Object(a.a)(n.map((function(e){return e.json}))));this.opMappers=r.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return Object(o.a)(e,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),Object(o.a)(e,[{key:"transformGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.node,i=[],o=[],s=[],u=a.reduce((function(e,n){return e[n.name]=t.mapNode(n),n.op.startsWith("Placeholder")?i.push(e[n.name]):"Const"===n.op?o.push(e[n.name]):null!=n.input&&0!==n.input.length||s.push(e[n.name]),e}),{}),c=[],d=[],p={},f={};null!=n&&(p=this.mapSignatureEntries(n.inputs),f=this.mapSignatureEntries(n.outputs));var h=Object.keys(u);h.forEach((function(e){var t=u[e];t.inputNames.forEach((function(e,n){var a=Object(l.b)(e),i=Object(r.a)(a,3),o=i[0],s=i[2],c=u[o];if(null!=c.outputs){var d=c.outputs.indexOf(s);if(-1!==d){var p="".concat(o,":").concat(d);t.inputNames[n]=p}}t.inputs.push(c),c.children.push(t)}))})),0===Object.keys(f).length?h.forEach((function(e){var t=u[e];0===t.children.length&&d.push(t)})):Object.keys(f).forEach((function(e){var t=Object(l.b)(e),n=Object(r.a)(t,1)[0],a=u[n];null!=a&&(a.signatureKey=f[e],d.push(a))})),Object.keys(p).length>0?Object.keys(p).forEach((function(e){var t=Object(l.b)(e),n=Object(r.a)(t,1)[0],a=u[n];a&&(a.signatureKey=p[e],c.push(a))})):c=i;var m={};null!=e.library&&null!=e.library.function&&(m=e.library.function.reduce((function(e,n){return e[n.signature.name]=t.mapFunction(n),e}),{}));var v={nodes:u,inputs:c,outputs:d,weights:o,placeholders:i,signature:n,functions:m};return s.length>0&&(v.initNodes=s),v}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce((function(t,n){return t[e[n].name]=n,t}),{})}},{key:"mapNode",value:function(e){var t=Object(c.a)(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.slice(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r=n.type,a=void 0;switch(n.type){case"string":void 0===(a=A(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=A(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(a=U(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=U(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(a=D(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(a=D(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(a=V(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=V(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(a=R(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=R(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(a=H(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=H(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(a=B(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=B(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(a=W(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=W(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(a=L(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=L(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(a=P(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=P(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":void 0===(a=F(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=F(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:a,type:r},t}),{})),n}},{key:"mapFunction",value:function(e){var t=this,n=e.nodeDef,a=[],i={};null!=n&&(i=n.reduce((function(e,n){return e[n.name]=t.mapNode(n),"Const"===n.op&&a.push(e[n.name]),e}),{}));var o=[],s=[];e.signature.inputArg.forEach((function(e){var t=Object(l.b)(e.name),n=Object(r.a)(t,1)[0],a={name:n,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:M(e.type),type:"dtype"}},children:[]};a.signatureKey=e.name,o.push(a),i[n]=a})),Object.keys(i).forEach((function(e){var t=i[e];t.inputNames.forEach((function(e,n){var a=Object(l.b)(e),o=Object(r.a)(a,3),s=o[0],u=o[2],c=i[s];if(null!=c.outputs){var d=c.outputs.indexOf(u);if(-1!==d){var p="".concat(s,":").concat(d);t.inputNames[n]=p}}t.inputs.push(c),c.children.push(t)}))}));var u=e.ret;e.signature.outputArg.forEach((function(e){var t=Object(l.b)(u[e.name]),n=Object(r.a)(t,2),a=n[0],o=n[1],c=i[a];null!=c&&(c.defaultOutput=o,s.push(c))}));var c=this.mapArgsToSignature(e);return{nodes:i,inputs:o,outputs:s,weights:a,placeholders:[],signature:c}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((function(e,n){return e[n.name]=t.mapArgToTensorInfo(n),e}),{}),outputs:e.signature.outputArg.reduce((function(n,r){return n[r.name]=t.mapArgToTensorInfo(r,e.ret),n}),{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}]),e}();function I(t,n){var r=Array.isArray(t)?String.fromCharCode.apply(null,t):function(t){var n=Object(s.env)().global;if("undefined"!==typeof n.atob)return n.atob(t);if("undefined"!==typeof e)return new e(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(t);return n?r:r.toLowerCase()}function A(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return null!=a?I(a.s,r):n}function R(e,t,n){var r=e[t];return r?r.b:n}function D(e,t,n){var r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function M(e){switch("string"===typeof e&&(e=u.a[e]),e){case u.a.DT_FLOAT:case u.a.DT_HALF:return"float32";case u.a.DT_INT32:case u.a.DT_INT64:case u.a.DT_INT8:case u.a.DT_UINT8:return"int32";case u.a.DT_BOOL:return"bool";case u.a.DT_DOUBLE:return"float32";case u.a.DT_STRING:return"string";default:return null}}function F(e,t,n){var r=e[t];return r&&r.func?r.func.name:n}function L(e,t,n){var r=e[t];return r&&r.type?M(r.type):n}function P(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return M(e)})):n}function z(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"===typeof e.size?e.size:parseInt(e.size,10)})):[]}function B(e,t,n){var r=e[t];return r&&r.shape?z(r.shape):n}function V(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"===typeof e?e:parseInt(e,10)})):n}function U(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return a&&a.list&&a.list.s?a.list.s.map((function(e){return I(e,r)})):n}function W(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return z(e)})):n}function H(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}}).call(this,n(211).Buffer)},function(e,t,n){var r=n(107),a=n(313),i=n(111),o=n(285),s=n(312),u=n(311),c=r.Symbol,l=a("wks"),d=u?c.for||c:c&&c.withoutSetter||o;e.exports=function(e){return i(l,e)||(l[e]=s&&i(c,e)?c[e]:d("Symbol."+e)),l[e]}},function(e,t,n){var r=n(118).has;e.exports=function(e){return r(e),e}},function(e,t,n){"use strict";var r=n(338),a=Object.prototype.toString;function i(e){return"[object Array]"===a.call(e)}function o(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===a.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:u,isUndefined:o,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,a=arguments.length;r<a;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,a){e[a]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(8),i=n(6),o=n(34),s=n(10);var u=Object(s.b)({logicalAnd_:function(e,t){var n=Object(i.a)(e,"a","logicalAnd","bool"),s=Object(i.a)(t,"b","logicalAnd","bool");Object(o.assertAndGetBroadcastShape)(n.shape,s.shape);var u={a:n,b:s};return r.a.runKernel(a.Hb,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({split_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o={x:Object(i.a)(e,"x","split")},s={numOrSizeSplits:t,axis:n};return r.a.runKernel(a.Xc,o,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(10);var u=Object(s.b)({stack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.b)(e,"tensors","stack","string_or_numeric");o.b(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),n.length>0&&o.b(t<=n[0].rank,(function(){return"Axis must be <= rank of the tensor"}));var s=n,u={axis:t};return r.a.runKernel(a.ic,s,u)}})},function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"g",(function(){return m})),n.d(t,"a",(function(){return v}));var r=n(9),a=n(40),i=n(165),o=n(114),s=Object(i.a)("kernelRegistry",(function(){return new Map})),u=Object(i.a)("gradRegistry",(function(){return new Map}));function c(e,t){var n=b(e,t);return s.get(n)}function l(e){return u.get(e)}function d(e){for(var t=s.entries(),n=[];;){var a=t.next(),i=a.done,o=a.value;if(i)break;var u=Object(r.a)(o,2),c=u[0],l=u[1],d=c.split("_");Object(r.a)(d,1)[0]===e&&n.push(l)}return n}function p(e){var t=e.kernelName,n=e.backendName,r=b(t,n);s.has(r)&&o.b("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),s.set(r,e)}function f(e){var t=e.kernelName;u.has(t)&&Object(a.c)().getBool("DEBUG")&&o.b("Overriding the gradient for '".concat(t,"'")),u.set(t,e)}function h(e,t){var n=b(e,t);if(!s.has(n))throw new Error("The kernel '".concat(e,"' for backend ")+"'".concat(t,"' is not registered"));s.delete(n)}function m(e){if(!u.has(e))throw new Error("The gradient '".concat(e,"' for backend is not registered"));u.delete(e)}function v(e,t){d(e).forEach((function(e){p(Object.assign({},e,{backendName:t}))}))}function b(e,t){return"".concat(t,"_").concat(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(10);var u=Object(s.b)({expandDims_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.a)(e,"x","expandDims","string_or_numeric");o.b(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var s={input:n},u={dim:t};return r.a.runKernel(a.db,s,u)}})},function(e,t,n){var r=n(59),a=n(139),i=n(83),o=i.Set,s=i.proto,u=r(s.forEach),c=r(s.keys),l=c(new o).next;e.exports=function(e,t,n){return n?a(c(e),t,l):u(e,t)}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(41),u=n(10),c=n(20);var l=Object(u.b)({conv2d_:function(e,t,n,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],p=arguments.length>6?arguments[6]:void 0,f=Object(i.a)(e,"x","conv2d","float32"),h=Object(i.a)(t,"filter","conv2d","float32"),m=f,v=!1;3===f.rank&&(v=!0,m=Object(c.a)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),o.b(4===m.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(m.rank,".")})),o.b(4===h.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+"".concat(h.rank,".")})),s.a("conv2d",u,p);var b="NHWC"===l?m.shape[3]:m.shape[1];o.b(b===h.shape[2],(function(){return"Error in conv2d: depth of input (".concat(b,") must match ")+"input depth for filter ".concat(h.shape[2],".")})),o.b(s.i(n,d),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(d,"'")})),o.b(s.j(d),(function(){return"Error in conv2D: Dilated rates should be larger than 0."})),o.b(s.j(n),(function(){return"Error in conv2D: Strides should be larger than 0."}));var g={x:m,filter:h},y={strides:n,pad:u,dataFormat:l,dilations:d,dimRoundingMode:p},_=r.a.runKernel(a.D,g,y);return v?Object(c.a)(_,[_.shape[1],_.shape[2],_.shape[3]]):_}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(34),c=n(10);var l=Object(c.b)({greaterEqual_:function(e,t){var n=Object(s.a)(e,"a","greaterEqual","string_or_numeric"),c=Object(s.a)(t,"b","greaterEqual","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),d=Object(r.a)(l,2);n=d[0],c=d[1],Object(u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.a.runKernel(i.rb,p)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({clone_:function(e){var t={x:Object(i.a)(e,"x","clone","string_or_numeric")};return r.a.runKernel(a.tb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({sigmoid_:function(e){var t={x:Object(i.a)(e,"x","sigmoid","float32")};return r.a.runKernel(a.Kc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({max_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={x:Object(i.a)(e,"x","max")},s={reductionIndices:t,keepDims:n};return r.a.runKernel(a.Nb,o,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(10);var u=Object(s.b)({tile_:function(e,t){var n=Object(i.a)(e,"x","tile","string_or_numeric");o.b(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")}));var s={x:n},u={reps:t};return r.a.runKernel(a.md,s,u)}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return h}));var r=n(2),a=n.n(r),i=n(7),o=n(0);function s(e,t){return u(e,t)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==e)return null;if("function"===typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(a.recurse){if(f(e)){var i=Array.isArray(e)?[]:{};for(var o in r.add(e),e){var s=u(e[o],t,n,r);i[o]=s}return r.delete(e),e.__proto__&&(i.__proto__=e.__proto__),i}throw new Error("Can't recurse into non-iterable type: ".concat(e))}return n.set(e,a.value),a.value}function c(e){return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,a=t[0];if(r.has(a))throw new Error("Circular references are not supported.");var i=n(t);if(i.recurse&&null!==i.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(i.recurse){if(f(a)){var o=Array.isArray(a)?[]:{};r.add(a);var s=function(a){var i=t.map((function(e){return e[a]})),s=e(i,n,r);o[a]=s};for(var u in a)s(u);return r.delete(a),o}throw new Error("Can't recurse into non-iterable type: ".concat(a))}return i.value}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:l)}function l(e){return null===e?null:f(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function d(e,t){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(a.a.mark((function e(t,n){var r,i,s,c,l,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Map,u(t,n,r),i=0,s=Array.from(r.keys());case 3:if(!(i<s.length)){e.next=14;break}if(c=s[i],l=r.get(c),!o.util.isPromise(l)){e.next=11;break}return e.next=9,l;case 9:d=e.sent,r.set(c,d);case 11:i++,e.next=3;break;case 14:return p=u(t,n,r),e.abrupt("return",p);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){var t=!1;o.env().get("IS_BROWSER")?t=e instanceof TextDecoder:t=e instanceof n(722).StringDecoder;return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"===typeof e&&!(e instanceof o.Tensor)&&!(e instanceof Promise)&&!t)}function h(e){return null==e||(null===(t=e)||"object"!==typeof t&&"function"!==typeof t)||Array.isArray(e)||"object"===typeof e&&e instanceof o.Tensor||o.util.isTypedArray(e);var t}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(154))},function(e,t,n){var r=n(77);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var r=n(60),a=n(309),i=a.all;e.exports=a.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===i}:function(e){return"object"==typeof e?null!==e:r(e)}},function(e,t,n){var r=n(60),a=n(219),i=TypeError;e.exports=function(e){if(r(e))return e;throw i(a(e)+" is not a function")}},function(e,t,n){var r=n(59),a=n(314),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(a(e),t)}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({log_:function(e){var t={x:Object(i.a)(e,"x","log","float32")};return r.a.runKernel(a.Eb,t)}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n(40);function a(){var e;Object(r.c)().getBool("IS_TEST")||Object(r.c)().getBool("PROD")||(e=console).warn.apply(e,arguments)}function i(){var e;Object(r.c)().getBool("IS_TEST")||Object(r.c)().getBool("PROD")||(e=console).log.apply(e,arguments)}},function(e,t,n){"use strict";var r,a;n.d(t,"a",(function(){return r})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(r||(r={})),function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(a||(a={}))},function(e,t,n){"use strict";var r,a;n.d(t,"a",(function(){return r})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(r||(r={})),function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(a||(a={}))},function(e,t,n){var r=n(108),a=n(315),i=n(316),o=n(134),s=n(280),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor;t.f=r?i?function(e,t,n){if(o(e),t=s(t),o(n),"function"===typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=l(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(o(e),t=s(t),o(n),a)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(59),a=Map.prototype;e.exports={Map:Map,set:r(a.set),get:r(a.get),has:r(a.has),remove:r(a.delete),proto:a}},function(e,t,n){var r=n(59),a=n(139),i=n(118),o=i.Map,s=i.proto,u=r(s.forEach),c=r(s.entries),l=c(new o).next;e.exports=function(e,t,n){return n?a(c(e),(function(e){return t(e[1],e[0])}),l):u(e,t)}},function(e,t,n){(function(r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,a=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(a=r))})),t.splice(a,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"."}).DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=n(685)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(171))},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(691),a=n(350);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?a(e):t}},function(e,t,n){var r=n(692);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){"use strict";var r=n(18);function a(e,t,n){var r=function(e,t,n){return function(e,t,n){var r=0,a=e.length,i=0,o=!1;for(;r<a;){var s=n(t,e[i=r+(a-r>>>1)]);s>0?r=i+1:(a=i,o=!s)}return o?r:-r-1}(e,t,n||i)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function i(e,t){return e>t?1:e<t?-1:0}function o(e,t,n,r,a){return c(e,t,n,r,a,0)}function s(e,t,n,r,a,i){return c(e,t,n,r,a,0,!1,i,!0)}function u(e,t,n,r,a,i){return c(e,t,n,r,a,i,!0)}function c(e,t,n,i,o,s){for(var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],f=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=[],m=0;m<t.length;m++)t[m]>o&&h.push({score:t[m],boxIndex:m,suppressBeginIndex:0});h.sort(p);for(var v=s>0?-.5/s:0,b=[],g=[];b.length<n&&h.length>0;){var y=h.pop(),_=y.score,x=y.boxIndex,k=y.suppressBeginIndex;if(_<o)break;for(var w=!1,O=b.length-1;O>=k;--O){var j=l(e,x,b[O]);if(j>=i){w=!0;break}if(y.score=y.score*d(i,v,j),y.score<=o)break}y.suppressBeginIndex=b.length,w||(y.score===_?(b.push(x),g.push(y.score)):y.score>o&&a(h,y,p))}var S=b.length,C=n-S;c&&C>0&&(b.push.apply(b,Object(r.a)(new Array(C).fill(0))),g.push.apply(g,Object(r.a)(new Array(C).fill(0))));var T={selectedIndices:b};return u&&(T.selectedScores=g),f&&(T.validOutputs=S),T}function l(e,t,n){var r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(a[0],a[2]),l=Math.min(a[1],a[3]),d=Math.max(a[0],a[2]),p=Math.max(a[1],a[3]),f=(s-i)*(u-o),h=(d-c)*(p-l);if(f<=0||h<=0)return 0;var m=Math.max(i,c),v=Math.max(o,l),b=Math.min(s,d),g=Math.min(u,p),y=Math.max(b-m,0)*Math.max(g-v,0);return y/(f+h-y)}function d(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function p(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12),a=n(8),i=n(21);function o(e,t,n){Object(i.c)(e);var o={shape:e,value:t,dtype:n=n||Object(i.r)(t)};return r.a.runKernel(a.gb,{},o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12),a=n(21),i=n(79);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(Object(a.c)(e),"complex64"===t){var n=o(e,"float32"),s=o(e,"float32");return Object(i.a)(n,s)}var u=Object(a.E)(Object(a.N)(e),t);return r.a.makeTensor(u,e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({relu_:function(e){var t={x:Object(i.a)(e,"x","relu")};return r.a.runKernel(a.vc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({step_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:Object(i.a)(e,"x","step")},o={alpha:t};return r.a.runKernel(a.cd,n,o)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(10);var u=Object(s.b)({unstack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.a)(e,"x","unstack","string_or_numeric");o.b(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")}));var s={value:n},u={axis:t};return r.a.runKernel(a.rd,s,u)}})},function(e,t,n){"use strict";var r=n(12),a=n(8),i=n(6),o=n(21),s=n(20);var u=n(10);n.d(t,"a",(function(){return c}));var c=Object(u.b)({batchNorm_:function(e,t,n,u,c,l){null==l&&(l=.001);var d,p,f=Object(i.a)(e,"x","batchNorm"),h=Object(i.a)(t,"mean","batchNorm"),m=Object(i.a)(n,"variance","batchNorm");null!=c&&(d=Object(i.a)(c,"scale","batchNorm")),null!=u&&(p=Object(i.a)(u,"offset","batchNorm")),o.b(h.rank===m.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),o.b(null==p||h.rank===p.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),o.b(null==d||h.rank===d.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var v={x:function(e){return 0===e.rank||1===e.rank?Object(s.a)(e,[1,1,1,e.size]):2===e.rank?Object(s.a)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?Object(s.a)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}(f),scale:d,offset:p,mean:h,variance:m},b={varianceEpsilon:l},g=r.a.runKernel(a.lb,v,b);return Object(s.a)(g,f.shape)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(6),a=n(76);function i(e,t,n){var i=Object(r.c)(e,n);return Object(a.a)(e,t,i,n)}},function(e,t,n){var r=n(712),a=n(713),i=n(714),o=n(715),s=n(716),u=n(717),c=n(718);c.alea=r,c.xor128=a,c.xorwow=i,c.xorshift7=o,c.xor4096=s,c.tychei=u,e.exports=c},function(e,t,n){var r=n(109),a=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw i(a(e)+" is not an object")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(34),c=n(10);var l=Object(c.b)({less_:function(e,t){var n=Object(s.a)(e,"a","less","string_or_numeric"),c=Object(s.a)(t,"b","less","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),d=Object(r.a)(l,2);n=d[0],c=d[1],Object(u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.a.runKernel(i.Bb,p)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({mean_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={x:Object(i.a)(e,"x","mean")},s={axis:t,keepDims:n};return r.a.runKernel(a.Ub,o,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(34),c=n(28),l=n(10);var d=Object(l.b)({minimum_:function(e,t){var n=Object(s.a)(e,"a","minimum"),l=Object(s.a)(t,"b","minimum"),d=Object(o.makeTypesMatch)(n,l),p=Object(r.a)(d,2);n=p[0],l=p[1],"bool"===n.dtype&&(n=Object(c.a)(n,"int32"),l=Object(c.a)(l,"int32")),Object(u.assertAndGetBroadcastShape)(n.shape,l.shape);var f={a:n,b:l};return a.a.runKernel(i.Wb,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({real_:function(e){var t={input:Object(i.a)(e,"input","real")};return r.a.runKernel(a.sc,t)}})},function(e,t,n){var r=n(65);e.exports=function(e,t,n){for(var a,i,o=n||e.next;!(a=r(o,e)).done;)if(void 0!==(i=t(a.value)))return i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return y})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return m}));var r=n(2),a=n.n(r),i=n(7),o=n(4),s=n(11),u=n(21),c=n(66),l="://",d=function(){function e(){Object(o.a)(this,e),this.managers={}}return Object(s.a)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerManager",value:function(t,n){Object(u.b)(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(l)&&(t=t.slice(0,t.indexOf(l))),Object(u.b)(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();Object(u.b)(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '".concat(t,"'.")})),r.managers[t]=n}},{key:"getManager",value:function(t){var n=e.getInstance().managers[t];if(null==n)throw new Error("Cannot find model manager for scheme '".concat(t,"'"));return n}},{key:"getSchemes",value:function(){return Object.keys(e.getInstance().managers)}}]),e}();function p(e){if(-1===e.indexOf(l))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(d.getSchemes().join(",")));return{scheme:e.split(l)[0],path:e.split(l)[1]}}function f(e,t){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(a.a.mark((function e(t,n){var r,i,o,s,l,f,h,m,v,b,g=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.length>2&&void 0!==g[2]&&g[2],Object(u.b)(t!==n,(function(){return"Old path and new path are the same: '".concat(t,"'")})),i=c.a.getLoadHandlers(t),Object(u.b)(i.length>0,(function(){return"Copying failed because no load handler is found for source URL ".concat(t,".")})),Object(u.b)(i.length<2,(function(){return"Copying failed because more than one (".concat(i.length,") ")+"load handlers for source URL ".concat(t,".")})),o=i[0],s=c.a.getSaveHandlers(n),Object(u.b)(s.length>0,(function(){return"Copying failed because no save handler is found for destination "+"URL ".concat(n,".")})),Object(u.b)(s.length<2,(function(){return"Copying failed because more than one (".concat(i.length,") ")+"save handlers for destination URL ".concat(n,".")})),l=s[0],f=p(t).scheme,h=p(t).path,m=f===p(t).scheme,e.next=15,o.load();case 15:if(v=e.sent,!r||!m){e.next=19;break}return e.next=19,d.getManager(f).removeModel(h);case 19:return e.next=21,l.save(v);case 21:if(b=e.sent,!r||m){e.next=25;break}return e.next=25,d.getManager(f).removeModel(h);case 25:return e.abrupt("return",b.modelArtifactsInfo);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(a.a.mark((function e(){var t,n,r,i,o,s,u,c,p,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d.getSchemes(),n={},r=!0,i=!1,o=void 0,e.prev=5,s=t[Symbol.iterator]();case 7:if(r=(u=s.next()).done){e.next=16;break}return c=u.value,e.next=11,d.getManager(c).listModels();case 11:for(f in p=e.sent)n[c+l+f]=p[f];case 13:r=!0,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),i=!0,o=e.t0;case 22:e.prev=22,e.prev=23,r||null==s.return||s.return();case 25:if(e.prev=25,!i){e.next=28;break}throw o;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.abrupt("return",n);case 31:case"end":return e.stop()}}),e,null,[[5,18,22,30],[23,,25,29]])})))).apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p(t),r=d.getManager(n.scheme),e.abrupt("return",r.removeModel(n.path));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return _.apply(this,arguments)}function _(){return(_=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,e.abrupt("return",f(t,n,!1));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,e.abrupt("return",f(t,n,!0));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";n.r(t),n.d(t,"validateUpdateShape",(function(){return i})),n.d(t,"validateInput",(function(){return o})),n.d(t,"calculateShapes",(function(){return s}));var r=n(18),a=n(21);function i(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(a,".");if(n.rank<a)throw new Error(i+" update.rank < ".concat(a,". "));if(e.length<r+(n.rank-a))throw new Error(i+" Output shape length < ".concat(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(i+" update.rank != ".concat(a+e.length-r));for(var o=0;o<a;++o)if(n.shape[o]!==t.shape[o])throw new Error(i+" updates.shape[".concat(o,"] (").concat(n.shape[o],") != indices.shape[").concat(o,"] (").concat(t.shape[o],")."));for(var s=0;s<n.rank-a;++s)if(n.shape[s+a]!==e[s+r])throw new Error(i+" updates.shape[".concat(s+a,"] (").concat(n.shape[s+a],") != shape[").concat(s+a,"] (").concat(e[s+a],")"))}function o(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}i(n,t,e)}function s(e,t,n){for(var i=t.shape.length,o=i>1?t.shape[i-1]:1,s=n.length,u=1,c=o;c<s;++c)u*=n[c];var l=o<1?1:o;return{sliceRank:o,numUpdates:Object(a.N)(t.shape)/l,sliceSize:u,strides:[].concat(Object(r.a)(Object(a.j)(n.slice(0,o))),[1]),outputSize:Object(a.N)(n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(34),c=n(28),l=n(10);var d=Object(l.b)({maximum_:function(e,t){var n=Object(s.a)(e,"a","maximum"),l=Object(s.a)(t,"b","maximum"),d=Object(o.makeTypesMatch)(n,l),p=Object(r.a)(d,2);n=p[0],l=p[1],"bool"===n.dtype&&(n=Object(c.a)(n,"int32"),l=Object(c.a)(l,"int32")),Object(u.assertAndGetBroadcastShape)(n.shape,l.shape);var f={a:n,b:l};return a.a.runKernel(i.Tb,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(2),a=n.n(r),i=n(7),o=n(4),s=n(17),u=n(13),c=n(11),l=n(16),d=n(12),p=n(48),f=n(31),h=n(22),m=n(37),v=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this))).learningRate=e,n.setLearningRate(e),n}return Object(l.a)(t,e),Object(c.a)(t,null,[{key:"className",get:function(){return"SGD"}}]),Object(c.a)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var i=d.a.registeredVariables[n];Object(p.t)((function(){var e=Object(f.a)(Object(h.a)(t.c,a),i);i.assign(e)}))}})),this.incrementIterations()}},{key:"setLearningRate",value:function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=Object(p.l)(Object(m.a)(-e))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:if(0===(t=e.sent).length){e.next=5;break}throw new Error("SGD optimizer does not have settable weights.");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate)}}]),t}(n(85).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(10);var u=Object(s.b)({batchToSpaceND_:function(e,t,n){var s=Object(i.a)(e,"x","batchToSpaceND"),u=t.reduce((function(e,t){return e*t}));o.b(s.rank>=1+t.length,(function(){return"input rank is ".concat(s.rank," but should be > than blockShape.length ").concat(t.length)})),o.b(n.length===t.length,(function(){return"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length)})),o.b(s.shape[0]%u===0,(function(){return"input tensor batch is ".concat(s.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(u)}));var c={x:s},l={blockShape:t,crops:n};return r.a.runKernel(a.t,c,l)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(41),u=n(10),c=n(20);var l=Object(u.b)({depthwiseConv2d_:function(e,t,n,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],p=arguments.length>6?arguments[6]:void 0,f=Object(i.a)(e,"x","depthwiseConv2d","float32"),h=Object(i.a)(t,"filter","depthwiseConv2d","float32"),m=f,v=!1;3===f.rank&&(v=!0,m=Object(c.a)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),o.b(4===m.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(m.rank,".")})),o.b(4===h.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(h.rank,".")}));var b="NHWC"===l?m.shape[3]:m.shape[1];o.b(b===h.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels "+"(".concat(b,") must match the inChannels dimension in ")+"filter ".concat(h.shape[2],".")})),s.a("depthwiseConv2d",u,p);var g={x:m,filter:h},y={strides:n,pad:u,dataFormat:l,dilations:d,dimRoundingMode:p},_=r.a.runKernel(a.Q,g,y);return v?Object(c.a)(_,[_.shape[1],_.shape[2],_.shape[3]]):_}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(34),c=n(10);var l=Object(c.b)({equal_:function(e,t){var n=Object(s.a)(e,"a","equal","string_or_numeric"),c=Object(s.a)(t,"b","equal","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),d=Object(r.a)(l,2);n=d[0],c=d[1],Object(u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.a.runKernel(i.ab,p)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(6),a=n(21),i=n(69),o=n(62),s=n(104),u=n(161),c=n(10),l=n(80),d=n(20),p=n(37),f=n(57),h=n(45),m=n(35);var v=Object(c.b)({norm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],v=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===t.rank)return Object(i.a)(t);if(1!==t.rank&&null===r)return e(Object(d.a)(t,[-1]),n,r);if(1===t.rank||"number"===typeof r||Array.isArray(r)&&1===r.length){if(1===n)return Object(m.a)(Object(i.a)(t),r);if(n===1/0)return Object(s.a)(Object(i.a)(t),r);if(n===-1/0)return Object(u.a)(Object(i.a)(t),r);if("euclidean"===n||2===n)return Object(f.a)(Object(m.a)(Object(l.a)(Object(i.a)(t),Object(p.a)(2,"int32")),r));throw new Error("Error in norm: invalid ord value: ".concat(n))}if(Array.isArray(r)&&2===r.length){if(1===n)return Object(s.a)(Object(m.a)(Object(i.a)(t),r[0]),r[1]-1);if(n===1/0)return Object(s.a)(Object(m.a)(Object(i.a)(t),r[1]),r[0]);if(n===-1/0)return Object(u.a)(Object(m.a)(Object(i.a)(t),r[1]),r[0]);if("fro"===n||"euclidean"===n)return Object(f.a)(Object(m.a)(Object(h.a)(t),r));throw new Error("Error in norm: invalid ord value: ".concat(n))}throw new Error("Error in norm: invalid axis: ".concat(r))}(e=Object(r.a)(e,"x","norm"),t,n),b=v.shape;if(c){var g=Object(a.H)(n,e.shape);b=o.e(v.shape,g)}return Object(d.a)(v,b)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({gather_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s={x:Object(i.a)(e,"x","gather"),indices:Object(i.a)(t,"indices","gather","int32")},u={axis:n,batchDims:o};return r.a.runKernel(a.pb,s,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({imag_:function(e){var t={input:Object(i.a)(e,"input","imag")};return r.a.runKernel(a.ub,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({logicalNot_:function(e){var t={x:Object(i.a)(e,"x","logicalNot","bool")};return r.a.runKernel(a.Ib,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(10);var u=Object(s.b)({spaceToBatchND_:function(e,t,n){var s=Object(i.a)(e,"x","spaceToBatchND");o.b(s.rank>=1+t.length,(function(){return"input rank ".concat(s.rank," should be > than [blockShape] ").concat(t.length)})),o.b(n.length===t.length,(function(){return"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length)})),o.b(s.shape.reduce((function(e,r,a){return a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e}),!0),(function(){return"input spatial dimensions ".concat(s.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())}));var u={x:s},c={blockShape:t,paddings:n};return r.a.runKernel(a.Rc,u,c)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(6),a=n(21),i=n(10),o=n(20);var s=Object(i.b)({squeeze_:function(e,t){var n=Object(r.a)(e,"x","squeeze","string_or_numeric");return Object(o.a)(n,Object(a.P)(n.shape,t).newShape)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(102),u=n(10),c=n(20);var l=Object(u.b)({broadcastTo_:function(e,t){var n=Object(i.a)(e,"broadcastTo","x"),u=n.shape;if(Object(o.c)(t),t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){for(var l=n.shape.slice();l.length<t.length;)l.unshift(1);n=Object(c.a)(n,l)}for(var d=n.shape,p=Array.from(t),f=t.length-1;f>=0;f--)if(d[f]===t[f])p[f]=1;else if(1!==n.shape[f])throw new Error("broadcastTo(): [".concat(u,"] cannot be broadcast to [").concat(t,"]."));if(0===p.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0})).length)return Object(s.a)(n);var h={x:n},m={reps:p};return r.a.runKernel(a.md,h,m)}})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return null===e||void 0===e}},function(e,t,n){var r=n(167),a=n(60),i=n(557),o=n(109),s=r("Set");e.exports=function(e){return function(e){return o(e)&&"number"==typeof e.size&&a(e.has)&&a(e.keys)}(e)?e:i(e)?new s(e):e}},function(e,t,n){var r=n(110),a=n(134),i=n(65),o=n(224),s=TypeError,u=Math.max,c=function(e,t,n,r){this.set=e,this.size=t,this.has=n,this.keys=r};c.prototype={getIterator:function(){return a(i(this.keys,this.set))},includes:function(e){return i(this.has,this.set,e)}},e.exports=function(e){a(e);var t=+e.size;if(t!=t)throw s("Invalid size");return new c(e,u(o(t),0),r(e.has),r(e.keys))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r={};function a(e){return r[e]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r={};function a(e){return r[e]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({cumprod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s={x:Object(i.a)(e,"x","cumprod")},u={axis:t,exclusive:n,reverse:o};return r.a.runKernel(a.M,s,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({min_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={x:Object(i.a)(e,"x","min")},s={axis:t,keepDims:n};return r.a.runKernel(a.Vb,o,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({oneHot_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));var u={indices:Object(i.a)(e,"indices","oneHot","int32")},c={dtype:s,depth:t,onValue:n,offValue:o};return r.a.runKernel(a.gc,u,c)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(21),o=n(10);var s=Object(o.b)({ifft_:function(e){Object(i.b)("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return r.a.runKernel(a.sb,t)}})},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/assets/",n(n.s=30)}([function(e,t,n){"use strict";(function(e,r,a){n.d(t,"bb",(function(){return C})),n.d(t,"Y",(function(){return T})),n.d(t,"U",(function(){return N})),n.d(t,"ib",(function(){return D})),n.d(t,"Z",(function(){return P})),n.d(t,"zb",(function(){return W})),n.d(t,"ab",(function(){return X})),n.d(t,"t",(function(){return Z})),n.d(t,"v",(function(){return ee})),n.d(t,"w",(function(){return te})),n.d(t,"x",(function(){return re})),n.d(t,"y",(function(){return ae})),n.d(t,"A",(function(){return ie})),n.d(t,"C",(function(){return oe})),n.d(t,"Eb",(function(){return se})),n.d(t,"E",(function(){return ue})),n.d(t,"G",(function(){return pe})),n.d(t,"qb",(function(){return he})),n.d(t,"N",(function(){return be})),n.d(t,"T",(function(){return _e})),n.d(t,"u",(function(){return ke})),n.d(t,"X",(function(){return Se})),n.d(t,"m",(function(){return Ce})),n.d(t,"L",(function(){return Te})),n.d(t,"H",(function(){return Ne})),n.d(t,"tb",(function(){return Ee})),n.d(t,"I",(function(){return Ie})),n.d(t,"K",(function(){return Ae})),n.d(t,"M",(function(){return Re})),n.d(t,"O",(function(){return De})),n.d(t,"P",(function(){return Le})),n.d(t,"Q",(function(){return ze})),n.d(t,"R",(function(){return Ue})),n.d(t,"S",(function(){return We})),n.d(t,"V",(function(){return He})),n.d(t,"W",(function(){return $e})),n.d(t,"db",(function(){return Ke})),n.d(t,"eb",(function(){return Xe})),n.d(t,"o",(function(){return Qe})),n.d(t,"B",(function(){return nt})),n.d(t,"Db",(function(){return at})),n.d(t,"r",(function(){return ot})),n.d(t,"F",(function(){return st})),n.d(t,"z",(function(){return ut})),n.d(t,"j",(function(){return ct})),n.d(t,"n",(function(){return lt})),n.d(t,"fb",(function(){return dt})),n.d(t,"p",(function(){return pt})),n.d(t,"wb",(function(){return ht})),n.d(t,"b",(function(){return mt})),n.d(t,"f",(function(){return bt})),n.d(t,"g",(function(){return Tt})),n.d(t,"l",(function(){return It})),n.d(t,"k",(function(){return Rt})),n.d(t,"a",(function(){return Ft})),n.d(t,"rb",(function(){return Pt})),n.d(t,"yb",(function(){return Bt})),n.d(t,"gb",(function(){return Vt})),n.d(t,"xb",(function(){return Ut})),n.d(t,"s",(function(){return Wt})),n.d(t,"hb",(function(){return Ht})),n.d(t,"jb",(function(){return Gt})),n.d(t,"c",(function(){return Kt})),n.d(t,"e",(function(){return Xt})),n.d(t,"J",(function(){return Zt})),n.d(t,"kb",(function(){return Jt})),n.d(t,"lb",(function(){return en})),n.d(t,"mb",(function(){return tn})),n.d(t,"nb",(function(){return nn})),n.d(t,"ob",(function(){return rn})),n.d(t,"pb",(function(){return an})),n.d(t,"Ab",(function(){return sn})),n.d(t,"cb",(function(){return cn})),n.d(t,"h",(function(){return dn})),n.d(t,"D",(function(){return pn})),n.d(t,"i",(function(){return fn})),n.d(t,"sb",(function(){return hn})),n.d(t,"d",(function(){return bn})),n.d(t,"ub",(function(){return gn})),n.d(t,"vb",(function(){return yn})),n.d(t,"Bb",(function(){return _n})),n.d(t,"Cb",(function(){return xn})),n.d(t,"Fb",(function(){return kn})),n.d(t,"Gb",(function(){return wn})),n.d(t,"Hb",(function(){return On}));var i,o,s,u,c,l,d,p,f,h,m,v,b,g,y,_,x,k,w,O=n(12),j=n.n(O),S={},C=S.last=function(e){var t=e?e.length:0;if(t)return e[t-1]},T=S.isUndef=function(e){return void 0===e},N=S.isObj=function(e){var t=j()(e);return!!e&&("function"===t||"object"===t)},E=S.has=(i=Object.prototype.hasOwnProperty,function(e,t){return i.call(e,t)}),I=S.slice=function(e,t,n){var r=e.length;t=null==t?0:t<0?Math.max(r+t,0):Math.min(t,r),n=null==n?r:n<0?Math.max(r+n,0):Math.min(n,r);for(var a=[];t<n;)a.push(e[t++]);return a},A=S.reverse=function(e){var t=e.length,n=Array(t);t--;for(var r=0;r<=t;r++)n[t-r]=e[r];return n},R=S.isBrowser="object"===("undefined"==typeof window?"undefined":j()(window))&&"object"===("undefined"==typeof document?"undefined":j()(document))&&9===document.nodeType,D=S.noop=function(){},M=S.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},F=S.splitCase=(o=/([A-Z])/g,s=/[_.\- ]+/g,u=/(^-)|(-$)/g,function(e){return(e=e.replace(o,"-$1").toLowerCase().replace(s,"-").replace(u,"")).split("-")}),L=S.camelCase=function(e){function t(e,t){this[t]=e.replace(/\w/,(function(e){return e.toUpperCase()}))}return function(e){var n=F(e),r=n[0];return n.shift(),n.forEach(t,n),r+n.join("")}}(),P=S.kebabCase=function(e){return F(e).join("-")},z=S.clamp=function(e,t,n){return T(n)&&(n=t,t=void 0),!T(t)&&e<t?t:e>n?n:e},B=S.idxOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},V=S.create=function(e){e=function(e){if(!N(e))return{};if(t)return t(e);function n(){}return n.prototype=e,new n};var t=Object.create;return e}({}),U=S.inherits=function(e,t){e.prototype=V(t.prototype)},W=S.toStr=function(e){return null==e?"":e.toString()},H=S.debounce=function(e,t,n){var r;return function(){var a=this,i=arguments,o=function(){r=null,e.apply(a,i)};n||clearTimeout(r),n&&r||(r=setTimeout(o,t))}},G=S.ucs2={encode:function(e){return String.fromCodePoint.apply(String,e)},decode:function(e){for(var t=[],n=0,r=e.length;n<r;){var a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&a)<<10)+(1023&i)+65536):(t.push(a),n--)}else t.push(a)}return t}},$=S.utf8=function(e){e={encode:function(e){for(var t=G.decode(e),n="",r=0,a=t.length;r<a;r++)n+=l(t[r]);return n},decode:function(e,c){t=G.decode(e),n=0,r=t.length,a=0,i=0,o=0,s=128,u=191;for(var l,p=[];!1!==(l=d(c));)p.push(l);return G.encode(p)}};var t,n,r,a,i,o,s,u,c=String.fromCharCode;function l(e){if(0==(4294967168&e))return c(e);var t,n,r="";for(0==(4294965248&e)?(t=1,n=192):0==(4294901760&e)?(t=2,n=224):0==(4292870144&e)&&(t=3,n=240),r+=c((e>>6*t)+n);t>0;)r+=c(128|63&e>>6*(t-1)),t--;return r}function d(e){for(;;){if(n>=r&&o){if(e)return p();throw new Error("Invalid byte index")}if(n===r)return!1;var c=t[n];if(n++,o){if(c<s||c>u){if(e)return n--,p();throw new Error("Invalid continuation byte")}if(s=128,u=191,a=a<<6|63&c,++i===o){var l=a;return a=0,o=0,i=0,l}}else{if(0==(128&c))return c;if(192==(224&c))o=1,a=31&c;else if(224==(240&c))224===c&&(s=160),237===c&&(u=159),o=2,a=15&c;else{if(240!=(248&c)){if(e)return p();throw new Error("Invalid UTF-8 detected")}240===c&&(s=144),244===c&&(u=143),o=3,a=7&c}}}}function p(){var e=n-i-1;return n=e+1,a=0,o=0,i=0,s=128,u=191,t[e]}return e}({}),q=S.root=R?window:e,K=S.detectMocha=function(e){e=function(){for(var e=0,n=t.length;e<n;e++){var r=t[e];if("function"!=typeof q[r])return!1}return!0};var t=["afterEach","after","beforeEach","before","describe","it"];return e}({}),X=S.keys=Object.keys&&!K()?Object.keys:function(e){var t=[];for(var n in e)E(e,n)&&t.push(n);return t},Y=S.freeze=function(e){return Object.freeze?Object.freeze(e):(X(e).forEach((function(t){Object.getOwnPropertyDescriptor(e,t).configurable&&Object.defineProperty(e,t,{writable:!1,configurable:!1})})),e)},Z=S.detectOs=function(e){if(e=(e=e||(R?navigator.userAgent:"")).toLowerCase(),t("windows phone"))return"windows phone";if(t("win"))return"windows";if(t("android"))return"android";if(t("ipad")||t("iphone")||t("ipod"))return"ios";if(t("mac"))return"os x";if(t("linux"))return"linux";function t(t){return e.indexOf(t)>-1}return"unknown"},Q=S.restArgs=function(e,t){return t=null==t?e.length-1:+t,function(){var n,r=Math.max(arguments.length-t,0),a=new Array(r);for(n=0;n<r;n++)a[n]=arguments[n+t];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,arguments[0],a);case 2:return e.call(this,arguments[0],arguments[1],a)}var i=new Array(t+1);for(n=0;n<t;n++)i[n]=arguments[n];return i[t]=a,e.apply(this,i)}},J=S.optimizeCb=function(e,t,n){if(T(t))return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,a){return e.call(t,n,r,a)};case 4:return function(n,r,a,i){return e.call(t,n,r,a,i)}}return function(){return e.apply(t,arguments)}},ee=(S.types={},S.endWith=function(e,t){var n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}),te=S.escape=function(e){var t=(e=function(e){return r.test(e)?e.replace(a,i):e}).map={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n="(?:"+X(t).join("|")+")",r=new RegExp(n),a=new RegExp(n,"g"),i=function(e){return t[e]};return e}({}),ne=S.escapeJsStr=function(e){e=function(e){return W(e).replace(t,(function(e){switch(e){case'"':case"'":case"\\":return"\\"+e;case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}))};var t=/["'\\\n\r\u2028\u2029]/g;return e}({}),re=S.escapeJsonStr=function(e){return ne(e).replace(/\\'/g,"'").replace(/\t/g,"\\t")},ae=S.escapeRegExp=function(e){return e.replace(/\W/g,"\\$&")},ie=S.fileSize=function(e){e=function(e){if(e<=0)return"0";var n=Math.floor(Math.log(e)/Math.log(1024));return+(e/Math.pow(2,10*n)).toFixed(2)+t[n]};var t=["","K","M","G","T"];return e}({}),oe=S.fullUrl=(c=document.createElement("a"),function(e){return c.href=e,c.protocol+"//"+c.host+c.pathname+c.search+c.hash}),se=S.upperFirst=function(e){return e.length<1?e:e[0].toUpperCase()+e.slice(1)},ue=S.getObjType=function(e){return e.constructor&&e.constructor.name?e.constructor.name:se({}.toString.call(e).replace(/(\[object )|]/g,""))},ce=S.identity=function(e){return e},le=S.objToStr=(l=Object.prototype.toString,function(e){return l.call(e)}),de=S.isArgs=function(e){return"[object Arguments]"===le(e)},pe=S.isArr=Array.isArray||function(e){return"[object Array]"===le(e)},fe=S.castPath=function(e){e=function(e,r){if(pe(e))return e;if(r&&E(r,e))return[e];var a=[];return e.replace(t,(function(e,t,r,i){a.push(r?i.replace(n,"$1"):t||e)})),a};var t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g;return e}({}),he=S.safeGet=function(e,t){var n;for(n=(t=fe(t,e)).shift();!T(n);){if(null==(e=e[n]))return;n=t.shift()}return e},me=S.flatten=function(e){return function e(t,n){for(var r,a=t.length,i=-1;a--;)r=t[++i],pe(r)?e(r,n):n.push(r);return n}(e,[])},ve=S.isDate=function(e){return"[object Date]"===le(e)},be=S.isFn=function(e){var t=le(e);return"[object Function]"===t||"[object GeneratorFunction]"===t||"[object AsyncFunction]"===t},ge=S.getProto=(d=Object.getPrototypeOf,p={}.constructor,function(e){if(N(e)){if(d)return d(e);var t=e.__proto__;return t||null===t?t:be(e.constructor)?e.constructor.prototype:e instanceof p?p.prototype:void 0}}),ye=S.isMiniProgram="undefined"!=typeof wx&&be(wx.openLocation),_e=S.isNum=function(e){return"[object Number]"===le(e)},xe=S.isArrLike=(f=Math.pow(2,53)-1,function(e){if(!e)return!1;var t=e.length;return _e(t)&&t>=0&&t<=f&&!be(e)}),ke=S.each=function(e,t,n){var r,a;if(t=J(t,n),xe(e))for(r=0,a=e.length;r<a;r++)t(e[r],r,e);else{var i=X(e);for(r=0,a=i.length;r<a;r++)t(e[i[r]],i[r],e)}return e},we=S.createAssigner=function(e,t){return function(n){return ke(arguments,(function(r,a){if(0!==a){var i=e(r);ke(i,(function(e){t&&!T(n[e])||(n[e]=r[e])}))}})),n}},Oe=S.extendOwn=we(X),je=S.values=function(e){var t=[];return ke(e,(function(e){t.push(e)})),t},Se=S.isStr=function(e){return"[object String]"===le(e)},Ce=S.contain=function(e,t){return Se(e)?e.indexOf(t)>-1:(xe(e)||(e=je(e)),B(e,t)>=0)},Te=S.isEmpty=function(e){return null==e||(xe(e)&&(pe(e)||Se(e)||de(e))?0===e.length:0===X(e).length)},Ne=S.isBool=function(e){return!0===e||!1===e},Ee=S.startWith=function(e,t){return 0===e.indexOf(t)},Ie=S.isCrossOrig=(h=window.location.origin,function(e){return!Ee(e,h)}),Ae=S.isEl=function(e){return!(!e||1!==e.nodeType)},Re=S.isErr=function(e){return"[object Error]"===le(e)},De=S.isHidden=function(e){var t=q.getComputedStyle,n=q.document;function r(e,t){return e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom}return function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.display,o=void 0===i||i,s=a.visibility,u=void 0!==s&&s,c=a.opacity,l=void 0!==c&&c,d=a.size,p=void 0!==d&&d,f=a.viewport,h=void 0!==f&&f,m=a.overflow,v=void 0!==m&&m;if(o)return null===e.offsetParent;var b=t(e);if(u&&"hidden"===b.visibility)return!0;if(l){if("0"===b.opacity)return!0;for(var g=e;g=g.parentElement;){var y=t(g);if("0"===y.opacity)return!0}}var _=e.getBoundingClientRect();if(p&&(0===_.width||0===_.height))return!0;if(h){var x={top:0,left:0,right:n.documentElement.clientWidth,bottom:n.documentElement.clientHeight};return r(_,x)}if(v)for(var k=e;k=k.parentElement;){var w=t(k),O=w.overflow;if("scroll"===O||"hidden"===O){var j=k.getBoundingClientRect();if(r(_,j))return!0}}return!1}}(),Me=S.isMatch=function(e,t){var n=X(t),r=n.length;if(null==e)return!r;e=Object(e);for(var a=0;a<r;a++){var i=n[a];if(t[i]!==e[i]||!(i in e))return!1}return!0},Fe=S.memoize=function(e,t){var n=function n(r){var a=n.cache,i=""+(t?t.apply(this,arguments):r);return E(a,i)||(a[i]=e.apply(this,arguments)),a[i]};return n.cache={},n},Le=S.isMobile=(m=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,v=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i,Fe((function(e){return e=e||(R?navigator.userAgent:""),m.test(e)||v.test(e.substr(0,4))}))),Pe=S.prefix=function(e){(e=Fe((function(e){if(e=e.replace(n,""),e=L(e),E(r,e))return e;for(var a=t.length;a--;){var i=t[a]+se(e);if(E(r,i))return i}return e}))).dash=Fe((function(t){var r=e(t);return(n.test(r)?"-":"")+P(r)}));var t=["O","ms","Moz","Webkit"],n=/^(O)|(ms)|(Moz)|(Webkit)|(-o-)|(-ms-)|(-moz-)|(-webkit-)/g,r=document.createElement("p").style;return e}({}),ze=S.isNaN=function(e){return _e(e)&&e!==+e},Be=S.isNil=function(e){return null==e},Ve=S.toSrc=function(e){e=function(n){if(Be(n))return"";try{return t.call(n)}catch(e){}try{return n+""}catch(e){}return""};var t=Function.prototype.toString;return e}({}),Ue=S.isNative=function(e){e=function(e){return!!N(e)&&(be(e)?n.test(Ve(e)):r.test(Ve(e)))};var t=Object.prototype.hasOwnProperty,n=new RegExp("^"+Ve(t).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),r=/^\[object .+?Constructor\]$/;return e}({}),We=S.isNull=function(e){return null===e},He=S.isPrimitive=function(e){var t=j()(e);return null==e||"function"!==t&&"object"!==t},Ge=S.isPromise=function(e){return N(e)&&be(e.then)},$e=S.isRegExp=function(e){return"[object RegExp]"===le(e)},qe=S.isSorted=(b={},(b=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.defComparator,n=0,r=e.length;n<r-1;n++)if(t(e[n],e[n+1])>0)return!1;return!0}).defComparator=function(e,t){return e<t?-1:e>t?1:0},b),Ke=S.loadJs=function(e,t){var n=document.createElement("script");n.src=e,n.onload=function(){var e=n.readyState&&"complete"!=n.readyState&&"loaded"!=n.readyState;t&&t(!e)},document.body.appendChild(n)},Xe=S.lowerCase=function(e){return W(e).toLocaleLowerCase()},Ye=S.repeat=function(e,t){var n="";if(t<1)return"";for(;t>0;)1&t&&(n+=e),t>>=1,e+=e;return n},Ze=S.lpad=function(e,t,n){var r=(e=W(e)).length;return n=n||" ",r<t&&(e=(Ye(n,t-r)+e).slice(-t)),e},Qe=S.dateFormat=function(e){e=function(o,s,u,c){1===arguments.length&&Se(o)&&!a.test(o)&&(s=o,o=void 0),o=o||new Date,ve(o)||(o=new Date(o));var l=(s=W(e.masks[s]||s||e.masks.default)).slice(0,4);"UTC:"!==l&&"GMT:"!==l||(s=s.slice(4),u=!0,"GMT:"===l&&(c=!0));var d=u?"getUTC":"get",p=o[d+"Date"](),f=o[d+"Day"](),h=o[d+"Month"](),m=o[d+"FullYear"](),v=o[d+"Hours"](),b=o[d+"Minutes"](),g=o[d+"Seconds"](),y=o[d+"Milliseconds"](),_=u?0:o.getTimezoneOffset(),x={d:p,dd:t(p),ddd:e.i18n.dayNames[f],dddd:e.i18n.dayNames[f+7],m:h+1,mm:t(h+1),mmm:e.i18n.monthNames[h],mmmm:e.i18n.monthNames[h+12],yy:W(m).slice(2),yyyy:m,h:v%12||12,hh:t(v%12||12),H:v,HH:t(v),M:b,MM:t(b),s:g,ss:t(g),l:t(y,3),L:t(Math.round(y/10)),t:v<12?"a":"p",tt:v<12?"am":"pm",T:v<12?"A":"P",TT:v<12?"AM":"PM",Z:c?"GMT":u?"UTC":(W(o).match(r)||[""]).pop().replace(i,""),o:(_>0?"-":"+")+t(100*Math.floor(Math.abs(_)/60)+Math.abs(_)%60,4),S:["th","st","nd","rd"][p%10>3?0:(p%100-p%10!=10)*p%10]};return s.replace(n,(function(e){return e in x?x[e]:e.slice(1,e.length-1)}))};var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Ze(W(e),t,"0")},n=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,r=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/\d/,i=/[^-+\dA-Z]/g;return e.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},e.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},e}({}),Je=S.ltrim=(g=/^\s+/,function(e,t){if(null==t)return e.replace(g,"");for(var n,r,a=0,i=e.length,o=t.length,s=!0;s&&a<i;)for(s=!1,n=-1,r=e.charAt(a);++n<o;)if(r===t[n]){s=!0,a++;break}return a>=i?"":e.substr(a,i)}),et=S.matcher=function(e){return e=Oe({},e),function(t){return Me(t,e)}},tt=S.safeCb=function(e,t,n){return null==e?ce:be(e)?J(e,t,n):N(e)?et(e):function(e){return function(t){return null==t?void 0:t[e]}}},nt=S.filter=function(e,t,n){var r=[];return t=tt(t,n),ke(e,(function(e,n,a){t(e,n,a)&&r.push(e)})),r},rt=S.difference=Q((function(e,t){return t=me(t),nt(e,(function(e){return!Ce(t,e)}))})),at=S.unique=function(e){function t(e,t){return e===t}return function(e,n){return n=n||t,nt(e,(function(e,t,r){for(var a=r.length;++t<a;)if(n(e,r[t]))return!1;return!0}))}}(),it=S.allKeys=(y=Object.getOwnPropertyNames,_=Object.getOwnPropertySymbols,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.prototype,r=void 0===n||n,a=t.unenumerable,i=void 0!==a&&a,o=t.symbol,s=void 0!==o&&o,u=[];if((i||s)&&y){var c=X;i&&y&&(c=y);do{u=u.concat(c(e)),s&&_&&(u=u.concat(_(e)))}while(r&&(e=ge(e))&&e!==Object.prototype);u=at(u)}else if(r)for(var l in e)u.push(l);else u=X(e);return u}),ot=S.defaults=we(it,!0),st=S.highlight=function(e){e=function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"js",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ot(i,t),r=r.replace(/</g,"&lt;").replace(/>/g,"&gt;"),a=n[a];var o=0,s=[];ke(a,(function(t){t.language&&(r=r.replace(t.re,(function(n,r){return s[o++]=e(r,t.language,i),n.replace(r,"___subtmpl"+(o-1)+"___")})))})),ke(a,(function(e,t){n[e.language]||(r=r.replace(e.re,"___"+t+"___$1___end"+t+"___"))}));var u=[];return r=r.replace(/___(?!subtmpl)\w+?___/g,(function(e){var t="end"===e.substr(3,3),n=(t?e.substr(6):e.substr(3)).replace(/_/g,""),r=u.length>0?u[u.length-1]:null;return!t&&(null==r||n==r||null!=r&&a[r]&&null!=a[r].embed&&a[r].embed.indexOf(n)>-1)?(u.push(n),e):t&&n==r?(u.pop(),e):""})),ke(a,(function(e,t){r=r.replace(new RegExp("___end"+t+"___","g"),"</span>").replace(new RegExp("___"+t+"___","g"),'<span style="'+i[e.style]+'">')})),ke(a,(function(e){e.language&&(r=r.replace(/___subtmpl\d+___/g,(function(e){var t=parseInt(e.replace(/___subtmpl(\d+)___/,"$1"),10);return s[t]})))})),r};var t={comment:"color:#63a35c;",string:"color:#183691;",number:"color:#0086b3;",keyword:"color:#a71d5d;",operator:"color:#994500;"},n={js:{comment:{re:/(\/\/.*|\/\*([\s\S]*?)\*\/)/g,style:"comment"},string:{re:/(('.*?')|(".*?"))/g,style:"string"},numbers:{re:/(-?(\d+|\d+\.\d+|\.\d+))/g,style:"number"},keywords:{re:/(?:\b)(function|for|foreach|while|if|else|elseif|switch|break|as|return|this|class|self|default|var|const|let|false|true|null|undefined)(?:\b)/gi,style:"keyword"},operator:{re:/(\+|-|\/|\*|%|=|&lt;|&gt;|\||\?|\.)/g,style:"operator"}}};return n.html={comment:{re:/(&lt;!--([\s\S]*?)--&gt;)/g,style:"comment"},tag:{re:/(&lt;\/?\w(.|\n)*?\/?&gt;)/g,style:"keyword",embed:["string"]},string:n.js.string,css:{re:/(?:&lt;style.*?&gt;)([\s\S]*)?(?:&lt;\/style&gt;)/gi,language:"css"},script:{re:/(?:&lt;script.*?&gt;)([\s\S]*?)(?:&lt;\/script&gt;)/gi,language:"js"}},n.css={comment:n.js.comment,string:n.js.string,numbers:{re:/((-?(\d+|\d+\.\d+|\.\d+)(%|px|em|pt|in)?)|#[0-9a-fA-F]{3}[0-9a-fA-F]{3})/g,style:"number"},keywords:{re:/(@\w+|:?:\w+|[a-z-]+:)/g,style:"keyword"}},e}({}),ut=S.extend=we(it),ct=S.clone=function(e){return N(e)?pe(e)?e.slice():ut({},e):e},lt=S.copy=function(e,t){t=t||D;var n=document.createElement("textarea"),r=document.body;ut(n.style,{fontSize:"12pt",border:"0",padding:"0",margin:"0",position:"absolute",left:"-9999px"}),n.value=e,r.appendChild(n),n.setAttribute("readonly",""),n.select(),n.setSelectionRange(0,e.length);try{document.execCommand("copy"),t()}catch(e){t(e)}finally{r.removeChild(n)}},dt=S.map=function(e,t,n){t=tt(t,n);for(var r=!xe(e)&&X(e),a=(r||e).length,i=Array(a),o=0;o<a;o++){var s=r?r[o]:o;i[o]=t(e[s],s,e)}return i},pt=S.decodeUriComponent=function(e){function t(e){return+("0x"+e)}e=function(e){try{return decodeURIComponent(e)}catch(a){var r=e.match(n);return r?(ke(r,(function(n){e=e.replace(n,function(e){e=e.split("%").slice(1);var n=dt(e,t);return e=G.encode(n),$.decode(e,!0)}(n))})),e):e}};var n=/(%[a-f0-9]{2})+/gi;return e}({}),ft=S.cookie=function(e){var t={path:"/"};function n(n,r,a){if(!T(r)){if(a=ot(a=a||{},t),_e(a.expires)){var i=new Date;i.setMilliseconds(i.getMilliseconds()+864e5*a.expires),a.expires=i}return r=encodeURIComponent(r),n=encodeURIComponent(n),document.cookie=[n,"=",r,a.expires&&"; expires="+a.expires.toUTCString(),a.path&&"; path="+a.path,a.domain&&"; domain="+a.domain,a.secure?"; secure":""].join(""),e}for(var o=document.cookie?document.cookie.split("; "):[],s=n?void 0:{},u=0,c=o.length;u<c;u++){var l=o[u],d=l.split("="),p=pt(d.shift());if(l=d.join("="),l=pt(l),n===p){s=l;break}n||(s[p]=l)}return s}return e={get:n,set:n,remove:function(e,t){return(t=t||{}).expires=-1,n(e,"",t)}}}({}),ht=S.toArr=function(e){return e?pe(e)?e:xe(e)&&!Se(e)?dt(e):[e]:[]},mt=S.Class=function(e){var t=(e=function(e,n){return t.extend(e,n)}).Base=function e(t,n,r){r=r||{};var a,i=n.className||he(n,"initialize.name")||"";return delete n.className,a=ye?function(){var e=ht(arguments);return this.initialize&&this.initialize.apply(this,e)||this}:new Function("toArr","return function "+i+"(){var args = toArr(arguments);return this.initialize ? this.initialize.apply(this, args) || this : this;};")(ht),U(a,t),a.prototype.constructor=a,a.extend=function(t,n){return e(a,t,n)},a.inherits=function(e){U(a,e)},a.methods=function(e){return ut(a.prototype,e),a},a.statics=function(e){return ut(a,e),a},a.methods(n).statics(r),a}(Object,{className:"Base",callSuper:function(e,t,n){return e.prototype[t].apply(this,n)},toString:function(){return this.constructor.name}});return e}({}),vt=S.Enum=mt({initialize:function(e){pe(e)?(this.size=e.length,ke(e,(function(e,t){this[e]=t}),this)):(this.size=X(e).length,ke(e,(function(e,t){this[t]=e}),this)),Y(this)}}),bt=S.MutationObserver=function(e){return(e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)||(e=mt({initialize:function(){},observe:function(){},disconnect:function(){},takeRecords:function(){}})),e}({}),gt=S.Select=function(e){var t=new(e=mt({className:"Select",initialize:function(e){return this.length=0,e?Se(e)?t.find(e):void(e.nodeType&&(this[0]=e,this.length=1)):this},find:function(t){var n=new e;return this.each((function(){!function(e,t){for(var n=t.length,r=e.length,a=0;a<n;a++)e[r++]=t[a];e.length=r}(n,this.querySelectorAll(t))})),n},each:function(e){return ke(this,(function(t,n){e.call(t,n,t)})),this}}))(document);return e}({}),yt=S.$safeEls=function(e){return ht(Se(e)?new gt(e):e)},_t=S.$attr=function(e){return(e=function(e,t,n){if(e=yt(e),T(n)&&Se(t))return function(e,t){return e.getAttribute(t)}(e[0],t);var r=t;N(r)||((r={})[t]=n),function(e,t){ke(e,(function(e){ke(t,(function(t,n){e.setAttribute(n,t)}))}))}(e,r)}).remove=function(e,t){e=yt(e),t=ht(t),ke(e,(function(e){ke(t,(function(t){e.removeAttribute(t)}))}))},e}({}),xt=S.$css=function(e){e=function(e,n,r){if(e=yt(e),T(r)&&Se(n))return function(e,t){return e.style[Pe(t)]||getComputedStyle(e,"").getPropertyValue(t)}(e[0],n);var a=n;N(a)||((a={})[n]=r),function(e,n){ke(e,(function(e){var r=";";ke(n,(function(e,n){n=Pe.dash(n),r+=n+":"+function(e,n){return _e(n)&&!Ce(t,P(e))?n+"px":n}(n,e)+";"})),e.style.cssText+=r}))}(e,a)};var t=["column-count","columns","font-weight","line-weight","opacity","z-index","zoom"];return e}({}),kt=S.$data=function(e,t,n){var r=t;return Se(t)&&(r="data-"+t),N(t)&&(r={},ke(t,(function(e,t){r["data-"+t]=e}))),_t(e,r,n)},wt=S.$insert=function(e){function t(e){return function(t,n){t=yt(t),ke(t,(function(t){t.insertAdjacentHTML(e,n)}))}}return{before:t("beforebegin"),after:t("afterend"),append:t("beforeend"),prepend:t("afterbegin")}}(),Ot=S.$offset=function(e){var t=(e=yt(e))[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},jt=S.$property=function(e){function t(e){return function(t,n){var r=(t=yt(t))[0];if(T(n))return r?r[e]:"";r&&ke(t,(function(t){t[e]=n}))}}return{html:t("innerHTML"),text:t("textContent"),val:t("value")}}(),St=S.$remove=function(e){e=yt(e),ke(e,(function(e){var t=e.parentNode;t&&t.removeChild(e)}))},Ct=S.$show=function(e){e=function(e){e=yt(e),ke(e,(function(e){(function(e){return"none"==getComputedStyle(e,"").getPropertyValue("display")})(e)&&(e.style.display=function(e){var n,r;return t[e]||(n=document.createElement(e),document.documentElement.appendChild(n),r=getComputedStyle(n,"").getPropertyValue("display"),n.parentNode.removeChild(n),"none"==r&&(r="block"),t[e]=r),t[e]}(e.nodeName))}))};var t={};return e}({}),Tt=S.Stack=mt({initialize:function(){this.clear()},clear:function(){this._items=[],this.size=0},push:function(e){return this._items.push(e),++this.size},pop:function(){if(this.size)return this.size--,this._items.pop()},peek:function(){return this._items[this.size-1]},forEach:function(e,t){t=arguments.length>1?t:this;for(var n=this._items,r=this.size-1,a=0;r>=0;r--,a++)e.call(t,n[r],a,this)},toArr:function(){return A(this._items)}}),Nt=S.delegate=function(e){function t(){return!0}function n(){return!1}function r(t){var n,r=this.events[t.type],i=a.call(this,t,r);t=new e.Event(t);for(var o,s,u=0;(s=i[u++])&&!t.isPropagationStopped();)for(t.curTarget=s.el,o=0;(n=s.handlers[o++])&&!t.isImmediatePropagationStopped();)!1===n.handler.apply(s.el,[t])&&(t.preventDefault(),t.stopPropagation())}function a(e,t){var n,r,a,i,o=e.target,s=[],u=t.delegateCount;if(o.nodeType)for(;o!==this;o=o.parentNode||this){for(r=[],i=0;i<u;i++)void 0===r[n=(a=t[i]).selector+" "]&&(r[n]=Ce(this.querySelectorAll(n),o)),r[n]&&r.push(a);r.length&&s.push({el:o,handlers:r})}return u<t.length&&s.push({el:this,handlers:t.slice(u)}),s}return e={add:function(e,t,n,a){var i,o={selector:n,handler:a};e.events||(e.events={}),(i=e.events[t])||((i=e.events[t]=[]).delegateCount=0,e.addEventListener(t,(function(){r.apply(e,arguments)}),!1)),n?i.splice(i.delegateCount++,0,o):i.push(o)},remove:function(e,t,n,r){var a=e.events;if(a&&a[t])for(var i,o=a[t],s=o.length;s--;)i=o[s],n&&i.selector!=n||i.handler!=r||(o.splice(s,1),i.selector&&o.delegateCount--)},Event:mt({className:"Event",initialize:function(e){this.origEvent=e},isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){var e=this.origEvent;this.isDefaultPrevented=t,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.origEvent;this.isPropagationStopped=t,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.origEvent;this.isImmediatePropagationStopped=t,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}})}}({}),Et=S.$event=function(e){function t(e){return function(t,n,r,a){t=yt(t),T(a)&&(a=r,r=void 0),ke(t,(function(t){Nt[e](t,n,r,a)}))}}return{on:t("add"),off:t("remove")}}(),It=S.concat=function(){for(var e=ht(arguments),t=[],n=0,r=e.length;n<r;n++)t=t.concat(ht(e[n]));return t},At=S.mapObj=function(e,t,n){t=tt(t,n);for(var r=X(e),a=r.length,i={},o=0;o<a;o++){var s=r[o];i[s]=t(e[s],s,e)}return i},Rt=S.cloneDeep=(x={},x=function(e){return pe(e)?e.map((function(e){return x(e)})):N(e)&&!be(e)?At(e,(function(e){return x(e)})):e}),Dt=S.some=function(e,t,n){t=tt(t,n);for(var r=!xe(e)&&X(e),a=(r||e).length,i=0;i<a;i++){var o=r?r[i]:i;if(t(e[o],o,e))return!0}return!1},Mt=S.$class=function(e){function t(e){return Se(e)?e.split(/\s+/):ht(e)}return e={add:function(n,r){n=yt(n);var a=t(r);ke(n,(function(t){var n=[];ke(a,(function(r){e.has(t,r)||n.push(r)})),0!==n.length&&(t.className+=(t.className?" ":"")+n.join(" "))}))},has:function(e,t){e=yt(e);var n=new RegExp("(^|\\s)"+t+"(\\s|$)");return Dt(e,(function(e){return n.test(e.className)}))},toggle:function(t,n){t=yt(t),ke(t,(function(t){if(!e.has(t,n))return e.add(t,n);e.remove(t,n)}))},remove:function(e,n){e=yt(e);var r=t(n);ke(e,(function(e){ke(r,(function(t){e.classList.remove(t)}))}))}}}({}),Ft=S.$=function(e){e=function(e){return new gt(e)},gt.methods({offset:function(){return Ot(this)},hide:function(){return this.css("display","none")},show:function(){return Ct(this),this},first:function(){return e(this[0])},last:function(){return e(C(this))},get:function(e){return this[e]},eq:function(t){return e(this[t])},on:function(e,t,n){return Et.on(this,e,t,n),this},off:function(e,t,n){return Et.off(this,e,t,n),this},html:function(e){var t=jt.html(this,e);return T(e)?t:this},text:function(e){var t=jt.text(this,e);return T(e)?t:this},val:function(e){var t=jt.val(this,e);return T(e)?t:this},css:function(e,n){var r=xt(this,e,n);return t(e,n)?r:this},attr:function(e,n){var r=_t(this,e,n);return t(e,n)?r:this},data:function(e,n){var r=kt(this,e,n);return t(e,n)?r:this},rmAttr:function(e){return _t.remove(this,e),this},remove:function(){return St(this),this},addClass:function(e){return Mt.add(this,e),this},rmClass:function(e){return Mt.remove(this,e),this},toggleClass:function(e){return Mt.toggle(this,e),this},hasClass:function(e){return Mt.has(this,e)},parent:function(){return e(this[0].parentNode)},append:function(e){return wt.append(this,e),this},prepend:function(e){return wt.prepend(this,e),this},before:function(e){return wt.before(this,e),this},after:function(e){return wt.after(this,e),this}});var t=function(e,t){return T(t)&&Se(e)};return e}({}),Lt=S.memStorage=function(e){e={getItem:function(e){return(n[e]?t[e]:this[e])||null},setItem:function(e,r){n[e]?t[e]=r:this[e]=r},removeItem:function(e){n[e]?delete t[e]:delete this[e]},key:function(e){var t=r();return e>=0&&e<t.length?t[e]:null},clear:function(){for(var e,n=a(),r=0;e=n[r];r++)delete this[e];n=i();for(var o,s=0;o=n[s];s++)delete t[o]}},Object.defineProperty(e,"length",{enumerable:!1,configurable:!0,get:function(){return r().length}});var t={},n={getItem:1,setItem:1,removeItem:1,key:1,clear:1,length:1};function r(){return a().concat(i())}function a(){return X(e).filter((function(e){return!n[e]}))}function i(){return X(t)}return e}({}),Pt=S.safeStorage=function(e){var t;switch(e=e||"local"){case"local":t=window.localStorage;break;case"session":t=window.sessionStorage}try{var n="test-localStorage-"+Date.now();t.setItem(n,n);var r=t.getItem(n);if(t.removeItem(n),r!==n)throw new Error}catch(e){return Lt}return t},zt=S.meta=function(e){(e=function(e,a){if(T(e))return i={},n((function(e,t){i[e]=t})),i;var i;if(Se(e)&&T(a)||pe(e))return function(e){if(!Se(e)){var t={};return n((function(n,r){Ce(e,n)&&(t[n]=r)})),t}var a=r(e);if(a)return a.getAttribute("content")}(e);var o=e;N(o)||((o={})[e]=a),function(e){ke(e,(function(e,n){var a=r(n);if(a)return a.setAttribute("content",e);(a=t.createElement("meta")).setAttribute("name",n),a.setAttribute("content",e),t.head.appendChild(a)}))}(o)}).remove=function(e){e=ht(e),ke(e,(function(e){var n=r(e);n&&t.head.removeChild(n)}))};var t=document;function n(e){var n=t.querySelectorAll("meta");ke(n,(function(t){var n=t.getAttribute("name"),r=t.getAttribute("content");n&&r&&e(n,r)}))}function r(e){return t.querySelector('meta[name="'+e+'"]')}return e}({}),Bt=S.toNum=function(e){if(_e(e))return e;if(N(e)){var t=be(e.valueOf)?e.valueOf():e;e=N(t)?t+"":t}return Se(e)?+e:0===e?e:+e},Vt=S.ms=function(e){e=function(e){if(Se(e)){var a=e.match(r);return a?Bt(a[1])*t[a[2]||"ms"]:0}for(var i=e,o="ms",s=0,u=n.length;s<u;s++)if(i>=t[n[s]]){o=n[s];break}return+(i/t[o]).toFixed(2)+o};var t={ms:1,s:1e3};t.m=60*t.s,t.h=60*t.m,t.d=24*t.h,t.y=365.25*t.d;var n=["y","d","h","m","s"],r=/^((?:\d+)?\.?\d+) *(s|m|h|d|y)?$/;return e}({}),Ut=S.toInt=function(e){return e?(e=Bt(e))-e%1:0===e?e:0},Wt=S.detectBrowser=function(e){e=function(e){var i=a(e=(e=e||(R?navigator.userAgent:"")).toLowerCase(),"msie ");if(i)return{version:i,name:"ie"};if(n.test(e))return{version:11,name:"ie"};for(var o=0,s=r.length;o<s;o++){var u=r[o],c=e.match(t[u]);if(null!=c){var l=Ut(c[1].split(".")[0]);return"opera"===u&&(l=a(e,"version/")||l),{name:u,version:l}}}return{name:"unknown",version:-1}};var t={edge:/edge\/([0-9._]+)/,firefox:/firefox\/([0-9.]+)(?:\s|$)/,opera:/opera\/([0-9.]+)(?:\s|$)/,android:/android\s([0-9.]+)/,ios:/version\/([0-9._]+).*mobile.*safari.*/,safari:/version\/([0-9._]+).*safari/,chrome:/(?!chrom.*opr)chrom(?:e|ium)\/([0-9.]+)(:?\s|$)/},n=/trident\/7\./,r=X(t);function a(e,t){var n=e.indexOf(t);if(n>-1)return Ut(e.substring(n+t.length,e.indexOf(".",n)))}return e}({}),Ht=S.nextTick=function(e){function t(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}return"object"===(void 0===r?"undefined":j()(r))&&r.nextTick?r.nextTick:"function"==typeof a?function(e){a(t(e))}:function(e){setTimeout(t(e),0)}}(),Gt=S.now=Date.now||function(){return(new Date).getTime()},$t=S.partial=Q((function(e,t){return function(){var n=[];return n=(n=n.concat(t)).concat(ht(arguments)),e.apply(this,n)}})),qt=S.once=$t(M,2),Kt=S.Emitter=function(e){return e=mt({initialize:function(){this._events=this._events||{}},on:function(e,t){return this._events[e]=this._events[e]||[],this._events[e].push(t),this},off:function(e,t){if(E(this._events,e))return this._events[e].splice(this._events[e].indexOf(t),1),this},once:function(e,t){return this.on(e,qt(t)),this},emit:function(e){if(E(this._events,e)){var t=I(arguments,1);return ke(this._events[e],(function(e){e.apply(this,t)}),this),this}}},{mixin:function(t){ke(["on","off","once","emit"],(function(n){t[n]=e.prototype[n]})),t._events=t._events||{}}})}({}),Xt=S.Logger=function(e){return e=Kt.extend({initialize:function(t,n){this.name=t,this.setLevel(T(n)?e.level.DEBUG:n),this.callSuper(Kt,"initialize",arguments)},setLevel:function(t){return Se(t)?((t=e.level[t.toUpperCase()])&&(this._level=t),this):(_e(t)&&(this._level=t),this)},getLevel:function(){return this._level},formatter:function(e,t){return t},trace:function(){return this._log("trace",arguments)},debug:function(){return this._log("debug",arguments)},info:function(){return this._log("info",arguments)},warn:function(){return this._log("warn",arguments)},error:function(){return this._log("error",arguments)},_log:function(t,n){return 0===(n=ht(n)).length?this:(this.emit("all",t,ct(n)),e.level[t.toUpperCase()]<this._level||(this.emit(t,ct(n)),("debug"===t?console.log:console[t]).apply(console,this.formatter(t,n))),this)}},{level:new vt({TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5})})}({}),Yt=S.MediaQuery=Kt.extend({className:"MediaQuery",initialize:function(e){var t=this;this.callSuper(Kt,"initialize"),this._mql=window.matchMedia(e),this._mql.addListener((function(){t.emit(t.isMatch()?"match":"unmatch")}))},isMatch:function(){return this._mql.matches}}),Zt=S.isDarkMode=(k=new Yt("(prefers-color-scheme: dark)"),function(){return k.isMatch()}),Qt=S.Store=Kt.extend({initialize:function(e){this.callSuper(Kt,"initialize",arguments),this._data=e||{},this.save(this._data)},set:function(e,t){var n;Se(e)?(n={})[e]=t:N(e)&&(n=e);var r=this;ke(n,(function(e,t){var n=r._data[t];r._data[t]=e,r.emit("change",t,e,n)})),this.save(this._data)},get:function(e){var t=this._data;if(Se(e))return t[e];var n={};return ke(e,(function(e){n[e]=t[e]})),n},remove:function(e){e=ht(e);var t=this._data;ke(e,(function(e){delete t[e]})),this.save(t)},clear:function(){this._data={},this.save(this._data)},each:function(e){ke(this._data,e)},save:function(e){this._data=e}}),Jt=S.orientation=function(e){var t=window.screen;return e={get:function(){if(t){var e=he(t,"orientation.type");if(e)return e.split("-").shift()}return window.innerWidth>window.innerHeight?"landscape":"portrait"}},Kt.mixin(e),window.addEventListener("orientationchange",(function(){setTimeout((function(){e.emit("change",e.get())}),200)}),!1),e}({}),en=S.perfNow=function(e){var t,n=q.performance,r=q.process;if(n&&n.now)e=function(){return n.now()};else if(r&&r.hrtime){var a=function(){var e=r.hrtime();return 1e9*e[0]+e[1]};t=a()-1e9*r.uptime(),e=function(){return(a()-t)/1e6}}else t=Gt(),e=function(){return Gt()-t};return e}({}),tn=S.pick=function(e,t,n){if(Se(t)&&(t=[t]),pe(t)){var r=t;t=function(e,t){return Ce(r,t)}}var a={},i=function(e,n){t(e,n)&&(a[n]=e)};return n&&(i=function(e,n){t(e,n)||(a[n]=e)}),ke(e,i),a},nn=S.pxToNum=function(e){return Bt(e.replace("px",""))},rn=S.raf=function(e){var t,n,r=0;if(R){t=window.requestAnimationFrame,n=window.cancelAnimationFrame;for(var a=["ms","moz","webkit","o"],i=0,o=a.length;i<o&&!t;i++)t=window[a[i]+"RequestAnimationFrame"],n=window[a[i]+"CancelAnimationFrame"]||window[a[i]+"CancelRequestAnimationFrame"]}return n=n||function(e){clearTimeout(e)},(t=t||function(e){var t=Gt(),n=Math.max(0,16-(t-r)),a=setTimeout((function(){e(t+n)}),n);return r=t+n,a}).cancel=n,t}(),an=S.rmCookie=function(e){var t,n=window.location,r=n.hostname,a=n.pathname,i=r.split("."),o=a.split("/"),s="",u=o.length;if(!f())for(var c=i.length-1;c>=0;c--){var l=i[c];if(""!==l){if(f({domain:s=""===s?l:l+"."+s,path:t="/"})||f({domain:s}))return;for(var d=0;d<u;d++){var p=o[d];if(""!==p){if(f({domain:s,path:t+=p})||f({path:t}))return;if(f({domain:s,path:t+="/"})||f({path:t}))return}}}}function f(t){return t=t||{},ft.remove(e,t),!ft.get(e)}},on=S.rtrim=function(e){var t=/\s+$/;return function(e,n){if(null==n)return e.replace(t,"");for(var r,a,i=e.length-1,o=n.length,s=!0;s&&i>=0;)for(s=!1,r=-1,a=e.charAt(i);++r<o;)if(a===n[r]){s=!0,i--;break}return i>=0?e.substring(0,i+1):""}}(),sn=S.trim=function(e){var t=/^\s+|\s+$/g;return function(e,n){return null==n?e.replace(t,""):Je(on(e,n),n)}}(),un=S.extractUrls=function(e){e=function(e){var n=ht(e.match(t));return at(dt(n,(function(e){return sn(e)})))};var t=/((https?)|(ftp)):\/\/[\w.]+[^ \f\n\r\t\v"\\<>[\]\u2100-\uFFFF(),]*/gi;return e}({}),cn=S.linkify=function(e){function t(e){return'<a href="'+e+'">'+e+"</a>"}return function(e,n){n=n||t;var r=un(e);return ke(r,(function(t){e=e.replace(new RegExp(ae(t),"g"),n)})),e}}(),ln=S.query=function(e){e={parse:function(e){var n={};return e=sn(e).replace(t,""),ke(e.split("&"),(function(e){var t=e.split("="),r=t.shift(),a=t.length>0?t.join("="):null;r=decodeURIComponent(r),a=decodeURIComponent(a),T(n[r])?n[r]=a:pe(n[r])?n[r].push(a):n[r]=[n[r],a]})),n},stringify:function(t,n){return nt(dt(t,(function(t,r){return N(t)&&Te(t)?"":pe(t)?e.stringify(t,r):(n?encodeURIComponent(n):encodeURIComponent(r))+"="+encodeURIComponent(t)})),(function(e){return e.length>0})).join("&")}};var t=/^(\?|#|&)/g;return e}({}),dn=S.Url=function(e){e=mt({className:"Url",initialize:function(t){!t&&R&&(t=window.location.href),ut(this,e.parse(t||""))},setQuery:function(e,t){var n=this.query;return N(e)?ke(e,(function(e,t){n[t]=e})):n[e]=t,this},rmQuery:function(e){var t=this.query;return pe(e)||(e=ht(e)),ke(e,(function(e){delete t[e]})),this},toString:function(){return e.stringify(this)}},{parse:function(e){var a={protocol:"",auth:"",hostname:"",hash:"",query:{},port:"",pathname:"",slashes:!1},i=sn(e),o=!1,s=i.match(t);if(s&&(s=s[0],a.protocol=s.toLowerCase(),i=i.substr(s.length)),s&&(o="//"===i.substr(0,2))&&(i=i.slice(2),a.slashes=!0),o){for(var u=i,c=-1,l=0,d=r.length;l<d;l++){var p=i.indexOf(r[l]);-1!==p&&(-1===c||p<c)&&(c=p)}c>-1&&(u=i.slice(0,c),i=i.slice(c));var f=u.lastIndexOf("@");-1!==f&&(a.auth=decodeURIComponent(u.slice(0,f)),u=u.slice(f+1)),a.hostname=u;var h=u.match(n);h&&(":"!==(h=h[0])&&(a.port=h.substr(1)),a.hostname=u.substr(0,u.length-h.length))}var m=i.indexOf("#");-1!==m&&(a.hash=i.substr(m),i=i.slice(0,m));var v=i.indexOf("?");return-1!==v&&(a.query=ln.parse(i.substr(v+1)),i=i.slice(0,v)),a.pathname=i||"/",a},stringify:function(e){var t=e.protocol+(e.slashes?"//":"")+(e.auth?encodeURIComponent(e.auth)+"@":"")+e.hostname+(e.port?":"+e.port:"")+e.pathname;return Te(e.query)||(t+="?"+ln.stringify(e.query)),e.hash&&(t+=e.hash),t}});var t=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,r=["/","?","#"];return e}({}),pn=S.getFileName=function(e){var t=C(e.split("/"));return t.indexOf("?")>-1&&(t=sn(t.split("?")[0])),""===t&&(t=(e=new dn(e)).hostname),t},fn=S.ajax=function(e){function t(e,t,n,r){return be(t)&&(r=n,n=t,t={}),{url:e,data:t,success:n,dataType:r}}return(e=function(t){ot(t,e.setting);var n,r=t.type,a=t.url,i=t.data,o=t.dataType,s=t.success,u=t.error,c=t.timeout,l=t.complete,d=t.xhr();return d.onreadystatechange=function(){if(4===d.readyState){var e;clearTimeout(n);var t=d.status;if(t>=200&&t<300||304===t){e=d.responseText,"xml"===o&&(e=d.responseXML);try{"json"===o&&(e=JSON.parse(e))}catch(e){}s(e,d)}else u(d);l(d)}},"GET"===r?(i=ln.stringify(i),a+=a.indexOf("?")>-1?"&"+i:"?"+i):"application/x-www-form-urlencoded"===t.contentType?N(i)&&(i=ln.stringify(i)):"application/json"===t.contentType&&N(i)&&(i=JSON.stringify(i)),d.open(r,a,!0),d.setRequestHeader("Content-Type",t.contentType),c>0&&(n=setTimeout((function(){d.onreadystatechange=D,d.abort(),u(d,"timeout"),l(d)}),c)),d.send("GET"===r?null:i),d}).setting={type:"GET",success:D,error:D,complete:D,dataType:"json",contentType:"application/x-www-form-urlencoded",data:{},xhr:function(){return new XMLHttpRequest},timeout:0},e.get=function(){return e(t.apply(null,arguments))},e.post=function(){var n=t.apply(null,arguments);return n.type="POST",e(n)},e}({}),hn=S.sortKeys=function(e){e=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ot(n,t);var r=n.deep,a=n.comparator,i=[],o=[];function s(e){var t,n=i.indexOf(e);if(n>-1)return o[n];if(pe(e)){t=[],i.push(e),o.push(t);for(var u=0,c=e.length;u<c;u++){var l=e[u];r&&N(l)?t[u]=s(l):t[u]=l}}else{t={},i.push(e),o.push(t);for(var d=X(e).sort(a),p=0,f=d.length;p<f;p++){var h=d[p],m=e[h];r&&N(m)?t[h]=s(m):t[h]=m}}return t}return s(e)};var t={deep:!1,comparator:qe.defComparator};return e}({}),mn=S.type=function(e){e=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(null===e)return n?"null":"Null";if(void 0===e)return n?"undefined":"Undefined";if(ze(e))return n?"nan":"NaN";var r=le(e).match(t);return r?n?r[1].toLowerCase():r[1]:""};var t=/^\[object\s+(.*?)]$/;return e}({}),vn=S.stringify=function(e,t){return JSON.stringify(e,function(){var e=[],t=[];return function(n,r){if(e.length>0){var a=e.indexOf(this);a>-1?(e.splice(a+1),t.splice(a,1/0,n)):(e.push(this),t.push(n));var i=e.indexOf(r);i>-1&&(r=e[0]===r?"[Circular ~]":"[Circular ~."+t.slice(0,i).join(".")+"]")}else e.push(r);return $e(r)||be(r)?r="["+se(mn(r))+" "+W(r)+"]":T(r)&&(r=null),r}}(),t)},bn=S.LocalStore=function(e){var t=Pt("local");return Qt.extend({initialize:function(e,n){this._name=e,n=n||{};var r=t.getItem(e);try{r=JSON.parse(r)}catch(e){r={}}N(r)||(r={}),n=ot(r,n),this.callSuper(Qt,"initialize",[n])},save:function(e){if(Te(e))return t.removeItem(this._name);t.setItem(this._name,vn(e))}})}(),gn=S.stringifyAll=function(t){function n(n,a,i,o){var s=[];return ke(a,(function(n){var a,u=Object.getOwnPropertyDescriptor(i,n),c=u&&u.get,l=u&&u.set;if(!o.accessGetter&&c)a="(...)";else try{if(a=i[n],Ce(o.ignore,a))return;Ge(a)&&a.catch((function(){}))}catch(e){a=e.message}s.push("".concat(r(n),":").concat(t(a,o))),c&&s.push("".concat(r("get "+W(n)),":").concat(t(u.get,o))),l&&s.push("".concat(r("set "+W(n)),":").concat(t(u.set,o)))})),'"'.concat(n,'":{')+s.join(",")+"}"}function r(e){return'"'.concat(i(e),'"')}function a(e){return'"'.concat(i(W(e)),'"')}function i(e){return ne(e).replace(/\\'/g,"'").replace(/\t/g,"\\t")}t=function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=i.self,u=i.startTime,c=void 0===u?Gt():u,l=i.timeout,d=void 0===l?0:l,p=i.depth,f=void 0===p?0:p,h=i.curDepth,m=void 0===h?1:h,v=i.visitor,b=void 0===v?new o:v,g=i.unenumerable,y=void 0!==g&&g,_=i.symbol,x=void 0!==_&&_,k=i.accessGetter,w=void 0!==k&&k,O=i.ignore,S=void 0===O?[]:O,C="",T={visitor:b,unenumerable:y,symbol:x,accessGetter:w,depth:f,curDepth:m+1,timeout:d,startTime:c,ignore:S},N=mn(r,!1);if("String"===N)C=a(r);else if("Number"===N)C=W(r),ee(C,"Infinity")&&(C='{"value":"'.concat(C,'","type":"Number"}'));else if("NaN"===N)C='{"value":"NaN","type":"Number"}';else if("Boolean"===N)C=r?"true":"false";else if("Null"===N)C="null";else if("Undefined"===N)C='{"type":"Undefined"}';else if("Symbol"===N){var E="Symbol";try{E=W(r)}catch(e){}C='{"value":'.concat(a(E),',"type":"Symbol"}')}else{if(d&&Gt()-c>d)return a("Timeout");if(f&&m>f)return a("{...}");C="{";var I,A=[],R=b.get(r);if(R?(I=R.id,A.push('"reference":'.concat(I))):(I=b.set(r),A.push('"id":'.concat(I))),A.push('"type":"'.concat(N,'"')),ee(N,"Function")?A.push('"value":'.concat(a(Ve(r)))):"RegExp"===N&&A.push('"value":'.concat(a(r))),!R){var D=X(r);if(D.length&&A.push(n("enumerable",D,s||r,T)),y){var M=rt(it(r,{prototype:!1,unenumerable:!0}),D);M.length&&A.push(n("unenumerable",M,s||r,T))}if(x){var F=nt(it(r,{prototype:!1,symbol:!0}),(function(e){return"symbol"===j()(e)}));F.length&&A.push(n("symbol",F,s||r,T))}var L=ge(r);if(L&&!Ce(S,L)){var P='"proto":'.concat(t(L,ut(T,{self:s||r})));A.push(P)}}C+=A.join(",")+"}"}return C};var o=mt({initialize:function(){this.id=0,this.visited=[]},set:function(e){var t=this.visited,n=this.id,r={id:n,val:e};return t.push(r),this.id++,n},get:function(e){for(var t=this.visited,n=0,r=t.length;n<r;n++){var a=t[n];if(e===a.val)return a}return!1}});return t}({}),yn=S.throttle=function(e,t){return H(e,t,!0)},_n=S.uncaught=function(e){var t=[],n=!1;function a(e){if(n)for(var r=0,a=t.length;r<a;r++)t[r](e)}return e={start:function(){n=!0},stop:function(){n=!1},addListener:function(e){t.push(e)},rmListener:function(e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},rmAllListeners:function(){t=[]}},R?(window.addEventListener("error",(function(e){a(e.error)})),window.addEventListener("unhandledrejection",(function(e){a(e.reason)}))):(r.on("uncaughtException",a),r.on("unhandledRejection",a)),e}({}),xn=S.uniqId=(w=0,function(e){var t=++w+"";return e?e+t:t}),kn=S.viewportScale=function(){var e=zt("viewport");if(!e)return 1;e=dt(e.split(","),(function(e){return sn(e)}));var t=.25,n=5,r=1;ke(e,(function(e){var a=(e=e.split("="))[0];e=e[1],"initial-scale"===a&&(r=+e),"maximum-scale"===a&&(n=+e),"minimum-scale"===a&&(t=+e)}));var a=z(r,t,n);return ze(a)?1:a},wn=S.wrap=function(e,t){return $t(t,e)},On=S.xpath=function(e){for(var t=[],n=document.evaluate(e,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),r=0;r<n.snapshotLength;r++)t.push(n.snapshotItem(r));return t};t.q=S}).call(this,n(16),n(21),n(35).setImmediate)},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(12),a=n(9);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}},function(e,t,n){var r=n(20);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(37);function a(t,n,i){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=a=Reflect.get:e.exports=a=function(e,t,n){var a=r(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(n):i.value}},a(t,n,i||t)}e.exports=a},function(e,t,n){var r=n(40);r.registerHelper("repeat",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;if(e<1)return t.inverse(this);var n=1,r=0,a=e*n+r,i=r,o="";do{var s={index:i,count:e,start:r,step:n,first:i===r,last:i>=a-n},u=[i,s];o+=t.fn(this,{data:s,blockParams:u}),i+=s.step}while(i<a);return o})),r.registerHelper("class",(function(e){var t=e.split(/\s+/);return t=t.map((function(e){return"eruda-".concat(e)})),'class="'.concat(t.join(" "),'"')})),r.registerHelper("concat",(function(){for(var e="",t=0,n=arguments.length;t<n;t++){var r=arguments[t];"string"==typeof r&&(e+=r)}return e})),e.exports=r},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,a,i=e[1]||"",o=e[3];if(!o)return i;if(t&&"function"==typeof btoa){var s=(n=o,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(a," */")),u=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[i].concat(u).concat([s]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(a[o]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&a[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";t.__esModule=!0,t.extend=s,t.indexOf=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return i.test(e)?e.replace(a,o):e},t.isEmpty=function(e){return!e&&0!==e||!(!l(e)||0!==e.length)},t.createFrame=function(e){var t=s({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},a=/[&<>"'`=]/g,i=/[&<>"'`=]/;function o(e){return r[e]}function s(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var u=Object.prototype.toString;t.toString=u;var c=function(e){return"function"==typeof e};c(/x/)&&(t.isFunction=c=function(e){return"function"==typeof e&&"[object Function]"===u.call(e)}),t.isFunction=c;var l=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===u.call(e)};t.isArray=l},function(e,t,n){"use strict";var r,a;r=[n(18),n(19),n(67)],void 0===(a=function(e,t,n){return function(e,t,n){var r=function(t,n){return e.js_beautify(t,n)};return r.js=e.js_beautify,r.css=t.css_beautify,r.html=n.html_beautify,r.js_beautify=e.js_beautify,r.css_beautify=t.css_beautify,r.html_beautify=n.html_beautify,r}(e,t,n)}.apply(t,r))||(e.exports=a)},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){"use strict";t.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function a(e,t){var n=t&&t.loc,i=void 0,o=void 0,s=void 0,u=void 0;n&&(i=n.start.line,o=n.end.line,s=n.start.column,u=n.end.column,e+=" - "+i+":"+s);for(var c=Error.prototype.constructor.call(this,e),l=0;l<r.length;l++)this[r[l]]=c[r[l]];Error.captureStackTrace&&Error.captureStackTrace(this,a);try{n&&(this.lineNumber=i,this.endLineNumber=o,Object.defineProperty?(Object.defineProperty(this,"column",{value:s,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:u,enumerable:!0})):(this.column=s,this.endColumn=u))}catch(e){}}a.prototype=new Error,t.default=a,e.exports=t.default},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(63),a=n(64),i=n(65);e.exports=function(e,t){return r(e)||a(e,t)||i()}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/assets/",n(n.s=39)}([function(e,t,n){var r=n(8),a=n(4),i=n(23);n(12),t=function(e,t,n){var o,s;if(t=i(t,n),r(e))for(o=0,s=e.length;o<s;o++)t(e[o],o,e);else{var u=a(e);for(o=0,s=u.length;o<s;o++)t(e[u[o]],u[o],e)}return e},e.exports=t},function(e,t,n){var r=n(9);t=function(e){return"[object String]"===r(e)},e.exports=t},function(e,t){t=function(e){var t=typeof e;return!!e&&("function"===t||"object"===t)},e.exports=t},function(e,t,n){var r=n(1),a=n(11),i=n(31);t=function(e){return a(r(e)?new i(e):e)},e.exports=t},function(e,t,n){var r=n(10),a=n(40);t=Object.keys&&!a()?Object.keys:function(e){var t=[];for(var n in e)r(e,n)&&t.push(n);return t},e.exports=t},function(e,t){t=function(e){return void 0===e},e.exports=t},function(e,t,n){var r=n(9);t=function(e){return"[object Number]"===r(e)},e.exports=t},function(e,t,n){var r=n(9);t=function(e){var t=r(e);return"[object Function]"===t||"[object GeneratorFunction]"===t||"[object AsyncFunction]"===t},e.exports=t},function(e,t,n){var r=n(6),a=n(7),i=Math.pow(2,53)-1;t=function(e){if(!e)return!1;var t=e.length;return r(t)&&t>=0&&t<=i&&!a(e)},e.exports=t},function(e,t){var n=Object.prototype.toString;t=function(e){return n.call(e)},e.exports=t},function(e,t){var n=Object.prototype.hasOwnProperty;t=function(e,t){return n.call(e,t)},e.exports=t},function(e,t,n){var r=n(8),a=n(49),i=n(13),o=n(1);t=function(e){return e?i(e)?e:r(e)&&!o(e)?a(e):[e]:[]},e.exports=t},function(e,t){t={},e.exports=t},function(e,t,n){var r=n(9);t=Array.isArray||function(e){return"[object Array]"===r(e)},e.exports=t},function(e,t,n){var r=n(21),a=n(11),i=n(50),o=n(52),s=n(54),u=(t=function(e,t){return u.extend(e,t)}).Base=function e(t,n,u){u=u||{};var c,l=n.className||o(n,"initialize.name")||"";return delete n.className,c=s?function(){var e=a(arguments);return this.initialize&&this.initialize.apply(this,e)||this}:new Function("toArr","return function "+l+"(){var args = toArr(arguments);return this.initialize ? this.initialize.apply(this, args) || this : this;};")(a),i(c,t),c.prototype.constructor=c,c.extend=function(t,n){return e(c,t,n)},c.inherits=function(e){i(c,e)},c.methods=function(e){return r(c.prototype,e),c},c.statics=function(e){return r(c,e),c},c.methods(n).statics(u),c}(Object,{className:"Base",callSuper:function(e,t,n){return e.prototype[t].apply(this,n)},toString:function(){return this.constructor.name}});e.exports=t},function(e,t,n){var r=n(16),a=n(0);n(12),t=function(e,t,n){var i=[];return t=r(t,n),a(e,(function(e,n,r){t(e,n,r)&&i.push(e)})),i},e.exports=t},function(e,t,n){var r=n(7),a=n(2),i=n(23),o=n(45),s=n(48);t=function(e,t,n){return null==e?s:r(e)?i(e,t,n):a(e)?o(e):function(e){return function(t){return null==t?void 0:t[e]}}},e.exports=t},function(e,t){t=function(e){return null==e?"":e.toString()},e.exports=t},function(e,t){t=function(e){return e.length<1?e:e[0].toUpperCase()+e.slice(1)},e.exports=t},function(e,t,n){var r=n(66),a=n(1),i=n(8),o=n(67);t=function(e,t){return a(e)?e.indexOf(t)>-1:(i(e)||(e=o(e)),r(e,t)>=0)},e.exports=t},function(e,t,n){var r=n(14),a=n(10),i=n(0),o=n(55),s=n(56);t=r({initialize:function(){this._events=this._events||{}},on:function(e,t){return this._events[e]=this._events[e]||[],this._events[e].push(t),this},off:function(e,t){if(a(this._events,e))return this._events[e].splice(this._events[e].indexOf(t),1),this},once:function(e,t){return this.on(e,s(t)),this},emit:function(e){if(a(this._events,e)){var t=o(arguments,1);return i(this._events[e],(function(e){e.apply(this,t)}),this),this}}},{mixin:function(e){i(["on","off","once","emit"],(function(n){e[n]=t.prototype[n]})),e._events=e._events||{}}}),e.exports=t},function(e,t,n){t=n(22)(n(24)),e.exports=t},function(e,t,n){var r=n(5),a=n(0);t=function(e,t){return function(n){return a(arguments,(function(i,o){if(0!==o){var s=e(i);a(s,(function(e){t&&!r(n[e])||(n[e]=i[e])}))}})),n}},e.exports=t},function(e,t,n){var r=n(5);t=function(e,t,n){if(r(t))return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,a){return e.call(t,n,r,a)};case 4:return function(n,r,a,i){return e.call(t,n,r,a,i)}}return function(){return e.apply(t,arguments)}},e.exports=t},function(e,t,n){var r=n(4),a=n(25),i=n(44),o=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols;t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.prototype,u=void 0===n||n,c=t.unenumerable,l=void 0!==c&&c,d=t.symbol,p=void 0!==d&&d,f=[];if((l||p)&&o){var h=r;l&&o&&(h=o);do{f=f.concat(h(e)),p&&s&&(f=f.concat(s(e)))}while(u&&(e=a(e))&&e!==Object.prototype);f=i(f)}else if(u)for(var m in e)f.push(m);else f=r(e);return f},e.exports=t},function(e,t,n){var r=n(2),a=n(7),i=Object.getPrototypeOf,o={}.constructor;t=function(e){if(r(e)){if(i)return i(e);var t=e.__proto__;return t||null===t?t:a(e.constructor)?e.constructor.prototype:e instanceof o?o.prototype:void 0}},e.exports=t},function(e,t){t=function(e,t){return t=null==t?e.length-1:+t,function(){var n,r=Math.max(arguments.length-t,0),a=new Array(r);for(n=0;n<r;n++)a[n]=arguments[n+t];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,arguments[0],a);case 2:return e.call(this,arguments[0],arguments[1],a)}var i=new Array(t+1);for(n=0;n<t;n++)i[n]=arguments[n];return i[t]=a,e.apply(this,i)}},e.exports=t},function(e,t){t=function(e){return!0===e||!1===e},e.exports=t},function(e,t,n){var r=n(17);t=function(e){return r(e).toLocaleLowerCase()},e.exports=t},function(e,t,n){var r=n(6);t=function(e){return r(e)&&e!==+e},e.exports=t},function(e,t,n){var r=n(31),a=n(63),i=n(64),o=n(65),s=n(34),u=n(71),c=n(72),l=n(73),d=n(74),p=n(75),f=n(77),h=n(79),m=n(5),v=n(1);t=function(e){return new r(e)},r.methods({offset:function(){return a(this)},hide:function(){return this.css("display","none")},show:function(){return i(this),this},first:function(){return t(this[0])},last:function(){return t(c(this))},get:function(e){return this[e]},eq:function(e){return t(this[e])},on:function(e,t,n){return p.on(this,e,t,n),this},off:function(e,t,n){return p.off(this,e,t,n),this},html:function(e){var t=u.html(this,e);return m(e)?t:this},text:function(e){var t=u.text(this,e);return m(e)?t:this},val:function(e){var t=u.val(this,e);return m(e)?t:this},css:function(e,t){var n=o(this,e,t);return b(e,t)?n:this},attr:function(e,t){var n=s(this,e,t);return b(e,t)?n:this},data:function(e,t){var n=d(this,e,t);return b(e,t)?n:this},rmAttr:function(e){return s.remove(this,e),this},remove:function(){return l(this),this},addClass:function(e){return f.add(this,e),this},rmClass:function(e){return f.remove(this,e),this},toggleClass:function(e){return f.toggle(this,e),this},hasClass:function(e){return f.has(this,e)},parent:function(){return t(this[0].parentNode)},append:function(e){return h.append(this,e),this},prepend:function(e){return h.prepend(this,e),this},before:function(e){return h.before(this,e),this},after:function(e){return h.after(this,e),this}});var b=function(e,t){return m(t)&&v(e)};e.exports=t},function(e,t,n){var r=n(14),a=n(1),i=n(0),o=new(t=r({className:"Select",initialize:function(e){return this.length=0,e?a(e)?o.find(e):void(e.nodeType&&(this[0]=e,this.length=1)):this},find:function(e){var n=new t;return this.each((function(){!function(e,t){for(var n=t.length,r=e.length,a=0;a<n;a++)e[r++]=t[a];e.length=r}(n,this.querySelectorAll(e))})),n},each:function(e){return i(this,(function(t,n){e.call(t,n,t)})),this}}))(document);e.exports=t},function(e,t,n){var r=n(33);t=function(e){return r(e).join("-")},e.exports=t},function(e,t){var n=/([A-Z])/g,r=/[_.\- ]+/g,a=/(^-)|(-$)/g;t=function(e){return(e=e.replace(n,"-$1").toLowerCase().replace(r,"-").replace(a,"")).split("-")},e.exports=t},function(e,t,n){var r=n(11),a=n(2),i=n(1),o=n(0),s=n(5),u=n(3);(t=function(e,t,n){if(e=u(e),s(n)&&i(t))return function(e,t){return e.getAttribute(t)}(e[0],t);var r=t;a(r)||((r={})[t]=n),function(e,t){o(e,(function(e){o(t,(function(t,n){e.setAttribute(n,t)}))}))}(e,r)}).remove=function(e,t){e=u(e),t=r(t),o(e,(function(e){o(t,(function(t){e.removeAttribute(t)}))}))},e.exports=t},function(e,t){t=function(e,t){var n=[];t=t||1;for(var r=0,a=Math.ceil(e.length/t);r<a;r++){var i=r*t,o=i+t;n.push(e.slice(i,o))}return n},e.exports=t},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(17)),i=r(n(84)),o=r(n(37)),s=r(n(38)),u=r(n(87));t.encode=function(e){return u.default(a.default(e)).replace(/\n/g,"\u21b5").replace(/\f|\r|\t/g,"")},t.getFnAbstract=function(e){return e.length>500&&(e=e.slice(0,500)+"..."),"\u0192 "+i.default(function(e){var t=e.match(c);return t?t[0]:e}(e).replace("function",""))};var c=/function(.*?)\((.*?)\)/;function l(e,t){return(e=d(e))>(t=d(t))?1:e<t?-1:0}function d(e){return 95===e?123:e}t.sortObjName=function(e,t){e=a.default(e),t=a.default(t);var n=o.default(e),r=o.default(t);if(!isNaN(n)&&!isNaN(r))return n>r?1:n<r?-1:0;(s.default(e,"get ")||s.default(e,"set "))&&(e=e.slice(4)),(s.default(t,"get ")||s.default(t,"set "))&&(t=t.slice(4));for(var i=e.length,u=t.length,c=i>u?u:i,d=0;d<c;d++){var p=l(e.charCodeAt(d),t.charCodeAt(d));if(0!==p)return p}return i>u?1:i<u?-1:0}},function(e,t,n){var r=n(6),a=n(2),i=n(7),o=n(1);t=function(e){if(r(e))return e;if(a(e)){var t=i(e.valueOf)?e.valueOf():e;e=a(t)?t+"":t}return o(e)?+e:0===e?e:+e},e.exports=t},function(e,t){t=function(e,t){return 0===e.indexOf(t)},e.exports=t},function(e,t,n){"use strict";var r,a,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(20)),u=o(n(25)),c=o(n(6)),l=o(n(27)),d=o(n(28)),p=o(n(2)),f=o(n(13)),h=o(n(18)),m=o(n(4)),v=o(n(0)),b=o(n(59)),g=o(n(61)),y=o(n(62)),_=o(n(30)),x=o(n(80)),k=o(n(24)),w=o(n(15)),O=o(n(35)),j=o(n(17)),S=o(n(82)),C=o(n(83)),T=n(36),N=o(n(88));n(90);var E="luna-object-viewer-";e.exports=((a=function(e){function t(t,n){var r=void 0===n?{}:n,a=r.unenumerable,i=void 0!==a&&a,o=r.accessGetter,s=void 0!==o&&o,u=e.call(this)||this;return u.$container=_.default(t),u.$container.addClass("luna-object-viewer"),u.unenumerable=i,u.accessGetter=s,u.bindEvent(),u}return i(t,e),t.prototype.set=function(e){this.data=[e],this.visitor=new C.default,this.map={},this.appendTpl()},t.prototype.objToHtml=function(e,t){var n=this,r=this.visitor,a=e,i=!1,o=r.get(e);o&&o.self&&(a=o.self);var s="",c=["enumerable"],l=m.default(e),d=[],p=[],h=[],b={};if(this.unenumerable&&!t&&(c.push("unenumerable"),c.push("symbol"),d=x.default(k.default(e,{prototype:!1,unenumerable:!0}),l),p=w.default(k.default(e,{prototype:!1,symbol:!0}),(function(e){return"symbol"==typeof e}))),f.default(e)&&e.length>100){c.unshift("virtual"),i=!0;var y=0,_={};v.default(O.default(e,100),(function(e){var t=Object.create(null),n=y,r="["+n;v.default(e,(function(e){t[y]=e,_[y]=!0,y++}));var a=y-1;b[r+=(a-n>0?" \u2026 "+a:"")+"]"]=t})),h=m.default(b),l=w.default(l,(function(e){return!_[e]}))}v.default(c,(function(r){var o=[];o="symbol"===r?p:"unenumerable"===r?d:"virtual"===r?h:l,i||o.sort(T.sortObjName);for(var u=0,c=o.length;u<c;u++){var f=j.default(o[u]),m="",v=Object.getOwnPropertyDescriptor(e,f),y=v&&v.get,_=v&&v.set;if(y&&!n.accessGetter)m="(...)";else try{m="virtual"===r?b[f]:a[f],g.default(m)&&m.catch(S.default)}catch(e){m=e.message}s+=n.createEl(f,e,m,r,t),y&&(s+=n.createEl("get "+f,e,v.get,r,t)),_&&(s+=n.createEl("set "+f,e,v.set,r,t))}}));var C=u.default(e);if(!t&&C)if(""===s){var N=r.set(C,{self:e});this.map[N]=C,s=this.objToHtml(C)}else s+=this.createEl("__proto__",a||e,C,"proto");return s},t.prototype.createEl=function(e,t,n,r,a){void 0===a&&(a=!1);var i=this.visitor,o=typeof n,s=y.default(n,!1);if("virtual"===r&&(s=e),null===n)return"<li>"+_(e)+'<span class="'+E+'null">null</span></li>';if(c.default(n)||l.default(n))return"<li>"+_(e)+'<span class="'+(E+o)+'">'+T.encode(n)+"</span></li>";if("RegExp"===s&&(o="regexp"),"Number"===s&&(o="number"),"Number"===s||"RegExp"===s)return"<li>"+_(e)+'<span class="'+(E+o)+'">'+T.encode(n.value)+"</span></li>";if("Undefined"===s||"Symbol"===s)return"<li>"+_(e)+'<span class="'+E+'special">'+d.default(s)+"</span></li>";if("(...)"===n)return"<li>"+_(e)+'<span class="'+E+'special">'+n+"</span></li>";if(p.default(n)){var u=i.get(n),f=void 0;if(u)f=u.id;else{var m={};"proto"===r&&(m.self=t),f=i.set(n,m),this.map[f]=n}var v=function(e,t){if(t)return"Function"===t?T.getFnAbstract(b.default(e)):"Array"===t?"Array("+e.length+")":t}(n,s)||h.default(o),g="<li "+(a?'data-first-level="true"':"")+' data-object-id="'+f+'"><span class="'+(a?"":E+"expanded "+E+"collapsed")+'"></span>'+_(e)+'<span class="'+E+'open">'+(a?"":v)+'</span><ul class="'+(E+o)+'" '+(a?"":'style="display:none"')+">";return a&&(g+=this.objToHtml(n)),g+'</ul><span class="'+E+'close"></span></li>'}function _(e){if(a)return"";if(p.default(n)&&"virtual"===r)return"";var t=E+"key";return"unenumerable"!==r&&"proto"!==r&&"symbol"!==r||(t=E+"key-lighter"),'<span class="'+t+'">'+T.encode(e)+"</span>: "}return"<li>"+_(e)+'<span class="'+E+typeof n+'">"'+T.encode(n)+'"</span></li>'},t.prototype.appendTpl=function(){this.$container.html(this.objToHtml(this.data,!0))},t.prototype.bindEvent=function(){var e=this;this.$container.on("click","li",(function(t){var n=e.map,r=_.default(this),a=r.data("object-id"),i=_.default(this).find("span").eq(0);if(!r.data("first-level")&&(a&&(r.find("ul").html(e.objToHtml(n[a],!1)),r.rmAttr("data-object-id")),t.stopImmediatePropagation(),i.hasClass(E+"expanded"))){var o=r.find("ul").eq(0);i.hasClass(E+"collapsed")?(i.rmClass(E+"collapsed"),o.show()):(i.addClass(E+"collapsed"),o.hide()),e.emit("change")}}))},t}(s.default)).Static=N.default,a)},function(e,t,n){var r=n(41);t=function(){for(var e=0,t=a.length;e<t;e++){var n=a[e];if("function"!=typeof r[n])return!1}return!0};var a=["afterEach","after","beforeEach","before","describe","it"];e.exports=t},function(e,t,n){(function(r){var a=n(43);t=a?window:r,e.exports=t}).call(this,n(42))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){t="object"==typeof window&&"object"==typeof document&&9===document.nodeType,e.exports=t},function(e,t,n){var r=n(15);function a(e,t){return e===t}t=function(e,t){return t=t||a,r(e,(function(e,n,r){for(var a=r.length;++n<a;)if(t(e,r[n]))return!1;return!0}))},e.exports=t},function(e,t,n){var r=n(46),a=n(47);t=function(e){return e=r({},e),function(t){return a(t,e)}},e.exports=t},function(e,t,n){var r=n(4);t=n(22)(r),e.exports=t},function(e,t,n){var r=n(4);t=function(e,t){var n=r(t),a=n.length;if(null==e)return!a;e=Object(e);for(var i=0;i<a;i++){var o=n[i];if(t[o]!==e[o]||!(o in e))return!1}return!0},e.exports=t},function(e,t){t=function(e){return e},e.exports=t},function(e,t,n){var r=n(16),a=n(4),i=n(8);n(12),t=function(e,t,n){t=r(t,n);for(var o=!i(e)&&a(e),s=(o||e).length,u=Array(s),c=0;c<s;c++){var l=o?o[c]:c;u[c]=t(e[l],l,e)}return u},e.exports=t},function(e,t,n){var r=n(51);t=function(e,t){e.prototype=r(t.prototype)},e.exports=t},function(e,t,n){var r=n(2);t=function(e){if(!r(e))return{};if(a)return a(e);function t(){}return t.prototype=e,new t};var a=Object.create;e.exports=t},function(e,t,n){var r=n(5),a=n(53);t=function(e,t){var n;for(n=(t=a(t,e)).shift();!r(n);){if(null==(e=e[n]))return;n=t.shift()}return e},e.exports=t},function(e,t,n){var r=n(10),a=n(13);t=function(e,t){if(a(e))return e;if(t&&r(t,e))return[e];var n=[];return e.replace(i,(function(e,t,r,a){n.push(r?a.replace(o,"$1"):t||e)})),n};var i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g;e.exports=t},function(e,t,n){var r=n(7);t="undefined"!=typeof wx&&r(wx.openLocation),e.exports=t},function(e,t){t=function(e,t,n){var r=e.length;t=null==t?0:t<0?Math.max(r+t,0):Math.min(t,r),n=null==n?r:n<0?Math.max(r+n,0):Math.min(n,r);for(var a=[];t<n;)a.push(e[t++]);return a},e.exports=t},function(e,t,n){t=n(57)(n(58),2),e.exports=t},function(e,t,n){var r=n(26),a=n(11);t=r((function(e,t){return function(){var n=[];return n=(n=n.concat(t)).concat(a(arguments)),e.apply(this,n)}})),e.exports=t},function(e,t){t=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},e.exports=t},function(e,t,n){var r=n(60);t=function(e){if(r(e))return"";try{return a.call(e)}catch(e){}try{return e+""}catch(e){}return""};var a=Function.prototype.toString;e.exports=t},function(e,t){t=function(e){return null==e},e.exports=t},function(e,t,n){var r=n(2),a=n(7);t=function(e){return r(e)&&a(e.then)},e.exports=t},function(e,t,n){var r=n(9),a=n(29);t=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(null===e)return t?"null":"Null";if(void 0===e)return t?"undefined":"Undefined";if(a(e))return t?"nan":"NaN";var n=r(e).match(i);return n?t?n[1].toLowerCase():n[1]:""};var i=/^\[object\s+(.*?)]$/;e.exports=t},function(e,t,n){var r=n(3);t=function(e){var t=(e=r(e))[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},e.exports=t},function(e,t,n){var r=n(0),a=n(3);t=function(e){e=a(e),r(e,(function(e){(function(e){return"none"==getComputedStyle(e,"").getPropertyValue("display")})(e)&&(e.style.display=function(e){var t,n;return i[e]||(t=document.createElement(e),document.documentElement.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),i[e]=n),i[e]}(e.nodeName))}))};var i={};e.exports=t},function(e,t,n){var r=n(1),a=n(2),i=n(32),o=n(5),s=n(19),u=n(6),c=n(3),l=n(68),d=n(0);t=function(e,t,n){if(e=c(e),o(n)&&r(t))return function(e,t){return e.style[l(t)]||getComputedStyle(e,"").getPropertyValue(t)}(e[0],t);var f=t;a(f)||((f={})[t]=n),function(e,t){d(e,(function(e){var n=";";d(t,(function(e,t){t=l.dash(t),n+=t+":"+function(e,t){return u(t)&&!s(p,i(e))?t+"px":t}(t,e)+";"})),e.style.cssText+=n}))}(e,f)};var p=["column-count","columns","font-weight","line-weight","opacity","z-index","zoom"];e.exports=t},function(e,t){t=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},e.exports=t},function(e,t,n){var r=n(0);t=function(e){var t=[];return r(e,(function(e){t.push(e)})),t},e.exports=t},function(e,t,n){var r=n(69),a=n(70),i=n(18),o=n(10),s=n(32);(t=r((function(e){if(e=e.replace(c,""),e=a(e),o(l,e))return e;for(var t=u.length;t--;){var n=u[t]+i(e);if(o(l,n))return n}return e}))).dash=r((function(e){var n=t(e);return(c.test(n)?"-":"")+s(n)}));var u=["O","ms","Moz","Webkit"],c=/^(O)|(ms)|(Moz)|(Webkit)|(-o-)|(-ms-)|(-moz-)|(-webkit-)/g,l=document.createElement("p").style;e.exports=t},function(e,t,n){var r=n(10);t=function(e,t){var n=function n(a){var i=n.cache,o=""+(t?t.apply(this,arguments):a);return r(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},e.exports=t},function(e,t,n){var r=n(33);function a(e,t){this[t]=e.replace(/\w/,(function(e){return e.toUpperCase()}))}t=function(e){var t=r(e),n=t[0];return t.shift(),t.forEach(a,t),n+t.join("")},e.exports=t},function(e,t,n){var r=n(5),a=n(0),i=n(3);function o(e){return function(t,n){var o=(t=i(t))[0];if(r(n))return o?o[e]:"";o&&a(t,(function(t){t[e]=n}))}}t={html:o("innerHTML"),text:o("textContent"),val:o("value")},e.exports=t},function(e,t){t=function(e){var t=e?e.length:0;if(t)return e[t-1]},e.exports=t},function(e,t,n){var r=n(0),a=n(3);t=function(e){e=a(e),r(e,(function(e){var t=e.parentNode;t&&t.removeChild(e)}))},e.exports=t},function(e,t,n){var r=n(34),a=n(1),i=n(2),o=n(0);n(3),t=function(e,t,n){var s=t;return a(t)&&(s="data-"+t),i(t)&&(s={},o(t,(function(e,t){s["data-"+t]=e}))),r(e,s,n)},e.exports=t},function(e,t,n){var r=n(76),a=n(5),i=n(3),o=n(0);function s(e){return function(t,n,s,u){t=i(t),a(u)&&(u=s,s=void 0),o(t,(function(t){r[e](t,n,s,u)}))}}t={on:s("add"),off:s("remove")},e.exports=t},function(e,t,n){var r=n(14),a=n(19);function i(){return!0}function o(){return!1}function s(e){var n,r=this.events[e.type],a=u.call(this,e,r);e=new t.Event(e);for(var i,o,s=0;(o=a[s++])&&!e.isPropagationStopped();)for(e.curTarget=o.el,i=0;(n=o.handlers[i++])&&!e.isImmediatePropagationStopped();)!1===n.handler.apply(o.el,[e])&&(e.preventDefault(),e.stopPropagation())}function u(e,t){var n,r,i,o,s=e.target,u=[],c=t.delegateCount;if(s.nodeType)for(;s!==this;s=s.parentNode||this){for(r=[],o=0;o<c;o++)void 0===r[n=(i=t[o]).selector+" "]&&(r[n]=a(this.querySelectorAll(n),s)),r[n]&&r.push(i);r.length&&u.push({el:s,handlers:r})}return c<t.length&&u.push({el:this,handlers:t.slice(c)}),u}t={add:function(e,t,n,r){var a,i={selector:n,handler:r};e.events||(e.events={}),(a=e.events[t])||((a=e.events[t]=[]).delegateCount=0,e.addEventListener(t,(function(){s.apply(e,arguments)}),!1)),n?a.splice(a.delegateCount++,0,i):a.push(i)},remove:function(e,t,n,r){var a=e.events;if(a&&a[t])for(var i,o=a[t],s=o.length;s--;)i=o[s],n&&i.selector!=n||i.handler!=r||(o.splice(s,1),i.selector&&o.delegateCount--)},Event:r({className:"Event",initialize:function(e){this.origEvent=e},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o,preventDefault:function(){var e=this.origEvent;this.isDefaultPrevented=i,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.origEvent;this.isPropagationStopped=i,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.origEvent;this.isImmediatePropagationStopped=i,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}})},e.exports=t},function(e,t,n){var r=n(11),a=n(78),i=n(3),o=n(1),s=n(0);function u(e){return o(e)?e.split(/\s+/):r(e)}t={add:function(e,n){e=i(e);var r=u(n);s(e,(function(e){var n=[];s(r,(function(r){t.has(e,r)||n.push(r)})),0!==n.length&&(e.className+=(e.className?" ":"")+n.join(" "))}))},has:function(e,t){e=i(e);var n=new RegExp("(^|\\s)"+t+"(\\s|$)");return a(e,(function(e){return n.test(e.className)}))},toggle:function(e,n){e=i(e),s(e,(function(e){if(!t.has(e,n))return t.add(e,n);t.remove(e,n)}))},remove:function(e,t){e=i(e);var n=u(t);s(e,(function(e){s(n,(function(t){e.classList.remove(t)}))}))}},e.exports=t},function(e,t,n){var r=n(16),a=n(8),i=n(4);n(12),t=function(e,t,n){t=r(t,n);for(var o=!a(e)&&i(e),s=(o||e).length,u=0;u<s;u++){var c=o?o[u]:u;if(t(e[c],c,e))return!0}return!1},e.exports=t},function(e,t,n){var r=n(0),a=n(3);function i(e){return function(t,n){t=a(t),r(t,(function(t){t.insertAdjacentHTML(e,n)}))}}t={before:i("beforebegin"),after:i("afterend"),append:i("beforeend"),prepend:i("afterbegin")},e.exports=t},function(e,t,n){var r=n(26),a=n(81),i=n(15),o=n(19);t=r((function(e,t){return t=a(t),i(e,(function(e){return!o(t,e)}))})),e.exports=t},function(e,t,n){var r=n(13);t=function(e){return function e(t,n){for(var a,i=t.length,o=-1;i--;)a=t[++o],r(a)?e(a,n):n.push(a);return n}(e,[])},e.exports=t},function(e,t){t=function(){},e.exports=t},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(21)),i=function(){function e(){this.id=0,this.visited=[]}return e.prototype.set=function(e,t){var n=this.visited,r=this.id,i={id:r,val:e};return a.default(i,t),n.push(i),this.id++,r},e.prototype.get=function(e){for(var t=this.visited,n=0,r=t.length;n<r;n++){var a=t[n];if(e===a.val)return a}return!1},e}();t.default=i},function(e,t,n){var r=n(85),a=n(86),i=/^\s+|\s+$/g;t=function(e,t){return null==t?e.replace(i,""):r(a(e,t),t)},e.exports=t},function(e,t){var n=/^\s+/;t=function(e,t){if(null==t)return e.replace(n,"");for(var r,a,i=0,o=e.length,s=t.length,u=!0;u&&i<o;)for(u=!1,r=-1,a=e.charAt(i);++r<s;)if(a===t[r]){u=!0,i++;break}return i>=o?"":e.substr(i,o)},e.exports=t},function(e,t){var n=/\s+$/;t=function(e,t){if(null==t)return e.replace(n,"");for(var r,a,i=e.length-1,o=t.length,s=!0;s&&i>=0;)for(s=!1,r=-1,a=e.charAt(i);++r<o;)if(a===t[r]){s=!0,i--;break}return i>=0?e.substring(0,i+1):""},e.exports=t},function(e,t,n){var r=n(4),a=(t=function(e){return o.test(e)?e.replace(s,u):e}).map={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i="(?:"+r(a).join("|")+")",o=new RegExp(i),s=new RegExp(i,"g"),u=function(e){return a[e]};e.exports=t},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(30)),s=i(n(38)),u=i(n(2)),c=i(n(89)),l=i(n(18)),d=i(n(37)),p=i(n(35)),f=i(n(0)),h=i(n(29)),m=i(n(6)),v=i(n(27)),b=i(n(1)),g=i(n(4)),y=i(n(28)),_=i(n(20)),x=n(36),k="luna-object-viewer-",w=function(e){function t(t){var n=e.call(this)||this;return n.$container=o.default(t),n.$container.addClass("luna-object-viewer"),n.bindEvent(),n}return a(t,e),t.prototype.set=function(e){b.default(e)&&(e=JSON.parse(e)),this.data={id:c.default("json"),enumerable:{0:e}},this.map={},function e(t,n){var r=n.id;if(r||0===r){if(n.type&&s.default(n.type,"Array")&&n.enumerable){var a=function(e,t,n){var r=[],a={};return f.default(e.enumerable,(function(e,t){var n=d.default(t);h.default(n)?a[t]=e:r[n]=e})),r.enumerable=a,r.type=n,r.id=t,e.unenumerable&&(r.unenumerable=e.unenumerable),e.symbol&&(r.symbol=e.symbol),e.proto&&(r.proto=e.proto),r}(n,r,n.type);a.length>100&&(n=function(e){var t=0,n={};f.default(p.default(e,100),(function(e){var r={},a=t;r.type="["+a,r.enumerable={},f.default(e,(function(e){r.enumerable[t]=e,t+=1}));var i=t-1;r.type+=(i-a>0?" \u2026 "+i:"")+"]",r.id=c.default("json"),r.jsonSplitArr=!0,n[t]=r}));var r={};return r.enumerable=n,r.id=e.id,r.type=e.type,e.unenumerable&&(r.unenumerable=e.unenumerable),e.symbol&&(r.symbol=e.symbol),e.proto&&(r.proto=e.proto),r}(a))}t[r]=n;var i=[];f.default(["enumerable","unenumerable","symbol"],(function(e){if(n[e])for(var t in n[e])i.push(n[e][t])})),n.proto&&i.push(n.proto);for(var o=0,l=i.length;o<l;o++){var m=i[o];u.default(m)&&e(t,m)}}}(this.map,this.data),this.appendTpl()},t.prototype.objToHtml=function(e,t){var n=this,r="";return f.default(["enumerable","unenumerable","symbol"],(function(a){if(e[a]){var i=g.default(e[a]);i.sort(x.sortObjName);for(var o=0,s=i.length;o<s;o++){var u=i[o];r+=n.createEl(u,e[a][u],a,t)}}})),e.proto&&(""===r?r=this.objToHtml(e.proto):r+=this.createEl("__proto__",e.proto,"proto")),r},t.prototype.createEl=function(e,t,n,r){void 0===r&&(r=!1);var a=typeof t;if(null===t)return"<li>"+d(e)+'<span class="'+k+'null">null</span></li>';if(m.default(t)||v.default(t))return"<li>"+d(e)+'<span class="'+(k+a)+'">'+x.encode(t)+"</span></li>";if("RegExp"===t.type&&(a="regexp"),"Number"===t.type&&(a="number"),"Number"===t.type||"RegExp"===t.type)return"<li>"+d(e)+'<span class="'+(k+a)+'">'+x.encode(t.value)+"</span></li>";if("Undefined"===t.type||"Symbol"===t.type)return"<li>"+d(e)+'<span class="'+k+'special">'+y.default(t.type)+"</span></li>";if("(...)"===t)return"<li>"+d(e)+'<span class="'+k+'special">'+t+"</span></li>";if(u.default(t)){var i=t.id,o=t.reference,s=O(t)||l.default(a),c="<li "+(r?'data-first-level="true"':"")+' data-object-id="'+(o||i)+'"><span class="'+(r?"":k+"expanded "+k+"collapsed")+'"></span>'+d(e)+'<span class="'+k+'open">'+(r?"":s)+'</span><ul class="'+(k+a)+'" '+(r?"":'style="display:none"')+">";return r&&(c+=this.objToHtml(this.map[i])),c+'</ul><span class="'+k+'close"></span></li>'}function d(e){if(r)return"";if(u.default(t)&&t.jsonSplitArr)return"";var a=k+"key";return"unenumerable"!==n&&"proto"!==n&&"symbol"!==n||(a=k+"key-lighter"),'<span class="'+a+'">'+x.encode(e)+"</span>: "}return"<li>"+d(e)+'<span class="'+k+typeof t+'">"'+x.encode(t)+'"</span></li>'},t.prototype.appendTpl=function(){var e=this.map[this.data.id];this.$container.html(this.objToHtml(e,!0))},t.prototype.bindEvent=function(){var e=this;this.$container.on("click","li",(function(t){var n=e.map,r=o.default(this),a=r.data("object-id"),i=o.default(this).find("span").eq(0);if(!r.data("first-level")&&(a&&(r.find("ul").html(e.objToHtml(n[a],!1)),r.rmAttr("data-object-id")),t.stopImmediatePropagation(),i.hasClass(k+"expanded"))){var s=r.find("ul").eq(0);i.hasClass(k+"collapsed")?(i.rmClass(k+"collapsed"),s.show()):(i.addClass(k+"collapsed"),s.hide()),e.emit("change")}}))},t}(_.default);function O(e){var t=e.type,n=e.value;if(t)return"Function"===t?x.getFnAbstract(n):"Array"===t&&e.unenumerable?"Array("+e.unenumerable.length+")":e.type}t.default=w,t.getObjAbstract=O},function(e,t){var n=0;t=function(e){var t=++n+"";return e?e+t:t},e.exports=t},function(e,t,n){}])},function(e,t,n){var r,a;a=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r=n(1).Beautifier,a=n(5).Options;e.exports=function(e,t){return new r(e,t).beautify()},e.exports.defaultOptions=function(){return new a}},function(e,t,n){"use strict";var r=n(2).Output,a=n(3).Token,i=n(4),o=n(5).Options,s=n(7).Tokenizer,u=n(7).line_starters,c=n(7).positionable_operators,l=n(7).TOKEN;function d(e,t){return-1!==t.indexOf(e)}function p(e,t){return e&&e.type===l.RESERVED&&e.text===t}function f(e,t){return e&&e.type===l.RESERVED&&d(e.text,t)}var h=["case","return","do","if","throw","else","await","break","continue","async"],m=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].replace(/-/g,"_")]=e[n];return t}(["before-newline","after-newline","preserve-newline"]),v=[m.before_newline,m.preserve_newline],b="BlockStatement",g="Statement",y="ObjectLiteral",_="ArrayLiteral",x="ForInitializer",k="Conditional",w="Expression";function O(e,t){t.multiline_frame||t.mode===x||t.mode===k||e.remove_indent(t.start_line_index)}function j(e){return e===_}function S(e){return d(e,[w,x,k])}function C(e,t){t=t||{},this._source_text=e||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new o(t)}C.prototype.create_flags=function(e,t){var n=0;return e&&(n=e.indentation_level,!this._output.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level)),{mode:t,parent:e,last_token:e?e.last_token:new a(l.START_BLOCK,""),last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:e?e.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0}},C.prototype._reset=function(e){var t=e.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new r(this._options,t),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(b);var n=new s(e,this._options);return this._tokens=n.tokenize(),e},C.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._reset(this._source_text),t=this._options.eol;"auto"===this._options.eol&&(t="\n",e&&i.lineBreak.test(e||"")&&(t=e.match(i.lineBreak)[0]));for(var n=this._tokens.next();n;)this.handle_token(n),this._last_last_text=this._flags.last_token.text,this._flags.last_token=n,n=this._tokens.next();return this._output.get_code(t)},C.prototype.handle_token=function(e,t){e.type===l.START_EXPR?this.handle_start_expr(e):e.type===l.END_EXPR?this.handle_end_expr(e):e.type===l.START_BLOCK?this.handle_start_block(e):e.type===l.END_BLOCK?this.handle_end_block(e):e.type===l.WORD||e.type===l.RESERVED?this.handle_word(e):e.type===l.SEMICOLON?this.handle_semicolon(e):e.type===l.STRING?this.handle_string(e):e.type===l.EQUALS?this.handle_equals(e):e.type===l.OPERATOR?this.handle_operator(e):e.type===l.COMMA?this.handle_comma(e):e.type===l.BLOCK_COMMENT?this.handle_block_comment(e,t):e.type===l.COMMENT?this.handle_comment(e,t):e.type===l.DOT?this.handle_dot(e):e.type===l.EOF?this.handle_eof(e):(e.type,l.UNKNOWN,this.handle_unknown(e,t))},C.prototype.handle_whitespace_and_comments=function(e,t){var n=e.newlines,r=this._options.keep_array_indentation&&j(this._flags.mode);if(e.comments_before)for(var a=e.comments_before.next();a;)this.handle_whitespace_and_comments(a,t),this.handle_token(a,t),a=e.comments_before.next();if(r)for(var i=0;i<n;i+=1)this.print_newline(i>0,t);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,t);for(var o=1;o<n;o+=1)this.print_newline(!0,t)}};var T=["async","break","continue","return","throw","yield"];C.prototype.allow_wrap_or_preserved_newline=function(e,t){if(t=void 0!==t&&t,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&e.newlines||t;if(d(this._flags.last_token.text,c)||d(e.text,c)){var r=d(this._flags.last_token.text,c)&&d(this._options.operator_position,v)||d(e.text,c);n=n&&r}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(f(this._flags.last_token,T))return;this._output.set_wrap_point()}}},C.prototype.print_newline=function(e,t){if(!t&&";"!==this._flags.last_token.text&&","!==this._flags.last_token.text&&"="!==this._flags.last_token.text&&(this._flags.last_token.type!==l.OPERATOR||"--"===this._flags.last_token.text||"++"===this._flags.last_token.text))for(var n=this._tokens.peek();!(this._flags.mode!==g||this._flags.if_block&&p(n,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(e)&&(this._flags.multiline_frame=!0)},C.prototype.print_token_line_indentation=function(e){this._output.just_added_newline()&&(this._options.keep_array_indentation&&e.newlines&&("["===e.text||j(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(e.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},C.prototype.print_token=function(e){if(this._output.raw)this._output.add_raw_token(e);else{if(this._options.comma_first&&e.previous&&e.previous.type===l.COMMA&&this._output.just_added_newline()&&","===this._output.previous_line.last()){var t=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(t),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(e),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(e),this._output.non_breaking_space=!0,this._output.add_token(e.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)}},C.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},C.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},C.prototype.set_mode=function(e){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,e),this._flags=this.create_flags(this._previous_flags,e),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},C.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===g&&O(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},C.prototype.start_of_object_property=function(){return this._flags.parent.mode===y&&this._flags.mode===g&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||f(this._flags.last_token,["get","set"]))},C.prototype.start_of_statement=function(e){var t=!1;return!!(t=(t=(t=(t=(t=(t=(t=t||f(this._flags.last_token,["var","let","const"])&&e.type===l.WORD)||p(this._flags.last_token,"do"))||!(this._flags.parent.mode===y&&this._flags.mode===g)&&f(this._flags.last_token,T)&&!e.newlines)||p(this._flags.last_token,"else")&&!(p(e,"if")&&!e.comments_before))||this._flags.last_token.type===l.END_EXPR&&(this._previous_flags.mode===x||this._previous_flags.mode===k))||this._flags.last_token.type===l.WORD&&this._flags.mode===b&&!this._flags.in_case&&!("--"===e.text||"++"===e.text)&&"function"!==this._last_last_text&&e.type!==l.WORD&&e.type!==l.RESERVED)||this._flags.mode===y&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||f(this._flags.last_token,["get","set"])))&&(this.set_mode(g),this.indent(),this.handle_whitespace_and_comments(e,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e,f(e,["do","for","if","while"])),!0)},C.prototype.handle_start_expr=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e);var t=w;if("["===e.text){if(this._flags.last_token.type===l.WORD||")"===this._flags.last_token.text)return f(this._flags.last_token,u)&&(this._output.space_before_token=!0),this.print_token(e),this.set_mode(t),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));t=_,j(this._flags.mode)&&("["!==this._flags.last_token.text&&(","!==this._flags.last_token.text||"]"!==this._last_last_text&&"}"!==this._last_last_text)||this._options.keep_array_indentation||this.print_newline()),d(this._flags.last_token.type,[l.START_EXPR,l.END_EXPR,l.WORD,l.OPERATOR])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===l.RESERVED)"for"===this._flags.last_token.text?(this._output.space_before_token=this._options.space_before_conditional,t=x):d(this._flags.last_token.text,["if","while"])?(this._output.space_before_token=this._options.space_before_conditional,t=k):d(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:"import"===this._flags.last_token.text&&""===e.whitespace_before?this._output.space_before_token=!1:(d(this._flags.last_token.text,u)||"catch"===this._flags.last_token.text)&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e);else if(this._flags.last_token.type===l.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);f(n,["async","function"])||"*"===n.text&&f(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===y&&("{"!==n.text&&","!==n.text&&("*"!==n.text||"{"!==r.text&&","!==r.text)||(this._output.space_before_token=!0))}}else this.allow_wrap_or_preserved_newline(e);(this._flags.last_token.type===l.RESERVED&&("function"===this._flags.last_word||"typeof"===this._flags.last_word)||"*"===this._flags.last_token.text&&(d(this._last_last_text,["function","yield"])||this._flags.mode===y&&d(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}";"===this._flags.last_token.text||this._flags.last_token.type===l.START_BLOCK?this.print_newline():this._flags.last_token.type!==l.END_EXPR&&this._flags.last_token.type!==l.START_EXPR&&this._flags.last_token.type!==l.END_BLOCK&&"."!==this._flags.last_token.text&&this._flags.last_token.type!==l.COMMA||this.allow_wrap_or_preserved_newline(e,e.newlines),this.print_token(e),this.set_mode(t),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},C.prototype.handle_end_expr=function(e){for(;this._flags.mode===g;)this.restore_mode();this.handle_whitespace_and_comments(e),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(e,"]"===e.text&&j(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==l.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(e),this.restore_mode(),O(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===k&&(this._previous_flags.mode=w,this._flags.do_block=!1,this._flags.do_while=!1)},C.prototype.handle_start_block=function(e){this.handle_whitespace_and_comments(e);var t=this._tokens.peek(),n=this._tokens.peek(1);"switch"===this._flags.last_word&&this._flags.last_token.type===l.END_EXPR?(this.set_mode(b),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(b):n&&(d(n.text,[":",","])&&d(t.type,[l.STRING,l.WORD,l.RESERVED])||d(t.text,["get","set","..."])&&d(n.type,[l.WORD,l.RESERVED]))?d(this._last_last_text,["class","interface"])?this.set_mode(b):this.set_mode(y):this._flags.last_token.type===l.OPERATOR&&"=>"===this._flags.last_token.text?this.set_mode(b):d(this._flags.last_token.type,[l.EQUALS,l.START_EXPR,l.COMMA,l.OPERATOR])||f(this._flags.last_token,["return","throw","import","default"])?this.set_mode(y):this.set_mode(b);var r=!t.comments_before&&"}"===t.text,a=r&&"function"===this._flags.last_word&&this._flags.last_token.type===l.END_EXPR;if(this._options.brace_preserve_inline){var i=0,o=null;this._flags.inline_frame=!0;do{if(i+=1,(o=this._tokens.peek(i-1)).newlines){this._flags.inline_frame=!1;break}}while(o.type!==l.EOF&&(o.type!==l.END_BLOCK||o.opened!==e))}("expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==l.OPERATOR&&(a||this._flags.last_token.type===l.EQUALS||f(this._flags.last_token,h)&&"else"!==this._flags.last_token.text)?this._output.space_before_token=!0:this.print_newline(!1,!0):(!j(this._previous_flags.mode)||this._flags.last_token.type!==l.START_EXPR&&this._flags.last_token.type!==l.COMMA||((this._flags.last_token.type===l.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(e),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==l.OPERATOR&&this._flags.last_token.type!==l.START_EXPR&&(this._flags.last_token.type!==l.START_BLOCK||this._flags.inline_frame?this._output.space_before_token=!0:this.print_newline())),this.print_token(e),this.indent(),r||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},C.prototype.handle_end_block=function(e){for(this.handle_whitespace_and_comments(e);this._flags.mode===g;)this.restore_mode();var t=this._flags.last_token.type===l.START_BLOCK;this._flags.inline_frame&&!t?this._output.space_before_token=!0:"expand"===this._options.brace_style?t||this.print_newline():t||(j(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(e)},C.prototype.handle_word=function(e){if(e.type===l.RESERVED&&(d(e.text,["set","get"])&&this._flags.mode!==y||"import"===e.text&&"("===this._tokens.peek().text||d(e.text,["as","from"])&&!this._flags.import_block||this._flags.mode===y&&":"===this._tokens.peek().text)&&(e.type=l.WORD),this.start_of_statement(e)?f(this._flags.last_token,["var","let","const"])&&e.type===l.WORD&&(this._flags.declaration_statement=!0):!e.newlines||S(this._flags.mode)||this._flags.last_token.type===l.OPERATOR&&"--"!==this._flags.last_token.text&&"++"!==this._flags.last_token.text||this._flags.last_token.type===l.EQUALS||!this._options.preserve_newlines&&f(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(e):(this.handle_whitespace_and_comments(e),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(p(e,"while"))return this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&p(e,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===g;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&f(e,["case","default"]))return this.print_newline(),this._flags.last_token.type!==l.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(e),void(this._flags.in_case=!0);if(this._flags.last_token.type!==l.COMMA&&this._flags.last_token.type!==l.START_EXPR&&this._flags.last_token.type!==l.EQUALS&&this._flags.last_token.type!==l.OPERATOR||this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e),p(e,"function"))return(d(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!d(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==l.OPERATOR)&&(this._output.just_added_blankline()||e.comments_before||(this.print_newline(),this.print_newline(!0))),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD?f(this._flags.last_token,["get","set","new","export"])||f(this._flags.last_token,T)||p(this._flags.last_token,"default")&&"export"===this._last_last_text||"declare"===this._flags.last_token.text?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===l.OPERATOR||"="===this._flags.last_token.text?this._output.space_before_token=!0:(this._flags.multiline_frame||!S(this._flags.mode)&&!j(this._flags.mode))&&this.print_newline(),this.print_token(e),void(this._flags.last_word=e.text);var t="NONE";this._flags.last_token.type===l.END_BLOCK?this._previous_flags.inline_frame?t="SPACE":f(e,["else","catch","finally","from"])?"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines?t="NEWLINE":(t="SPACE",this._output.space_before_token=!0):t="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&this._flags.mode===b?t="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&S(this._flags.mode)?t="SPACE":this._flags.last_token.type===l.STRING?t="NEWLINE":this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||"*"===this._flags.last_token.text&&(d(this._last_last_text,["function","yield"])||this._flags.mode===y&&d(this._last_last_text,["{",","]))?t="SPACE":this._flags.last_token.type===l.START_BLOCK?t=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===l.END_EXPR&&(this._output.space_before_token=!0,t="NEWLINE"),f(e,u)&&")"!==this._flags.last_token.text&&(t=this._flags.inline_frame||"else"===this._flags.last_token.text||"export"===this._flags.last_token.text?"SPACE":"NEWLINE"),f(e,["else","catch","finally"])?(this._flags.last_token.type!==l.END_BLOCK||this._previous_flags.mode!==b||"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&e.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),"}"!==this._output.current_line.last()&&this.print_newline(),this._output.space_before_token=!0):"NEWLINE"===t?f(this._flags.last_token,h)||"declare"===this._flags.last_token.text&&f(e,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==l.END_EXPR?this._flags.last_token.type===l.START_EXPR&&f(e,["var","let","const"])||":"===this._flags.last_token.text||(p(e,"if")&&p(e.previous,"else")?this._output.space_before_token=!0:this.print_newline()):f(e,u)&&")"!==this._flags.last_token.text&&this.print_newline():this._flags.multiline_frame&&j(this._flags.mode)&&","===this._flags.last_token.text&&"}"===this._last_last_text?this.print_newline():"SPACE"===t&&(this._output.space_before_token=!0),!e.previous||e.previous.type!==l.WORD&&e.previous.type!==l.RESERVED||(this._output.space_before_token=!0),this.print_token(e),this._flags.last_word=e.text,e.type===l.RESERVED&&("do"===e.text?this._flags.do_block=!0:"if"===e.text?this._flags.if_block=!0:"import"===e.text?this._flags.import_block=!0:this._flags.import_block&&p(e,"from")&&(this._flags.import_block=!1))},C.prototype.handle_semicolon=function(e){this.start_of_statement(e)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(e);for(var t=this._tokens.peek();!(this._flags.mode!==g||this._flags.if_block&&p(t,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(e)},C.prototype.handle_string=function(e){this.start_of_statement(e)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(e),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e):this.print_newline()),this.print_token(e)},C.prototype.handle_equals=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0},C.prototype.handle_comma=function(e){this.handle_whitespace_and_comments(e,!0),this.print_token(e),this._output.space_before_token=!0,this._flags.declaration_statement?(S(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)):this._flags.mode===y||this._flags.mode===g&&this._flags.parent.mode===y?(this._flags.mode===g&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)},C.prototype.handle_operator=function(e){var t="*"===e.text&&(f(this._flags.last_token,["function","yield"])||d(this._flags.last_token.type,[l.START_BLOCK,l.COMMA,l.END_BLOCK,l.SEMICOLON])),n=d(e.text,["-","+"])&&(d(this._flags.last_token.type,[l.START_BLOCK,l.START_EXPR,l.EQUALS,l.OPERATOR])||d(this._flags.last_token.text,u)||","===this._flags.last_token.text);if(this.start_of_statement(e));else{var r=!t;this.handle_whitespace_and_comments(e,r)}if(f(this._flags.last_token,h))return this._output.space_before_token=!0,void this.print_token(e);if("*"!==e.text||this._flags.last_token.type!==l.DOT)if("::"!==e.text){if(this._flags.last_token.type===l.OPERATOR&&d(this._options.operator_position,v)&&this.allow_wrap_or_preserved_newline(e),":"===e.text&&this._flags.in_case)return this.print_token(e),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==l.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0);var a=!0,i=!0,o=!1;if(":"===e.text?0===this._flags.ternary_depth?a=!1:(this._flags.ternary_depth-=1,o=!0):"?"===e.text&&(this._flags.ternary_depth+=1),!n&&!t&&this._options.preserve_newlines&&d(e.text,c)){var s=":"===e.text,p=s&&o,y=s&&!o;switch(this._options.operator_position){case m.before_newline:return this._output.space_before_token=!y,this.print_token(e),s&&!p||this.allow_wrap_or_preserved_newline(e),void(this._output.space_before_token=!0);case m.after_newline:return this._output.space_before_token=!0,!s||p?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(e):this._output.space_before_token=!1,this.print_token(e),void(this._output.space_before_token=!0);case m.preserve_newline:return y||this.allow_wrap_or_preserved_newline(e),a=!(this._output.just_added_newline()||y),this._output.space_before_token=a,this.print_token(e),void(this._output.space_before_token=!0)}}if(t){this.allow_wrap_or_preserved_newline(e),a=!1;var _=this._tokens.peek();i=_&&d(_.type,[l.WORD,l.RESERVED])}else"..."===e.text?(this.allow_wrap_or_preserved_newline(e),a=this._flags.last_token.type===l.START_BLOCK,i=!1):(d(e.text,["--","++","!","~"])||n)&&(this._flags.last_token.type!==l.COMMA&&this._flags.last_token.type!==l.START_EXPR||this.allow_wrap_or_preserved_newline(e),a=!1,i=!1,!e.newlines||"--"!==e.text&&"++"!==e.text||this.print_newline(!1,!0),";"===this._flags.last_token.text&&S(this._flags.mode)&&(a=!0),this._flags.last_token.type===l.RESERVED?a=!0:this._flags.last_token.type===l.END_EXPR?a=!("]"===this._flags.last_token.text&&("--"===e.text||"++"===e.text)):this._flags.last_token.type===l.OPERATOR&&(a=d(e.text,["--","-","++","+"])&&d(this._flags.last_token.text,["--","-","++","+"]),d(e.text,["+","-"])&&d(this._flags.last_token.text,["--","++"])&&(i=!0)),(this._flags.mode!==b||this._flags.inline_frame)&&this._flags.mode!==g||"{"!==this._flags.last_token.text&&";"!==this._flags.last_token.text||this.print_newline());this._output.space_before_token=this._output.space_before_token||a,this.print_token(e),this._output.space_before_token=i}else this.print_token(e);else this.print_token(e)},C.prototype.handle_block_comment=function(e,t){return this._output.raw?(this._output.add_raw_token(e),void(e.directives&&"end"===e.directives.preserve&&(this._output.raw=this._options.test_output_raw))):e.directives?(this.print_newline(!1,t),this.print_token(e),"start"===e.directives.preserve&&(this._output.raw=!0),void this.print_newline(!1,!0)):i.newline.test(e.text)||e.newlines?void this.print_block_commment(e,t):(this._output.space_before_token=!0,this.print_token(e),void(this._output.space_before_token=!0))},C.prototype.print_block_commment=function(e,t){var n,r=function(e){for(var t=[],n=(e=e.replace(i.allLineBreaks,"\n")).indexOf("\n");-1!==n;)t.push(e.substring(0,n)),n=(e=e.substring(n+1)).indexOf("\n");return e.length&&t.push(e),t}(e.text),a=!1,o=!1,s=e.whitespace_before,u=s.length;if(this.print_newline(!1,t),this.print_token_line_indentation(e),this._output.add_token(r[0]),this.print_newline(!1,t),r.length>1){for(a=function(e,t){for(var n=0;n<e.length;n++)if("*"!==e[n].trim().charAt(0))return!1;return!0}(r=r.slice(1)),o=function(e,t){for(var n,r=0,a=e.length;r<a;r++)if((n=e[r])&&0!==n.indexOf(t))return!1;return!0}(r,s),a&&(this._flags.alignment=1),n=0;n<r.length;n++)a?(this.print_token_line_indentation(e),this._output.add_token(r[n].replace(/^\s+/g,""))):o&&r[n]?(this.print_token_line_indentation(e),this._output.add_token(r[n].substring(u))):(this._output.current_line.set_indent(-1),this._output.add_token(r[n])),this.print_newline(!1,t);this._flags.alignment=0}},C.prototype.handle_comment=function(e,t){e.newlines?this.print_newline(!1,t):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(e),this.print_newline(!1,t)},C.prototype.handle_dot=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e,!0),f(this._flags.last_token,h)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(e,")"===this._flags.last_token.text&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(e)},C.prototype.handle_unknown=function(e,t){this.print_token(e),"\n"===e.text[e.text.length-1]&&this.print_newline(!1,t)},C.prototype.handle_eof=function(e){for(;this._flags.mode===g;)this.restore_mode();this.handle_whitespace_and_comments(e)},e.exports.Beautifier=C},function(e,t,n){"use strict";function r(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function a(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function i(e,t){this.__indent_cache=new a(e,t),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new r(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}r.prototype.clone_empty=function(){var e=new r(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},r.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},r.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},r.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},r.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},r.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},r.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},r.prototype.is_empty=function(){return 0===this.__items.length},r.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},r.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},r.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},r.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},r.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},r.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},r.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},a.prototype.get_indent_size=function(e,t){var n=this.__base_string_length;return t=t||0,e<0&&(n=0),(n+=e*this.__indent_size)+t},a.prototype.get_indent_string=function(e,t){var n=this.__base_string;return t=t||0,e<0&&(e=0,n=""),t+=e*this.__indent_size,this.__ensure_cache(t),n+this.__cache[t]},a.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},a.prototype.__add_column=function(){var e=this.__cache.length,t=0,n="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,n=new Array(t+1).join(this.__indent_string)),e&&(n+=new Array(e+1).join(" ")),this.__cache.push(n)},i.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},i.prototype.get_line_number=function(){return this.__lines.length},i.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},i.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},i.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},i.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline()||(this.raw||this.__add_outputline(),0))},i.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==e&&(n=n.replace(/[\n]/g,e)),n},i.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},i.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},i.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},i.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},i.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},i.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},i.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},i.prototype.just_added_newline=function(){return this.current_line.is_empty()},i.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},i.prototype.ensure_empty_line_above=function(e,t){for(var n=this.__lines.length-2;n>=0;){var a=this.__lines[n];if(a.is_empty())break;if(0!==a.item(0).indexOf(e)&&a.item(-1)!==t){this.__lines.splice(n+1,0,new r(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},e.exports.Output=i},function(e,t,n){"use strict";e.exports.Token=function(e,t,n,r){this.type=e,this.text=t,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},function(e,t,n){"use strict";var r="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",a="(?:\\\\u[0-9a-fA-F]{4}|[\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a"+r+"])";t.identifier=new RegExp(a+"(?:\\\\u[0-9a-fA-F]{4}|[\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f])*","g"),t.identifierStart=new RegExp(a),t.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|[\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a"+r+"\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f])+"),t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp("\r\n|"+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g")},function(e,t,n){"use strict";var r=n(6).Options,a=["before-newline","after-newline","preserve-newline"];function i(e){r.call(this,e,"js");var t=this.raw_options.brace_style||null;"expand-strict"===t?this.raw_options.brace_style="expand":"collapse-preserve-inline"===t?this.raw_options.brace_style="collapse,preserve-inline":void 0!==this.raw_options.braces_on_own_line&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var i=0;i<n.length;i++)"preserve-inline"===n[i]?this.brace_preserve_inline=!0:this.brace_style=n[i];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",a),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}i.prototype=new r,e.exports.Options=i},function(e,t,n){"use strict";function r(e,t){this.raw_options=a(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php"],["auto"])}function a(e,t){var n,r={};for(n in e=i(e))n!==t&&(r[n]=e[n]);if(t&&e[t])for(n in e[t])r[n]=e[t][n];return r}function i(e){var t,n={};for(t in e)n[t.replace(/-/g,"_")]=e[t];return n}r.prototype._get_array=function(e,t){var n=this.raw_options[e],r=t||[];return"object"==typeof n?null!==n&&"function"==typeof n.concat&&(r=n.concat()):"string"==typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},r.prototype._get_boolean=function(e,t){var n=this.raw_options[e];return void 0===n?!!t:!!n},r.prototype._get_characters=function(e,t){var n=this.raw_options[e],r=t||"";return"string"==typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},r.prototype._get_number=function(e,t){var n=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var r=parseInt(n,10);return isNaN(r)&&(r=t),r},r.prototype._get_selection=function(e,t,n){var r=this._get_selection_list(e,t,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r[0]},r.prototype._get_selection_list=function(e,t,n){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(n=n||[t[0]],!this._is_valid_selection(n,t))throw new Error("Invalid Default Value!");var r=this._get_array(e,n);if(!this._is_valid_selection(r,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r},r.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some((function(e){return-1===t.indexOf(e)}))},e.exports.Options=r,e.exports.normalizeOpts=i,e.exports.mergeOpts=a},function(e,t,n){"use strict";var r=n(8).InputScanner,a=n(9).Tokenizer,i=n(9).TOKEN,o=n(13).Directives,s=n(4),u=n(12).Pattern,c=n(14).TemplatablePattern;function l(e,t){return-1!==t.indexOf(e)}var d={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:i.START,RAW:i.RAW,EOF:i.EOF},p=new o(/\/\*/,/\*\//),f=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/,h=/[0-9]/,m=/[^\d\.]/,v=">>> === !== << && >= ** != == <= >> || < / - + > : & % ? ^ | *".split(" "),b=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ++ %= &= *= |= = ! ? > < : / ^ - + * & % ~ |";b=(b=b.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")).replace(/ /g,"|");var g,y=new RegExp(b),_="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),x=_.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),k=new RegExp("^(?:"+x.join("|")+")$"),w=function(e,t){a.call(this,e,t),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new u(this._input),r=new c(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(s.identifier).matching(s.identifierMatch),number:n.matching(f),punct:n.matching(y),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(s.lineBreak),shebang:n.starting_with(/#!/).until_after(s.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};(w.prototype=new a)._is_comment=function(e){return e.type===d.COMMENT||e.type===d.BLOCK_COMMENT||e.type===d.UNKNOWN},w.prototype._is_opening=function(e){return e.type===d.START_BLOCK||e.type===d.START_EXPR},w.prototype._is_closing=function(e,t){return(e.type===d.END_BLOCK||e.type===d.END_EXPR)&&t&&("]"===e.text&&"["===t.text||")"===e.text&&"("===t.text||"}"===e.text&&"{"===t.text)},w.prototype._reset=function(){g=!1},w.prototype._get_next_token=function(e,t){var n=null;this._readWhitespace();var r=this._input.peek();return null===r?this._create_token(d.EOF,""):n=(n=(n=(n=(n=(n=(n=(n=(n=n||this._read_non_javascript(r))||this._read_string(r))||this._read_word(e))||this._read_singles(r))||this._read_comment(r))||this._read_regexp(r,e))||this._read_xml(r,e))||this._read_punctuation())||this._create_token(d.UNKNOWN,this._input.next())},w.prototype._read_word=function(e){var t;return""!==(t=this.__patterns.identifier.read())?(t=t.replace(s.allLineBreaks,"\n"),e.type!==d.DOT&&(e.type!==d.RESERVED||"set"!==e.text&&"get"!==e.text)&&k.test(t)?"in"===t||"of"===t?this._create_token(d.OPERATOR,t):this._create_token(d.RESERVED,t):this._create_token(d.WORD,t)):""!==(t=this.__patterns.number.read())?this._create_token(d.WORD,t):void 0},w.prototype._read_singles=function(e){var t=null;return"("===e||"["===e?t=this._create_token(d.START_EXPR,e):")"===e||"]"===e?t=this._create_token(d.END_EXPR,e):"{"===e?t=this._create_token(d.START_BLOCK,e):"}"===e?t=this._create_token(d.END_BLOCK,e):";"===e?t=this._create_token(d.SEMICOLON,e):"."===e&&m.test(this._input.peek(1))?t=this._create_token(d.DOT,e):","===e&&(t=this._create_token(d.COMMA,e)),t&&this._input.next(),t},w.prototype._read_punctuation=function(){var e=this.__patterns.punct.read();if(""!==e)return"="===e?this._create_token(d.EQUALS,e):this._create_token(d.OPERATOR,e)},w.prototype._read_non_javascript=function(e){var t="";if("#"===e){if(this._is_first_token()&&(t=this.__patterns.shebang.read()))return this._create_token(d.UNKNOWN,t.trim()+"\n");if(t=this.__patterns.include.read())return this._create_token(d.UNKNOWN,t.trim()+"\n");e=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(h)){do{n+=e=this._input.next()}while(this._input.hasNext()&&"#"!==e&&"="!==e);return"#"===e||("["===this._input.peek()&&"]"===this._input.peek(1)?(n+="[]",this._input.next(),this._input.next()):"{"===this._input.peek()&&"}"===this._input.peek(1)&&(n+="{}",this._input.next(),this._input.next())),this._create_token(d.WORD,n)}this._input.back()}else if("<"===e&&this._is_first_token()){if(t=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(s.newline);)t+=this._input.next();return g=!0,this._create_token(d.COMMENT,t)}}else if(g&&"-"===e&&(t=this.__patterns.html_comment_end.read()))return g=!1,this._create_token(d.COMMENT,t);return null},w.prototype._read_comment=function(e){var t=null;if("/"===e){var n="";if("*"===this._input.peek(1)){n=this.__patterns.block_comment.read();var r=p.get_directives(n);r&&"start"===r.ignore&&(n+=p.readIgnored(this._input)),n=n.replace(s.allLineBreaks,"\n"),(t=this._create_token(d.BLOCK_COMMENT,n)).directives=r}else"/"===this._input.peek(1)&&(n=this.__patterns.comment.read(),t=this._create_token(d.COMMENT,n))}return t},w.prototype._read_string=function(e){if("`"===e||"'"===e||'"'===e){var t=this._input.next();return this.has_char_escapes=!1,t+="`"===e?this._read_string_recursive("`",!0,"${"):this._read_string_recursive(e),this.has_char_escapes&&this._options.unescape_strings&&(t=function(e){for(var t="",n=0,a=new r(e),i=null;a.hasNext();)if((i=a.match(/([\s]|[^\\]|\\\\)+/g))&&(t+=i[0]),"\\"===a.peek()){if(a.next(),"x"===a.peek())i=a.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==a.peek()){t+="\\",a.hasNext()&&(t+=a.next());continue}i=a.match(/u([0-9A-Fa-f]{4})/g)}if(!i)return e;if((n=parseInt(i[1],16))>126&&n<=255&&0===i[0].indexOf("x"))return e;if(n>=0&&n<32){t+="\\"+i[0];continue}t+=34===n||39===n||92===n?"\\"+String.fromCharCode(n):String.fromCharCode(n)}return t}(t)),this._input.peek()===e&&(t+=this._input.next()),t=t.replace(s.allLineBreaks,"\n"),this._create_token(d.STRING,t)}return null},w.prototype._allow_regexp_or_xml=function(e){return e.type===d.RESERVED&&l(e.text,["return","case","throw","else","do","typeof","yield"])||e.type===d.END_EXPR&&")"===e.text&&e.opened.previous.type===d.RESERVED&&l(e.opened.previous.text,["if","while","for"])||l(e.type,[d.COMMENT,d.START_EXPR,d.START_BLOCK,d.START,d.END_BLOCK,d.OPERATOR,d.EQUALS,d.EOF,d.SEMICOLON,d.COMMA])},w.prototype._read_regexp=function(e,t){if("/"===e&&this._allow_regexp_or_xml(t)){for(var n=this._input.next(),r=!1,a=!1;this._input.hasNext()&&(r||a||this._input.peek()!==e)&&!this._input.testChar(s.newline);)n+=this._input.peek(),r?r=!1:(r="\\"===this._input.peek(),"["===this._input.peek()?a=!0:"]"===this._input.peek()&&(a=!1)),this._input.next();return this._input.peek()===e&&(n+=this._input.next(),n+=this._input.read(s.identifier)),this._create_token(d.STRING,n)}return null},w.prototype._read_xml=function(e,t){if(this._options.e4x&&"<"===e&&this._allow_regexp_or_xml(t)){var n="",r=this.__patterns.xml.read_match();if(r){for(var a=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),i=0===a.indexOf("{"),o=0;r;){var u=!!r[1],c=r[2];if(!(r[r.length-1]||"![CDATA["===c.slice(0,8))&&(c===a||i&&c.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(u?--o:++o),n+=r[0],o<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(s.allLineBreaks,"\n"),this._create_token(d.STRING,n)}}return null},w.prototype._read_string_recursive=function(e,t,n){var r,a;"'"===e?a=this.__patterns.single_quote:'"'===e?a=this.__patterns.double_quote:"`"===e?a=this.__patterns.template_text:"}"===e&&(a=this.__patterns.template_expression);for(var i=a.read(),o="";this._input.hasNext();){if((o=this._input.next())===e||!t&&s.newline.test(o)){this._input.back();break}"\\"===o&&this._input.hasNext()?("x"===(r=this._input.peek())||"u"===r?this.has_char_escapes=!0:"\r"===r&&"\n"===this._input.peek(1)&&this._input.next(),o+=this._input.next()):n&&("${"===n&&"$"===o&&"{"===this._input.peek()&&(o+=this._input.next()),n===o&&(o+="`"===e?this._read_string_recursive("}",t,"`"):this._read_string_recursive("`",t,"${"),this._input.hasNext()&&(o+=this._input.next()))),i+=o+=a.read()}return i},e.exports.Tokenizer=w,e.exports.TOKEN=d,e.exports.positionable_operators=v.slice(),e.exports.line_starters=_.slice()},function(e,t,n){"use strict";var r=RegExp.prototype.hasOwnProperty("sticky");function a(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}a.prototype.restart=function(){this.__position=0},a.prototype.back=function(){this.__position>0&&(this.__position-=1)},a.prototype.hasNext=function(){return this.__position<this.__input_length},a.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},a.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},a.prototype.__match=function(e,t){e.lastIndex=t;var n=e.exec(this.__input);return!n||r&&e.sticky||n.index!==t&&(n=null),n},a.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},a.prototype.testChar=function(e,t){var n=this.peek(t);return e.lastIndex=0,null!==n&&e.test(n)},a.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},a.prototype.read=function(e,t,n){var r,a="";return e&&(r=this.match(e))&&(a+=r[0]),!t||!r&&e||(a+=this.readUntil(t,n)),a},a.prototype.readUntil=function(e,t){var n,r=this.__position;e.lastIndex=this.__position;var a=e.exec(this.__input);return a?(r=a.index,t&&(r+=a[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},a.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},a.prototype.get_regexp=function(e,t){var n=null,a="g";return t&&r&&(a="y"),"string"==typeof e&&""!==e?n=new RegExp(e,a):e&&(n=new RegExp(e.source,a)),n},a.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},a.prototype.peekUntilAfter=function(e){var t=this.__position,n=this.readUntilAfter(e);return this.__position=t,n},a.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},e.exports.InputScanner=a},function(e,t,n){"use strict";var r=n(8).InputScanner,a=n(3).Token,i=n(10).TokenStream,o=n(11).WhitespacePattern,s={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},u=function(e,t){this._input=new r(e),this._options=t||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new o(this._input)};u.prototype.tokenize=function(){var e;this._input.restart(),this.__tokens=new i,this._reset();for(var t=new a(s.START,""),n=null,r=[],o=new i;t.type!==s.EOF;){for(e=this._get_next_token(t,n);this._is_comment(e);)o.add(e),e=this._get_next_token(t,n);o.isEmpty()||(e.comments_before=o,o=new i),e.parent=n,this._is_opening(e)?(r.push(n),n=e):n&&this._is_closing(e,n)&&(e.opened=n,n.closed=e,n=r.pop(),e.parent=n),e.previous=t,t.next=e,this.__tokens.add(e),t=e}return this.__tokens},u.prototype._is_first_token=function(){return this.__tokens.isEmpty()},u.prototype._reset=function(){},u.prototype._get_next_token=function(e,t){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(s.RAW,n):this._create_token(s.EOF,"")},u.prototype._is_comment=function(e){return!1},u.prototype._is_opening=function(e){return!1},u.prototype._is_closing=function(e,t){return!1},u.prototype._create_token=function(e,t){return new a(e,t,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},u.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},e.exports.Tokenizer=u,e.exports.TOKEN=s},function(e,t,n){"use strict";function r(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}r.prototype.restart=function(){this.__position=0},r.prototype.isEmpty=function(){return 0===this.__tokens_length},r.prototype.hasNext=function(){return this.__position<this.__tokens_length},r.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},r.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__tokens_length&&(t=this.__tokens[e]),t},r.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},e.exports.TokenStream=r},function(e,t,n){"use strict";var r=n(12).Pattern;function a(e,t){r.call(this,e,t),t?this._line_regexp=this._input.get_regexp(t._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}a.prototype=new r,a.prototype.__set_whitespace_patterns=function(e,t){e+="\\t ",t+="\\n\\r",this._match_pattern=this._input.get_regexp("["+e+t+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+t+"]")},a.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var e=this._input.read(this._match_pattern);if(" "===e)this.whitespace_before_token=" ";else if(e){var t=this.__split(this._newline_regexp,e);this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]}return e},a.prototype.matching=function(e,t){var n=this._create();return n.__set_whitespace_patterns(e,t),n._update(),n},a.prototype._create=function(){return new a(this._input,this)},a.prototype.__split=function(e,t){e.lastIndex=0;for(var n=0,r=[],a=e.exec(t);a;)r.push(t.substring(n,a.index)),n=a.index+a[0].length,a=e.exec(t);return n<t.length?r.push(t.substring(n,t.length)):r.push(""),r},e.exports.WhitespacePattern=a},function(e,t,n){"use strict";function r(e,t){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,t&&(this._starting_pattern=this._input.get_regexp(t._starting_pattern,!0),this._match_pattern=this._input.get_regexp(t._match_pattern,!0),this._until_pattern=this._input.get_regexp(t._until_pattern),this._until_after=t._until_after)}r.prototype.read=function(){var e=this._input.read(this._starting_pattern);return this._starting_pattern&&!e||(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},r.prototype.read_match=function(){return this._input.match(this._match_pattern)},r.prototype.until_after=function(e){var t=this._create();return t._until_after=!0,t._until_pattern=this._input.get_regexp(e),t._update(),t},r.prototype.until=function(e){var t=this._create();return t._until_after=!1,t._until_pattern=this._input.get_regexp(e),t._update(),t},r.prototype.starting_with=function(e){var t=this._create();return t._starting_pattern=this._input.get_regexp(e,!0),t._update(),t},r.prototype.matching=function(e){var t=this._create();return t._match_pattern=this._input.get_regexp(e,!0),t._update(),t},r.prototype._create=function(){return new r(this._input,this)},r.prototype._update=function(){},e.exports.Pattern=r},function(e,t,n){"use strict";function r(e,t){e="string"==typeof e?e:e.source,t="string"==typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}r.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(e);n;)t[n[1]]=n[2],n=this.__directive_pattern.exec(e);return t},r.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},e.exports.Directives=r},function(e,t,n){"use strict";var r=n(12).Pattern,a={django:!1,erb:!1,handlebars:!1,php:!1};function i(e,t){r.call(this,e,t),this.__template_pattern=null,this._disabled=Object.assign({},a),this._excluded=Object.assign({},a),t&&(this.__template_pattern=this._input.get_regexp(t.__template_pattern),this._excluded=Object.assign(this._excluded,t._excluded),this._disabled=Object.assign(this._disabled,t._disabled));var n=new r(e);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[=]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/)}}i.prototype=new r,i.prototype._create=function(){return new i(this._input,this)},i.prototype._update=function(){this.__set_templated_pattern()},i.prototype.disable=function(e){var t=this._create();return t._disabled[e]=!0,t._update(),t},i.prototype.read_options=function(e){var t=this._create();for(var n in a)t._disabled[n]=-1===e.templating.indexOf(n);return t._update(),t},i.prototype.exclude=function(e){var t=this._create();return t._excluded[e]=!0,t._update(),t},i.prototype.read=function(){var e="";e=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var t=this._read_template();t;)this._match_pattern?t+=this._input.read(this._match_pattern):t+=this._input.readUntil(this.__template_pattern),e+=t,t=this._read_template();return this._until_after&&(e+=this._input.readUntilAfter(this._until_pattern)),e},i.prototype.__set_templated_pattern=function(){var e=[];this._disabled.php||e.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||e.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||e.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(e.push(this.__patterns.django._starting_pattern.source),e.push(this.__patterns.django_value._starting_pattern.source),e.push(this.__patterns.django_comment._starting_pattern.source)),this._until_pattern&&e.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+e.join("|")+")")},i.prototype._read_template=function(){var e="",t=this._input.peek();if("<"===t){var n=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==n||(e=e||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==n||(e=e||this.__patterns.erb.read())}else"{"===t&&(this._disabled.handlebars||this._excluded.handlebars||(e=(e=(e=e||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(e=e||this.__patterns.django_value.read()),this._excluded.django||(e=(e=e||this.__patterns.django_comment.read())||this.__patterns.django.read())));return e},e.exports.TemplatablePattern=i}]),void 0===(r=function(){return{js_beautify:a}}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r,a;a=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([,,function(e,t,n){"use strict";function r(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function a(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function i(e,t){this.__indent_cache=new a(e,t),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new r(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}r.prototype.clone_empty=function(){var e=new r(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},r.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},r.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},r.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},r.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},r.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},r.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},r.prototype.is_empty=function(){return 0===this.__items.length},r.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},r.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},r.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},r.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},r.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},r.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},r.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},a.prototype.get_indent_size=function(e,t){var n=this.__base_string_length;return t=t||0,e<0&&(n=0),(n+=e*this.__indent_size)+t},a.prototype.get_indent_string=function(e,t){var n=this.__base_string;return t=t||0,e<0&&(e=0,n=""),t+=e*this.__indent_size,this.__ensure_cache(t),n+this.__cache[t]},a.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},a.prototype.__add_column=function(){var e=this.__cache.length,t=0,n="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,n=new Array(t+1).join(this.__indent_string)),e&&(n+=new Array(e+1).join(" ")),this.__cache.push(n)},i.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},i.prototype.get_line_number=function(){return this.__lines.length},i.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},i.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},i.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},i.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline()||(this.raw||this.__add_outputline(),0))},i.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==e&&(n=n.replace(/[\n]/g,e)),n},i.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},i.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},i.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},i.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},i.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},i.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},i.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},i.prototype.just_added_newline=function(){return this.current_line.is_empty()},i.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},i.prototype.ensure_empty_line_above=function(e,t){for(var n=this.__lines.length-2;n>=0;){var a=this.__lines[n];if(a.is_empty())break;if(0!==a.item(0).indexOf(e)&&a.item(-1)!==t){this.__lines.splice(n+1,0,new r(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},e.exports.Output=i},,,,function(e,t,n){"use strict";function r(e,t){this.raw_options=a(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php"],["auto"])}function a(e,t){var n,r={};for(n in e=i(e))n!==t&&(r[n]=e[n]);if(t&&e[t])for(n in e[t])r[n]=e[t][n];return r}function i(e){var t,n={};for(t in e)n[t.replace(/-/g,"_")]=e[t];return n}r.prototype._get_array=function(e,t){var n=this.raw_options[e],r=t||[];return"object"==typeof n?null!==n&&"function"==typeof n.concat&&(r=n.concat()):"string"==typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},r.prototype._get_boolean=function(e,t){var n=this.raw_options[e];return void 0===n?!!t:!!n},r.prototype._get_characters=function(e,t){var n=this.raw_options[e],r=t||"";return"string"==typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},r.prototype._get_number=function(e,t){var n=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var r=parseInt(n,10);return isNaN(r)&&(r=t),r},r.prototype._get_selection=function(e,t,n){var r=this._get_selection_list(e,t,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r[0]},r.prototype._get_selection_list=function(e,t,n){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(n=n||[t[0]],!this._is_valid_selection(n,t))throw new Error("Invalid Default Value!");var r=this._get_array(e,n);if(!this._is_valid_selection(r,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r},r.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some((function(e){return-1===t.indexOf(e)}))},e.exports.Options=r,e.exports.normalizeOpts=i,e.exports.mergeOpts=a},,function(e,t,n){"use strict";var r=RegExp.prototype.hasOwnProperty("sticky");function a(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}a.prototype.restart=function(){this.__position=0},a.prototype.back=function(){this.__position>0&&(this.__position-=1)},a.prototype.hasNext=function(){return this.__position<this.__input_length},a.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},a.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},a.prototype.__match=function(e,t){e.lastIndex=t;var n=e.exec(this.__input);return!n||r&&e.sticky||n.index!==t&&(n=null),n},a.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},a.prototype.testChar=function(e,t){var n=this.peek(t);return e.lastIndex=0,null!==n&&e.test(n)},a.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},a.prototype.read=function(e,t,n){var r,a="";return e&&(r=this.match(e))&&(a+=r[0]),!t||!r&&e||(a+=this.readUntil(t,n)),a},a.prototype.readUntil=function(e,t){var n,r=this.__position;e.lastIndex=this.__position;var a=e.exec(this.__input);return a?(r=a.index,t&&(r+=a[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},a.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},a.prototype.get_regexp=function(e,t){var n=null,a="g";return t&&r&&(a="y"),"string"==typeof e&&""!==e?n=new RegExp(e,a):e&&(n=new RegExp(e.source,a)),n},a.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},a.prototype.peekUntilAfter=function(e){var t=this.__position,n=this.readUntilAfter(e);return this.__position=t,n},a.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},e.exports.InputScanner=a},,,,,function(e,t,n){"use strict";function r(e,t){e="string"==typeof e?e:e.source,t="string"==typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}r.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(e);n;)t[n[1]]=n[2],n=this.__directive_pattern.exec(e);return t},r.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},e.exports.Directives=r},,function(e,t,n){"use strict";var r=n(16).Beautifier,a=n(17).Options;e.exports=function(e,t){return new r(e,t).beautify()},e.exports.defaultOptions=function(){return new a}},function(e,t,n){"use strict";var r=n(17).Options,a=n(2).Output,i=n(8).InputScanner,o=new(0,n(13).Directives)(/\/\*/,/\*\//),s=/\r\n|[\r\n]/,u=/\r\n|[\r\n]/g,c=/\s/,l=/(?:\s|\n)+/g,d=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,p=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function f(e,t){this._source_text=e||"",this._options=new r(t),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}f.prototype.eatString=function(e){var t="";for(this._ch=this._input.next();this._ch;){if(t+=this._ch,"\\"===this._ch)t+=this._input.next();else if(-1!==e.indexOf(this._ch)||"\n"===this._ch)break;this._ch=this._input.next()}return t},f.prototype.eatWhitespace=function(e){for(var t=c.test(this._input.peek()),n=!0;c.test(this._input.peek());)this._ch=this._input.next(),e&&"\n"===this._ch&&(this._options.preserve_newlines||n)&&(n=!1,this._output.add_new_line(!0));return t},f.prototype.foundNestedPseudoClass=function(){for(var e=0,t=1,n=this._input.peek(t);n;){if("{"===n)return!0;if("("===n)e+=1;else if(")"===n){if(0===e)return!1;e-=1}else if(";"===n||"}"===n)return!1;t++,n=this._input.peek(t)}return!1},f.prototype.print_string=function(e){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(e)},f.prototype.preserveSingleSpace=function(e){e&&(this._output.space_before_token=!0)},f.prototype.indent=function(){this._indentLevel++},f.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},f.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===t&&(t="\n",e&&s.test(e||"")&&(t=e.match(s)[0]));var n=(e=e.replace(u,"\n")).match(/^[\t ]*/)[0];this._output=new a(this._options,n),this._input=new i(e),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r,f,h=0,m=!1,v=!1,b=!1,g=!1,y=!1,_=this._ch;r=""!==this._input.read(l),f=_,this._ch=this._input.next(),"\\"===this._ch&&this._input.hasNext()&&(this._ch+=this._input.next()),_=this._ch,this._ch;)if("/"===this._ch&&"*"===this._input.peek()){this._output.add_new_line(),this._input.back();var x=this._input.read(d),k=o.get_directives(x);k&&"start"===k.ignore&&(x+=o.readIgnored(this._input)),this.print_string(x),this.eatWhitespace(!0),this._output.add_new_line()}else if("/"===this._ch&&"/"===this._input.peek())this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(p)),this.eatWhitespace(!0);else if("@"===this._ch)if(this.preserveSingleSpace(r),"{"===this._input.peek())this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var w=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);w.match(/[ :]$/)&&(w=this.eatString(": ").replace(/\s$/,""),this.print_string(w),this._output.space_before_token=!0),"extend"===(w=w.replace(/\s$/,""))?g=!0:"import"===w&&(y=!0),w in this.NESTED_AT_RULE?(this._nestedLevel+=1,w in this.CONDITIONAL_GROUP_RULE&&(b=!0)):m||0!==h||-1===w.indexOf(":")||(v=!0,this.indent())}else"#"===this._ch&&"{"===this._input.peek()?(this.preserveSingleSpace(r),this.print_string(this._ch+this.eatString("}"))):"{"===this._ch?(v&&(v=!1,this.outdent()),this.indent(),this._output.space_before_token=!0,this.print_string(this._ch),b?(b=!1,m=this._indentLevel>this._nestedLevel):m=this._indentLevel>=this._nestedLevel,this._options.newline_between_rules&&m&&this._output.previous_line&&"{"!==this._output.previous_line.item(-1)&&this._output.ensure_empty_line_above("/",","),this.eatWhitespace(!0),this._output.add_new_line()):"}"===this._ch?(this.outdent(),this._output.add_new_line(),"{"===f&&this._output.trim(!0),y=!1,g=!1,v&&(this.outdent(),v=!1),this.print_string(this._ch),m=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&"}"!==this._input.peek()&&this._output.add_new_line(!0)):":"===this._ch?!m&&!b||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||g||0!==h?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),":"===this._input.peek()?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),v||(v=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):'"'===this._ch||"'"===this._ch?(this.preserveSingleSpace(r),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):";"===this._ch?0===h?(v&&(this.outdent(),v=!1),g=!1,y=!1,this.print_string(this._ch),this.eatWhitespace(!0),"/"!==this._input.peek()&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):"("===this._ch?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),h++,this.indent(),this._ch=this._input.next(),")"===this._ch||'"'===this._ch||"'"===this._ch?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),h&&(h--,this.outdent()))):(this.preserveSingleSpace(r),this.print_string(this._ch),this.eatWhitespace(),h++,this.indent()):")"===this._ch?(h&&(h--,this.outdent()),this.print_string(this._ch)):","===this._ch?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||v||0!==h||y?this._output.space_before_token=!0:this._output.add_new_line()):">"!==this._ch&&"+"!==this._ch&&"~"!==this._ch||v||0!==h?"]"===this._ch?this.print_string(this._ch):"["===this._ch?(this.preserveSingleSpace(r),this.print_string(this._ch)):"="===this._ch?(this.eatWhitespace(),this.print_string("="),c.test(this._ch)&&(this._ch="")):"!"!==this._ch||this._input.lookBack("\\")?(this.preserveSingleSpace(r),this.print_string(this._ch)):(this.print_string(" "),this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&c.test(this._ch)&&(this._ch=""));return this._output.get_code(t)},e.exports.Beautifier=f},function(e,t,n){"use strict";var r=n(6).Options;function a(e){r.call(this,e,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var t=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||t}a.prototype=new r,e.exports.Options=a}]),void 0===(r=function(){return{css_beautify:a}}.apply(t,[]))||(e.exports=r)},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,c=[],l=!1,d=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&f())}function f(){if(!l){var e=s(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.HandlebarsEnvironment=l;var a=n(10),i=r(n(13)),o=n(23),s=n(48),u=r(n(24)),c=n(25);function l(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},o.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}t.VERSION="4.7.3",t.COMPILER_REVISION=8,t.LAST_COMPATIBLE_COMPILER_REVISION=7,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"},l.prototype={constructor:l,logger:u.default,log:u.default.log,registerHelper:function(e,t){if("[object Object]"===a.toString.call(e)){if(t)throw new i.default("Arg not supported with multiple helpers");a.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===a.toString.call(e))a.extend(this.partials,e);else{if(void 0===t)throw new i.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===a.toString.call(e)){if(t)throw new i.default("Arg not supported with multiple decorators");a.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var d=u.default.log;t.log=d,t.createFrame=a.createFrame,t.logger=u.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.registerDefaultHelpers=function(e){a.default(e),i.default(e),o.default(e),s.default(e),u.default(e),c.default(e),l.default(e)},t.moveHelperToHooks=function(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])};var a=r(n(41)),i=r(n(42)),o=r(n(43)),s=r(n(44)),u=r(n(45)),c=r(n(46)),l=r(n(47))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(10),a={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=r.indexOf(a.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=a.lookupLevel(e),"undefined"!=typeof console&&a.lookupLevel(a.level)<=e){var t=a.methodMap[e];console[t]||(t="log");for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];console[t].apply(console,r)}}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.createProtoAccessControl=function(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},t.resultIsAllowed=function(e,t,n){return function(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==i[e]&&(i[e]=!0,a.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}("function"==typeof e?t.methods:t.properties,n)},t.resetLoggedProperties=function(){Object.keys(i).forEach((function(e){delete i[e]}))};var r=n(50),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(24)),i=Object.create(null)},function(e,t,n){(t=n(8)(!1)).push([e.i,"@font-face{$ff:eruda-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAyQAAsAAAAAEsQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAQAAAAFZHcVXSY21hcAAAAYQAAACVAAACUPKX+h1nbHlmAAACHAAAB/kAAAs8hmX5ImhlYWQAAAoYAAAAMQAAADYYc91AaGhlYQAACkwAAAAdAAAAJAjABZZobXR4AAAKbAAAAB0AAABIRY3//GxvY2EAAAqMAAAAJgAAACYURhIWbWF4cAAACrQAAAAfAAAAIAEjAQ1uYW1lAAAK1AAAASkAAAIWm5e+CnBvc3QAAAwAAAAAjwAAAMnZZQoFeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS+yziBgZWBgbmR6QwDA0M/hGZ8zWDEyMHAwMTAysyAFQSkuaYwOHxk/CjIAuLGsDAxgFQygjgA97UJ2Xic7ZHJDcMwDATHtnyf6iNVpKC8Um6aUAUOV5syQmA4EEEJAgn0QBc8ggTNmwbFK6pNrXcstZ541p6kesn3HblRjnOquY3eFC8OjEzMcW9lY+fg5CJHy8A/tpo/v1PWFE2da2uQO6P9lGQ06dIb7a4MBnk0yJNBng3yYrTTshrkzeh3ZTfIh0E+DfJlkLMhfwF2lyt5AAAAeJx1VltsG9cRvY99cB/c5Wp37y5JaSWS5lKiKFIil0tZsigJfke2JEtOnUp+xnaixkWDprHrJP0w+hUEjoOm+SnQ5Estirpo/OEifTiG7H4URYHAQP1XoHCBoI+fwk0BIw1CqvcuqagOapKYnbkzc2fu3DOzBBDQD0b4t0ADIJ8tSDCsEkuUILEE9Ecr3j4Ef6H5aa19FX5LSzc1eJPK6UK8fbX9ZryQBpE/eoTXAQ+ABBsSLKC19rv74U/bX9kPW/D0vvZKe3Vfxw7n0fdZHGiJUMgWoB+EtUyV4LyyCRSPEaIjoBP0DZ0JCqSrtt2N8R2c3/b160YQVh1I0GvUUvYI8WRqTZ23d2EcwFHcDbwBLDAERqh/1SEOPaEg0gz8gh80QvrNMtlimiqTA6bhG1BE4OTyQmVsrLKwfGuLOfna2vnJqanJ82uPtpj2gVXUv4pPP2YXMacfs4uYP6+2/rIaHSnK7Qa+ARwwSjMzLCFbgSIjfjANC93yQEuHNGMhl+keux82GCEIkD5l+UNBF2Z5/vaSQjRIjw3f7/CblN/Wwz9tAo0oS7d5fpYufLis9BECvyl2OR1ua9lNsppxECRpzepgFhwGwKwH4SRsNOEkrJJ+WKuSPtjJiTe2c2P58oGfFWzDItWwbj6Bn+m1HpiCo32sOYL5wOrV5M9vyBqeGR9sbQyOazK6J2utB2bKpL+Nxx74mXGrNx/XtHi+1xqXNe251uXB8fFB9Drl346bZrw9wyjc+P88q/vmJgAc5AAogt207oIOhUKZ1nsaVmAZhvR4hNWYokFHDhE1eif0SiowbzkeZBBpQoYR5pKNtPBRIjPp9sV7EGddzC4ZaGDI+Bri8Ctkp8DZLyjfdmSOaEnrAuJQqz1YuHb81L1Tx68VBv+Hhe/TPbp2lzJLRrEfGS8gnr/smF7KuhC77PRpbP8LSOD2rn3ZO2K/wNQH+APgRph6EnaeCLb/CBQ9th6hx5M76BHg7W2+o4+Q9qMYhQ9rPibaFD4Cs/3r5ragdw06fcjdwYdBGoRgP82M2JaGsmUUNFGVOH4uK0TICHDV42pZjcuWuVy1yZnVJgrKKKshy0Po34nU8MTuXcPJ5PCuvVNE63FzubHsO0evXXp2fjqVml44c+naT9569ezClGVNLZx99a2jlaVmLtdcOrE0tWPH1BKqDfjZyVIyWZrcTR+9rpQdy2bdGOwL5lfmg/ri6mIQUFKPxNbtXPPIyY7nySPNHD1CZ47N4itAZ/OOpc0gXas2YBjgYuu+ohiOY8gqKhFUhocEx2gtGo4I53rGwRf+1/F1ij1AwZbbnjy1CFc5DeW2B1ONTSsxY+CRXT98+uVzp3dOTOw8fe7lM88cvey8SFZf2X1s7sAw/RyYOzY7ubP0M3gJj0zNTo6fOfv3s2fGJ4tDb69On6mXigef+vlTB4ullDtCTbbzuIvvgkE69zVIL6Je+9IAjHJzMobThFUPWQJuzqzfXL+y5+uVkfmFXy/Mj1QYc2LvzNToG+1fvtRR7rk7s2fPlfWVE1v6yDCdqrwBD7wUqW6ud3C62eIw7cEdYIxmQJtJpHHrUeDHahI2BNqNHgx9miQMWC7Q0iB+8InpGyXXDWrHVu6tHKsFjFnbNztdg0bio/RcnWt9d9/FvXsvXmXkBx8lDFibnt23tmUa+bhuyfDNTzyuPgdR15SSrT66g++AFKjQcmW695yphoGfyxiZzhwzAp82lD8MswIdh2SaTYcwqEB8uZXwikUPfqrbtt6OoYe2ZxfbHz8vSeq/dJtIa7dkz1Z+gzeKHrOkWvSwHWPG8FOv2PrseYnY+sO4RA0V25NvsXREWrNNjqdz+XvgOrgPHoHPQItdJAynYZ0WjtZQ8FkBaUrsIWy95ZhChxqkjU/nGV2MdDq0idP92nRQREtslS54nfnHrCmh8z6M4OhUOxIVmnRYRqEaIVsi9Emz6IaH3WdH63SjisIwbPhRPsy3jAqOWIiCRTswDjmFyKVA82BcI0rKjyZuge1ArVggurnTKFDvgujg32me0eMqIunpKycHJDWBJLG+W01xumsvkpSO06I30a/JHBYh5jMVvUTSkkwSHCcaZizOiRyEMV4VZVtLpFTRMbyR5EBM1bAq9k7sSMqO1W8OWYLGxxKqOxSkDUmAAqI7jcqW4mDDFNVkopQwMRa59sy5pYXSCMbV6pHlU2eXFkfKCI2OLiydUv/Gy/HeysE9Wk9MsvPZamUWijG14RpuseIadM3P1khMTai/twY5Ka7GOF2XjDgnYIJ5cajqmJxVLiQreczvt98rHT104DzqR/OyIbuFMG3Ioqoms6Q/zzso7XJKbEBVlXhGlLGUjAumLhOlJzY2oCRiGkkFgwmIeEkRZJl4PfmYEONivKCKCX9Xf2enjOvlBcJpqYRv6jyCshDvtU2HVZkjiimN9gsYiZCXEr2h76YSZtoJ9fZXcW3s6NPPnVw8XCpjVB07svzsqSML5dFf+VZSNaf366bb52l4IhgXikZKNZTk0Giyh62hnZ4gxYRJWtBYokc3sMjHFVURHFGN+6OuVbTKO9yxAhbWrdeH/jG38CLsZy262aLvFcwh+t8wBeiEztOhKtC/iB6kvdqEkL7ziM1edn7dyfpMooPsn+3jVhhalErhMB4dDqXWH7yiR3+1dD4f5vPv4JKfTvuf3y/M+v4sWrE9z27/mNFH+brv1/M09H8BdBTuoAAAAHicY2BkYGAA4p3/y43i+W2+MnCzMIDALW8fJRj9/+//vywHWZiAXA4GEMkAAEnCDAUAAAB4nGNgZGBgYQAB1rb/f///ZTnIwMiACoQAdnMFYQAAAHicY2BgYGDBi///B9GsbWjijFCaFazmLwBoFATMAAAAAAAAAAAgADQAUgBwAL4BCgF6AegCNAKYArgC/AM8A4wD1gVgBZ4AAHicY2BkYGAQYmRkYGcAASYg5gJCBob/YD4DAAsEATIAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxti9EOgjAUQ1fYBg4Vxe/go5ZxEZPJyOUmyN+7yKt9aE+aVhXqkFP/1aFACQ0Diwo1TnBocMYFV7S44Y4OD+U8c9r6SKM0B/LrOYkLnkn6IW1zc+CvNiGS5zqk98K0rnagSEKG8pEtfRY/DyXtpJfo94ppzKPJZCOxaz6GKUekIFpSinrzPCv1BZLnLysA') format('woff')}[class*=' _icon-'],[class^='_icon-']{$ff:eruda-icon!important;$fs:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}._icon-arrow-left:before{$co:'\\f101'}._icon-arrow-right:before{$co:'\\f102'}._icon-caret-down:before{$co:'\\f103'}._icon-caret-right:before{$co:'\\f104'}._icon-clear:before{$co:'\\f105'}._icon-compress:before{$co:'\\f106'}._icon-delete:before{$co:'\\f107'}._icon-error:before{$co:'\\f108'}._icon-expand:before{$co:'\\f109'}._icon-eye:before{$co:'\\f10a'}._icon-play:before{$co:'\\f10b'}._icon-refresh:before{$co:'\\f10c'}._icon-reset:before{$co:'\\f10d'}._icon-search:before{$co:'\\f10e'}._icon-select:before{$co:'\\f10f'}._icon-tool:before{$co:'\\f110'}._icon-warn:before{$co:'\\f111'}",""]),e.exports=t},function(e,t,n){var r,a,i;i=window,r=[n(31),n(32)],void 0===(a=function(e,t){return function(e,t,n){"use strict";function r(e,t){for(var n in t)e[n]=t[n];return e}var a=e.jQuery;function i(e,t){this.element="string"==typeof e?document.querySelector(e):e,a&&(this.$element=a(this.element)),this.options=r({},this.constructor.defaults),this.option(t),this._create()}var o=i.prototype=Object.create(n.prototype);i.defaults={},o.option=function(e){r(this.options,e)};var s={relative:!0,absolute:!0,fixed:!0};function u(e,t,n){return n=n||"round",t?Math[n](e/t)*t:e}return o._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=r({},this.position);var e=getComputedStyle(this.element);s[e.position]||(this.element.style.position="relative"),this.on("pointerDown",this.onPointerDown),this.on("pointerMove",this.onPointerMove),this.on("pointerUp",this.onPointerUp),this.enable(),this.setHandles()},o.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles()},o.dispatchEvent=function(e,t,n){var r=[t].concat(n);this.emitEvent(e,r),this.dispatchJQueryEvent(e,t,n)},o.dispatchJQueryEvent=function(t,n,r){var a=e.jQuery;if(a&&this.$element){var i=a.Event(n);i.type=t,this.$element.trigger(i,r)}},o._getPosition=function(){var e=getComputedStyle(this.element),t=this._getPositionCoord(e.left,"width"),n=this._getPositionCoord(e.top,"height");this.position.x=isNaN(t)?0:t,this.position.y=isNaN(n)?0:n,this._addTransformPosition(e)},o._getPositionCoord=function(e,n){if(-1!=e.indexOf("%")){var r=t(this.element.parentNode);return r?parseFloat(e)/100*r[n]:0}return parseInt(e,10)},o._addTransformPosition=function(e){var t=e.transform;if(0===t.indexOf("matrix")){var n=t.split(","),r=0===t.indexOf("matrix3d")?12:4,a=parseInt(n[r],10),i=parseInt(n[r+1],10);this.position.x+=a,this.position.y+=i}},o.onPointerDown=function(e,t){this.element.classList.add("is-pointer-down"),this.dispatchJQueryEvent("pointerDown",e,[t])},o.dragStart=function(e,t){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.dispatchEvent("dragStart",e,[t]),this.animate())},o.measureContainment=function(){var e=this.getContainer();if(e){var n=t(this.element),r=t(e),a=this.element.getBoundingClientRect(),i=e.getBoundingClientRect(),o=r.borderLeftWidth+r.borderRightWidth,s=r.borderTopWidth+r.borderBottomWidth,u=this.relativeStartPosition={x:a.left-(i.left+r.borderLeftWidth),y:a.top-(i.top+r.borderTopWidth)};this.containSize={width:r.width-o-u.x-n.width,height:r.height-s-u.y-n.height}}},o.getContainer=function(){var e=this.options.containment;if(e)return e instanceof HTMLElement?e:"string"==typeof e?document.querySelector(e):this.element.parentNode},o.onPointerMove=function(e,t,n){this.dispatchJQueryEvent("pointerMove",e,[t,n])},o.dragMove=function(e,t,n){if(this.isEnabled){var r=n.x,a=n.y,i=this.options.grid,o=i&&i[0],s=i&&i[1];r=u(r,o),a=u(a,s),r=this.containDrag("x",r,o),a=this.containDrag("y",a,s),r="y"==this.options.axis?0:r,a="x"==this.options.axis?0:a,this.position.x=this.startPosition.x+r,this.position.y=this.startPosition.y+a,this.dragPoint.x=r,this.dragPoint.y=a,this.dispatchEvent("dragMove",e,[t,n])}},o.containDrag=function(e,t,n){if(!this.options.containment)return t;var r="x"==e?"width":"height",a=u(-this.relativeStartPosition[e],n,"ceil"),i=this.containSize[r];return i=u(i,n,"floor"),Math.max(a,Math.min(i,t))},o.onPointerUp=function(e,t){this.element.classList.remove("is-pointer-down"),this.dispatchJQueryEvent("pointerUp",e,[t])},o.dragEnd=function(e,t){this.isEnabled&&(this.element.style.transform="",this.setLeftTop(),this.element.classList.remove("is-dragging"),this.dispatchEvent("dragEnd",e,[t]))},o.animate=function(){if(this.isDragging){this.positionDrag();var e=this;requestAnimationFrame((function(){e.animate()}))}},o.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},o.positionDrag=function(){this.element.style.transform="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)"},o.staticClick=function(e,t){this.dispatchEvent("staticClick",e,[t])},o.setPosition=function(e,t){this.position.x=e,this.position.y=t,this.setLeftTop()},o.enable=function(){this.isEnabled=!0},o.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},o.destroy=function(){this.disable(),this.element.style.transform="",this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},o._init=function(){},a&&a.bridget&&a.bridget("draggabilly",i),i}(i,e,t)}.apply(t,r))||(e.exports=a)},function(e,t){e.exports={background:"b","background-image":"bi",border:"bo","border-bottom":"bb","border-collapse":"bc","border-left-color":"blc","border-right":"br","border-radius":"bra","border-top":"bt","border-top-color":"btc","box-shadow":"bs","box-sizing":"bsi",clear:"cl",color:"c",content:"co",cursor:"cu",display:"d",flex:"fl","flex-shrink":"fsh",float:"f","font-family":"ff","font-size":"fs","font-weight":"fw",height:"h",left:"l","line-height":"lh",margin:"m","margin-bottom":"mb","margin-left":"ml","margin-top":"mt","min-height":"mh",outline:"ou",overflow:"o","overflow-x":"ox","overflow-y":"oy",padding:"p","padding-bottom":"pb","padding-left":"pl","padding-top":"pt","pointer-events":"pe",position:"po","text-align":"ta","text-transform":"tt",top:"t",transition:"tr","user-select":"us","vertical-aligin":"va",visibility:"v",width:"w","will-change":"wc","white-space":"ws","-webkit-overflow-scrolling":"wos","z-index":"z"}},function(e,t,n){var r=n(20);function a(t,n,i){return function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?e.exports=a=Reflect.construct:e.exports=a=function(e,t,n){var a=[null];a.push.apply(a,t);var i=new(Function.bind.apply(e,a));return n&&r(i,n.prototype),i},a.apply(null,arguments)}e.exports=a},function(e,t,n){e.exports=n(97).default},function(e,t,n){var r,a;window,void 0===(a="function"==typeof(r=function(){"use strict";function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){console.error(e)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],r=n.length;function a(e){var n=getComputedStyle(e);return n||t("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),n}var i,o=!1;return function t(s){if(function(){if(!o){o=!0;var n=document.createElement("div");n.style.width="200px",n.style.padding="1px 2px 3px 4px",n.style.borderStyle="solid",n.style.borderWidth="1px 2px 3px 4px",n.style.boxSizing="border-box";var r=document.body||document.documentElement;r.appendChild(n);var s=a(n);i=200==Math.round(e(s.width)),t.isBoxSizeOuter=i,r.removeChild(n)}}(),"string"==typeof s&&(s=document.querySelector(s)),s&&"object"==typeof s&&s.nodeType){var u=a(s);if("none"==u.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<r;t++)e[n[t]]=0;return e}();var c={};c.width=s.offsetWidth,c.height=s.offsetHeight;for(var l=c.isBorderBox="border-box"==u.boxSizing,d=0;d<r;d++){var p=n[d],f=u[p],h=parseFloat(f);c[p]=isNaN(h)?0:h}var m=c.paddingLeft+c.paddingRight,v=c.paddingTop+c.paddingBottom,b=c.marginLeft+c.marginRight,g=c.marginTop+c.marginBottom,y=c.borderLeftWidth+c.borderRightWidth,_=c.borderTopWidth+c.borderBottomWidth,x=l&&i,k=e(u.width);!1!==k&&(c.width=k+(x?0:m+y));var w=e(u.height);return!1!==w&&(c.height=w+(x?0:v+_)),c.innerWidth=c.width-(m+y),c.innerHeight=c.height-(v+_),c.outerWidth=c.width+b,c.outerHeight=c.height+g,c}}})?r.call(t,n,t,e):r)||(e.exports=a)},function(e,t,n){var r,a,i;i=window,r=[n(33)],void 0===(a=function(e){return function(e,t){"use strict";function n(){}var r=n.prototype=Object.create(t.prototype);r.bindHandles=function(){this._bindHandles(!0)},r.unbindHandles=function(){this._bindHandles(!1)},r._bindHandles=function(t){for(var n=(t=void 0===t||t)?"addEventListener":"removeEventListener",r=t?this._touchActionValue:"",a=0;a<this.handles.length;a++){var i=this.handles[a];this._bindStartEvent(i,t),i[n]("click",this),e.PointerEvent&&(i.style.touchAction=r)}},r._touchActionValue="none",r.pointerDown=function(e,t){this.okayPointerDown(e)&&(this.pointerDownPointer=t,e.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t]))};var a={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},i={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return r.okayPointerDown=function(e){var t=a[e.target.nodeName],n=i[e.target.type],r=!t||n;return r||this._pointerReset(),r},r.pointerDownBlur=function(){var e=document.activeElement;e&&e.blur&&e!=document.body&&e.blur()},r.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,n]),this._dragMove(e,t,n)},r._dragPointerMove=function(e,t){var n={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(n)&&this._dragStart(e,t),n},r.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},r.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},r._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},r._dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(e,t)},r.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},r._dragMove=function(e,t,n){this.isDragging&&this.dragMove(e,t,n)},r.dragMove=function(e,t,n){e.preventDefault(),this.emitEvent("dragMove",[e,t,n])},r._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},r.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},r.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},r._staticClick=function(e,t){this.isIgnoringMouseUp&&"mouseup"==e.type||(this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},r.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},n.getPointerPoint=t.getPointerPoint,n}(i,e)}.apply(t,r))||(e.exports=a)},function(e,t,n){var r,a,i;i=window,r=[n(34)],void 0===(a=function(e){return function(e,t){"use strict";function n(){}var r=n.prototype=Object.create(t.prototype);r.bindStartEvent=function(e){this._bindStartEvent(e,!0)},r.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},r._bindStartEvent=function(t,n){var r=(n=void 0===n||n)?"addEventListener":"removeEventListener",a="mousedown";e.PointerEvent?a="pointerdown":"ontouchstart"in e&&(a="touchstart"),t[r](a,this)},r.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.getTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.identifier==this.pointerIdentifier)return n}},r.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},r.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},r.onpointerdown=function(e){this._pointerDown(e,e)},r._pointerDown=function(e,t){e.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},r.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var a={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return r._bindPostStartEvents=function(t){if(t){var n=a[t.type];n.forEach((function(t){e.addEventListener(t,this)}),this),this._boundPointerEvents=n}},r._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach((function(t){e.removeEventListener(t,this)}),this),delete this._boundPointerEvents)},r.onmousemove=function(e){this._pointerMove(e,e)},r.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},r.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},r._pointerMove=function(e,t){this.pointerMove(e,t)},r.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},r.onmouseup=function(e){this._pointerUp(e,e)},r.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},r.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},r._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},r.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},r._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},r._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},r.pointerDone=function(){},r.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},r.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},r._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},r.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},n.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},n}(i,e)}.apply(t,r))||(e.exports=a)},function(e,t,n){var r,a;"undefined"!=typeof window&&window,void 0===(a="function"==typeof(r=function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},r=n[e]=n[e]||[];return-1==r.indexOf(t)&&r.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var r=n.indexOf(t);return-1!=r&&n.splice(r,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var r=this._onceEvents&&this._onceEvents[e],a=0;a<n.length;a++){var i=n[a];r&&r[i]&&(this.off(e,i),delete r[i]),i.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})?r.call(t,n,t,e):r)||(e.exports=a)},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(a.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(36),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(16))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,a,i,o,s,u=1,c={},l=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&h(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(a=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):r=function(e){setTimeout(h,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return c[u]=a,r(u),u++},p.clearImmediate=f}function f(e){delete c[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(16),n(21))},function(e,t,n){var r=n(1);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t,n){(t=n(8)(!1)).push([e.i,"#_settings{$oy:auto;$wos:touch}#_settings ._separator{$h:10px}#_settings ._text{$p:10px;$c:var(--accent);$fs:12px}#_settings ._color,#_settings ._range,#_settings ._select{$cu:pointer}#_settings ._color ._head,#_settings ._range ._head,#_settings ._select ._head,#_settings ._switch{$p:10px;$b:var(--darker-background);$fs:14px;$bb:1px solid var(--border);$bt:1px solid var(--border);$c:var(--primary);$mt:-1px}#_settings ._color ._head,#_settings ._range ._head,#_settings ._select ._head{$tr:background .3s,color .3s}#_settings ._color ._head span,#_settings ._range ._head span,#_settings ._select ._head span{$f:right}#_settings ._color ._head:active,#_settings ._range ._head:active,#_settings ._select ._head:active{$b:var(--highlight);$c:var(--select-foreground)}#_settings ._color ._head span{$d:inline-block;$bo:1px solid var(--border);$w:15px;$h:15px}#_settings ._select ul{$d:none;$bb:1px solid var(--border);$c:var(--foreground)}#_settings ._select ul._open{$d:block}#_settings ._select ul li{$p:10px;$tr:background .3s,color .3s}#_settings ._select ul li:active{$b:var(--highlight);$c:var(--select-foreground)}#_settings ._color ul{$d:none;$p:10px;$fs:0;$bb:1px solid var(--border)}#_settings ._color ul._open{$d:block}#_settings ._color ul li{$d:inline-block;$w:20px;$bo:1px solid var(--border);$h:20px;margin-right:10px}#_settings ._range ._input-container{$d:none;$p:10px;$bb:1px solid var(--border);$po:relative}#_settings ._range ._input-container._open{$d:block}#_settings ._range ._input-container ._range-track{$h:4px;$w:100%;$p:0 10px;$po:absolute;$l:0;$t:16px}#_settings ._range ._input-container ._range-track ._range-track-bar{$b:var(--darker-background);$bra:2px;$o:hidden;$w:100%;$h:4px}#_settings ._range ._input-container ._range-track ._range-track-bar ._range-track-progress{$h:100%;$b:var(--accent);$w:50%}#_settings ._range ._input-container input{-webkit-appearance:none;$b:0 0;$h:4px;$w:100%;$po:relative;$t:-3px;$m:0 auto;$ou:0;$bra:2px}#_settings ._range ._input-container input::-webkit-slider-thumb{-webkit-appearance:none;$po:relative;$t:0;$z:1;$w:16px;$bo:none;$h:16px;$bra:10px;$bo:1px solid var(--border);$b:radial-gradient(circle at center,var(--dark) 0,var(--dark) 15%,var(--light) 22%,var(--light) 100%)}#_settings ._switch ._checkbox{$f:right;$po:relative;vertical-align:top;$w:46px;$h:20px;$p:3px;$bra:18px;$bo:1px solid var(--border);$cu:pointer;$bi:linear-gradient(to bottom,var(--dark),var(--light) 25px)}#_settings ._switch ._checkbox ._input{$po:absolute;$t:0;$l:0;opacity:0}#_settings ._switch ._checkbox ._label{$pe:none;$po:relative;$d:block;$h:12px;$fs:10px;$tt:uppercase;$b:var(--darker-background);$bra:inherit;$bs:inset 0 1px 2px rgba(0,0,0,.12),inset 0 0 2px rgba(0,0,0,.15);$tr:.15s ease-out;transition-property:opacity background}#_settings ._switch ._checkbox ._label:after,#_settings ._switch ._checkbox ._label:before{$po:absolute;$t:50%;$mt:-.5em;$lh:1;$tr:inherit}#_settings ._switch ._checkbox ._input:checked~._label{$b:var(--accent);$bs:inset 0 1px 2px rgba(0,0,0,.15),inset 0 0 3px rgba(0,0,0,.2)}#_settings ._switch ._checkbox ._input:checked~._label:before{opacity:0}#_settings ._switch ._checkbox ._input:checked~._label:after{opacity:1}#_settings ._switch ._checkbox ._handle{$po:absolute;$pe:none;$t:0;$l:0;$w:18px;$h:18px;$bra:10px;$bs:1px 1px 5px rgba(0,0,0,.2);$bi:linear-gradient(to bottom,var(--light) 40%,var(--dark));$tr:left .15s ease-out}#_settings ._switch ._checkbox ._handle:before{$co:'';$po:absolute;$t:50%;$l:50%;$m:-6px 0 0 -6px;$w:12px;$h:12px;$bra:6px;$bs:inset 0 1px rgba(0,0,0,.02);$bi:linear-gradient(to bottom,var(--dark),var(--light))}#_settings ._switch ._checkbox ._input:checked~._handle{$l:30px;$bs:-1px 1px 5px rgba(0,0,0,.2)}",""]),e.exports=t},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({1:function(e,t,n,r,a){return' checked="checked" '},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=e.lambda,s=e.escapeExpression,u=null!=t?t:e.nullContext||{},c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div id="'+s(o(null!=t?c(t,"id"):t,t))+'" '+(null!=(i=c(n,"class").call(u,"switch",{name:"class",hash:{},data:a}))?i:"")+"> "+s(o(null!=t?c(t,"desc"):t,t))+" <label "+(null!=(i=c(n,"class").call(u,"checkbox",{name:"class",hash:{},data:a}))?i:"")+'><input type="checkbox" '+(null!=(i=c(n,"class").call(u,"input",{name:"class",hash:{},data:a}))?i:"")+' data-id="'+s(o(null!=t?c(t,"id"):t,t))+'" '+(null!=(i=c(n,"if").call(u,null!=t?c(t,"val"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?i:"")+"> <span "+(null!=(i=c(n,"class").call(u,"label",{name:"class",hash:{},data:a}))?i:"")+"></span> <span "+(null!=(i=c(n,"class").call(u,"handle",{name:"class",hash:{},data:a}))?i:"")+"></span></label></div>"},useData:!0})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0;var i=a(n(22)),o=r(n(51)),s=r(n(13)),u=a(n(10)),c=a(n(52)),l=r(n(54));function d(){var e=new i.HandlebarsEnvironment;return u.extend(e,i),e.SafeString=o.default,e.Exception=s.default,e.Utils=u,e.escapeExpression=u.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var p=d();p.create=d,l.default(p),p.default=p,t.default=p,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(10);t.default=function(e){e.registerHelper("blockHelperMissing",(function(t,n){var a=n.inverse,i=n.fn;if(!0===t)return i(this);if(!1===t||null==t)return a(this);if(r.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):a(this);if(n.data&&n.ids){var o=r.createFrame(n.data);o.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:o}}return i(t,n)}))},e.exports=t.default},function(e,t,n){"use strict";(function(r){t.__esModule=!0;var a,i=n(10),o=(a=n(13))&&a.__esModule?a:{default:a};t.default=function(e){e.registerHelper("each",(function(e,t){if(!t)throw new o.default("Must pass iterator to #each");var n,a=t.fn,s=t.inverse,u=0,c="",l=void 0,d=void 0;function p(t,n,r){l&&(l.key=t,l.index=n,l.first=0===n,l.last=!!r,d&&(l.contextPath=d+t)),c+=a(e[t],{data:l,blockParams:i.blockParams([e[t],t],[d+t,null])})}if(t.data&&t.ids&&(d=i.appendContextPath(t.data.contextPath,t.ids[0])+"."),i.isFunction(e)&&(e=e.call(this)),t.data&&(l=i.createFrame(t.data)),e&&"object"==typeof e)if(i.isArray(e))for(var f=e.length;u<f;u++)u in e&&p(u,u,u===e.length-1);else if(r.Symbol&&e[r.Symbol.iterator]){for(var h=[],m=e[r.Symbol.iterator](),v=m.next();!v.done;v=m.next())h.push(v.value);for(f=(e=h).length;u<f;u++)p(u,u,u===e.length-1)}else n=void 0,Object.keys(e).forEach((function(e){void 0!==n&&p(n,u-1),n=e,u++})),void 0!==n&&p(n,u-1,!0);return 0===u&&(c=s(this)),c}))},e.exports=t.default}).call(this,n(16))},function(e,t,n){"use strict";t.__esModule=!0;var r,a=(r=n(13))&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new a.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,a=n(10),i=(r=n(13))&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new i.default("#if requires exactly one argument");return a.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||a.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,n){if(2!=arguments.length)throw new i.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var a=1;null!=n.hash.level?a=n.hash.level:n.data&&null!=n.data.level&&(a=n.data.level),t[0]=a,e.log.apply(e,t)}))},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",(function(e,t,n){return e?n.lookupProperty(e,t):e}))},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,a=n(10),i=(r=n(13))&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new i.default("#with requires exactly one argument");a.isFunction(e)&&(e=e.call(this));var n=t.fn;if(a.isEmpty(e))return t.inverse(this);var r=t.data;return t.data&&t.ids&&((r=a.createFrame(t.data)).contextPath=a.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:a.blockParams([e],[r&&r.contextPath])})}))},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.registerDefaultDecorators=function(e){a.default(e)};var r,a=(r=n(49))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(10);t.default=function(e){e.registerDecorator("inline",(function(e,t,n,a){var i=e;return t.partials||(t.partials={},i=function(a,i){var o=n.partials;n.partials=r.extend({},o,t.partials);var s=e(a,i);return n.partials=o,s}),t.partials[a.args[0]]=a.fn,i}))},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.createNewLookupObject=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.extend.apply(void 0,[Object.create(null)].concat(t))};var r=n(10)},function(e,t,n){"use strict";function r(e){this.string=e}t.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=o.COMPILER_REVISION;if(!(t>=o.LAST_COMPATIBLE_COMPILER_REVISION&&t<=o.COMPILER_REVISION)){if(t<o.LAST_COMPATIBLE_COMPILER_REVISION){var r=o.REVISION_CHANGES[n],a=o.REVISION_CHANGES[t];throw new i.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+a+").")}throw new i.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},t.template=function(e,t){if(!t)throw new i.default("No environment passed to template");if(!e||!e.main)throw new i.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n=e.compiler&&7===e.compiler[0],r={strict:function(e,t,n){if(!(e&&t in e))throw new i.default('"'+t+'" not defined in '+e,{loc:n});return e[t]},lookupProperty:function(e,t){var n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||c.resultIsAllowed(n,r.protoAccessControl,t)?n:void 0},lookup:function(e,t){for(var n=e.length,a=0;a<n;a++)if(null!=(e[a]&&r.lookupProperty(e[a],t)))return e[a][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:a.escapeExpression,invokePartial:function(n,r,o){o.hash&&(r=a.extend({},r,o.hash),o.ids&&(o.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,r,o);var s=a.extend({},o,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),u=t.VM.invokePartial.call(this,n,r,s);if(null==u&&t.compile&&(o.partials[o.name]=t.compile(n,e.compilerOptions,t),u=o.partials[o.name](r,s)),null!=u){if(o.indent){for(var c=u.split("\n"),l=0,d=c.length;l<d&&(c[l]||l+1!==d);l++)c[l]=o.indent+c[l];u=c.join("\n")}return u}throw new i.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,a){var i=this.programs[e],o=this.fn(e);return t||a||r||n?i=l(this,e,o,t,n,r,a):i||(i=this.programs[e]=l(this,e,o)),i},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=a.extend({},t,e)),n},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function o(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=n.data;o._setup(n),!n.partial&&e.useData&&(a=p(t,a));var i=void 0,s=e.useBlockParams?[]:void 0;function u(t){return""+e.main(r,t,r.helpers,r.partials,a,s,i)}return e.useDepths&&(i=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(u=f(e.main,u,r,n.depths||[],a,s))(t,n)}return o.isTop=!0,o._setup=function(i){if(i.partial)r.protoAccessControl=i.protoAccessControl,r.helpers=i.helpers,r.partials=i.partials,r.decorators=i.decorators,r.hooks=i.hooks;else{var o=a.extend({},t.helpers,i.helpers);!function(e,t){Object.keys(e).forEach((function(n){var r=e[n];e[n]=function(e,t){var n=t.lookupProperty;return u.wrapHelper(e,(function(e){return a.extend({lookupProperty:n},e)}))}(r,t)}))}(o,r),r.helpers=o,e.usePartial&&(r.partials=r.mergeIfNeeded(i.partials,t.partials)),(e.usePartial||e.useDecorators)&&(r.decorators=a.extend({},t.decorators,i.decorators)),r.hooks={},r.protoAccessControl=c.createProtoAccessControl(i);var l=i.allowCallsToHelperMissing||n;s.moveHelperToHooks(r,"helperMissing",l),s.moveHelperToHooks(r,"blockHelperMissing",l)}},o._child=function(t,n,a,o){if(e.useBlockParams&&!a)throw new i.default("must pass block params");if(e.useDepths&&!o)throw new i.default("must pass parent depths");return l(r,t,e[t],n,0,a,o)},o},t.wrapProgram=l,t.resolvePartial=function(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e},t.invokePartial=function(e,t,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var s=void 0;if(n.fn&&n.fn!==d&&function(){n.data=o.createFrame(n.data);var e=n.fn;s=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=o.createFrame(n.data),n.data["partial-block"]=r,e(t,n)},e.partials&&(n.partials=a.extend({},n.partials,e.partials))}(),void 0===e&&s&&(e=s),void 0===e)throw new i.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},t.noop=d;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(10)),i=(r=n(13))&&r.__esModule?r:{default:r},o=n(22),s=n(23),u=n(53),c=n(25);function l(e,t,n,r,a,i,o){function s(t){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=o;return!o||t==o[0]||t===e.nullContext&&null===o[0]||(s=[t].concat(o)),n(e,t,e.helpers,e.partials,a.data||r,i&&[a.blockParams].concat(i),s)}return(s=f(n,s,e,o,r,i)).program=t,s.depth=o?o.length:0,s.blockParams=a||0,s}function d(){return""}function p(e,t){return t&&"root"in t||((t=t?o.createFrame(t):{}).root=e),t}function f(e,t,n,r,i,o){if(e.decorator){var s={};t=e.decorator(t,s,n,r&&r[0],i,o,r),a.extend(t,s)}return t}},function(e,t,n){"use strict";t.__esModule=!0,t.wrapHelper=function(e,t){return"function"!=typeof e?e:function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=t(n),e.apply(this,arguments)}}},function(e,t,n){"use strict";(function(n){t.__esModule=!0,t.default=function(e){var t=void 0!==n?n:window,r=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=r),e}},e.exports=t.default}).call(this,n(16))},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({1:function(e,t,n,r,a){return" <li>"+e.escapeExpression(e.lambda(t,t))+"</li> "},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=e.lambda,s=e.escapeExpression,u=null!=t?t:e.nullContext||{},c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div id="'+s(o(null!=t?c(t,"id"):t,t))+'" '+(null!=(i=c(n,"class").call(u,"select",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=c(n,"class").call(u,"head",{name:"class",hash:{},data:a}))?i:"")+"> "+s(o(null!=t?c(t,"desc"):t,t))+" <span "+(null!=(i=c(n,"class").call(u,"val",{name:"class",hash:{},data:a}))?i:"")+">"+s(o(null!=t?c(t,"val"):t,t))+'</span></div><ul data-id="'+s(o(null!=t?c(t,"id"):t,t))+'"> '+(null!=(i=c(n,"each").call(u,null!=t?c(t,"selections"):t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?i:"")+" </ul></div>"},useData:!0})},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=e.lambda,s=e.escapeExpression,u=null!=t?t:e.nullContext||{},c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div id="'+s(o(null!=t?c(t,"id"):t,t))+'" '+(null!=(i=c(n,"class").call(u,"range",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=c(n,"class").call(u,"head",{name:"class",hash:{},data:a}))?i:"")+"> "+s(o(null!=t?c(t,"desc"):t,t))+" <span "+(null!=(i=c(n,"class").call(u,"val",{name:"class",hash:{},data:a}))?i:"")+">"+s(o(null!=t?c(t,"val"):t,t))+"</span></div><div "+(null!=(i=c(n,"class").call(u,"input-container",{name:"class",hash:{},data:a}))?i:"")+' data-id="'+s(o(null!=t?c(t,"id"):t,t))+'"><div '+(null!=(i=c(n,"class").call(u,"range-track",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=c(n,"class").call(u,"range-track-bar",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=c(n,"class").call(u,"range-track-progress",{name:"class",hash:{},data:a}))?i:"")+' style="width: '+s(o(null!=t?c(t,"progress"):t,t))+'%"></div></div></div><input type="range" min="'+s(o(null!=t?c(t,"min"):t,t))+'" max="'+s(o(null!=t?c(t,"max"):t,t))+'" step="'+s(o(null!=t?c(t,"step"):t,t))+'" value="'+s(o(null!=t?c(t,"val"):t,t))+'"></div></div>'},useData:!0})},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({1:function(e,t,n,r,a){return' <li style="background: '+e.escapeExpression(e.lambda(t,t))+'"></li> '},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=e.lambda,s=e.escapeExpression,u=null!=t?t:e.nullContext||{},c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div id="'+s(o(null!=t?c(t,"id"):t,t))+'" '+(null!=(i=c(n,"class").call(u,"color",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=c(n,"class").call(u,"head",{name:"class",hash:{},data:a}))?i:"")+"> "+s(o(null!=t?c(t,"desc"):t,t))+" <span "+(null!=(i=c(n,"class").call(u,"val",{name:"class",hash:{},data:a}))?i:"")+' style="background-color: '+s(o(null!=t?c(t,"val"):t,t))+'"></span></div><ul data-id="'+s(o(null!=t?c(t,"id"):t,t))+'"> '+(null!=(i=c(n,"each").call(u,null!=t?c(t,"colors"):t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?i:"")+" </ul></div>"},useData:!0})},function(e,t,n){(t=n(8)(!1)).push([e.i,"._container ._entry-btn{$w:40px;$h:40px;$d:flex;$b:#000;opacity:.3;$bra:10px;$po:relative;$z:1000;$tr:opacity .3s;$c:#fff;$fs:25px;align-items:center;justify-content:center}._container ._entry-btn._active,._container ._entry-btn:active{opacity:.8}",""]),e.exports=t},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div "+(null!=(i=s(n,"class").call(o,"entry-btn",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,"icon-tool",{name:"class",hash:{},data:a}))?i:"")+"></span></div>"},useData:!0})},function(e,t,n){(t=n(8)(!1)).push([e.i,"._container ._nav-bar-container{$po:absolute;$w:100%;$h:40px;$l:0;$t:0;$z:100}._container ._nav-bar-container ._nav-bar{$ox:auto;$wos:touch;$bt:1px solid var(--border);$bb:1px solid var(--border);$w:100%;$h:100%;$b:var(--darker-background);$fs:0;$ws:nowrap}._container ._nav-bar-container ._nav-bar-item{$cu:pointer;$d:inline-block;$h:38px;$lh:38px;$p:0 10px;$c:var(--foreground);$fs:12px;$ta:center;$tt:capitalize;$tr:all .3s}._container ._nav-bar-container ._nav-bar-item:active{$b:var(--highlight);$c:var(--select-foreground)}._container ._nav-bar-container ._nav-bar-item._active{$b:var(--highlight);$c:var(--select-foreground)}._container ._nav-bar-container ._bottom-bar{$tr:left .3s,width .3s;$h:1px;$b:var(--accent);$po:absolute;bottom:0;$l:0}",""]),e.exports=t},function(e,t,n){(t=n(8)(!1)).push([e.i,"._dev-tools{$po:absolute;$w:100%;$h:100%;$l:0;bottom:0;$b:var(--background);$z:500;$d:none;$pt:40px!important;opacity:0;$tr:opacity .3s,height .3s}._dev-tools ._tools{$o:auto;$wos:touch;$h:100%;$w:100%;$po:relative}._dev-tools ._tools ._tool{$po:absolute;$w:100%;$h:100%;$l:0;$t:0;$o:hidden;$d:none}",""]),e.exports=t},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div "+(null!=(i=s(n,"class").call(o,"dev-tools",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=s(n,"class").call(o,"nav-bar-container",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=s(n,"class").call(o,"nav-bar",{name:"class",hash:{},data:a}))?i:"")+'></div><div class="eruda-bottom-bar"></div></div><div '+(null!=(i=s(n,"class").call(o,"tools",{name:"class",hash:{},data:a}))?i:"")+"></div></div>"},useData:!0})},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){(t=n(8)(!1)).push([e.i,"._container ._abstract ._key{$c:var(--var-color)}._container ._abstract ._number{$c:var(--number-color)}._container ._abstract ._null{$c:var(--operator-color)}._container ._abstract ._string{$c:var(--string-color)}._container ._abstract ._boolean{$c:var(--keyword-color)}._container ._abstract ._special{$c:var(--operator-color)}",""]),e.exports=t},function(e,t,n){var r,a,i;i=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([,,function(e,t,n){"use strict";function r(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function a(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function i(e,t){this.__indent_cache=new a(e,t),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new r(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}r.prototype.clone_empty=function(){var e=new r(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},r.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},r.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},r.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},r.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},r.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},r.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},r.prototype.is_empty=function(){return 0===this.__items.length},r.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},r.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},r.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},r.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},r.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},r.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},r.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},a.prototype.get_indent_size=function(e,t){var n=this.__base_string_length;return t=t||0,e<0&&(n=0),(n+=e*this.__indent_size)+t},a.prototype.get_indent_string=function(e,t){var n=this.__base_string;return t=t||0,e<0&&(e=0,n=""),t+=e*this.__indent_size,this.__ensure_cache(t),n+this.__cache[t]},a.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},a.prototype.__add_column=function(){var e=this.__cache.length,t=0,n="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,n=new Array(t+1).join(this.__indent_string)),e&&(n+=new Array(e+1).join(" ")),this.__cache.push(n)},i.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},i.prototype.get_line_number=function(){return this.__lines.length},i.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},i.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},i.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},i.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline()||(this.raw||this.__add_outputline(),0))},i.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==e&&(n=n.replace(/[\n]/g,e)),n},i.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},i.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},i.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},i.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},i.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},i.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},i.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},i.prototype.just_added_newline=function(){return this.current_line.is_empty()},i.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},i.prototype.ensure_empty_line_above=function(e,t){for(var n=this.__lines.length-2;n>=0;){var a=this.__lines[n];if(a.is_empty())break;if(0!==a.item(0).indexOf(e)&&a.item(-1)!==t){this.__lines.splice(n+1,0,new r(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},e.exports.Output=i},function(e,t,n){"use strict";e.exports.Token=function(e,t,n,r){this.type=e,this.text=t,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},,,function(e,t,n){"use strict";function r(e,t){this.raw_options=a(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php"],["auto"])}function a(e,t){var n,r={};for(n in e=i(e))n!==t&&(r[n]=e[n]);if(t&&e[t])for(n in e[t])r[n]=e[t][n];return r}function i(e){var t,n={};for(t in e)n[t.replace(/-/g,"_")]=e[t];return n}r.prototype._get_array=function(e,t){var n=this.raw_options[e],r=t||[];return"object"==typeof n?null!==n&&"function"==typeof n.concat&&(r=n.concat()):"string"==typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},r.prototype._get_boolean=function(e,t){var n=this.raw_options[e];return void 0===n?!!t:!!n},r.prototype._get_characters=function(e,t){var n=this.raw_options[e],r=t||"";return"string"==typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},r.prototype._get_number=function(e,t){var n=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var r=parseInt(n,10);return isNaN(r)&&(r=t),r},r.prototype._get_selection=function(e,t,n){var r=this._get_selection_list(e,t,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r[0]},r.prototype._get_selection_list=function(e,t,n){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(n=n||[t[0]],!this._is_valid_selection(n,t))throw new Error("Invalid Default Value!");var r=this._get_array(e,n);if(!this._is_valid_selection(r,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return r},r.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some((function(e){return-1===t.indexOf(e)}))},e.exports.Options=r,e.exports.normalizeOpts=i,e.exports.mergeOpts=a},,function(e,t,n){"use strict";var r=RegExp.prototype.hasOwnProperty("sticky");function a(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}a.prototype.restart=function(){this.__position=0},a.prototype.back=function(){this.__position>0&&(this.__position-=1)},a.prototype.hasNext=function(){return this.__position<this.__input_length},a.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},a.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},a.prototype.__match=function(e,t){e.lastIndex=t;var n=e.exec(this.__input);return!n||r&&e.sticky||n.index!==t&&(n=null),n},a.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},a.prototype.testChar=function(e,t){var n=this.peek(t);return e.lastIndex=0,null!==n&&e.test(n)},a.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},a.prototype.read=function(e,t,n){var r,a="";return e&&(r=this.match(e))&&(a+=r[0]),!t||!r&&e||(a+=this.readUntil(t,n)),a},a.prototype.readUntil=function(e,t){var n,r=this.__position;e.lastIndex=this.__position;var a=e.exec(this.__input);return a?(r=a.index,t&&(r+=a[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},a.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},a.prototype.get_regexp=function(e,t){var n=null,a="g";return t&&r&&(a="y"),"string"==typeof e&&""!==e?n=new RegExp(e,a):e&&(n=new RegExp(e.source,a)),n},a.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},a.prototype.peekUntilAfter=function(e){var t=this.__position,n=this.readUntilAfter(e);return this.__position=t,n},a.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},e.exports.InputScanner=a},function(e,t,n){"use strict";var r=n(8).InputScanner,a=n(3).Token,i=n(10).TokenStream,o=n(11).WhitespacePattern,s={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},u=function(e,t){this._input=new r(e),this._options=t||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new o(this._input)};u.prototype.tokenize=function(){var e;this._input.restart(),this.__tokens=new i,this._reset();for(var t=new a(s.START,""),n=null,r=[],o=new i;t.type!==s.EOF;){for(e=this._get_next_token(t,n);this._is_comment(e);)o.add(e),e=this._get_next_token(t,n);o.isEmpty()||(e.comments_before=o,o=new i),e.parent=n,this._is_opening(e)?(r.push(n),n=e):n&&this._is_closing(e,n)&&(e.opened=n,n.closed=e,n=r.pop(),e.parent=n),e.previous=t,t.next=e,this.__tokens.add(e),t=e}return this.__tokens},u.prototype._is_first_token=function(){return this.__tokens.isEmpty()},u.prototype._reset=function(){},u.prototype._get_next_token=function(e,t){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(s.RAW,n):this._create_token(s.EOF,"")},u.prototype._is_comment=function(e){return!1},u.prototype._is_opening=function(e){return!1},u.prototype._is_closing=function(e,t){return!1},u.prototype._create_token=function(e,t){return new a(e,t,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},u.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},e.exports.Tokenizer=u,e.exports.TOKEN=s},function(e,t,n){"use strict";function r(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}r.prototype.restart=function(){this.__position=0},r.prototype.isEmpty=function(){return 0===this.__tokens_length},r.prototype.hasNext=function(){return this.__position<this.__tokens_length},r.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},r.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__tokens_length&&(t=this.__tokens[e]),t},r.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},e.exports.TokenStream=r},function(e,t,n){"use strict";var r=n(12).Pattern;function a(e,t){r.call(this,e,t),t?this._line_regexp=this._input.get_regexp(t._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}a.prototype=new r,a.prototype.__set_whitespace_patterns=function(e,t){e+="\\t ",t+="\\n\\r",this._match_pattern=this._input.get_regexp("["+e+t+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+t+"]")},a.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var e=this._input.read(this._match_pattern);if(" "===e)this.whitespace_before_token=" ";else if(e){var t=this.__split(this._newline_regexp,e);this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]}return e},a.prototype.matching=function(e,t){var n=this._create();return n.__set_whitespace_patterns(e,t),n._update(),n},a.prototype._create=function(){return new a(this._input,this)},a.prototype.__split=function(e,t){e.lastIndex=0;for(var n=0,r=[],a=e.exec(t);a;)r.push(t.substring(n,a.index)),n=a.index+a[0].length,a=e.exec(t);return n<t.length?r.push(t.substring(n,t.length)):r.push(""),r},e.exports.WhitespacePattern=a},function(e,t,n){"use strict";function r(e,t){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,t&&(this._starting_pattern=this._input.get_regexp(t._starting_pattern,!0),this._match_pattern=this._input.get_regexp(t._match_pattern,!0),this._until_pattern=this._input.get_regexp(t._until_pattern),this._until_after=t._until_after)}r.prototype.read=function(){var e=this._input.read(this._starting_pattern);return this._starting_pattern&&!e||(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},r.prototype.read_match=function(){return this._input.match(this._match_pattern)},r.prototype.until_after=function(e){var t=this._create();return t._until_after=!0,t._until_pattern=this._input.get_regexp(e),t._update(),t},r.prototype.until=function(e){var t=this._create();return t._until_after=!1,t._until_pattern=this._input.get_regexp(e),t._update(),t},r.prototype.starting_with=function(e){var t=this._create();return t._starting_pattern=this._input.get_regexp(e,!0),t._update(),t},r.prototype.matching=function(e){var t=this._create();return t._match_pattern=this._input.get_regexp(e,!0),t._update(),t},r.prototype._create=function(){return new r(this._input,this)},r.prototype._update=function(){},e.exports.Pattern=r},function(e,t,n){"use strict";function r(e,t){e="string"==typeof e?e:e.source,t="string"==typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}r.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(e);n;)t[n[1]]=n[2],n=this.__directive_pattern.exec(e);return t},r.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},e.exports.Directives=r},function(e,t,n){"use strict";var r=n(12).Pattern,a={django:!1,erb:!1,handlebars:!1,php:!1};function i(e,t){r.call(this,e,t),this.__template_pattern=null,this._disabled=Object.assign({},a),this._excluded=Object.assign({},a),t&&(this.__template_pattern=this._input.get_regexp(t.__template_pattern),this._excluded=Object.assign(this._excluded,t._excluded),this._disabled=Object.assign(this._disabled,t._disabled));var n=new r(e);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[=]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/)}}i.prototype=new r,i.prototype._create=function(){return new i(this._input,this)},i.prototype._update=function(){this.__set_templated_pattern()},i.prototype.disable=function(e){var t=this._create();return t._disabled[e]=!0,t._update(),t},i.prototype.read_options=function(e){var t=this._create();for(var n in a)t._disabled[n]=-1===e.templating.indexOf(n);return t._update(),t},i.prototype.exclude=function(e){var t=this._create();return t._excluded[e]=!0,t._update(),t},i.prototype.read=function(){var e="";e=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var t=this._read_template();t;)this._match_pattern?t+=this._input.read(this._match_pattern):t+=this._input.readUntil(this.__template_pattern),e+=t,t=this._read_template();return this._until_after&&(e+=this._input.readUntilAfter(this._until_pattern)),e},i.prototype.__set_templated_pattern=function(){var e=[];this._disabled.php||e.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||e.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||e.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(e.push(this.__patterns.django._starting_pattern.source),e.push(this.__patterns.django_value._starting_pattern.source),e.push(this.__patterns.django_comment._starting_pattern.source)),this._until_pattern&&e.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+e.join("|")+")")},i.prototype._read_template=function(){var e="",t=this._input.peek();if("<"===t){var n=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==n||(e=e||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==n||(e=e||this.__patterns.erb.read())}else"{"===t&&(this._disabled.handlebars||this._excluded.handlebars||(e=(e=(e=e||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(e=e||this.__patterns.django_value.read()),this._excluded.django||(e=(e=e||this.__patterns.django_comment.read())||this.__patterns.django.read())));return e},e.exports.TemplatablePattern=i},,,,function(e,t,n){"use strict";var r=n(19).Beautifier,a=n(20).Options;e.exports=function(e,t,n,a){return new r(e,t,n,a).beautify()},e.exports.defaultOptions=function(){return new a}},function(e,t,n){"use strict";var r=n(20).Options,a=n(2).Output,i=n(21).Tokenizer,o=n(21).TOKEN,s=/\r\n|[\r\n]/,u=/\r\n|[\r\n]/g,c=function(e,t){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=e.max_preserve_newlines,this.preserve_newlines=e.preserve_newlines,this._output=new a(e,t)};function l(e,t){return-1!==t.indexOf(e)}function d(e,t,n){this.parent=e||null,this.tag=t?t.tag_name:"",this.indent_level=n||0,this.parser_token=t||null}function p(e){this._printer=e,this._current_frame=null}function f(e,t,n,a){this._source_text=e||"",t=t||{},this._js_beautify=n,this._css_beautify=a,this._tag_stack=null;var i=new r(t,"html");this._options=i,this._is_wrap_attributes_force="force"===this._options.wrap_attributes.substr(0,"force".length),this._is_wrap_attributes_force_expand_multiline="force-expand-multiline"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned="force-aligned"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple="aligned-multiple"===this._options.wrap_attributes,this._is_wrap_attributes_preserve="preserve"===this._options.wrap_attributes.substr(0,"preserve".length),this._is_wrap_attributes_preserve_aligned="preserve-aligned"===this._options.wrap_attributes}c.prototype.current_line_has_match=function(e){return this._output.current_line.has_match(e)},c.prototype.set_space_before_token=function(e,t){this._output.space_before_token=e,this._output.non_breaking_space=t},c.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},c.prototype.add_raw_token=function(e){this._output.add_raw_token(e)},c.prototype.print_preserved_newlines=function(e){var t=0;e.type!==o.TEXT&&e.previous.type!==o.TEXT&&(t=e.newlines?1:0),this.preserve_newlines&&(t=e.newlines<this.max_preserve_newlines+1?e.newlines:this.max_preserve_newlines+1);for(var n=0;n<t;n++)this.print_newline(n>0);return 0!==t},c.prototype.traverse_whitespace=function(e){return!(!e.whitespace_before&&!e.newlines||(this.print_preserved_newlines(e)||(this._output.space_before_token=!0),0))},c.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},c.prototype.print_newline=function(e){this._output.add_new_line(e)},c.prototype.print_token=function(e){e.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(e.text))},c.prototype.indent=function(){this.indent_level++},c.prototype.get_full_indent=function(e){return(e=this.indent_level+(e||0))<1?"":this._output.get_indent_string(e)},p.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},p.prototype.record_tag=function(e){var t=new d(this._current_frame,e,this._printer.indent_level);this._current_frame=t},p.prototype._try_pop_frame=function(e){var t=null;return e&&(t=e.parser_token,this._printer.indent_level=e.indent_level,this._current_frame=e.parent),t},p.prototype._get_frame=function(e,t){for(var n=this._current_frame;n&&-1===e.indexOf(n.tag);){if(t&&-1!==t.indexOf(n.tag)){n=null;break}n=n.parent}return n},p.prototype.try_pop=function(e,t){var n=this._get_frame([e],t);return this._try_pop_frame(n)},p.prototype.indent_to_tag=function(e){var t=this._get_frame(e);t&&(this._printer.indent_level=t.indent_level)},f.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===this._options.eol&&(t="\n",e&&s.test(e)&&(t=e.match(s)[0]));var n=(e=e.replace(u,"\n")).match(/^[\t ]*/)[0],r={text:"",type:""},a=new h,l=new c(this._options,n),d=new i(e,this._options).tokenize();this._tag_stack=new p(l);for(var f=null,m=d.next();m.type!==o.EOF;)m.type===o.TAG_OPEN||m.type===o.COMMENT?a=f=this._handle_tag_open(l,m,a,r):m.type===o.ATTRIBUTE||m.type===o.EQUALS||m.type===o.VALUE||m.type===o.TEXT&&!a.tag_complete?f=this._handle_inside_tag(l,m,a,d):m.type===o.TAG_CLOSE?f=this._handle_tag_close(l,m,a):m.type===o.TEXT?f=this._handle_text(l,m,a):l.add_raw_token(m),r=f,m=d.next();return l._output.get_code(t)},f.prototype._handle_tag_close=function(e,t,n){var r={text:t.text,type:t.type};return e.alignment_size=0,n.tag_complete=!0,e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),n.is_unformatted?e.add_raw_token(t):("<"===n.tag_start_char&&(e.set_space_before_token("/"===t.text[0],!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&e.print_newline(!1)),e.print_token(t)),!n.indent_content||n.is_unformatted||n.is_content_unformatted||(e.indent(),n.indent_content=!1),n.is_inline_element||n.is_unformatted||n.is_content_unformatted||e.set_wrap_point(),r},f.prototype._handle_inside_tag=function(e,t,n,r){var a=n.has_wrapped_attrs,i={text:t.text,type:t.type};if(e.set_space_before_token(t.newlines||""!==t.whitespace_before,!0),n.is_unformatted)e.add_raw_token(t);else if("{"===n.tag_start_char&&t.type===o.TEXT)e.print_preserved_newlines(t)?(t.newlines=0,e.add_raw_token(t)):e.print_token(t);else{if(t.type===o.ATTRIBUTE?(e.set_space_before_token(!0),n.attr_count+=1):(t.type===o.EQUALS||t.type===o.VALUE&&t.previous.type===o.EQUALS)&&e.set_space_before_token(!1),t.type===o.ATTRIBUTE&&"<"===n.tag_start_char&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(e.traverse_whitespace(t),a=a||0!==t.newlines),this._is_wrap_attributes_force)){var s=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&1===n.attr_count){var u,c=!0,l=0;do{if((u=r.peek(l)).type===o.ATTRIBUTE){c=!1;break}l+=1}while(l<4&&u.type!==o.EOF&&u.type!==o.TAG_CLOSE);s=!c}s&&(e.print_newline(!1),a=!0)}e.print_token(t),a=a||e.previous_token_wrapped(),n.has_wrapped_attrs=a}return i},f.prototype._handle_text=function(e,t,n){var r={text:t.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(e,t,n):n.is_unformatted||n.is_content_unformatted?e.add_raw_token(t):(e.traverse_whitespace(t),e.print_token(t)),r},f.prototype._print_custom_beatifier_text=function(e,t,n){var r=this;if(""!==t.text){var a,i=t.text,o=1,s="",u="";"javascript"===n.custom_beautifier_name&&"function"==typeof this._js_beautify?a=this._js_beautify:"css"===n.custom_beautifier_name&&"function"==typeof this._css_beautify?a=this._css_beautify:"html"===n.custom_beautifier_name&&(a=function(e,t){return new f(e,t,r._js_beautify,r._css_beautify).beautify()}),"keep"===this._options.indent_scripts?o=0:"separate"===this._options.indent_scripts&&(o=-e.indent_level);var c=e.get_full_indent(o);if(i=i.replace(/\n[ \t]*$/,""),"html"!==n.custom_beautifier_name&&"<"===i[0]&&i.match(/^(<!--|<!\[CDATA\[)/)){var l=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(i);if(!l)return void e.add_raw_token(t);s=c+l[1]+"\n",i=l[4],l[5]&&(u=c+l[5]),i=i.replace(/\n[ \t]*$/,""),(l[2]||-1!==l[3].indexOf("\n"))&&(l=l[3].match(/[ \t]+$/))&&(t.whitespace_before=l[0])}if(i)if(a){var d=function(){this.eol="\n"};d.prototype=this._options.raw_options,i=a(c+i,new d)}else{var p=t.whitespace_before;p&&(i=i.replace(new RegExp("\n("+p+")?","g"),"\n")),i=c+i.replace(/\n/g,"\n"+c)}s&&(i=i?s+i+"\n"+u:s+u),e.print_newline(!1),i&&(t.text=i,t.whitespace_before="",t.newlines=0,e.add_raw_token(t),e.print_newline(!0))}},f.prototype._handle_tag_open=function(e,t,n,r){var a=this._get_tag_open_token(t);return(n.is_unformatted||n.is_content_unformatted)&&t.type===o.TAG_OPEN&&0===t.text.indexOf("</")?e.add_raw_token(t):(e.traverse_whitespace(t),this._set_tag_position(e,t,a,n,r),a.is_inline_element||e.set_wrap_point(),e.print_token(t)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(a.alignment_size=t.text.length+1),a.tag_complete||a.is_unformatted||(e.alignment_size=a.alignment_size),a};var h=function(e,t){var n;this.parent=e||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",t?(this.tag_start_char=t.text[0],this.text=t.text,"<"===this.tag_start_char?(n=t.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=t.text.match(/^{{[#\^]?([^\s}]+)/),this.tag_check=n?n[1]:""),this.tag_check=this.tag_check.toLowerCase(),t.type===o.COMMENT&&(this.tag_complete=!0),this.is_start_tag="/"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||t.closed&&"/>"===t.closed.text,this.is_end_tag=this.is_end_tag||"{"===this.tag_start_char&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))):this.tag_complete=!0};f.prototype._get_tag_open_token=function(e){var t=new h(this._tag_stack.get_parser_token(),e);return t.alignment_size=this._options.wrap_attributes_indent_size,t.is_end_tag=t.is_end_tag||l(t.tag_check,this._options.void_elements),t.is_empty_element=t.tag_complete||t.is_start_tag&&t.is_end_tag,t.is_unformatted=!t.tag_complete&&l(t.tag_check,this._options.unformatted),t.is_content_unformatted=!t.is_empty_element&&l(t.tag_check,this._options.content_unformatted),t.is_inline_element=l(t.tag_name,this._options.inline)||"{"===t.tag_start_char,t},f.prototype._set_tag_position=function(e,t,n,r,a){n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||(n.parent&&(n.parent.multiline_content=!0),e.print_newline(!1))),this._tag_stack.record_tag(n),"script"!==n.tag_name&&"style"!==n.tag_name||n.is_unformatted||n.is_content_unformatted||(n.custom_beautifier_name=function(e,t){var n=null,r=null;return t.closed?("script"===e?n="text/javascript":"style"===e&&(n="text/css"),(n=function(e){for(var t=null,n=e.next;n.type!==o.EOF&&e.closed!==n;){if(n.type===o.ATTRIBUTE&&"type"===n.text){n.next&&n.next.type===o.EQUALS&&n.next.next&&n.next.next.type===o.VALUE&&(t=n.next.next.text);break}n=n.next}return t}(t)||n).search("text/css")>-1?r="css":n.search(/(text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect)/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null}(n.tag_check,t)))),l(n.tag_check,this._options.extra_liners)&&(e.print_newline(!1),e._output.just_added_blankline()||e.print_newline(!0)),n.is_empty_element?("{"===n.tag_start_char&&"else"===n.tag_check&&(this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0,e.current_line_has_match(/{{#if/)||e.print_newline(!1)),"!--"===n.tag_name&&a.type===o.TAG_CLOSE&&r.is_end_tag&&-1===n.text.indexOf("\n")||n.is_inline_element||n.is_unformatted||e.print_newline(!1)):n.is_unformatted||n.is_content_unformatted?n.is_inline_element||n.is_unformatted||e.print_newline(!1):n.is_end_tag?(n.start_tag_token&&n.start_tag_token.multiline_content||!(n.is_inline_element||r.is_inline_element||a.type===o.TAG_CLOSE&&n.start_tag_token===r||"TK_CONTENT"===a.type))&&e.print_newline(!1):(n.indent_content=!n.custom_beautifier_name,"<"===n.tag_start_char&&("html"===n.tag_name?n.indent_content=this._options.indent_inner_html:"head"===n.tag_name?n.indent_content=this._options.indent_head_inner_html:"body"===n.tag_name&&(n.indent_content=this._options.indent_body_inner_html)),n.is_inline_element||"TK_CONTENT"===a.type||(n.parent&&(n.parent.multiline_content=!0),e.print_newline(!1)))},f.prototype._do_optional_end_element=function(e){var t=null;if(!e.is_empty_element&&e.is_start_tag&&e.parent)return"body"===e.tag_name?t=t||this._tag_stack.try_pop("head"):"li"===e.tag_name?t=t||this._tag_stack.try_pop("li",["ol","ul"]):"dd"===e.tag_name||"dt"===e.tag_name?t=(t=t||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]):"rp"===e.tag_name||"rt"===e.tag_name?t=(t=t||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):"optgroup"===e.tag_name?t=t||this._tag_stack.try_pop("optgroup",["select"]):"option"===e.tag_name?t=t||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):"colgroup"===e.tag_name?t=t||this._tag_stack.try_pop("caption",["table"]):"thead"===e.tag_name?t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):"tbody"===e.tag_name||"tfoot"===e.tag_name?t=(t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):"tr"===e.tag_name?t=(t=(t=t||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):"th"!==e.tag_name&&"td"!==e.tag_name||(t=(t=t||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"])),e.parent=this._tag_stack.get_parser_token(),t},e.exports.Beautifier=f},function(e,t,n){"use strict";var r=n(6).Options;function a(e){r.call(this,e,"html"),1===this.templating.length&&"auto"===this.templating[0]&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}a.prototype=new r,e.exports.Options=a},function(e,t,n){"use strict";var r=n(9).Tokenizer,a=n(9).TOKEN,i=n(13).Directives,o=n(14).TemplatablePattern,s=n(12).Pattern,u={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:a.START,RAW:a.RAW,EOF:a.EOF},c=new i(/<\!--/,/-->/),l=function(e,t){r.call(this,e,t),this._current_tag_name="";var n=new o(this._input).read_options(this._options),a=new s(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:a.starting_with(/{{!--/).until_after(/--}}/),handlebars:a.starting_with(/{{/).until_after(/}}/),handlebars_open:a.until(/[\n\r\t }]/),handlebars_raw_close:a.until(/}}/),comment:a.starting_with(/<!--/).until_after(/-->/),cdata:a.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:a.starting_with(/<!\[/).until_after(/]>/),processing:a.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var i=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=a.matching(i).until_after(i)}};(l.prototype=new r)._is_comment=function(e){return!1},l.prototype._is_opening=function(e){return e.type===u.TAG_OPEN},l.prototype._is_closing=function(e,t){return e.type===u.TAG_CLOSE&&t&&((">"===e.text||"/>"===e.text)&&"<"===t.text[0]||"}}"===e.text&&"{"===t.text[0]&&"{"===t.text[1])},l.prototype._reset=function(){this._current_tag_name=""},l.prototype._get_next_token=function(e,t){var n=null;this._readWhitespace();var r=this._input.peek();return null===r?this._create_token(u.EOF,""):n=(n=(n=(n=(n=(n=(n=(n=(n=n||this._read_open_handlebars(r,t))||this._read_attribute(r,e,t))||this._read_raw_content(r,e,t))||this._read_close(r,t))||this._read_content_word(r))||this._read_comment_or_cdata(r))||this._read_processing(r))||this._read_open(r,t))||this._create_token(u.UNKNOWN,this._input.next())},l.prototype._read_comment_or_cdata=function(e){var t=null,n=null,r=null;return"<"===e&&("!"===this._input.peek(1)&&((n=this.__patterns.comment.read())?(r=c.get_directives(n))&&"start"===r.ignore&&(n+=c.readIgnored(this._input)):n=this.__patterns.cdata.read()),n&&((t=this._create_token(u.COMMENT,n)).directives=r)),t},l.prototype._read_processing=function(e){var t=null,n=null;if("<"===e){var r=this._input.peek(1);"!"!==r&&"?"!==r||(n=(n=this.__patterns.conditional_comment.read())||this.__patterns.processing.read()),n&&((t=this._create_token(u.COMMENT,n)).directives=null)}return t},l.prototype._read_open=function(e,t){var n=null,r=null;return t||"<"===e&&(n=this._input.next(),"/"===this._input.peek()&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(u.TAG_OPEN,n)),r},l.prototype._read_open_handlebars=function(e,t){var n=null,r=null;return t||this._options.indent_handlebars&&"{"===e&&"{"===this._input.peek(1)&&("!"===this._input.peek(2)?(n=(n=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),r=this._create_token(u.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(u.TAG_OPEN,n))),r},l.prototype._read_close=function(e,t){var n=null,r=null;return t&&("<"===t.text[0]&&(">"===e||"/"===e&&">"===this._input.peek(1))?(n=this._input.next(),"/"===e&&(n+=this._input.next()),r=this._create_token(u.TAG_CLOSE,n)):"{"===t.text[0]&&"}"===e&&"}"===this._input.peek(1)&&(this._input.next(),this._input.next(),r=this._create_token(u.TAG_CLOSE,"}}"))),r},l.prototype._read_attribute=function(e,t,n){var r=null,a="";if(n&&"<"===n.text[0])if("="===e)r=this._create_token(u.EQUALS,this._input.next());else if('"'===e||"'"===e){var i=this._input.next();i+='"'===e?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),r=this._create_token(u.VALUE,i)}else(a=this.__patterns.attribute.read())&&(r=t.type===u.EQUALS?this._create_token(u.VALUE,a):this._create_token(u.ATTRIBUTE,a));return r},l.prototype._is_content_unformatted=function(e){return-1===this._options.void_elements.indexOf(e)&&(-1!==this._options.content_unformatted.indexOf(e)||-1!==this._options.unformatted.indexOf(e))},l.prototype._read_raw_content=function(e,t,n){var r="";if(n&&"{"===n.text[0])r=this.__patterns.handlebars_raw_close.read();else if(t.type===u.TAG_CLOSE&&"<"===t.opened.text[0]){var a=t.opened.text.substr(1).toLowerCase();if("script"===a||"style"===a){var i=this._read_comment_or_cdata(e);if(i)return i.type=u.TEXT,i;r=this._input.readUntil(new RegExp("</"+a+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(a)&&(r=this._input.readUntil(new RegExp("</"+a+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(u.TEXT,r):null},l.prototype._read_content_word=function(e){var t="";if(this._options.unformatted_content_delimiter&&e===this._options.unformatted_content_delimiter[0]&&(t=this.__patterns.unformatted_content_delimiter.read()),t||(t=this.__patterns.word.read()),t)return this._create_token(u.TEXT,t)},e.exports.Tokenizer=l,e.exports.TOKEN=u}]),r=[n,n(18),n(19)],void 0===(a=function(e){var t=n(18),r=n(19);return{html_beautify:function(e,n){return i(e,n,t.js_beautify,r.css_beautify)}}}.apply(t,r))||(e.exports=a)},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lambda,u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <div "+(null!=(i=c(n,"class").call(o,"header",{name:"class",hash:{},data:a}))?i:"")+"> "+(null!=(i=c(n,"repeat").call(o,null!=(i=null!=t?c(t,"group"):t)?c(i,"indentLevel"):i,{name:"repeat",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))?i:"")+" <div "+(null!=(i=c(n,"class").call(o,"time-container",{name:"class",hash:{},data:a}))?i:"")+"><span>"+u(s(null!=t?c(t,"time"):t,t))+"</span><span>"+u(s(null!=t?c(t,"from"):t,t))+"</span></div></div> "},2:function(e,t,n,r,a){var i;return" <div "+(null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"class").call(null!=t?t:e.nullContext||{},"nesting-level",{name:"class",hash:{},data:a}))?i:"")+"></div> "},4:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <div "+(null!=(i=s(n,"class").call(o,"icon-container",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,s(n,"concat").call(o,"icon icon-",null!=t?s(t,"icon"):t,{name:"concat",hash:{},data:a}),{name:"class",hash:{},data:a}))?i:"")+"></span></div> "},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=s(n,"if").call(o,null!=t?s(t,"displayHeader"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?i:"")+" <div "+(null!=(i=s(n,"class").call(o,s(n,"concat").call(o,null!=t?s(t,"type"):t," log-item",{name:"concat",hash:{},data:a}),{name:"class",hash:{},data:a}))?i:"")+"> "+(null!=(i=s(n,"repeat").call(o,null!=(i=null!=t?s(t,"group"):t)?s(i,"indentLevel"):i,{name:"repeat",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))?i:"")+" "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"icon"):t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))?i:"")+" <div "+(null!=(i=s(n,"class").call(o,"count-container hidden",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=s(n,"class").call(o,"count",{name:"class",hash:{},data:a}))?i:"")+"></div></div><div "+(null!=(i=s(n,"class").call(o,"log-content-wrapper",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=s(n,"class").call(o,"log-content",{name:"class",hash:{},data:a}))?i:"")+">"+(null!=(i=e.lambda(null!=t?s(t,"msg"):t,t))?i:"")+"</div></div></div>"},useData:!0})},function(e,t,n){(t=n(8)(!1)).push([e.i,"._console-container ._logs-container{$oy:auto;$wos:touch;$h:100%;$po:relative;$wc:scroll-position}._console-container ._fake-logs{$po:absolute;$l:0;$t:0;$pe:none;$v:hidden;$w:100%}._console-container ._fake-logs *{$o:hidden;$c:#000;$po:static}._console-container ._logs{$fs:14px;$pt:1px}._console-container ._log-container{$bsi:content-box}._console-container ._header{$ws:nowrap;$d:flex;$fs:12px;$c:var(--link-color);$bt:1px solid transparent;$bb:1px solid var(--border)}._console-container ._header ._time-container{$ox:auto;$wos:touch;$p:3px 10px}._console-container ._nesting-level{$w:14px;$fsh:0;$mt:-1px;$mb:-1px;$po:relative;$br:1px solid var(--border)}._console-container ._nesting-level._group-closed::before{$co:''}._console-container ._nesting-level::before{$bb:1px solid var(--border);$po:absolute;$t:0;$l:0;$ml:100%;$w:5px;$h:100%;$bsi:border-box}._console-container ._log-item{$po:relative;$d:flex;$bt:1px solid transparent;$bb:1px solid var(--border);$mt:-1px;$mh:24px;$c:var(--foreground)}._console-container ._log-item:after{$co:'';$d:block;$cl:both}._console-container ._log-item a{$c:var(--link-color)!important}._console-container ._log-item ._icon-container{$pt:2px;$m:0 -6px 0 10px}._console-container ._log-item ._icon-container ._icon{$lh:20px;$fs:12px;$c:var(--foreground);$po:relative}._console-container ._log-item ._icon-container ._icon-caret-down,._console-container ._log-item ._icon-container ._icon-caret-right{$l:-2px}._console-container ._log-item ._icon-container ._icon-error{$c:#ef3842}._console-container ._log-item ._icon-container ._icon-warn{$t:-1px;$c:#e8a400}._console-container ._log-item ._count{$b:var(--text-color);$p:2px 4px;$c:#000;$bra:10px;$fs:12px;$f:left;$m:2px -6px 0 10px}._console-container ._log-item ._log-content-wrapper{$fl:1;$o:hidden}._console-container ._log-item ._log-content{$p:3px 0;$m:0 10px;$ox:auto;$wos:touch;$ws:pre-wrap;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;$us:text}._console-container ._log-item ._log-content *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;$us:text}._console-container ._log-item._html table,._console-container ._log-item._table table{$w:100%;$bc:collapse;$o:hidden;$c:var(--foreground)}._console-container ._log-item._html table th,._console-container ._log-item._table table th{$b:var(--darker-background)}._console-container ._log-item._html table td,._console-container ._log-item._html table th,._console-container ._log-item._table table td,._console-container ._log-item._table table th{$bo:1px solid var(--border);$p:3px 10px}._console-container ._log-item._html table tr:nth-child(even),._console-container ._log-item._table table tr:nth-child(even){$b:var(--contrast)}._console-container ._log-item._error{$z:50;$b:var(--console-error-background);$c:var(--console-error-foreground);$bt:1px solid var(--console-error-border);$bb:1px solid var(--console-error-border)}._console-container ._log-item._error ._stack{$pl:1.2em;$ws:nowrap}._console-container ._log-item._error ._count{$b:var(--console-error-foreground)}._console-container ._log-item._debug{$z:20}._console-container ._log-item._input{border-bottom-color:transparent}._console-container ._log-item._warn{$z:40;$c:var(--console-warn-foreground);$b:var(--console-warn-background);$bt:1px solid var(--console-warn-border);$bb:1px solid var(--console-warn-border)}._console-container ._log-item._warn ._count{$b:#e8a400}._console-container ._log-item._info{$z:30}._console-container ._log-item._group,._console-container ._log-item._groupCollapsed{$fw:700}",""]),e.exports=t},function(e,t,n){(t=n(8)(!1)).push([e.i,"._container ._console-container{$pt:40px;$pb:24px}._console-container{$w:100%;$h:100%}._console-container._js-input-hidden{$pb:0}._console-container ._control{$po:absolute;$w:100%;$h:40px;$l:0;$t:0;$cu:default;$fs:0;$p:10px 10px 10px 35px;$b:var(--darker-background);$c:var(--primary);$lh:20px;$bb:1px solid var(--border)}._console-container ._control ._icon-clear,._console-container ._control ._icon-search{$d:inline-block;$p:10px;$fs:16px;$po:absolute;$t:1px;$cu:pointer;$tr:color .3s}._console-container ._control ._icon-clear:active,._console-container ._control ._icon-search:active{$c:var(--accent)}._console-container ._control ._icon-clear{padding-right:0;$l:0}._console-container ._control ._icon-search{right:0}._console-container ._control ._filter{$cu:pointer;$fs:12px;$h:20px;$d:inline-block;$m:0 2px;$p:0 4px;$lh:20px;$tr:background .3s,color .3s}._console-container ._control ._filter._active{$b:var(--highlight);$c:var(--select-foreground)}._console-container ._control ._search-keyword{$po:absolute;$lh:20px;max-width:80px;$o:hidden;right:40px;$fs:14px;text-overflow:ellipsis}._console-container ._js-input{$pe:none;$po:absolute;$z:100;$l:0;bottom:0;$w:100%;$bt:1px solid var(--border);$h:24px}._console-container ._js-input ._icon-arrow-right{$lh:23px;$c:var(--accent);$po:absolute;$l:10px;$t:0;$z:10}._console-container ._js-input._active{$h:100%;$pt:40px;$pb:40px;$bt:none}._console-container ._js-input._active ._icon-arrow-right{$d:none}._console-container ._js-input._active textarea{$pl:10px}._console-container ._js-input ._buttons{$d:none;$po:absolute;$l:0;bottom:0;$w:100%;$h:40px;$c:var(--primary);$b:var(--darker-background);$fs:12px;$bt:1px solid var(--border)}._console-container ._js-input ._buttons ._button{$pe:all;$cu:pointer;$w:50%;$d:inline-block;$ta:center;$br:1px solid var(--border);$h:40px;$lh:40px;$tr:background .3s,color .3s}._console-container ._js-input ._buttons ._button:last-child{$br:none}._console-container ._js-input ._buttons ._button:active{$c:var(--select-foreground);$b:var(--highlight)}._console-container ._js-input textarea{$pe:all;$p:3px 10px;$pl:25px;$ou:0;$bo:none;$fs:14px;$w:100%;$h:100%;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;$us:text;resize:none;$c:var(--primary);$b:var(--background)}",""]),e.exports=t},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div "+(null!=(i=s(n,"class").call(o,"console-container",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=s(n,"class").call(o,"control",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,"icon-clear clear-console",{name:"class",hash:{},data:a}))?i:"")+"></span> <span "+(null!=(i=s(n,"class").call(o,"filter active",{name:"class",hash:{},data:a}))?i:"")+' data-filter="all">All</span> <span '+(null!=(i=s(n,"class").call(o,"filter",{name:"class",hash:{},data:a}))?i:"")+' data-filter="error">Error</span> <span '+(null!=(i=s(n,"class").call(o,"filter",{name:"class",hash:{},data:a}))?i:"")+' data-filter="warn">Warning</span> <span '+(null!=(i=s(n,"class").call(o,"filter",{name:"class",hash:{},data:a}))?i:"")+' data-filter="info">Info</span> <span '+(null!=(i=s(n,"class").call(o,"search-keyword",{name:"class",hash:{},data:a}))?i:"")+"></span> <span "+(null!=(i=s(n,"class").call(o,"icon-search search",{name:"class",hash:{},data:a}))?i:"")+"></span></div><div "+(null!=(i=s(n,"class").call(o,"logs-container",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=s(n,"class").call(o,"top-space",{name:"class",hash:{},data:a}))?i:"")+"></div><ul "+(null!=(i=s(n,"class").call(o,"fake-logs",{name:"class",hash:{},data:a}))?i:"")+"></ul><ul "+(null!=(i=s(n,"class").call(o,"logs",{name:"class",hash:{},data:a}))?i:"")+"></ul><div "+(null!=(i=s(n,"class").call(o,"bottom-space",{name:"class",hash:{},data:a}))?i:"")+"></div></div><div "+(null!=(i=s(n,"class").call(o,"js-input",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=s(n,"class").call(o,"buttons",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=s(n,"class").call(o,"button cancel",{name:"class",hash:{},data:a}))?i:"")+">Cancel</div><div "+(null!=(i=s(n,"class").call(o,"button execute",{name:"class",hash:{},data:a}))?i:"")+">Execute</div></div><span "+(null!=(i=s(n,"class").call(o,"icon-arrow-right",{name:"class",hash:{},data:a}))?i:"")+"></span> <textarea></textarea></div></div>"},useData:!0})},function(e,t,n){(t=n(8)(!1)).push([e.i,"#_network{$pt:36px}#_network ._title{$po:absolute;$w:100%;$h:36px;$l:0;$t:0;$b:var(--darker-background);$p:10px;$c:var(--primary);$h:36px;$bb:1px solid var(--border)}#_network ._title ._btn{$d:flex;$ml:5px;$f:right;$c:var(--primary);$w:18px;$h:18px;justify-content:center;align-items:center;$fs:16px;$cu:pointer;$tr:color .3s}#_network ._title ._btn._search-keyword{$w:auto;max-width:80px;$fs:14px;$o:hidden;text-overflow:ellipsis;$d:inline-block}#_network ._title ._btn:active{$c:var(--accent)}#_network ._requests{$oy:auto;$wos:touch;$h:100%;$bb:1px solid var(--border);$mb:10px}#_network ._requests li{$d:flex;$w:100%;$cu:pointer;$bb:1px solid var(--border);$h:41px;$c:var(--foreground);$ws:nowrap}#_network ._requests li._error span{$c:var(--console-error-foreground)}#_network ._requests li span{$d:block;$lh:40px;$h:40px;$p:0 5px;$fs:12px;vertical-align:top;text-overflow:ellipsis;$o:hidden}#_network ._requests li ._name{$fl:1;$pl:10px}#_network ._requests li ._status{$w:40px}#_network ._requests li ._method,#_network ._requests li ._type{$w:50px}#_network ._requests li ._size{$w:70px}#_network ._requests li ._time{$w:60px;padding-right:10px}#_network ._requests li:nth-child(even){$b:var(--contrast)}#_network ._detail{$po:absolute;$w:100%;$h:100%;$l:0;$t:0;$z:10;$d:none;$pb:40px;$b:var(--background)}#_network ._detail ._http{$oy:auto;$wos:touch;$h:100%}#_network ._detail ._http ._breadcrumb{$b:var(--darker-background);$c:var(--primary);-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;$us:text;$mb:10px;word-break:break-all;$p:10px;$fs:16px;$mh:40px;$bb:1px solid var(--border)}#_network ._detail ._http ._section{$bt:1px solid var(--border);$bb:1px solid var(--border);$mb:10px}#_network ._detail ._http ._section h2{$b:var(--darker-background);$c:var(--primary);$p:10px;$fs:14px}#_network ._detail ._http ._section table{$c:var(--foreground)}#_network ._detail ._http ._section table *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;$us:text}#_network ._detail ._http ._section table td{$fs:12px;$p:5px 10px;word-break:break-all}#_network ._detail ._http ._section table ._key{$ws:nowrap;$fw:700;$c:var(--accent)}#_network ._detail ._http ._data,#_network ._detail ._http ._response{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;$us:text;$ox:auto;$wos:touch;$p:10px;$fs:12px;$mb:10px;$ws:pre-wrap;$bt:1px solid var(--border);$c:var(--foreground);$bb:1px solid var(--border)}#_network ._detail ._back{$po:absolute;$l:0;bottom:0;$c:var(--foreground);$w:100%;$bt:1px solid var(--border);$b:var(--darker-background);$d:block;$h:40px;$lh:40px;text-decoration:none;$ta:center;$mt:10px;$tr:background .3s;$cu:pointer}#_network ._detail ._back:active{$c:var(--select-foreground)}",""]),e.exports=t},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div "+(null!=(i=s(n,"class").call(o,"title",{name:"class",hash:{},data:a}))?i:"")+">Request<div "+(null!=(i=s(n,"class").call(o,"btn clear-request",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,"icon-clear",{name:"class",hash:{},data:a}))?i:"")+"></span></div></div><ul "+(null!=(i=s(n,"class").call(o,"requests",{name:"class",hash:{},data:a}))?i:"")+"></ul><div "+(null!=(i=s(n,"class").call(o,"detail",{name:"class",hash:{},data:a}))?i:"")+"></div>"},useData:!0})},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <pre "+(null!=(i=o(n,"class").call(null!=t?t:e.nullContext||{},"data",{name:"class",hash:{},data:a}))?i:"")+">"+e.escapeExpression(e.lambda(null!=t?o(t,"data"):t,t))+"</pre> "},3:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+(null!=(i=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"reqHeaders"):t,{name:"each",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))?i:"")+" "},4:function(e,t,n,r,a){var i,o=e.lambda,s=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <tr><td "+(null!=(i=u(n,"class").call(null!=t?t:e.nullContext||{},"key",{name:"class",hash:{},data:a}))?i:"")+">"+s(o(a&&u(a,"key"),t))+"</td><td>"+s(o(t,t))+"</td></tr> "},6:function(e,t,n,r,a){return" <tr><td>Empty</td></tr> "},8:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+(null!=(i=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"resHeaders"):t,{name:"each",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))?i:"")+" "},10:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <pre "+(null!=(i=o(n,"class").call(null!=t?t:e.nullContext||{},"response",{name:"class",hash:{},data:a}))?i:"")+">"+e.escapeExpression(e.lambda(null!=t?o(t,"resTxt"):t,t))+"</pre> "},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div "+(null!=(i=s(n,"class").call(o,"http",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=s(n,"class").call(o,"breadcrumb",{name:"class",hash:{},data:a}))?i:"")+">"+e.escapeExpression(e.lambda(null!=t?s(t,"url"):t,t))+"</div> "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"data"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?i:"")+" <div "+(null!=(i=s(n,"class").call(o,"section",{name:"class",hash:{},data:a}))?i:"")+"><h2>Request Headers</h2><table "+(null!=(i=s(n,"class").call(o,"headers",{name:"class",hash:{},data:a}))?i:"")+"><tbody> "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"reqHeaders"):t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(6,a,0),data:a}))?i:"")+" </tbody></table><h2>Response Headers</h2><table "+(null!=(i=s(n,"class").call(o,"headers",{name:"class",hash:{},data:a}))?i:"")+"><tbody> "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"resHeaders"):t,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.program(6,a,0),data:a}))?i:"")+" </tbody></table></div> "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"resTxt"):t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a}))?i:"")+" </div><div "+(null!=(i=s(n,"class").call(o,"back",{name:"class",hash:{},data:a}))?i:"")+">Back to the List</div>"},useData:!0})},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+(null!=(i=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"requests"):t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))?i:"")+" "},2:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lambda,u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' <li class="eruda-request '+(null!=(i=c(n,"if").call(o,null!=t?c(t,"hasErr"):t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))?i:"")+'" data-id="'+u(s(a&&c(a,"key"),t))+'"><span '+(null!=(i=c(n,"class").call(o,"name",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=t?c(t,"name"):t,t))+"</span><span "+(null!=(i=c(n,"class").call(o,"status",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=t?c(t,"status"):t,t))+"</span><span "+(null!=(i=c(n,"class").call(o,"method",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=t?c(t,"method"):t,t))+"</span><span "+(null!=(i=c(n,"class").call(o,"type",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=t?c(t,"subType"):t,t))+"</span><span "+(null!=(i=c(n,"class").call(o,"size",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=t?c(t,"size"):t,t))+"</span><span "+(null!=(i=c(n,"class").call(o,"time",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=t?c(t,"displayTime"):t,t))+"</span></li> "},3:function(e,t,n,r,a){return"eruda-error"},5:function(e,t,n,r,a){var i;return" <li><span "+(null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"class").call(null!=t?t:e.nullContext||{},"name",{name:"class",hash:{},data:a}))?i:"")+">Empty</span></li> "},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=o(n,"if").call(null!=t?t:e.nullContext||{},null!=t?o(t,"requests"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(5,a,0),data:a}))?i:""},useData:!0})},function(e,t,n){(t=n(8)(!1)).push([e.i,"._elements-highlight{$d:none;$po:absolute;$l:0;right:0;$z:-100;$pe:none!important}._elements-highlight *{$pe:none!important}._elements-highlight ._indicator{opacity:.5;$po:absolute;$l:0;right:0;$w:100%;$h:100%}._elements-highlight ._margin{$po:absolute;$b:#e8925b;$z:100}._elements-highlight ._border{$po:absolute;$l:0;right:0;$w:100%;$h:100%;$b:#ffcd7c;$z:200}._elements-highlight ._padding{$po:absolute;$b:#86af76;$z:300}._elements-highlight ._content{$po:absolute;$b:#5e88c1;$z:400}._elements-highlight ._size{$po:absolute;$t:0;$l:0;$b:#fff;$c:#222;$fs:12px;$h:25px;$lh:25px;$ta:center;$p:0 5px;$ws:nowrap;$ox:hidden;$bs:0 2px 2px 0 rgba(0,0,0,.05),0 1px 4px 0 rgba(0,0,0,.08),0 3px 1px -2px rgba(0,0,0,.2)}",""]),e.exports=t},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div "+(null!=(i=s(n,"class").call(o,"elements-highlight",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=s(n,"class").call(o,"indicator",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=s(n,"class").call(o,"margin",{name:"class",hash:{},data:a}))?i:"")+"></div><div "+(null!=(i=s(n,"class").call(o,"border",{name:"class",hash:{},data:a}))?i:"")+"></div><div "+(null!=(i=s(n,"class").call(o,"padding",{name:"class",hash:{},data:a}))?i:"")+"></div><div "+(null!=(i=s(n,"class").call(o,"content",{name:"class",hash:{},data:a}))?i:"")+"></div></div><div "+(null!=(i=s(n,"class").call(o,"size",{name:"class",hash:{},data:a}))?i:"")+"></div></div>"},useData:!0})},function(e,t,n){(t=n(8)(!1)).push([e.i,"#_elements{$pb:40px;$fs:14px}#_elements ._show-area{$oy:auto;$wos:touch;$h:100%}#_elements ._parents{$ox:auto;$wos:touch;$b:var(--darker-background);$c:var(--primary);$p:10px;$ws:nowrap;$bb:1px solid var(--border);$cu:pointer;$fs:12px}#_elements ._parents li{$d:inline-block}#_elements ._parents li ._parent{$d:inline-block}#_elements ._parents li:last-child{margin-right:0}#_elements ._parents ._icon-arrow-right{$fs:8px;$po:relative;$t:-1px}#_elements ._breadcrumb{$b:var(--darker-background);$c:var(--primary);-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;$us:text;$mb:10px;word-break:break-all;$p:10px;$fs:16px;$mh:40px;$bb:1px solid var(--border);$cu:pointer;$tr:background .3s,color .3s}#_elements ._breadcrumb:active{$b:var(--highlight);$c:var(--select-foreground)}#_elements ._breadcrumb:active span{$c:var(--select-foreground)}#_elements ._section{$bb:1px solid var(--border);$c:var(--foreground);$mb:10px}#_elements ._section h2{$c:var(--primary);$b:var(--darker-background);$bt:1px solid var(--border);$p:10px;$fs:14px;$tr:background .3s}#_elements ._section h2 ._btn{$d:flex;$ml:5px;$f:right;$c:var(--primary);$w:18px;$h:18px;justify-content:center;align-items:center;$fs:16px;$cu:pointer;$tr:color .3s}#_elements ._section h2 ._btn._search-keyword{$w:auto;max-width:80px;$fs:14px;$o:hidden;text-overflow:ellipsis;$d:inline-block}#_elements ._section h2 ._btn:active{$c:var(--accent)}#_elements ._section h2._active-effect{$cu:pointer}#_elements ._section h2._active-effect:active{$b:var(--highlight);$c:var(--select-foreground)}#_elements ._children{$b:var(--darker-background);$c:var(--foreground);$mb:10px!important;$bb:1px solid var(--border)}#_elements ._children li{$ox:auto;$wos:touch;$cu:default;$p:10px;$bt:1px solid var(--border);$ws:nowrap;$tr:background .3s,color .3s}#_elements ._children li span{$tr:color .3s}#_elements ._children li._active-effect{$cu:pointer}#_elements ._children li._active-effect:active{$b:var(--highlight);$c:var(--select-foreground)}#_elements ._children li._active-effect:active span{$c:var(--select-foreground)}#_elements ._attributes{$fs:12px}#_elements ._attributes a{$c:var(--link-color)}#_elements ._attributes ._table-wrapper{$ox:auto;$wos:touch}#_elements ._attributes table td{$p:5px 10px}#_elements ._text-content{$b:#fff}#_elements ._text-content ._content{$ox:auto;$wos:touch;$p:10px}#_elements ._style-color{$po:relative;$t:1px;$w:10px;$h:10px;$bra:50%;margin-right:2px;$bo:1px solid var(--border);$d:inline-block}#_elements ._box-model{$ox:auto;$wos:touch;$c:#222;$fs:12px;$p:10px;$ta:center;$ws:nowrap;$bb:1px solid var(--color)}#_elements ._box-model ._label{$po:absolute;$ml:3px;$p:0 2px}#_elements ._box-model ._bottom,#_elements ._box-model ._left,#_elements ._box-model ._right,#_elements ._box-model ._top{$d:inline-block}#_elements ._box-model ._left,#_elements ._box-model ._right{vertical-align:middle}#_elements ._box-model ._border,#_elements ._box-model ._content,#_elements ._box-model ._margin,#_elements ._box-model ._padding,#_elements ._box-model ._position{$po:relative;$b:#fff;$d:inline-block;$ta:center;vertical-align:middle;$p:3px;$m:3px}#_elements ._box-model ._position{$bo:1px grey dotted}#_elements ._box-model ._margin{$bo:1px dashed;$b:rgba(246,178,107,.66)}#_elements ._box-model ._border{$bo:1px #000 solid;$b:rgba(255,229,153,.66)}#_elements ._box-model ._padding{$bo:1px grey dashed;$b:rgba(147,196,125,.55)}#_elements ._box-model ._content{$bo:1px grey solid;min-width:100px;$b:rgba(111,168,220,.66)}#_elements ._computed-style{$fs:12px}#_elements ._computed-style a{$c:var(--link-color)}#_elements ._computed-style ._table-wrapper{$oy:auto;$wos:touch;max-height:200px;$bt:1px solid var(--border)}#_elements ._computed-style table td{$p:5px 10px}#_elements ._computed-style table td._key{$ws:nowrap;$c:var(--var-color)}#_elements ._styles{$fs:12px}#_elements ._styles ._style-wrapper{$p:10px}#_elements ._styles ._style-wrapper ._style-rules{$bo:1px solid var(--border);$p:10px;$mb:10px}#_elements ._styles ._style-wrapper ._style-rules ._rule{$pl:2em;word-break:break-all}#_elements ._styles ._style-wrapper ._style-rules ._rule a{$c:var(--link-color)}#_elements ._styles ._style-wrapper ._style-rules ._rule span{$c:var(--var-color)}#_elements ._styles ._style-wrapper ._style-rules:last-child{$mb:0}#_elements ._listeners{$fs:12px}#_elements ._listeners ._listener-wrapper{$p:10px}#_elements ._listeners ._listener-wrapper ._listener{$mb:10px;$o:hidden;$bo:1px solid var(--border)}#_elements ._listeners ._listener-wrapper ._listener ._listener-type{$p:10px;$b:var(--darker-background);$c:var(--primary)}#_elements ._listeners ._listener-wrapper ._listener ._listener-content li{$ox:auto;$wos:touch;$p:10px;$bt:none}#_elements ._bottom-bar{$h:40px;$b:var(--darker-background);$po:absolute;$l:0;bottom:0;$w:100%;$fs:0;$bt:1px solid var(--border)}#_elements ._bottom-bar ._btn{$cu:pointer;$ta:center;$c:var(--primary);$fs:14px;$lh:40px;$w:25%;$d:inline-block;$tr:background .3s,color .3s}#_elements ._bottom-bar ._btn:active{$b:var(--highlight);$c:var(--select-foreground)}#_elements ._bottom-bar ._btn._active{$c:var(--accent)}",""]),e.exports=t},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <ul "+(null!=(i=s(n,"class").call(o,"parents",{name:"class",hash:{},data:a}))?i:"")+"> "+(null!=(i=s(n,"each").call(o,null!=t?s(t,"parents"):t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))?i:"")+" </ul> "},2:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lambda,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <li><div "+(null!=(i=u(n,"class").call(o,"parent",{name:"class",hash:{},data:a}))?i:"")+' data-idx="'+e.escapeExpression(s(null!=t?u(t,"idx"):t,t))+'">'+(null!=(i=s(null!=t?u(t,"text"):t,t))?i:"")+"</div><span "+(null!=(i=u(n,"class").call(o,"icon-arrow-right",{name:"class",hash:{},data:a}))?i:"")+"></span></li> "},4:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <ul "+(null!=(i=s(n,"class").call(o,"children",{name:"class",hash:{},data:a}))?i:"")+"> "+(null!=(i=s(n,"each").call(o,null!=t?s(t,"children"):t,{name:"each",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))?i:"")+" </ul> "},5:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lambda,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' <li class="eruda-child '+(null!=(i=u(n,"if").call(o,null!=t?u(t,"isCmt"):t,{name:"if",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))?i:"")+" "+(null!=(i=u(n,"if").call(o,null!=t?u(t,"isEl"):t,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))?i:"")+'" data-idx="'+e.escapeExpression(s(null!=t?u(t,"idx"):t,t))+'">'+(null!=(i=s(null!=t?u(t,"text"):t,t))?i:"")+"</li> "},6:function(e,t,n,r,a){return"eruda-green"},8:function(e,t,n,r,a){return"eruda-active-effect"},10:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+(null!=(i=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"attributes"):t,{name:"each",hash:{},fn:e.program(11,a,0),inverse:e.noop,data:a}))?i:"")+" "},11:function(e,t,n,r,a){var i,o=e.lambda,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' <tr><td class="eruda-attribute-name-color">'+e.escapeExpression(o(null!=t?s(t,"name"):t,t))+'</td><td class="eruda-string-color">'+(null!=(i=o(null!=t?s(t,"value"):t,t))?i:"")+"</td></tr> "},13:function(e,t,n,r,a){return" <tr><td>Empty</td></tr> "},15:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <div "+(null!=(i=s(n,"class").call(o,"styles section",{name:"class",hash:{},data:a}))?i:"")+"><h2>Styles</h2><div "+(null!=(i=s(n,"class").call(o,"style-wrapper",{name:"class",hash:{},data:a}))?i:"")+"> "+(null!=(i=s(n,"each").call(o,null!=t?s(t,"styles"):t,{name:"each",hash:{},fn:e.program(16,a,0),inverse:e.noop,data:a}))?i:"")+" </div></div> "},16:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <div "+(null!=(i=s(n,"class").call(o,"style-rules",{name:"class",hash:{},data:a}))?i:"")+"><div>"+e.escapeExpression(e.lambda(null!=t?s(t,"selectorText"):t,t))+" {</div> "+(null!=(i=s(n,"each").call(o,null!=t?s(t,"style"):t,{name:"each",hash:{},fn:e.program(17,a,0),inverse:e.noop,data:a}))?i:"")+" <div>}</div></div> "},17:function(e,t,n,r,a){var i,o=e.lambda,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <div "+(null!=(i=s(n,"class").call(null!=t?t:e.nullContext||{},"rule",{name:"class",hash:{},data:a}))?i:"")+"><span>"+e.escapeExpression(o(a&&s(a,"key"),t))+"</span>: "+(null!=(i=o(t,t))?i:"")+";</div> "},19:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lambda,u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <div "+(null!=(i=c(n,"class").call(o,"computed-style section",{name:"class",hash:{},data:a}))?i:"")+"><h2>Computed Style "+(null!=(i=c(n,"if").call(o,null!=t?c(t,"rmDefComputedStyle"):t,{name:"if",hash:{},fn:e.program(20,a,0),inverse:e.program(22,a,0),data:a}))?i:"")+" <div "+(null!=(i=c(n,"class").call(o,"btn computed-style-search",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=c(n,"class").call(o,"icon-search",{name:"class",hash:{},data:a}))?i:"")+"></span></div> "+(null!=(i=c(n,"if").call(o,null!=t?c(t,"computedStyleSearchKeyword"):t,{name:"if",hash:{},fn:e.program(24,a,0),inverse:e.noop,data:a}))?i:"")+" </h2><div "+(null!=(i=c(n,"class").call(o,"box-model",{name:"class",hash:{},data:a}))?i:"")+"> "+(null!=(i=c(n,"if").call(o,null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"position"):i,{name:"if",hash:{},fn:e.program(26,a,0),inverse:e.noop,data:a}))?i:"")+"<div "+(null!=(i=c(n,"class").call(o,"margin",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=c(n,"class").call(o,"label",{name:"class",hash:{},data:a}))?i:"")+">margin</div><div "+(null!=(i=c(n,"class").call(o,"top",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"margin"):i)?c(i,"top"):i,t))+"</div><br><div "+(null!=(i=c(n,"class").call(o,"left",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"margin"):i)?c(i,"left"):i,t))+"</div><div "+(null!=(i=c(n,"class").call(o,"border",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=c(n,"class").call(o,"label",{name:"class",hash:{},data:a}))?i:"")+">border</div><div "+(null!=(i=c(n,"class").call(o,"top",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"border"):i)?c(i,"top"):i,t))+"</div><br><div "+(null!=(i=c(n,"class").call(o,"left",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"border"):i)?c(i,"left"):i,t))+"</div><div "+(null!=(i=c(n,"class").call(o,"padding",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=c(n,"class").call(o,"label",{name:"class",hash:{},data:a}))?i:"")+">padding</div><div "+(null!=(i=c(n,"class").call(o,"top",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"padding"):i)?c(i,"top"):i,t))+"</div><br><div "+(null!=(i=c(n,"class").call(o,"left",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"padding"):i)?c(i,"left"):i,t))+"</div><div "+(null!=(i=c(n,"class").call(o,"content",{name:"class",hash:{},data:a}))?i:"")+"><span>"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"content"):i)?c(i,"width"):i,t))+"</span>&nbsp;\xd7&nbsp;<span>"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"content"):i)?c(i,"height"):i,t))+"</span></div><div "+(null!=(i=c(n,"class").call(o,"right",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"padding"):i)?c(i,"right"):i,t))+"</div><br><div "+(null!=(i=c(n,"class").call(o,"bottom",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"padding"):i)?c(i,"bottom"):i,t))+"</div></div><div "+(null!=(i=c(n,"class").call(o,"right",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"border"):i)?c(i,"right"):i,t))+"</div><br><div "+(null!=(i=c(n,"class").call(o,"bottom",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"border"):i)?c(i,"bottom"):i,t))+"</div></div><div "+(null!=(i=c(n,"class").call(o,"right",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"margin"):i)?c(i,"right"):i,t))+"</div><br><div "+(null!=(i=c(n,"class").call(o,"bottom",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"margin"):i)?c(i,"bottom"):i,t))+"</div></div>"+(null!=(i=c(n,"if").call(o,null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"position"):i,{name:"if",hash:{},fn:e.program(28,a,0),inverse:e.noop,data:a}))?i:"")+" </div><div "+(null!=(i=c(n,"class").call(o,"table-wrapper",{name:"class",hash:{},data:a}))?i:"")+"><table><tbody> "+(null!=(i=c(n,"each").call(o,null!=t?c(t,"computedStyle"):t,{name:"each",hash:{},fn:e.program(30,a,0),inverse:e.noop,data:a}))?i:"")+" </tbody></table></div></div> "},20:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <div "+(null!=(i=s(n,"class").call(o,"btn toggle-all-computed-style",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,"icon-compress",{name:"class",hash:{},data:a}))?i:"")+"></span></div> "},22:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <div "+(null!=(i=s(n,"class").call(o,"btn toggle-all-computed-style",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,"icon-expand",{name:"class",hash:{},data:a}))?i:"")+"></span></div> "},24:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <div "+(null!=(i=o(n,"class").call(null!=t?t:e.nullContext||{},"btn search-keyword",{name:"class",hash:{},data:a}))?i:"")+"> "+e.escapeExpression(e.lambda(null!=t?o(t,"computedStyleSearchKeyword"):t,t))+" </div> "},26:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lambda,u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div "+(null!=(i=c(n,"class").call(o,"position",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=c(n,"class").call(o,"label",{name:"class",hash:{},data:a}))?i:"")+">position</div><div "+(null!=(i=c(n,"class").call(o,"top",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"position"):i)?c(i,"top"):i,t))+"</div><br><div "+(null!=(i=c(n,"class").call(o,"left",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"position"):i)?c(i,"left"):i,t))+"</div>"},28:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lambda,u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div "+(null!=(i=c(n,"class").call(o,"right",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"position"):i)?c(i,"right"):i,t))+"</div><br><div "+(null!=(i=c(n,"class").call(o,"bottom",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=(i=null!=(i=null!=t?c(t,"boxModel"):t)?c(i,"position"):i)?c(i,"bottom"):i,t))+"</div></div>"},30:function(e,t,n,r,a){var i,o=e.lambda,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <tr><td "+(null!=(i=s(n,"class").call(null!=t?t:e.nullContext||{},"key",{name:"class",hash:{},data:a}))?i:"")+">"+e.escapeExpression(o(a&&s(a,"key"),t))+"</td><td>"+(null!=(i=o(t,t))?i:"")+"</td></tr> "},32:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <div "+(null!=(i=s(n,"class").call(o,"listeners section",{name:"class",hash:{},data:a}))?i:"")+"><h2>Event Listeners</h2><div "+(null!=(i=s(n,"class").call(o,"listener-wrapper",{name:"class",hash:{},data:a}))?i:"")+"> "+(null!=(i=s(n,"each").call(o,null!=t?s(t,"listeners"):t,{name:"each",hash:{},fn:e.program(33,a,0),inverse:e.noop,data:a}))?i:"")+" </div></div> "},33:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <div "+(null!=(i=s(n,"class").call(o,"listener",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=s(n,"class").call(o,"listener-type",{name:"class",hash:{},data:a}))?i:"")+">"+e.escapeExpression(e.lambda(a&&s(a,"key"),t))+"</div><ul "+(null!=(i=s(n,"class").call(o,"listener-content",{name:"class",hash:{},data:a}))?i:"")+"> "+(null!=(i=s(n,"each").call(o,t,{name:"each",hash:{},fn:e.program(34,a,0),inverse:e.noop,data:a}))?i:"")+" </ul></div> "},34:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <li "+(null!=(i=o(n,"if").call(null!=t?t:e.nullContext||{},null!=t?o(t,"useCapture"):t,{name:"if",hash:{},fn:e.program(35,a,0),inverse:e.noop,data:a}))?i:"")+">"+e.escapeExpression(e.lambda(null!=t?o(t,"listenerStr"):t,t))+"</li> "},35:function(e,t,n,r,a){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"class").call(null!=t?t:e.nullContext||{},"capture",{name:"class",hash:{},data:a}))?i:""},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=s(n,"if").call(o,null!=t?s(t,"parents"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?i:"")+" <div "+(null!=(i=s(n,"class").call(o,"breadcrumb",{name:"class",hash:{},data:a}))?i:"")+"> "+(null!=(i=e.lambda(null!=t?s(t,"name"):t,t))?i:"")+" </div> "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"children"):t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))?i:"")+" <div "+(null!=(i=s(n,"class").call(o,"attributes section",{name:"class",hash:{},data:a}))?i:"")+"><h2>Attributes</h2><div "+(null!=(i=s(n,"class").call(o,"table-wrapper",{name:"class",hash:{},data:a}))?i:"")+"><table><tbody> "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"attributes"):t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.program(13,a,0),data:a}))?i:"")+" </tbody></table></div></div> "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"styles"):t,{name:"if",hash:{},fn:e.program(15,a,0),inverse:e.noop,data:a}))?i:"")+" "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"computedStyle"):t,{name:"if",hash:{},fn:e.program(19,a,0),inverse:e.noop,data:a}))?i:"")+" "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"listeners"):t,{name:"if",hash:{},fn:e.program(32,a,0),inverse:e.noop,data:a}))?i:"")},useData:!0})},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div "+(null!=(i=s(n,"class").call(o,"bottom-bar",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=s(n,"class").call(o,"btn select",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,"icon icon-select",{name:"class",hash:{},data:a}))?i:"")+"></span></div><div "+(null!=(i=s(n,"class").call(o,"btn refresh",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,"icon icon-refresh",{name:"class",hash:{},data:a}))?i:"")+"></span></div><div "+(null!=(i=s(n,"class").call(o,"btn highlight",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,"icon icon-eye",{name:"class",hash:{},data:a}))?i:"")+"></span></div><div "+(null!=(i=s(n,"class").call(o,"btn reset",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,"icon icon-reset",{name:"class",hash:{},data:a}))?i:"")+"></span></div></div>"},useData:!0})},function(e,t,n){(t=n(8)(!1)).push([e.i,"._search-highlight-block{$d:inline}._search-highlight-block ._keyword{$b:var(--console-warn-background);$c:var(--console-warn-foreground)}",""]),e.exports=t},function(e,t,n){(t=n(8)(!1)).push([e.i,"#_snippets{$oy:auto;$wos:touch;$p:10px}#_snippets ._section{$mb:10px;$bo:1px solid var(--border);$o:hidden;$cu:pointer}#_snippets ._section:active ._name{$b:var(--highlight);$c:var(--select-foreground)}#_snippets ._section ._name{$p:10px;$c:var(--primary);$b:var(--darker-background);$tr:background .3s}#_snippets ._section ._name ._btn{$ml:10px;$f:right;$ta:center;$w:18px;$h:18px;$lh:18px;$fs:12px}#_snippets ._section ._description{$c:var(--foreground);$p:10px;$tr:background .3s}",""]),e.exports=t},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i=e.lambda,o=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' <div class="eruda-section eruda-run" data-idx="'+o(i(a&&s(a,"index"),t))+'"><h2 class="eruda-name">'+o(i(null!=t?s(t,"name"):t,t))+' <div class="eruda-btn"><span class="eruda-icon-play"></span></div></h2><div class="eruda-description"> '+o(i(null!=t?s(t,"desc"):t,t))+" </div></div> "},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"snippets"):t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?i:""},useData:!0})},function(e,t,n){(t=n(8)(!1)).push([e.i,"#_resources{$oy:auto;$wos:touch;$p:10px;$fs:14px}#_resources ._section{$mb:10px;$o:hidden;$bo:1px solid var(--border)}#_resources ._section ._content{$oy:auto;$wos:touch;max-height:400px}#_resources ._section._warn{$bo:1px solid var(--console-warn-border)}#_resources ._section._warn ._title{$b:var(--console-warn-background);$c:var(--console-warn-foreground)}#_resources ._section._danger{$bo:1px solid var(--console-error-border)}#_resources ._section._danger ._title{$b:var(--console-error-background);$c:var(--console-error-foreground)}#_resources ._title{$p:10px;$c:var(--primary);$b:var(--darker-background)}#_resources ._title ._btn{$d:flex;$ml:5px;$f:right;$c:var(--primary);$w:18px;$h:18px;justify-content:center;align-items:center;$fs:16px;$cu:pointer;$tr:color .3s}#_resources ._title ._btn._search-keyword{$w:auto;max-width:80px;$fs:14px;$o:hidden;text-overflow:ellipsis;$d:inline-block}#_resources ._title ._btn:active{$c:var(--accent)}#_resources ._link-list{$fs:12px;$c:var(--foreground)}#_resources ._link-list li{$p:10px;word-break:break-all}#_resources ._link-list li a{$c:var(--link-color)!important}#_resources ._image-list{$c:var(--foreground);$fs:12px;$d:flex;flex-wrap:wrap;$p:10px!important}#_resources ._image-list:after{$co:'';$d:block;$cl:both}#_resources ._image-list li{flex-grow:1;$cu:pointer;$oy:hidden}#_resources ._image-list li._image{$h:100px;$fs:0}#_resources ._image-list li img{$h:100px;min-width:100%;-o-object-fit:cover;object-fit:cover}#_resources table{$c:var(--foreground);$bc:collapse;$w:100%;$fs:12px}#_resources table tr:nth-child(even){$b:var(--contrast)}#_resources table td{$p:10px;word-break:break-all}#_resources table td._key{$ox:auto;$wos:touch;$ws:nowrap;max-width:120px}#_resources table td._control{$p:0;$fs:0;$w:40px}#_resources table td._control ._icon-delete{$cu:pointer;$c:var(--primary);$fs:14px;$d:inline-block;$w:40px;$h:40px;$ta:center;$lh:40px;$tr:color .3s}#_resources table td._control ._icon-delete:active{$c:var(--accent)}",""]),e.exports=t},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div "+(null!=(i=o(n,"class").call(null!=t?t:e.nullContext||{},"btn search-keyword",{name:"class",hash:{},data:a}))?i:"")+">"+e.escapeExpression(e.lambda(null!=t?o(t,"localStoreSearchKeyword"):t,t))+"</div>"},3:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+(null!=(i=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"localStoreData"):t,{name:"each",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))?i:"")+" "},4:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lambda,u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <tr><td "+(null!=(i=c(n,"class").call(o,"key",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=t?c(t,"key"):t,t))+"</td><td "+(null!=(i=c(n,"class").call(o,"storage-val",{name:"class",hash:{},data:a}))?i:"")+' data-key="'+u(s(null!=t?c(t,"key"):t,t))+'" data-type="local">'+u(s(null!=t?c(t,"val"):t,t))+"</td><td "+(null!=(i=c(n,"class").call(o,"control",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=c(n,"class").call(o,"icon-delete delete-storage",{name:"class",hash:{},data:a}))?i:"")+' data-key="'+u(s(null!=t?c(t,"key"):t,t))+'" data-type="local"></span></td></tr> '},6:function(e,t,n,r,a){return" <tr><td>Empty</td></tr> "},8:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div "+(null!=(i=o(n,"class").call(null!=t?t:e.nullContext||{},"btn search-keyword",{name:"class",hash:{},data:a}))?i:"")+">"+e.escapeExpression(e.lambda(null!=t?o(t,"sessionStoreSearchKeyword"):t,t))+"</div>"},10:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+(null!=(i=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"sessionStoreData"):t,{name:"each",hash:{},fn:e.program(11,a,0),inverse:e.noop,data:a}))?i:"")+" "},11:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lambda,u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <tr><td "+(null!=(i=c(n,"class").call(o,"key",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=t?c(t,"key"):t,t))+"</td><td "+(null!=(i=c(n,"class").call(o,"storage-val",{name:"class",hash:{},data:a}))?i:"")+' data-key="'+u(s(null!=t?c(t,"key"):t,t))+'" data-type="session">'+u(s(null!=t?c(t,"val"):t,t))+"</td><td "+(null!=(i=c(n,"class").call(o,"control",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=c(n,"class").call(o,"icon-delete delete-storage",{name:"class",hash:{},data:a}))?i:"")+' data-key="'+u(s(null!=t?c(t,"key"):t,t))+'" data-type="session"></span></td></tr> '},13:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div "+(null!=(i=o(n,"class").call(null!=t?t:e.nullContext||{},"btn search-keyword",{name:"class",hash:{},data:a}))?i:"")+">"+e.escapeExpression(e.lambda(null!=t?o(t,"cookieSearchKeyword"):t,t))+"</div>"},15:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+(null!=(i=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"cookieData"):t,{name:"each",hash:{},fn:e.program(16,a,0),inverse:e.noop,data:a}))?i:"")+" "},16:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lambda,u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <tr><td "+(null!=(i=c(n,"class").call(o,"key",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=t?c(t,"key"):t,t))+"</td><td>"+u(s(null!=t?c(t,"val"):t,t))+"</td><td "+(null!=(i=c(n,"class").call(o,"control",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=c(n,"class").call(o,"icon-delete delete-cookie",{name:"class",hash:{},data:a}))?i:"")+' data-key="'+u(s(null!=t?c(t,"key"):t,t))+'"></span></td></tr> '},18:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+(null!=(i=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"scriptData"):t,{name:"each",hash:{},fn:e.program(19,a,0),inverse:e.noop,data:a}))?i:"")+" "},19:function(e,t,n,r,a){var i,o=e.lambda,s=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' <li><a href="'+s(o(t,t))+'" target="_blank" '+(null!=(i=u(n,"class").call(null!=t?t:e.nullContext||{},"js-link",{name:"class",hash:{},data:a}))?i:"")+">"+s(o(t,t))+"</a></li> "},21:function(e,t,n,r,a){return" <li>Empty</li> "},23:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+(null!=(i=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"stylesheetData"):t,{name:"each",hash:{},fn:e.program(24,a,0),inverse:e.noop,data:a}))?i:"")+" "},24:function(e,t,n,r,a){var i,o=e.lambda,s=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' <li><a href="'+s(o(t,t))+'" target="_blank" '+(null!=(i=u(n,"class").call(null!=t?t:e.nullContext||{},"css-link",{name:"class",hash:{},data:a}))?i:"")+">"+s(o(t,t))+"</a></li> "},26:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+(null!=(i=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"iframeData"):t,{name:"each",hash:{},fn:e.program(27,a,0),inverse:e.noop,data:a}))?i:"")+" "},27:function(e,t,n,r,a){var i,o=e.lambda,s=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' <li><a href="'+s(o(t,t))+'" target="_blank" '+(null!=(i=u(n,"class").call(null!=t?t:e.nullContext||{},"iframe-link",{name:"class",hash:{},data:a}))?i:"")+">"+s(o(t,t))+"</a></li> "},29:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+(null!=(i=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"imageData"):t,{name:"each",hash:{},fn:e.program(30,a,0),inverse:e.noop,data:a}))?i:"")+" "},30:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <li "+(null!=(i=s(n,"class").call(o,"image",{name:"class",hash:{},data:a}))?i:"")+'><img src="'+e.escapeExpression(e.lambda(t,t))+'" data-exclude="true" '+(null!=(i=s(n,"class").call(o,"img-link",{name:"class",hash:{},data:a}))?i:"")+"></li> "},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div "+(null!=(i=s(n,"class").call(o,"section local-storage",{name:"class",hash:{},data:a}))?i:"")+"><h2 "+(null!=(i=s(n,"class").call(o,"title",{name:"class",hash:{},data:a}))?i:"")+">Local Storage<div "+(null!=(i=s(n,"class").call(o,"btn refresh-local-storage",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,"icon-refresh",{name:"class",hash:{},data:a}))?i:"")+"></span></div><div "+(null!=(i=s(n,"class").call(o,"btn clear-storage",{name:"class",hash:{},data:a}))?i:"")+' data-type="local"><span '+(null!=(i=s(n,"class").call(o,"icon-clear",{name:"class",hash:{},data:a}))?i:"")+"></span></div><div "+(null!=(i=s(n,"class").call(o,"btn search",{name:"class",hash:{},data:a}))?i:"")+' data-type="local"><span '+(null!=(i=s(n,"class").call(o,"icon-search",{name:"class",hash:{},data:a}))?i:"")+"></span></div> "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"localStoreSearchKeyword"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?i:"")+" </h2><div "+(null!=(i=s(n,"class").call(o,"content",{name:"class",hash:{},data:a}))?i:"")+"><table><tbody> "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"localStoreData"):t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(6,a,0),data:a}))?i:"")+" </tbody></table></div></div><div "+(null!=(i=s(n,"class").call(o,"section session-storage",{name:"class",hash:{},data:a}))?i:"")+"><h2 "+(null!=(i=s(n,"class").call(o,"title",{name:"class",hash:{},data:a}))?i:"")+">Session Storage<div "+(null!=(i=s(n,"class").call(o,"btn refresh-session-storage",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,"icon-refresh",{name:"class",hash:{},data:a}))?i:"")+"></span></div><div "+(null!=(i=s(n,"class").call(o,"btn clear-storage",{name:"class",hash:{},data:a}))?i:"")+' data-type="session"><span '+(null!=(i=s(n,"class").call(o,"icon-clear",{name:"class",hash:{},data:a}))?i:"")+"></span></div><div "+(null!=(i=s(n,"class").call(o,"btn search",{name:"class",hash:{},data:a}))?i:"")+' data-type="session"><span '+(null!=(i=s(n,"class").call(o,"icon-search",{name:"class",hash:{},data:a}))?i:"")+"></span></div> "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"sessionStoreSearchKeyword"):t,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))?i:"")+" </h2><div "+(null!=(i=s(n,"class").call(o,"content",{name:"class",hash:{},data:a}))?i:"")+"><table><tbody> "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"sessionStoreData"):t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.program(6,a,0),data:a}))?i:"")+" </tbody></table></div></div><div "+(null!=(i=s(n,"class").call(o,s(n,"concat").call(o,"section cookie ",null!=t?s(t,"cookieState"):t,{name:"concat",hash:{},data:a}),{name:"class",hash:{},data:a}))?i:"")+"><h2 "+(null!=(i=s(n,"class").call(o,"title",{name:"class",hash:{},data:a}))?i:"")+">Cookie<div "+(null!=(i=s(n,"class").call(o,"btn refresh-cookie",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,"icon-refresh",{name:"class",hash:{},data:a}))?i:"")+"></span></div><div "+(null!=(i=s(n,"class").call(o,"btn clear-cookie",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,"icon-clear",{name:"class",hash:{},data:a}))?i:"")+"></span></div><div "+(null!=(i=s(n,"class").call(o,"btn search",{name:"class",hash:{},data:a}))?i:"")+' data-type="cookie"><span '+(null!=(i=s(n,"class").call(o,"icon-search",{name:"class",hash:{},data:a}))?i:"")+"></span></div> "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"cookieSearchKeyword"):t,{name:"if",hash:{},fn:e.program(13,a,0),inverse:e.noop,data:a}))?i:"")+" </h2><div "+(null!=(i=s(n,"class").call(o,"content",{name:"class",hash:{},data:a}))?i:"")+"><table><tbody> "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"cookieData"):t,{name:"if",hash:{},fn:e.program(15,a,0),inverse:e.program(6,a,0),data:a}))?i:"")+" </tbody></table></div></div><div "+(null!=(i=s(n,"class").call(o,s(n,"concat").call(o,"section script ",null!=t?s(t,"scriptState"):t,{name:"concat",hash:{},data:a}),{name:"class",hash:{},data:a}))?i:"")+"><h2 "+(null!=(i=s(n,"class").call(o,"title",{name:"class",hash:{},data:a}))?i:"")+">Script<div "+(null!=(i=s(n,"class").call(o,"btn refresh-script",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,"icon-refresh",{name:"class",hash:{},data:a}))?i:"")+"></span></div></h2><ul "+(null!=(i=s(n,"class").call(o,"link-list",{name:"class",hash:{},data:a}))?i:"")+"> "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"scriptData"):t,{name:"if",hash:{},fn:e.program(18,a,0),inverse:e.program(21,a,0),data:a}))?i:"")+" </ul></div><div "+(null!=(i=s(n,"class").call(o,s(n,"concat").call(o,"section stylesheet ",null!=t?s(t,"stylesheetState"):t,{name:"concat",hash:{},data:a}),{name:"class",hash:{},data:a}))?i:"")+"><h2 "+(null!=(i=s(n,"class").call(o,"title",{name:"class",hash:{},data:a}))?i:"")+">Stylesheet<div "+(null!=(i=s(n,"class").call(o,"btn refresh-stylesheet",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,"icon-refresh",{name:"class",hash:{},data:a}))?i:"")+"></span></div></h2><ul "+(null!=(i=s(n,"class").call(o,"link-list",{name:"class",hash:{},data:a}))?i:"")+"> "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"stylesheetData"):t,{name:"if",hash:{},fn:e.program(23,a,0),inverse:e.program(21,a,0),data:a}))?i:"")+" </ul></div><div "+(null!=(i=s(n,"class").call(o,"section iframe",{name:"class",hash:{},data:a}))?i:"")+"><h2 "+(null!=(i=s(n,"class").call(o,"title",{name:"class",hash:{},data:a}))?i:"")+">Iframe<div "+(null!=(i=s(n,"class").call(o,"btn refresh-iframe",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,"icon-refresh",{name:"class",hash:{},data:a}))?i:"")+"></span></div></h2><ul "+(null!=(i=s(n,"class").call(o,"link-list",{name:"class",hash:{},data:a}))?i:"")+"> "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"iframeData"):t,{name:"if",hash:{},fn:e.program(26,a,0),inverse:e.program(21,a,0),data:a}))?i:"")+" </ul></div><div "+(null!=(i=s(n,"class").call(o,"section image",{name:"class",hash:{},data:a}))?i:"")+"><h2 "+(null!=(i=s(n,"class").call(o,s(n,"concat").call(o,"title ",null!=t?s(t,"imageState"):t,{name:"concat",hash:{},data:a}),{name:"class",hash:{},data:a}))?i:"")+">Image<div "+(null!=(i=s(n,"class").call(o,"btn refresh-image",{name:"class",hash:{},data:a}))?i:"")+"><span "+(null!=(i=s(n,"class").call(o,"icon-refresh",{name:"class",hash:{},data:a}))?i:"")+"></span></div></h2><ul "+(null!=(i=s(n,"class").call(o,"image-list",{name:"class",hash:{},data:a}))?i:"")+"> "+(null!=(i=s(n,"if").call(o,null!=t?s(t,"imageData"):t,{name:"if",hash:{},fn:e.program(29,a,0),inverse:e.program(21,a,0),data:a}))?i:"")+" </ul></div>"},useData:!0})},function(e,t,n){(t=n(8)(!1)).push([e.i,"#_info{$oy:auto;$wos:touch}#_info li{$m:10px;$bo:1px solid var(--border)}#_info li ._content,#_info li ._title{$p:10px}#_info li ._title{$pb:0;$fs:16px;$c:var(--accent)}#_info li ._content{$m:0;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;$us:text;$c:var(--foreground);word-break:break-all}#_info li ._content table{$w:100%;$bc:collapse}#_info li ._content table td,#_info li ._content table th{$bo:1px solid var(--border);$p:10px}#_info li ._content *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;$us:text}#_info li ._content a{$c:var(--link-color)}#_info li ._device-key,#_info li ._system-key{$w:100px}",""]),e.exports=t},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lambda,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <li><h2 "+(null!=(i=u(n,"class").call(o,"title",{name:"class",hash:{},data:a}))?i:"")+">"+e.escapeExpression(s(null!=t?u(t,"name"):t,t))+"</h2><div "+(null!=(i=u(n,"class").call(o,"content",{name:"class",hash:{},data:a}))?i:"")+">"+(null!=(i=s(null!=t?u(t,"val"):t,t))?i:"")+"</div></li> "},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<ul> "+(null!=(i=o(n,"each").call(null!=t?t:e.nullContext||{},null!=t?o(t,"infos"):t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?i:"")+" </ul>"},useData:!0})},function(e,t,n){(t=n(8)(!1)).push([e.i,"#_sources{$oy:auto;$wos:touch;$c:var(--foreground)}#_sources ._code-wrapper,#_sources ._raw-wrapper{$ox:auto;$wos:touch;$w:100%;$mh:100%}#_sources ._raw{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;$us:text;$p:10px}#_sources ._code{$fs:12px}#_sources ._code ._content *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;$us:text}#_sources pre._code{$p:10px}#_sources table._code{$bc:collapse}#_sources table._code ._gutter{$b:var(--background);$c:var(--primary)}#_sources table._code ._line-num{$br:1px solid var(--border);$p:0 3px 0 5px;$ta:right}#_sources table._code ._code-line{$p:0 4px;$ws:pre}#_sources ._image ._breadcrumb{$b:var(--darker-background);$c:var(--primary);-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;$us:text;$mb:10px;word-break:break-all;$p:10px;$fs:16px;$mh:40px;$bb:1px solid var(--border)}#_sources ._image ._img-container{$ta:center}#_sources ._image ._img-container img{max-width:100%}#_sources ._image ._img-info{$ta:center;$m:20px 0;$c:var(--foreground)}#_sources ._json{$p:0 10px}#_sources ._json *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;$us:text}#_sources iframe{$w:100%;$h:100%}",""]),e.exports=t},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({1:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <div "+(null!=(i=s(n,"class").call(o,"code-wrapper",{name:"class",hash:{},data:a}))?i:"")+"><table "+(null!=(i=s(n,"class").call(o,"code",{name:"class",hash:{},data:a}))?i:"")+"><tbody><tr><td "+(null!=(i=s(n,"class").call(o,"gutter",{name:"class",hash:{},data:a}))?i:"")+"> "+(null!=(i=s(n,"each").call(o,null!=t?s(t,"code"):t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))?i:"")+" </td><td "+(null!=(i=s(n,"class").call(o,"content",{name:"class",hash:{},data:a}))?i:"")+"> "+(null!=(i=s(n,"each").call(o,null!=t?s(t,"code"):t,{name:"each",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))?i:"")+" </td></tr></tbody></table></div> "},2:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <div "+(null!=(i=o(n,"class").call(null!=t?t:e.nullContext||{},"line-num",{name:"class",hash:{},data:a}))?i:"")+">"+e.escapeExpression(e.lambda(null!=t?o(t,"idx"):t,t))+"</div> "},4:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <pre "+(null!=(i=o(n,"class").call(null!=t?t:e.nullContext||{},"code-line",{name:"class",hash:{},data:a}))?i:"")+">"+(null!=(i=e.lambda(null!=t?o(t,"val"):t,t))?i:"")+"</pre> "},6:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" <div "+(null!=(i=s(n,"class").call(o,"code-wrapper",{name:"class",hash:{},data:a}))?i:"")+"><pre "+(null!=(i=s(n,"class").call(o,"code",{name:"class",hash:{},data:a}))?i:"")+">"+(null!=(i=e.lambda(null!=t?s(t,"code"):t,t))?i:"")+"</pre></div> "},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=o(n,"if").call(null!=t?t:e.nullContext||{},null!=t?o(t,"showLineNum"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(6,a,0),data:a}))?i:""},useData:!0})},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lambda,u=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div "+(null!=(i=c(n,"class").call(o,"image",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=c(n,"class").call(o,"breadcrumb",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=t?c(t,"src"):t,t))+"</div><div "+(null!=(i=c(n,"class").call(o,"img-container",{name:"class",hash:{},data:a}))?i:"")+' data-exclude="true"><img src="'+u(s(null!=t?c(t,"src"):t,t))+'"></div><div '+(null!=(i=c(n,"class").call(o,"img-info",{name:"class",hash:{},data:a}))?i:"")+">"+u(s(null!=t?c(t,"width"):t,t))+" \xd7 "+u(s(null!=t?c(t,"height"):t,t))+"</div></div>"},useData:!0})},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i;return"<ul "+(null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"class").call(null!=t?t:e.nullContext||{},"json",{name:"class",hash:{},data:a}))?i:"")+"></ul>"},useData:!0})},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div "+(null!=(i=s(n,"class").call(o,"raw-wrapper",{name:"class",hash:{},data:a}))?i:"")+"><div "+(null!=(i=s(n,"class").call(o,"raw",{name:"class",hash:{},data:a}))?i:"")+">"+e.escapeExpression(e.lambda(null!=t?s(t,"val"):t,t))+"</div></div>"},useData:!0})},function(e,t,n){var r=n(7);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<iframe src="'+(null!=(i=e.lambda(null!=t?o(t,"src"):t,t))?i:"")+'"></iframe>'},useData:!0})},function(e,t,n){(t=n(8)(!1)).push([e.i,'.luna-object-viewer{$ox:auto;$wos:touch;$cu:default;$fs:12px;$lh:1.2;$mh:100%;$c:#333;list-style:none!important}.luna-object-viewer>li>.luna-object-viewer-key{$d:none}.luna-object-viewer>li{$p:10px 0}.luna-object-viewer ul{list-style:none!important}.luna-object-viewer ul{$p:0!important;$pl:15px!important;$m:0!important}.luna-object-viewer li{$po:relative;$ws:nowrap;$lh:16px;$mh:16px}.luna-object-viewer span{$po:static!important}.luna-object-viewer li .luna-object-viewer-collapsed~.luna-object-viewer-close:before{$c:#999}.luna-object-viewer-array .luna-object-viewer-object .luna-object-viewer-key{$d:inline}.luna-object-viewer-null{$c:grey}.luna-object-viewer-regexp,.luna-object-viewer-string{$c:#1a1aa6}.luna-object-viewer-number{$c:#1c00cf}.luna-object-viewer-boolean{$c:#881280}.luna-object-viewer-special{$c:grey}.luna-object-viewer-key,.luna-object-viewer-key-lighter{$c:#c80000}.luna-object-viewer-key-lighter{opacity:.6}.luna-object-viewer-expanded:before{$co:"";$w:0;$h:0;$bo:4px solid transparent;$po:absolute;$btc:#333;$l:-12px;$t:6px}.luna-object-viewer-collapsed:before{$co:"";$blc:#333;$btc:transparent;$l:-10px;$t:4px}.luna-object-viewer-hidden~ul{$d:none}',""]),e.exports=t},function(e,t,n){(t=n(8)(!1)).push([e.i,'.luna-object-viewer{$c:var(--primary);$fs:12px!important}.luna-object-viewer>li{$p:10px 0!important}.luna-object-viewer-null{$c:var(--operator-color)}.luna-object-viewer-regexp,.luna-object-viewer-string{$c:var(--string-color)}.luna-object-viewer-number{$c:var(--number-color)}.luna-object-viewer-boolean{$c:var(--keyword-color)}.luna-object-viewer-special{$c:var(--operator-color)}.luna-object-viewer-key,.luna-object-viewer-key-lighter{$c:var(--var-color)}.luna-object-viewer-expanded:before{border-color:transparent;$btc:var(--foreground)}.luna-object-viewer-collapsed:before{$btc:transparent;$blc:var(--foreground)}._container{$pe:none;$po:fixed;$l:0;$t:0;$w:100%;$h:100%;$z:100000;$c:var(--foreground);$ff:".SFNSDisplay-Regular","Helvetica Neue","Lucida Grande","Segoe UI",Tahoma,sans-seri;$fs:14px;direction:ltr}._container *{$bsi:border-box;$pe:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;$us:none;-webkit-tap-highlight-color:transparent;-webkit-text-size-adjust:none}._container ul{list-style:none;$p:0;$m:0}._container h1,._container h2,._container h3,._container h4{$m:0}._hidden{$d:none}._tag-name-color{$c:var(--tag-name-color)}._function-color{$c:var(--function-color)}._attribute-name-color{$c:var(--attribute-name-color)}._operator-color{$c:var(--operator-color)}._string-color{$c:var(--string-color)}',""]),e.exports=t},function(e,t,n){(t=n(8)(!1)).push([e.i,"._container a,._container abbr,._container acronym,._container address,._container applet,._container article,._container aside,._container audio,._container b,._container big,._container blockquote,._container body,._container canvas,._container caption,._container center,._container cite,._container code,._container dd,._container del,._container details,._container dfn,._container div,._container dl,._container dt,._container em,._container embed,._container fieldset,._container figcaption,._container figure,._container footer,._container form,._container h1,._container h2,._container h3,._container h4,._container h5,._container h6,._container header,._container hgroup,._container html,._container i,._container iframe,._container img,._container ins,._container kbd,._container label,._container legend,._container li,._container mark,._container menu,._container nav,._container object,._container ol,._container output,._container p,._container pre,._container q,._container ruby,._container s,._container samp,._container section,._container small,._container span,._container strike,._container strong,._container sub,._container summary,._container sup,._container table,._container tbody,._container td,._container tfoot,._container th,._container thead,._container time,._container tr,._container tt,._container u,._container ul,._container var,._container video{$m:0;$p:0;$bo:0;$fs:100%;font:inherit;vertical-align:baseline}._container article,._container aside,._container details,._container figcaption,._container figure,._container footer,._container header,._container hgroup,._container menu,._container nav,._container section{$d:block}._container body{$lh:1}._container ol,._container ul{list-style:none}._container blockquote,._container q{quotes:none}._container blockquote:after,._container blockquote:before,._container q:after,._container q:before{$co:'';$co:none}._container table{$bc:collapse;border-spacing:0}",""]),e.exports=t},function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),i=n(3),o=n.n(i),s=n(4),u=n.n(s),c=n(1),l=n.n(c),d=n(5),p=n.n(d),f=n(27),h=n.n(f),m=n(0),v=new m.c;v.ADD="ADD",v.SHOW="SHOW",v.SCALE="SCALE";var b=v,g=n(6),y=n.n(g),_=Object(m.b)({init:function(e){this._$el=e},show:function(){return this._$el.show(),this},hide:function(){return this._$el.hide(),this},destroy:function(){this._$el.remove()}}),x=["background","foreground","selectForeground","accent","highlight","border","primary","contrast","varColor","stringColor","keywordColor","numberColor","operatorColor","linkColor","textColor","tagNameColor","functionColor","attributeNameColor","commentColor"],k=x.length;function w(e){for(var t={},n=0;n<k;n++)t[x[n]]=e[n];return t}function O(e){return Object(m.G)(e)&&(e=w(e)),e.darkerBackground||(e.darkerBackground=e.contrast),Object(m.z)({consoleWarnBackground:"#332a00",consoleWarnForeground:"#ffcb6b",consoleWarnBorder:"#650",consoleErrorBackground:"#290000",consoleErrorForeground:"#ff8080",consoleErrorBorder:"#5c0000",light:"#ccc",dark:"#aaa"},e)}function j(e){return Object(m.G)(e)&&(e=w(e)),e.darkerBackground||(e.darkerBackground=e.contrast),Object(m.z)({consoleWarnBackground:"#fffbe5",consoleWarnForeground:"#5c5c00",consoleWarnBorder:"#fff5c2",consoleErrorBackground:"#fff0f0",consoleErrorForeground:"#f00",consoleErrorBorder:"#ffd6d6",light:"#fff",dark:"#eee"},e)}var S={Light:j({darkerBackground:"#f3f3f3",background:"#fff",foreground:"#333",selectForeground:"#333",accent:"#1a73e8",highlight:"#eaeaea",border:"#ccc",primary:"#333",contrast:"#f2f7fd",varColor:"#c80000",stringColor:"#1a1aa6",keywordColor:"#881280",numberColor:"#1c00cf",operatorColor:"#808080",linkColor:"#1155cc",textColor:"#8097bd",tagNameColor:"#881280",functionColor:"#222",attributeNameColor:"#994500",commentColor:"#236e25",cssProperty:"#c80000"}),Dark:O({darkerBackground:"#333",background:"#242424",foreground:"#a5a5a5",selectForeground:"#eaeaea",accent:"#555",highlight:"#000",border:"#3d3d3d",primary:"#ccc",contrast:"#0b2544",varColor:"#e36eec",stringColor:"#f29766",keywordColor:"#9980ff",numberColor:"#9980ff",operatorColor:"#7f7f7f",linkColor:"#ababab",textColor:"#42597f",tagNameColor:"#5db0d7",functionColor:"#d5d5d5",attributeNameColor:"#9bbbdc",commentColor:"#747474"}),"Material Oceanic":O(["#263238","#B0BEC5","#FFFFFF","#009688","#425B67","#2A373E","#607D8B","#1E272C","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#B0BEC5","#f07178","#82aaff","#ffcb6b","#546e7a"]),"Material Darker":O(["#212121","#B0BEC5","#FFFFFF","#FF9800","#3F3F3F","#292929","#727272","#1A1A1A","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#B0BEC5","#f07178","#82aaff","#ffcb6b","#616161"]),"Material Lighter":j(["#FAFAFA","#546E7A","#546e7a","#00BCD4","#E7E7E8","#d3e1e8","#94A7B0","#F4F4F4","#272727","#91B859","#7C4DFF","#F76D47","#39ADB5","#39ADB5","#546E7A","#E53935","#6182B8","#F6A434","#AABFC9"]),"Material Palenight":O(["#292D3E","#A6ACCD","#FFFFFF","#ab47bc","#444267","#2b2a3e","#676E95","#202331","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#A6ACCD","#f07178","#82aaff","#ffcb6b","#676E95"]),"Material Deep Ocean":O(["#0F111A","#8F93A2","#FFFFFF","#84ffff","#1F2233","#41465b","#4B526D","#090B10","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#8F93A2","#f07178","#82aaff","#ffcb6b","#717CB4"]),"Monokai Pro":O(["#2D2A2E","#fcfcfa","#FFFFFF","#ffd866","#5b595c","#423f43","#939293","#221F22","#FCFCFA","#FFD866","#FF6188","#AB9DF2","#FF6188","#78DCE8","#fcfcfa","#FF6188","#A9DC76","#78DCE8","#727072"]),Dracula:O(["#282A36","#F8F8F2","#8BE9FD","#FF79C5","#6272A4","#21222C","#6272A4","#191A21","#F8F8F2","#F1FA8C","#FF79C6","#BD93F9","#FF79C6","#F1FA8C","#F8F8F2","#FF79C6","#50FA78","#50FA7B","#6272A4"]),"Arc Dark":O(["#2f343f","#D3DAE3","#FFFFFF","#42A5F5","#3F3F46","#404552","#8b9eb5","#262b33","#CF6A4C","#8F9D6A","#9B859D","#CDA869","#A7A7A7","#7587A6","#D3DAE3","#CF6A4C","#7587A6","#F9EE98","#747C84"]),"Atom One Dark":O(["#282C34","#979FAD","#FFFFFF","#2979ff","#383D48","#2e3239","#979FAD","#21252B","#D19A66","#98C379","#C679DD","#D19A66","#61AFEF","#56B6C2","#979FAD","#F07178","#61AEEF","#E5C17C","#59626F"]),"Atom One Light":j(["#FAFAFA","#232324","#232324","#2979ff","#EAEAEB","#DBDBDC","#9D9D9F","#FFFFFF","#986801","#50A14E","#A626A4","#986801","#4078F2","#0184BC","#232324","#E4564A","#4078F2","#C18401","#A0A1A7"]),"Solarized Dark":O(["#002B36","#839496","#FFFFFF","#d33682","#11353F","#0D3640","#586e75","#00252E","#268BD2","#2AA198","#859900","#D33682","#93A1A1","#268BD2","#839496","#268BD2","#B58900","#B58900","#657B83"]),"Solarized Light":j(["#fdf6e3","#586e75","#002b36","#d33682","#F6F0DE","#f7f2e2","#93a1a1","#eee8d5","#268BD2","#2AA198","#859900","#D33682","#657B83","#268BD2","#586e75","#268BD2","#B58900","#657B83","#93A1A1"]),Github:j(["#F7F8FA","#5B6168","#FFFFFF","#79CB60","#CCE5FF","#DFE1E4","#292D31","#FFFFFF","#24292E","#032F62","#D73A49","#005CC5","#D73A49","#005CC5","#5B6168","#22863A","#6F42C1","#6F42C1","#6A737D"]),"Night Owl":O(["#011627","#b0bec5","#ffffff","#7e57c2","#152C3B","#2a373e","#607d8b","#001424","#addb67","#ecc48d","#c792ea","#f78c6c","#c792ea","#80CBC4","#b0bec5","#7fdbca","#82AAFF","#FAD430","#637777"]),"Light Owl":j(["#FAFAFA","#546e7a","#403f53","#269386","#E0E7EA","#efefef","#403F53","#FAFAFA","#0C969B","#c96765","#994cc3","#aa0982","#7d818b","#994cc3","#546e7a","#994cc3","#4876d6","#4876d6","#637777"])},C=n(28),T=n.n(C),N=[],E=1,I=S.Light,A=function e(t,n){t=Object(m.zb)(t);for(var r=0,a=N.length;r<a;r++)if(N[r].css===t)return;n=n||e.container||document.head;var i=document.createElement("style");i.type="text/css",n.appendChild(i);var o={css:t,el:i,container:n};return D(o),N.push(o),o};function R(){Object(m.u)(N,(function(e){return D(e)}))}function D(e){var t=e.css,n=e.el;t=(t=t.replace(/(\d+)px/g,(function(e,t){return+t*E+"px"}))).replace(/_/g,"eruda-"),Object(m.u)(T.a,(function(e,n){t=t.replace(new RegExp(Object(m.y)("$".concat(e,":")),"g"),n+":")}));var r=Object(m.ab)(S.Light);Object(m.u)(r,(function(e){t=t.replace(new RegExp("var\\(--".concat(Object(m.Z)(e),"\\)"),"g"),I[e])})),n.innerText=t}A.setScale=function(e){E=e,R()},A.setTheme=function(e){I=Object(m.X)(e)?S[e]||S.Light:Object(m.r)(e,S.Light),R()},A.getCurTheme=function(){return I},A.getThemes=function(){return S},A.clear=function(){Object(m.u)(N,(function(e){var t=e.container,n=e.el;return t.removeChild(n)})),N=[]},A.remove=function(e){N=Object(m.B)(N,(function(t){return t!==e})),e.container.removeChild(e.el)};var M,F=A,L=function(e){function t(){var e;return a()(this,t),(e=u()(this,l()(t).call(this)))._style=F(n(38)),e.name="settings",e._switchTpl=n(39),e._selectTpl=n(55),e._rangeTpl=n(56),e._colorTpl=n(57),e._settings=[],e}return p()(t,e),o()(t,[{key:"init",value:function(e){y()(l()(t.prototype),"init",this).call(this,e),this._bindEvent()}},{key:"remove",value:function(e,t){var n=this;return Object(m.X)(e)?this._$el.find(".eruda-text").each((function(){var t=Object(m.a)(this);t.text()===e&&t.remove()})):this._settings=Object(m.B)(this._settings,(function(r){return r.config!==e||r.key!==t||(n._$el.find("#"+r.id).remove(),!1)})),this._cleanSeparator(),this}},{key:"destroy",value:function(){y()(l()(t.prototype),"destroy",this).call(this),F.remove(this._style)}},{key:"clear",value:function(){this._settings=[],this._$el.html("")}},{key:"switch",value:function(e,t,n){var r=this._genId("settings");return this._settings.push({config:e,key:t,id:r}),this._$el.append(this._switchTpl({desc:n,key:t,id:r,val:e.get(t)})),this}},{key:"color",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["#2196f3","#707d8b","#f44336","#009688","#ffc107"],a=this._genId("settings");return this._settings.push({config:e,key:t,id:a}),this._$el.append(this._colorTpl({desc:n,colors:r,id:a,val:e.get(t)})),this}},{key:"select",value:function(e,t,n,r){var a=this._genId("settings");return this._settings.push({config:e,key:t,id:a}),this._$el.append(this._selectTpl({desc:n,selections:r,id:a,val:e.get(t)})),this}},{key:"range",value:function(e,t,n,r){var a=r.min,i=void 0===a?0:a,o=r.max,s=void 0===o?1:o,u=r.step,c=void 0===u?.1:u,l=this._genId("settings");this._settings.push({config:e,key:t,min:i,max:s,step:c,id:l});var d=e.get(t);return this._$el.append(this._rangeTpl({desc:n,min:i,max:s,step:c,val:d,progress:P(d,i,s),id:l})),this}},{key:"separator",value:function(){return this._$el.append('<div class="eruda-separator"></div>'),this}},{key:"text",value:function(e){return this._$el.append('<div class="eruda-text">'.concat(e,"</div>")),this}},{key:"_cleanSeparator",value:function(){var e=Object(m.j)(this._$el.get(0).children);function t(e){return"eruda-separator"===e.getAttribute("class")}for(var n=0,r=e.length;n<r-1;n++)t(e[n])&&t(e[n+1])&&Object(m.a)(e[n]).remove()}},{key:"_genId",value:function(){return Object(m.Cb)("eruda-settings")}},{key:"_closeAll",value:function(){this._$el.find(".eruda-open").rmClass("eruda-open")}},{key:"_getSetting",value:function(e){var t;return Object(m.u)(this._settings,(function(n){n.id===e&&(t=n)})),t}},{key:"_bindEvent",value:function(){var e=this;this._$el.on("click",".eruda-checkbox",(function(){var t=Object(m.a)(this).find("input"),n=t.data("id"),r=t.get(0).checked,a=e._getSetting(n);a.config.set(a.key,r)})).on("click",".eruda-select .eruda-head",(function(){var t=Object(m.a)(this).parent().find("ul"),n=t.hasClass("eruda-open");e._closeAll(),n?t.rmClass("eruda-open"):t.addClass("eruda-open")})).on("click",".eruda-select li",(function(){var t=Object(m.a)(this),n=t.parent(),r=t.text(),a=n.data("id"),i=e._getSetting(a);n.rmClass("eruda-open"),n.parent().find(".eruda-head span").text(r),i.config.set(i.key,r)})).on("click",".eruda-range .eruda-head",(function(){var t=Object(m.a)(this).parent().find(".eruda-input-container"),n=t.hasClass("eruda-open");e._closeAll(),n?t.rmClass("eruda-open"):t.addClass("eruda-open")})).on("change",".eruda-range input",(function(){var t=Object(m.a)(this),n=t.parent().data("id"),r=+t.val(),a=e._getSetting(n);a.config.set(a.key,r)})).on("input",".eruda-range input",(function(){var t=Object(m.a)(this),n=t.parent(),r=n.data("id"),a=+t.val(),i=e._getSetting(r),o=i.min,s=i.max;n.parent().find(".eruda-head span").text(a),n.find(".eruda-range-track-progress").css("width",P(a,o,s)+"%")})).on("click",".eruda-color .eruda-head",(function(){var t=Object(m.a)(this).parent().find("ul"),n=t.hasClass("eruda-open");e._closeAll(),n?t.rmClass("eruda-open"):t.addClass("eruda-open")})).on("click",".eruda-color li",(function(){var t=Object(m.a)(this),n=t.parent(),r=t.css("background-color"),a=n.data("id"),i=e._getSetting(a);n.rmClass("eruda-open"),n.parent().find(".eruda-head span").css("background-color",r),i.config.set(i.key,r)}))}}],[{key:"createCfg",value:function(e,t){return new m.d("eruda-"+e,t)}}]),t}(_),P=function(e,t,n){return((e-t)/(n-t)*100).toFixed(2)},z=function(e){function t(e){var r;return a()(this,t),(r=u()(this,l()(t).call(this)))._style=F(n(58)),r._$container=e,r._appendTpl(),r._makeDraggable(),r._bindEvent(),r._registerListener(),r}return p()(t,e),o()(t,[{key:"hide",value:function(){this._$el.hide()}},{key:"show",value:function(){this._$el.show()}},{key:"setPos",value:function(e){this._isOutOfRange(e)&&(e=this._getDefPos()),this._$el.css({left:e.x,top:e.y}),this.config.set("pos",e)}},{key:"getPos",value:function(){return this.config.get("pos")}},{key:"destroy",value:function(){F.remove(this._style),this._unregisterListener(),this._$el.remove()}},{key:"_isOutOfRange",value:function(e){e=e||this.config.get("pos");var t=this._getDefPos();return e.x>t.x+10||e.x<0||e.y<0||e.y>t.y+10}},{key:"_registerListener",value:function(){var e=this;this._scaleListener=function(){return Object(m.hb)((function(){e._isOutOfRange()&&e._resetPos()}))},b.on(b.SCALE,this._scaleListener)}},{key:"_unregisterListener",value:function(){b.off(b.SCALE,this._scaleListener)}},{key:"_appendTpl",value:function(){var e=this._$container;e.append(n(59)()),this._$el=e.find(".eruda-entry-btn")}},{key:"_resetPos",value:function(e){var t=this.config,n=t.get("pos"),r=this._getDefPos();t.get("rememberPos")&&!e||(n=r),this.setPos(n)}},{key:"_bindEvent",value:function(){var e=this,t=this._draggabilly,n=this._$el;t.on("staticClick",(function(){return e.emit("click")})).on("dragStart",(function(){return n.addClass("eruda-active")})),t.on("dragEnd",(function(){var t=e.config;t.get("rememberPos")&&t.set("pos",{x:Object(m.nb)(e._$el.css("left")),y:Object(m.nb)(e._$el.css("top"))}),n.rmClass("eruda-active")})),m.kb.on("change",(function(){return e._resetPos(!0)})),window.addEventListener("resize",(function(){return e._resetPos()}))}},{key:"_makeDraggable",value:function(){this._draggabilly=new h.a(this._$el.get(0),{containment:!0})}},{key:"initCfg",value:function(e){var t=this.config=L.createCfg("entry-button",{rememberPos:!0,pos:this._getDefPos()});e.separator().switch(t,"rememberPos","Remember Entry Button Position"),this._resetPos()}},{key:"_getDefPos",value:function(){var e=this._$el.get(0).offsetWidth+10;return{x:window.innerWidth-e,y:window.innerHeight-e}}}]),t}(m.c),B=function(e){function t(e){var r;return a()(this,t),(r=u()(this,l()(t).call(this)))._style=F(n(60)),r._$el=e.find(".eruda-nav-bar"),r._$bottomBar=e.find(".eruda-bottom-bar"),r._len=0,r._bindEvent(),r}return p()(t,e),o()(t,[{key:"add",value:function(e){var t=this._$el;this._len++;var n=t.find(".eruda-nav-bar-item").last(),r='<div class="eruda-nav-bar-item">'.concat(e,"</div>");n.length>0&&"settings"===n.text()?n.before(r):t.append(r),this.resetBottomBar()}},{key:"remove",value:function(e){this._len--,this._$el.find(".eruda-nav-bar-item").each((function(){var t=Object(m.a)(this);t.text().toLowerCase()===e.toLowerCase()&&t.remove()})),this.resetBottomBar()}},{key:"activateTool",value:function(e){var t=this;this._$el.find(".eruda-nav-bar-item").each((function(){var n=Object(m.a)(this);n.text()===e?(n.addClass("eruda-active"),t.resetBottomBar(),t._scrollItemToView()):n.rmClass("eruda-active")}))}},{key:"destroy",value:function(){F.remove(this._style),this._$el.remove()}},{key:"_scrollItemToView",value:function(){var e,t=this._$el,n=t.find(".eruda-active").get(0),r=t.get(0),a=n.offsetLeft,i=n.offsetWidth,o=r.offsetWidth,s=r.scrollLeft;a<s?e=a:a+i>o+s&&(e=a+i-o),Object(m.T)(e)&&(r.scrollLeft=e)}},{key:"resetBottomBar",value:function(){var e=this._$bottomBar,t=this._$el,n=t.find(".eruda-active").get(0);n&&e.css({width:n.offsetWidth,left:n.offsetLeft-t.get(0).scrollLeft})}},{key:"_bindEvent",value:function(){var e=this,t=this;this._$el.on("click",".eruda-nav-bar-item",(function(){t.emit("showTool",Object(m.a)(this).text())})).on("scroll",(function(){return e.resetBottomBar()}))}}]),t}(m.c),V=M=new m.e("[Eruda]","warn");M.formatter=function(e,t){return t.unshift(this.name),t};var U=function(e){function t(e){var r;return a()(this,t),(r=u()(this,l()(t).call(this)))._style=F(n(61)),r.$container=e,r._isShow=!1,r._opacity=1,r._tools={},r._isResizing=!1,r._resizeTimer=null,r._resizeStartY=0,r._resizeStartSize=0,r._appendTpl(),r._initNavBar(),r._bindEvent(),r}return p()(t,e),o()(t,[{key:"show",value:function(){var e=this;return this._isShow=!0,this._$el.show(),this._navBar.resetBottomBar(),setTimeout((function(){e._$el.css("opacity",e._opacity)}),50),this.emit("show"),this}},{key:"hide",value:function(){var e=this;return this._isShow=!1,this.emit("hide"),this._$el.css({opacity:0}),setTimeout((function(){return e._$el.hide()}),300),this}},{key:"toggle",value:function(){return this._isShow?this.hide():this.show()}},{key:"add",value:function(e){if(!(e instanceof _)){var t=new _,n=t.init,r=t.show,a=t.hide,i=t.destroy;Object(m.r)(e,{init:n,show:r,hide:a,destroy:i})}var o=e.name;return o?(o=o.toLowerCase(),this._tools[o]?V.warn("Tool ".concat(o," already exists")):(this._$tools.prepend('<div id="eruda-'.concat(o,'" class="eruda-').concat(o,' eruda-tool"></div>')),e.init(this._$tools.find(".eruda-".concat(o,".eruda-tool")),this),e.active=!1,this._tools[o]=e,this._navBar.add(o),this)):V.error("You must specify a name for a tool")}},{key:"remove",value:function(e){var t=this._tools;if(!t[e])return V.warn("Tool ".concat(e," doesn't exist"));this._navBar.remove(e);var n=t[e];if(delete t[e],n.active){var r=Object(m.ab)(t);r.length>0&&this.showTool(t[Object(m.bb)(r)].name)}return n.destroy(),this}},{key:"removeAll",value:function(){var e=this;return Object(m.u)(this._tools,(function(t){return e.remove(t.name)})),this}},{key:"get",value:function(e){var t=this._tools[e];if(t)return t}},{key:"showTool",value:function(e){if(this._curTool===e)return this;this._curTool=e;var t=this._tools,n=t[e];if(n){var r={};return Object(m.u)(t,(function(e){e.active&&(r=e,e.active=!1,e.hide())})),n.active=!0,n.show(),this._navBar.activateTool(e),this.emit("showTool",e,r),this}}},{key:"initCfg",value:function(e){var t=this,n=this.config=L.createCfg("dev-tools",{transparency:1,displaySize:80,theme:Object(m.J)()?"Dark":"Light"});this._setTransparency(n.get("transparency")),this._setDisplaySize(n.get("displaySize")),F.setTheme(n.get("theme")),n.on("change",(function(e,n){switch(e){case"transparency":return t._setTransparency(n);case"displaySize":return t._setDisplaySize(n);case"theme":return F.setTheme(n)}})),e.separator().select(n,"theme","Theme",Object(m.ab)(F.getThemes())).range(n,"transparency","Transparency",{min:.2,max:1,step:.01}).range(n,"displaySize","Display Size",{min:40,max:100,step:1}).separator()}},{key:"destroy",value:function(){F.remove(this._style),this.removeAll(),this._navBar.destroy(),this._$el.remove()}},{key:"_setTransparency",value:function(e){Object(m.T)(e)&&(this._opacity=e,this._isShow&&this._$el.css({opacity:e}))}},{key:"_setDisplaySize",value:function(e){Object(m.T)(e)&&this._$el.css({height:e+"%"})}},{key:"_appendTpl",value:function(){var e=this.$container;e.append(n(62)()),this._$el=e.find(".eruda-dev-tools"),this._$tools=this._$el.find(".eruda-tools")}},{key:"_initNavBar",value:function(){var e=this;this._navBar=new B(this._$el.find(".eruda-nav-bar-container")),this._navBar.on("showTool",(function(t){return e.showTool(t)}))}},{key:"_bindEvent",value:function(){var e=this,t=this._$el.find(".eruda-nav-bar"),n=function(n){n=n.origEvent,e._resizeTimer=setTimeout((function(){n.preventDefault(),n.stopPropagation(),e._isResizing=!0,e._resizeStartSize=e.config.get("displaySize"),e._resizeStartY=o(n),t.css("filter","brightness(1.2)")}),1e3)},r=Object(m.vb)((function(t){return e.config.set("displaySize",t)}),50),a=function(t){if(!e._isResizing)return clearTimeout(e._resizeTimer);t.preventDefault(),t.stopPropagation(),t=t.origEvent;var n=Math.round((e._resizeStartY-o(t))/window.innerHeight*100),a=e._resizeStartSize+n;a<40?a=40:a>100&&(a=100),r(a)},i=function(){clearTimeout(e._resizeTimer),e._isResizing=!1,t.css("filter","brightness(1)")},o=function(e){return e.clientY?e.clientY:e.touches?e.touches[0].clientY:0};t.on("contextmenu",(function(e){return e.preventDefault()}));var s=Object(m.a)(document.documentElement);Object(m.P)()?(t.on("touchstart",n).on("touchmove",a),s.on("touchend",i)):(t.on("mousedown",n),s.on("mousemove",a),s.on("mouseup",i))}}]),t}(m.c),W=n(9),H=n.n(W),G=n(14),$=n.n(G),q=n(15),K=n.n(q),X=!1,Y=["(...)","undefined","Symbol","Object","\u0192"];function Z(e){var t=Object(m.L)(Object.getOwnPropertyNames(e)),n=Object.getPrototypeOf(e);return t&&n&&n!==Object.prototype}var Q=n(11),J=n.n(Q),ee=n(17),te=n.n(ee),ne=function(e){function t(e){var n,r=e.type,i=void 0===r?"log":r,o=e.args,s=void 0===o?[]:o,c=e.id,d=e.group,p=void 0===d?{}:d,f=e.targetGroup,h=void 0===f?{}:f,v=e.displayHeader,b=void 0!==v&&v,g=e.ignoreFilter,y=void 0!==g&&g;return a()(this,t),(n=u()(this,l()(t).call(this))).type=i,n.group=p,n.targetGroup=h,n.args=s,n.count=1,n.id=c,n.displayHeader=b,n.ignoreFilter=y,n.collapsed=!1,n.el=document.createElement("li"),n.el.log=H()(n),n.height=0,n.width=0,n._$el=Object(m.a)(n.el),b&&(n.time=ve(),n.from=function(){for(var e=new Error,t="",n=e.stack?e.stack.split("\n"):"",r=0,a=n.length;r<a;r++)if((t=n[r]).indexOf("winConsole")>-1&&r<a-1){t=n[r+1];break}return t}()),n._formatMsg(),n.group&&n.checkGroup(),n}return p()(t,e),o()(t,[{key:"checkGroup",value:function(){for(var e=this.group,t=!1;e;){if(e.collapsed){t=!0;break}e=e.parent}return t!==this.collapsed&&(this.collapsed=t,!0)}},{key:"updateIcon",value:function(e){return this._$el.find(".eruda-icon").rmAttr("class").addClass(["eruda-icon","eruda-icon-".concat(e)]),this}},{key:"addCount",value:function(){this.count++;var e=this.count,t=this._$el,n=t.find(".eruda-count-container"),r=t.find(".eruda-icon-container"),a=n.find(".eruda-count");return 2===e&&n.rmClass("eruda-hidden"),a.text(e),r.addClass("eruda-hidden"),this}},{key:"groupEnd",value:function(){return this._$el.find(".eruda-nesting-level:not(.eruda-group-closed)").last().addClass("eruda-group-closed"),this}},{key:"updateTime",value:function(e){var t=this._$el.find(".eruda-time-container");return this.time&&(t.find("span").eq(0).text(e),this.time=e),this}},{key:"isAttached",value:function(){return!!this.el.parentNode}},{key:"updateSize",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.el.offsetHeight;this.height!==t&&(this.height=this.el.offsetHeight,this.width=this.el.offsetWidth,e||this.emit("updateSize"))}},{key:"html",value:function(){return this.el.outerHTML}},{key:"text",value:function(){return this._content.textContent}},{key:"_needSrc",value:function(){var e=this.type,t=this.args;if("html"===e)return!1;for(var n=0,r=t.length;n<r;n++)if(Object(m.U)(t[n]))return!0;return!1}},{key:"extractObj",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.ib,n=this.args,r=this.type,a=function(n){e.src=n,t()};ye("table"===r||1===n.length&&Object(m.U)(n[0])?n[0]:n,{},a)}},{key:"click",value:function(e){var n=this,r=this.type,a=this.src,i=this.args,o=this._$el;switch(r){case"log":case"warn":case"info":case"debug":case"output":case"table":case"dir":case"group":case"groupCollapsed":if(a||i){var s=o.find(".eruda-json");if(s.hasClass("eruda-hidden")){if("true"!==s.data("init")){if(a){var u=new te.a.Static(s.get(0));u.set(a),u.on("change",(function(){return n.updateSize(!1)}))}else{"table"!==r&&1!==i.length||Object(m.U)(i[0])&&(i=i[0]);var c=new te.a(s.get(0),{unenumerable:t.showUnenumerable,accessGetter:t.showGetterVal});c.set(i),c.on("change",(function(){return n.updateSize(!1)}))}s.data("init","true")}s.rmClass("eruda-hidden")}else s.addClass("eruda-hidden")}else"group"!==r&&"groupCollapsed"!==r||e.toggleGroup(this);break;case"error":o.find(".eruda-stack").toggleClass("eruda-hidden")}this.updateSize(!1)}},{key:"_formatMsg",value:function(){var e=this.args,n=this.type,r=this.id,a=this.displayHeader,i=this.time,o=this.from,s=this.group;e=Object(m.j)(e),this._needSrc()&&!t.lazyEvaluation&&this.extractObj();var u,c,l="";switch("group"!==n&&"groupCollapsed"!==n||0===e.length&&(e=["console.group"]),n){case"log":case"debug":l=ce(e);break;case"dir":l=le(e);break;case"info":l=ce(e);break;case"warn":u="warn",l=ce(e);break;case"error":Object(m.X)(e[0])&&1!==e.length&&(e=de(e)),c=e[0],u="error",c=Object(m.M)(c)?c:new Error(ce(e)),this.src=c,l=function(e){var t=e.stack?e.stack.split("\n"):[],n="".concat(e.message||t[0],"<br/>");return t=t.filter((function(e){return!se.test(e)})).map((function(e){return Object(m.w)(e)})),n+'<div class="eruda-stack eruda-hidden">'.concat(t.slice(1).join("<br/>"),"</div>").replace(oe,(function(e){return'<a href="'.concat(e,'" target="_blank">').concat(e,"</a>")}))}(c);break;case"table":l=function(e){var t=e[0],n="",r=e[1],a=[];return Object(m.X)(r)&&(r=Object(m.wb)(r)),Object(m.G)(r)||(r=null),Object(m.U)(t)?(Object(m.u)(t,(function(e){Object(m.V)(e)?a.push(ae):Object(m.U)(e)&&(a=a.concat(Object(m.ab)(e)))})),(a=Object(m.Db)(a)).sort(),r&&(a=a.filter((function(e){return Object(m.m)(r,e)}))),a.length>20&&(a=a.slice(0,20)),Object(m.L)(a)?ce(e):(n+="<table><thead><tr><th>(index)</th>",a.forEach((function(e){return n+="<th>".concat(e===ae?"Value":Object(m.zb)(e),"</th>")})),n+="</tr></thead><tbody>",Object(m.u)(t,(function(e,t){n+="<tr><td>".concat(t,"</td>"),a.forEach((function(t){Object(m.U)(e)?n+=t===ae?"<td></td>":"<td>".concat(ie(e[t]),"</td>"):Object(m.V)(e)&&(n+=t===ae?"<td>".concat(ie(e),"</td>"):"<td></td>")})),n+="</tr>"})),n+="</tbody></table>",n+='<div class="eruda-json eruda-hidden"></div>')):ce(e)}(e);break;case"html":l=e[0];break;case"input":l=ue(e[0]),u="arrow-right";break;case"output":l=ce(e),u="arrow-left";break;case"groupCollapsed":l=ce(e),u="caret-right";break;case"group":l=ce(e),u="caret-down"}this._needSrc()&&t.lazyEvaluation||delete this.args,"error"===n||this.args||(l=Object(m.cb)(l,(function(e){return'<a href="'.concat(e,'" target="_blank">').concat(e,"</a>")}))),l=ge({msg:l,type:n,icon:u,id:r,displayHeader:a,time:i,from:o,group:s}),this._$el.addClass("eruda-log-container").html(l),this._$content=this._$el.find(".eruda-log-content"),this._content=this._$content.get(0)}}]),t}(m.c);$()(ne,"showGetterVal",!1),$()(ne,"showUnenumerable",!0),$()(ne,"lazyEvaluation",!0);var re=Object(m.Gb)((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.topObj,i=r.level,o=void 0===i?0:i,s=r.getterVal,u=void 0!==s&&s,c=r.unenumerable,l=void 0===c||c;X||(F(n(66)),X=!0);var d,p="",f="",h=5,v=[],b=[],g="",y=!1;a=a||t;var _={getterVal:u,unenumerable:l,level:o+1},x=0===o,k='<span class="eruda-key">',w='<span class="eruda-number">',O='<span class="eruda-null">',j='<span class="eruda-string">',S='<span class="eruda-boolean">',C='<span class="eruda-special">',T=function(e){return Object(m.w)(e).replace(/\\n/g,"\u21b5").replace(/\\f|\\r|\\t/g,"").replace(/\\/g,"")},N="</span>",E=function(e){return k+T(e)+N},I=function(e){return w+e+N},A=function(e){return j+e+N},R=function(e){return S+e+N},D=function(e){return O+e+N};function M(e){return e=Object(m.zb)(e),Object(m.m)(Y,e)||Object(m.tb)(e,"Array[")?C+T(e)+N:j+T('"'.concat(e,'"'))+N}function L(n){if(d>h)g=", \u2026";else{var r=E(Object(m.x)(n));if(!u&&Object.getOwnPropertyDescriptor(t,n).get)return v.push("".concat(r,": ").concat(M("(...)"))),void d++;v.push("".concat(r,": ").concat(e(a[n],_))),d++}}try{f={}.toString.call(t)}catch(e){f="[object Object]"}var P="[object String]"==f,z="[object Array]"==f,B="[object Object]"==f,V="[object Number]"==f,U="[object RegExp]"==f,W="[object Symbol]"==f,H="[object Function]"==f,G="[object Boolean]"==f;if(y)p=M("[circular]");else if(P)p=M(Object(m.x)(t));else if(U)p=A(Object(m.x)(t.toString()));else if(H)p=M("\u0192");else if(z)if(x){p="[";var $=t.length,q="";$>100&&($=100,q=", \u2026");for(var K=0;K<$;K++)v.push("".concat(e(t[K],_)));p+=v.join(", ")+q+"]"}else p="Array(".concat(t.length,")");else if(B)Z(t)&&(t=Object.getPrototypeOf(t)),b=l?Object.getOwnPropertyNames(t):Object.keys(t),x?(d=1,p="{ ",Object(m.u)(b,L),p+=v.join(", ")+g+" }"):"Object"===(p=Object(m.E)(t))&&(p="{\u2026}");else if(V)p=t+"",p=Object(m.v)(p,"Infinity")||"NaN"===p?'"'.concat(p,'"'):I(p);else if(G)p=R(t?"true":"false");else if(null===t)p=D("null");else if(W)p=M("Symbol");else if(void 0===t)p=M("undefined");else try{Z(t)&&(t=Object.getPrototypeOf(t)),x?(d=1,p="{ ",b=l?Object.getOwnPropertyNames(t):Object.keys(t),Object(m.u)(b,L),p+=v.join(", ")+g+" }"):"Object"===(p=Object(m.E)(t))&&(p="{\u2026}")}catch(e){p=M(t)}return p}),(function(e,t){return'<span class="eruda-abstract">'+e(t,{getterVal:ne.showGetterVal,unenumerable:!1})+"</span>"})),ae="__ErudaValue";function ie(e){return Object(m.U)(e)?"{\u2026}":Object(m.V)(e)?re(e):Object(m.zb)(e)}var oe=/https?:\/\/([0-9.\-A-Za-z]+)(?::(\d+))?\/[A-Z.a-z0-9/]*\.js/g,se=/eruda(\.min)?\.js/;function ue(e){var t=F.getCurTheme();return Object(m.F)(J()(e,{indent_size:2}),"js",{keyword:"color:".concat(t.keywordColor),number:"color:".concat(t.numberColor),operator:"color:".concat(t.operatorColor),comment:"color:".concat(t.commentColor),string:"color:".concat(t.stringColor)})}function ce(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).htmlForEl,n=void 0===t||t,r=Object(m.X)(e[0])&&1!==e.length;r&&(e=de(e));for(var a=0,i=e.length;a<i;a++){var o=e[a];Object(m.K)(o)&&n?e[a]=me(o):Object(m.N)(o)?e[a]=he(o):Object(m.U)(o)?e[a]=fe(o):Object(m.Y)(o)?e[a]="undefined":Object(m.S)(o)?e[a]="null":(o=Object(m.zb)(o),0===a&&r||(o=Object(m.w)(o)),e[a]=o)}return e.join(" ")+'<div class="eruda-json eruda-hidden"></div>'}var le=function(e){return ce(e,{htmlForEl:!1})};function de(e){var t=Object(m.w)(e[0]),n=!1,r="";e.shift();for(var a=0,i=t.length;a<i;a++){var o=t[a];if("%"===o&&0!==e.length){a++;var s=e.shift();switch(t[a]){case"i":case"d":r+=Object(m.xb)(s);break;case"f":r+=Object(m.yb)(s);break;case"s":r+=Object(m.zb)(s);break;case"O":Object(m.U)(s)&&(r+=re(s));break;case"o":Object(m.K)(s)?r+=me(s):Object(m.U)(s)&&(r+=re(s));break;case"c":if(t.length<=a+1)break;n&&(r+="</span>"),n=!0,r+='<span style="'.concat(pe(s),'">');break;default:a--,e.unshift(s),r+=o}}else r+=o}return n&&(r+="</span>"),e.unshift(r),e}function pe(e){var t=(e=Object(m.eb)(e)).split(";"),n={};Object(m.u)(t,(function(e){if(Object(m.m)(e,":")){var t=e.split(":"),r=K()(t,2),a=r[0],i=r[1];n[Object(m.Ab)(a)]=Object(m.Ab)(i)}})),n.display="inline-block",n["max-width"]="100%",n.contain="paint",delete n.width,delete n.height;var r="";return Object(m.u)(n,(function(e,t){r+="".concat(t,":").concat(e,";")})),r}function fe(e){var t=Object(m.E)(e);return"Array"===t&&e.length>1&&(t="(".concat(e.length,")")),"".concat(t," ").concat(re(e))}function he(e){return'<pre style="display:inline">'.concat(ue(e.toString()),"</pre>")}function me(e){return'<pre style="display:inline">'.concat(Object(m.F)(J.a.html(e.outerHTML,{unformatted:[],indent_size:2}),"html"),"</pre>")}var ve=function(){return Object(m.o)("HH:MM:ss")},be=n(68),ge=function(e){return be(e)};function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;Object(m.r)(t,{accessGetter:ne.showGetterVal,unenumerable:ne.showUnenumerable,symbol:ne.showUnenumerable,timeout:1e3}),function(e,t,n){var r=Object(m.ub)(e,t);Object(m.hb)((function(){return n(r)}))}(e,t,(function(e){return n(JSON.parse(e))}))}var _e=0,xe=function(e){function t(e){var r;return a()(this,t),(r=u()(this,l()(t).call(this)))._style=F(n(69)),r._$container=e,r._container=e.get(0),r._$el=e.find("ul.eruda-logs"),r._el=r._$el.get(0),r._$fakeEl=e.find("ul.eruda-fake-logs"),r._fakeEl=r._$fakeEl.get(0),r._$topSpace=e.find(".eruda-top-space"),r._topSpace=r._$topSpace.get(0),r._$bottomSpace=e.find(".eruda-bottom-space"),r._bottomSpace=r._$bottomSpace.get(0),r._topSpaceHeight=0,r._bottomSpaceHeight=0,r._logs=[],r._displayLogs=[],r._timer={},r._count={},r._lastLog={},r._filter="all",r._maxNum="infinite",r._displayHeader=!1,r._asyncRender=!1,r._asyncList=[],r._asyncTimer=null,r._isAtBottom=!0,r._groupStack=new m.g,r._ignoreScroll=!1,r.renderViewport=Object(m.vb)((function(e){r._renderViewport(e)}),16),r._global={copy:function(e){Object(m.X)(e)||(e=JSON.stringify(e,null,2)),Object(m.n)(e)},$:function(){return document.querySelector.apply(document,arguments)},$$:function(){return Object(m.wb)(document.querySelectorAll.apply(document,arguments))},$x:function(e){return Object(m.Hb)(e)},clear:function(){r.clear()},dir:function(e){r.dir(e)},table:function(e,t){r.table(e,t)},keys:m.ab},r._bindEvent(),r}return p()(t,e),o()(t,[{key:"renderAsync",value:function(e){this._asyncRender=e}},{key:"setGlobal",value:function(e,t){this._global[e]=t}},{key:"displayHeader",value:function(e){this._displayHeader=e}},{key:"maxNum",value:function(e){var t=this._logs;this._maxNum=e,Object(m.T)(e)&&t.length>e&&(this._logs=t.slice(t.length-e),this.render())}},{key:"displayUnenumerable",value:function(e){ne.showUnenumerable=e}},{key:"displayGetterVal",value:function(e){ne.showGetterVal=e}},{key:"lazyEvaluation",value:function(e){ne.lazyEvaluation=e}},{key:"viewLogInSources",value:function(e){ne.showSrcInSources=e}},{key:"destroy",value:function(){this._style&&F.remove(this._style)}},{key:"filter",value:function(e){return this._filter=e,this.emit("filter",e),this.render()}},{key:"count",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=this._count;return Object(m.Y)(t[e])?t[e]=1:t[e]++,this.info("".concat(e,": ").concat(t[e]))}},{key:"countReset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this._count[e]=0,this}},{key:"assert",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Object(m.L)(t)){var r=t.shift();return r?void 0:(0===t.length&&t.unshift("console.assert"),t.unshift("Assertion failed: "),this.insert("error",t))}}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Object(m.L)(t))return this.insert("log",t)}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Object(m.L)(t))return this.insert("debug",t)}},{key:"dir",value:function(e){if(!Object(m.Y)(e))return this.insert("dir",[e])}},{key:"table",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Object(m.L)(t))return this.insert("table",t)}},{key:"time",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this._timer[e]?this.insert("warn",["Timer '".concat(e,"' already exists")]):(this._timer[e]=Object(m.lb)(),this)}},{key:"timeLog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=this._timer[e];return t?this.info("".concat(e,": ").concat(Object(m.lb)()-t,"ms")):this.insert("warn",["Timer '".concat(e,"' does not exist")])}},{key:"timeEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.timeLog(e),delete this._timer[e],this}},{key:"clear",value:function(){return this.silentClear(),this.insert("log",["%cConsole was cleared","color:#808080;font-style:italic;"])}},{key:"silentClear",value:function(){return this._logs=[],this._displayLogs=[],this._lastLog={},this._count={},this._timer={},this._groupStack=new m.g,this._asyncList=[],this._asyncTimer&&(clearTimeout(this._asyncTimer),this._asyncTimer=null),this.render()}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Object(m.L)(t))return this.insert("info",t)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Object(m.L)(t))return this.insert("error",t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Object(m.L)(t))return this.insert("warn",t)}},{key:"group",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.insert({type:"group",args:t,ignoreFilter:!0})}},{key:"groupCollapsed",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.insert({type:"groupCollapsed",args:t,ignoreFilter:!0})}},{key:"groupEnd",value:function(){this.insert("groupEnd")}},{key:"input",value:function(e){this.insert({type:"input",args:[e],ignoreFilter:!0});try{this.output(this._evalJs(e))}catch(e){this.insert({type:"error",ignoreFilter:!0,args:[e]})}return this}},{key:"output",value:function(e){return this.insert({type:"output",args:[e],ignoreFilter:!0})}},{key:"html",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.insert("html",t)}},{key:"render",value:function(){var e=this._logs;this._$el.html(""),this._isAtBottom=!0,this._updateBottomSpace(0),this._updateTopSpace(0),this._displayLogs=[];for(var t=0,n=e.length;t<n;t++)this._attachLog(e[t]);return this}},{key:"insert",value:function(e,t){this._asyncRender?this.insertAsync(e,t):this.insertSync(e,t)}},{key:"insertAsync",value:function(e,t){this._asyncList.push([e,t]),this._handleAsyncList()}},{key:"insertSync",value:function(e,t){var n=this,r=this._logs,a=this._groupStack;if("groupEnd"===e)return this._lastLog.groupEnd(),this._groupStack.pop(),this;var i=Object(m.X)(e)?{type:e,args:t}:e;if(a.size>0&&(i.group=a.peek()),Object(m.z)(i,{id:++_e,displayHeader:this._displayHeader}),"group"===i.type||"groupCollapsed"===i.type){var o={id:Object(m.Cb)("group"),collapsed:!1,parent:a.peek(),indentLevel:a.size+1};"groupCollapsed"===i.type&&(o.collapsed=!0),i.targetGroup=o,a.push(o)}var s=new ne(i);s.on("updateSize",(function(){n._isAtBottom=!1,n.renderViewport()}));var u=this._lastLog;if(Object(m.m)(["html","group","groupCollapsed"],s.type)||u.type!==s.type||s.src||s.args||u.text()!==s.text()?(r.push(s),this._lastLog=s):(u.addCount(),s.time&&u.updateTime(s.time),s=u,this._detachLog(u)),"infinite"!==this._maxNum&&r.length>this._maxNum){var c=r[0];this._detachLog(c),r.shift()}return this._attachLog(s),this.emit("insert",s),this}},{key:"toggleGroup",value:function(e){e.targetGroup.collapsed?this._openGroup(e):this._collapseGroup(e)}},{key:"_updateTopSpace",value:function(e){this._topSpaceHeight=e,this._topSpace.style.height=e+"px"}},{key:"_updateBottomSpace",value:function(e){this._bottomSpaceHeight=e,this._bottomSpace.style.height=e+"px"}},{key:"_updateLogSize",value:function(e){var t=this._fakeEl;if(!Object(m.O)(this._fakeEl))return e.isAttached()?void e.updateSize():(t.appendChild(e.el),e.updateSize(),void(t.children>100&&(t.innerHTML="")))}},{key:"_detachLog",value:function(e){var t=this._displayLogs,n=t.indexOf(e);n>-1&&(t.splice(n,1),this.renderViewport())}},{key:"_attachLog",value:function(e){if(this._filterLog(e)&&!e.collapsed){var t=this._displayLogs;if(0===t.length)return t.push(e),void this.renderViewport();var n=Object(m.bb)(t);if(e.id>n.id)return t.push(e),void this.renderViewport();for(var r,a,i=0,o=t.length-1;i<=o;){if((r=t[a=i+Math.floor((o-i)/2)]).id===e.id)return;r.id<e.id?i=a+1:o=a-1}r.id<e.id?t.splice(a+1,0,e):t.splice(a,0,e),this.renderViewport()}}},{key:"_handleAsyncList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,n=this._asyncList;this._asyncTimer||(this._asyncTimer=setTimeout((function(){e._asyncTimer=null;var t,r,a=!1,i=n.length;i<1e3?(r=200,t=400):i<5e3?(r=500,t=800):i<1e4?(r=800,t=1e3):i<25e3?(r=1e3,t=1200):i<5e4?(r=1500,t=1500):(r=2e3,t=2500),r>i&&(r=i,a=!0);for(var o=0;o<r;o++){var s=n.shift(),u=K()(s,2),c=u[0],l=u[1];e.insertSync(c,l)}a||Object(m.ob)((function(){return e._handleAsyncList(t)}))}),t))}},{key:"_injectGlobal",value:function(){Object(m.u)(this._global,(function(e,t){window[t]||(window[t]=e)}))}},{key:"_clearGlobal",value:function(){Object(m.u)(this._global,(function(e,t){window[t]&&window[t]===e&&delete window[t]}))}},{key:"_evalJs",value:function(e){var t;this._injectGlobal();try{t=eval.call(window,"(".concat(e,")"))}catch(n){t=eval.call(window,e)}return this.setGlobal("$_",t),this._clearGlobal(),t}},{key:"_filterLog",value:function(e){var t=this._filter;if("all"===t)return!0;var n=Object(m.W)(t),r=Object(m.N)(t);return!!e.ignoreFilter||(r?t(e):n?t.test(Object(m.eb)(e.text())):e.type===t)}},{key:"_getLog",value:function(e){for(var t,n=this._logs,r=0,a=n.length;r<a&&(t=n[r]).id!==e;r++);return t}},{key:"_collapseGroup",value:function(e){e.targetGroup.collapsed=!0,e.updateIcon("caret-right"),this._updateGroup(e)}},{key:"_openGroup",value:function(e){e.targetGroup.collapsed=!1,e.updateIcon("caret-down"),this._updateGroup(e)}},{key:"_updateGroup",value:function(e){for(var t=e.targetGroup,n=this._logs,r=n.length,a=n.indexOf(e)+1;a<r;){var i=n[a];if(!i.checkGroup()&&i.group===t)break;i.collapsed?this._detachLog(i):this._attachLog(i),a++}}},{key:"_bindEvent",value:function(){var e=this,t=this;this._$el.on("click",".eruda-log-container",(function(){this.log.click(t)})).on("click",".eruda-icon-caret-down",(function(){var e=Object(m.a)(this).parent().parent().parent();t._collapseGroup(e.get(0).log)})).on("click",".eruda-icon-caret-right",(function(){var e=Object(m.a)(this).parent().parent().parent();t._openGroup(e.get(0).log)})),this._$container.on("scroll",(function(){if(e._ignoreScroll)e._ignoreScroll=!1;else{var t=e._container,n=t.scrollHeight,r=t.offsetHeight,a=t.scrollTop,i=!1;(n===r||a===n-r)&&(i=!0),e._isAtBottom=i,e._topSpaceHeight<a&&e._topSpaceHeight+e._el.offsetHeight>scrollTo+r||e.renderViewport(!1)}}))}},{key:"_renderViewport",value:function(){var e=this._container;if(!Object(m.O)(e)){var t=e.scrollTop,n=e.offsetWidth,r=e.offsetHeight,a=t,i=t+r,o=this._displayLogs;a-=1e3,i+=1e3;var s=0,u=0,c=0;this._el.innerHTML="";for(var l=o.length,d=this._fakeEl,p=document.createDocumentFragment(),f=[],h=0;h<l;h++){var v=o[h],b=v.width;0!==v.height&&b===n||(p.appendChild(v.el),f.push(v))}if(f.length>0){d.appendChild(p);for(var g=0,y=f.length;g<y;g++)f[g].updateSize();d.innerHTML=""}for(var _=document.createDocumentFragment(),x=0;x<l;x++){var k=o[x],w=k.el,O=k.height;c>i?u+=O:c+O>a?_.appendChild(w):c<a&&(s+=O),c+=O}this._el.appendChild(_),this._updateTopSpace(s),this._updateBottomSpace(u);var j=e.scrollHeight;this._isAtBottom&&t!==j-r?(e.scrollTop=j-r,this.renderViewport()):e.scrollTop=t,this._ignoreScroll=!0}}}]),t}(m.c);m.Bb.start();var ke=function(e){function t(){var e,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).name,r=void 0===n?"console":n;return a()(this,t),e=u()(this,l()(t).call(this)),$()(H()(e),"_handleShow",(function(){Object(m.O)(e._$el.get(0))||e._logger.renderViewport()})),$()(H()(e),"_handleErr",(function(t){e._logger.error(t)})),m.c.mixin(H()(e)),e.name=r,e._scale=1,e._registerListener(),e}return p()(t,e),o()(t,[{key:"init",value:function(e,n){y()(l()(t.prototype),"init",this).call(this,e),this._container=n,this._appendTpl(),this._initLogger(),this._exposeLogger(),this._initCfg(),this._bindEvent()}},{key:"show",value:function(){y()(l()(t.prototype),"show",this).call(this),this._handleShow()}},{key:"overrideConsole",value:function(){var e=this,t=this._origConsole={},n=window.console;return we.forEach((function(r){var a=t[r]=m.ib;n[r]&&(a=t[r]=n[r].bind(n)),n[r]=function(){e[r].apply(e,arguments),a.apply(void 0,arguments)}})),this}},{key:"setGlobal",value:function(e,t){this._logger.setGlobal(e,t)}},{key:"restoreConsole",value:function(){var e=this;return this._origConsole?(we.forEach((function(t){return window.console[t]=e._origConsole[t]})),delete this._origConsole,this):this}},{key:"catchGlobalErr",value:function(){return m.Bb.addListener(this._handleErr),this}},{key:"ignoreGlobalErr",value:function(){return m.Bb.rmListener(this._handleErr),this}},{key:"destroy",value:function(){this._logger.destroy(),y()(l()(t.prototype),"destroy",this).call(this),this._container.off("show",this._handleShow),this._style&&F.remove(this._style),this.ignoreGlobalErr(),this.restoreConsole(),this._unregisterListener(),this._rmCfg()}},{key:"_enableJsExecution",value:function(e){var t=this._$el,n=t.find(".eruda-console-container"),r=t.find(".eruda-js-input");e?(r.show(),n.rmClass("eruda-js-input-hidden")):(r.hide(),n.addClass("eruda-js-input-hidden"))}},{key:"_registerListener",value:function(){var e=this;this._scaleListener=function(t){return e._scale=t},b.on(b.SCALE,this._scaleListener)}},{key:"_unregisterListener",value:function(){b.off(b.SCALE,this._scaleListener)}},{key:"_appendTpl",value:function(){var e=this._$el;this._style=F(n(70)),e.append(n(71)());var t=e.find(".eruda-js-input"),r=t.find("textarea"),a=t.find(".eruda-buttons");Object.assign(this,{_$control:e.find(".eruda-control"),_$logs:e.find(".eruda-logs-container"),_$inputContainer:t,_$input:r,_$inputBtns:a,_$searchKeyword:e.find(".eruda-search-keyword")})}},{key:"_initLogger",value:function(){var e=this._$control.find(".eruda-filter");(this._logger=new xe(this._$logs)).on("filter",(function(t){return e.each((function(){var e=Object(m.a)(this),n=e.data("filter")===t;e[n?"addClass":"rmClass"]("eruda-active")}))}))}},{key:"_exposeLogger",value:function(){var e=this,t=this._logger;["filter","html"].concat(we).forEach((function(n){return e[n]=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t[n].apply(t,a),e.emit.apply(e,[n].concat(a)),e}}))}},{key:"_bindEvent",value:function(){var e=this,t=this._container,n=this._$input,r=this._$inputBtns,a=this._$control,i=this._$searchKeyword,o=this._logger,s=this.config;a.on("click",".eruda-clear-console",(function(){return o.silentClear()})).on("click",".eruda-filter",(function(){i.text(""),o.filter(Object(m.a)(this).data("filter"))})).on("click",".eruda-search",(function(){var t=prompt("Filter");Object(m.S)(t)||(i.text(t),""!==Object(m.Ab)(t)?e._logger.filter(new RegExp(Object(m.y)(Object(m.eb)(t)))):o.filter("all"))})),r.on("click",".eruda-cancel",(function(){return e._hideInput()})).on("click",".eruda-execute",(function(){var t=n.val().trim();""!==t&&(o.input(t),n.val("").get(0).blur(),e._hideInput())})),n.on("focusin",(function(){return e._showInput()})),o.on("insert",(function(e){"error"===e.type&&s.get("displayIfErr")&&t.showTool("console").show()})),t.on("show",this._handleShow)}},{key:"_hideInput",value:function(){this._$inputContainer.rmClass("eruda-active"),this._$inputBtns.hide()}},{key:"_showInput",value:function(){this._$inputContainer.addClass("eruda-active"),this._$inputBtns.show()}},{key:"_rmCfg",value:function(){var e=this.config,t=this._container.get("settings");t&&t.remove(e,"asyncRender").remove(e,"jsExecution").remove(e,"catchGlobalErr").remove(e,"overrideConsole").remove(e,"displayExtraInfo").remove(e,"displayUnenumerable").remove(e,"displayGetterVal").remove(e,"lazyEvaluation").remove(e,"displayIfErr").remove(e,"maxLogNum").remove(Object(m.Eb)(this.name))}},{key:"_initCfg",value:function(){var e=this,t=this._container,n=this._logger,r=this.config=L.createCfg(this.name,{asyncRender:!0,catchGlobalErr:!0,jsExecution:!0,overrideConsole:!0,displayExtraInfo:!1,displayUnenumerable:!0,displayGetterVal:!1,lazyEvaluation:!0,displayIfErr:!1,maxLogNum:"infinite"}),a=r.get("maxLogNum");a="infinite"===a?a:+a,this._enableJsExecution(r.get("jsExecution")),r.get("asyncRender")&&n.renderAsync(!0),r.get("catchGlobalErr")&&this.catchGlobalErr(),r.get("overrideConsole")&&this.overrideConsole(),n.displayHeader(r.get("displayExtraInfo")),n.displayUnenumerable(r.get("displayUnenumerable")),n.displayGetterVal(r.get("displayGetterVal")),n.lazyEvaluation(r.get("lazyEvaluation")),n.maxNum(a),r.on("change",(function(t,r){switch(t){case"asyncRender":return n.renderAsync(r);case"jsExecution":return e._enableJsExecution(r);case"catchGlobalErr":return r?e.catchGlobalErr():e.ignoreGlobalErr();case"overrideConsole":return r?e.overrideConsole():e.restoreConsole();case"maxLogNum":return n.maxNum("infinite"===r?r:+r);case"displayExtraInfo":return n.displayHeader(r);case"displayUnenumerable":return n.displayUnenumerable(r);case"displayGetterVal":return n.displayGetterVal(r);case"lazyEvaluation":return n.lazyEvaluation(r)}}));var i=t.get("settings");i&&i.text(Object(m.Eb)(this.name)).switch(r,"asyncRender","Asynchronous Rendering").switch(r,"jsExecution","Enable JavaScript Execution").switch(r,"catchGlobalErr","Catch Global Errors").switch(r,"overrideConsole","Override Console").switch(r,"displayIfErr","Auto Display If Error Occurs").switch(r,"displayExtraInfo","Display Extra Information").switch(r,"displayUnenumerable","Display Unenumerable Properties").switch(r,"displayGetterVal","Access Getter Value").switch(r,"lazyEvaluation","Lazy Evaluation").select(r,"maxLogNum","Max Log Number",["infinite","250","125","100","50","10"]).separator()}}]),t}(_),we=["log","error","info","warn","dir","time","timeLog","timeEnd","clear","table","assert","count","countReset","debug","group","groupCollapsed","groupEnd"],Oe=n(29),je=n.n(Oe);function Se(e){if(!e)return"unknown";var t=e.split(";")[0].split("/");return{type:t[0],subType:Object(m.bb)(t)}}function Ce(e){var t=encodeURIComponent(e).match(/%[89ABab]/g);return e.length+(t?t.length:0)}var Te=function(e){function t(e,n,r){var i;return a()(this,t),(i=u()(this,l()(t).call(this)))._xhr=e,i._reqHeaders={},i._method=n,i._url=Object(m.C)(r),i._id=Object(m.Cb)("request"),i}return p()(t,e),o()(t,[{key:"handleSend",value:function(e){Object(m.X)(e)||(e=""),e={name:Object(m.D)(this._url),url:this._url,data:e,method:this._method},Object(m.L)(this._reqHeaders)||(e.reqHeaders=this._reqHeaders),this.emit("send",this._id,e)}},{key:"handleReqHeadersSet",value:function(e,t){e&&t&&(this._reqHeaders[e]=t)}},{key:"handleHeadersReceived",value:function(){var e=this._xhr,t=Se(e.getResponseHeader("Content-Type"));this.emit("update",this._id,{type:t.type,subType:t.subType,size:Ee(e,!0,this._url),time:Object(m.jb)(),resHeaders:Ne(e)})}},{key:"handleDone",value:function(){var e,t,n,r=this,a=this._xhr,i=a.responseType,o="",s=function(){r.emit("update",r._id,{status:a.status,done:!0,size:Ee(a,!1,r._url),time:Object(m.jb)(),resTxt:o})},u=Se(a.getResponseHeader("Content-Type"));"blob"!==i||"text"!==u.type&&"javascript"!==u.subType&&"json"!==u.subType?(""!==i&&"text"!==i||(o=a.responseText),"json"===i&&(o=JSON.stringify(a.response)),s()):(e=a.response,t=function(e,t){t&&(o=t),s()},(n=new FileReader).onload=function(){t(0,n.result)},n.onerror=function(e){t()},n.readAsText(e))}}]),t}(m.c);function Ne(e){var t=e.getAllResponseHeaders().split("\n"),n={};return Object(m.u)(t,(function(e){if(""!==(e=Object(m.Ab)(e))){var t=e.split(":",2),r=K()(t,2),a=r[0],i=r[1];n[a]=Object(m.Ab)(i)}})),n}function Ee(e,t,n){var r=0;function a(){if(!t){var n=e.responseType,a="";""!==n&&"text"!==n||(a=e.responseText),a&&(r=Ce(a))}}if(Object(m.I)(n))a();else try{r=Object(m.yb)(e.getResponseHeader("Content-Length"))}catch(e){a()}return 0===r&&a(),"".concat(Object(m.A)(r),"B")}var Ie=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a()(this,t),n=u()(this,l()(t).call(this)),e instanceof window.Request&&(e=e.url),n._url=Object(m.C)(e),n._id=Object(m.Cb)("request"),n._options=r,n._reqHeaders=r.headers||{},n._method=r.method||"GET",n}return p()(t,e),o()(t,[{key:"send",value:function(e){var t=this,n=this._options,r=Object(m.X)(n.body)?n.body:"";this._fetch=e,this.emit("send",this._id,{name:Object(m.D)(this._url),url:this._url,data:r,method:this._method}),e.then((function(e){var n=Se((e=e.clone()).headers.get("Content-Type"));return e.text().then((function(r){var a={type:n.type,subType:n.subType,time:Object(m.jb)(),size:Ae(e,r),resTxt:r,resHeaders:Re(e),status:e.status,done:!0};Object(m.L)(t._reqHeaders)||(a.reqHeaders=t._reqHeaders),t.emit("update",t._id,a)})),e}))}}]),t}(m.c);function Ae(e,t){var n,r=e.headers.get("Content-length");return n=r?Object(m.yb)(r):Ce(t),"".concat(Object(m.A)(n),"B")}function Re(e){var t={};return e.headers.forEach((function(e,n){return t[n]=e})),t}var De=function(e){function t(){var e;return a()(this,t),(e=u()(this,l()(t).call(this)))._style=F(n(72)),e.name="network",e._requests={},e._tpl=n(73),e._detailTpl=n(74),e._requestsTpl=n(75),e._datailData={},e._isFetchSupported=!1,window.fetch&&(e._isFetchSupported=Object(m.R)(window.fetch)),e}return p()(t,e),o()(t,[{key:"init",value:function(e,n){y()(l()(t.prototype),"init",this).call(this,e),this._container=n,this._bindEvent(),this._initCfg(),this.overrideXhr(),this._appendTpl()}},{key:"show",value:function(){y()(l()(t.prototype),"show",this).call(this),this._render()}},{key:"clear",value:function(){this._requests={},this._render()}},{key:"overrideXhr",value:function(){var e=window.XMLHttpRequest.prototype,t=this._origSend=e.send,n=this._origOpen=e.open,r=this._origSetRequestHeader=e.setRequestHeader,a=this;e.open=function(e,t){var r=this,i=r.erudaRequest=new Te(r,e,t);i.on("send",(function(e,t){return a._addReq(e,t)})),i.on("update",(function(e,t){return a._updateReq(e,t)})),r.addEventListener("readystatechange",(function(){switch(r.readyState){case 2:return i.handleHeadersReceived();case 4:return i.handleDone()}})),n.apply(this,arguments)},e.send=function(e){var n=this.erudaRequest;n&&n.handleSend(e),t.apply(this,arguments)},e.setRequestHeader=function(e,t){var n=this.erudaRequest;n&&n.handleReqHeadersSet(e,t),r.apply(this,arguments)}}},{key:"restoreXhr",value:function(){var e=window.XMLHttpRequest.prototype;this._origOpen&&(e.open=this._origOpen),this._origSend&&(e.send=this._origSend),this._origSetRequestHeader&&(e.setRequestHeader=this._origSetRequestHeader)}},{key:"overrideFetch",value:function(){if(this._isFetchSupported){var e=this._origFetch=window.fetch,t=this;window.fetch=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=je()(Ie,r);i.on("send",(function(e,n){return t._addReq(e,n)})),i.on("update",(function(e,n){return t._updateReq(e,n)}));var o=e.apply(void 0,r);return i.send(o),o}}}},{key:"restoreFetch",value:function(){this._isFetchSupported&&this._origFetch&&(window.fetch=this._origFetch)}},{key:"requests",value:function(){var e=[];return Object(m.u)(this._requests,(function(t){e.push(t)})),e}},{key:"_addReq",value:function(e,t){Object(m.r)(t,{name:"",url:"",status:"pending",type:"unknown",subType:"unknown",size:0,data:"",method:"GET",startTime:Object(m.jb)(),time:0,resTxt:"",done:!1}),this._requests[e]=t,this._render()}},{key:"_updateReq",value:function(e,t){var n=this._requests[e];n&&(Object(m.z)(n,t),n.time=n.time-n.startTime,n.displayTime=Object(m.gb)(n.time),n.done&&(n.status<200||n>=300)&&(n.hasErr=!0),this._render())}},{key:"_bindEvent",value:function(){var e=this,t=this._$el,n=this._container,r=this;function a(e,t){var r=n.get("sources");r&&(r.set(e,t),n.showTool("sources"))}t.on("click",".eruda-request",(function(){var e=Object(m.a)(this).data("id"),t=r._requests[e];t.done&&r._showDetail(t)})).on("click",".eruda-clear-request",(function(){return e.clear()})).on("click",".eruda-back",(function(){return e._hideDetail()})).on("click",".eruda-http .eruda-response",(function(){var t=e._detailData,n=t.resTxt;switch(t.subType){case"css":return a("css",n);case"html":return a("html",n);case"javascript":return a("js",n);case"json":return a("object",n)}switch(t.type){case"image":return a("img",t.url)}}))}},{key:"destroy",value:function(){y()(l()(t.prototype),"destroy",this).call(this),F.remove(this._style),this.restoreXhr(),this.restoreFetch(),this._rmCfg()}},{key:"_showDetail",value:function(e){e.resTxt&&""===Object(m.Ab)(e.resTxt)&&delete e.resTxt,Object(m.L)(e.resHeaders)&&delete e.resHeaders,this._$detail.html(this._detailTpl(e)).show(),this._detailData=e}},{key:"_hideDetail",value:function(){this._$detail.hide()}},{key:"_rmCfg",value:function(){var e=this.config,t=this._container.get("settings");t&&t.remove(e,"overrideFetch").remove("Network")}},{key:"_appendTpl",value:function(){var e=this._$el;e.html(this._tpl()),this._$detail=e.find(".eruda-detail"),this._$requests=e.find(".eruda-requests")}},{key:"_initCfg",value:function(){var e=this,t=this.config=L.createCfg("network",{overrideFetch:!0});t.get("overrideFetch")&&this.overrideFetch(),t.on("change",(function(t,n){switch(t){case"overrideFetch":return n?e.overrideFetch():e.restoreFetch()}})),this._container.get("settings").text("Network").switch(t,"overrideFetch","Catch Fetch Requests").separator()}},{key:"_render",value:function(){if(this.active){var e={};Object(m.L)(this._requests)||(e.requests=this._requests),this._renderHtml(this._requestsTpl(e))}}},{key:"_renderHtml",value:function(e){e!==this._lastHtml&&(this._lastHtml=e,this._$requests.html(e))}}]),t}(_);function Me(e){for(var t={},n=0,r=e.length;n<r;n++){var a=e[n];"initial"!==e[a]&&(t[a]=e[a])}return function(e){return Object(m.sb)(e,{comparator:function(e,t){for(var n=e.length,r=t.length,a=n>r?r:n,i=0;i<a;i++){var o=ze(e.charCodeAt(i),t.charCodeAt(i));if(0!==o)return o}return n>r?1:n<r?-1:0}})}(t)}var Fe=Element.prototype,Le=function(){return!1};Fe.webkitMatchesSelector?Le=function(e,t){return e.webkitMatchesSelector(t)}:Fe.mozMatchesSelector&&(Le=function(e,t){return e.mozMatchesSelector(t)});var Pe=function(){function e(t){a()(this,e),this._el=t}return o()(e,[{key:"getComputedStyle",value:function(){return Me(window.getComputedStyle(this._el))}},{key:"getMatchedCSSRules",value:function(){var e=this,t=[];return Object(m.u)(document.styleSheets,(function(n){try{if(!n.cssRules)return}catch(e){return}Object(m.u)(n.cssRules,(function(n){var r=!1;try{r=e._elMatchesSel(n.selectorText)}catch(e){}r&&t.push({selectorText:n.selectorText,style:Me(n.style)})}))})),t}},{key:"_elMatchesSel",value:function(e){return Le(this._el,e)}}]),e}();function ze(e,t){return(e=Be(e))>(t=Be(t))?1:e<t?-1:0}function Be(e){return 45===e?123:e}var Ve=function(){function e(t){a()(this,e),this._style=F(n(76)),this._isShow=!1,this._appendTpl(t),this._bindEvent()}return o()(e,[{key:"setEl",value:function(e){this._$target=Object(m.a)(e),this._target=e}},{key:"show",value:function(){this._isShow=!0,this.render(),this._$el.show()}},{key:"destroy",value:function(){F.remove(this._style)}},{key:"hide",value:function(){this._isShow=!1,this._$el.hide()}},{key:"render",value:function(){var e=this._$target.offset(),t=e.left,n=e.width,r=e.top,a=e.height;this._$el.css({left:t,top:r-window.scrollY,width:n,height:a});var i=getComputedStyle(this._target,"");if("none"===i.display)return this._$el.css("visibility","hidden");this._$el.css("visibility","visible");var o=function(e){return Object(m.nb)(i.getPropertyValue(e))},s=o("margin-left"),u=o("margin-right"),c=o("margin-top"),l=o("margin-bottom");this._$margin.css({left:-s,top:-c,width:n+s+u,height:a+c+l});var d=o("border-left-width"),p=o("border-right-width"),f=o("border-top-width"),h=n-d-p,v=a-f-o("border-bottom-width");this._$padding.css({left:d,top:f,width:h,height:v});var b=o("padding-left"),g=o("padding-right"),y=o("padding-top"),_=o("padding-bottom");this._$content.css({left:d+b,top:d+y,width:h-b-g,height:v-y-_}),this._$size.css({top:-c-(r-c<25?0:25),left:-s}).html("".concat(function(e){var t=e.id,n=e.className,r='<span style="color:#881280;">'.concat(e.tagName.toLowerCase(),"</span>");""!==t&&(r+='<span style="color:1a1aa8;">#'.concat(t,"</span>"));var a="";return Object(m.X)(n)&&Object(m.u)(n.split(/\s+/g),(function(e){""!==Object(m.Ab)(e)&&(a+=".".concat(e))})),r+'<span style="color:1a1aa8;">'.concat(a,"</span>")}(this._target)," | ").concat(n," \xd7 ").concat(a))}},{key:"_bindEvent",value:function(){var e=this;window.addEventListener("scroll",(function(){e._isShow&&e.render()}),!1)}},{key:"_appendTpl",value:function(e){e.append(n(77)());var t=this._$el=e.find(".eruda-elements-highlight");this._$margin=t.find(".eruda-margin"),this._$padding=t.find(".eruda-padding"),this._$content=t.find(".eruda-content"),this._$size=t.find(".eruda-size")}}]),e}();function Ue(e){var t=e.parentNode;if(!t)return!1;for(;t;)if((t=t.parentNode)&&"eruda"===t.id)return!0;return!1}var We=function(e){function t(){var e;a()(this,t),e=u()(this,l()(t).call(this));var n=H()(e);return e._startListener=function(e){if(!Ue(e.target))return n._timer=setTimeout((function(){n.emit("select",e.target)}),200),!1},e._moveListener=function(){clearTimeout(n._timer)},e._clickListener=function(e){Ue(e.target)||(e.preventDefault(),e.stopImmediatePropagation())},e}return p()(t,e),o()(t,[{key:"enable",value:function(){function e(e,t){document.body.addEventListener(e,t,!0)}return this.disable(),Object(m.P)()?(e("touchstart",this._startListener),e("touchmove",this._moveListener)):(e("mousedown",this._startListener),e("mousemove",this._moveListener)),e("click",this._clickListener),this}},{key:"disable",value:function(){function e(e,t){document.body.removeEventListener(e,t,!0)}return Object(m.P)()?(e("touchstart",this._startListener),e("touchmove",this._moveListener)):(e("mousedown",this._startListener),e("mousemove",this._moveListener)),e("click",this._clickListener),this}}]),t}(m.c),He=function(e){function t(){var e;return a()(this,t),(e=u()(this,l()(t).call(this)))._style=F(n(78)),e.name="elements",e._tpl=n(79),e._rmDefComputedStyle=!0,e._highlightElement=!1,e._selectElement=!1,e._observeElement=!0,e._computedStyleSearchKeyword="",e._history=[],m.c.mixin(H()(e)),e}return p()(t,e),o()(t,[{key:"init",value:function(e,r){var a=this;y()(l()(t.prototype),"init",this).call(this,e),this._container=r,e.html('<div class="eruda-show-area"></div>'),this._$showArea=e.find(".eruda-show-area"),e.append(n(80)()),this._htmlEl=document.documentElement,this._highlight=new Ve(this._container.$container),this._select=new We,this._bindEvent(),this._initObserver(),this._initCfg(),Object(m.hb)((function(){return a._updateHistory()}))}},{key:"show",value:function(){y()(l()(t.prototype),"show",this).call(this),this._observeElement&&this._enableObserver(),this._curEl||this._setEl(this._htmlEl),this._render()}},{key:"hide",value:function(){return this._disableObserver(),y()(l()(t.prototype),"hide",this).call(this)}},{key:"set",value:function(e){if(e!==this._curEl)return this._setEl(e),this.scrollToTop(),this._render(),this._updateHistory(),this.emit("change",e),this}},{key:"overrideEventTarget",value:function(){var e=nt(),t=this._origAddEvent=e.addEventListener,n=this._origRmEvent=e.removeEventListener;e.addEventListener=function(e,n,r){et(this,e,n,r),t.apply(this,arguments)},e.removeEventListener=function(e,t,r){tt(this,e,t,r),n.apply(this,arguments)}}},{key:"scrollToTop",value:function(){this._$showArea.get(0).scrollTop=0}},{key:"restoreEventTarget",value:function(){var e=nt();this._origAddEvent&&(e.addEventListener=this._origAddEvent),this._origRmEvent&&(e.removeEventListener=this._origRmEvent)}},{key:"destroy",value:function(){y()(l()(t.prototype),"destroy",this).call(this),F.remove(this._style),this._select.disable(),this._highlight.destroy(),this._disableObserver(),this.restoreEventTarget(),this._rmCfg()}},{key:"_back",value:function(){if(this._curEl!==this._htmlEl){for(var e=this._curParentQueue,t=e.shift();!Xe(t);)t=e.shift();this.set(t)}}},{key:"_bindEvent",value:function(){var e=this,t=this,n=this._container,r=this._select;this._$el.on("click",".eruda-child",(function(){var e=Object(m.a)(this).data("idx"),r=t._curEl,a=r.childNodes[e];if(a&&3===a.nodeType){var i;switch(r.tagName){case"SCRIPT":i="js";break;case"STYLE":i="css";break;default:return}var o=n.get("sources");o&&(o.set(i,a.nodeValue),n.showTool("sources"))}else Xe(a)?t.set(a):t._render()})).on("click",".eruda-listener-content",(function(){var e=Object(m.a)(this).text(),t=n.get("sources");t&&(t.set("js",e),n.showTool("sources"))})).on("click",".eruda-breadcrumb",(function(){var t=n.get("sources");t&&(t.set("object",e._curEl),n.showTool("sources"))})).on("click",".eruda-parent",(function(){for(var e=Object(m.a)(this).data("idx"),n=t._curEl.parentNode;e--&&n.parentNode;)n=n.parentNode;Xe(n)?t.set(n):t._render()})).on("click",".eruda-toggle-all-computed-style",(function(){return e._toggleAllComputedStyle()})).on("click",".eruda-computed-style-search",(function(){var t=prompt("Filter");Object(m.S)(t)||(t=Object(m.Ab)(t),e._computedStyleSearchKeyword=t,e._render())})),this._$el.find(".eruda-bottom-bar").on("click",".eruda-refresh",(function(){return e._render()})).on("click",".eruda-highlight",(function(){return e._toggleHighlight()})).on("click",".eruda-select",(function(){return e._toggleSelect()})).on("click",".eruda-reset",(function(){return e.set(e._htmlEl)})),r.on("select",(function(t){return e.set(t)}))}},{key:"_toggleAllComputedStyle",value:function(){this._rmDefComputedStyle=!this._rmDefComputedStyle,this._render()}},{key:"_enableObserver",value:function(){this._observer.observe(this._htmlEl,{attributes:!0,childList:!0,subtree:!0})}},{key:"_disableObserver",value:function(){this._observer.disconnect()}},{key:"_toggleHighlight",value:function(){this._selectElement||(this._$el.find(".eruda-highlight").toggleClass("eruda-active"),this._highlightElement=!this._highlightElement,this._render())}},{key:"_toggleSelect",value:function(){var e=this._select;this._$el.find(".eruda-select").toggleClass("eruda-active"),this._selectElement||this._highlightElement||this._toggleHighlight(),this._selectElement=!this._selectElement,this._selectElement?(e.enable(),this._container.hide()):e.disable()}},{key:"_setEl",value:function(e){this._curEl=e,this._curCssStore=new Pe(e),this._highlight.setEl(e),this._rmDefComputedStyle=!0;for(var t=[],n=e.parentNode;n;)t.push(n),n=n.parentNode;this._curParentQueue=t}},{key:"_getData",value:function(){var e={},t=this._curEl,n=this._curCssStore,r=t.className,a=t.id,i=t.attributes,o=t.tagName;e.computedStyleSearchKeyword=this._computedStyleSearchKeyword,e.parents=function(e){for(var t=[],n=0,r=e.parentNode;r&&1===r.nodeType;)t.push({text:Ye(r,{noAttr:!0}),idx:n++}),r=r.parentNode;return t.reverse()}(t),e.children=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var a=e[n],i=a.nodeType;if(3!==i&&8!==i){var o=!Object(m.X)(a.className);1===i&&"eruda"!==a.id&&(o||a.className.indexOf("eruda")<0)&&t.push({text:Ye(a),isEl:!0,idx:n})}else{var s=a.nodeValue.trim();""!==s&&t.push({text:s,isCmt:8===i,idx:n})}}return t}(t.childNodes),e.attributes=Ze(i),e.name=Ye({tagName:o,id:a,className:r,attributes:i});var s=t.erudaEvents;if(s&&0!==Object(m.ab)(s).length&&(e.listeners=s),Je(o))return e;var u=n.getComputedStyle();function c(e){var t=["top","left","right","bottom"];return"position"!==e&&(t=Object(m.fb)(t,(function(t){return"".concat(e,"-").concat(t)}))),"border"===e&&(t=Object(m.fb)(t,(function(e){return"".concat(e,"-width")}))),{top:at(u[t[0]],e),left:at(u[t[1]],e),right:at(u[t[2]],e),bottom:at(u[t[3]],e)}}var l={margin:c("margin"),border:c("border"),padding:c("padding"),content:{width:at(u.width),height:at(u.height)}};"static"!==u.position&&(l.position=c("position")),e.boxModel=l;var d=n.getMatchedCSSRules();d.unshift(function(e){for(var t={selectorText:"element.style",style:{}},n=0,r=e.length;n<r;n++){var a=e[n];t.style[a]=e[a]}return t}(t.style)),d.forEach((function(e){return Ge(e.style)})),e.styles=d,this._rmDefComputedStyle&&(u=function(e,t){var n={},r=["display","width","height"];return Object(m.u)(t,(function(e){r=r.concat(Object(m.ab)(e.style))})),r=Object(m.Db)(r),Object(m.u)(e,(function(e,t){Object(m.m)(r,t)&&(n[t]=e)})),n}(u,d)),e.rmDefComputedStyle=this._rmDefComputedStyle;var p=Object(m.eb)(e.computedStyleSearchKeyword);return p&&(u=Object(m.mb)(u,(function(e,t){return Object(m.m)(t,p)||Object(m.m)(e,p)}))),Ge(u),e.computedStyle=u,e}},{key:"_render",value:function(){if(!Xe(this._curEl))return this._back();this._highlight[this._highlightElement?"show":"hide"](),this._renderHtml(this._tpl(this._getData()))}},{key:"_renderHtml",value:function(e){e!==this._lastHtml&&(this._lastHtml=e,this._$showArea.html(e))}},{key:"_updateHistory",value:function(){var e=this._container.get("console");if(e){var t=this._history;t.unshift(this._curEl),t.length>5&&t.pop();for(var n=0;n<5;n++)e.setGlobal("$".concat(n),t[n])}}},{key:"_initObserver",value:function(){var e=this;this._observer=new m.f((function(t){Object(m.u)(t,(function(t){return e._handleMutation(t)}))}))}},{key:"_handleMutation",value:function(e){var t,n;if(!Ue(e.target))if("attributes"===e.type){if(e.target!==this._curEl)return;this._render()}else if("childList"===e.type){if(e.target===this._curEl)return this._render();var r=e.addedNodes;for(t=0,n=r.length;t<n;t++)if(r[t].parentNode===this._curEl)return this._render();var a=e.removedNodes;for(t=0,n=a.length;t<n;t++)if(a[t]===this._curEl)return this.set(this._htmlEl)}}},{key:"_rmCfg",value:function(){var e=this.config,t=this._container.get("settings");t&&t.remove(e,"overrideEventTarget").remove(e,"observeElement").remove("Elements")}},{key:"_initCfg",value:function(){var e=this,t=this.config=L.createCfg("elements",{overrideEventTarget:!0,observeElement:!0});t.get("overrideEventTarget")&&this.overrideEventTarget(),t.get("observeElement")&&(this._observeElement=!1),t.on("change",(function(t,n){switch(t){case"overrideEventTarget":return n?e.overrideEventTarget():e.restoreEventTarget();case"observeElement":return e._observeElement=n,n?e._enableObserver():e._disableObserver()}}));var n=this._container.get("settings");n&&(n.text("Elements").switch(t,"overrideEventTarget","Catch Event Listeners"),this._observer&&n.switch(t,"observeElement","Auto Refresh"),n.separator())}}]),t}(_);function Ge(e){Object(m.u)(e,(function(t,n){return e[n]=Ke(t)}))}var $e=/rgba?\((.*?)\)/g,qe=/url\("?(.*?)"?\)/g;function Ke(e){return(e=Object(m.zb)(e)).replace($e,'<span class="eruda-style-color" style="background-color: $&"></span>$&').replace(qe,(function(e,t){return'url("'.concat(rt(t),'")')}))}var Xe=function(e){return Object(m.K)(e)&&e.parentNode};function Ye(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).noAttr,n=void 0!==t&&t,r=e.id,a=e.className,i=e.attributes,o='<span class="eruda-tag-name-color">'.concat(e.tagName.toLowerCase(),"</span>");if(""!==r&&(o+='<span class="eruda-function-color">#'.concat(r,"</span>")),Object(m.X)(a)){var s="";Object(m.u)(a.split(/\s+/g),(function(e){""!==e.trim()&&(s+=".".concat(e))})),o+='<span class="eruda-attribute-name-color">'.concat(s,"</span>")}return n||Object(m.u)(i,(function(e){var t=e.name;"id"!==t&&"class"!==t&&"style"!==t&&(o+=' <span class="eruda-attribute-name-color">'.concat(t,'</span><span class="eruda-operator-color">="</span><span class="eruda-string-color">').concat(e.value,'</span><span class="eruda-operator-color">"</span>'))})),o}var Ze=function(e){return Object(m.fb)(e,(function(e){var t=e.value,n=e.name;return t=Object(m.w)(t),("src"===n||"href"===n)&&!Object(m.tb)(t,"data")&&(t=rt(t)),"style"===n&&(t=Ke(t)),{name:n,value:t}}))},Qe=["script","style","meta","title","link","head"],Je=function(e){return Qe.indexOf(e.toLowerCase())>-1};function et(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Object(m.K)(e)&&Object(m.N)(n)&&Object(m.H)(r)){var a=e.erudaEvents=e.erudaEvents||{};a[t]=a[t]||[],a[t].push({listener:n,listenerStr:n.toString(),useCapture:r})}}function tt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Object(m.K)(e)&&Object(m.N)(n)&&Object(m.H)(r)){var a=e.erudaEvents;if(a&&a[t]){for(var i=a[t],o=0,s=i.length;o<s;o++)if(i[o].listener===n){i.splice(o,1);break}0===i.length&&delete a[t],0===Object(m.ab)(a).length&&delete e.erudaEvents}}}var nt=function(){return Object(m.qb)(window,"EventTarget.prototype")||window.Node.prototype},rt=function(e){return'<a href="'.concat(e,'" target="_blank">').concat(e,"</a>")};function at(e,t){if(Object(m.T)(e))return e;if(!Object(m.X)(e))return"\u2012";var n=Object(m.nb)(e);return Object(m.Q)(n)?e:"position"===t?n:0===n?"\u2012":n}var it=null,ot=[{name:"Border All",fn:function(){if(it)return F.remove(it),void(it=null);it=F("* { outline: 2px dashed #707d8b; outline-offset: -3px; }",document.head)},desc:"Add color borders to all elements"},{name:"Refresh Page",fn:function(){var e=new m.h;e.setQuery("timestamp",Object(m.jb)()),window.location.replace(e.toString())},desc:"Add timestamp to url and refresh"},{name:"Search Text",fn:function(){var e,t,n,r=prompt("Enter the text")||"";""!==Object(m.Ab)(r)&&(e=r,t=document.body,n=new RegExp(e,"ig"),st(t,(function(e){var t=Object(m.a)(e);if(t.hasClass("eruda-search-highlight-block"))return document.createTextNode(t.text())})),st(t,(function(e){if(3===e.nodeType){var t=e.nodeValue;if((t=t.replace(n,(function(e){return'<span class="eruda-keyword">'.concat(e,"</span>")})))!==e.nodeValue){var r=Object(m.a)(document.createElement("div"));return r.html(t),r.addClass("eruda-search-highlight-block"),r.get(0)}}})))},desc:"Highlight given text on page"},{name:"Edit Page",fn:function(){var e=document.body;e.contentEditable="true"!==e.contentEditable},desc:"Toggle body contentEditable"},{name:"Fit Screen",fn:function(){var e=document.body,t=document.documentElement,n=Object(m.a)(e);if(n.data("scaled"))window.scrollTo(0,+n.data("scaled")),n.rmAttr("data-scaled"),n.css("transform","none");else{var r=Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight),a=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=a/r;n.css("transform","scale(".concat(i,")")),n.data("scaled",window.scrollY),window.scrollTo(0,r/2-a/2)}},desc:"Scale down the whole page to fit screen"},{name:"Load Fps Plugin",fn:function(){ut("fps")},desc:"Display page fps"},{name:"Load Features Plugin",fn:function(){ut("features")},desc:"Browser feature detections"},{name:"Load Timing Plugin",fn:function(){ut("timing")},desc:"Show performance and resource timing"},{name:"Load Memory Plugin",fn:function(){ut("memory")},desc:"Display memory"},{name:"Load Code Plugin",fn:function(){ut("code")},desc:"Edit and run JavaScript"},{name:"Load Benchmark Plugin",fn:function(){ut("benchmark")},desc:"Run JavaScript benchmarks"},{name:"Load Geolocation Plugin",fn:function(){ut("geolocation")},desc:"Test geolocation"},{name:"Load Dom Plugin",fn:function(){ut("dom")},desc:"Navigate dom tree"},{name:"Load Orientation Plugin",fn:function(){ut("orientation")},desc:"Test orientation api"},{name:"Load Touches Plugin",fn:function(){ut("touches")},desc:"Visualize screen touches"},{name:"Restore Settings",fn:function(){var e=Object(m.rb)("local"),t=JSON.parse(JSON.stringify(e));Object(m.u)(t,(function(t,n){Object(m.X)(t)&&Object(m.tb)(n,"eruda")&&e.removeItem(n)})),window.location.reload()},desc:"Restore defaults and reload"}];function st(e,t){var n=e.childNodes;if(!Ue(e)){for(var r=0,a=n.length;r<a;r++){var i=st(n[r],t);i&&e.replaceChild(i,n[r])}return t(e)}}function ut(e){var t="eruda"+Object(m.Eb)(e);if(!window[t]){var n=location.protocol;Object(m.tb)(n,"http")||(n="http:"),Object(m.db)("".concat(n,"//cdn.jsdelivr.net/npm/eruda-").concat(e,"@").concat(ct[e]),(function(n){if(!n||!window[t])return V.error("Fail to load plugin "+e);b.emit(b.ADD,window[t]),b.emit(b.SHOW,e)}))}}F(n(81),document.head);var ct={fps:"2.0.0",features:"2.0.0",timing:"2.0.0",memory:"2.0.0",code:"2.0.0",benchmark:"2.0.0",geolocation:"2.0.0",dom:"2.0.0",orientation:"2.0.0",touches:"2.0.0"},lt=function(e){function t(){var e;return a()(this,t),(e=u()(this,l()(t).call(this)))._style=F(n(82)),e.name="snippets",e._snippets=[],e._tpl=n(83),e}return p()(t,e),o()(t,[{key:"init",value:function(e){y()(l()(t.prototype),"init",this).call(this,e),this._bindEvent(),this._addDefSnippets()}},{key:"destroy",value:function(){y()(l()(t.prototype),"destroy",this).call(this),F.remove(this._style)}},{key:"add",value:function(e,t,n){return this._snippets.push({name:e,fn:t,desc:n}),this._render(),this}},{key:"remove",value:function(e){for(var t=this._snippets,n=0,r=t.length;n<r;n++)t[n].name===e&&t.splice(n,1);return this._render(),this}},{key:"run",value:function(e){for(var t=this._snippets,n=0,r=t.length;n<r;n++)t[n].name===e&&this._run(n);return this}},{key:"clear",value:function(){return this._snippets=[],this._render(),this}},{key:"_bindEvent",value:function(){var e=this;this._$el.on("click",".eruda-run",(function(){var t=Object(m.a)(this).data("idx");e._run(t)}))}},{key:"_run",value:function(e){this._snippets[e].fn.call(null)}},{key:"_addDefSnippets",value:function(){var e=this;Object(m.u)(ot,(function(t){e.add(t.name,t.fn,t.desc)}))}},{key:"_render",value:function(){this._renderHtml(this._tpl({snippets:this._snippets}))}},{key:"_renderHtml",value:function(e){e!==this._lastHtml&&(this._lastHtml=e,this._$el.html(e))}}]),t}(_),dt=function(e){function t(){var e;return a()(this,t),(e=u()(this,l()(t).call(this)))._style=F(n(84)),e.name="resources",e._localStoreData=[],e._localStoreSearchKeyword="",e._hideErudaSetting=!1,e._sessionStoreData=[],e._sessionStoreSearchKeyword="",e._cookieData=[],e._cookieSearchKeyword="",e._scriptData=[],e._stylesheetData=[],e._iframeData=[],e._imageData=[],e._observeElement=!0,e._tpl=n(85),e}return p()(t,e),o()(t,[{key:"init",value:function(e,n){y()(l()(t.prototype),"init",this).call(this,e),this._container=n,this.refresh(),this._bindEvent(),this._initObserver(),this._initCfg()}},{key:"refresh",value:function(){return this.refreshLocalStorage().refreshSessionStorage().refreshCookie().refreshScript().refreshStylesheet().refreshIframe().refreshImage()._render()}},{key:"destroy",value:function(){y()(l()(t.prototype),"destroy",this).call(this),this._disableObserver(),F.remove(this._style),this._rmCfg()}},{key:"refreshScript",value:function(){var e=[];return Object(m.a)("script").each((function(){var t=this.src;""!==t&&e.push(t)})),e=Object(m.Db)(e),this._scriptData=e,this}},{key:"refreshStylesheet",value:function(){var e=[];return Object(m.a)("link").each((function(){"stylesheet"===this.rel&&e.push(this.href)})),e=Object(m.Db)(e),this._stylesheetData=e,this}},{key:"refreshIframe",value:function(){var e=[];return Object(m.a)("iframe").each((function(){var t=Object(m.a)(this).attr("src");t&&e.push(t)})),e=Object(m.Db)(e),this._iframeData=e,this}},{key:"refreshLocalStorage",value:function(){return this._refreshStorage("local"),this}},{key:"refreshSessionStorage",value:function(){return this._refreshStorage("session"),this}},{key:"_refreshStorage",value:function(e){var t=this,n=Object(m.rb)(e,!1);if(n){var r=[];n=JSON.parse(JSON.stringify(n)),Object(m.u)(n,(function(e,n){Object(m.X)(e)&&(t._hideErudaSetting&&(Object(m.tb)(n,"eruda")||"active-eruda"===n)||r.push({key:n,val:ht(e,200)}))})),this["_"+e+"StoreData"]=r}}},{key:"refreshCookie",value:function(){var e=[],t=document.cookie;return""!==Object(m.Ab)(t)&&Object(m.u)(document.cookie.split(";"),(function(t){t=t.split("=");var n=Object(m.Ab)(t.shift());t=Object(m.p)(t.join("=")),e.push({key:n,val:t})})),this._cookieData=e,this}},{key:"refreshImage",value:function(){var e=[],t=this._performance=window.webkitPerformance||window.performance;return t&&t.getEntries?this._performance.getEntries().forEach((function(t){("img"===t.initiatorType||vt(t.name))&&e.push(t.name)})):Object(m.a)("img").each((function(){var t=Object(m.a)(this),n=t.attr("src");"true"!==t.data("exclude")&&e.push(n)})),(e=Object(m.Db)(e)).sort(),this._imageData=e,this}},{key:"show",value:function(){return y()(l()(t.prototype),"show",this).call(this),this._observeElement&&this._enableObserver(),this.refresh()}},{key:"hide",value:function(){return this._disableObserver(),y()(l()(t.prototype),"hide",this).call(this)}},{key:"_bindEvent",value:function(){var e=this,t=this,n=this._$el,r=this._container;function a(e,t){var n=r.get("sources");if(n)return n.set(e,t),r.showTool("sources"),!0}function i(e){return function(t){if(r.get("sources")){t.preventDefault();var n=Object(m.a)(this).attr("href");"iframe"===e||Object(m.I)(n)?a("iframe",n):Object(m.i)({url:n,success:function(t){a(e,t)},dataType:"raw"})}}}n.on("click",".eruda-refresh-local-storage",(function(){return e.refreshLocalStorage()._render()})).on("click",".eruda-refresh-session-storage",(function(){return e.refreshSessionStorage()._render()})).on("click",".eruda-refresh-cookie",(function(){return e.refreshCookie()._render()})).on("click",".eruda-refresh-script",(function(){return e.refreshScript()._render()})).on("click",".eruda-refresh-stylesheet",(function(){return e.refreshStylesheet()._render()})).on("click",".eruda-refresh-iframe",(function(){return e.refreshIframe()._render()})).on("click",".eruda-refresh-image",(function(){return e.refreshImage()._render()})).on("click",".eruda-search",(function(){var e=Object(m.a)(this).data("type"),n=prompt("Filter");if(!Object(m.S)(n)){switch(n=Object(m.Ab)(n),e){case"local":t._localStoreSearchKeyword=n;break;case"session":t._sessionStoreSearchKeyword=n;break;case"cookie":t._cookieSearchKeyword=n}t._render()}})).on("click",".eruda-delete-storage",(function(){var e=Object(m.a)(this),n=e.data("key");"local"===e.data("type")?(localStorage.removeItem(n),t.refreshLocalStorage()._render()):(sessionStorage.removeItem(n),t.refreshSessionStorage()._render())})).on("click",".eruda-delete-cookie",(function(){var e=Object(m.a)(this).data("key");Object(m.pb)(e),t.refreshCookie()._render()})).on("click",".eruda-clear-storage",(function(){"local"===Object(m.a)(this).data("type")?(Object(m.u)(t._localStoreData,(function(e){return localStorage.removeItem(e.key)})),t.refreshLocalStorage()._render()):(Object(m.u)(t._sessionStoreData,(function(e){return sessionStorage.removeItem(e.key)})),t.refreshSessionStorage()._render())})).on("click",".eruda-clear-cookie",(function(){Object(m.u)(e._cookieData,(function(e){return Object(m.pb)(e.key)})),e.refreshCookie()._render()})).on("click",".eruda-storage-val",(function(){var e=Object(m.a)(this),t=e.data("key"),n="local"===e.data("type")?localStorage.getItem(t):sessionStorage.getItem(t);try{a("object",JSON.parse(n))}catch(e){a("raw",n)}})).on("click",".eruda-img-link",(function(){a("img",Object(m.a)(this).attr("src"))})).on("click",".eruda-css-link",i("css")).on("click",".eruda-js-link",i("js")).on("click",".eruda-iframe-link",i("iframe")),m.kb.on("change",(function(){return e._render()}))}},{key:"_rmCfg",value:function(){var e=this.config,t=this._container.get("settings");t&&t.remove(e,"hideErudaSetting").remove(e,"observeElement").remove("Resources")}},{key:"_initCfg",value:function(){var e=this,t=this.config=L.createCfg("resources",{hideErudaSetting:!0,observeElement:!0});t.get("hideErudaSetting")&&(this._hideErudaSetting=!0),t.get("observeElement")||(this._observeElement=!1),t.on("change",(function(t,n){switch(t){case"hideErudaSetting":return void(e._hideErudaSetting=n);case"observeElement":return e._observeElement=n,n?e._enableObserver():e._disableObserver()}})),this._container.get("settings").text("Resources").switch(t,"hideErudaSetting","Hide Eruda Setting").switch(t,"observeElement","Auto Refresh Elements").separator()}},{key:"_render",value:function(){var e=this._cookieData,t=this._scriptData,n=this._stylesheetData,r=this._imageData,a=this._localStoreSearchKeyword,i=this._sessionStoreSearchKeyword,o=this._cookieSearchKeyword;function s(e,t){return(t=Object(m.eb)(t))?Object(m.B)(e,(function(e){var n=e.key,r=e.val;return Object(m.m)(Object(m.eb)(n),t)||Object(m.m)(Object(m.eb)(r),t)})):e}this._renderHtml(this._tpl({localStoreData:s(this._localStoreData,a),localStoreSearchKeyword:a,sessionStoreData:s(this._sessionStoreData,i),sessionStoreSearchKeyword:i,cookieData:s(e,o),cookieSearchKeyword:o,cookieState:pt("cookie",e.length),scriptData:t,scriptState:pt("script",t.length),stylesheetData:n,stylesheetState:pt("stylesheet",n.length),iframeData:this._iframeData,imageData:r,imageState:pt("image",r.length)}))}},{key:"_renderHtml",value:function(e){e!==this._lastHtml&&(this._lastHtml=e,this._$el.html(e))}},{key:"_initObserver",value:function(){var e=this;this._observer=new m.f((function(t){var n=!1;Object(m.u)(t,(function(t){e._handleMutation(t)&&(n=!0)})),n&&e._render()}))}},{key:"_handleMutation",value:function(e){var t=this;if(!Ue(e.target)){var n=function(e){switch(function(e){return e.tagName?e.tagName.toLowerCase():""}(e)){case"script":return t.refreshScript(),!0;case"img":return t.refreshImage(),!0;case"link":return t.refreshStylesheet(),!0}return!1};if("attributes"===e.type){if(n(e.target))return!0}else if("childList"===e.type){if(n(e.target))return!0;var r=Object(m.wb)(e.addedNodes);r=Object(m.l)(r,Object(m.wb)(e.removedNodes));var a=!0,i=!1,o=void 0;try{for(var s,u=r[Symbol.iterator]();!(a=(s=u.next()).done);a=!0)if(n(s.value))return!0}catch(e){i=!0,o=e}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}}return!1}}},{key:"_enableObserver",value:function(){this._observer.observe(document.documentElement,{attributes:!0,childList:!0,subtree:!0})}},{key:"_disableObserver",value:function(){this._observer.disconnect()}}]),t}(_);function pt(e,t){if(0===t)return"";var n=0,r=0;switch(e){case"cookie":n=30,r=60;break;case"script":n=5,r=10;break;case"stylesheet":n=4,r=8;break;case"image":n=50,r=100}return t>=r?"danger":t>=n?"warn":"ok"}var ft,ht=function(e,t){return e.length<t?e:e.slice(0,t)+"..."},mt=/\.(jpeg|jpg|gif|png)$/,vt=function(e){return mt.test(e)},bt=Object(m.s)(),gt=[{name:"Location",val:function(){return Object(m.w)(location.href)}},{name:"User Agent",val:navigator.userAgent},{name:"Device",val:["<table><tbody>",'<tr><td class="eruda-device-key">screen</td><td>'.concat(screen.width," * ").concat(screen.height,"</td></tr>"),"<tr><td>viewport</td><td>".concat(window.innerWidth," * ").concat(window.innerHeight,"</td></tr>"),"<tr><td>pixel ratio</td><td>".concat(window.devicePixelRatio,"</td></tr>"),"</tbody></table>"].join("")},{name:"System",val:["<table><tbody>",'<tr><td class="eruda-system-key">os</td><td>'.concat(Object(m.t)(),"</td></tr>"),"<tr><td>browser</td><td>".concat(bt.name+" "+bt.version,"</td></tr>"),"</tbody></table>"].join("")},{name:"About",val:'<a href="https://github.com/liriliri/eruda" target="_blank">Eruda v2.2.1</a>'}],yt=function(e){function t(){var e;return a()(this,t),(e=u()(this,l()(t).call(this)))._style=F(n(86)),e.name="info",e._tpl=n(87),e._infos=[],e}return p()(t,e),o()(t,[{key:"init",value:function(e){y()(l()(t.prototype),"init",this).call(this,e),this._addDefInfo()}},{key:"destroy",value:function(){y()(l()(t.prototype),"destroy",this).call(this),F.remove(this._style)}},{key:"add",value:function(e,t){var n=this._infos,r=!1;return Object(m.u)(n,(function(n){e===n.name&&(n.val=t,r=!0)})),r||n.push({name:e,val:t}),this._render(),this}},{key:"get",value:function(e){var t,n=this._infos;return Object(m.Y)(e)?Object(m.k)(n):(Object(m.u)(n,(function(n){e===n.name&&(t=n.val)})),t)}},{key:"remove",value:function(e){for(var t=this._infos,n=t.length-1;n>=0;n--)t[n].name===e&&t.splice(n,1);return this._render(),this}},{key:"clear",value:function(){return this._infos=[],this._render(),this}},{key:"_addDefInfo",value:function(){var e=this;Object(m.u)(gt,(function(t){return e.add(t.name,t.val)}))}},{key:"_render",value:function(){var e=[];Object(m.u)(this._infos,(function(t){var n=t.name,r=t.val;Object(m.N)(r)&&(r=r()),e.push({name:n,val:r})})),this._renderHtml(this._tpl({infos:e}))}},{key:"_renderHtml",value:function(e){e!==this._lastHtml&&(this._lastHtml=e,this._$el.html(e))}}]),t}(_),_t=function(e){function t(){var e;return a()(this,t),(e=u()(this,l()(t).call(this)))._style=F(n(88)),e.name="sources",e._showLineNum=!0,e._formatCode=!0,e._indentSize=4,e._loadTpl(),e}return p()(t,e),o()(t,[{key:"init",value:function(e,n){y()(l()(t.prototype),"init",this).call(this,e),this._container=n,this._bindEvent(),this._initCfg()}},{key:"destroy",value:function(){y()(l()(t.prototype),"destroy",this).call(this),F.remove(this._style),this._rmCfg()}},{key:"set",value:function(e,t){if("img"===e){this._isFetchingData=!0;var n=new Image,r=this;return n.onload=function(){r._isFetchingData=!1,r._data={type:"img",val:{width:this.width,height:this.height,src:t}},r._render()},n.onerror=function(){r._isFetchingData=!1},void(n.src=t)}return this._data={type:e,val:t},this._render(),this}},{key:"show",value:function(){return y()(l()(t.prototype),"show",this).call(this),this._data||this._isFetchingData||this._renderDef(),this}},{key:"_renderDef",value:function(){var e=this;if(this._html)return this._data={type:"html",val:this._html},this._render();this._isGettingHtml||(this._isGettingHtml=!0,Object(m.i)({url:location.href,success:function(t){return e._html=t},error:function(){return e._html="Sorry, unable to fetch source code:("},complete:function(){e._isGettingHtml=!1,e._renderDef()},dataType:"raw"}))}},{key:"_bindEvent",value:function(){var e=this;this._container.on("showTool",(function(t,n){t!==e.name&&n.name===e.name&&delete e._data}))}},{key:"_loadTpl",value:function(){this._codeTpl=n(89),this._imgTpl=n(90),this._objTpl=n(91),this._rawTpl=n(92),this._iframeTpl=n(93)}},{key:"_rmCfg",value:function(){var e=this.config,t=this._container.get("settings");t&&t.remove(e,"showLineNum").remove(e,"formatCode").remove(e,"indentSize").remove("Sources")}},{key:"_initCfg",value:function(){var e=this,t=this.config=L.createCfg("sources",{showLineNum:!0,formatCode:!0,indentSize:4});t.get("showLineNum")||(this._showLineNum=!1),t.get("formatCode")||(this._formatCode=!1),this._indentSize=t.get("indentSize"),t.on("change",(function(t,n){switch(t){case"showLineNum":return void(e._showLineNum=n);case"formatCode":return void(e._formatCode=n);case"indentSize":return void(e._indentSize=+n)}})),this._container.get("settings").text("Sources").switch(t,"showLineNum","Show Line Numbers").switch(t,"formatCode","Beautify Code").select(t,"indentSize","Indent Size",["2","4"]).separator()}},{key:"_render",value:function(){switch(this._isInit=!0,this._data.type){case"html":case"js":case"css":return this._renderCode();case"img":return this._renderImg();case"object":return this._renderObj();case"raw":return this._renderRaw();case"iframe":return this._renderIframe()}}},{key:"_renderImg",value:function(){this._renderHtml(this._imgTpl(this._data.val))}},{key:"_renderCode",value:function(){var e=this._data,t=this._indentSize,n=e.val,r=e.val.length;if(r<xt&&this._formatCode){switch(e.type){case"html":n=J.a.html(n,{unformatted:[],indent_size:t});break;case"css":n=J.a.css(n,{indent_size:t});break;case"js":n=J()(n,{indent_size:t})}var a=F.getCurTheme();n=Object(m.F)(n,e.type,{keyword:"color:".concat(a.keywordColor),number:"color:".concat(a.numberColor),operator:"color:".concat(a.operatorColor),comment:"color:".concat(a.commentColor),string:"color:".concat(a.stringColor)})}else n=Object(m.w)(n);r<kt&&this._showLineNum&&(n=n.split("\n").map((function(e,t){return""===Object(m.Ab)(e)&&(e="&nbsp;"),{idx:t+1,val:e}}))),this._renderHtml(this._codeTpl({code:n,showLineNum:r<kt&&this._showLineNum}))}},{key:"_renderObj",value:function(){this._renderHtml(this._objTpl(),!1);var e=this._data.val;try{Object(m.X)(e)&&(e=JSON.parse(e))}catch(e){}new te.a(this._$el.find(".eruda-json").get(0),{unenumerable:!0,accessGetter:!0}).set(e)}},{key:"_renderRaw",value:function(){this._renderHtml(this._rawTpl({val:this._data.val}))}},{key:"_renderIframe",value:function(){this._renderHtml(this._iframeTpl({src:this._data.val}))}},{key:"_renderHtml",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n&&e===this._lastHtml||(this._lastHtml=e,this._$el.html(e),setTimeout((function(){return t._$el.get(0).scrollTop=0}),0))}}]),t}(_),xt=1e5,kt=4e5;t.default={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.container,n=e.tool,r=e.autoScale,a=void 0===r||r,i=e.useShadowDom,o=void 0===i||i;this._isInit||(this._isInit=!0,this._scale=1,this._initContainer(t,o),this._initStyle(),this._initDevTools(),this._initEntryBtn(),this._initSettings(),this._initTools(n),this._registerListener(),a&&this._autoScale())},_isInit:!1,version:"2.2.1",util:m.q,Tool:_,Console:ke,Elements:He,Network:De,Sources:_t,Resources:dt,Info:yt,Snippets:lt,Settings:L,get:function(e){if(this._checkInit()){if("entryBtn"===e)return this._entryBtn;var t=this._devTools;return e?t.get(e):t}},add:function(e){if(this._checkInit())return Object(m.N)(e)&&(e=e(this)),this._devTools.add(e),this},remove:function(e){return this._devTools.remove(e),this},show:function(e){if(this._checkInit()){var t=this._devTools;return e?t.showTool(e):t.show(),this}},hide:function(){if(this._checkInit())return this._devTools.hide(),this},destroy:function(){this._devTools.destroy(),delete this._devTools,this._entryBtn.destroy(),delete this._entryBtn,this._unregisterListener(),this._$el.remove(),F.clear(),this._isInit=!1},scale:function(e){return Object(m.T)(e)?(this._scale=e,b.emit(b.SCALE,e),this):this._scale},position:function(e){var t=this._entryBtn;return Object(m.U)(e)?(t.setPos(e),this):t.getPos()},_autoScale:function(){Object(m.P)()&&this.scale(1/Object(m.Fb)())},_registerListener:function(){var e=this;this._addListener=function(){return e.add.apply(e,arguments)},this._showListener=function(){return e.show.apply(e,arguments)},b.on(b.ADD,this._addListener),b.on(b.SHOW,this._showListener),b.on(b.SCALE,F.setScale)},_unregisterListener:function(){b.off(b.ADD,this._addListener),b.off(b.SHOW,this._showListener),b.off(b.SCALE,F.setScale)},_checkInit:function(){return this._isInit||V.error('Please call "eruda.init()" first'),this._isInit},_initContainer:function(e,t){var r;e||(e=document.createElement("div"),document.documentElement.appendChild(e),e.style.all="initial"),t&&(e.attachShadow?r=e.attachShadow({mode:"open"}):e.createShadowRoot&&(r=e.createShadowRoot()),r&&(F.container=document.head,F(n(26)),e=document.createElement("div"),r.appendChild(e),this._shadowRoot=r)),Object.assign(e,{id:"eruda",className:"eruda-container",contentEditable:!1}),"ios"===Object(m.s)().name&&e.setAttribute("ontouchstart",""),this._$el=Object(m.a)(e)},_initDevTools:function(){this._devTools=new U(this._$el)},_initStyle:function(){var e=this._$el;this._shadowRoot?(F.container=this._shadowRoot,F(":host { all: initial }")):(e.append('<div class="'.concat("eruda-style-container",'"></div>')),F.container=e.find(".".concat("eruda-style-container")).get(0)),F(n(94)+n(95)+n(96)+n(26))},_initEntryBtn:function(){var e=this;this._entryBtn=new z(this._$el),this._entryBtn.on("click",(function(){return e._devTools.toggle()}))},_initSettings:function(){var e=this._devTools,t=new L;e.add(t),this._entryBtn.initCfg(t),e.initCfg(t)},_initTools:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["console","elements","network","resources","sources","info","snippets"];t=Object(m.wb)(t);var n=this._devTools;t.forEach((function(t){var r=e[Object(m.Eb)(t)];try{r&&n.add(new r)}catch(e){Object(m.hb)((function(){V.error("Something wrong when initializing tool ".concat(t,":"),e.message)}))}})),n.showTool(t[0]||"settings")}},ft=m.q,Object.assign(ft,{beautify:J.a,evalCss:F,isErudaEl:Ue})}])},function(e,t,n){"use strict";(function(e,r){var a;function i(){if(null==a){var t;if("undefined"!==typeof window)t=window;else if("undefined"!==typeof e)t=e;else if("undefined"!==typeof r)t=r;else{if("undefined"===typeof self)throw new Error("Could not find a global object");t=self}a=t}return a}function o(e,t){var n=function(){var e=i();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);var r=t();return n.set(e,r),n.get(e)}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}))}).call(this,n(154),n(171))},function(e,t,n){var r=n(496),a=n(279);e.exports=function(e){return r(a(e))}},function(e,t,n){var r=n(107),a=n(60),i=function(e){return a(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},function(e,t,n){var r=n(60),a=n(117),i=n(317),o=n(284);e.exports=function(e,t,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(r(n)&&i(n,c,s),s.global)u?e[t]=n:o(t,n);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(l){}u?e[t]=n:a.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},function(e,t,n){var r=n(78),a=n(65),i=n(134),o=n(219),s=n(515),u=n(289),c=n(281),l=n(516),d=n(324),p=n(292),f=TypeError,h=function(e,t){this.stopped=e,this.result=t},m=h.prototype;e.exports=function(e,t,n){var v,b,g,y,_,x,k,w=n&&n.that,O=!(!n||!n.AS_ENTRIES),j=!(!n||!n.IS_RECORD),S=!(!n||!n.IS_ITERATOR),C=!(!n||!n.INTERRUPTED),T=r(t,w),N=function(e){return v&&p(v,"normal",e),new h(!0,e)},E=function(e){return O?(i(e),C?T(e[0],e[1],N):T(e[0],e[1])):C?T(e,N):T(e)};if(j)v=e.iterator;else if(S)v=e;else{if(!(b=d(e)))throw f(o(e)+" is not iterable");if(s(b)){for(g=0,y=u(e);y>g;g++)if((_=E(e[g]))&&c(m,_))return _;return new h(!1)}v=l(e,b)}for(x=j?e.next:v.next;!(k=a(x,v)).done;){try{_=E(k.value)}catch(I){p(v,"throw",I)}if("object"==typeof _&&_&&c(m,_))return _}return new h(!1)}},function(e,t){e.exports={}},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,c=[],l=!1,d=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&f())}function f(){if(!l){var e=s(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";n.r(t),n.d(t,"assertParamsValid",(function(){return s})),n.d(t,"maskToAxes",(function(){return u})),n.d(t,"computeOutShape",(function(){return c})),n.d(t,"stridesWithElidedDims",(function(){return l})),n.d(t,"getNormalizedAxes",(function(){return f})),n.d(t,"startIndicesWithElidedDims",(function(){return h})),n.d(t,"stopIndicesWithElidedDims",(function(){return m})),n.d(t,"stridesForAxis",(function(){return v})),n.d(t,"startForAxis",(function(){return b})),n.d(t,"stopForAxis",(function(){return g})),n.d(t,"isSliceContinous",(function(){return y})),n.d(t,"computeFlatOffset",(function(){return _})),n.d(t,"parseSliceParams",(function(){return x})),n.d(t,"sliceInfo",(function(){return k}));var r=n(18),a=n(21),i=-2,o=-1;function s(e,t,n){var r=e.shape.length;a.b(r===t.length,(function(){return"Error in slice".concat(r,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(r,").")})),a.b(r===n.length,(function(){return"Error in slice".concat(r,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(r,").")}));for(var i=function(i){a.b(t[i]+n[i]<=e.shape[i],(function(){return"Error in slice".concat(r,"D: begin[").concat(i,"] + size[").concat(i,"] ")+"(".concat(t[i]+n[i],") would overflow input.shape[").concat(i,"] (").concat(e.shape[i],")")}))},o=0;o<r;++o)i(o)}function u(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function c(e,t,n){for(var r=[],a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function l(e,t,n,a){for(var i=Object(r.a)(e),o=i.length;o<a.length;o++)i.push(1);for(var s=0;s<n;s++)0===s?i[t]=1:(i.splice(t,0,1),i.pop());return i}function d(e,t,n){return n<=e?n:n-(t-1)}function p(e,t){for(var n=[],r=0;r<e;r++)n.push(t+r);return n}function f(e,t,n,r,a,i,o,s,u){var c=e.length,d=new Array(c),p=new Array(c),f=new Array(c);if(t.length&&n>0){var y=t[0],_=n+1;d=h(o,y,_,r,e),p=m(s,y,_,a,e),f=l(i,y,_,e)}else for(var x=0;x<c;x++)d[x]=b(o,r,i,e,x,u),p[x]=g(s,a,i,e,x,u),f[x]=v(i,x,u);return{begin:d,end:p,strides:f}}function h(e,t,n,a,i){for(var o=Object(r.a)(i),s=p(n,t),u=0;u<o.length;u++)if(s.indexOf(u)>-1)o[u]=0;else{var c=d(t,n,u),l=a[c];e&1<<c&&(l=0),o[u]=l}return o}function m(e,t,n,i,o){for(var s=Object(r.a)(o),u=p(n,t),c=0;c<s.length;c++)if(u.indexOf(c)>-1)s[c]=Number.MAX_SAFE_INTEGER;else{var l=d(t,n,c),f=i[l];e&1<<l&&(f=Number.MAX_SAFE_INTEGER),s[c]=f}for(var h=0;h<s.length;h++){var m=o[h];s[h]<0&&(s[h]+=m),s[h]=a.i(0,s[h],o[h])}return s}function v(e,t,n){var r=e[t];return(n&1<<t||null==r)&&(r=1),r}function b(e,t,n,r,i,o){var s=t[i],u=n[i]||1;(e&1<<i||o&1<<i||null==s)&&(s=u>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var c=r[i];return s<0&&(s+=c),s=a.i(0,s,c-1)}function g(e,t,n,r,i,o){var s=t[i],u=n[i]||1;(e&1<<i||o&1<<i||null==s)&&(s=u>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var c=r[i];return s<0&&(s+=c),s=u>0?a.i(0,s,c):a.i(-1,s,c-1)}function y(e,t,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(var i=r+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function _(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function x(e,t,n){var i,o,s=e.shape.length;return(i="number"===typeof t?[t].concat(Object(r.a)(new Array(s-1).fill(0))):t.length<s?t.concat(new Array(s-t.length).fill(0)):t.slice()).forEach((function(e){a.b(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),o=(o=null==n?new Array(s).fill(-1):"number"===typeof n?[n].concat(Object(r.a)(new Array(s-1).fill(-1))):n.length<s?n.concat(new Array(s-n.length).fill(-1)):n).map((function(t,n){return t>=0?t:(a.b(-1===t,(function(){return"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,".")})),e.shape[n]-i[n])})),[i,o]}function k(e,t,n,r,a,s,u,c,l){var d;if(null==r?(d=new Array(t.length)).fill(1):d=r,null!=u&&0!==(u&u-1))throw new Error("Multiple ellipses in slice is not allowed.");for(var p=!1,f={dims:d.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:d.slice(),beginMask:a,endMask:s,ellipsisMask:u,newAxisMask:c,shrinkAxisMask:l},h=0;h<f.dims;h++)p&&0!==(1<<h&c)&&f.numAddAxisAfterEllipsis++,1<<h&u&&(p=!0);p||(f.ellipsisMask|=1<<f.dims,f.dims++);var m={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;var n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(var r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask)for(var a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r;else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(i),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(o),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(f,m);for(var v=!0,b=!0,g=!0,y=[],_=[],x=0;x<e.length;++x){if(0===m.strides[x])throw Error("strides[".concat(x,"] must be non-zero"));var k=!!(m.shrinkAxisMask&1<<x),O=e[x];if(-1!==O){var j=[m.beginMask&1<<x,m.endMask&1<<x],S=[m.strides[x]>0?0:-1,m.strides[x]>0?O:O-1];if(k&&m.strides[x]<=0)throw Error("only stride 1 allowed on non-range indexing.");g=g&&1===m.strides[x];var C=!!(m.beginMask&1<<x&&m.endMask&1<<x);if(m.beginValid&&m.endValid){if(k){var T=m.begin[x]<0?O+m.begin[x]:m.begin[x];if(m.begin[x]=T,m.end[x]=m.begin[x]+1,T<0||T>=O)throw Error("slice index ".concat(m.begin[x]," of dimension ").concat(x," out of bounds."))}else m.begin[x]=w(m.begin[x],0,m.strides[x],O,j,S),m.end[x]=w(m.end[x],1,m.strides[x],O,j,S);var N=1===m.strides[x]&&0===m.begin[x]&&m.end[x]===O;v=v&&N,b=b&&(0===x&&1===m.strides[x]||N)}else v=v&&1===m.strides[x]&&C,b=b&&(0===x&&1===m.strides[x]||C);var E=void 0,I=!1;if(m.beginValid&&m.endValid?(E=m.end[x]-m.begin[x],I=!0):k?(E=1,I=!0):C&&O>=0&&(E=m.strides[x]<0?-O:O,I=!0),I){var A=void 0;A=0===E||E<0!==m.strides[x]<0?0:Math.trunc(E/m.strides[x])+(E%m.strides[x]!==0?1:0),y.push(A)}else y.push(-1)}else y.push(k?1:-1)}for(var R=0;R<m.finalShapeGatherIndices.length;++R){var D=m.finalShapeGatherIndices[R];D>=0?_.push(y[D]):D===i&&_.push(1)}return{finalShapeSparse:_.filter((function(e,t){return m.finalShapeGatherIndices[t]!==i})),finalShape:_,isIdentity:v,sliceDim0:b,isSimpleSlice:g,begin:m.begin,end:m.end,strides:m.strides}}function w(e,t,n,r,a,i){if(a[t])return n>0?i[t]:i[t+1&1];var o=e<0?r+e:e;return o<i[0]?i[0]:o>i[1]?i[1]:o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(2),a=n.n(r),i=n(18),o=n(7),s=n(4),u=n(17),c=n(13),l=n(11),d=n(16),p=n(12),f=n(48),h=n(31),m=n(33),v=n(22),b=n(57),g=n(45),y=n(39),_=function(e){function t(e,n){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(s.a)(this,t),(r=Object(u.a)(this,Object(c.a)(t).call(this))).learningRate=e,r.rho=n,r.epsilon=a,r.accumulatedGrads=[],r.accumulatedUpdates=[],null==a&&(r.epsilon=p.a.backend.epsilon()),r}return Object(d.a)(t,e),Object(l.a)(t,null,[{key:"className",get:function(){return"Adadelta"}}]),Object(l.a)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=p.a.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:"".concat(n,"/accum_grad"),variable:Object(f.t)((function(){return Object(y.a)(a).variable(!1)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:"".concat(n,"/accum_var"),variable:Object(f.t)((function(){return Object(y.a)(a).variable(!1)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var o=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;Object(f.t)((function(){var e=Object(h.a)(Object(v.a)(o,t.rho),Object(v.a)(Object(g.a)(i),1-t.rho)),n=Object(v.a)(Object(m.a)(Object(b.a)(Object(h.a)(s,t.epsilon)),Object(b.a)(Object(h.a)(o,t.epsilon))),i),r=Object(h.a)(Object(v.a)(s,t.rho),Object(v.a)(Object(g.a)(n),1-t.rho));o.assign(e),s.assign(r);var u=Object(h.a)(Object(v.a)(n,-t.learningRate),a);a.assign(u)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&(Object(f.d)(this.accumulatedGrads.map((function(e){return e.variable}))),Object(f.d)(this.accumulatedUpdates.map((function(e){return e.variable}))))}},{key:"getWeights",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(Object(i.a)(this.accumulatedGrads),Object(i.a)(this.accumulatedUpdates)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.t1=t.map((function(e){return{name:e.originalName,tensor:e.variable}})),e.abrupt("return",[e.t0].concat(e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=t.length/2,!1,this.accumulatedGrads=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedUpdates=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}]),t}(n(85).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(10);var c=Object(u.b)({floorDiv_:function(e,t){var n=Object(s.a)(e,"a","floorDiv"),u=Object(s.a)(t,"b","floorDiv"),c=Object(o.makeTypesMatch)(n,u),l=Object(r.a)(c,2),d={a:n=l[0],b:u=l[1]};return a.a.runKernel(i.jb,d)}})},function(e,t,n){"use strict";n.r(t),n.d(t,"Serializable",(function(){return o})),n.d(t,"SerializationMap",(function(){return s})),n.d(t,"registerClass",(function(){return u}));var r=n(4),a=n(11),i=n(21),o=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),e}(),s=function(){function e(){Object(r.a)(this,e),this.classNameMap={}}return Object(a.a)(e,null,[{key:"getMap",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"register",value:function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]}}]),e}();function u(e){Object(i.b)(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),Object(i.b)("string"===typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),Object(i.b)(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),s.register(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(2),a=n.n(r),i=n(7),o=n(4),s=n(17),u=n(13),c=n(11),l=n(16),d=n(12),p=n(48),f=n(31),h=n(33),m=n(126),v=n(22),b=n(57),g=n(45),y=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this))).learningRate=e,n.initialAccumulatorValue=r,n.accumulatedGrads=[],n}return Object(l.a)(t,e),Object(c.a)(t,null,[{key:"className",get:function(){return"Adagrad"}}]),Object(c.a)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=d.a.registeredVariables[n];if(null==t.accumulatedGrads[r]){t.accumulatedGrads[r]={originalName:"".concat(n,"/accumulator"),variable:Object(p.t)((function(){return Object(m.a)(a.shape,t.initialAccumulatorValue).variable(!1)}))}}var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var o=t.accumulatedGrads[r].variable;Object(p.t)((function(){var e=Object(f.a)(o,Object(g.a)(i));o.assign(e);var n=Object(f.a)(Object(v.a)(Object(h.a)(i,Object(b.a)(Object(f.a)(e,d.a.backend.epsilon()))),-t.learningRate),a);a.assign(n)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&Object(p.d)(this.accumulatedGrads.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.t1=this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}})),e.abrupt("return",[e.t0].concat(e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulatedGrads=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}]),t}(n(85).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(2),a=n.n(r),i=n(18),o=n(7),s=n(4),u=n(17),c=n(13),l=n(11),d=n(16),p=n(12),f=n(48),h=n(31),m=n(33),v=n(22),b=n(80),g=n(37),y=n(57),_=n(45),x=n(32),k=n(39),w=function(e){function t(e,n,r){var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this))).learningRate=e,a.beta1=n,a.beta2=r,a.epsilon=i,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],Object(f.t)((function(){a.accBeta1=Object(g.a)(n).variable(),a.accBeta2=Object(g.a)(r).variable()})),null==i&&(a.epsilon=p.a.backend.epsilon()),a}return Object(d.a)(t,e),Object(l.a)(t,null,[{key:"className",get:function(){return"Adam"}}]),Object(l.a)(t,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);Object(f.t)((function(){var r=Object(x.a)(1,t.accBeta1),a=Object(x.a)(1,t.accBeta2);n.forEach((function(n,i){var o=p.a.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:"".concat(n,"/m"),variable:Object(f.t)((function(){return Object(k.a)(o).variable(!1)}))}),null==t.accumulatedSecondMoment[i]&&(t.accumulatedSecondMoment[i]={originalName:"".concat(n,"/v"),variable:Object(f.t)((function(){return Object(k.a)(o).variable(!1)}))});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[i].variable,c=t.accumulatedSecondMoment[i].variable,l=Object(h.a)(Object(v.a)(u,t.beta1),Object(v.a)(s,1-t.beta1)),d=Object(h.a)(Object(v.a)(c,t.beta2),Object(v.a)(Object(_.a)(s),1-t.beta2)),b=Object(m.a)(l,r),g=Object(m.a)(d,a);u.assign(l),c.assign(d);var x=Object(h.a)(Object(v.a)(Object(m.a)(b,Object(h.a)(Object(y.a)(g),t.epsilon)),-t.learningRate),o);o.assign(x)}})),t.accBeta1.assign(Object(v.a)(t.accBeta1,t.beta1)),t.accBeta2.assign(Object(v.a)(t.accBeta2,t.beta2))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Object(f.d)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&Object(f.d)(this.accumulatedSecondMoment.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(Object(i.a)(this.accumulatedFirstMoment),Object(i.a)(this.accumulatedSecondMoment)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.t1=t.map((function(e){return{name:e.originalName,tensor:e.variable}})),e.abrupt("return",[e.t0].concat(e.t1));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,Object(f.t)((function(){r.accBeta1.assign(Object(b.a)(r.beta1,r.iterations_+1)),r.accBeta2.assign(Object(b.a)(r.beta2,r.iterations_+1))})),n=t.length/2,!1,this.accumulatedFirstMoment=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedSecondMoment=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}]),t}(n(85).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(2),a=n.n(r),i=n(7),o=n(4),s=n(17),u=n(13),c=n(11),l=n(16),d=n(12),p=n(48),f=n(69),h=n(31),m=n(33),v=n(142),b=n(22),g=n(37),y=n(32),_=n(39),x=function(e){function t(e,n,r){var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this))).learningRate=e,a.beta1=n,a.beta2=r,a.epsilon=i,a.decay=c,a.accumulatedFirstMoment=[],a.accumulatedWeightedInfNorm=[],Object(p.t)((function(){a.iteration=Object(g.a)(0).variable(),a.accBeta1=Object(g.a)(n).variable()})),null==i&&(a.epsilon=d.a.backend.epsilon()),a}return Object(l.a)(t,e),Object(c.a)(t,null,[{key:"className",get:function(){return"Adamax"}}]),Object(c.a)(t,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);Object(p.t)((function(){var r=Object(y.a)(1,t.accBeta1),a=Object(m.a)(-t.learningRate,Object(h.a)(Object(b.a)(t.iteration,t.decay),1));n.forEach((function(n,i){var o=d.a.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:"".concat(n,"/m"),variable:Object(_.a)(o).variable(!1)}),null==t.accumulatedWeightedInfNorm[i]&&(t.accumulatedWeightedInfNorm[i]={originalName:"".concat(n,"/v"),variable:Object(_.a)(o).variable(!1)});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[i].variable,c=t.accumulatedWeightedInfNorm[i].variable,l=Object(h.a)(Object(b.a)(u,t.beta1),Object(b.a)(s,1-t.beta1)),p=Object(b.a)(c,t.beta2),g=Object(f.a)(s),y=Object(v.a)(p,g);u.assign(l),c.assign(y);var x=Object(h.a)(Object(b.a)(Object(m.a)(a,r),Object(m.a)(l,Object(h.a)(y,t.epsilon))),o);o.assign(x)}})),t.iteration.assign(Object(h.a)(t.iteration,1)),t.accBeta1.assign(Object(b.a)(t.accBeta1,t.beta1))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Object(p.d)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&Object(p.d)(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}]),t}(n(85).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(2),a=n.n(r),i=n(7),o=n(4),s=n(17),u=n(13),c=n(11),l=n(16),d=n(12),p=n(48),f=n(31),h=n(22),m=n(37),v=n(39),b=function(e){function t(e,n){var r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(o.a)(this,t),(r=Object(s.a)(this,Object(u.a)(t).call(this,e))).learningRate=e,r.momentum=n,r.useNesterov=a,r.accumulations=[],r.m=Object(m.a)(r.momentum),r}return Object(l.a)(t,e),Object(c.a)(t,null,[{key:"className",get:function(){return"Momentum"}}]),Object(c.a)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=d.a.registeredVariables[n];if(null==t.accumulations[r]){t.accumulations[r]={originalName:"".concat(n,"/momentum"),variable:Object(p.t)((function(){return Object(v.a)(a).variable(!1)}))}}var i=t.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[n];null!=o&&Object(p.t)((function(){var e,n=Object(f.a)(Object(h.a)(t.m,i),o);e=t.useNesterov?Object(f.a)(Object(h.a)(t.c,Object(f.a)(o,Object(h.a)(n,t.m))),a):Object(f.a)(Object(h.a)(t.c,n),a),i.assign(n),a.assign(e)}))})),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&Object(p.d)(this.accumulations.map((function(e){return e.variable})))}},{key:"setMomentum",value:function(e){this.momentum=e}},{key:"getWeights",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.t1=this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}})),e.abrupt("return",[e.t0].concat(e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulations=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}]),t}(n(143).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(2),a=n.n(r),i=n(18),o=n(7),s=n(4),u=n(17),c=n(13),l=n(11),d=n(16),p=n(12),f=n(48),h=n(31),m=n(33),v=n(22),b=n(57),g=n(45),y=n(32),_=n(39),x=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this))).learningRate=e,n.decay=r,n.momentum=a,n.epsilon=i,n.accumulatedMeanSquares=[],n.accumulatedMoments=[],n.accumulatedMeanGrads=[],n.centered=o,null==i&&(n.epsilon=p.a.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return n}return Object(d.a)(t,e),Object(l.a)(t,null,[{key:"className",get:function(){return"RMSProp"}}]),Object(l.a)(t,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=p.a.registeredVariables[n];null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:"".concat(n,"/rms"),variable:Object(f.t)((function(){return Object(_.a)(a).variable(!1)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:"".concat(n,"/momentum"),variable:Object(f.t)((function(){return Object(_.a)(a).variable(!1)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:"".concat(n,"/mg"),variable:Object(f.t)((function(){return Object(_.a)(a).variable(!1)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var o=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;Object(f.t)((function(){var e=Object(h.a)(Object(v.a)(o,t.decay),Object(v.a)(Object(g.a)(i),1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,u=Object(h.a)(Object(v.a)(n,t.decay),Object(v.a)(i,1-t.decay)),c=Object(m.a)(Object(v.a)(i,t.learningRate),Object(b.a)(Object(y.a)(e,Object(h.a)(Object(g.a)(u),t.epsilon)))),l=Object(h.a)(Object(v.a)(s,t.momentum),c);o.assign(e),n.assign(u),s.assign(l);var d=Object(y.a)(a,l);a.assign(d)}else{var p=Object(h.a)(Object(v.a)(o,t.decay),Object(v.a)(Object(g.a)(i),1-t.decay)),f=Object(h.a)(Object(v.a)(s,t.momentum),Object(m.a)(Object(v.a)(i,t.learningRate),Object(b.a)(Object(h.a)(p,t.epsilon))));o.assign(p),s.assign(f);var _=Object(y.a)(a,f);a.assign(_)}}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&Object(f.d)(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&Object(f.d)(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&Object(f.d)(this.accumulatedMoments.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(Object(i.a)(this.accumulatedMeanSquares),Object(i.a)(this.accumulatedMoments)),this.centered&&t.push.apply(t,Object(i.a)(this.accumulatedMeanGrads)),e.next=4,this.saveIterations();case 4:return e.t0=e.sent,e.t1=t.map((function(e){return{name:e.originalName,tensor:e.variable}})),e.abrupt("return",[e.t0].concat(e.t1));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=this.centered?t.length/3:t.length/2,!1,this.accumulatedMeanSquares=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedMoments=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*n,3*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}]),t}(n(85).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(28),u=n(41),c=n(10),l=n(20);var d=Object(c.b)({avgPool_:function(e,t,n,c,d){var p=Object(i.a)(e,"x","avgPool","float32");o.b(u.i(n,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")}));var f=p,h=!1;3===p.rank&&(h=!0,f=Object(l.a)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),o.b(4===f.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(f.rank,".")})),u.a("avgPool",c,d);var m={x:f},v={filterSize:t,strides:n,pad:c,dimRoundingMode:d},b=r.a.runKernel(a.o,m,v);return b=Object(s.a)(b,p.dtype),h?Object(l.a)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({cos_:function(e){var t={x:Object(i.a)(e,"x","cos","float32")};return r.a.runKernel(a.J,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({cumsum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s={x:Object(i.a)(e,"x","cumsum")},u={axis:t,exclusive:n,reverse:o};return r.a.runKernel(a.N,s,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({elu_:function(e){var t={x:Object(i.a)(e,"x","elu","float32")};return r.a.runKernel(a.Y,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({floor_:function(e){var t={x:Object(i.a)(e,"x","floor","float32")};return r.a.runKernel(a.ib,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({leakyRelu_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n={x:Object(i.a)(e,"x","leakyRelu")},o={alpha:t};return r.a.runKernel(a.Ab,n,o)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(6),a=n(21),i=n(31),o=n(62),s=n(63),u=n(113),c=n(104),l=n(10),d=n(20),p=n(32),f=n(35);var h=Object(l.b)({logSumExp_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=Object(r.a)(e,"x","logSumExp"),h=Object(a.H)(t,l.shape),m=Object(c.a)(l,h,!0),v=Object(p.a)(l,m),b=Object(s.a)(v),g=Object(f.a)(b,h),y=Object(u.a)(g),_=Object(i.a)(Object(d.a)(m,y.shape),y);if(n){var x=Object(o.e)(_.shape,h);return Object(d.a)(_,x)}return _}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(8),i=n(6),o=n(34),s=n(10);var u=Object(s.b)({logicalOr_:function(e,t){var n=Object(i.a)(e,"a","logicalOr","bool"),s=Object(i.a)(t,"b","logicalOr","bool");Object(o.assertAndGetBroadcastShape)(n.shape,s.shape);var u={a:n,b:s};return r.a.runKernel(a.Jb,u)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(41),u=n(10),c=n(20);var l=Object(u.b)({maxPool_:function(e,t,n,u,l){var d=Object(i.a)(e,"x","maxPool"),p=d,f=!1;3===d.rank&&(f=!0,p=Object(c.a)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),o.b(4===p.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(p.rank,".")})),o.b(s.i(n,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")})),s.a("maxPool",u,l);var h={x:p},m={filterSize:t,strides:n,pad:u,dimRoundingMode:l},v=r.a.runKernel(a.Ob,h,m);return f?Object(c.a)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(34),c=n(10);var l=Object(c.b)({notEqual_:function(e,t){var n=Object(s.a)(e,"a","notEqual","string_or_numeric"),c=Object(s.a)(t,"b","notEqual","string_or_numeric"),l=Object(o.makeTypesMatch)(n,c),d=Object(r.a)(l,2);n=d[0],c=d[1],Object(u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.a.runKernel(i.fc,p)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({prelu_:function(e,t){var n={x:Object(i.a)(e,"x","prelu"),alpha:Object(i.a)(t,"alpha","prelu")};return r.a.runKernel(a.mc,n)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({relu6_:function(e){var t={x:Object(i.a)(e,"x","relu6")};return r.a.runKernel(a.wc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(21),o=n(10);var s=Object(o.b)({fft_:function(e){Object(i.b)("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return r.a.runKernel(a.fb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(21),a=n(79),i=n(54),o=n(149),s=n(10),u=n(138),c=n(20),l=n(49),d=n(94),p=n(127),f=n(39),h=n(195);var m=Object(s.b)({rfft_:function(e,t){Object(r.b)("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got ".concat(e.dtype)}));var n,s=e.shape[e.shape.length-1],m=e.size/s;if(null!=t&&t<s){var v=e.shape.map((function(e){return 0})),b=e.shape.map((function(e){return e}));b[e.shape.length-1]=t,n=Object(l.a)(e,v,b),s=t}else if(null!=t&&t>s){var g=e.shape.map((function(e){return e}));g[e.shape.length-1]=t-s,n=Object(i.a)([e,Object(p.a)(g)],e.shape.length-1),s=t}else n=e;var y=Object(f.a)(n),_=Object(c.a)(Object(a.a)(n,y),[m,s]),x=Object(h.a)(_),k=Math.floor(s/2)+1,w=Object(u.a)(x),O=Object(o.a)(x),j=Object(d.a)(w,[k,s-k],w.shape.length-1),S=Object(d.a)(O,[k,s-k],O.shape.length-1),C=n.shape.slice();return C[n.shape.length-1]=k,Object(c.a)(Object(a.a)(j[0],S[0]),C)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(34),c=n(10);var l=Object(c.b)({squaredDifference_:function(e,t){var n=Object(s.a)(e,"a","squaredDifference"),c=Object(s.a)(t,"b","squaredDifference"),l=Object(o.makeTypesMatch)(n,c),d=Object(r.a)(l,2);n=d[0],c=d[1],Object(u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.a.runKernel(i.ad,p,{})}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(10);var u=Object(s.b)({unsortedSegmentSum_:function(e,t,n){var s=Object(i.a)(e,"x","unsortedSegmentSum"),u=Object(i.a)(t,"segmentIds","unsortedSegmentSum","int32");Object(o.b)(Object(o.v)(n),(function(){return"numSegments must be of dtype int"}));var c={x:s,segmentIds:u},l={numSegments:n};return r.a.runKernel(a.sd,c,l)}})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(586)},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(336);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,r(a.key),a)}}e.exports=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(8),i=n(21),o=n(41),s=n(10),u=n(20);var c=Object(s.b)({conv2DBackpropInput_:function(e,t,n,s,c){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",d=arguments.length>6?arguments[6]:void 0;i.b(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var p=e,f=t,h=!1;3===t.rank&&(h=!0,f=Object(u.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),p=[1,e[0],e[1],e[2]]),i.b(4===p.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(p.length,".")})),i.b(4===f.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(f.rank)})),i.b(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)}));var m="NHWC"===l?p[3]:p[1],v="NHWC"===l?f.shape[3]:f.shape[1];i.b(m===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input (".concat(m,") must ")+"match input depth for filter ".concat(n.shape[2],".")})),i.b(v===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output (".concat(v,") must ")+"match output depth for filter ".concat(n.shape[3],".")})),o.a("conv2dDerInput",c,d);var b={dy:f,filter:n},g={strides:s,pad:c,dataFormat:l,dimRoundingMode:d,inputShape:p},y=r.a.runKernel(a.F,b,g);return h?Object(u.a)(y,[y.shape[1],y.shape[2],y.shape[3]]):y}})},function(e,t,n){"use strict";n.r(t),n.d(t,"TEST_EPSILON_FLOAT16",(function(){return d})),n.d(t,"expectArraysClose",(function(){return p})),n.d(t,"testEpsilon",(function(){return f})),n.d(t,"expectPromiseToFail",(function(){return m})),n.d(t,"expectArraysEqual",(function(){return v})),n.d(t,"expectNumbersClose",(function(){return b})),n.d(t,"expectValuesInRange",(function(){return y})),n.d(t,"expectArrayBuffersEqual",(function(){return _})),n.d(t,"encodeStrings",(function(){return x})),n.d(t,"createVideoElement",(function(){return k})),n.d(t,"play",(function(){return w}));var r=n(2),a=n.n(r),i=n(7),o=n(12),s=n(6),u=n(24),c=n(21),l=.001,d=.1;function p(e,t,n){return null==n&&(n=f()),h(e,t,(function(e,t){return g(e,t,n)}))}function f(){return 32===o.a.backend.floatPrecision()?l:d}function h(e,t,n){var r=!0;if((Object(u.isTypedArray)(e)||Object(u.isTypedArray)(t))&&(r=!1),Object(u.isTypedArray)(e)&&Object(u.isTypedArray)(t)&&(r=!0),r){var a=e.constructor.name,i=t.constructor.name;if(a!==i)throw new Error("Arrays are of different type. Actual: ".concat(a,". ")+"Expected: ".concat(i))}if(Array.isArray(e)&&Array.isArray(t)){var o=Object(s.c)(e),l=Object(s.c)(t);if(!Object(c.a)(o,l))throw new Error("Arrays have different shapes. "+"Actual: [".concat(o,"]. Expected: [").concat(l,"]"))}var d=Object(u.isTypedArray)(e)?e:Object(u.flatten)(e),p=Object(u.isTypedArray)(t)?t:Object(u.flatten)(t);if(d.length!==p.length)throw new Error("Arrays have different lengths actual: ".concat(d.length," vs ")+"expected: ".concat(p.length,".\n")+"Actual:   ".concat(d,".\n")+"Expected: ".concat(p,"."));for(var f=0;f<p.length;++f){var h=d[f],m=p[f];if(!n(h,m))throw new Error("Arrays differ: actual[".concat(f,"] = ").concat(h,", expected[").concat(f,"] = ").concat(m,".\n")+"Actual:   ".concat(d,".\n")+"Expected: ".concat(p,"."))}"undefined"!==typeof expect&&expect().nothing()}function m(e,t){e().then((function(){return t.fail()}),(function(){return t()})),"undefined"!==typeof expect&&expect().nothing()}function v(e,t){var n="string"===typeof t||"number"===typeof t||"boolean"===typeof t?[t]:t;return Object(c.z)(e)||Object(c.z)(e[0])||Object(c.z)(t)||Object(c.z)(t[0])?h(e,n,(function(e,t){return e==t})):h(e,t,(function(e,t){return g(e,t,0)}))}function b(e,t,n){if(null==n&&(n=f()),!g(e,t,n))throw new Error("Numbers differ: actual === ".concat(e,", expected === ").concat(t));"undefined"!==typeof expect&&expect().nothing()}function g(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function y(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:".concat(e[r]," low: ").concat(t,", high: ").concat(n))}function _(e,t){var n=new Float32Array(e),r=new Float32Array(t);if(n.length!==r.length)throw new Error("Expected ArrayBuffer to be of length "+"".concat(r.length,", but it was ").concat(n.length));for(var a=0;a<r.length;a++)if(n[a]!==r[a])throw new Error("Expected ArrayBuffer value at ".concat(a," to be ")+"".concat(r[a]," but got ").concat(n[a]," instead"))}function x(e){for(var t=0;t<e.length;t++){var n=e[t];Array.isArray(n)?x(n):e[t]=Object(u.encodeString)(n)}return e}function k(e){var t=document.createElement("video");return"playsInline"in t&&(t.playsInline=!0),t.muted=!0,t.loop=!0,t.style.position="fixed",t.style.left="0px",t.style.top="0px",t.preload="auto",t.appendChild(e),new Promise((function(e){t.addEventListener("loadeddata",(function(n){return e(t)})),t.load()}))}function w(e){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.play();case 2:if(!("requestVideoFrameCallback"in t)){e.next=5;break}return e.next=5,new Promise((function(e){t.requestVideoFrameCallback(e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(8),i=n(21),o=n(41),s=n(10),u=n(20);var c=Object(s.b)({conv2DBackpropFilter_:function(e,t,n,s,c){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",d=arguments.length>6?arguments[6]:void 0,p=e;3===e.rank&&(p=Object(u.a)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var f=t;3===f.rank&&(f=Object(u.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),i.b(4===p.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(p.shape,".")})),i.b(4===f.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(f.shape,".")})),i.b(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")}));var h="NHWC"===l?p.shape[3]:p.shape[1],m="NHWC"===l?f.shape[3]:f.shape[1];i.b(h===n[2],(function(){return"Error in conv2dDerFilter: depth of input ".concat(h,") must ")+"match input depth in filter (".concat(n[2],".")})),i.b(m===n[3],(function(){return"Error in conv2dDerFilter: depth of dy (".concat(m,") must ")+"match output depth for filter (".concat(n[3],").")})),o.a("conv2dDerFilter",c,d);var v={x:p,dy:f},b={strides:s,pad:c,dataFormat:l,dimRoundingMode:d,filterShape:n};return r.a.runKernel(a.E,v,b)}})},function(e,t,n){var r=n(59),a=r({}.toString),i=r("".slice);e.exports=function(e){return i(a(e),8,-1)}},function(e,t,n){var r=n(291),a=n(60),i=n(206),o=n(90)("toStringTag"),s=Object,u="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=s(e),o))?n:u?i(t):"Object"==(r=i(t))&&a(t.callee)?"Arguments":r}},function(e,t,n){var r=n(327),a=n(83);e.exports=r(a.proto,"size","get")||function(e){return e.size}},function(e,t,n){var r=n(697),a=n(698),i=String.fromCharCode(30);e.exports={protocol:4,encodePacket:r,encodePayload:function(e,t){var n=e.length,a=new Array(n),o=0;e.forEach((function(e,s){r(e,!1,(function(e){a[s]=e,++o===n&&t(a.join(i))}))}))},decodePacket:a,decodePayload:function(e,t){for(var n=e.split(i),r=[],o=0;o<n.length;o++){var s=a(n[o],t);if(r.push(s),"error"===s.type)break}return r}}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";(function(e){var r=n(703),a=n(704),i=n(705);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),a=(e=s(e,r)).write(t,n);a!==r&&(e=e.slice(0,a));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=s(e,t<0?0:0|f(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return j(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,a){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,a);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,a){var i,o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){var l=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*o}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var d=!0,p=0;p<u;p++)if(c(e,i+p)!==c(t,p)){d=!1;break}if(d)return i}return-1}function y(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function _(e,t,n,r){return W(V(t,e.length-n),e,n,r)}function x(e,t,n,r){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return x(e,t,n,r)}function w(e,t,n,r){return W(U(t),e,n,r)}function O(e,t,n,r){return W(function(e,t){for(var n,r,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,a=n%256,i.push(a),i.push(r);return i}(t,e.length-n),e,n,r)}function j(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var i,o,s,u,c=e[a],l=null,d=c>239?4:c>223?3:c>191?2:1;if(a+d<=n)switch(d){case 1:c<128&&(l=c);break;case 2:128===(192&(i=e[a+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[a+1],o=e[a+2],128===(192&i)&&128===(192&o)&&(u=(15&c)<<12|(63&i)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[a+1],o=e[a+2],s=e[a+3],128===(192&i)&&128===(192&o)&&128===(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),a+=d}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,a=0,i=Math.min(n,r);a<i;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var o=e[n];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,a),a+=o.length}return r},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,a){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(a>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(i,o),c=this.slice(r,a),l=e.slice(t,n),d=0;d<s;++d)if(c[d]!==l[d]){i=c[d],o=l[d];break}return i<o?-1:o<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function N(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function E(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var a="",i=t;i<n;++i)a+=B(e[i]);return a}function I(e,t,n){for(var r=e.slice(t,n),a="",i=0;i<r.length;i+=2)a+=String.fromCharCode(r[i]+256*r[i+1]);return a}function A(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,a,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-n,2);a<i;++a)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-n,4);a<i;++a)e[n+a]=t>>>8*(r?a:3-a)&255}function F(e,t,n,r,a,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return i||F(e,0,n,4),a.write(e,t,n,r,23,4),n+4}function P(e,t,n,r,i){return i||F(e,0,n,8),a.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var a=t-e;n=new u(a,void 0);for(var i=0;i<a;++i)n[i]=this[i+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e+--t],a=1;t>0&&(a*=256);)r+=this[e+--t]*a;return r},u.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var r=t,a=1,i=this[e+--r];r>0&&(a*=256);)i+=this[e+--r]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),a.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),a.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),a.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),a.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1,i=0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=e/a&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var a=n-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);R(this,e,t,n,a-1,-a)}var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);R(this,e,t,n,a-1,-a)}var i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return P(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return P(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a,i=r-n;if(this===e&&n<t&&t<r)for(a=i-1;a>=0;--a)e[a+t]=this[a+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=u.isBuffer(e)?e:V(new u(e,r).toString()),s=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var n;t=t||1/0;for(var r=e.length,a=null,i=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function W(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}}).call(this,n(154))},function(e,t,n){"use strict";(function(e){n(12);var t=n(228),r=n(40),a=Object(r.c)();a.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),a.registerFlag("IS_BROWSER",(function(){return t.isBrowser()})),a.registerFlag("IS_NODE",(function(){return"undefined"!==typeof e&&"undefined"!==typeof e.versions&&"undefined"!==typeof e.versions.node})),a.registerFlag("IS_CHROME",(function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),a.registerFlag("IS_SAFARI",(function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)})),a.registerFlag("PROD",(function(){return!1})),a.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return a.getBool("DEBUG")})),a.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),a.registerFlag("IS_TEST",(function(){return!1})),a.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(function(){return a.getBool("DEBUG")})),a.registerFlag("WRAP_TO_IMAGEBITMAP",(function(){return!1})),a.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(function(){return!1})),a.registerFlag("USE_SETTIMEOUTCUSTOM",(function(){return!1}))}).call(this,n(171))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(4),a=n(11),i=function(){function e(t,n){Object(r.a)(this,e),this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return Object(a.a)(e,[{key:"get",value:function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}},{key:"set",value:function(e,t){this.dataIdsCount++,this.data.set(e,t)}},{key:"has",value:function(e){return this.data.has(e)}},{key:"delete",value:function(e){return this.dataIdsCount--,this.data.delete(e)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),e}(),o=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,[{key:"refCount",value:function(e){return s("refCount")}},{key:"incRef",value:function(e){return s("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(e){return s("time")}},{key:"read",value:function(e){return s("read")}},{key:"readSync",value:function(e){return s("readSync")}},{key:"readToGPU",value:function(e,t){return s("readToGPU")}},{key:"numDataIds",value:function(){return s("numDataIds")}},{key:"disposeData",value:function(e,t){return s("disposeData")}},{key:"write",value:function(e,t,n){return s("write")}},{key:"move",value:function(e,t,n,r,a){return s("move")}},{key:"createTensorFromGPUData",value:function(e,t,n){return s("createTensorFromGPUData")}},{key:"memory",value:function(){return s("memory")}},{key:"floatPrecision",value:function(){return s("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"dispose",value:function(){return s("dispose")}}]),e}();function s(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({tanh_:function(e){var t={x:Object(i.a)(e,"x","tanh","float32")};return r.a.runKernel(a.kd,t)}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=1.7580993408473768,a=1.0507009873554805},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"copyModel",(function(){return K.b})),n.d(r,"listModels",(function(){return K.c})),n.d(r,"moveModel",(function(){return K.d})),n.d(r,"removeModel",(function(){return K.e})),n.d(r,"browserFiles",(function(){return j})),n.d(r,"browserHTTPRequest",(function(){return B})),n.d(r,"concatenateArrayBuffers",(function(){return b.d})),n.d(r,"decodeWeights",(function(){return b.e})),n.d(r,"encodeWeights",(function(){return b.f})),n.d(r,"fromMemory",(function(){return H})),n.d(r,"fromMemorySync",(function(){return G})),n.d(r,"getLoadHandlers",(function(){return g.b})),n.d(r,"getModelArtifactsForJSON",(function(){return b.g})),n.d(r,"getModelArtifactsForJSONSync",(function(){return b.h})),n.d(r,"getModelArtifactsInfoForJSON",(function(){return b.i})),n.d(r,"getSaveHandlers",(function(){return g.c})),n.d(r,"getWeightSpecs",(function(){return b.k})),n.d(r,"http",(function(){return z})),n.d(r,"isHTTPScheme",(function(){return L})),n.d(r,"loadWeights",(function(){return A})),n.d(r,"registerLoadRouter",(function(){return g.d})),n.d(r,"registerSaveRouter",(function(){return g.e})),n.d(r,"weightsLoaderFactory",(function(){return D})),n.d(r,"withSaveHandler",(function(){return $})),n.d(r,"withSaveHandlerSync",(function(){return q}));var a={};n.r(a),n.d(a,"confusionMatrix",(function(){return ne}));var i={};n.r(i),n.d(i,"fromPixelsAsync",(function(){return de})),n.d(i,"toPixels",(function(){return fe})),n.d(i,"fromPixels",(function(){return me}));var o={};n.r(o),n.d(o,"prepareAndValidate",(function(){return ve}));var s={};n.r(s),n.d(s,"segOpComputeOptimalWindowSize",(function(){return Ut})),n.d(s,"computeOutShape",(function(){return Wt})),n.d(s,"collectGatherOpShapeInfo",(function(){return Ht}));var u={};n.r(u),n.d(u,"axesAreInnerMostDims",(function(){return ze.b})),n.d(u,"combineLocations",(function(){return ze.c})),n.d(u,"computeOutAndReduceShapes",(function(){return ze.d})),n.d(u,"expandShapeToKeepDim",(function(){return ze.e})),n.d(u,"assertAxesAreInnerMostDims",(function(){return ze.a})),n.d(u,"getAxesPermutation",(function(){return ze.f})),n.d(u,"getUndoAxesPermutation",(function(){return ze.h})),n.d(u,"getInnerMostAxes",(function(){return ze.g})),n.d(u,"getBroadcastDims",(function(){return re.getBroadcastDims})),n.d(u,"getReductionAxes",(function(){return re.getReductionAxes})),n.d(u,"assertAndGetBroadcastShape",(function(){return re.assertAndGetBroadcastShape})),n.d(u,"computeDilation2DInfo",(function(){return We.e})),n.d(u,"computePool2DInfo",(function(){return We.f})),n.d(u,"computePool3DInfo",(function(){return We.g})),n.d(u,"computeConv2DInfo",(function(){return We.b})),n.d(u,"computeConv3DInfo",(function(){return We.c})),n.d(u,"computeDefaultPad",(function(){return We.d})),n.d(u,"tupleValuesAreOne",(function(){return We.k})),n.d(u,"eitherStridesOrDilationsAreOne",(function(){return We.i})),n.d(u,"stridesOrDilationsArePositive",(function(){return We.j})),n.d(u,"convertConv2DDataFormat",(function(){return We.h})),n.d(u,"checkPadOnDimRoundingMode",(function(){return We.a})),n.d(u,"getFusedDyActivation",(function(){return He.c})),n.d(u,"getFusedBiasGradient",(function(){return He.b})),n.d(u,"applyActivation",(function(){return He.a})),n.d(u,"shouldFuse",(function(){return He.d})),n.d(u,"slice_util",(function(){return ge})),n.d(u,"upcastType",(function(){return Ae.e})),n.d(u,"validateUpdateShape",(function(){return be.validateUpdateShape})),n.d(u,"validateInput",(function(){return be.validateInput})),n.d(u,"calculateShapes",(function(){return be.calculateShapes})),n.d(u,"warn",(function(){return lt.b})),n.d(u,"log",(function(){return lt.a})),n.d(u,"segment_util",(function(){return s})),n.d(u,"fromUint8ToStringArray",(function(){return Gt})),n.d(u,"fromStringArrayToUint8",(function(){return $t})),n.d(u,"assertParamsConsistent",(function(){return Be})),n.d(u,"computeOutShape",(function(){return Ve})),n.d(u,"RowPartitionType",(function(){return Ue})),n.d(u,"combineRaggedTensorToTensorShapes",(function(){return Ge})),n.d(u,"getRowPartitionTypesHelper",(function(){return $e})),n.d(u,"getRaggedRank",(function(){return qe})),n.d(u,"validateDefaultValueShape",(function(){return Ke})),n.d(u,"PARALLELIZE_THRESHOLD",(function(){return Xe})),n.d(u,"computeOptimalWindowSize",(function(){return Ye})),n.d(u,"getImageCenter",(function(){return Ze})),n.d(u,"getReshaped",(function(){return Qe})),n.d(u,"getPermuted",(function(){return Je})),n.d(u,"getReshapedPermuted",(function(){return et})),n.d(u,"getSliceBeginCoords",(function(){return tt})),n.d(u,"getSliceSize",(function(){return nt})),n.d(u,"prepareAndValidate",(function(){return ve})),n.d(u,"SELU_SCALEALPHA",(function(){return rt.b})),n.d(u,"SELU_SCALE",(function(){return rt.a})),n.d(u,"ERF_P",(function(){return at})),n.d(u,"ERF_A1",(function(){return it})),n.d(u,"ERF_A2",(function(){return ot})),n.d(u,"ERF_A3",(function(){return st})),n.d(u,"ERF_A4",(function(){return ut})),n.d(u,"ERF_A5",(function(){return ct})),n.d(u,"mergeRealAndImagArrays",(function(){return dt})),n.d(u,"splitRealAndImagArrays",(function(){return pt})),n.d(u,"complexWithEvenIndex",(function(){return ft})),n.d(u,"complexWithOddIndex",(function(){return ht})),n.d(u,"getComplexWithIndex",(function(){return mt})),n.d(u,"assignToTypedArray",(function(){return vt})),n.d(u,"exponents",(function(){return bt})),n.d(u,"exponent",(function(){return gt})),n.d(u,"decodeEinsumEquation",(function(){return wt})),n.d(u,"getEinsumPermutation",(function(){return Ot})),n.d(u,"checkEinsumDimSizes",(function(){return jt})),n.d(u,"getEinsumComputePath",(function(){return St})),n.d(u,"isIdentityPermutation",(function(){return Ct})),n.d(u,"prepareSplitSize",(function(){return Nt})),n.d(u,"getSparseFillEmptyRowsIndicesDenseShapeMismatch",(function(){return Et})),n.d(u,"getSparseFillEmptyRowsNegativeIndexErrorMessage",(function(){return It})),n.d(u,"getSparseFillEmptyRowsOutOfRangeIndexErrorMessage",(function(){return At})),n.d(u,"getSparseReshapeMultipleNegativeOneOutputDimErrorMessage",(function(){return Rt})),n.d(u,"getSparseReshapeNegativeOutputDimErrorMessage",(function(){return Dt})),n.d(u,"getSparseReshapeEmptyTensorZeroOutputDimErrorMessage",(function(){return Mt})),n.d(u,"getSparseReshapeInputOutputMultipleErrorMessage",(function(){return Ft})),n.d(u,"getSparseReshapeInputOutputMismatchErrorMessage",(function(){return Lt})),n.d(u,"getSparseSegmentReductionNegativeSegmentIdsErrorMessage",(function(){return Pt})),n.d(u,"getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage",(function(){return zt})),n.d(u,"getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage",(function(){return Bt})),n.d(u,"getSparseSegmentReductionIndicesOutOfRangeErrorMessage",(function(){return Vt}));var c={};n.r(c),n.d(c,"nonMaxSuppressionV3Impl",(function(){return Kt.a})),n.d(c,"nonMaxSuppressionV4Impl",(function(){return Kt.b})),n.d(c,"nonMaxSuppressionV5Impl",(function(){return Kt.c})),n.d(c,"whereImpl",(function(){return Xt.a}));n(270),n(271);var l=n(18),d=n(2),p=n.n(d),f=n(7),h=n(4),m=n(11),v=(n(212),n(40)),b=n(53),g=n(66),y="model",_=".json",x=".weights.bin";function k(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var w=function(){function e(t){if(Object(h.a)(this,e),!Object(v.c)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t=y),this.modelJsonFileName=t+_,this.weightDataFileName=t+x}return Object(m.a)(e,[{key:"save",value:function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r,a,i,o,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof document){e.next=2;break}throw new Error("Browser downloads are not supported in this environment since `document` is not present");case 2:if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer)){e.next=7;break}throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 7:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],a=Object(b.j)(t,r),i=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(o=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor).download=this.modelJsonFileName,o.href=i,e.next=15,k((function(){return o.dispatchEvent(new MouseEvent("click"))}));case 15:if(null==t.weightData){e.next=21;break}return(s=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=n,e.next=21,k((function(){return s.dispatchEvent(new MouseEvent("click"))}));case 21:return e.abrupt("return",{modelArtifactsInfo:Object(b.i)(t)});case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();w.URL_SCHEME="downloads://";var O=function(){function e(t){if(Object(h.a)(this,e),null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(t));this.jsonFile=t[0],this.weightsFiles=t.slice(1)}return Object(m.a)(e,[{key:"load",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(r){var a=JSON.parse(r.target.result),i=a.modelTopology;if(null!=i)if(null!=a.weightsManifest)if(0!==t.weightsFiles.length){var o=Object(b.g)(a,(function(e){return t.loadWeights(e)}));e(o)}else e({modelTopology:i});else n(new Error("weightManifest field is missing from file ".concat(t.jsonFile.name)));else n(new Error("modelTopology field is missing from file ".concat(t.jsonFile.name)))},r.onerror=function(e){return n("Failed to read model topology and weights manifest JSON "+"from file '".concat(t.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},r.readAsText(t.jsonFile)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(e){var t=this,n=[],r=[],a=!0,i=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value;n.push.apply(n,Object(l.a)(c.weights)),r.push.apply(r,Object(l.a)(c.paths))}}catch(f){i=!0,o=f}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}var d=this.checkManifestAndWeightFiles(e),p=r.map((function(e){return t.loadWeightsFile(e,d[e])}));return Promise.all(p).then((function(e){return[n,Object(b.d)(e)]}))}},{key:"loadWeightsFile",value:function(e,t){return new Promise((function(n,r){var a=new FileReader;a.onload=function(e){var t=e.target.result;n(t)},a.onerror=function(t){return r("Failed to weights data from file of path '".concat(e,"'."))},a.readAsArrayBuffer(t)}))}},{key:"checkManifestAndWeightFiles",value:function(e){var t=this,n=[],r=this.weightsFiles.map((function(e){return Object(b.c)(e.name)})),a={},i=!0,o=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){u.value.paths.forEach((function(e){var i=Object(b.c)(e);if(-1!==n.indexOf(i))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(i,"'"));if(n.push(i),-1===r.indexOf(i))throw new Error("Weight file with basename '".concat(i,"' is not provided."));a[e]=t.weightsFiles[r.indexOf(i)]}))}}catch(l){o=!0,s=l}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}if(n.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(n.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return a}}]),e}();function j(e){return new O(e)}g.a.registerSaveRouter((function(e){return Object(v.c)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(w.URL_SCHEME)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new w(e)}(e.slice(w.URL_SCHEME.length)):null}));var S=n(9),C=n(21);function T(e,t,n,r){!function(e){Object(C.b)(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){Object(C.b)(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e)})),Object(C.b)(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t)})),Object(C.b)(t>=e,(function(){return"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)}))}(n=null==n?0:n,r=null==r?1:r);var a=0;return Promise.all(e.map((function(i){return i.then((function(i){var o=n+ ++a/e.length*(r-n);return t(o),i})),i})))}var N=n(217);function E(e,t){return I.apply(this,arguments)}function I(){return(I=Object(f.a)(p.a.mark((function e(t,n){var r,a,i,o,s,u,c,l,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),r=null==n.fetchFunc?Object(v.c)().platform.fetch:n.fetchFunc,a=t.map((function(e){return r(e,n.requestInit,{isBinary:!0})})),i=0,o=.5,null!=n.onProgress){e.next=11;break}return e.next=8,Promise.all(a);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,T(a,n.onProgress,i,o);case 13:e.t0=e.sent;case 14:if(s=e.t0,u=s.map((function(e){return e.arrayBuffer()})),c=.5,l=1,null!=n.onProgress){e.next=24;break}return e.next=21,Promise.all(u);case 21:e.t1=e.sent,e.next=27;break;case 24:return e.next=26,T(u,n.onProgress,c,l);case 26:e.t1=e.sent;case 27:return d=e.t1,e.abrupt("return",d);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return R.apply(this,arguments)}function R(){return(R=Object(f.a)(p.a.mark((function e(t){var n,r,a,i,o=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"",r=o.length>2?o[2]:void 0,a=o.length>3?o[3]:void 0,i=D((function(e){return E(e,{requestInit:a})})),e.abrupt("return",i(t,n,r));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return function(){var t=Object(f.a)(p.a.mark((function t(n){var r,a,i,o,s,u,c,l,d,f,h,m,v=arguments;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=v.length>1&&void 0!==v[1]?v[1]:"",a=v.length>2?v[2]:void 0,i=n.map((function(){return!1})),o={},s=null!=a?a.map((function(){return!1})):[],u=[],n.forEach((function(e,t){var n=0;e.weights.forEach((function(e){var r="quantization"in e?e.quantization.dtype:e.dtype,c=N.a[r]*C.N(e.shape),l=function(){i[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:c})};null!=a?a.forEach((function(t,n){t===e.name&&(l(),s[n]=!0)})):l(),u.push(e.name),n+=c}))})),s.every((function(e){return e}))){t.next=10;break}throw c=a.filter((function(e,t){return!s[t]})),new Error("Could not find weights in manifest with names: "+"".concat(c.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(u.join(", "),"."));case 10:return l=i.reduce((function(e,t,n){return t&&e.push(n),e}),[]),d=[],l.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;d.push(t)}))})),t.next=15,e(d);case 15:return f=t.sent,h={},m=0,l.forEach((function(e){for(var t=n[e].paths.length,r=0,a=0;a<t;a++)r+=f[m+a].byteLength;for(var i=new ArrayBuffer(r),s=new Uint8Array(i),u=0,c=0;c<t;c++){var l=new Uint8Array(f[m+c]);s.set(l,u),u+=l.byteLength}o[e].forEach((function(e){var t=i.slice(e.groupOffset,e.groupOffset+e.sizeBytes),n=Object(b.e)(t,[e.manifestEntry]);for(var r in n)h[r]=n[r]})),m+=t})),t.abrupt("return",h);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var M=function(){function e(t,n){if(Object(h.a)(this,e),this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,null!=n.fetchFunc?(Object(C.b)("function"===typeof n.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=n.fetchFunc):this.fetch=Object(v.c)().platform.fetch,Object(C.b)(null!=t&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&Object(C.b)(2===t.length,(function(){return"URL paths for http must have a length of 2, "+"(actual length is ".concat(t.length,").")})),this.path=t,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return Object(m.a)(e,[{key:"save",value:function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r,a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");case 2:return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],a=Object(b.j)(t,r),n.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),null!=t.weightData&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),e.next=10,this.fetch(this.path,n);case 10:if(!(i=e.sent).ok){e.next=15;break}return e.abrupt("return",{modelArtifactsInfo:Object(b.i)(t),responses:[i]});case 15:throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(i.status,"."));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t,n,r,a,i,o=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(this.path,this.requestInit);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(t.status,". Please verify this URL points to ")+"the model JSON of the model to load.");case 5:return e.prev=5,e.next=8,t.json();case 8:n=e.sent,e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(5),r="Failed to parse model JSON of response from ".concat(this.path,"."),this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 16:if(a=n.modelTopology,i=n.weightsManifest,null!=a||null!=i){e.next=20;break}throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");case 20:return e.abrupt("return",Object(b.g)(n,(function(e){return o.loadWeights(e)})));case 21:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r,a,i,o,s,u,c,d,f,h,m,v,g,y,_,x,k,w,O,j,C;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.isArray(this.path)?this.path[1]:this.path,r=F(n),a=Object(S.a)(r,2),i=a[0],o=a[1],s=this.weightPathPrefix||i,u=Object(b.k)(t),c=[],d=[],f=!0,h=!1,m=void 0,e.prev=9,v=t[Symbol.iterator]();case 11:if(f=(g=v.next()).done){e.next=35;break}for(y=g.value,_=!0,x=!1,k=void 0,e.prev=16,w=y.paths[Symbol.iterator]();!(_=(O=w.next()).done);_=!0)j=O.value,null!=this.weightUrlConverter?d.push(this.weightUrlConverter(j)):c.push(s+j+o);e.next=24;break;case 20:e.prev=20,e.t0=e.catch(16),x=!0,k=e.t0;case 24:e.prev=24,e.prev=25,_||null==w.return||w.return();case 27:if(e.prev=27,!x){e.next=30;break}throw k;case 30:return e.finish(27);case 31:return e.finish(24);case 32:f=!0,e.next=11;break;case 35:e.next=41;break;case 37:e.prev=37,e.t1=e.catch(9),h=!0,m=e.t1;case 41:e.prev=41,e.prev=42,f||null==v.return||v.return();case 44:if(e.prev=44,!h){e.next=47;break}throw m;case 47:return e.finish(44);case 48:return e.finish(41);case 49:if(!this.weightUrlConverter){e.next=58;break}return e.t2=c.push,e.t3=c,e.t4=l.a,e.next=55,Promise.all(d);case 55:e.t5=e.sent,e.t6=(0,e.t4)(e.t5),e.t2.apply.call(e.t2,e.t3,e.t6);case 58:return e.next=60,E(c,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});case 60:return C=e.sent,e.abrupt("return",[u,Object(b.d)(C)]);case 62:case"end":return e.stop()}}),e,this,[[9,37,41,49],[16,20,24,32],[25,,27,31],[42,,44,48]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function F(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}function L(e){return null!=e.match(M.URL_SCHEME_REGEX)}M.URL_SCHEME_REGEX=/^https?:\/\//;var P=function(e,t){if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;return(Array.isArray(e)?e.every((function(e){return L(e)})):L(e))?z(e,t):null};function z(e,t){return new M(e,t)}function B(e,t){return z(e,t)}g.a.registerSaveRouter(P),g.a.registerLoadRouter(P);var V=function(){function e(t){Object(h.a)(this,e),this.modelArtifacts=t}return Object(m.a)(e,[{key:"load",value:function(){return this.modelArtifacts}}]),e}(),U=function(){function e(t){Object(h.a)(this,e),this.saveHandler=t}return Object(m.a)(e,[{key:"save",value:function(e){return this.saveHandler(e)}}]),e}(),W=function e(t){Object(h.a)(this,e),t.load&&(this.load=function(){return Promise.resolve(t.load())}),t.save&&(this.save=function(e){return Promise.resolve(t.save(e))})};function H(e,t,n,r){var a=arguments;return new W(G.apply(void 0,Object(l.a)(a)))}function G(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new V(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new V({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new V({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))}function $(e){return new U(e)}function q(e){return new U(e)}var K=n(140),X=n(6),Y=n(28),Z=n(44),Q=n(162),J=n(10),ee=n(68);var te,ne=Object(J.b)({confusionMatrix_:function(e,t,n){var r=Object(X.a)(e,"labels","confusionMatrix"),a=Object(X.a)(t,"predictions","confusionMatrix");C.b(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, "+"but got ".concat(n)})),C.b(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got ".concat(r.rank)})),C.b(1===a.rank,(function(){return"Expected the rank of predictions to be 1, "+"but got ".concat(a.rank)})),C.b(r.shape[0]===a.shape[0],(function(){return"Mismatch in the number of examples: "+"".concat(r.shape[0]," vs. ").concat(a.shape[0],". ")+"Labels and predictions should have the same number of elements."})),C.b(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+"".concat(n)}));var i=Object(Q.a)(Object(Y.a)(r,"int32"),n),o=Object(Q.a)(Object(Y.a)(a,"int32"),n),s=Object(ee.a)(i),u=Object(Z.a)(s,o);return Object(Y.a)(u,"int32")}}),re=n(34),ae=n(12),ie=n(8),oe=n(96),se=n(15),ue=n(258);function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,i=!1,o=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)i=!0;else if(null!=e.getContext)o=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));s=!0}if(null!=Object(oe.c)(ie.kb,ae.a.backendName)){var u={pixels:e},c={numChannels:t};return ae.a.runKernel(ie.kb,u,c)}var l,d,p=a?[e.videoWidth,e.videoHeight]:[e.width,e.height],f=Object(S.a)(p,2),h=f[0],m=f[1];if(o)l=e.getContext("2d").getImageData(0,0,h,m).data;else if(r||n)l=e.data;else if(i||a||s){if(null==te)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");te=new OffscreenCanvas(1,1).getContext("2d")}else te=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});te.canvas.width=h,te.canvas.height=m,te.drawImage(e,0,0,h,m),l=te.getImageData(0,0,h,m).data}if(4===t)d=new Int32Array(l);else{var v=h*m;d=new Int32Array(v*t);for(var b=0;b<v;b++)for(var g=0;g<t;++g)d[b*t+g]=l[4*b+g]}var y=[m,h,t];return Object(ue.a)(d,y,"int32")}function le(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}function de(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(f.a)(p.a.mark((function e(t){var n,r,a,i=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:3,r=null,!Object(v.c)().getBool("WRAP_TO_IMAGEBITMAP")||!le(t)){e.next=15;break}return e.prev=3,e.next=6,createImageBitmap(t,{premultiplyAlpha:"none"});case 6:a=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a=null;case 12:r=null!=a&&a.width===t.width&&a.height===t.height?a:t,e.next=16;break;case 15:r=t;case 16:return e.abrupt("return",ce(r,n));case 17:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function fe(e,t){return he.apply(this,arguments)}function he(){return(he=Object(f.a)(p.a.mark((function e(t,n){var r,a,i,o,s,u,c,l,d,f,h,m,v,b,g,y,_;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(X.a)(t,"img","toPixels"),t instanceof se.a||(a=r,r=Object(Y.a)(a,"int32"),a.dispose()),2===r.rank||3===r.rank){e.next=4;break}throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(r.rank,"."));case 4:if(i=r.shape.slice(0,2),o=Object(S.a)(i,2),s=o[0],u=o[1],!((c=2===r.rank?1:r.shape[2])>4||2===c)){e.next=8;break}throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(c));case 8:if("float32"===r.dtype||"int32"===r.dtype){e.next=10;break}throw new Error("Unsupported type for toPixels: ".concat(r.dtype,".")+" Please use float32 or int32 tensors.");case 10:return e.next=12,r.data();case 12:l=e.sent,d="float32"===r.dtype?255:1,f=new Uint8ClampedArray(u*s*4),h=0;case 16:if(!(h<s*u)){e.next=41;break}m=[0,0,0,255],v=0;case 19:if(!(v<c)){e.next=33;break}if(b=l[h*c+v],"float32"!==r.dtype){e.next=26;break}if(!(b<0||b>1)){e.next=24;break}throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(b,"."));case 24:e.next=29;break;case 26:if("int32"!==r.dtype){e.next=29;break}if(!(b<0||b>255)){e.next=29;break}throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(b,"."));case 29:1===c?(m[0]=b*d,m[1]=b*d,m[2]=b*d):m[v]=b*d;case 30:v++,e.next=19;break;case 33:f[(g=4*h)+0]=Math.round(m[0]),f[g+1]=Math.round(m[1]),f[g+2]=Math.round(m[2]),f[g+3]=Math.round(m[3]);case 38:++h,e.next=16;break;case 41:return null!=n&&(n.width=u,n.height=s,y=n.getContext("2d"),_=new ImageData(f,u,s),y.putImageData(_,0,0)),r!==t&&r.dispose(),e.abrupt("return",f);case 44:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me=Object(J.b)({fromPixels_:ce});function ve(e,t){var n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[r-1]," vs. ").concat(n));if(0===Object(C.N)(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));for(var a=t.shape,i=a[a.length-1],o=1,s=0;s<a.length-1;++s)o*=a[s];var u=e.shape,c=a.slice();c.pop();for(var d=1,p=i;p<n;++p)d*=u[p],c.push(u[p]);var f=[].concat(Object(l.a)(Object(C.j)(e.shape).map((function(e){return e/d}))),[1]).slice(0,i);return[c,o,d,f]}var be=n(141),ge=n(174),ye=n(177),_e=n(43),xe=n(204),ke=n(24),we=n(175),Oe=n(178),je=n(179),Se=n(180),Ce=n(181),Te=n(85),Ne=n(182),Ee=n(143),Ie=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"sgd",value:function(e){return new Ee.a(e)}},{key:"momentum",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Ce.a(e,t,n)}},{key:"rmsprop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Ne.a(e,t,n,r,a)}},{key:"adam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new je.a(e,t,n,r)}},{key:"adadelta",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new we.a(e,t,n)}},{key:"adamax",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new Se.a(e,t,n,r,a)}},{key:"adagrad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return new Oe.a(e,t)}}]),e}(),Ae=n(84),Re=n(42),De=n(58),Me=Ie,Fe=n(48),Le=n(56),Pe=n(383),ze=n(62);function Be(e,t){var n=e[0].length;e.forEach((function(e,t){C.b(e.length===n,(function(){return"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")}))})),C.b(t>=0&&t<n,(function(){return"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")}));var r=e[0];e.forEach((function(e,a){for(var i=0;i<n;i++)C.b(i===t||e[i]===r[i],(function(){return"Error in concat".concat(n,"D: Shape of tensors[").concat(a,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(a,".")}))}))}function Ve(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}var Ue,We=n(41),He=n(70);function Ge(e,t,n){var r=new Array;if(null==n&&null==t)return r;if(null==t)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(null==n)return r;if(e+n.length!==r.length)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.rank = ").concat(e+n.length,", but shape.rank = ").concat(r.length));for(var a=1;a<n.length;++a){var i=n[a],o=r[r.length-n.length+a],s=r[o];if(i>=0)if(s>=0){if(s!==i)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.shape[").concat(a+e,"] = ").concat(i," but shape[").concat(a+e,"] = ").concat(s))}else r[o]=i}return r}function $e(e){var t={FIRST_DIM_SIZE:Ue.FIRST_DIM_SIZE,VALUE_ROWIDS:Ue.VALUE_ROWIDS,ROW_LENGTHS:Ue.ROW_LENGTHS,ROW_SPLITS:Ue.ROW_SPLITS,ROW_LIMITS:Ue.ROW_LIMITS,ROW_STARTS:Ue.ROW_STARTS},n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;if(!(u in t))break;n.push(t[u])}}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}function qe(e){return 0===e.length?0:e[0]===Ue.FIRST_DIM_SIZE?e.length-1:e.length}function Ke(e,t){if(null!=e&&null!=t){var n=e.length,r=t.length;if(n>=r)throw new Error("defaultValue.shape=".concat(e," and ragged tensor flatValues.shape=").concat(t,", are incompatible: defaultValue.rank = ").concat(n," must be less than ragged tensor input flatValues.rank = ").concat(r,")"));for(var a=0;a<Math.min(n,r-1);++a){var i=e[a],o=t[a+1];if(i>=0&&o>=0&&1!==i&&i!==o)throw new Error("defaultValue.shape=".concat(e,", and ragged tensor input flatValues.shape=").concat(t," are incompatible: defaultValue.shape[").concat(a-e.length,"] = ").concat(i," but ragged tensor input.flatValues.shape[").concat(a-e.length,"] = ").concat(o))}}}!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(Ue||(Ue={}));var Xe=30;function Ye(e){return e<=Xe?e:Object(C.F)(e,Math.floor(Math.sqrt(e)))}function Ze(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function Qe(e,t,n){var r=[];if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])(r=r.concat(t.slice(0))).push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);for(var a=t.length,i=0;i<a;++i)r=r.concat([e[i+1]/t[i],t[i]]);r=r.concat(e.slice(a+1))}return r}function Je(e,t){var n=[];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){n.push(t);for(var r=t+1;r<e;++r)r<=2*t?(n.push(r),n.push(r-(t+1))):n.push(r)}else{for(var a=[],i=[],o=1;o<e;++o)o>=2*t+1||o%2===1?i.push(o):a.push(o);n.push.apply(n,a),n.push(0),n.push.apply(n,i)}return n}function et(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(var i=1;i<e.length;++i)i<=t.length?r?a.push(t[i-1]*e[i]):a.push(e[i]/t[i-1]):a.push(e[i]);return a}function tt(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function nt(e,t,n){for(var r=e.slice(0,1),a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}var rt=n(215),at=.3275911,it=.254829592,ot=-.284496736,st=1.421413741,ut=-1.453152027,ct=1.061405429,lt=n(114);function dt(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function pt(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function ft(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function ht(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function mt(e,t){return{real:e[2*t],imag:e[2*t+1]}}function vt(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function bt(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),a=0;a<Math.ceil(e/2);a++){var i=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(i),r[a]=Math.sin(i)}return{real:n,imag:r}}function gt(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}var yt="->",_t=/->/g,xt=",",kt="...";function wt(e,t){var n=((e=e.replace(/\s/g,"")).length-e.replace(_t,"").length)/yt.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(yt,'").'));var r=e.split(yt),a=Object(S.a)(r,2),i=a[0],o=a[1];Object(C.b)(-1===i.indexOf(kt),(function(){return'The ellipsis notation ("'.concat(kt,'") is not supported yet.')}));var s=i.split(xt),u=s.length;if(t!==u)throw new Error("Expected ".concat(u," input tensors, received ").concat(t));if(u>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");for(var c=[],l=function(e){var t=o[e];if(!s.some((function(e){return-1!==e.indexOf(t)})))throw new Error("Output subscripts contain the label ".concat(t," ")+"not present in the input subscripts.");-1===c.indexOf(t)&&c.push(t)},d=0;d<o.length;++d)l(d);for(var p=0;p<i.length;++p){var f=i[p];-1===c.indexOf(f)&&f!==xt&&c.push(f)}for(var h=new Array(s.length),m=0;m<u;++m){if(new Set(s[m].split("")).size!==s[m].length)throw new Error("Found duplicate axes in input component ".concat(s[m],". ")+"Support for duplicate axes in input is not implemented yet.");h[m]=[];for(var v=0;v<s[m].length;++v)h[m].push(c.indexOf(s[m][v]))}for(var b=c.length,g=[],y=o.length;y<b;++y)g.push(y);return{allDims:c,summedDims:g,idDims:h}}function Ot(e,t){var n=new Array(e);n.fill(-1);for(var r=0;r<t.length;++r)n[t[r]]=r;for(var a=[],i=0;i<e;++i)-1===n[i]&&a.push(i);return{permutationIndices:n=n.filter((function(e){return-1!==e})),expandDims:a}}function jt(e,t,n){for(var r=new Array(e),a=function(e){for(var a=n[e].shape,i=function(n){void 0===r[t[e][n]]?r[t[e][n]]=a[n]:Object(C.b)(r[t[e][n]]===a[n],(function(){return"Expected dimension ".concat(r[t[e][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(a),", ")+"but got dimension ".concat(a[n])}))},o=0;o<t[e].length;++o)i(o)},i=0;i<n.length;++i)a(i)}function St(e,t){var n,r=e,a=[];0===e.length&&r.push(-1),n=e.length+1;for(var i=0;i<n;++i)a.push([]);for(var o=[],s=0;s<r.length;++s){var u=Tt(t,r[s]),c=!0,l=!1,d=void 0;try{for(var p,f=u[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var h=p.value;-1===o.indexOf(h)&&(a[s].push(h),o.push(h))}}catch(m){l=!0,d=m}finally{try{c||null==f.return||f.return()}finally{if(l)throw d}}}return{path:r,steps:a}}function Ct(e){return e.every((function(e,t){return e===t}))}function Tt(e,t){for(var n=[],r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function Nt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)Object(C.b)(e.shape[n]%t===0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(e.shape[n]/t);else{var a=t.reduce((function(e,t){return-1===t&&(e+=1),e}),0);Object(C.b)(a<=1,(function(){return"There should be only one negative value in split array."}));var i=t.indexOf(-1);if(-1!==i){var o=t.reduce((function(e,t){return t>0?e+t:e}));t[i]=e.shape[n]-o}Object(C.b)(e.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t}return r}function Et(e){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(e)}function It(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function At(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function Rt(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function Dt(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function Mt(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function Ft(e,t){var n=Object(C.N)(e),r=Object(C.N)(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(r,". inputShape=").concat(e," outputShape= ").concat(t)}function Lt(e,t){var n=Object(C.N)(e),r=Object(C.N)(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(r,". inputShape=").concat(e," outputShape=").concat(t)}function Pt(){return"segment ids must be >= 0"}function zt(){return"segment ids are not increasing"}function Bt(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function Vt(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function Ut(e,t){var n,r=!1;for(e<=Xe?(n=e,r=!0):n=Object(C.F)(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=Object(C.F)(e,n+1);return n}function Wt(e,t,n){for(var r=[],a=e.length,i=0;i<a;i++)i!==t?r.push(e[i]):r.push(n);return r}function Ht(e,t,n,r){var a=t.shape.length,i=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error("Expect batchDims in the range of [-".concat(a,", ").concat(a,"], but got ").concat(r));if(r<0&&(r+=a),r>i)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(i,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(var o=0;o<r;++o)if(e.shape[o]!==t.shape[o])throw new Error("x.shape[".concat(o,"]: ").concat(e.shape[o]," should be equal to indices.shape[").concat(o,"]: ").concat(t.shape[o],"."));for(var s=e.shape[n],u=[],c=1,l=1,d=1,p=0;p<r;++p)u.push(e.shape[p]),c*=e.shape[p];for(var f=r;f<n;f++)u.push(e.shape[f]),l*=e.shape[f];for(var h=r;h<a;h++)u.push(t.shape[h]);for(var m=n+1;m<i;m++)u.push(e.shape[m]),d*=e.shape[m];return{batchSize:c,sliceSize:d,outerSize:l,dimSize:s,outputShape:u}}function Gt(e){try{return e.map((function(e){return Object(ke.decodeString)(e)}))}catch(t){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(t))}}function $t(e){return e.map((function(e){return Object(ke.encodeString)(e)}))}var qt=n(228),Kt=n(125),Xt=n(261),Yt=n(213);n.d(t,"d",(function(){return we.a})),n.d(t,"e",(function(){return Oe.a})),n.d(t,"f",(function(){return je.a})),n.d(t,"g",(function(){return Se.a})),n.d(t,"hc",(function(){return Ce.a})),n.d(t,"sc",(function(){return Te.a})),n.d(t,"tc",(function(){return Ie})),n.d(t,"Ac",(function(){return Ne.a})),n.d(t,"Vc",(function(){return Ee.a})),n.d(t,"Bd",(function(){return se.a})),n.d(t,"Cd",(function(){return se.b})),n.d(t,"Md",(function(){return se.c})),n.d(t,"Fc",(function(){return Ae.a})),n.d(t,"mi",(function(){return Ae.d})),n.d(t,"Li",(function(){return Ae.e})),n.d(t,"Pd",(function(){return Re.b})),n.d(t,"Qd",(function(){return Re.c})),n.d(t,"Rd",(function(){return Re.d})),n.d(t,"Sd",(function(){return Re.e})),n.d(t,"Td",(function(){return Re.f})),n.d(t,"Ud",(function(){return Re.g})),n.d(t,"Vd",(function(){return Re.h})),n.d(t,"Wd",(function(){return Re.i})),n.d(t,"Xd",(function(){return Re.j})),n.d(t,"Yd",(function(){return Re.k})),n.d(t,"Zd",(function(){return Re.l})),n.d(t,"ae",(function(){return Re.m})),n.d(t,"be",(function(){return Re.n})),n.d(t,"ce",(function(){return Re.o})),n.d(t,"de",(function(){return Re.p})),n.d(t,"ee",(function(){return Re.q})),n.d(t,"he",(function(){return Re.r})),n.d(t,"me",(function(){return Re.w})),n.d(t,"ie",(function(){return Re.s})),n.d(t,"je",(function(){return Re.t})),n.d(t,"ke",(function(){return Re.u})),n.d(t,"le",(function(){return Re.v})),n.d(t,"ne",(function(){return Re.x})),n.d(t,"pe",(function(){return Re.z})),n.d(t,"qe",(function(){return Re.A})),n.d(t,"te",(function(){return Re.B})),n.d(t,"ue",(function(){return Re.C})),n.d(t,"ve",(function(){return Re.D})),n.d(t,"we",(function(){return Re.E})),n.d(t,"xe",(function(){return Re.F})),n.d(t,"ye",(function(){return Re.G})),n.d(t,"ze",(function(){return Re.H})),n.d(t,"Ae",(function(){return Re.I})),n.d(t,"Be",(function(){return Re.J})),n.d(t,"Ce",(function(){return Re.K})),n.d(t,"De",(function(){return Re.L})),n.d(t,"Ee",(function(){return Re.M})),n.d(t,"Fe",(function(){return Re.N})),n.d(t,"Ge",(function(){return Re.O})),n.d(t,"He",(function(){return Re.P})),n.d(t,"Ie",(function(){return Re.Q})),n.d(t,"Ke",(function(){return Re.R})),n.d(t,"Le",(function(){return Re.S})),n.d(t,"Ne",(function(){return Re.U})),n.d(t,"Oe",(function(){return Re.V})),n.d(t,"Qe",(function(){return Re.W})),n.d(t,"Se",(function(){return Re.X})),n.d(t,"Te",(function(){return Re.Y})),n.d(t,"Ve",(function(){return Re.Z})),n.d(t,"We",(function(){return Re.ab})),n.d(t,"af",(function(){return Re.bb})),n.d(t,"bf",(function(){return Re.cb})),n.d(t,"cf",(function(){return Re.db})),n.d(t,"ef",(function(){return Re.fb})),n.d(t,"ff",(function(){return Re.gb})),n.d(t,"lf",(function(){return Re.ib})),n.d(t,"mf",(function(){return Re.jb})),n.d(t,"nf",(function(){return Re.kb})),n.d(t,"of",(function(){return Re.lb})),n.d(t,"pf",(function(){return Re.mb})),n.d(t,"qf",(function(){return Re.nb})),n.d(t,"rf",(function(){return Re.ob})),n.d(t,"tf",(function(){return Re.qb})),n.d(t,"wf",(function(){return Re.rb})),n.d(t,"xf",(function(){return Re.sb})),n.d(t,"zf",(function(){return Re.ub})),n.d(t,"If",(function(){return Re.wb})),n.d(t,"Jf",(function(){return Re.xb})),n.d(t,"Lf",(function(){return Re.zb})),n.d(t,"Qf",(function(){return Re.Db})),n.d(t,"Rf",(function(){return Re.Eb})),n.d(t,"Sf",(function(){return Re.Fb})),n.d(t,"Vf",(function(){return Re.Gb})),n.d(t,"Wf",(function(){return Re.Hb})),n.d(t,"Xf",(function(){return Re.Ib})),n.d(t,"Zf",(function(){return Re.Kb})),n.d(t,"ag",(function(){return Re.Lb})),n.d(t,"bg",(function(){return Re.Mb})),n.d(t,"cg",(function(){return Re.Nb})),n.d(t,"dg",(function(){return Re.Ob})),n.d(t,"eg",(function(){return Re.Pb})),n.d(t,"fg",(function(){return Re.Qb})),n.d(t,"gg",(function(){return Re.Rb})),n.d(t,"hg",(function(){return Re.Sb})),n.d(t,"ig",(function(){return Re.Tb})),n.d(t,"jg",(function(){return Re.Ub})),n.d(t,"lg",(function(){return Re.Wb})),n.d(t,"mg",(function(){return Re.Xb})),n.d(t,"og",(function(){return Re.Yb})),n.d(t,"pg",(function(){return Re.Zb})),n.d(t,"qg",(function(){return Re.ac})),n.d(t,"rg",(function(){return Re.bc})),n.d(t,"sg",(function(){return Re.cc})),n.d(t,"tg",(function(){return Re.dc})),n.d(t,"vg",(function(){return Re.ec})),n.d(t,"wg",(function(){return Re.fc})),n.d(t,"xg",(function(){return Re.gc})),n.d(t,"yg",(function(){return Re.hc})),n.d(t,"zg",(function(){return Re.ic})),n.d(t,"Ag",(function(){return Re.jc})),n.d(t,"Cg",(function(){return Re.lc})),n.d(t,"Dg",(function(){return Re.mc})),n.d(t,"Eg",(function(){return Re.nc})),n.d(t,"Fg",(function(){return Re.oc})),n.d(t,"Ig",(function(){return Re.qc})),n.d(t,"Jg",(function(){return Re.rc})),n.d(t,"Kg",(function(){return Re.sc})),n.d(t,"Lg",(function(){return Re.tc})),n.d(t,"Ng",(function(){return Re.vc})),n.d(t,"Og",(function(){return Re.wc})),n.d(t,"Pg",(function(){return Re.xc})),n.d(t,"Qg",(function(){return Re.yc})),n.d(t,"Rg",(function(){return Re.zc})),n.d(t,"Sg",(function(){return Re.Ac})),n.d(t,"Tg",(function(){return Re.Bc})),n.d(t,"Ug",(function(){return Re.Cc})),n.d(t,"Vg",(function(){return Re.Dc})),n.d(t,"Wg",(function(){return Re.Ec})),n.d(t,"Xg",(function(){return Re.Fc})),n.d(t,"Zg",(function(){return Re.Gc})),n.d(t,"ah",(function(){return Re.Hc})),n.d(t,"bh",(function(){return Re.Ic})),n.d(t,"ch",(function(){return Re.Jc})),n.d(t,"dh",(function(){return Re.Kc})),n.d(t,"eh",(function(){return Re.Lc})),n.d(t,"fh",(function(){return Re.Mc})),n.d(t,"gh",(function(){return Re.Nc})),n.d(t,"hh",(function(){return Re.Oc})),n.d(t,"jh",(function(){return Re.Pc})),n.d(t,"kh",(function(){return Re.Qc})),n.d(t,"oh",(function(){return Re.Rc})),n.d(t,"ph",(function(){return Re.Sc})),n.d(t,"rh",(function(){return Re.Tc})),n.d(t,"sh",(function(){return Re.Uc})),n.d(t,"th",(function(){return Re.Vc})),n.d(t,"uh",(function(){return Re.Wc})),n.d(t,"vh",(function(){return Re.Xc})),n.d(t,"wh",(function(){return Re.Yc})),n.d(t,"yh",(function(){return Re.ad})),n.d(t,"zh",(function(){return Re.bd})),n.d(t,"Ah",(function(){return Re.cd})),n.d(t,"Eh",(function(){return Re.fd})),n.d(t,"Fh",(function(){return Re.gd})),n.d(t,"Jh",(function(){return Re.hd})),n.d(t,"Kh",(function(){return Re.id})),n.d(t,"Lh",(function(){return Re.jd})),n.d(t,"Nh",(function(){return Re.ld})),n.d(t,"Oh",(function(){return Re.md})),n.d(t,"Ph",(function(){return Re.nd})),n.d(t,"Qh",(function(){return Re.od})),n.d(t,"Rh",(function(){return Re.pd})),n.d(t,"Sh",(function(){return Re.qd})),n.d(t,"Th",(function(){return Re.rd})),n.d(t,"Vh",(function(){return Re.sd})),n.d(t,"Wh",(function(){return Re.td})),n.d(t,"Xh",(function(){return Re.ud})),n.d(t,"sf",(function(){return Re.pb})),n.d(t,"Kf",(function(){return Re.yb})),n.d(t,"Pf",(function(){return Re.Cb})),n.d(t,"xh",(function(){return Re.Zc})),n.d(t,"bi",(function(){return Re.yd})),n.d(t,"ci",(function(){return Re.zd})),n.d(t,"di",(function(){return Re.Ad})),n.d(t,"ei",(function(){return Re.Bd})),n.d(t,"fi",(function(){return Re.Cd})),n.d(t,"gi",(function(){return Re.Dd})),n.d(t,"hi",(function(){return Re.Ed})),n.d(t,"ii",(function(){return Re.Fd})),n.d(t,"ki",(function(){return Re.Hd})),n.d(t,"li",(function(){return Re.Id})),n.d(t,"ni",(function(){return Re.Jd})),n.d(t,"oi",(function(){return Re.Kd})),n.d(t,"pi",(function(){return Re.Ld})),n.d(t,"qi",(function(){return Re.Md})),n.d(t,"ri",(function(){return Re.Nd})),n.d(t,"si",(function(){return Re.Od})),n.d(t,"ti",(function(){return Re.Pd})),n.d(t,"ui",(function(){return Re.Qd})),n.d(t,"vi",(function(){return Re.Rd})),n.d(t,"wi",(function(){return Re.Sd})),n.d(t,"Ai",(function(){return Re.Td})),n.d(t,"Ci",(function(){return Re.Ud})),n.d(t,"Fi",(function(){return Re.Wd})),n.d(t,"Gi",(function(){return Re.Xd})),n.d(t,"Ji",(function(){return Re.Yd})),n.d(t,"Ki",(function(){return Re.Zd})),n.d(t,"Mi",(function(){return Re.ae})),n.d(t,"Qi",(function(){return Re.be})),n.d(t,"Ti",(function(){return Re.ce})),n.d(t,"Ui",(function(){return Re.de})),n.d(t,"Vi",(function(){return Re.ee})),n.d(t,"Wi",(function(){return Re.fe})),n.d(t,"Mg",(function(){return Re.uc})),n.d(t,"pc",(function(){return Re.a})),n.d(t,"Mf",(function(){return Re.Ab})),n.d(t,"Yf",(function(){return Re.Jb})),n.d(t,"kg",(function(){return Re.Vb})),n.d(t,"ai",(function(){return Re.xd})),n.d(t,"yf",(function(){return Re.tb})),n.d(t,"Mh",(function(){return Re.kd})),n.d(t,"Yh",(function(){return Re.vd})),n.d(t,"ji",(function(){return Re.Gd})),n.d(t,"oe",(function(){return Re.y})),n.d(t,"Ei",(function(){return Re.Vd})),n.d(t,"Hg",(function(){return Re.pc})),n.d(t,"Bg",(function(){return Re.kc})),n.d(t,"Bh",(function(){return Re.dd})),n.d(t,"Dh",(function(){return Re.ed})),n.d(t,"Zh",(function(){return Re.wd})),n.d(t,"Af",(function(){return Re.vb})),n.d(t,"df",(function(){return Re.eb})),n.d(t,"if",(function(){return Re.hb})),n.d(t,"Me",(function(){return Re.T})),n.d(t,"Nf",(function(){return Re.Bb})),n.d(t,"Jc",(function(){return De.a})),n.d(t,"Di",(function(){return Me})),n.d(t,"hf",(function(){return Fe.g})),n.d(t,"gf",(function(){return Fe.f})),n.d(t,"Xe",(function(){return Fe.c})),n.d(t,"Re",(function(){return Fe.b})),n.d(t,"Ze",(function(){return Fe.e})),n.d(t,"jf",(function(){return Fe.h})),n.d(t,"ug",(function(){return Fe.m})),n.d(t,"Yg",(function(){return Fe.n})),n.d(t,"zi",(function(){return Fe.t})),n.d(t,"Ye",(function(){return Fe.d})),n.d(t,"Tf",(function(){return Fe.l})),n.d(t,"Bi",(function(){return Fe.u})),n.d(t,"Hh",(function(){return Fe.r})),n.d(t,"ih",(function(){return Fe.o})),n.d(t,"Cf",(function(){return Fe.k})),n.d(t,"qh",(function(){return Fe.q})),n.d(t,"uf",(function(){return Fe.i})),n.d(t,"vf",(function(){return Fe.j})),n.d(t,"lh",(function(){return Fe.p})),n.d(t,"fe",(function(){return Fe.a})),n.d(t,"Ih",(function(){return Fe.s})),n.d(t,"Ef",(function(){return oe.c})),n.d(t,"Df",(function(){return oe.b})),n.d(t,"Ff",(function(){return oe.d})),n.d(t,"nh",(function(){return oe.f})),n.d(t,"mh",(function(){return oe.e})),n.d(t,"Ii",(function(){return oe.h})),n.d(t,"Hi",(function(){return oe.g})),n.d(t,"Je",(function(){return oe.a})),n.d(t,"Pe",(function(){return Le.a})),n.d(t,"Gf",(function(){return Le.b})),n.d(t,"Hf",(function(){return Le.c})),n.d(t,"Oi",(function(){return Le.d})),n.d(t,"Pi",(function(){return Le.e})),n.d(t,"Ri",(function(){return Le.f})),n.d(t,"gb",(function(){return v.b})),n.d(t,"kf",(function(){return v.c})),n.d(t,"cb",(function(){return v.a})),n.d(t,"Si",(function(){return"4.4.0"})),n.d(t,"Gg",(function(){return Pe.a})),n.d(t,"se",(function(){return i})),n.d(t,"Of",(function(){return r})),n.d(t,"ng",(function(){return a})),n.d(t,"Gh",(function(){return ye})),n.d(t,"yi",(function(){return xe})),n.d(t,"Ni",(function(){return ke})),n.d(t,"ge",(function(){return u})),n.d(t,"re",(function(){return re})),n.d(t,"xi",(function(){return _e})),n.d(t,"Uh",(function(){return ge})),n.d(t,"Bf",(function(){return o})),n.d(t,"Ch",(function(){return be})),n.d(t,"Ue",(function(){return qt})),n.d(t,"Uf",(function(){return c})),n.d(t,"Fb",(function(){return Yt.b})),n.d(t,"S",(function(){return Yt.a})),n.d(t,"a",(function(){return ie.a})),n.d(t,"b",(function(){return ie.b})),n.d(t,"c",(function(){return ie.c})),n.d(t,"h",(function(){return ie.d})),n.d(t,"i",(function(){return ie.e})),n.d(t,"j",(function(){return ie.f})),n.d(t,"k",(function(){return ie.g})),n.d(t,"l",(function(){return ie.h})),n.d(t,"m",(function(){return ie.i})),n.d(t,"n",(function(){return ie.j})),n.d(t,"o",(function(){return ie.k})),n.d(t,"p",(function(){return ie.l})),n.d(t,"r",(function(){return ie.n})),n.d(t,"q",(function(){return ie.m})),n.d(t,"s",(function(){return ie.o})),n.d(t,"v",(function(){return ie.r})),n.d(t,"t",(function(){return ie.p})),n.d(t,"u",(function(){return ie.q})),n.d(t,"w",(function(){return ie.s})),n.d(t,"x",(function(){return ie.t})),n.d(t,"y",(function(){return ie.u})),n.d(t,"A",(function(){return ie.w})),n.d(t,"z",(function(){return ie.v})),n.d(t,"B",(function(){return ie.x})),n.d(t,"C",(function(){return ie.y})),n.d(t,"D",(function(){return ie.z})),n.d(t,"E",(function(){return ie.A})),n.d(t,"F",(function(){return ie.B})),n.d(t,"G",(function(){return ie.C})),n.d(t,"H",(function(){return ie.D})),n.d(t,"I",(function(){return ie.E})),n.d(t,"J",(function(){return ie.F})),n.d(t,"K",(function(){return ie.G})),n.d(t,"L",(function(){return ie.H})),n.d(t,"M",(function(){return ie.I})),n.d(t,"N",(function(){return ie.J})),n.d(t,"O",(function(){return ie.K})),n.d(t,"Q",(function(){return ie.M})),n.d(t,"R",(function(){return ie.N})),n.d(t,"P",(function(){return ie.L})),n.d(t,"T",(function(){return ie.O})),n.d(t,"U",(function(){return ie.P})),n.d(t,"V",(function(){return ie.Q})),n.d(t,"W",(function(){return ie.R})),n.d(t,"X",(function(){return ie.S})),n.d(t,"Y",(function(){return ie.T})),n.d(t,"Z",(function(){return ie.U})),n.d(t,"bb",(function(){return ie.W})),n.d(t,"ab",(function(){return ie.V})),n.d(t,"Hc",(function(){return ie.tc})),n.d(t,"db",(function(){return ie.X})),n.d(t,"eb",(function(){return ie.Y})),n.d(t,"fb",(function(){return ie.Z})),n.d(t,"ib",(function(){return ie.bb})),n.d(t,"hb",(function(){return ie.ab})),n.d(t,"jb",(function(){return ie.cb})),n.d(t,"kb",(function(){return ie.db})),n.d(t,"lb",(function(){return ie.eb})),n.d(t,"mb",(function(){return ie.fb})),n.d(t,"nb",(function(){return ie.gb})),n.d(t,"ob",(function(){return ie.hb})),n.d(t,"pb",(function(){return ie.ib})),n.d(t,"qb",(function(){return ie.jb})),n.d(t,"sb",(function(){return ie.lb})),n.d(t,"wb",(function(){return ie.pb})),n.d(t,"vb",(function(){return ie.ob})),n.d(t,"xb",(function(){return ie.qb})),n.d(t,"yb",(function(){return ie.rb})),n.d(t,"Ab",(function(){return ie.tb})),n.d(t,"zb",(function(){return ie.sb})),n.d(t,"Bb",(function(){return ie.ub})),n.d(t,"Cb",(function(){return ie.vb})),n.d(t,"Db",(function(){return ie.wb})),n.d(t,"Eb",(function(){return ie.xb})),n.d(t,"Ib",(function(){return ie.Ab})),n.d(t,"Jb",(function(){return ie.Bb})),n.d(t,"Kb",(function(){return ie.Cb})),n.d(t,"Lb",(function(){return ie.Db})),n.d(t,"Mb",(function(){return ie.Eb})),n.d(t,"Nb",(function(){return ie.Fb})),n.d(t,"Pb",(function(){return ie.Hb})),n.d(t,"Qb",(function(){return ie.Ib})),n.d(t,"Rb",(function(){return ie.Jb})),n.d(t,"Sb",(function(){return ie.Kb})),n.d(t,"Ob",(function(){return ie.Gb})),n.d(t,"Tb",(function(){return ie.Lb})),n.d(t,"Gb",(function(){return ie.yb})),n.d(t,"Hb",(function(){return ie.zb})),n.d(t,"Ub",(function(){return ie.Mb})),n.d(t,"Vb",(function(){return ie.Nb})),n.d(t,"bc",(function(){return ie.Tb})),n.d(t,"Wb",(function(){return ie.Ob})),n.d(t,"Zb",(function(){return ie.Rb})),n.d(t,"Xb",(function(){return ie.Pb})),n.d(t,"Yb",(function(){return ie.Qb})),n.d(t,"ac",(function(){return ie.Sb})),n.d(t,"cc",(function(){return ie.Ub})),n.d(t,"dc",(function(){return ie.Vb})),n.d(t,"ec",(function(){return ie.Wb})),n.d(t,"fc",(function(){return ie.Xb})),n.d(t,"gc",(function(){return ie.Yb})),n.d(t,"ic",(function(){return ie.Zb})),n.d(t,"jc",(function(){return ie.ac})),n.d(t,"kc",(function(){return ie.bc})),n.d(t,"oc",(function(){return ie.fc})),n.d(t,"lc",(function(){return ie.cc})),n.d(t,"mc",(function(){return ie.dc})),n.d(t,"nc",(function(){return ie.ec})),n.d(t,"rc",(function(){return ie.hc})),n.d(t,"qc",(function(){return ie.gc})),n.d(t,"uc",(function(){return ie.ic})),n.d(t,"vc",(function(){return ie.jc})),n.d(t,"wc",(function(){return ie.kc})),n.d(t,"xc",(function(){return ie.lc})),n.d(t,"yc",(function(){return ie.mc})),n.d(t,"zc",(function(){return ie.nc})),n.d(t,"Bc",(function(){return ie.oc})),n.d(t,"Cc",(function(){return ie.pc})),n.d(t,"Dc",(function(){return ie.qc})),n.d(t,"Ec",(function(){return ie.rc})),n.d(t,"Gc",(function(){return ie.sc})),n.d(t,"Ic",(function(){return ie.uc})),n.d(t,"Kc",(function(){return ie.vc})),n.d(t,"Mc",(function(){return ie.xc})),n.d(t,"Pc",(function(){return ie.Ac})),n.d(t,"Qc",(function(){return ie.Bc})),n.d(t,"Nc",(function(){return ie.yc})),n.d(t,"Oc",(function(){return ie.zc})),n.d(t,"Lc",(function(){return ie.wc})),n.d(t,"Rc",(function(){return ie.Cc})),n.d(t,"Tc",(function(){return ie.Ec})),n.d(t,"Uc",(function(){return ie.Fc})),n.d(t,"Wc",(function(){return ie.Gc})),n.d(t,"Dd",(function(){return ie.ld})),n.d(t,"Xc",(function(){return ie.Hc})),n.d(t,"Yc",(function(){return ie.Ic})),n.d(t,"Zc",(function(){return ie.Jc})),n.d(t,"ed",(function(){return ie.Oc})),n.d(t,"cd",(function(){return ie.Mc})),n.d(t,"dd",(function(){return ie.Nc})),n.d(t,"bd",(function(){return ie.Lc})),n.d(t,"ad",(function(){return ie.Kc})),n.d(t,"gd",(function(){return ie.Qc})),n.d(t,"od",(function(){return ie.Yc})),n.d(t,"yd",(function(){return ie.id})),n.d(t,"hd",(function(){return ie.Rc})),n.d(t,"nd",(function(){return ie.Xc})),n.d(t,"fd",(function(){return ie.Pc})),n.d(t,"id",(function(){return ie.Sc})),n.d(t,"jd",(function(){return ie.Tc})),n.d(t,"kd",(function(){return ie.Uc})),n.d(t,"ld",(function(){return ie.Vc})),n.d(t,"md",(function(){return ie.Wc})),n.d(t,"qd",(function(){return ie.ad})),n.d(t,"pd",(function(){return ie.Zc})),n.d(t,"rd",(function(){return ie.bd})),n.d(t,"td",(function(){return ie.dd})),n.d(t,"ud",(function(){return ie.ed})),n.d(t,"vd",(function(){return ie.fd})),n.d(t,"wd",(function(){return ie.gd})),n.d(t,"xd",(function(){return ie.hd})),n.d(t,"zd",(function(){return ie.jd})),n.d(t,"Ad",(function(){return ie.kd})),n.d(t,"Ed",(function(){return ie.md})),n.d(t,"Fd",(function(){return ie.nd})),n.d(t,"Gd",(function(){return ie.od})),n.d(t,"Hd",(function(){return ie.pd})),n.d(t,"Id",(function(){return ie.qd})),n.d(t,"Jd",(function(){return ie.rd})),n.d(t,"Kd",(function(){return ie.sd})),n.d(t,"Ld",(function(){return ie.td})),n.d(t,"Nd",(function(){return ie.ud})),n.d(t,"sd",(function(){return ie.cd})),n.d(t,"rb",(function(){return ie.kb})),n.d(t,"Sc",(function(){return ie.Dc})),n.d(t,"Od",(function(){return ie.vd})),n.d(t,"tb",(function(){return ie.mb})),n.d(t,"ub",(function(){return ie.nb}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=String;e.exports=function(e){try{return n(e)}catch(t){return"Object"}}},function(e,t){e.exports=!1},function(e,t,n){var r=n(108),a=n(117),i=n(218);e.exports=r?function(e,t,n){return a.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r,a,i,o=n(501),s=n(107),u=n(109),c=n(221),l=n(111),d=n(283),p=n(287),f=n(223),h=s.TypeError,m=s.WeakMap;if(o||d.state){var v=d.state||(d.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,r=function(e,t){if(v.has(e))throw h("Object already initialized");return t.facade=e,v.set(e,t),t},a=function(e){return v.get(e)||{}},i=function(e){return v.has(e)}}else{var b=p("state");f[b]=!0,r=function(e,t){if(l(e,b))throw h("Object already initialized");return t.facade=e,c(e,b,t),t},a=function(e){return l(e,b)?e[b]:{}},i=function(e){return l(e,b)}}e.exports={set:r,get:a,has:i,enforce:function(e){return i(e)?a(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=a(t)).type!==e)throw h("Incompatible receiver, "+e+" required");return n}}}},function(e,t){e.exports={}},function(e,t,n){var r=n(505);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},function(e,t,n){var r,a=n(134),i=n(520),o=n(290),s=n(223),u=n(522),c=n(286),l=n(287),d=l("IE_PROTO"),p=function(){},f=function(e){return"<script>"+e+"<\/script>"},h=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}m="undefined"!=typeof document?document.domain&&r?h(r):function(){var e,t=c("iframe");return t.style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F}():h(r);for(var e=o.length;e--;)delete m.prototype[o[e]];return m()};s[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p.prototype=a(e),n=new p,p.prototype=null,n[d]=e):n=m(),void 0===t?n:i.f(n,t)}},function(e,t){e.exports="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")()},function(e,t,n){var r=n(701);function a(t,n,i){return"undefined"!==typeof Reflect&&Reflect.get?e.exports=a=Reflect.get:e.exports=a=function(e,t,n){var a=r(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(n):i.value}},a(t,n,i||t)}e.exports=a},function(e,t,n){"use strict";var r;function a(e){r=e}function i(e){if(void 0!==r)return r;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;var t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){var n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function o(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}n.r(t),n.d(t,"mockIsMobile",(function(){return a})),n.d(t,"isMobile",(function(){return i})),n.d(t,"isBrowser",(function(){return o}))},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({all_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={x:Object(i.a)(e,"x","all","bool")},s={axis:t,keepDims:n};return r.a.runKernel(a.f,o,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({any_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={x:Object(i.a)(e,"x","any","bool")},s={axis:t,keepDims:n};return r.a.runKernel(a.g,o,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({argMax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:Object(i.a)(e,"x","argMax")},o={axis:t};return r.a.runKernel(a.h,n,o)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({argMin_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:Object(i.a)(e,"x","argMin")},o={axis:t};return r.a.runKernel(a.i,n,o)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(10);var c=Object(u.b)({atan2_:function(e,t){var n=Object(s.a)(e,"a","atan2"),u=Object(s.a)(t,"b","atan2"),c=Object(o.makeTypesMatch)(n,u),l=Object(r.a)(c,2),d={a:n=l[0],b:u=l[1]};return a.a.runKernel(i.m,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(21),i=n(100),o=n(41),s=n(10),u=n(20);var c=Object(s.b)({conv1d_:function(e,t,n,s){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,d=arguments.length>6?arguments[6]:void 0,p=Object(r.a)(e,"x","conv1d"),f=Object(r.a)(t,"filter","conv1d"),h=p,m=!1;2===p.rank&&(m=!0,h=Object(u.a)(p,[1,p.shape[0],p.shape[1]])),a.b(3===h.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(h.rank,".")})),a.b(3===f.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+"".concat(f.rank,".")})),o.a("conv1d",s,d),a.b(h.shape[2]===f.shape[1],(function(){return"Error in conv1d: depth of input (".concat(h.shape[2],") must match ")+"input depth for filter ".concat(f.shape[1],".")})),a.b(o.i(n,l),(function(){return"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(l,"'")})),a.b(o.j(l),(function(){return"Error in conv1D: Dilated rates should be larger than 0."})),a.b(o.j(n),(function(){return"Error in conv1D: Stride should be larger than 0."})),a.b("NWC"===c,(function(){return"Error in conv1d: got dataFormat of ".concat(c," but only NWC is currently supported.")}));var v=Object(u.a)(f,[1,f.shape[0],f.shape[1],f.shape[2]]),b=Object(u.a)(h,[h.shape[0],1,h.shape[1],h.shape[2]]),g=[1,n],y=[1,l],_=Object(i.a)(b,v,g,s,"NHWC",y,d);return m?Object(u.a)(_,[_.shape[2],_.shape[3]]):Object(u.a)(_,[_.shape[0],_.shape[2],_.shape[3]])}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),a=n(203),i=n(10);var o=Object(i.b)({conv2dTranspose_:function(e,t,n,i,o,s){var u=Object(r.a)(e,"x","conv2dTranspose"),c=Object(r.a)(t,"filter","conv2dTranspose");return Object(a.a)(n,u,c,i,o,"NHWC",s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({cosh_:function(e){var t={x:Object(i.a)(e,"x","cosh","float32")};return r.a.runKernel(a.K,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(10);var u=Object(s.b)({depthToSpace_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",s=Object(i.a)(e,"x","depthToSpace","float32"),u="NHWC"===n?s.shape[1]:s.shape[2],c="NHWC"===n?s.shape[2]:s.shape[3],l="NHWC"===n?s.shape[3]:s.shape[1];o.b(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(t)})),o.b(u*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(u," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(s.shape)})),o.b(c*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(c," and ").concat(t," for depthToSpace with input shape\n        ").concat(s.shape)})),o.b(l%(t*t)===0,(function(){return"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(l," for depthToSpace with input shape ").concat(s.shape)}));var d={x:s},p={blockSize:t,dataFormat:n};return r.a.runKernel(a.P,d,p)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(10),u=n(20);var c=Object(s.b)({dilation2d_:function(e,t,n,s){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",d=Object(i.a)(e,"x","dilation2d"),p=Object(i.a)(t,"filter","dilation2d");o.b(3===d.rank||4===d.rank,(function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(d.rank,".")})),o.b(3===p.rank,(function(){return"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(p.rank,".")})),o.b("NHWC"===l,(function(){return"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(l)}));var f=d,h=!1;3===d.rank&&(f=Object(u.a)(d,[1,d.shape[0],d.shape[1],d.shape[2]]),h=!0),o.b(f.shape[3]===p.shape[2],(function(){return"Error in dilation2d:  input and filter must have the same depth: ".concat(f.shape[3]," vs ").concat(p.shape[2])}));var m={x:f,filter:p},v={strides:n,pad:s,dilations:c},b=r.a.runKernel(a.U,m,v);return h?Object(u.a)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(9),a=n(43),i=n(6),o=n(33),s=n(146),u=n(10),c=n(55),l=n(39);var d=Object(u.b)({divNoNan_:function(e,t){var n=Object(i.a)(e,"a","div"),u=Object(i.a)(t,"b","div"),d=Object(a.makeTypesMatch)(n,u),p=Object(r.a)(d,2);n=p[0],u=p[1];var f=Object(o.a)(n,u),h=Object(l.a)(f),m=Object(s.a)(u,h);return Object(c.a)(m,h,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(6),a=n(21),i=n(44),o=n(10),s=n(20);var u=Object(o.b)({dot_:function(e,t){var n=Object(r.a)(e,"t1","dot"),o=Object(r.a)(t,"t2","dot");a.b((1===n.rank||2===n.rank)&&(1===o.rank||2===o.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(o.rank,".")}));var u=1===n.rank?n.size:n.shape[1],c=1===o.rank?o.size:o.shape[0];if(a.b(u===c,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+"".concat(u," and ").concat(c,".")})),1===n.rank&&1===o.rank){var l=Object(s.a)(n,[1,-1]),d=Object(s.a)(o,[-1,1]),p=Object(i.a)(l,d);return Object(s.a)(p,[])}if(1===n.rank&&2===o.rank){var f=Object(s.a)(n,[1,-1]),h=Object(s.a)(o,[o.shape[0],o.shape[1]]),m=Object(i.a)(f,h);return Object(s.a)(m,[m.size])}if(2===n.rank&&1===o.rank){var v=Object(s.a)(o,[-1,1]),b=Object(i.a)(n,v);return Object(s.a)(b,[b.size])}var g=Object(s.a)(o,[o.shape[0],o.shape[1]]);return Object(i.a)(n,g)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(147),a=n(10);var i=Object(a.b)({euclideanNorm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(r.a)(e,"euclidean",t,n)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(10),u=n(20);var c=Object(s.b)({localResponseNormalization_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,l=Object(i.a)(e,"x","localResponseNormalization");o.b(4===l.rank||3===l.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(l.rank,".")})),o.b(o.v(t),(function(){return"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")}));var d=l,p=!1;3===l.rank&&(p=!0,d=Object(u.a)(l,[1,l.shape[0],l.shape[1],l.shape[2]]));var f={x:d},h={depthRadius:t,bias:n,alpha:s,beta:c},m=r.a.runKernel(a.yb,f,h);return p?Object(u.a)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({log1p_:function(e){var t={x:Object(i.a)(e,"x","log1p")};return r.a.runKernel(a.Fb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({softplus_:function(e){var t={x:Object(i.a)(e,"x","softplus")};return r.a.runKernel(a.Qc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(34),i=n(93),o=n(150),s=n(190),u=n(10);var c=Object(u.b)({logicalXor_:function(e,t){var n=Object(r.a)(e,"a","logicalXor","bool"),u=Object(r.a)(t,"b","logicalXor","bool");return Object(a.assertAndGetBroadcastShape)(n.shape,u.shape),Object(i.a)(Object(s.a)(e,t),Object(o.a)(Object(i.a)(e,t)))}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(10);var u=Object(s.b)({mirrorPad_:function(e,t,n){o.b("reflect"===n||"symmetric"===n,(function(){return"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")}));var s=Object(i.a)(e,"x","mirrorPad");if(0===s.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");o.b(t.length===s.rank,(function(){return"Padding doesn't match input. Must be ".concat(s.rank,". ")+"Got ".concat(t.length,".")}));for(var u="reflect"===n?1:0,c=function(e){o.b(2===t[e].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),o.b(t[e][0]>=0&&t[e][0]<=s.shape[e]-u&&t[e][1]>=0&&t[e][1]<=s.shape[e]-u,(function(){return"Padding in dimension ".concat(e," cannot be greater than or equal ")+"to ".concat(s.shape[e]-u," or less than 0 for input of ")+"shape ".concat(s.shape)}))},l=0;l<s.rank;l++)c(l);var d={paddings:t,mode:n},p={x:s};return r.a.runKernel(a.Xb,p,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(9),a=n(12),i=n(8),o=n(43),s=n(6),u=n(10);var c=Object(u.b)({mod_:function(e,t){var n=Object(s.a)(e,"a","mod"),u=Object(s.a)(t,"b","mod"),c=Object(o.makeTypesMatch)(n,u),l=Object(r.a)(c,2),d={a:n=l[0],b:u=l[1]};return a.a.runKernel(i.Yb,d)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(9),a=n(6),i=n(21),o=n(183),s=n(144),u=n(41),c=n(191),l=n(10),d=n(20),p=n(151);var f=Object(l.b)({pool_:function(e,t,n,l,f,h,m){null==f&&(f=[1,1]),null==h&&(h=1),0===l&&(l="valid");var v=Object(a.a)(e,"x","maxPool"),b=v,g=!1;3===v.rank&&(g=!0,b=Object(d.a)(v,[1,v.shape[0],v.shape[1],v.shape[2]])),i.b(u.i(h,f),(function(){return"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(h," and dilations '").concat(f,"'")}));var y,_=u.f(b.shape,t,h,f,l),x=[_.dilationHeight,_.dilationWidth];y="same"===l?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),a=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],a[t]]}))}([_.filterHeight,_.filterWidth],x):[[0,0],[0,0]];var k=1===x[0]&&1===x[1],w=function(e,t,n){var r=n.map((function(e){return e[0]})),a=n.map((function(e){return e[1]})),i=e.concat(r,a),o=t.map((function(e,t){return(e-i[t]%e)%e})),s=a.map((function(e,t){return e+o[t]})),u=t.map((function(e,t){return[r[t],s[t]]})),c=t.map((function(e,t){return[0,o[t]]}));return[u,c]}([_.inHeight,_.inWidth],x,y),O=Object(r.a)(w,2),j=O[0],S=O[1],C=k?l:"valid",T=k?b:Object(p.a)(b,x,j),N=("avg"===n?function(){return Object(o.a)(T,t,h,C,m)}:function(){return Object(c.a)(T,t,h,C,m)})(),E=k?N:Object(s.a)(N,x,S);return g?Object(d.a)(E,[E.shape[1],E.shape[2],E.shape[3]]):E}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(8),i=n(6),o=n(28),s=n(10);var u=Object(s.b)({prod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=Object(i.a)(e,"x","prod");"bool"===s.dtype&&(s=Object(o.a)(s,"int32"));var u={x:s},c={axis:t,keepDims:n};return r.a.runKernel(a.nc,u,c)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({round_:function(e){var t={x:Object(i.a)(e,"x","round")};return r.a.runKernel(a.Ec,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({rsqrt_:function(e){var t={x:Object(i.a)(e,"x","rsqrt","float32")};return r.a.runKernel(a.Fc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({selu_:function(e){var t={x:Object(i.a)(e,"x","selu")};return r.a.runKernel(a.Jc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),a=n(21),i=n(100),o=n(145),s=n(10),u=n(20);var c=Object(s.b)({separableConv2d_:function(e,t,n,s,c){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",p=Object(r.a)(e,"x","separableConv2d"),f=Object(r.a)(t,"depthwiseFilter","separableConv2d"),h=Object(r.a)(n,"pointwiseFilter","separableConv2d"),m=p,v=!1;if(3===p.rank&&(v=!0,m=Object(u.a)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),"NCHW"===d)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");a.b(4===m.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(m.rank,".")})),a.b(4===f.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(f.rank,".")})),a.b(4===h.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(f.rank,".")})),a.b(1===h.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(h.shape[0],".")})),a.b(1===h.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(h.shape[1],".")}));var b=f.shape[2],g=f.shape[3];a.b(h.shape[2]===b*g,(function(){return"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(b*g,", ")+"but got ".concat(h.shape[2],".")}));var y=Object(o.a)(m,f,s,c,d,l),_=Object(i.a)(y,h,1,"valid",d);return v?Object(u.a)(_,[_.shape[1],_.shape[2],_.shape[3]]):_}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({sin_:function(e){var t={x:Object(i.a)(e,"x","sin","float32")};return r.a.runKernel(a.Mc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({sinh_:function(e){var t={x:Object(i.a)(e,"x","sinh")};return r.a.runKernel(a.Nc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(79),a=n(54),i=n(149),o=n(22),s=n(10),u=n(138),c=n(20),l=n(74),d=n(37),p=n(49),f=n(163);var h=Object(s.b)({irfft_:function(e){var t,n=e.shape[e.shape.length-1],s=e.size/n;if(n<=2){var h=Object(c.a)(e,[s,n]);t=Object(f.a)(h)}else{var m=[s,2*(n-1)],v=Object(c.a)(Object(u.a)(e),[s,n]),b=Object(c.a)(Object(i.a)(e),[s,n]),g=Object(l.a)(Object(p.a)(v,[0,1],[s,n-2]),1),y=Object(o.a)(Object(l.a)(Object(p.a)(b,[0,1],[s,n-2]),1),Object(d.a)(-1)),_=Object(a.a)([v,g],1),x=Object(a.a)([b,y],1),k=Object(c.a)(Object(r.a)(_,x),[m[0],m[1]]);t=Object(f.a)(k)}if(t=Object(u.a)(t),3===e.rank&&0!==e.shape[0]){var w=t,O=e.shape[0];t=Object(c.a)(t,[O,t.shape[0]/O,t.shape[1]]),w.dispose()}return t}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6),a=n(21),i=n(76);function o(e,t,n){if(Object(a.d)(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var o=Object(r.c)(e,n);if(3!==o.length&&1!==o.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Object(i.a)(e,t,o,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(9),a=n(12),i=n(8),o=n(6),s=n(10);var u=Object(s.b)({topk_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Object(o.a)(e,"x","topk");if(0===s.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var u=s.shape[s.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>u)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(u,") ")+"but got ".concat(t));var c={x:s},l={k:t,sorted:n},d=a.a.runKernel(i.nd,c,l),p=Object(r.a)(d,2);return{values:p[0],indices:p[1]}}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(9),a=n(12),i=n(8),o=n(6),s=n(21),u=n(10);var c=Object(u.b)({unique_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(o.a)(e,"x","unique","string_or_numeric");Object(s.b)(n.rank>0,(function(){return"The input tensor must be at least 1D"}));var u={x:n},c={axis:t},l=a.a.runKernel(i.qd,u,c),d=Object(r.a)(l,2);return{values:d[0],indices:d[1]}}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(73);function a(e,t){for(var n=[],a=0;a<t.length;a++)t[a]&&n.push(a);for(var i=Object(r.a)(e,"int32"),o=Object(r.a)([n.length,e.length],"int32"),s=0;s<n.length;s++){var u=i.indexToLoc(n[s]),c=s*e.length;o.values.set(u,c)}return o.toTensor()}},function(e,t,n){var r=n(599);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(600),a=n(601),i=n(602);e.exports=function(e){var t=a();return function(){var n,a=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return i(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(298);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n(1),a=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(a[n]=e[n]);return a}function s(e){var t=Object(r.useRef)(e),n=Object(r.useRef)((function(e){t.current&&t.current(e)}));return t.current=e,n.current}var u=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e<t?t:e},c=function(e){return"touches"in e},l=function(e){return e&&e.ownerDocument.defaultView||self},d=function(e,t,n){var r=e.getBoundingClientRect(),a=c(t)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]}(t.touches,n):t;return{left:u((a.pageX-(r.left+l(e).pageXOffset))/r.width),top:u((a.pageY-(r.top+l(e).pageYOffset))/r.height)}},p=function(e){!c(e)&&e.preventDefault()},f=a.a.memo((function(e){var t=e.onMove,n=e.onKey,u=o(e,["onMove","onKey"]),f=Object(r.useRef)(null),h=s(t),m=s(n),v=Object(r.useRef)(null),b=Object(r.useRef)(!1),g=Object(r.useMemo)((function(){var e=function(e){p(e),(c(e)?e.touches.length>0:e.buttons>0)&&f.current?h(d(f.current,e,v.current)):n(!1)},t=function(){return n(!1)};function n(n){var r=b.current,a=l(f.current),i=n?a.addEventListener:a.removeEventListener;i(r?"touchmove":"mousemove",e),i(r?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,r=f.current;if(r&&(p(t),!function(e,t){return t&&!c(e)}(t,b.current)&&r)){if(c(t)){b.current=!0;var a=t.changedTouches||[];a.length&&(v.current=a[0].identifier)}r.focus(),h(d(r,t,v.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),m({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]}),[m,h]),y=g[0],_=g[1],x=g[2];return Object(r.useEffect)((function(){return x}),[x]),a.a.createElement("div",i({},u,{onTouchStart:y,onMouseDown:y,className:"react-colorful__interactive",ref:f,onKeyDown:_,tabIndex:0,role:"slider"}))})),h=function(e){return e.filter(Boolean).join(" ")},m=function(e){var t=e.color,n=e.left,r=e.top,i=void 0===r?.5:r,o=h(["react-colorful__pointer",e.className]);return a.a.createElement("div",{className:o,style:{top:100*i+"%",left:100*n+"%"}},a.a.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},v=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n},b=(Math.PI,function(e){return"#"===e[0]&&(e=e.substr(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:1}:{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:1}}),g=function(e){var t=e.s,n=e.v,r=e.a,a=(200-t)*n/100;return{h:v(e.h),s:v(a>0&&a<200?t*n/100/(a<=100?a:200-a)*100:0),l:v(a/2),a:v(r,2)}},y=function(e){var t=g(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},_=function(e){var t=e.h,n=e.s,r=e.v,a=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),o=r*(1-n),s=r*(1-(t-i)*n),u=r*(1-(1-t+i)*n),c=i%6;return{r:v(255*[r,s,o,o,u,r][c]),g:v(255*[u,r,r,s,o,o][c]),b:v(255*[o,o,u,r,r,s][c]),a:v(a,2)}},x=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},k=function(e){var t=e.r,n=e.g,r=e.b,a=e.a,i=Math.max(t,n,r),o=i-Math.min(t,n,r),s=o?i===t?(n-r)/o:i===n?2+(r-t)/o:4+(t-n)/o:0;return{h:v(60*(s<0?s+6:s)),s:v(i?o/i*100:0),v:v(i/255*100),a:a}},w=a.a.memo((function(e){var t=e.hue,n=e.onChange,r=h(["react-colorful__hue",e.className]);return a.a.createElement("div",{className:r},a.a.createElement(f,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:u(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuetext":v(t)},a.a.createElement(m,{className:"react-colorful__hue-pointer",left:t/360,color:y({h:t,s:100,v:100,a:1})})))})),O=a.a.memo((function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:y({h:t.h,s:100,v:100,a:1})};return a.a.createElement("div",{className:"react-colorful__saturation",style:r},a.a.createElement(f,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:u(t.s+100*e.left,0,100),v:u(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+v(t.s)+"%, Brightness "+v(t.v)+"%"},a.a.createElement(m,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:y(t)})))})),j=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0};function S(e,t,n){var a=s(n),i=Object(r.useState)((function(){return e.toHsva(t)})),o=i[0],u=i[1],c=Object(r.useRef)({color:t,hsva:o});Object(r.useEffect)((function(){if(!e.equal(t,c.current.color)){var n=e.toHsva(t);c.current={hsva:n,color:t},u(n)}}),[t,e]),Object(r.useEffect)((function(){var t;j(o,c.current.hsva)||e.equal(t=e.fromHsva(o),c.current.color)||(c.current={hsva:o,color:t},a(t))}),[o,e,a]);var l=Object(r.useCallback)((function(e){u((function(t){return Object.assign({},t,e)}))}),[]);return[o,l]}var C,T="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,N=new Map,E=function(e){T((function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!N.has(t)){var r=t.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',N.set(t,r);var a=C||n.nc;a&&r.setAttribute("nonce",a),t.head.appendChild(r)}}),[])},I=function(e){var t=e.className,n=e.colorModel,s=e.color,u=void 0===s?n.defaultColor:s,c=e.onChange,l=o(e,["className","colorModel","color","onChange"]),d=Object(r.useRef)(null);E(d);var p=S(n,u,c),f=p[0],m=p[1],v=h(["react-colorful",t]);return a.a.createElement("div",i({},l,{ref:d,className:v}),a.a.createElement(O,{hsva:f,onChange:m}),a.a.createElement(w,{hue:f.h,onChange:m,className:"react-colorful__last-control"}))},A={defaultColor:"000",toHsva:function(e){return k(b(e))},fromHsva:function(e){return n=(t=_(e)).g,r=t.b,"#"+x(t.r)+x(n)+x(r);var t,n,r},equal:function(e,t){return e.toLowerCase()===t.toLowerCase()||j(b(e),b(t))}},R=function(e){return a.a.createElement(I,i({},e,{colorModel:A}))}},function(e,t,n){"use strict";function r(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return g}));var r=n(2),a=n.n(r),i=n(4),o=n(11),s=n(7),u=(n(212),n(40)),c=n(53),l=n(66),d="tensorflowjs",p="models_store",f="model_info_store";function h(){if(!Object(u.c)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function m(e){var t=e.result;t.createObjectStore(p,{keyPath:"modelPath"}),t.createObjectStore(f,{keyPath:"modelPath"})}var v=function(){function e(t){if(Object(i.a)(this,e),this.indexedDB=h(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return Object(o.a)(e,[{key:"save",value:function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 2:return e.abrupt("return",this.databaseAction(this.modelPath,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.databaseAction(this.modelPath));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"databaseAction",value:function(e,t){var n=this;return new Promise((function(e,r){var a=n.indexedDB.open(d,1);a.onupgradeneeded=function(){return m(a)},a.onsuccess=function(){var i=a.result;if(null==t){var o=i.transaction(p,"readonly"),s=o.objectStore(p).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return i.close(),r(new Error("Cannot find model with path '".concat(n.modelPath,"' ")+"in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return i.close(),r(s.error)},o.oncomplete=function(){return i.close()}}else{var u,l,d=Object(c.i)(t),h=i.transaction(f,"readwrite"),m=h.objectStore(f);try{u=m.put({modelPath:n.modelPath,modelArtifactsInfo:d})}catch(v){return r(v)}u.onsuccess=function(){var a,o=(l=i.transaction(p,"readwrite")).objectStore(p);try{a=o.put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:d})}catch(v){return r(v)}a.onsuccess=function(){return e({modelArtifactsInfo:d})},a.onerror=function(e){var t=(m=h.objectStore(f)).delete(n.modelPath);t.onsuccess=function(){return i.close(),r(a.error)},t.onerror=function(e){return i.close(),r(a.error)}}},u.onerror=function(e){return i.close(),r(u.error)},h.oncomplete=function(){null==l?i.close():l.oncomplete=function(){return i.close()}}}},a.onerror=function(e){return r(a.error)}}))}}]),e}();v.URL_SCHEME="indexeddb://";var b=function(e){return Object(u.c)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(v.URL_SCHEME)?(t=e.slice(v.URL_SCHEME.length),new v(t)):null;var t};l.a.registerSaveRouter(b),l.a.registerLoadRouter(b);var g=function(){function e(){Object(i.a)(this,e),this.indexedDB=h()}return Object(o.a)(e,[{key:"listModels",value:function(){var e=Object(s.a)(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.indexedDB.open(d,1);r.onupgradeneeded=function(){return m(r)},r.onsuccess=function(){var t=r.result,a=t.transaction(f,"readonly"),i=a.objectStore(f).getAll();i.onsuccess=function(){var t={},n=!0,r=!1,a=void 0;try{for(var o,s=i.result[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value;t[u.modelPath]=u.modelArtifactsInfo}}catch(c){r=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}e(t)},i.onerror=function(e){return t.close(),n(i.error)},a.oncomplete=function(){return t.close()}},r.onerror=function(e){return n(r.error)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=Object(s.a)(a.a.mark((function e(t){var n=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(r=t).startsWith(v.URL_SCHEME)?r.slice(v.URL_SCHEME.length):r,e.abrupt("return",new Promise((function(e,r){var a=n.indexedDB.open(d,1);a.onupgradeneeded=function(){return m(a)},a.onsuccess=function(){var n,i=a.result,o=i.transaction(f,"readwrite"),s=o.objectStore(f),u=s.get(t);u.onsuccess=function(){if(null==u.result)return i.close(),r(new Error("Cannot find model with path '".concat(t,"' ")+"in IndexedDB."));var a=s.delete(t),o=function(){var a=(n=i.transaction(p,"readwrite")).objectStore(p).delete(t);a.onsuccess=function(){return e(u.result.modelArtifactsInfo)},a.onerror=function(e){return r(u.error)}};a.onsuccess=o,a.onerror=function(e){return o(),i.close(),r(u.error)}},u.onerror=function(e){return i.close(),r(u.error)},o.oncomplete=function(){null==n?i.close():n.oncomplete=function(){return i.close()}}},a.onerror=function(e){return r(a.error)}})));case 2:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return O}));var r=n(2),a=n.n(r),i=n(7),o=n(4),s=n(11),u=(n(212),n(40)),c=n(21),l=n(53),d=n(66),p="/",f="tensorflowjs_models",h="info",m="model_topology",v="weight_specs",b="weight_data",g="model_metadata";function y(e){return{info:[f,e,h].join(p),topology:[f,e,m].join(p),weightSpecs:[f,e,v].join(p),weightData:[f,e,b].join(p),modelMetadata:[f,e,g].join(p)}}function _(e){for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];window.localStorage.removeItem(r)}}function x(e){var t=e.split(p);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(p)}var k=function(){function e(t){if(Object(o.a)(this,e),!Object(u.c)().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=y(this.modelPath)}return Object(s.a)(e,[{key:"save",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=4;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 4:return n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),i=Object(l.i)(t),e.prev=7,this.LS.setItem(this.keys.info,JSON.stringify(i)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,Object(l.a)(t.weightData)),o={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:null!=t.signature?t.signature:void 0,userDefinedMetadata:null!=t.userDefinedMetadata?t.userDefinedMetadata:void 0,modelInitializer:null!=t.modelInitializer?t.modelInitializer:void 0,initializerSignature:null!=t.initializerSignature?t.initializerSignature:void 0,trainingConfig:null!=t.trainingConfig?t.trainingConfig:void 0},this.LS.setItem(this.keys.modelMetadata,JSON.stringify(o)),e.abrupt("return",{modelArtifactsInfo:i});case 17:throw e.prev=17,e.t0=e.catch(7),_(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(i.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(i.weightSpecsBytes,", ")+"weightDataBytes=".concat(i.weightDataBytes,"."));case 21:case"end":return e.stop()}}),e,this,[[7,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,r,i,o,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=JSON.parse(this.LS.getItem(this.keys.info)))){e.next=3;break}throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));case 3:if("JSON"===t.modelTopologyType){e.next=5;break}throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");case 5:if(n={},null!=(r=JSON.parse(this.LS.getItem(this.keys.topology)))){e.next=9;break}throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");case 9:if(n.modelTopology=r,null!=(i=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))){e.next=13;break}throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");case 13:if(n.weightSpecs=i,null!=(o=this.LS.getItem(this.keys.modelMetadata))&&(s=JSON.parse(o),n.format=s.format,n.generatedBy=s.generatedBy,n.convertedBy=s.convertedBy,null!=s.signature&&(n.signature=s.signature),null!=s.userDefinedMetadata&&(n.userDefinedMetadata=s.userDefinedMetadata),null!=s.modelInitializer&&(n.modelInitializer=s.modelInitializer),null!=s.initializerSignature&&(n.initializerSignature=s.initializerSignature),null!=s.trainingConfig&&(n.trainingConfig=s.trainingConfig)),null!=(u=this.LS.getItem(this.keys.weightData))){e.next=19;break}throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));case 19:return n.weightData=Object(l.b)(u),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();k.URL_SCHEME="localstorage://";var w=function(e){return Object(u.c)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(k.URL_SCHEME)?(t=e.slice(k.URL_SCHEME.length),new k(t)):null;var t};d.a.registerSaveRouter(w),d.a.registerLoadRouter(w);var O=function(){function e(){Object(o.a)(this,e),Object(c.b)(Object(u.c)().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),Object(c.b)("undefined"===typeof window||"undefined"!==typeof window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return Object(s.a)(e,[{key:"listModels",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,r,i,o,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=f+p,r=p+h,i=0;i<this.LS.length;++i)(o=this.LS.key(i)).startsWith(n)&&o.endsWith(r)&&(s=x(o),t[s]=JSON.parse(this.LS.getItem(o)));return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(a=t).startsWith(k.URL_SCHEME)?a.slice(k.URL_SCHEME.length):a,n=y(t),null!=this.LS.getItem(n.info)){e.next=4;break}throw new Error("Cannot find model at path '".concat(t,"'"));case 4:return r=JSON.parse(this.LS.getItem(n.info)),_(n),e.abrupt("return",r);case 7:case"end":return e.stop()}var a}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12),a=n(8),i=n(21),o=n(10),s=n(20);var u=Object(o.b)({conv3DBackpropInput_:function(e,t,n,o,u){i.b(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var c=e,l=t,d=!1;4===t.rank&&(d=!0,l=Object(s.a)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),c=[1,e[0],e[1],e[2],e[3]]);var p=c[4],f=l.shape[4];i.b(5===c.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(c.length,".")})),i.b(5===l.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(l.rank)})),i.b(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)})),i.b(p===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input (".concat(p,") must ")+"match input depth for filter ".concat(n.shape[3],".")})),i.b(f===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output (".concat(f,") must ")+"match output depth for filter ".concat(n.shape[4],".")}));var h={dy:l,filter:n},m={pad:u,strides:o,inputShape:c},v=r.a.runKernel(a.I,h,m);return d?Object(s.a)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(274),a=n(12),i=n(8),o=n(6),s=n(21),u=n(10),c=n(20);var l=Object(u.b)({resizeNearestNeighbor_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=Object(o.a)(e,"images","resizeNearestNeighbor");s.b(3===l.rank||4===l.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(l.rank,".")})),s.b(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,".")})),s.b("float32"===l.dtype||"int32"===l.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"})),s.b(!1===u||!1===n,(function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."}));var d=l,p=!1;3===l.rank&&(p=!0,d=Object(c.a)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),Object(r.a)(t);var f={images:d},h={alignCorners:n,halfPixelCenters:u,size:t},m=a.a.runKernel(i.Ac,f,h);return p?Object(c.a)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(268),a=n(265),i=n(269);function o(e){return Object(r.a)(e)||Object(a.a)(e)||Object(i.a)()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(274),a=n(12),i=n(8),o=n(6),s=n(21),u=n(10),c=n(20);var l=Object(u.b)({resizeBilinear_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=Object(o.a)(e,"images","resizeBilinear");s.b(3===l.rank||4===l.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(l.rank,".")})),s.b(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,".")})),s.b(!1===u||!1===n,(function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."}));var d=l,p=!1;3===l.rank&&(p=!0,d=Object(c.a)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),Object(r.a)(t);var f={images:d},h={alignCorners:n,halfPixelCenters:u,size:t},m=a.a.runKernel(i.yc,f,h);return p?Object(c.a)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(10),o=n(20);var s=Object(i.b)({depthwiseConv2dNativeBackpropInput_:function(e,t,n,i,s){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],c=arguments.length>6?arguments[6]:void 0,l=t,d=!1;3===t.rank&&(d=!0,l=Object(o.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var p={dy:l,filter:n},f={strides:i,pad:s,dimRoundingMode:c,dilations:u,inputShape:e},h=r.a.runKernel(a.S,p,f);return d?Object(o.a)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(10),o=n(20);var s=Object(i.b)({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,i,s){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],c=arguments.length>6?arguments[6]:void 0,l=e;3===e.rank&&(l=Object(o.a)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var d=t;3===d.rank&&(d=Object(o.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var p={x:l,dy:d},f={strides:i,pad:s,dimRoundingMode:c,dilations:u,filterShape:n};return r.a.runKernel(a.R,p,f)}})},function(e,t,n){var r=n(77);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},function(e,t,n){var r=n(155),a=TypeError;e.exports=function(e){if(r(e))throw a("Can't call method on "+e);return e}},function(e,t,n){var r=n(497),a=n(310);e.exports=function(e){var t=r(e,"string");return a(t)?t:t+""}},function(e,t,n){var r=n(59);e.exports=r({}.isPrototypeOf)},function(e,t,n){var r=n(110),a=n(155);e.exports=function(e,t){var n=e[t];return a(n)?void 0:r(n)}},function(e,t,n){var r=n(107),a=n(284),i=r["__core-js_shared__"]||a("__core-js_shared__",{});e.exports=i},function(e,t,n){var r=n(107),a=Object.defineProperty;e.exports=function(e,t){try{a(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(59),a=0,i=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++a+i,36)}},function(e,t,n){var r=n(107),a=n(109),i=r.document,o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(313),a=n(285),i=r("keys");e.exports=function(e){return i[e]||(i[e]=a(e))}},function(e,t,n){var r=n(320),a=n(290).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},function(e,t,n){var r=n(506);e.exports=function(e){return r(e.length)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r={};r[n(90)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(65),a=n(134),i=n(282);e.exports=function(e,t,n){var o,s;a(e);try{if(!(o=i(e,"return"))){if("throw"===t)throw n;return n}o=r(o,e)}catch(u){s=!0,o=u}if("throw"===t)throw n;if(s)throw o;return a(o),n}},function(e,t,n){var r=n(117).f,a=n(111),i=n(90)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!a(e,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(51),a=n(65),i=n(220),o=n(318),s=n(60),u=n(524),c=n(331),l=n(326),d=n(293),p=n(221),f=n(168),h=n(90),m=n(170),v=n(330),b=o.PROPER,g=o.CONFIGURABLE,y=v.IteratorPrototype,_=v.BUGGY_SAFARI_ITERATORS,x=h("iterator"),k=function(){return this};e.exports=function(e,t,n,o,h,v,w){u(n,t,o);var O,j,S,C=function(e){if(e===h&&A)return A;if(!_&&e in E)return E[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},T=t+" Iterator",N=!1,E=e.prototype,I=E[x]||E["@@iterator"]||h&&E[h],A=!_&&I||C(h),R="Array"==t&&E.entries||I;if(R&&(O=c(R.call(new e)))!==Object.prototype&&O.next&&(i||c(O)===y||(l?l(O,y):s(O[x])||f(O,x,k)),d(O,T,!0,!0),i&&(m[T]=k)),b&&"values"==h&&I&&"values"!==I.name&&(!i&&g?p(E,"name","values"):(N=!0,A=function(){return a(I,this)})),h)if(j={values:C("values"),keys:v?A:C("keys"),entries:C("entries")},w)for(S in j)!_&&!N&&S in E||f(E,S,j[S]);else r({target:t,proto:!0,forced:_||N},j);return i&&!w||E[x]===A||f(E,x,A,{name:h}),m[t]=A,j}},function(e,t){e.exports=function(e,t){return{value:e,done:t}}},function(e,t,n){var r=n(207),a=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return a(e)}},function(e,t,n){var r=n(83),a=n(98),i=r.Set,o=r.add;e.exports=function(e){var t=new i;return a(e,(function(e){o(t,e)})),t}},function(e,t,n){var r=n(335);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(121),a=n(122),i=n(123),o=n(112),s=n(124),u=n(209),c=n(210),l=n(120)("engine.io-client:transport"),d=function(e){"use strict";function t(e){var n;return r(this,t),(n=i(this,o(t).call(this))).opts=e,n.query=e.query,n.readyState="",n.socket=e.socket,n}return s(t,e),a(t,[{key:"onError",value:function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState?this.write(e):l("transport is not open, discarding packets")}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,this.emit("open")}},{key:"onData",value:function(e){var t=u.decodePacket(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){this.emit("packet",e)}},{key:"onClose",value:function(){this.readyState="closed",this.emit("close")}}]),t}(c);e.exports=d},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,a=n.length;r<a;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},function(e,t,n){"use strict";var r=n(123),a=n(112),i=n(227),o=n(124),s=n(121),u=n(122);Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;var c,l=n(210),d=n(707),p=n(358),f=n(120)("socket.io-parser");t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(c=t.PacketType||(t.PacketType={}));var h=function(){function e(){s(this,e)}return u(e,[{key:"encode",value:function(e){return f("encoding packet %j",e),e.type!==c.EVENT&&e.type!==c.ACK||!p.hasBinary(e)?[this.encodeAsString(e)]:(e.type=e.type===c.EVENT?c.BINARY_EVENT:c.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==c.BINARY_EVENT&&e.type!==c.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),f("encoded %j as %s",e,t),t}},{key:"encodeAsBinary",value:function(e){var t=d.deconstructPacket(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}]),e}();t.Encoder=h;var m=function(e){function t(){return s(this,t),r(this,a(t).call(this))}return o(t,e),u(t,[{key:"add",value:function(e){var n;if("string"===typeof e)(n=this.decodeString(e)).type===c.BINARY_EVENT||n.type===c.BINARY_ACK?(this.reconstructor=new v(n),0===n.attachments&&i(a(t.prototype),"emit",this).call(this,"decoded",n)):i(a(t.prototype),"emit",this).call(this,"decoded",n);else{if(!p.isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,i(a(t.prototype),"emit",this).call(this,"decoded",n))}}},{key:"decodeString",value:function(e){var n=0,r={type:Number(e.charAt(0))};if(void 0===c[r.type])throw new Error("unknown packet type "+r.type);if(r.type===c.BINARY_EVENT||r.type===c.BINARY_ACK){for(var a=n+1;"-"!==e.charAt(++n)&&n!=e.length;);var i=e.substring(a,n);if(i!=Number(i)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(n+1)){for(var o=n+1;++n;){if(","===e.charAt(n))break;if(n===e.length)break}r.nsp=e.substring(o,n)}else r.nsp="/";var s=e.charAt(n+1);if(""!==s&&Number(s)==s){for(var u=n+1;++n;){var l=e.charAt(n);if(null==l||Number(l)!=l){--n;break}if(n===e.length)break}r.id=Number(e.substring(u,n+1))}if(e.charAt(++n)){var d=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(n));if(!t.isPayloadValid(r.type,d))throw new Error("invalid payload");r.data=d}return f("decoded %s as %j",e,r),r}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case c.CONNECT:return"object"===typeof t;case c.DISCONNECT:return void 0===t;case c.CONNECT_ERROR:return"string"===typeof t||"object"===typeof t;case c.EVENT:case c.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case c.ACK:case c.BINARY_ACK:return Array.isArray(t)}}}]),t}(l);t.Decoder=m;var v=function(){function e(t){s(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return u(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}()},function(e,t,n){e.exports=n(607)},function(e,t,n){"use strict";var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r)return r;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(S){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function a(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=a;var i={},o={};function s(e,t){var n,r,a;return t?(a=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=c(e,(0|e)<0?-1:0,!0),a&&(o[e]=n),n):(a=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=c(e,e<0?-1:0,!1),a&&(i[e]=n),n)}function u(e,t){if(isNaN(e))return t?g:b;if(t){if(e<0)return g;if(e>=h)return w}else{if(e<=-m)return O;if(e+1>=m)return k}return e<0?u(-e,t).neg():c(e%f|0,e/f|0,t)}function c(e,t,n){return new r(e,t,n)}r.fromInt=s,r.fromNumber=u,r.fromBits=c;var l=Math.pow;function d(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return b;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return d(e.substring(1),t,n).neg();for(var a=u(l(n,8)),i=b,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+s),n);if(s<8){var p=u(l(n,s));i=i.mul(p).add(u(c))}else i=(i=i.mul(a)).add(u(c))}return i.unsigned=t,i}function p(e,t){return"number"===typeof e?u(e,t):"string"===typeof e?d(e,t):c(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}r.fromString=d,r.fromValue=p;var f=4294967296,h=f*f,m=h/2,v=s(1<<24),b=s(0);r.ZERO=b;var g=s(0,!0);r.UZERO=g;var y=s(1);r.ONE=y;var _=s(1,!0);r.UONE=_;var x=s(-1);r.NEG_ONE=x;var k=c(-1,2147483647,!1);r.MAX_VALUE=k;var w=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=w;var O=c(0,-2147483648,!1);r.MIN_VALUE=O;var j=r.prototype;j.toInt=function(){return this.unsigned?this.low>>>0:this.low},j.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},j.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(O)){var t=u(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=u(l(e,6),this.unsigned),i=this,o="";;){var s=i.div(a),c=(i.sub(s.mul(a)).toInt()>>>0).toString(e);if((i=s).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},j.getHighBits=function(){return this.high},j.getHighBitsUnsigned=function(){return this.high>>>0},j.getLowBits=function(){return this.low},j.getLowBitsUnsigned=function(){return this.low>>>0},j.getNumBitsAbs=function(){if(this.isNegative())return this.eq(O)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},j.isZero=function(){return 0===this.high&&0===this.low},j.eqz=j.isZero,j.isNegative=function(){return!this.unsigned&&this.high<0},j.isPositive=function(){return this.unsigned||this.high>=0},j.isOdd=function(){return 1===(1&this.low)},j.isEven=function(){return 0===(1&this.low)},j.equals=function(e){return a(e)||(e=p(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},j.eq=j.equals,j.notEquals=function(e){return!this.eq(e)},j.neq=j.notEquals,j.ne=j.notEquals,j.lessThan=function(e){return this.comp(e)<0},j.lt=j.lessThan,j.lessThanOrEqual=function(e){return this.comp(e)<=0},j.lte=j.lessThanOrEqual,j.le=j.lessThanOrEqual,j.greaterThan=function(e){return this.comp(e)>0},j.gt=j.greaterThan,j.greaterThanOrEqual=function(e){return this.comp(e)>=0},j.gte=j.greaterThanOrEqual,j.ge=j.greaterThanOrEqual,j.compare=function(e){if(a(e)||(e=p(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},j.comp=j.compare,j.negate=function(){return!this.unsigned&&this.eq(O)?O:this.not().add(y)},j.neg=j.negate,j.add=function(e){a(e)||(e=p(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=e.high>>>16,s=65535&e.high,u=e.low>>>16,l=0,d=0,f=0,h=0;return f+=(h+=i+(65535&e.low))>>>16,d+=(f+=r+u)>>>16,l+=(d+=n+s)>>>16,l+=t+o,c((f&=65535)<<16|(h&=65535),(l&=65535)<<16|(d&=65535),this.unsigned)},j.subtract=function(e){return a(e)||(e=p(e)),this.add(e.neg())},j.sub=j.subtract,j.multiply=function(e){if(this.isZero())return b;if(a(e)||(e=p(e)),n)return c(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return b;if(this.eq(O))return e.isOdd()?O:b;if(e.eq(O))return this.isOdd()?O:b;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(v)&&e.lt(v))return u(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,s=e.high>>>16,l=65535&e.high,d=e.low>>>16,f=65535&e.low,h=0,m=0,g=0,y=0;return g+=(y+=o*f)>>>16,m+=(g+=i*f)>>>16,g&=65535,m+=(g+=o*d)>>>16,h+=(m+=r*f)>>>16,m&=65535,h+=(m+=i*d)>>>16,m&=65535,h+=(m+=o*l)>>>16,h+=t*f+r*d+i*l+o*s,c((g&=65535)<<16|(y&=65535),(h&=65535)<<16|(m&=65535),this.unsigned)},j.mul=j.multiply,j.divide=function(e){if(a(e)||(e=p(e)),e.isZero())throw Error("division by zero");var t,r,i;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?g:b;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return _;i=g}else{if(this.eq(O))return e.eq(y)||e.eq(x)?O:e.eq(O)?y:(t=this.shr(1).div(e).shl(1)).eq(b)?e.isNegative()?y:x:(r=this.sub(e.mul(t)),i=t.add(r.div(e)));if(e.eq(O))return this.unsigned?g:b;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=b}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),s=o<=48?1:l(2,o-48),d=u(t),f=d.mul(e);f.isNegative()||f.gt(r);)f=(d=u(t-=s,this.unsigned)).mul(e);d.isZero()&&(d=y),i=i.add(d),r=r.sub(f)}return i},j.div=j.divide,j.modulo=function(e){return a(e)||(e=p(e)),n?c((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},j.mod=j.modulo,j.rem=j.modulo,j.not=function(){return c(~this.low,~this.high,this.unsigned)},j.and=function(e){return a(e)||(e=p(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},j.or=function(e){return a(e)||(e=p(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},j.xor=function(e){return a(e)||(e=p(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},j.shiftLeft=function(e){return a(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},j.shl=j.shiftLeft,j.shiftRight=function(e){return a(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},j.shr=j.shiftRight,j.shiftRightUnsigned=function(e){if(a(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},j.shru=j.shiftRightUnsigned,j.shr_u=j.shiftRightUnsigned,j.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},j.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},j.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},j.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},j.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t,n){"use strict";var r=n(0),a=n(9),i=n(8),o=n(28),s=n(22),u=n(129),c={kernelName:i.a,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(s.a)(e,Object(u.a)(Object(o.a)(n,"float32"),-1))}}}},l=n(33),d=n(50),p=n(37),f=n(57),h=n(45),m=n(32),v={kernelName:i.b,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){var t=Object(h.a)(Object(o.a)(n,"float32")),r=Object(f.a)(Object(m.a)(Object(p.a)(1),t));return Object(d.a)(Object(l.a)(e,r))}}}},b={kernelName:i.c,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){var t=Object(f.a)(Object(m.a)(Object(h.a)(Object(o.a)(n,"float32")),1));return Object(l.a)(e,t)}}}},g=n(34),y=n(20),_=n(35),x={kernelName:i.d,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(a.a)(t,2),r=n[0],i=n[1],o=g.assertAndGetBroadcastShape(r.shape,i.shape);return{a:function(){var t=e,n=g.getReductionAxes(r.shape,o);return n.length>0&&(t=Object(_.a)(t,n)),Object(y.a)(t,r.shape)},b:function(){var t=e,n=g.getReductionAxes(i.shape,o);return n.length>0&&(t=Object(_.a)(t,n)),Object(y.a)(t,i.shape)}}}},k={kernelName:i.e,saveAllInputs:!0,gradFunc:function(e,t){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}},w=n(39),O={kernelName:i.h,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(w.a)(n)}}}},j={kernelName:i.i,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(w.a)(n)}}}},S={kernelName:i.j,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(f.a)(Object(m.a)(Object(p.a)(1),Object(h.a)(Object(o.a)(n,"float32")))))}}}},C=n(31),T={kernelName:i.k,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){var t=Object(f.a)(Object(C.a)(Object(p.a)(1),Object(h.a)(Object(o.a)(n,"float32"))));return Object(l.a)(e,t)}}}},N={kernelName:i.m,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(a.a)(t,2),r=n[0],i=n[1],o=Object(g.assertAndGetBroadcastShape)(r.shape,i.shape);return{a:function(){var t=Object(C.a)(Object(h.a)(r),Object(h.a)(i)),n=Object(s.a)(e,Object(l.a)(i,t)),a=Object(g.getReductionAxes)(r.shape,o);return a.length>0&&(n=Object(_.a)(n,a)),Object(y.a)(n,r.shape)},b:function(){var t=Object(C.a)(Object(h.a)(r),Object(h.a)(i)),n=Object(d.a)(Object(s.a)(e,Object(l.a)(r,t))),a=Object(g.getReductionAxes)(i.shape,o);return a.length>0&&(n=Object(_.a)(n,a)),Object(y.a)(n,i.shape)}}}},E={kernelName:i.l,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(C.a)(Object(h.a)(Object(o.a)(n,"float32")),1))}}}},I={kernelName:i.n,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(m.a)(Object(p.a)(1),Object(h.a)(Object(o.a)(n,"float32"))))}}}},A=n(12),R=n(6),D=n(21),M=n(41),F=n(10);var L=Object(F.b)({avgPool3dGrad_:function(e,t,n,r,a,o){var s=Object(R.a)(e,"dy","avgPool3dGrad"),u=Object(R.a)(t,"input","avgPool3dGrad"),c=s,l=u,d=!1;4===u.rank&&(d=!0,c=Object(y.a)(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),l=Object(y.a)(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),D.b(5===c.rank,(function(){return"Error in avgPool3dGrad: dy must be rank 5 but got rank "+"".concat(c.rank,".")})),D.b(5===l.rank,(function(){return"Error in avgPool3dGrad: input must be rank 5 but got rank "+"".concat(l.rank,".")})),Object(M.a)("avgPool3dGrad",a,o);var p={dy:c,input:l},f={filterSize:n,strides:r,pad:a,dimRoundingMode:o},h=A.a.runKernel(i.q,p,f);return d?Object(y.a)(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}}),P={kernelName:i.p,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(a.a)(t,1)[0],i=n.filterSize,o=n.strides,s=n.pad,u=n.dimRoundingMode;return{x:function(){return L(e,r,i,o,s,u)}}}};var z=Object(F.b)({avgPoolGrad_:function(e,t,n,r,a){var o=Object(R.a)(e,"dy","avgPoolGrad"),s=Object(R.a)(t,"input","avgPoolGrad");D.b(s.rank===o.rank,(function(){return"Rank of input (".concat(s.rank,") does not match rank of dy (").concat(o.rank,")")}));var u=s,c=o,l=!1;3===s.rank&&(l=!0,u=Object(y.a)(s,[1,s.shape[0],s.shape[1],s.shape[2]]),c=Object(y.a)(o,[1,o.shape[0],o.shape[1],o.shape[2]])),D.b(4===c.rank,(function(){return"Error in avgPoolGrad: dy must be rank 4 but got rank "+"".concat(c.rank,".")})),D.b(4===u.rank,(function(){return"Error in avgPoolGrad: input must be rank 4 but got rank "+"".concat(u.rank,".")}));var d={dy:c,input:u},p={filterSize:n,strides:r,pad:a},f=A.a.runKernel(i.r,d,p);return l?Object(y.a)(f,[f.shape[1],f.shape[2],f.shape[3]]):f}}),B={kernelName:i.o,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(a.a)(t,1)[0],i=n.filterSize,o=n.strides,s=n.pad;return{x:function(){return z(e,r,i,o,s)}}}},V=n(44),U={kernelName:i.s,inputsToSave:["a","b"],gradFunc:function(e,t,n){var r=Object(a.a)(t,2),i=r[0],o=r[1],s=n.transposeA,u=n.transposeB;return s||u?!s&&u?{a:function(){return Object(V.a)(e,o,!1,!1)},b:function(){return Object(V.a)(e,i,!0,!1)}}:s&&!u?{a:function(){return Object(V.a)(o,e,!1,!0)},b:function(){return Object(V.a)(i,e,!1,!1)}}:{a:function(){return Object(V.a)(o,e,!0,!0)},b:function(){return Object(V.a)(e,i,!0,!0)}}:{a:function(){return Object(V.a)(e,o,!1,!0)},b:function(){return Object(V.a)(i,e,!0,!1)}}}},W=n(151),H={kernelName:i.t,gradFunc:function(e,t,n){var r=n.blockShape,a=n.crops;return{x:function(){return Object(W.a)(e,r,a)}}}},G={kernelName:i.w,gradFunc:function(e,t,n){for(var r=n,a=r.inputShape,i=r.shape,o=Array.from(i),s=a.length-1;s>=0;s--)if(a[s]===i[s])o[s]=1;else if(1!==a[s])throw new Error("broadcastTo(): [".concat(a,"] cannot be broadcast to [").concat(i,"]."));for(var u=[],c=0;c<o.length;c++)o[c]>1&&u.push(c);return{x:function(){return Object(_.a)(e,u,!0)}}}},$={kernelName:i.x,gradFunc:function(e){return{x:function(){return e.clone()}}}},q={kernelName:i.y,gradFunc:function(e){return{x:function(){return Object(w.a)(e)}}}},K=n(101),X=n(86),Y=n(93),Z=n(55),Q={kernelName:i.z,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(a.a)(t,1)[0],i=n.clipValueMin,o=n.clipValueMax;return{x:function(){return Object(Z.a)(Object(Y.a)(Object(K.a)(r,i),Object(X.a)(r,o)),e,Object(w.a)(e))}}}},J={kernelName:i.B,inputsToSave:["x"],gradFunc:c.gradFunc},ee=n(94),te={kernelName:i.C,saveAllInputs:!0,gradFunc:function(e,t,n){var r=t.map((function(e){return e.shape})),a=n.axis,i=Object(D.H)(a,t[0].shape)[0],o=r.map((function(e){return e[i]}));return Object(ee.a)(e,o,i).map((function(e){return function(){return e}}))}},ne=n(205),re=n(203),ae={kernelName:i.D,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=Object(a.a)(t,2),i=r[0],o=r[1],s=n.dilations,u=n.strides,c=n.pad,l=n.dataFormat;return D.b(M.k(s),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(s,"'")})),{x:function(){return Object(re.a)(i.shape,e,o,u,c,l)},filter:function(){return Object(ne.a)(i,e,o.shape,u,c,l)}}}},ie=n(100),oe={kernelName:i.F,inputsToSave:["dy","filter"],gradFunc:function(e,t,n){var r=Object(a.a)(t,2),i=r[0],o=r[1],s=n.strides,u=n.pad,c=n.dataFormat,l=n.dimRoundingMode;return{dy:function(){return Object(ie.a)(e,o,s,u,c,1,l)},filter:function(){return Object(ne.a)(e,i,o.shape,s,u,c,l)}}}};var se=Object(F.b)({conv3DBackpropFilter_:function(e,t,n,r,a){var o=e;4===e.rank&&(o=Object(y.a)(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));var s=t;4===s.rank&&(s=Object(y.a)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),D.b(5===o.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+"".concat(o.shape,".")})),D.b(5===s.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+"".concat(s.shape,".")})),D.b(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+"".concat(n,".")})),D.b(o.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input ".concat(o.shape[4],") must ")+"match input depth in filter (".concat(n[3],".")})),D.b(s.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy (".concat(s.shape[4],") must ")+"match output depth for filter (".concat(n[4],").")}));var u={x:o,dy:s},c={strides:r,pad:a,filterShape:n};return A.a.runKernel(i.H,u,c)}}),ue=n(272),ce={kernelName:i.G,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,i=n.strides,o=n.pad;D.b(Object(M.k)(r),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are "+"not yet supported in gradients. Got dilations '".concat(r,"'")}));var s=Object(a.a)(t,2),u=s[0],c=s[1];return{x:function(){return Object(ue.a)(u.shape,e,c,i,o)},filter:function(){return se(u,e,c.shape,i,o)}}}},le=n(255),de={kernelName:i.J,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(s.a)(Object(d.a)(Object(le.a)(Object(o.a)(n,"float32"))),e)}}}},pe=n(256),fe={kernelName:i.K,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(s.a)(Object(pe.a)(Object(o.a)(n,"float32")),e)}}}},he=n(62),me=n(185),ve=n(68),be={kernelName:i.N,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(a.a)(t,1)[0],i=n.axis,o=n.exclusive,s=n.reverse;return{x:function(){var t=Object(he.f)([i],r.rank),n=Object(me.a)(e,i,o,!s);return null!=t&&(n=Object(ve.a)(n,t)),n}}}},ge=n(277),ye=n(276),_e={kernelName:i.Q,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,i=n.strides,o=n.pad,s=n.dimRoundingMode,u=null==r?[1,1]:r;D.b(M.k(u),(function(){return"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(u,"'")}));var c=Object(a.a)(t,2),l=c[0],d=c[1];return D.b(4===l.rank,(function(){return"Error in gradient of depthwiseConv2dNative: input must be "+"rank 4, but got rank ".concat(l.rank,".")})),D.b(4===d.rank,(function(){return"Error in gradient of depthwiseConv2dNative: filter must be "+"rank 4, but got rank ".concat(d.rank,".")})),D.b(l.shape[3]===d.shape[2],(function(){return"Error in gradient of depthwiseConv2d: number of input "+"channels (".concat(l.shape[3],") must match the inChannels dimension ")+"in filter ".concat(d.shape[2],".")})),D.b(M.i(i,u),(function(){return"Error in gradient of depthwiseConv2d: Either strides or "+"dilations must be  1. Got strides ".concat(i," and dilations ")+"'".concat(u,"'.")})),M.a("depthwiseConv2d",o,s),{x:function(){return Object(ye.a)(l.shape,e,d,i,o,u,s)},filter:function(){return Object(ge.a)(l,e,d.shape,i,o,u,s)}}}},xe={kernelName:i.U,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=Object(a.a)(t,2),o=r[0],s=r[1],u={x:o,filter:s,dy:e},c={x:o,filter:s,dy:e};return{x:function(){return A.a.runKernel(i.W,u,n)},filter:function(){return A.a.runKernel(i.V,c,n)}}}},ke={kernelName:i.Y,outputsToSave:[!0],gradFunc:function(e,t){var n={dy:e,y:Object(a.a)(t,1)[0]};return{x:function(){return A.a.runKernel(i.Z,n)}}}},we=n(63),Oe={kernelName:i.bb,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0],r=Object(s.a)(Object(we.a)(Object(d.a)(Object(h.a)(n))),2/Math.sqrt(Math.PI));return{x:function(){return Object(s.a)(e,r)}}}},je={kernelName:i.cb,outputsToSave:[!0],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(s.a)(e,n)}}}},Se={kernelName:i.db,inputsToSave:["input"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{input:function(){return Object(y.a)(e,n.shape)}}}},Ce={kernelName:i.eb,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(s.a)(e,Object(we.a)(n))}}}},Te={kernelName:i.ib,gradFunc:function(e){return{x:function(){return Object(w.a)(e)}}}},Ne={kernelName:i.jb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(a.a)(t,2),r=n[0],i=n[1],u=Object(g.assertAndGetBroadcastShape)(r.shape,i.shape);return{a:function(){var t=Object(l.a)(e,Object(o.a)(i,"float32")),n=Object(g.getReductionAxes)(r.shape,u);return n.length>0?Object(y.a)(Object(_.a)(t,n),r.shape):t},b:function(){var t=Object(s.a)(e,Object(o.a)(r,"float32")),n=Object(g.getReductionAxes)(i.shape,u);n.length>0&&(t=Object(y.a)(Object(_.a)(t,n),i.shape));var a=Object(h.a)(i);return Object(d.a)(Object(l.a)(t,Object(o.a)(a,"float32")))}}}},Ee=n(252),Ie=n(105),Ae={kernelName:i.lb,inputsToSave:["x","mean","variance","scale"],gradFunc:function(e,t,n){var r=n.varianceEpsilon,i=Object(a.a)(t,4),o=i[0],u=i[1],c=i[2],l=i[3],d=null==l?Object(p.a)(1):l,f=Object(g.getReductionAxes)(u.shape,o.shape),h=[];if(1===u.rank){for(var v=0;v<o.shape.length-1;++v)h.push(o.shape[v]);h.push(1)}var b=Object(m.a)(o,u),x=Object(s.a)(e,d),k=Object(Ee.a)(Object(C.a)(c,Object(p.a)(r))),w=Object(s.a)(Object(s.a)(Object(s.a)(k,k),k),Object(p.a)(-.5));return{x:function(){return 1===u.rank?Object(y.a)(Object(s.a)(Object(s.a)(e,Object(Ie.a)(Object(y.a)(k,[1,1,1,u.shape[0]]),h)),d),o.shape):Object(y.a)(Object(s.a)(Object(s.a)(e,k),d),o.shape)},mean:function(){var e=Object(s.a)(Object(s.a)(k,Object(p.a)(-1)),x);return 1===u.rank&&(e=Object(_.a)(e,f)),Object(y.a)(e,u.shape)},variance:function(){var e=Object(s.a)(Object(s.a)(w,b),x);return 1===u.rank&&(e=Object(_.a)(e,f)),Object(y.a)(e,u.shape)},scale:function(){var t=Object(s.a)(b,k),n=Object(s.a)(e,t);return 1===u.rank&&(n=Object(_.a)(n,f)),Object(y.a)(n,u.shape)},offset:function(){var t=e;return 1===u.rank&&(t=Object(_.a)(t,f)),Object(y.a)(t,u.shape)}}}},Re=n(198),De={kernelName:i.pb,inputsToSave:["x","indices"],gradFunc:function(e,t,n){var r=Object(a.a)(t,2),i=r[0],o=r[1],s=n.axis,u=Object(D.H)(s,i.shape)[0];return{x:function(){var t=i.shape,n=o.size,r=t.slice(0,u),a=r.length,c=t.slice(s,t.length).slice(1),l=c.length,d=Me(0,a),p=Me(a+1,a+1+l),f=Fe([r,[n],c]),h=Object(y.a)(e,f),m=Object(y.a)(o,[n]),v=Fe([[a],d,p]),b=Object(ve.a)(h,v),g=Object(Re.a)(b,m,i.shape[u]),_=Object(he.h)(v);return g=Object(ve.a)(g,_)},indices:function(){return o}}}};function Me(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function Fe(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var Le={kernelName:i.rb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(a.a)(t,2),r=n[0],i=n[1];return{a:function(){return Object(w.a)(r)},b:function(){return Object(w.a)(i)}}}},Pe={kernelName:i.tb,gradFunc:function(e){return{x:function(){return Object(o.a)(e,"float32")}}}},ze={kernelName:i.vb,gradFunc:function(e){return{x:function(){return Object(w.a)(e)}}}},Be={kernelName:i.wb,gradFunc:function(e){return{x:function(){return Object(w.a)(e)}}}},Ve={kernelName:i.xb,gradFunc:function(e){return{x:function(){return Object(w.a)(e)}}}},Ue=n(67),We={kernelName:i.Ab,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(a.a)(t,1)[0],i=n.alpha,o=Object(Ue.a)(r,0);return{x:function(){return Object(Z.a)(o,e,Object(s.a)(e,i))}}}},He={kernelName:i.Fb,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(C.a)(n,1))}}}},Ge={kernelName:i.Eb,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(o.a)(n,"float32"))}}}},$e={kernelName:i.Gb,inputsToSave:[],outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(a.a)(t,1)[0],i=n.axis;return{logits:function(){var t=Object(we.a)(r);return Object(m.a)(e,Object(s.a)(Object(_.a)(e,i,!0),t))}}}};var qe=Object(F.b)({localResponseNormalizationBackprop_:function(e,t,n){var r={x:e,y:t,dy:n},a={depthRadius:arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,bias:arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,alpha:arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,beta:arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5};return A.a.runKernel(i.zb,r,a)}}),Ke={kernelName:i.yb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(a.a)(t,2),i=r[0],o=r[1],s=n.depthRadius,u=n.bias,c=n.alpha,l=n.beta;return{x:function(){return qe(i,o,e,s,u,c,l)}}}},Xe=n(146);function Ye(e,t,n,r){return t.rank<n.rank&&(t=Object(y.a)(t,he.e(t.shape,r))),e.rank<n.rank&&(e=Object(y.a)(e,he.e(e.shape,r))),{x:function(){return Object(s.a)(e,Object(o.a)(Object(Xe.a)(n,t),e.dtype))}}}var Ze={kernelName:i.Nb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.reductionIndices,a=t[0],i=Ye(e,t[1],a,D.H(r,a.shape));return{x:function(){return i.x()}}}},Qe=n(135),Je={kernelName:i.Tb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(a.a)(t,2),r=n[0],i=n[1];return{a:function(){return Object(s.a)(e,Object(o.a)(Object(K.a)(r,i),"float32"))},b:function(){return Object(s.a)(e,Object(o.a)(Object(Qe.a)(r,i),"float32"))}}}};var et=Object(F.b)({maxPool3dGrad_:function(e,t,n,r,a,o,s){var u=Object(R.a)(e,"dy","maxPool3dGrad"),c=Object(R.a)(t,"input","maxPool3dGrad"),l=Object(R.a)(n,"output","maxPool3dGrad"),d=u,p=c,f=l,h=!1;4===c.rank&&(h=!0,d=Object(y.a)(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),p=Object(y.a)(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]]),f=Object(y.a)(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),D.b(5===d.rank,(function(){return"Error in maxPool3dGrad: dy must be rank 5 but got rank "+"".concat(d.rank,".")})),D.b(5===p.rank,(function(){return"Error in maxPool3dGrad: input must be rank 5 but got rank "+"".concat(p.rank,".")})),D.b(5===f.rank,(function(){return"Error in maxPool3dGrad: output must be rank 5 but got rank "+"".concat(f.rank,".")})),Object(M.a)("maxPool3dGrad",o,s);var m={dy:d,input:p,output:f},v={filterSize:r,strides:a,pad:o,dimRoundingMode:s},b=A.a.runKernel(i.Qb,m,v);return h?Object(y.a)(b,[b.shape[1],b.shape[2],b.shape[3],b.shape[4]]):b}}),tt={kernelName:i.Pb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(a.a)(t,2),i=r[0],o=r[1],s=n.filterSize,u=n.strides,c=n.pad,l=n.dimRoundingMode;return{x:function(){return et(e,i,o,s,u,c,l)}}}};var nt=Object(F.b)({maxPoolGrad_:function(e,t,n,r,a,o,s){var u=Object(R.a)(e,"dy","maxPoolGrad"),c=Object(R.a)(t,"input","maxPoolGrad"),l=Object(R.a)(n,"output","maxPoolGrad");D.b(c.rank===u.rank,(function(){return"Rank of input (".concat(c.rank,") does not match rank of dy ")+"(".concat(u.rank,")")})),D.b(4===u.rank,(function(){return"Error in maxPoolGrad: dy must be rank 4 but got rank "+"".concat(u.rank,".")})),D.b(4===c.rank,(function(){return"Error in maxPoolGrad: input must be rank 4 but got rank "+"".concat(c.rank,".")})),M.a("maxPoolGrad",o,s);var d={dy:u,input:c,output:l},p={filterSize:r,strides:a,pad:o,dimRoundingMode:s};return A.a.runKernel(i.Rb,d,p)}}),rt={kernelName:i.Ob,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(a.a)(t,2),i=r[0],o=r[1],s=n.filterSize,u=n.strides,c=n.pad;return{x:function(){return nt(e,i,o,s,u,c)}}}},at=n(81),it={kernelName:i.Ub,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(a.a)(t,1)[0],i=n.axis,o=D.H(i,r.shape),u=Object(he.d)(r.shape,o)[1],c=D.N(u);return{x:function(){var t=r.shape.slice();o.forEach((function(e){t[e]=1}));var n=Object(y.a)(e,t);return Object(l.a)(Object(s.a)(n,Object(at.a)(r.shape,"float32")),c)}}}},ot={kernelName:i.Vb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.axis,i=Object(a.a)(t,2),o=i[0],s=Ye(e,i[1],o,D.H(r,o.shape));return{x:function(){return s.x()}}}},st={kernelName:i.Wb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(a.a)(t,2),r=n[0],i=n[1];return{a:function(){return Object(s.a)(e,Object(o.a)(Object(X.a)(r,i),"float32"))},b:function(){return Object(s.a)(e,Object(o.a)(Object(Ue.a)(r,i),"float32"))}}}},ut=n(49),ct={kernelName:i.Xb,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map((function(e){return e[0]}));return{x:function(){return Object(ut.a)(e,a,r.shape)}}}},lt=n(187),dt={kernelName:i.Yb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(a.a)(t,2),r=n[0],i=n[1],o=Object(g.assertAndGetBroadcastShape)(r.shape,i.shape);return{a:function(){var t=Object(g.getReductionAxes)(r.shape,o);return t.length>0?Object(y.a)(Object(_.a)(e,t),r.shape):e},b:function(){var t=Object(s.a)(e,Object(d.a)(Object(lt.a)(Object(l.a)(r,i)))),n=Object(g.getReductionAxes)(i.shape,o);return n.length>0?Object(y.a)(Object(_.a)(t,n),i.shape):t}}}},pt={kernelName:i.ac,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(a.a)(t,2),r=n[0],i=n[1],u=Object(g.assertAndGetBroadcastShape)(r.shape,i.shape);return{a:function(){var t=Object(s.a)(e,Object(o.a)(i,"float32")),n=Object(g.getReductionAxes)(r.shape,u);return n.length>0?Object(y.a)(Object(_.a)(t,n),r.shape):t},b:function(){var t=Object(s.a)(e,Object(o.a)(r,"float32")),n=Object(g.getReductionAxes)(i.shape,u);return n.length>0?Object(y.a)(Object(_.a)(t,n),i.shape):t}}}},ft={kernelName:i.bc,gradFunc:function(e){return{x:function(){return Object(d.a)(e)}}}},ht=n(127),mt={kernelName:i.gc,inputsToSave:["indices"],gradFunc:function(e,t){var n=t[0];return{indices:function(){return Object(ht.a)(n.shape,"float32")}}}},vt={kernelName:i.hc,gradFunc:function(e){return{x:function(){return Object(w.a)(e)}}}},bt=n(130),gt={kernelName:i.ic,saveAllInputs:!0,gradFunc:function(e,t,n){var r=n.axis;return Object(bt.a)(e,r).map((function(e){return function(){return e}}))}},yt={kernelName:i.jc,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map((function(e){return e[0]}));return{x:function(){return Object(ut.a)(e,a,r.shape)}}}},_t=n(113),xt=n(80),kt={kernelName:i.lc,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:function(e,t){var n=Object(a.a)(t,3),r=n[0],i=n[1],u=n[2],c=r,l=i,d=g.assertAndGetBroadcastShape(c.shape,l.shape);return{a:function(){var t=Object(o.a)(l,"float32"),n=Object(s.a)(e,Object(s.a)(t,Object(xt.a)(c,Object(m.a)(t,Object(p.a)(1))))),r=g.getReductionAxes(c.shape,d);return r.length>0&&(n=Object(_.a)(n,r)),Object(y.a)(n,c.shape)},b:function(){var t=Object(Ue.a)(c,0),n=Object(Z.a)(t,Object(_t.a)(c),Object(w.a)(c)),r=Object(s.a)(e,Object(s.a)(u,n)),a=g.getReductionAxes(l.shape,d);return a.length>0&&(r=Object(_.a)(r,a)),Object(y.a)(r,l.shape)}}}},wt={kernelName:i.mc,inputsToSave:["x","alpha"],gradFunc:function(e,t){var n=Object(a.a)(t,2),r=n[0],i=n[1],o=Object(Ue.a)(r,0);return{x:function(){return Object(Z.a)(o,e,Object(s.a)(e,i))},alpha:function(){var t=Object(Z.a)(o,Object(w.a)(e),Object(s.a)(e,r)),n=Object(g.getReductionAxes)(i.shape,e.shape);return n.length>0&&(t=Object(_.a)(t,n)),Object(y.a)(t,i.shape)}}}},Ot=n(216),jt=n(160);function St(e,t,n){var r=e.shape.length,a=r-n.length,i=Ot.ge.getAxesPermutation(n,r),o=e;null!=i&&(o=Object(ve.a)(e,i));var u=o.shape.slice(),c=u.splice(r-n.length,n.length).reduce((function(e,t){return e*t}),1);u.push(c);var l=function(e,t,n){var r=e.shape.slice();r[n]=1;var a=Object(y.a)(t,r),i=Object(jt.a)(e,n,!0,!1),o=Object(jt.a)(e,n,!0,!0),u=Object(s.a)(i,o);return Object(s.a)(a,u)}(o.reshape(u),t,a);if(l=l.reshape(o.shape),null!=i){var d=Ot.ge.getUndoAxesPermutation(i);l=Object(ve.a)(l,d)}return l}var Ct={kernelName:i.nc,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(a.a)(t,1)[0],i=n.axis,o=[];return o=void 0===i||null===i?r.shape.map((function(e,t){return t})):"number"===typeof i?[i]:i,{x:function(){return St(r,e,o)}}}},Tt={kernelName:i.tc,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(a.a)(t,2),r=n[0],i=n[1],u=g.assertAndGetBroadcastShape(r.shape,i.shape);return{a:function(){var t=Object(l.a)(e,Object(o.a)(i,"float32")),n=g.getReductionAxes(r.shape,u);return n.length>0?Object(y.a)(Object(_.a)(t,n),r.shape):t},b:function(){var t=Object(s.a)(e,Object(o.a)(r,"float32")),n=g.getReductionAxes(i.shape,u);n.length>0&&(t=Object(y.a)(Object(_.a)(t,n),i.shape));var a=Object(h.a)(i);return Object(d.a)(Object(l.a)(t,Object(o.a)(a,"float32")))}}}},Nt={kernelName:i.uc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(d.a)(Object(h.a)(n)))}}}},Et={kernelName:i.wc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0],r=Object(s.a)(Object(X.a)(n,6),Object(u.a)(n));return{x:function(){return Object(s.a)(e,Object(o.a)(r,"float32"))}}}},It={kernelName:i.vc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(s.a)(e,Object(o.a)(Object(u.a)(n),"float32"))}}}},At={kernelName:i.xc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(y.a)(e,n.shape)}}}},Rt={kernelName:i.yc,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:Object(a.a)(t,1)[0]};return{images:function(){return A.a.runKernel(i.zc,r,n)}}}},Dt={kernelName:i.Ac,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:Object(a.a)(t,1)[0]};return{images:function(){return A.a.runKernel(i.Bc,r,n)}}}},Mt=n(74),Ft={kernelName:i.Cc,gradFunc:function(e,t,n){var r=n.dims,a=Object(D.H)(r,e.shape);return{x:function(){return Object(Mt.a)(e,a)}}}},Lt={kernelName:i.Ec,gradFunc:function(e){return{x:function(){return Object(w.a)(e)}}}},Pt={kernelName:i.Fc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(d.a)(Object(l.a)(e,Object(s.a)(Object(xt.a)(n,1.5),2)))}}}},zt=n(150),Bt={kernelName:i.Ic,inputsToSave:["condition"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{condition:function(){return Object(o.a)(Object(w.a)(n),"float32")},t:function(){return Object(s.a)(e,Object(o.a)(n,e.dtype))},e:function(){return Object(s.a)(e,Object(o.a)(Object(zt.a)(n),e.dtype))}}}},Vt=n(215),Ut={kernelName:i.Jc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){var t=Object(Ue.a)(n,Object(p.a)(0)),r=Object(p.a)(Vt.b),a=Object(p.a)(Vt.a),i=Object(s.a)(e,a),u=Object(s.a)(Object(s.a)(e,r),Object(we.a)(Object(o.a)(n,"float32")));return Object(Z.a)(t,i,u)}}}},Wt={kernelName:i.Kc,outputsToSave:[!0],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(s.a)(e,Object(s.a)(n,Object(m.a)(Object(p.a)(1),n)))}}}},Ht={kernelName:i.Lc,gradFunc:function(e){return{x:function(){return Object(w.a)(e)}}}},Gt=n(184),$t={kernelName:i.Mc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(s.a)(Object(Gt.a)(Object(o.a)(n,"float32")),e)}}}},qt=n(237),Kt={kernelName:i.Nc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(s.a)(Object(qt.a)(Object(o.a)(n,"float32")),e)}}}},Xt=n(87),Yt=n(174),Zt={kernelName:i.Oc,inputsToSave:["x"],gradFunc:function(e,t,n){for(var r=Object(a.a)(t,1)[0],i=n.begin,o=n.size,s=r.shape,u=Object(Yt.parseSliceParams)(r,i,o),c=Object(a.a)(u,2),l=c[0],d=c[1],p=[],f=0;f<e.rank;f++)p.push([l[f],s[f]-l[f]-d[f]]);return{x:function(){return Object(Xt.a)(e,p)}}}},Qt={kernelName:i.Pc,outputsToSave:[!0],gradFunc:function(e,t,n){var r=Object(a.a)(t,1)[0],i=n.dim,o=Object(s.a)(e,r);return{logits:function(){return Object(m.a)(o,Object(s.a)(Object(_.a)(o,[i],!0),r))}}}},Jt=n(103),en={kernelName:i.Qc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(s.a)(e,Object(Jt.a)(n))}}}},tn=n(144),nn={kernelName:i.Rc,gradFunc:function(e,t,n){var r=n.blockShape,a=n.paddings;return{x:function(){return Object(tn.a)(e,r,a)}}}},rn=n(54),an={kernelName:i.Xc,gradFunc:function(e,t,n){var r=n.axis;return{x:function(){return Object(rn.a)(e,r)}}}},on={kernelName:i.Yc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(s.a)(Object(f.a)(Object(o.a)(n,"float32")),2))}}}},sn={kernelName:i.Zc,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(s.a)(e,Object(s.a)(Object(o.a)(n,"float32"),2))}}}},un={kernelName:i.ad,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(a.a)(t,2),r=n[0],i=n[1],o=Object(p.a)(2);return{a:function(){return Object(s.a)(e,Object(s.a)(o,Object(m.a)(r,i)))},b:function(){return Object(s.a)(e,Object(s.a)(o,Object(m.a)(i,r)))}}}},cn={kernelName:i.cd,gradFunc:function(e){return{x:function(){return Object(w.a)(e)}}}},ln={kernelName:i.hd,inputsToSave:["a","b"],gradFunc:function(e,t){var n=Object(a.a)(t,2),r=n[0],i=n[1],o=g.assertAndGetBroadcastShape(r.shape,i.shape);return{a:function(){var t=e,n=g.getReductionAxes(r.shape,o);return n.length>0&&(t=Object(_.a)(t,n)),Object(y.a)(t,r.shape)},b:function(){var t=e,n=g.getReductionAxes(i.shape,o);return n.length>0&&(t=Object(_.a)(t,n)),Object(y.a)(Object(d.a)(t),i.shape)}}}},dn={kernelName:i.id,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(a.a)(t,1)[0],i=r.shape.slice(),o=n.axis;Object(D.H)(o,r.shape).forEach((function(e){i[e]=1}));var u=Object(y.a)(e,i),c=Object(s.a)(u,Object(at.a)(r.shape,"float32"));return{x:function(){return c}}}},pn={kernelName:i.jd,inputsToSave:["x"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(l.a)(e,Object(h.a)(Object(Gt.a)(n)))}}}},fn={kernelName:i.kd,outputsToSave:[!0],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return Object(s.a)(Object(m.a)(Object(p.a)(1),Object(h.a)(n)),e)}}}},hn={kernelName:i.md,inputsToSave:["x"],gradFunc:function(e,t,n){var r=Object(a.a)(t,1)[0],i=n.reps;return{x:function(){var t=Object(w.a)(r);if(1===r.rank)for(var n=0;n<i[0];++n)t=Object(C.a)(t,Object(ut.a)(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(var a=0;a<i[0];++a)for(var o=0;o<i[1];++o)t=Object(C.a)(t,Object(ut.a)(e,[a*r.shape[0],o*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(var s=0;s<i[0];++s)for(var u=0;u<i[1];++u)for(var c=0;c<i[2];++c)t=Object(C.a)(t,Object(ut.a)(e,[s*r.shape[0],u*r.shape[1],c*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+"".concat(r.rank," tensors yet."));for(var l=0;l<i[0];++l)for(var d=0;d<i[1];++d)for(var p=0;p<i[2];++p)for(var f=0;f<i[3];++f)t=Object(C.a)(t,Object(ut.a)(e,[l*r.shape[0],d*r.shape[1],p*r.shape[2],f*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},mn={kernelName:i.pd,gradFunc:function(e,t,n){var r=n.perm,a=he.h(r);return{x:function(){return Object(ve.a)(e,a)}}}},vn=n(95),bn={kernelName:i.rd,gradFunc:function(e,t,n){var r=n.axis;return{value:function(){return Object(vn.a)(e,r)}}}},gn=n(97),yn=n(148),_n=n(142),xn={kernelName:i.sd,inputsToSave:["segmentIds"],gradFunc:function(e,t){var n=Object(a.a)(t,1)[0];return{x:function(){return function(e,t){for(var n=Object(_n.a)(t,Object(w.a)(t)),r=Object(yn.a)(e,n),a=Object(K.a)(t,Object(p.a)(0,"int32")),i=r.rank-a.rank,o=0;o<i;++o)a=Object(gn.a)(a,o+1);a=Object(Y.a)(a,Object(at.a)(r.shape,"bool"));var s=Object(w.a)(r);return Object(Z.a)(a,r,s)}(e,n)}}}};for(var kn={kernelName:i.ud,gradFunc:function(e){return{x:function(){return Object(w.a)(e)}}}},wn=n(96),On=0,jn=[c,v,b,x,k,O,j,S,T,N,E,I,P,B,U,H,G,$,q,Q,J,te,oe,ae,ce,de,fe,be,_e,xe,Tt,ke,Oe,je,Se,Ce,Ne,Te,Ae,De,Le,Pe,ze,Be,Ve,We,He,Ge,$e,Ke,Ze,Ze,Je,tt,rt,it,ot,st,ct,dt,pt,ft,mt,vt,gt,yt,yt,kt,wt,Ct,Nt,Et,It,At,Rt,Dt,Ft,Lt,Pt,Bt,Ut,Wt,Ht,$t,Kt,Zt,Qt,en,nn,nn,an,an,on,un,sn,cn,ln,dn,pn,fn,hn,mn,bn,xn,kn];On<jn.length;On++){var Sn=jn[On];Object(wn.e)(Sn)}var Cn=n(69),Tn=n(15);Object(Tn.d)().prototype.abs=function(){return this.throwIfDisposed(),Object(Cn.a)(this)};var Nn=n(362);Object(Tn.d)().prototype.acos=function(){return this.throwIfDisposed(),Object(Nn.a)(this)};var En=n(363);Object(Tn.d)().prototype.acosh=function(){return this.throwIfDisposed(),Object(En.a)(this)},Object(Tn.d)().prototype.add=function(e){return this.throwIfDisposed(),Object(C.a)(this,e)};var In=n(230);Object(Tn.d)().prototype.all=function(e,t){return this.throwIfDisposed(),Object(In.a)(this,e,t)};var An=n(231);Object(Tn.d)().prototype.any=function(e,t){return this.throwIfDisposed(),Object(An.a)(this,e,t)};var Rn=n(232);Object(Tn.d)().prototype.argMax=function(e){return this.throwIfDisposed(),Object(Rn.a)(this,e)};var Dn=n(233);Object(Tn.d)().prototype.argMin=function(e){return this.throwIfDisposed(),Object(Dn.a)(this,e)},Object(Tn.d)().prototype.asScalar=function(){return this.throwIfDisposed(),Object(D.b)(1===this.size,(function(){return"The array must have only 1 element."})),Object(y.a)(this,[])},Object(Tn.d)().prototype.asType=function(e){return this.throwIfDisposed(),Object(o.a)(this,e)},Object(Tn.d)().prototype.as1D=function(){return this.throwIfDisposed(),Object(y.a)(this,[this.size])},Object(Tn.d)().prototype.as2D=function(e,t){return this.throwIfDisposed(),Object(y.a)(this,[e,t])},Object(Tn.d)().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),Object(y.a)(this,[e,t,n])},Object(Tn.d)().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),Object(y.a)(this,[e,t,n,r])},Object(Tn.d)().prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),Object(y.a)(this,[e,t,n,r,a])};var Mn=n(364);Object(Tn.d)().prototype.asin=function(){return this.throwIfDisposed(),Object(Mn.a)(this)};var Fn=n(365);Object(Tn.d)().prototype.asinh=function(){return this.throwIfDisposed(),Object(Fn.a)(this)};var Ln=n(366);Object(Tn.d)().prototype.atan=function(){return this.throwIfDisposed(),Object(Ln.a)(this)};var Pn=n(234);Object(Tn.d)().prototype.atan2=function(e){return this.throwIfDisposed(),Object(Pn.a)(this,e)};var zn=n(367);Object(Tn.d)().prototype.atanh=function(){return this.throwIfDisposed(),Object(zn.a)(this)};var Bn=n(183);Object(Tn.d)().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),Object(Bn.a)(this,e,t,n,r)},Object(Tn.d)().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),Object(tn.a)(this,e,t)};var Vn=n(131);Object(Tn.d)().prototype.batchNorm=function(e,t,n,r,a){return this.throwIfDisposed(),Object(Vn.a)(this,e,t,n,r,a)};var Un=n(153);Object(Tn.d)().prototype.broadcastTo=function(e){return this.throwIfDisposed(),Object(Un.a)(this,e)},Object(Tn.d)().prototype.cast=function(e){return this.throwIfDisposed(),Object(o.a)(this,e)};var Wn=n(368);Object(Tn.d)().prototype.ceil=function(){return this.throwIfDisposed(),Object(Wn.a)(this)};var Hn=n(369);Object(Tn.d)().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),Object(Hn.a)(this,e,t)};var Gn=n(18);Object(Tn.d)().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof Tn.a&&(e=[e]),Object(rn.a)([this].concat(Object(Gn.a)(e)),t)};var $n=n(235);Object(Tn.d)().prototype.conv1d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object($n.a)(this,e,t,n,r,a,i)};var qn=n(236);Object(Tn.d)().prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),Object(qn.a)(this,e,t,n,r,a)},Object(Tn.d)().prototype.conv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object(ie.a)(this,e,t,n,r,a,i)},Object(Tn.d)().prototype.cos=function(){return this.throwIfDisposed(),Object(Gt.a)(this)},Object(Tn.d)().prototype.cosh=function(){return this.throwIfDisposed(),Object(qt.a)(this)},Object(Tn.d)().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),Object(jt.a)(this,e,t,n)},Object(Tn.d)().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),Object(me.a)(this,e,t,n)};var Kn=n(238);Object(Tn.d)().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),Object(Kn.a)(this,e,t)};var Xn=n(145);Object(Tn.d)().prototype.depthwiseConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object(Xn.a)(this,e,t,n,r,a,i)};var Yn=n(239);Object(Tn.d)().prototype.dilation2d=function(e,t,n,r,a){return this.throwIfDisposed(),Object(Yn.a)(this,e,t,n,r,a)};var Zn=n(240);Object(Tn.d)().prototype.divNoNan=function(e){return this.throwIfDisposed(),Object(Zn.a)(this,e)},Object(Tn.d)().prototype.div=function(e){return this.throwIfDisposed(),Object(l.a)(this,e)};var Qn=n(241);Object(Tn.d)().prototype.dot=function(e){return this.throwIfDisposed(),Object(Qn.a)(this,e)};var Jn=n(186);Object(Tn.d)().prototype.elu=function(){return this.throwIfDisposed(),Object(Jn.a)(this)},Object(Tn.d)().prototype.equal=function(e){return this.throwIfDisposed(),Object(Xe.a)(this,e)};var er=n(370);Object(Tn.d)().prototype.erf=function(){return this.throwIfDisposed(),Object(er.a)(this)};var tr=n(242);Object(Tn.d)().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),Object(tr.a)(this,e,t)},Object(Tn.d)().prototype.exp=function(){return this.throwIfDisposed(),Object(we.a)(this)},Object(Tn.d)().prototype.expandDims=function(e){return this.throwIfDisposed(),Object(gn.a)(this,e)};var nr=n(371);Object(Tn.d)().prototype.expm1=function(){return this.throwIfDisposed(),Object(nr.a)(this)};var rr=n(195);Object(Tn.d)().prototype.fft=function(){return this.throwIfDisposed(),Object(rr.a)(this)},Object(Tn.d)().prototype.flatten=function(){return this.throwIfDisposed(),Object(y.a)(this,[this.size])},Object(Tn.d)().prototype.floor=function(){return this.throwIfDisposed(),Object(lt.a)(this)};var ar=n(176);Object(Tn.d)().prototype.floorDiv=function(e){return this.throwIfDisposed(),Object(ar.a)(this,e)},Object(Tn.d)().prototype.gather=function(e,t,n){return this.throwIfDisposed(),Object(yn.a)(this,e,t,n)},Object(Tn.d)().prototype.greaterEqual=function(e){return this.throwIfDisposed(),Object(K.a)(this,e)},Object(Tn.d)().prototype.greater=function(e){return this.throwIfDisposed(),Object(Ue.a)(this,e)};var ir=n(163);Object(Tn.d)().prototype.ifft=function(){return this.throwIfDisposed(),Object(ir.a)(this)};var or=n(257);Object(Tn.d)().prototype.irfft=function(){return this.throwIfDisposed(),Object(or.a)(this)};var sr=n(372);Object(Tn.d)().prototype.isFinite=function(){return this.throwIfDisposed(),Object(sr.a)(this)};var ur=n(373);Object(Tn.d)().prototype.isInf=function(){return this.throwIfDisposed(),Object(ur.a)(this)};var cr=n(374);Object(Tn.d)().prototype.isNaN=function(){return this.throwIfDisposed(),Object(cr.a)(this)};var lr=n(188);Object(Tn.d)().prototype.leakyRelu=function(e){return this.throwIfDisposed(),Object(lr.a)(this,e)},Object(Tn.d)().prototype.lessEqual=function(e){return this.throwIfDisposed(),Object(X.a)(this,e)},Object(Tn.d)().prototype.less=function(e){return this.throwIfDisposed(),Object(Qe.a)(this,e)};var dr=n(243);Object(Tn.d)().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),Object(dr.a)(this,e,t,n,r)};var pr=n(375);Object(Tn.d)().prototype.logSigmoid=function(){return this.throwIfDisposed(),Object(pr.a)(this)};var fr=n(376);Object(Tn.d)().prototype.logSoftmax=function(e){return this.throwIfDisposed(),Object(fr.a)(this,e)};var hr=n(189);Object(Tn.d)().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),Object(hr.a)(this,e,t)},Object(Tn.d)().prototype.log=function(){return this.throwIfDisposed(),Object(_t.a)(this)};var mr=n(244);Object(Tn.d)().prototype.log1p=function(){return this.throwIfDisposed(),Object(mr.a)(this)},Object(Tn.d)().prototype.logicalAnd=function(e){return this.throwIfDisposed(),Object(Y.a)(this,e)},Object(Tn.d)().prototype.logicalNot=function(){return this.throwIfDisposed(),Object(zt.a)(this)};var vr=n(190);Object(Tn.d)().prototype.logicalOr=function(e){return this.throwIfDisposed(),Object(vr.a)(this,e)};var br=n(246);Object(Tn.d)().prototype.logicalXor=function(e){return this.throwIfDisposed(),Object(br.a)(this,e)},Object(Tn.d)().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),Object(V.a)(this,e,t,n)};var gr=n(191);Object(Tn.d)().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),Object(gr.a)(this,e,t,n,r)};var yr=n(104);Object(Tn.d)().prototype.max=function(e,t){return this.throwIfDisposed(),Object(yr.a)(this,e,t)},Object(Tn.d)().prototype.maximum=function(e){return this.throwIfDisposed(),Object(_n.a)(this,e)};var _r=n(136);Object(Tn.d)().prototype.mean=function(e,t){return this.throwIfDisposed(),Object(_r.a)(this,e,t)};var xr=n(161);Object(Tn.d)().prototype.min=function(e,t){return this.throwIfDisposed(),Object(xr.a)(this,e,t)};var kr=n(137);Object(Tn.d)().prototype.minimum=function(e){return this.throwIfDisposed(),Object(kr.a)(this,e)};var wr=n(247);Object(Tn.d)().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),Object(wr.a)(this,e,t)};var Or=n(248);Object(Tn.d)().prototype.mod=function(e){return this.throwIfDisposed(),Object(Or.a)(this,e)},Object(Tn.d)().prototype.mul=function(e){return this.throwIfDisposed(),Object(s.a)(this,e)},Object(Tn.d)().prototype.neg=function(){return this.throwIfDisposed(),Object(d.a)(this)};var jr=n(147);Object(Tn.d)().prototype.norm=function(e,t,n){return this.throwIfDisposed(),Object(jr.a)(this,e,t,n)};var Sr=n(192);Object(Tn.d)().prototype.notEqual=function(e){return this.throwIfDisposed(),Object(Sr.a)(this,e)};var Cr=n(162);Object(Tn.d)().prototype.oneHot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),Object(Cr.a)(this,e,t,n)};var Tr=n(377);Object(Tn.d)().prototype.onesLike=function(){return this.throwIfDisposed(),Object(Tr.a)(this)},Object(Tn.d)().prototype.pad=function(e,t){return this.throwIfDisposed(),Object(Xt.a)(this,e,t)};var Nr=n(249);Object(Tn.d)().prototype.pool=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object(Nr.a)(this,e,t,n,r,a,i)},Object(Tn.d)().prototype.pow=function(e){return this.throwIfDisposed(),Object(xt.a)(this,e)};var Er=n(193);Object(Tn.d)().prototype.prelu=function(e){return this.throwIfDisposed(),Object(Er.a)(this,e)};var Ir=n(250);Object(Tn.d)().prototype.prod=function(e,t){return this.throwIfDisposed(),Object(Ir.a)(this,e,t)};var Ar=n(378);Object(Tn.d)().prototype.reciprocal=function(){return this.throwIfDisposed(),Object(Ar.a)(this)};var Rr=n(128);Object(Tn.d)().prototype.relu=function(){return this.throwIfDisposed(),Object(Rr.a)(this)};var Dr=n(194);Object(Tn.d)().prototype.relu6=function(){return this.throwIfDisposed(),Object(Dr.a)(this)},Object(Tn.d)().prototype.reshapeAs=function(e){return this.throwIfDisposed(),Object(y.a)(this,e.shape)},Object(Tn.d)().prototype.reshape=function(e){return this.throwIfDisposed(),Object(y.a)(this,e)};var Mr=n(275);Object(Tn.d)().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),Object(Mr.a)(this,e,t,n)};var Fr=n(273);Object(Tn.d)().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),Object(Fr.a)(this,e,t,n)},Object(Tn.d)().prototype.reverse=function(e){return this.throwIfDisposed(),Object(Mt.a)(this,e)};var Lr=n(196);Object(Tn.d)().prototype.rfft=function(){return this.throwIfDisposed(),Object(Lr.a)(this)};var Pr=n(251);Object(Tn.d)().prototype.round=function(){return this.throwIfDisposed(),Object(Pr.a)(this)},Object(Tn.d)().prototype.rsqrt=function(){return this.throwIfDisposed(),Object(Ee.a)(this)};var zr=n(253);Object(Tn.d)().prototype.selu=function(){return this.throwIfDisposed(),Object(zr.a)(this)};var Br=n(254);Object(Tn.d)().prototype.separableConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Object(Br.a)(this,e,t,n,r,a,i)},Object(Tn.d)().prototype.sigmoid=function(){return this.throwIfDisposed(),Object(Jt.a)(this)};var Vr=n(379);Object(Tn.d)().prototype.sign=function(){return this.throwIfDisposed(),Object(Vr.a)(this)},Object(Tn.d)().prototype.sin=function(){return this.throwIfDisposed(),Object(le.a)(this)},Object(Tn.d)().prototype.sinh=function(){return this.throwIfDisposed(),Object(pe.a)(this)},Object(Tn.d)().prototype.slice=function(e,t){return this.throwIfDisposed(),Object(ut.a)(this,e,t)};var Ur=n(380);Object(Tn.d)().prototype.softmax=function(e){return this.throwIfDisposed(),Object(Ur.a)(this,e)};var Wr=n(245);Object(Tn.d)().prototype.softplus=function(){return this.throwIfDisposed(),Object(Wr.a)(this)},Object(Tn.d)().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),Object(W.a)(this,e,t)},Object(Tn.d)().prototype.split=function(e,t){return this.throwIfDisposed(),Object(ee.a)(this,e,t)},Object(Tn.d)().prototype.sqrt=function(){return this.throwIfDisposed(),Object(f.a)(this)},Object(Tn.d)().prototype.square=function(){return this.throwIfDisposed(),Object(h.a)(this)};var Hr=n(197);Object(Tn.d)().prototype.squaredDifference=function(e){return this.throwIfDisposed(),Object(Hr.a)(this,e)};var Gr=n(152);Object(Tn.d)().prototype.squeeze=function(e){return this.throwIfDisposed(),Object(Gr.a)(this,e)},Object(Tn.d)().prototype.stack=function(e,t){this.throwIfDisposed();var n=e instanceof Tn.a?[this,e]:[this].concat(Object(Gn.a)(e));return Object(vn.a)(n,t)},Object(Tn.d)().prototype.step=function(e){return this.throwIfDisposed(),Object(u.a)(this,e)};var $r=n(381);Object(Tn.d)().prototype.stridedSlice=function(e,t,n,r,a,i,o,s){return this.throwIfDisposed(),Object($r.a)(this,e,t,n,r,a,i,o,s)},Object(Tn.d)().prototype.sub=function(e){return this.throwIfDisposed(),Object(m.a)(this,e)},Object(Tn.d)().prototype.sum=function(e,t){return this.throwIfDisposed(),Object(_.a)(this,e,t)};var qr=n(382);Object(Tn.d)().prototype.tan=function(){return this.throwIfDisposed(),Object(qr.a)(this)};var Kr=n(214);Object(Tn.d)().prototype.tanh=function(){return this.throwIfDisposed(),Object(Kr.a)(this)},Object(Tn.d)().prototype.tile=function(e){return this.throwIfDisposed(),Object(Ie.a)(this,e)},Object(Tn.d)().prototype.toBool=function(){return this.throwIfDisposed(),Object(o.a)(this,"bool")},Object(Tn.d)().prototype.toFloat=function(){return this.throwIfDisposed(),Object(o.a)(this,"float32")},Object(Tn.d)().prototype.toInt=function(){return this.throwIfDisposed(),Object(o.a)(this,"int32")};var Xr=n(259);Object(Tn.d)().prototype.topk=function(e,t){return this.throwIfDisposed(),Object(Xr.a)(this,e,t)},Object(Tn.d)().prototype.transpose=function(e){return this.throwIfDisposed(),Object(ve.a)(this,e)};var Yr=n(260);Object(Tn.d)().prototype.unique=function(e){return this.throwIfDisposed(),Object(Yr.a)(this,e)},Object(Tn.d)().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),Object(Re.a)(this,e,t)},Object(Tn.d)().prototype.unstack=function(e){return this.throwIfDisposed(),Object(bt.a)(this,e)},Object(Tn.d)().prototype.where=function(e,t){return this.throwIfDisposed(),Object(Z.a)(e,this,t)},Object(Tn.d)().prototype.zerosLike=function(){return this.throwIfDisposed(),Object(w.a)(this)};var Zr=n(4),Qr=n(11),Jr=n(17),ea=n(13),ta=n(29),na=n(16),ra=n(199);function aa(e,t,n){return(aa=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&Object(ra.a)(a,n.prototype),a}).apply(null,arguments)}function ia(e){var t="function"===typeof Map?new Map:void 0;return(ia=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return aa(e,arguments,Object(ea.a)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Object(ra.a)(r,e)})(e)}var oa=function(e){function t(e){var n;return Object(Zr.a)(this,t),n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e)),Object.setPrototypeOf(Object(ta.a)(n),t.prototype),n}return Object(na.a)(t,e),t}(ia(Error)),sa=function(e){function t(e){var n;return Object(Zr.a)(this,t),n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e)),Object.setPrototypeOf(Object(ta.a)(n),t.prototype),n}return Object(na.a)(t,e),t}(ia(Error)),ua=function(e){function t(e){var n;return Object(Zr.a)(this,t),n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e)),Object.setPrototypeOf(Object(ta.a)(n),t.prototype),n}return Object(na.a)(t,e),t}(ia(Error)),ca=function(e){function t(e){var n;return Object(Zr.a)(this,t),n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e)),Object.setPrototypeOf(Object(ta.a)(n),t.prototype),n}return Object(na.a)(t,e),t}(ia(Error)),la=function(e){function t(e){var n;return Object(Zr.a)(this,t),n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e)),Object.setPrototypeOf(Object(ta.a)(n),t.prototype),n}return Object(na.a)(t,e),t}(ia(Error)),da=(ia(Error),function(){function e(t){Object(Zr.a)(this,e),this.maxEntries=t||100,this.cache=new Map}return Object(Qr.a)(e,[{key:"get",value:function(e){var t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}},{key:"put",value:function(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}},{key:"getMaxEntries",value:function(){return this.maxEntries}},{key:"setMaxEntries",value:function(e){if(e<0)throw new Error("The maxEntries of LRU caches must be at least 0, but got ".concat(e,"."));if(this.maxEntries>e)for(var t=0;t<this.maxEntries-e;t++){var n=this.cache.keys().next().value;this.cache.delete(n)}this.maxEntries=e}}]),e}());function pa(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++)n=n.concat(e);return n}var a=new Array(t);return a.fill(e),a}function fa(e,t){if(!e)throw new la(t)}function ha(e,t){var n=0,r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){o.value===t&&n++}}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}function ma(e){return 1===e.length?e[0]:e}function va(e){return Array.isArray(e)?e:[e]}function ba(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function ga(e){return e.length<=1?e:-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,(function(e,t){return t.toUpperCase()}))}var ya={};function _a(e){if(null===e||void 0===e)return null;var t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function xa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"===typeof e){var o,s=e;if(s in n)o=n[s];else if(s in ya)o=ya[s];else if(null==(o=t[s]))throw new ua("Unknown ".concat(r,": ").concat(e,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");return o}var u=e;if(null==u.className||null==u.config)throw new ua("".concat(r,": Improper config format: ")+"".concat(JSON.stringify(u),".\n")+"'className' and 'config' must set.");var c,l,d=u.className;if(d in n){var p=Object(a.a)(n[d],2);c=p[0],l=p[1]}else if(d in ya){var f=Object(a.a)(ya.className,2);c=f[0],l=f[1]}else if(d in t){var h=Object(a.a)(t[d],2);c=h[0],l=h[1]}if(null==c)throw new ua("Unknown ".concat(r,": ").concat(d,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");if(null!=l){for(var m={},v=0,b=Object.keys(ya);v<b.length;v++){var g=b[v];m[g]=ya[g]}for(var y=0,_=Object.keys(n);y<_.length;y++){var x=_[y];m[x]=n[x]}u.config.customObjects=m;for(var k=Object.assign({},ya),w=0,O=Object.keys(n);w<O.length;w++){var j=O[w];ya[j]=n[j]}!function e(t){if(null!=t&&"object"===typeof t)if(Array.isArray(t))t.forEach((function(t){return e(t)}));else for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n],i=t[a];null!=i&&"object"===typeof i&&(Array.isArray(i)||"ndarray"!==i.type||"number"!==typeof i.value?e(i):t[a]=i.value)}}(u.config);var S=l(c,u.config,n,i);return ya=Object.assign({},k),S}for(var C=Object.assign({},ya),T=0,N=Object.keys(n);T<N.length;T++){var E=N[T];ya[E]=n[E]}var I=new c(u.config);return ya=Object.assign({},C),I}function ka(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function wa(e){if(null==e)return e;var t=[],n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;-1===t.indexOf(s)&&t.push(s)}}catch(u){r=!0,a=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return t}function Oa(e){if(null==e)throw new ua("Invalid value in obj: ".concat(JSON.stringify(e)));for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function ja(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new ua("".concat(n," is not a valid ").concat(t,".  Valid values are ").concat(e," or null/undefined."))}function Sa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return fa(n>=0),fa(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((function(e){return typeof e===t}))}function Ca(e,t){Array.isArray(e)?(r.util.assert(e.length>0,(function(){return"".concat(t," is unexpectedly an empty array.")})),e.forEach((function(e,n){return Ca(e,"element ".concat(n+1," of ").concat(t))}))):r.util.assert(Number.isInteger(e)&&e>0,(function(){return"Expected ".concat(t," to be a positive integer, but got ")+"".concat(function e(t){return null===t?"null":Array.isArray(t)?"["+t.map((function(t){return e(t)})).join(",")+"]":"string"===typeof t?'"'.concat(t,'"'):"".concat(t)}(e),".")}))}function Ta(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}var Na=0;function Ea(){return Na++}var Ia={};function Aa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in Ia||(Ia[e]=0),Ia[e]+=1,e+Ia[e].toString()}var Ra=["channelsFirst","channelsLast"],Da=["nearest","bilinear"],Ma=["valid","same","causal"],Fa=["max","avg"],La=["sum","mul","concat","ave"],Pa=new Map;function za(e){ja(Ra,"DataFormat",e)}function Ba(e){ja(Ma,"PaddingMode",e)}function Va(e){ja(Fa,"PoolMode",e)}var Ua=[],Wa="/";function Ha(e,t){Ua.push(e);try{var n=t();return Ua.pop(),n}catch(r){throw Ua.pop(),r}}function Ga(e){if(!Xa(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===Ua.length?"":Ua.join(Wa)+Wa)+e}function $a(e){if(!Xa(e))throw new Error("Not a valid tensor name: '"+e+"'");Pa.has(e)||Pa.set(e,0);var t=Pa.get(e);if(Pa.set(e,Pa.get(e)+1),t>0){var n="".concat(e,"_").concat(t);return Pa.set(n,1),n}return e}var qa,Ka=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function Xa(e){return!!e.match(Ka)}function Ya(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,a=t;a<n;++a)r*=e[a];return r}function Za(e){if(0===e.length)return Number.NaN;for(var t=Number.POSITIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r<t&&(t=r)}return t}function Qa(e){if(0===e.length)return Number.NaN;for(var t=Number.NEGATIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r>t&&(t=r)}return t}function Ja(e,t){if(t<e)throw new ua("end (".concat(t,") < begin (").concat(e,") is forbidden."));for(var n=[],r=e;r<t;++r)n.push(r);return n}function ei(){return null==qa&&(qa=Object(r.backend)().epsilon()),qa}function ti(e,t){return r.cast(e,t)}function ni(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),r.reshape(e,n)}function ri(e,t,n){return Object(r.tidy)((function(){switch(e.rank){case 1:return r.slice1d(e,t,n);case 2:return r.slice2d(e,[t,0],[n,e.shape[1]]);case 3:return r.slice3d(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return r.slice4d(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return r.slice(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return r.slice(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new ua("sliceAlongFirstAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function ai(e,t,n){return Object(r.tidy)((function(){switch(e.rank){case 1:return r.slice1d(e,t,n);case 2:return r.slice2d(e,[0,t],[e.shape[0],n]);case 3:return r.slice3d(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return r.slice4d(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new ua("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function ii(e,t,n,a){return Object(r.tidy)((function(){switch(e.rank){case 1:return r.slice1d(e,t,n);case 2:switch(a){case 1:return ri(e,t,n);case 2:return ai(e,t,n);default:throw new ua("The axis is not within the rank of the tensor "+"".concat(a))}case 3:switch(a){case 1:return ri(e,t,n);case 2:return r.slice3d(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return ai(e,t,n);default:throw new ua("The axis is not within the rank of the tensor "+"".concat(a))}case 4:switch(a){case 1:return ri(e,t,n);case 2:return r.slice4d(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return r.slice4d(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return ai(e,t,n);default:throw new ua("The axis is not within the rank of the tensor "+"".concat(a))}default:throw new ua("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function oi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(n=0!==(t=e[0].rank)?t:0),n===e[0].rank&&(n=-1),r.concat(e,n)}function si(e,t){switch(e.rank){case 1:return r.concat1d([e,t]);case 2:return r.concat2d([e,t],0);case 3:return r.concat3d([e,t],0);case 4:return r.concat4d([e,t],0);default:throw new ua("concatAlongFirstAxis() received an unsupported "+"tensor rank: ".concat(e.rank))}}function ui(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new ua("The length of input n (".concat(t.length,") does not match ")+"the number of dimensions in input x (".concat(e.rank,")"));return r.tile(e,t)}function ci(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return r.randomNormal(e,t,n,a,i)}function li(e,t,n,a){if(e.rank<2||t.rank<2)throw new ca("dot requires both inputs to be rank >= 2"+" but got x shape = ".concat(e.shape," and y shape = ").concat(t.shape));if(t.rank>=3&&e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new ca("If rank y >= 3, then the second last dim"+" of y must equal the last dim of x but got x shape = ".concat(e.shape," and ")+" y shape = ".concat(t.shape));if(2===e.rank&&2===t.rank){return r.fused.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:a?fi(e.rank,a,"channelsLast"):null,activation:n})}var i=e.shape.slice(),o=i.pop();e=r.reshape(e,[-1,o]);var s=t.shape.slice(),u=s.pop(),c=s.pop(),l=[].concat(Object(Gn.a)(s),[u]),d=Array.from({length:t.rank},(function(e,n){return 0===n?t.rank-2:n<=t.rank-2?n-1:n}));t=r.reshape(r.transpose(t,d),[c,-1]);var p=[].concat(Object(Gn.a)(i),Object(Gn.a)(l));return r.reshape(r.fused.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:a?fi(e.rank,a,"channelsLast"):null,activation:n}),p)}function di(e,t,n){return Object(r.tidy)((function(){return t=Array.isArray(t)?Object(r.tensor1d)(t,"int32"):r.cast(t,"int32"),r.gather(e,t,n)}))}function pi(e){return r.mul(e,e)}function fi(e,t,n){var a=t.shape;if(1!==t.rank&&t.rank!==e)throw new ua("Unexpected bias dimensions: ".concat(t.rank)+"; expected it to be 1 or ".concat(e));if(5===e){if("channelsFirst"===n)return 1===a.length?r.reshape(t,[1,a[0],1,1,1]):r.reshape(t,[1,a[3],a[0],a[1],a[2]]);if("channelsLast"===n)return 1===a.length?r.reshape(t,[1,1,1,1,a[0]]):r.reshape(t,[1].concat(a))}else if(4===e){if("channelsFirst"===n)return 1===a.length?r.reshape(t,[1,a[0],1,1]):r.reshape(t,[1,a[2],a[0],a[1]]);if("channelsLast"===n)return 1===a.length?r.reshape(t,[1,1,1,a[0]]):r.reshape(t,[1].concat(a))}else if(3===e){if("channelsFirst"===n)return 1===a.length?r.reshape(t,[1,a[0],1]):r.reshape(t,[1,a[1],a[0]]);if("channelsLast"===n)return 1===a.length?r.reshape(t,[1,1,a[0]]):r.reshape(t,[1].concat(a))}else if(e<3)return t;throw new ua("Unsupported input rank by biasAdd: ".concat(t.rank))}function hi(e,t,n){return Object(r.tidy)((function(){return null==n&&(n="channelsLast"),za(n),r.add(e,fi(e.rank,t,n))}))}function mi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)throw new ca("Support for alpha values other than 1 (".concat(t,") is not implemented ")+"yet.");return r.elu(e)}function vi(e,t,n,a){return Object(r.tidy)((function(){return r.dropout(e,t,n,a)}))}function bi(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e():t()}var gi=["fanIn","fanOut","fanAvg"],yi=["normal","uniform","truncatedNormal"];var _i=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"fromConfigUsesCustomObjects",value:function(){return!1}},{key:"getConfig",value:function(){return{}}}]),t}(r.serialization.Serializable),xi=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e,t){return Object(r.zeros)(e,t)}}]),t}(_i);xi.className="Zeros",r.serialization.registerClass(xi);var ki=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e,t){return Object(r.ones)(e,t)}}]),t}(_i);ki.className="Ones",r.serialization.registerClass(ki);var wi=function(e){function t(e){var n;if(Object(Zr.a)(this,t),n=Object(Jr.a)(this,Object(ea.a)(t).call(this)),"object"!==typeof e)throw new ua("Expected argument of type ConstantConfig but got ".concat(e));if(void 0===e.value)throw new ua("config must have value set but got ".concat(e));return n.value=e.value,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e,t){var n=this;return Object(r.tidy)((function(){return Object(r.mul)(Object(r.scalar)(n.value),Object(r.ones)(e,t))}))}},{key:"getConfig",value:function(){return{value:this.value}}}]),t}(_i);wi.className="Constant",r.serialization.registerClass(wi);var Oi=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this))).DEFAULT_MINVAL=-.05,n.DEFAULT_MAXVAL=.05,n.minval=e.minval||n.DEFAULT_MINVAL,n.maxval=e.maxval||n.DEFAULT_MAXVAL,n.seed=e.seed,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e,t){return Object(r.randomUniform)(e,this.minval,this.maxval,t,this.seed)}},{key:"getConfig",value:function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}]),t}(_i);Oi.className="RandomUniform",r.serialization.registerClass(Oi);var ji=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this))).DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=e.mean||n.DEFAULT_MEAN,n.stddev=e.stddev||n.DEFAULT_STDDEV,n.seed=e.seed,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new ca("randomNormal does not support dType ".concat(t,"."));return ci(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),t}(_i);ji.className="RandomNormal",r.serialization.registerClass(ji);var Si=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this))).DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=e.mean||n.DEFAULT_MEAN,n.stddev=e.stddev||n.DEFAULT_STDDEV,n.seed=e.seed,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new ca("truncatedNormal does not support dType ".concat(t,"."));return Object(r.truncatedNormal)(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),t}(_i);Si.className="TruncatedNormal",r.serialization.registerClass(Si);var Ci=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this))).gain=null!=e.gain?e.gain:1,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e,t){var n=this;return Object(r.tidy)((function(){if(2!==e.length||e[0]!==e[1])throw new ua("Identity matrix initializer can only be used for 2D square matrices.");return Object(r.mul)(n.gain,Object(r.eye)(e[0]))}))}},{key:"getConfig",value:function(){return{gain:this.gain}}}]),t}(_i);Ci.className="Identity",r.serialization.registerClass(Ci);var Ti=function(e){function t(e){var n,r;if(Object(Zr.a)(this,t),n=Object(Jr.a)(this,Object(ea.a)(t).call(this)),e.scale<0)throw new ua("scale must be a positive float. Got: ".concat(e.scale));return n.scale=null==e.scale?1:e.scale,n.mode=null==e.mode?"fanIn":e.mode,r=n.mode,ja(gi,"FanMode",r),n.distribution=null==e.distribution?"normal":e.distribution,function(e){ja(yi,"Distribution",e)}(n.distribution),n.seed=e.seed,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e,t){var n=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(za(r),2===e.length)t=e[0],n=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===r){var a=Ya(e,2);t=e[1]*a,n=e[0]*a}else if("channelsLast"===r){var i=Ya(e,0,e.length-2);t=e[e.length-2]*i,n=e[e.length-1]*i}}else{var o=Ya(e);t=Math.sqrt(o),n=Math.sqrt(o)}return[t,n]}(e),a=n[0],i=n[1],o=this.scale;if("fanIn"===this.mode?o/=Math.max(1,a):"fanOut"===this.mode?o/=Math.max(1,i):o/=Math.max(1,(a+i)/2),"normal"===this.distribution){var s=Math.sqrt(o);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new ca("".concat(this.getClassName()," does not support dType ").concat(t,"."));return Object(r.truncatedNormal)(e,0,s,t,this.seed)}var u=Math.sqrt(3*o);return Object(r.randomUniform)(e,-u,u,t,this.seed)}},{key:"getConfig",value:function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}]),t}(_i);Ti.className="VarianceScaling",r.serialization.registerClass(Ti);var Ni=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed}))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getClassName",value:function(){return Ti.className}}]),t}(Ti);Ni.className="GlorotUniform",r.serialization.registerClass(Ni);var Ei=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed}))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getClassName",value:function(){return Ti.className}}]),t}(Ti);Ei.className="GlorotNormal",r.serialization.registerClass(Ei);var Ii=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed}))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getClassName",value:function(){return Ti.className}}]),t}(Ti);Ii.className="HeNormal",r.serialization.registerClass(Ii);var Ai=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,{scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed}))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getClassName",value:function(){return Ti.className}}]),t}(Ti);Ai.className="HeUniform",r.serialization.registerClass(Ai);var Ri=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed}))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getClassName",value:function(){return Ti.className}}]),t}(Ti);Ri.className="LeCunNormal",r.serialization.registerClass(Ri);var Di=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,{scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed}))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getClassName",value:function(){return Ti.className}}]),t}(Ti);Di.className="LeCunUniform",r.serialization.registerClass(Di);var Mi=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this))).DEFAULT_GAIN=1,n.ELEMENTS_WARN_SLOW=2e3,n.gain=null==e.gain?n.DEFAULT_GAIN:e.gain,n.seed=e.seed,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e,t){var n=this;return Object(r.tidy)((function(){if(e.length<2)throw new ca("Shape must be at least 2D.");if("int32"!==t&&"float32"!==t&&void 0!==t)throw new TypeError("Unsupported data type ".concat(t,"."));t=t;var a=r.util.sizeFromShape(e.slice(0,-1)),i=e[e.length-1],o=a*i;o>n.ELEMENTS_WARN_SLOW&&console.warn("Orthogonal initializer is being called on a matrix with more "+"than ".concat(n.ELEMENTS_WARN_SLOW," (").concat(o,") elements: ")+"Slowness may result.");var s=ci([Math.max(i,a),Math.min(i,a)],0,1,t,n.seed),u=r.linalg.qr(s,!1),c=u[0],l=u[1].flatten().stridedSlice([0],[Math.min(i,a)*Math.min(i,a)],[Math.min(i,a)+1]);return c=Object(r.mul)(c,l.sign()),a<i&&(c=c.transpose()),Object(r.mul)(Object(r.scalar)(n.gain),c.reshape(e))}))}},{key:"getConfig",value:function(){return{gain:this.gain,seed:this.seed}}}]),t}(_i);Mi.className="Orthogonal",r.serialization.registerClass(Mi);var Fi={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function Li(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return xa(e,r.serialization.SerializationMap.getMap().classNameMap,t,"initializer")}function Pi(e){return _a(e)}function zi(e){if("string"===typeof e){var t=e in Fi?Fi[e]:e;if("GlorotNormal"===t)return new Ei;if("GlorotUniform"===t)return new Ni;if("HeNormal"===t)return new Ii;if("HeUniform"===t)return new Ai;if("LeCunNormal"===t)return new Ri;if("LeCunUniform"===t)return new Di;var n={};return n.className=t,n.config={},Li(n)}return e instanceof _i?e:Li(e)}function Bi(e){return Array.isArray(e)&&Array.isArray(e[0])}function Vi(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function Ui(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new ua("Expected Tensor length to be 1; got ".concat(e.length));t=e[0]}else t=e;return t}function Wi(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return(e=e)[0];throw new ua("Expected exactly 1 Shape; got ".concat(e.length))}return e}function Hi(e){var t=0,n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;0===s.shape.length?t+=1:t+=s.shape.reduce((function(e,t){return e*t}))}}catch(u){r=!0,a=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return t}var Gi="Variable",$i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gi,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(Zr.a)(this,e),this.dtype=null==n?"float32":n,this.shape=t.shape,this.id=Ea(),a=null==a?Gi:a,this.originalName=Ga(a),this.name=$a(this.originalName),this.trainable_=i,this.constraint=o,this.val=r.variable(t,this.trainable_,this.name,this.dtype)}return Object(Qr.a)(e,[{key:"read",value:function(){return this.assertNotDisposed(),this.val}},{key:"write",value:function(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}},{key:"dispose",value:function(){this.assertNotDisposed(),this.val.dispose()}},{key:"assertNotDisposed",value:function(){if(this.val.isDisposed)throw new Error("LayersVariable ".concat(this.name," is already disposed."))}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.trainable_=e,this.val.trainable=e}}]),e}();function qi(e){return e.map((function(e){return e.read()}))}function Ki(e){e.forEach((function(e){e[0].write(e[1])}))}var Xi=function e(t){Object(Zr.a)(this,e),this.dtype=t.dtype,this.shape=t.shape,null!=t.shape?this.ndim=t.shape.length:this.ndim=t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}},Yi=function e(t,n,r,a,i,o,s){Object(Zr.a)(this,e),this.dtype=t,this.shape=n,this.sourceLayer=r,this.inputs=a,this.callArgs=i,this.outputTensorIndex=s,this.id=Ea(),null!=o&&(this.originalName=Ga(o),this.name=$a(this.originalName)),this.rank=n.length},Zi=0,Qi=function(){function e(t,n){Object(Zr.a)(this,e),this.callArgs=n,this.id=Zi++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;var r=!0,a=!1,i=void 0;try{for(var o,s=t.inboundLayers[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;null!=u&&u.outboundNodes.push(this)}}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}t.outboundLayer.inboundNodes.push(this)}return Object(Qr.a)(e,[{key:"getConfig",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.inboundLayers[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;null!=o?e.push(o.name):e.push(null)}}catch(s){n=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}]),e}(),Ji=0,eo=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(Zr.a)(this,t),(e=Object(Jr.a)(this,Object(ea.a)(t).call(this)))._callHook=null,e._addedWeightNames=[],e._stateful=!1,e.id=Ji++,e.activityRegularizer=null,e.inputSpec=null,e.supportsMasking=!1,e._trainableWeights=[],e._nonTrainableWeights=[],e._losses=[],e._updates=[],e._built=!1,e.inboundNodes=[],e.outboundNodes=[];var r=n.name;if(!r){var a=e.getClassName();r=ba(a)+"_"+Aa(a)}if(e.name=r,e.trainable_=null==n.trainable||n.trainable,null!=n.inputShape||null!=n.batchInputShape){var i;if(null!=n.batchInputShape)i=n.batchInputShape;else if(null!=n.inputShape){var o=null;null!=n.batchSize&&(o=n.batchSize),i=[o].concat(n.inputShape)}e.batchInputShape=i;var s=n.dtype;null==s&&(s=n.inputDType),null==s&&(s="float32"),e.dtype=s}return null!=n.weights?e.initialWeights=n.weights:e.initialWeights=null,e._refCount=null,e.fastWeightInitDuringBuild=!1,e}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getNodeAtIndex",value:function(e,t){if(0===this.inboundNodes.length)throw new sa("The layer has never been called "+"and thus has no defined ".concat(t,"."));if(this.inboundNodes.length<=e)throw new ua("Asked to get ".concat(t," at node ").concat(e,", ")+"but the layer has only ".concat(this.inboundNodes.length," inbound nodes."));return this.inboundNodes[e]}},{key:"getInputAt",value:function(e){return ma(this.getNodeAtIndex(e,"input").inputTensors)}},{key:"getOutputAt",value:function(e){return ma(this.getNodeAtIndex(e,"output").outputTensors)}},{key:"calculateLosses",value:function(){return this.losses.map((function(e){return e()}))}},{key:"resetStates",value:function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}},{key:"assertInputCompatibility",value:function(e){if(e=va(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=va(this.inputSpec);if(e.length!==t.length)throw new ua("Layer ".concat(this.name," expects ").concat(t.length," inputs, ")+"but it received ".concat(e.length," input tensors. ")+"Input received: ".concat(e));for(var n=0;n<e.length;n++){var r=e[n],a=t[n];if(null!=a){var i=r.rank;if(null!=a.ndim&&i!==a.ndim)throw new ua("Input ".concat(n," is incompatible with layer ").concat(this.name,": ")+"expected ndim=".concat(a.ndim,", found ndim=").concat(i));if(null!=a.maxNDim&&i>a.maxNDim)throw new ua("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected max_ndim=".concat(a.maxNDim,", found ndim=").concat(i));if(null!=a.minNDim&&i<a.minNDim)throw new ua("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected min_ndim=".concat(a.minNDim,", found ndim=").concat(i,"."));if(null!=a.dtype&&r.dtype!==a.dtype)throw new ua("Input ".concat(n," is incompatible with layer ").concat(this.name," ")+": expected dtype=".concat(a.dtype,", found dtype=").concat(r.dtype,"."));if(a.axes){var o=r.shape;for(var s in a.axes){var u=Number(s),c=a.axes[s],l=u>=0?o[u]:o[o.length+u];if(null!=c&&-1===[c,null].indexOf(l))throw new ua("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected axis ").concat(u," of input shape to ")+"have value ".concat(c," but got shape ").concat(o,"."))}}if(null!=a.shape)for(var d=0;d<a.shape.length;++d){var p=a.shape[d],f=r.shape[d];if(null!=p&&null!=f&&p!==f)throw new ua("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected shape=").concat(a.shape,", ")+"found shape=".concat(r.shape,"."))}}}}}},{key:"call",value:function(e,t){return e}},{key:"invokeCallHook",value:function(e,t){null!=this._callHook&&this._callHook(e,t)}},{key:"setCallHook",value:function(e){this._callHook=e}},{key:"clearCallHook",value:function(){this._callHook=null}},{key:"apply",value:function(e,t){var n=this;t=t||{},this.assertNotDisposed();var r=va(e),a=!0,i=!0,o=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){if(!(u.value instanceof Yi)){a=!1;break}}}catch(v){o=!0,s=v}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}var l=!0,d=!0,p=!1,f=void 0;try{for(var h,m=r[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){if(h.value instanceof Yi){l=!1;break}}}catch(v){p=!0,f=v}finally{try{d||null==m.return||m.return()}finally{if(p)throw f}}if(a===l)throw new ua("Arguments to apply() must be all SymbolicTensors or all Tensors");return Ha(this.name,(function(){if(!n.built){n.assertInputCompatibility(e);var a=[],i=!0,o=!1,s=void 0;try{for(var u,c=va(e)[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var d=u.value;a.push(d.shape)}}catch(v){o=!0,s=v}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}n.build(ma(a)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&l&&(n._refCount=1)}if(n.assertInputCompatibility(e),l){var p=n.call(e,t),f=va(p),h=[],m=!0,b=!1,g=void 0;try{for(var y,_=f[Symbol.iterator]();!(m=(y=_.next()).done);m=!0){var x=y.value;-1!==r.indexOf(x)&&(x=x.clone()),h.push(x)}}catch(v){b=!0,g=v}finally{try{m||null==_.return||_.return()}finally{if(b)throw g}}if(p=ma(h),null!=n.activityRegularizer)throw new ca("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return p}var k,w=function(e){e=va(e);var t=[],n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;t.push(s.shape)}}catch(v){r=!0,a=v}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return ma(t)}(e),O=n.computeOutputShape(w);if(n.warnOnIncompatibleInputShape(Array.isArray(e)?w[0]:w),k=null!=O&&O.length>0&&Array.isArray(O[0])?O.map((function(r,a){return new Yi("float32",r,n,va(e),t,n.name,a)})):new Yi("float32",O,n,va(e),t,n.name),n.addInboundNode(e,k,null,null,w,O,t),n._refCount++,null!=n.activityRegularizer)throw new ca("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return k}))}},{key:"warnOnIncompatibleInputShape",value:function(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+"".concat(JSON.stringify(e),") does not match that of the ")+"batchInputShape (".concat(JSON.stringify(this.batchInputShape),") ")+"of the layer ".concat(this.name));else{var t=!1;this.batchInputShape.forEach((function(n,r){null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn("The shape of the input tensor "+"(".concat(JSON.stringify(e),") does not ")+"match the expectation of layer ".concat(this.name,": ")+"".concat(JSON.stringify(this.batchInputShape)))}}},{key:"countParams",value:function(){if(!this.built)throw new sa("You tried to call countParams() on ".concat(this.name,", ")+"but the layer is not built yet. Build it first by calling build(batchInputShape).");return Hi(this.weights)}},{key:"build",value:function(e){this.built=!0}},{key:"getWeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return qi(e?this.trainableWeights:this.weights)}},{key:"setWeights",value:function(e){var t=this;Object(r.tidy)((function(){var n=t.weights;if(n.length!==e.length)throw new ua('You called setWeights(weights) on layer "'.concat(t.name,'" ')+"with a weight list of length ".concat(e.length,", ")+"but the layer was expecting ".concat(n.length," weights. ")+"Provided weights: ".concat(e,"..."));if(0!==n.length){for(var a=[],i=qi(n),o=0;o<i.length;++o){var s=i[o],u=n[o],c=e[o];if(!r.util.arraysEqual(s.shape,c.shape))throw new ua("Layer weight shape ".concat(s.shape," ")+"not compatible with provided weight shape ".concat(c.shape));a.push([u,c])}Ki(a)}}))}},{key:"addWeight",value:function(e,t,n,r,a,i,o,s){if(-1!==this._addedWeightNames.indexOf(e))throw new ua("Duplicate weight name ".concat(e," for layer ").concat(this.name));this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=s?s():zi("zeros"));var u=r.apply(t,n),c=new $i(u,n,e,i,o);return u.dispose(),null!=a&&this.addLoss((function(){return a.apply(c.read())})),null==i&&(i=!0),i?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}},{key:"setFastWeightInitDuringBuild",value:function(e){this.fastWeightInitDuringBuild=e}},{key:"addLoss",value:function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=va(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,Object(Gn.a)(e)))}},{key:"computeOutputShape",value:function(e){return e}},{key:"computeMask",value:function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.");t.forEach((function(e){if(null!=e)throw new TypeError("Layer ".concat(n.name," does not support masking, ")+"but was passed an inputMask.")}))}return null}return t}},{key:"addInboundNode",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=va(e);t=va(t),n=va(n),r=va(r),a=Vi(a),i=Vi(i);var u=[],c=[],l=[],d=!0,p=!1,f=void 0;try{for(var h,m=s[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var v=h.value;u.push(v.sourceLayer),c.push(v.nodeIndex),l.push(v.tensorIndex)}}catch(g){p=!0,f=g}finally{try{d||null==m.return||m.return()}finally{if(p)throw f}}new Qi({outboundLayer:this,inboundLayers:u,nodeIndices:c,tensorIndices:l,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:a,outputShapes:i},o);for(var b=0;b<t.length;b++)t[b].sourceLayer=this,t[b].nodeIndex=this.inboundNodes.length-1,t[b].tensorIndex=b}},{key:"getConfig",value:function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}},{key:"disposeWeights",value:function(){return this.weights.forEach((function(e){return e.dispose()})),this.weights.length}},{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Layer '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){if(!this.built)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been ")+"built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been used ")+"yet.");this.assertNotDisposed();var e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}},{key:"input",get:function(){if(this.inboundNodes.length>1)throw new oa("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new oa("Layer ".concat(this.name)+" is not connected, no input to return.");return ma(this.getNodeAtIndex(0,"input").inputTensors)}},{key:"output",get:function(){if(0===this.inboundNodes.length)throw new oa("Layer ".concat(this.name)+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new oa("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return ma(this.getNodeAtIndex(0,"output").outputTensors)}},{key:"losses",get:function(){return this._losses}},{key:"updates",get:function(){return this._updates}},{key:"built",get:function(){return this._built},set:function(e){this._built=e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this._trainableWeights.forEach((function(t){return t.trainable=e})),this.trainable_=e}},{key:"trainableWeights",get:function(){return this.trainable_?this._trainableWeights.filter((function(e){return e.trainable})):[]},set:function(e){this._trainableWeights=e}},{key:"nonTrainableWeights",get:function(){return this.trainable?this._trainableWeights.filter((function(e){return!e.trainable})).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(e){this._nonTrainableWeights=e}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"stateful",get:function(){return this._stateful}},{key:"outputShape",get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new oa("The layer ".concat(this.name," has never been called and thus has no ")+"defined output shape.");var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.inboundNodes[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value,s=JSON.stringify(o.outputShapes);-1===e.indexOf(s)&&e.push(s)}}catch(c){n=!0,r=c}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}if(1===e.length){var u=this.inboundNodes[0].outputShapes;return Array.isArray(u)&&Array.isArray(u[0])&&1===u.length?u[0]:u}throw new oa("The layer ".concat(this.name," has multiple inbound nodes with different ")+'output shapes. Hence the notion of "output shape" is ill-defined for the layer.')}}],[{key:"nodeKey",value:function(e,t){return e.name+"_ib-"+t.toString()}}]),t}(r.serialization.Serializable);var to=function(e){function t(e){var n;if(Object(Zr.a)(this,t),n=Object(Jr.a)(this,Object(ea.a)(t).call(this,{dtype:e.dtype,name:null!=e.name?e.name:Aa("input").toString()})),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),n.trainable=!1,n.built=!0,n.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new ua("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var r=e.batchInputShape;if(null==r){if(null==e.inputShape)throw new ua("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");r=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new ua("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");var a=e.dtype||"float32";n.batchInputShape=r,n.dtype=a,n.inputSpec=[{shape:r}];var i=new Yi(n.dtype,n.batchInputShape,Object(ta.a)(n),[],{},n.name);return i.nodeIndex=0,i.tensorIndex=0,new Qi({outboundLayer:Object(ta.a)(n),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[i],outputTensors:[i],inputMasks:[null],outputMasks:[null],inputShapes:[r],outputShapes:[r]}),n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e,t){throw new ua("Cannot pass any input to an "+"InputLayer's apply() method. InputLayer name: ".concat(this.name))}},{key:"dispose",value:function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}},{key:"getConfig",value:function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}]),t}(eo);function no(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new ua("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n="float32"),new to({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}to.className="InputLayer",r.serialization.registerClass(to);var ro=function(){function e(t){if(Object(Zr.a)(this,e),this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof e)for(var n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(null==t)return;var r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;this.add(u.key,u.value)}}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}}}return Object(Qr.a)(e,[{key:"add",value:function(e,t,n){if(null!=this.id2Value[e.id])throw new ua("Duplicate key: name=".concat(e.name,", id=").concat(e.id));return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return Object(r.cast)(t,e.dtype)}catch(n){throw new ua("The dtype of the feed (".concat(t.dtype,") can not be cast to the dtype ")+"of the key '".concat(e.name,"' (").concat(e.dtype,")."))}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}},{key:"addFeed",value:function(e){this.add(e.key,e.value)}},{key:"hasKey",value:function(e){return null!=this.id2Value[e.id]}},{key:"names",value:function(){return Object.keys(this.name2Id)}},{key:"getValue",value:function(e){if(e instanceof Yi){if(null==this.id2Value[e.id])throw new ua("Nonexistent key: ".concat(e.name));return this.id2Value[e.id]}var t=this.name2Id[e];if(null==t)throw new ua("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Value[t]}},{key:"getMask",value:function(e){if(e instanceof Yi){if(null==this.id2Value[e.id])throw new ua("Nonexistent key: ".concat(e.name));return this.id2Mask[e.id]}var t=this.name2Id[e];if(null==t)throw new ua("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Mask[t]}},{key:"disposeMasks",value:function(){null!=this.id2Mask&&Object(r.dispose)(this.id2Mask)}}]),e}(),ao=new da,io=new da;function oo(e,t,n,a){var i=null!=n&&n.training,o=Array.isArray(e),s=o?e:[e],u=s.map((function(e){return e.name})),c=[],l=t.names(),d=!0,p=!1,f=void 0;try{for(var h,m=u[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var v=h.value;-1!==l.indexOf(v)?c.push(t.getValue(v)):c.push(null)}}catch(H){p=!0,f=H}finally{try{d||null==m.return||m.return()}finally{if(p)throw f}}null!=a&&(a.maxNumTensors=-1/0,a.minNumTensors=1/0);var b,g=u.join(",")+"|"+t.names().sort().join(","),y=ao.get(g);if(null==y){var _=function(e,t){r.util.assert(null!=e&&e.length>0,(function(){return"Expected at least one fetch, got none"}));var n=[],a={};if(1===e.length){var i=uo(e[0],t);n=i.sorted,a=i.recipientMap}else{var o=new Set,s=!0,u=!1,c=void 0;try{for(var l,d=e[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var p=uo(l.value,t),f=p.sorted,h=p.recipientMap,m=!0,v=!1,b=void 0;try{for(var g,y=f[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){var _=g.value;o.has(_.name)||(n.push(_),o.add(_.name))}}catch(H){v=!0,b=H}finally{try{m||null==y.return||y.return()}finally{if(v)throw b}}var x=function(e){null==a[e]&&(a[e]=new Set),h[e].forEach((function(t){return a[e].add(t)}))};for(var k in h)x(k)}}catch(H){u=!0,c=H}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}return{sorted:n,recipientCounts:so(a)}}(s,t);y=_.sorted,b=_.recipientCounts,ao.put(g,y),io.put(g,b)}b={},i||Object.assign(b,io.get(g));for(var x=new ro(t),k=0;k<y.length;++k){if(null!=a){var w=Object(r.memory)().numTensors;w>a.maxNumTensors&&(a.maxNumTensors=w),w<a.minNumTensors&&(a.minNumTensors=w)}var O=y[k],j=O.sourceLayer;if(!(j instanceof to)){var S=[],C=[],T=[],N=!1,E=!0,I=!1,A=void 0;try{for(var R,D=O.inputs[Symbol.iterator]();!(E=(R=D.next()).done);E=!0){var M=R.value,F=x.getValue(M),L=x.getMask(M);S.push(F),C.push(L),null!=L&&(N=!0),i||(b[M.name]--,0!==b[M.name]||t.hasKey(M)||-1!==u.indexOf(M.name)||F.isDisposed||!0===M.sourceLayer.stateful||T.push(F))}}catch(H){I=!0,A=H}finally{try{E||null==D.return||D.return()}finally{if(I)throw A}}N&&((n=n||{}).mask=C[0]);var P=va(j.apply(S,n)),z=null;j.supportsMasking&&(z=j.computeMask(S,C));for(var B=co(O),V=Array.isArray(B)?B:[B],U=0;U<V.length;++U){x.hasKey(V[U])||x.add(V[U],P[U],Array.isArray(z)?z[0]:z);var W=u.indexOf(V[U].name);-1!==W&&(c[W]=P[U])}i||Object(r.dispose)(T)}}return x.disposeMasks(),o?c:c[0]}function so(e){var t={};for(var n in e)t[n]=e[n].size;return t}function uo(e,t){var n=new Set,r=[],a={},i=!0,o=!1,s=void 0;try{for(var u,c=t.names()[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;n.add(l)}}catch(x){o=!0,s=x}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}var d=[],p=[];for(d.push(e);d.length>0;){var f=d[d.length-1];if(n.has(f.name))d.pop();else{var h=p[p.length-1]===d.length-1;if(0===f.inputs.length||h)d.pop(),r.push(f),n.add(f.name),h&&p.pop();else{p.push(d.length-1);var m=!0,v=!1,b=void 0;try{for(var g,y=f.inputs[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){var _=g.value;null==a[_.name]&&(a[_.name]=new Set),a[_.name].add(f.name),n.has(_.name)||d.push(_)}}catch(x){v=!0,b=x}finally{try{m||null==y.return||y.return()}finally{if(v)throw b}}}}}return{sorted:r,recipientMap:a}}function co(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r){var a=!0,i=!1,o=void 0;try{for(var s,u=e.sourceLayer.inboundNodes[r].outputTensors[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){if(s.value.id===e.id){n=r;break}}}catch(c){i=!0,o=c}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}}t=e.sourceLayer.getOutputAt(n)}return t}function lo(e,t){return Object(r.tidy)((function(){return r.sqrt(r.sum(r.mul(e,e),t,!0))}))}Object(r.env)().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",(function(){return 100}),(function(e){null!=ao&&ao.setMaxEntries(e),null!=io&&io.setMaxEntries(e)}));var po=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getConfig",value:function(){return{}}}]),t}(r.serialization.Serializable),fo=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this))).defaultMaxValue=2,n.defaultAxis=0,n.maxValue=null!=e.maxValue?e.maxValue:n.defaultMaxValue,n.axis=null!=e.axis?e.axis:n.defaultAxis,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){var t=this;return Object(r.tidy)((function(){var n=lo(e,t.axis),a=r.clipByValue(n,0,t.maxValue);return r.mul(e,r.div(a,r.add(ei(),n)))}))}},{key:"getConfig",value:function(){return{maxValue:this.maxValue,axis:this.axis}}}]),t}(po);fo.className="MaxNorm",r.serialization.registerClass(fo);var ho=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this))).defaultAxis=0,n.axis=null!=e.axis?e.axis:n.defaultAxis,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){var t=this;return Object(r.tidy)((function(){return r.div(e,r.add(ei(),lo(e,t.axis)))}))}},{key:"getConfig",value:function(){return{axis:this.axis}}}]),t}(po);ho.className="UnitNorm",r.serialization.registerClass(ho);var mo=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){return r.relu(e)}}]),t}(po);mo.className="NonNeg",r.serialization.registerClass(mo);var vo=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this))).defaultMinValue=0,n.defaultMaxValue=1,n.defaultRate=1,n.defaultAxis=0,n.minValue=null!=e.minValue?e.minValue:n.defaultMinValue,n.maxValue=null!=e.maxValue?e.maxValue:n.defaultMaxValue,n.rate=null!=e.rate?e.rate:n.defaultRate,n.axis=null!=e.axis?e.axis:n.defaultAxis,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){var t=this;return Object(r.tidy)((function(){var n=lo(e,t.axis),a=r.add(r.mul(t.rate,r.clipByValue(n,t.minValue,t.maxValue)),r.mul(1-t.rate,n));return r.mul(e,r.div(a,r.add(ei(),n)))}))}},{key:"getConfig",value:function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}]),t}(po);vo.className="MinMaxNorm",r.serialization.registerClass(vo);var bo={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function go(e){return _a(e)}function yo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return xa(e,r.serialization.SerializationMap.getMap().classNameMap,t,"constraint")}function _o(e){return null==e?null:"string"===typeof e?yo({className:e in bo?bo[e]:e,config:{}}):e instanceof po?e:yo(e)}var xo,ko=n(2),wo=n.n(ko),Oo=n(7);function jo(e){return So.apply(this,arguments)}function So(){return(So=Object(Oo.a)(wo.a.mark((function e(t){var n,a,i,o,s,u,c,l;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:for(o in n=[],a=[],i=[],t)"number"!==typeof(s=t[o])&&(u=s,n.push(u.data()),a.push(o),i.push(u));if(!(n.length>0)){e.next=12;break}return e.next=9,Promise.all(n);case 9:for(c=e.sent,l=0;l<c.length;++l)t[a[l]]=c[l][0];Object(r.dispose)(i);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Co(e){if(null!=e)for(var t in e){var n=e[t];"number"!==typeof n&&n.dispose()}}!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(xo||(xo={}));var To=125,No=function(){function e(){Object(Zr.a)(this,e),this.validationData=null}return Object(Qr.a)(e,[{key:"setParams",value:function(e){this.params=e}},{key:"onEpochBegin",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"setModel",value:function(e){}}]),e}(),Eo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;Object(Zr.a)(this,e),null==t&&(t=[]),this.callbacks=t,this.queueLength=n}return Object(Qr.a)(e,[{key:"append",value:function(e){this.callbacks.push(e)}},{key:"setParams",value:function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=this.callbacks[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){a.value.setParams(e)}}catch(o){n=!0,r=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"setModel",value:function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=this.callbacks[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){a.value.setModel(e)}}catch(o){n=!0,r=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"onEpochBegin",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){var r,a,i,o,s,u;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=!0,a=!1,i=void 0,e.prev=4,o=this.callbacks[Symbol.iterator]();case 6:if(r=(s=o.next()).done){e.next=13;break}return u=s.value,e.next=10,u.onEpochBegin(t,n);case 10:r=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),a=!0,i=e.t0;case 19:e.prev=19,e.prev=20,r||null==o.return||o.return();case 22:if(e.prev=22,!a){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}}),e,this,[[4,15,19,27],[20,,22,26]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){var r,a,i,o,s,u;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=!0,a=!1,i=void 0,e.prev=4,o=this.callbacks[Symbol.iterator]();case 6:if(r=(s=o.next()).done){e.next=13;break}return u=s.value,e.next=10,u.onEpochEnd(t,n);case 10:r=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),a=!0,i=e.t0;case 19:e.prev=19,e.prev=20,r||null==o.return||o.return();case 22:if(e.prev=22,!a){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}}),e,this,[[4,15,19,27],[20,,22,26]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){var r,a,i,o,s,u;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=!0,a=!1,i=void 0,e.prev=4,o=this.callbacks[Symbol.iterator]();case 6:if(r=(s=o.next()).done){e.next=13;break}return u=s.value,e.next=10,u.onBatchBegin(t,n);case 10:r=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),a=!0,i=e.t0;case 19:e.prev=19,e.prev=20,r||null==o.return||o.return();case 22:if(e.prev=22,!a){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}}),e,this,[[4,15,19,27],[20,,22,26]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){var r,a,i,o,s,u;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=!0,a=!1,i=void 0,e.prev=4,o=this.callbacks[Symbol.iterator]();case 6:if(r=(s=o.next()).done){e.next=13;break}return u=s.value,e.next=10,u.onBatchEnd(t,n);case 10:r=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),a=!0,i=e.t0;case 19:e.prev=19,e.prev=20,r||null==o.return||o.return();case 22:if(e.prev=22,!a){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}}),e,this,[[4,15,19,27],[20,,22,26]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t){var n,r,a,i,o,s;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=!0,r=!1,a=void 0,e.prev=4,i=this.callbacks[Symbol.iterator]();case 6:if(n=(o=i.next()).done){e.next=13;break}return s=o.value,e.next=10,s.onTrainBegin(t);case 10:n=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),r=!0,a=e.t0;case 19:e.prev=19,e.prev=20,n||null==i.return||i.return();case 22:if(e.prev=22,!r){e.next=25;break}throw a;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}}),e,this,[[4,15,19,27],[20,,22,26]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t){var n,r,a,i,o,s;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=!0,r=!1,a=void 0,e.prev=4,i=this.callbacks[Symbol.iterator]();case 6:if(n=(o=i.next()).done){e.next=13;break}return s=o.value,e.next=10,s.onTrainEnd(t);case 10:n=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),r=!0,a=e.t0;case 19:e.prev=19,e.prev=20,n||null==i.return||i.return();case 22:if(e.prev=22,!r){e.next=25;break}throw a;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}}),e,this,[[4,15,19,27],[20,,22,26]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Io=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"onEpochBegin",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.seen=0,this.totals={};case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){var a,i,o,s=this;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in null==n&&(n={}),a=null==n.size?0:n.size,this.seen+=a,i=function(e){var t=n[e];if("number"===typeof t)s.totals.hasOwnProperty(e)||(s.totals[e]=0),s.totals[e]=s.totals[e]+t*a;else{var i;e in s.totals?i=s.totals[e]:s.totals[e]=0;var o=Object(r.tidy)((function(){return Object(r.add)(s.totals[e],Object(r.mul)(t,a))}));s.totals[e]=o,null!=i&&i.dispose()}},n)i(o);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){var a,i,o,s,u,c,l=this;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n){e.next=28;break}a=!0,i=!1,o=void 0,e.prev=4,s=function(){var e=c.value;if(null==l.totals[e])return"continue";"number"===typeof l.totals[e]?n[e]=l.totals[e]/l.seen:Object(r.tidy)((function(){var t=Object(r.mul)(Object(r.div)(1,l.seen),l.totals[e]);n[e]=t,l.totals[e].dispose(),Object(r.keep)(n[e])}))},u=this.params.metrics[Symbol.iterator]();case 7:if(a=(c=u.next()).done){e.next=14;break}if("continue"!==s()){e.next=11;break}return e.abrupt("continue",11);case 11:a=!0,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),i=!0,o=e.t0;case 20:e.prev=20,e.prev=21,a||null==u.return||u.return();case 23:if(e.prev=23,!i){e.next=26;break}throw o;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}}),e,this,[[4,16,20,28],[21,,23,27]])})));return function(t,n){return e.apply(this,arguments)}}()}]),t}(No),Ao=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"onTrainBegin",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.epoch=[],this.history={};case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){var r;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in null==n&&(n={}),this.epoch.push(t),n)null==this.history[r]&&(this.history[r]=[]),this.history[r].push(n[r]);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"syncData",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(){var t,n,r,a,i,o,s,u,c;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t=[],n=[],r=[],this.history)for(i=this.history[a],o=0;o<i.length;++o)"number"!==typeof i[o]&&(s=i[o],t.push(s.data()),n.push(a),r.push(o));return e.next=6,Promise.all(t);case 6:for(u=e.sent,c=0;c<u.length;++c)this.history[n[c]][r[c]].dispose(),this.history[n[c]][r[c]]=u[c][0];case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(No),Ro=function(e){function t(e,n){var a;if(Object(Zr.a)(this,t),(a=Object(Jr.a)(this,Object(ea.a)(t).call(this))).currentEpoch=0,a.nowFunc=e.nowFunc,a.nextFrameFunc=e.nextFrameFunc||r.nextFrame,a.yieldEvery=n||"auto","auto"===a.yieldEvery&&(a.yieldEvery=To),"never"===a.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");return r.util.isNumber(a.yieldEvery)&&(a.maybeWait=function(e,t,n){var a,i=null!=n?n():r.util.now();return function(){var o=null!=n?n():r.util.now();return o-i<t?a:(i=o,a=e.apply(void 0,arguments))}}(a.maybeWait.bind(Object(ta.a)(a)),a.yieldEvery,a.nowFunc)),a.trainBegin=e.onTrainBegin,a.trainEnd=e.onTrainEnd,a.epochBegin=e.onEpochBegin,a.epochEnd=e.onEpochEnd,a.batchBegin=e.onBatchBegin,a.batchEnd=e.onBatchEnd,a.yield=e.onYield,a}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"maybeWait",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n,r){var a;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],null==this.yield){e.next=5;break}return e.next=4,jo(r);case 4:a.push(this.yield(t,n,r));case 5:return a.push(this.nextFrameFunc()),e.next=8,Promise.all(a);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"onEpochBegin",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentEpoch=t,null==this.epochBegin){e.next=6;break}return e.next=4,jo(n);case 4:return e.next=6,this.epochBegin(t,n);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){var r;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null==this.epochEnd){e.next=5;break}return e.next=4,jo(n);case 4:r.push(this.epochEnd(t,n));case 5:return"epoch"===this.yieldEvery&&r.push(this.nextFrameFunc()),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.batchBegin){e.next=5;break}return e.next=3,jo(n);case 3:return e.next=5,this.batchBegin(t,n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){var a;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],null==this.batchEnd){e.next=5;break}return e.next=4,jo(n);case 4:a.push(this.batchEnd(t,n));case 5:return"batch"===this.yieldEvery?a.push(this.nextFrameFunc()):r.util.isNumber(this.yieldEvery)&&a.push(this.maybeWait(this.currentEpoch,t,n)),e.next=8,Promise.all(a);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.trainBegin){e.next=5;break}return e.next=3,jo(t);case 3:return e.next=5,this.trainBegin(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.trainEnd){e.next=5;break}return e.next=3,jo(t);case 3:return e.next=5,this.trainEnd(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(No);function Do(e,t){return null==e&&(e={}),e instanceof No?[e]:Array.isArray(e)&&e[0]instanceof No?e:va(e).map((function(e){return new Ro(e,t)}))}var Mo=function(){function e(){Object(Zr.a)(this,e)}return Object(Qr.a)(e,null,[{key:"registerCallbackConstructor",value:function(t,n){r.util.assert(t>=0&&Number.isInteger(t),(function(){return"Verbosity level is expected to be an integer >= 0, "+"but got ".concat(t)})),e.checkForDuplicate(n),null==e.constructors[t]&&(e.constructors[t]=[]),e.constructors[t].push(n)}},{key:"checkForDuplicate",value:function(t){for(var n in e.constructors){e.constructors[+n].forEach((function(e){if(e===t)throw new ua("Duplicate callback constructor.")}))}}},{key:"clear",value:function(){e.constructors={}}},{key:"createCallbacks",value:function(t){var n=[];for(var r in e.constructors){var a=+r;t>=a&&n.push.apply(n,Object(Gn.a)(e.constructors[a]))}return n.map((function(e){return new e}))}}]),e}();function Fo(e,t,n,r,a,i,o,s,u){var c=new Ao,l=[new Io].concat(Object(Gn.a)(Mo.createCallbacks(t)));null!=e&&l.push.apply(l,Object(Gn.a)(e)),l.push(c);var d=new Eo(l);return d.setParams({epochs:n,initialEpoch:r,samples:a,steps:i,batchSize:o,verbose:t,doValidation:s,metrics:u}),{callbackList:d,history:c}}Mo.constructors={};var Lo=n(30);function Po(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return xa(e,r.serialization.SerializationMap.getMap().classNameMap,t,"layer",n)}function zo(e,t){return Object(r.tidy)((function(){"float32"!==e.dtype&&(e=r.cast(e,"float32"));var n=r.sum(pi(e),t,!0),a=r.fill(n.shape,ei()),i=r.sqrt(r.maximum(n,a));return r.div(e,i)}))}function Bo(e,t){return Object(r.tidy)((function(){return r.mean(pi(r.sub(t,e)),-1)}))}function Vo(e,t){return Object(r.tidy)((function(){return r.mean(r.abs(r.sub(t,e)),-1)}))}function Uo(e,t){return Object(r.tidy)((function(){var n=r.sub(e,t),a=r.clipByValue(r.abs(e),ei(),Number.MAX_VALUE),i=r.abs(r.div(n,a));return r.mul(100,r.mean(i,-1))}))}function Wo(e,t){return Object(r.tidy)((function(){var n=r.clipByValue(t,ei(),Number.MAX_VALUE),a=r.log(r.add(1,n)),i=r.clipByValue(e,ei(),Number.MAX_VALUE),o=r.log(r.add(1,i));return r.mean(pi(r.sub(a,o)),-1)}))}function Ho(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(r.tidy)((function(){if(n)t=r.softmax(t);else{var a=r.sum(t,t.shape.length-1,!0);t=r.div(t,a)}return t=r.clipByValue(t,ei(),1-ei()),r.neg(r.sum(r.mul(r.cast(e,"float32"),r.log(t)),t.shape.length-1))}))}function Go(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(r.tidy)((function(){var a=r.cast(r.floor(function(e){var t=[Ya(e.shape)];return r.reshape(e,t)}(e)),"int32"),i=(t=r.clipByValue(t,ei(),1-ei())).shape;return Ho(r.reshape(r.oneHot(a,i[i.length-1]),i),t,n)}))}function $o(e,t){return Object(r.tidy)((function(){var n;return n=r.clipByValue(t,ei(),1-ei()),n=r.log(r.div(n,r.sub(1,n))),r.mean(function(e,t){if(!r.util.arraysEqual(e.shape,t.shape))throw new ua("logits and labels must have the same shape, but got shapes "+"".concat(JSON.stringify(e.shape)," and ").concat(JSON.stringify(t.shape)));return Object(r.tidy)((function(){var n=r.relu(t),a=r.neg(r.abs(t));return r.add(r.sub(n,r.mul(t,e)),r.log1p(r.exp(a)))}))}(e,n),-1)}))}function qo(e,t){return Object(r.tidy)((function(){var n=r.clipByValue(e,ei(),1),a=r.clipByValue(t,ei(),1);return r.sum(r.mul(e,r.log(r.div(n,a))),-1)}))}function Ko(e,t){return Object(r.tidy)((function(){var n=zo(e,-1),a=zo(t,-1),i=r.mul(n,a);return r.neg(r.sum(i,-1))}))}var Xo={meanSquaredError:Bo,meanAbsoluteError:Vo,meanAbsolutePercentageError:Uo,meanSquaredLogarithmicError:Wo,squaredHinge:function(e,t){return Object(r.tidy)((function(){var n=r.maximum(0,r.sub(1,r.mul(e,t)));return r.mean(pi(n),-1)}))},hinge:function(e,t){return Object(r.tidy)((function(){var n=r.maximum(0,r.sub(1,r.mul(e,t)));return r.mean(n,-1)}))},categoricalHinge:function(e,t){return Object(r.tidy)((function(){var n=r.sum(r.mul(e,t),-1),a=r.max(r.mul(r.sub(1,e),t),-1);return r.maximum(0,r.add(1,r.sub(a,n)))}))},logcosh:function(e,t){return Object(r.tidy)((function(){var n=Math.log(2),a=r.sub(t,e),i=r.sub(r.add(a,r.softplus(r.mul(-2,a))),n);return r.mean(i,-1)}))},categoricalCrossentropy:Ho,sparseCategoricalCrossentropy:Go,binaryCrossentropy:$o,kullbackLeiblerDivergence:qo,poisson:function(e,t){return Object(r.tidy)((function(){var n=r.log(r.add(ei(),t));return r.mean(r.sub(t,r.mul(e,n)),-1)}))},cosineProximity:Ko};function Yo(e){if("string"===typeof e){if(e in Xo)return Xo[e];var t="Unknown loss ".concat(e);throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss ".concat(e,". ")+'Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new ua(t)}return e}function Zo(e,t){return Object(r.tidy)((function(){var n=r.mul(.5,r.onesLike(t)),a=ti(r.greater(t,n),e.dtype);return r.mean(r.equal(e,a),-1)}))}function Qo(e,t){return Object(r.tidy)((function(){return ti(r.equal(r.argMax(e,-1),r.argMax(t,-1)),"float32")}))}function Jo(e,t){return Object(r.tidy)((function(){return r.cast(r.sum(r.logicalAnd(r.equal(e,1),r.equal(t,1))),"float32")}))}function es(e,t){return Object(r.tidy)((function(){var n=Jo(e,t),a=function(e,t){return Object(r.tidy)((function(){return r.cast(r.sum(r.logicalAnd(r.equal(e,0),r.equal(t,1))),"float32")}))}(e,t),i=r.add(n,a);return r.cast(r.where(r.greater(i,0),r.div(n,i),0),"float32")}))}function ts(e,t){return $o(e,t)}function ns(e,t){return e.rank===t.rank&&(e=r.squeeze(e,[e.rank-1])),(t=r.argMax(t,-1)).dtype!==e.dtype&&(t=r.cast(t,e.dtype)),r.cast(r.equal(e,t),"float32")}var rs=Ho,as=Go,is={binaryAccuracy:Zo,categoricalAccuracy:Qo,precision:es,categoricalCrossentropy:rs,sparseCategoricalCrossentropy:as,mse:Bo,MSE:Bo,mae:Vo,MAE:Vo,mape:Uo,MAPE:Uo,cosine:Ko};function os(e){if("string"===typeof e&&e in is)return is[e];if("string"!==typeof e&&null!=e)return e;throw new ua("Unknown metric ".concat(e))}function ss(e){if(fa(null!==e,"Unknown LossOrMetricFn ".concat(e)),"string"===typeof e)return e;for(var t,n=0,r=Object.keys(Xo);n<r.length;n++){var a=r[n];if(Xo[a]===e){t=a;break}}if(void 0!==t)return t;for(var i=0,o=Object.keys(is);i<o.length;i++){var s=o[i];if(is[s]===e){t=s;break}}return void 0!==t?t:e.name}var us=1048576;function cs(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||"object"!==typeof e||Object.getPrototypeOf(e)!==Object.prototype||!function e(t){if(null===t)return!0;if("object"===typeof t){if(Object.getPrototypeOf(t)===Object.prototype){for(var n=Object.keys(t),r=0,a=n;r<a.length;r++){var i=a[r];if("string"!==typeof i)return!1;if(!e(t[i]))return!1}return!0}if(Array.isArray(t)){var o=!0,s=!1,u=void 0;try{for(var c,l=t[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var d=c.value;if(!e(d))return!1}}catch(f){s=!0,u=f}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}return!0}return!1}var p=typeof t;return"string"===p||"number"===p||"boolean"===p}(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){var r=JSON.stringify(e);r.length>us&&console.warn('User-defined metadata of model "'.concat(t,'" is too large in ')+"size (length=".concat(r.length," when serialized). It is not ")+"recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+"".concat(us,"."))}}function ls(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log,i=function(e){var t=!0,n=[],r=[];for(var a in e.nodesByDepth)n.push(e.nodesByDepth[a]);for(var i=0,o=n;i<o.length;i++){var s=o[i];if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){t=!1;break}r.push.apply(r,Object(Gn.a)(s))}if(t){var u=!0,c=!1,l=void 0;try{for(var d,p=e.layers[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var f=d.value,h=!1,m=!0,v=!1,b=void 0;try{for(var g,y=f.inboundNodes[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){var _=g.value;if(-1!==r.indexOf(_)){if(h){t=!1;break}h=!0}}}catch(x){v=!0,b=x}finally{try{m||null==y.return||y.return()}finally{if(v)throw b}}if(!t)break}}catch(x){c=!0,l=x}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}}return t}(e),o=["Layer (type)","Input Shape","Output shape","Param #"];if(i?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map((function(e){return Math.floor(t*e)}))),!i)for(var s in o.push("Receives inputs"),r=[],e.nodesByDepth){var u;(u=r).push.apply(u,Object(Gn.a)(e.nodesByDepth[s]))}a("_".repeat(t)),ds(o,n,a),a("=".repeat(t));for(var c=e.layers,l=0;l<c.length;++l)i?ps(c[l],n,a):fs(c[l],n,r,a),a((l===c.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();var d=function(e){var t;t=null!=e.collectedTrainableWeights?Hi(e.collectedTrainableWeights):Hi(e.trainableWeights);return t}(e),p=Hi(e.nonTrainableWeights);a("Total params: ".concat(d+p)),a("Trainable params: ".concat(d)),a("Non-trainable params: ".concat(p)),a("_".repeat(t))}function ds(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,r="",a=0;a<e.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=e[a]).slice(0,t[a]),r+=" ".repeat(t[a]-r.length);n(r)}function ps(e,t,n){var r,a;try{a=e.inboundNodes.map((function(e){return JSON.stringify(e.inputShapes)})).join(",")}catch(s){a="multiple"}try{r=JSON.stringify(e.outputShape)}catch(s){r="multiple"}var i=e.name,o=e.getClassName();ds(["".concat(i," (").concat(o,")"),a,r,e.countParams().toString()],t,n)}function fs(e,t,n,r){var a,i;try{i=e.inboundNodes.map((function(e){return JSON.stringify(e.inputShapes)})).join(",")}catch(x){i="multiple"}try{a=JSON.stringify(e.outputShape)}catch(x){a="multiple"}var o=[],s=!0,u=!1,c=void 0;try{for(var l,d=e.inboundNodes[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var p=l.value;if(!(null!=n&&n.length>0&&-1===n.indexOf(p)))for(var f=0;f<p.inboundLayers.length;++f){var h=p.inboundLayers[f].name,m=p.nodeIndices[f],v=p.tensorIndices[f];o.push("".concat(h,"[").concat(m,"][").concat(v,"]"))}}}catch(x){u=!0,c=x}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}var b=e.name,g=e.getClassName(),y=0===o.length?"":o[0];ds(["".concat(b," (").concat(g,")"),i,a,e.countParams().toString(),y],t,r);for(var _=1;_<o.length;++_)ds(["","","","",o[_]],t,r)}function hs(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"===typeof n}function ms(e,t){if(null===e)return null;if("string"===typeof e)return ga(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var i=e[a];hs(t,a,i)?n.push(i):n.push(ms(i,t))}return n}for(var o={},s=0,u=Object.keys(e);s<u.length;s++){var c=u[s],l=e[c];if("name"===c&&"string"===typeof l)o[c]=l;else{var d=ga(c);o[d]=ms(l,d)}}return o}function vs(e,t){if(null===e||void 0===e)return null;if("string"===typeof e)return ba(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var i=e[a];hs(t,a,i)?n.push(i):n.push(vs(i,t))}return n}for(var o={},s=0,u=Object.keys(e);s<u.length;s++){var c=u[s],l=e[c],d=ba(c);o[d]="name"!==c&&"className"!==c||"string"!==typeof l?vs(l,c):l}return o}function bs(e,t,n){var r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return null}));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"===typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error("Provided ".concat(n," is an array of ").concat(e.length," ")+"element(s), but the model has ".concat(r," outputs. ")+"Make sure a set of weights is provided for each model output.");return e}if("object"===typeof e&&Object.keys(e).length>0&&"object"===typeof e[Object.keys(e)[0]]){var a=[];return t.forEach((function(t){t in e?a.push(e[t]):a.push(null)})),a}throw new Error("The model has multiple (".concat(r,") outputs, ")+"so ".concat(n," must be either an array with ")+"".concat(r," elements or an object with ").concat(t," keys. ")+"Provided ".concat(n," not understood: ").concat(JSON.stringify(e)))}function gs(e,t){return bs(e,t,"classWeight")}function ys(e,t,n,r){return _s.apply(this,arguments)}function _s(){return(_s=Object(Oo.a)(wo.a.mark((function e(t,n,a,i){var o,s,u;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&null==i){e.next=2;break}throw new Error("Support sampleWeight is not implemented yet");case 2:if(null==a){e.next=15;break}return o=Object(r.tidy)((function(){if(1===t.shape.length)return Object(r.clone)(t);if(2===t.shape.length){if(t.shape[1]>1){return Object(r.argMax)(t,1)}if(1===t.shape[1])return Object(r.reshape)(t,[t.shape[0]]);throw new Error("Encountered unexpected last-dimension size (".concat(t.shape[1],") ")+"during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor (".concat(t.rank,") during ")+"handling of class weights. The rank is expected to be 1 or 2.")})),e.t0=Array,e.next=7,o.data();case 7:return e.t1=e.sent,s=e.t0.from.call(e.t0,e.t1),Object(r.dispose)(o),u=[],s.forEach((function(e){if(null==a[e])throw new Error("classWeight must contain all classes in the training data. "+"The class ".concat(e," exists in the data but not in ")+"classWeight");u.push(a[e])})),e.abrupt("return",Object(r.tensor1d)(u,"float32"));case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xs(e,t){return Object(r.mul)(e,t)}var ks=32;function ws(e,t){var n,a,i=t;n=i.xs,a=i.ys,r.util.assert(null!=n&&null!=a,(function(){return"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+"".concat(t)}));var o=Os("input",e.inputNames,n),s=Os("output",e.outputNames,a),u=o[0].shape[0];r.util.assert(o.length===e.inputs.length,(function(){return"LayersModel has ".concat(e.inputs.length," inputs, but the dataset ")+"provides ".concat(o.length," inputs.  (Expected input keys: ")+"".concat(JSON.stringify(e.inputNames),")")})),r.util.assert(s.length===e.outputs.length,(function(){return"LayersModel has ".concat(e.outputs.length," outputs, but the dataset ")+"provides ".concat(s.length," outputs.  (Expected output keys: ")+"".concat(JSON.stringify(e.outputNames),")")}));for(var c=function(t){r.util.assert(o[t].shape[0]===u,(function(){return"Batch size mismatch: input "+"".concat(e.inputNames[t]," has ").concat(o[t].shape[0],"; ")+"expected  ".concat(u," based on input ").concat(e.inputNames[0],".")}))},l=0;l<o.length;l++)c(l);for(var d=function(t){r.util.assert(s[t].shape[0]===u,(function(){return"Batch size mismatch: output "+"".concat(e.outputNames[t]," has ").concat(s[t].shape[0],"; ")+"expected  ".concat(u," based on input ").concat(e.inputNames[0],".")}))},p=0;p<s.length;p++)d(p);return{xs:o,ys:s}}function Os(e,t,n){if(n instanceof r.Tensor)return[n];if(Array.isArray(n))return r.util.assert(n.length===t.length,(function(){return"Received an array of ".concat(n.length," Tensors, but expected ").concat(t.length," to match the ").concat(e," keys ").concat(t,".")})),n;var a=[],i=!0,o=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;if(null==n[l])throw new ua("The feature data generated by the dataset lacks the required "+"".concat(e," key '").concat(l,"'."));a.push(n[l])}}catch(d){o=!0,s=d}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return a}function js(e){if(3===e.length)throw new ca("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}function Ss(e,t,n){return Cs.apply(this,arguments)}function Cs(){return(Cs=Object(Oo.a)(wo.a.mark((function e(t,n,a){var i,o,s,u,c,l,d,p,f,h,m,v,b,g,y,_,x,k,w,O,j,S,C,T,N,E,I,A,R,D,M,F,L;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null!=a.batchesPerEpoch,r.util.assert(null!=t.optimizer,(function(){return"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."})),r.util.assert(null!=a,(function(){return"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."})),r.util.assert(null!=a.epochs&&a.epochs>0&&Number.isInteger(a.epochs),(function(){return"For fitDataset(), config.epochs is expected to be a positive "+"integer, but got ".concat(a.epochs)})),r.util.assert(!i||a.batchesPerEpoch>0&&Number.isInteger(a.batchesPerEpoch),(function(){return"For fitDataset(), config.batchesPerEpoch is expected to be a "+"positive integer if specified, but got ".concat(a.batchesPerEpoch)})),r.util.assert(null==a.validationSplit,(function(){return"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."})),!t.isTraining){e.next=8;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 8:return t.isTraining=!0,e.prev=9,(o=null!=a.validationData)&&(Ns(a.validationData)?r.util.assert(null==a.validationBatches||a.validationBatches>0&&Number.isInteger(a.validationBatches),(function(){return"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, "+"but got ".concat(a.validationBatches)})):(c=js(a.validationData),s=c.xs,u=c.ys)),l=t.makeTrainFunction(),d=t.getDedupedMetricsNames(),p=o?d.slice().concat(d.map((function(e){return"val_"+e}))):d.slice(),f=Do(a.callbacks,a.yieldEvery),h=null==a.verbose?1:a.verbose,m=Fo(f,h,a.epochs,null,null,Ts(n,a),null,o,p),v=m.callbackList,b=m.history,v.setModel(t),t.history=b,e.next=22,v.onTrainBegin();case 22:return t.stopTraining_=!1,g=null==a.initialEpoch?0:a.initialEpoch,e.next=26,n.iterator();case 26:y=e.sent;case 27:if(!(g<a.epochs)){e.next=98;break}return _={},e.next=31,v.onEpochBegin(g);case 31:if(x=0,k=0,i){e.next=37;break}return e.next=36,n.iterator();case 36:y=e.sent;case 37:if(i&&!(x<a.batchesPerEpoch)){e.next=91;break}return e.next=40,y.next();case 40:if(w=e.sent,!i||!w.done){e.next=44;break}return console.warn("You provided `batchesPerEpoch` as "+"".concat(a.batchesPerEpoch,", ")+"but your dataset iterator ran out of data after "+"".concat(x," batches; ")+"interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+"".concat(a.batchesPerEpoch*a.epochs," batches). ")+"You may need to use the repeat() function when building your dataset."),e.abrupt("break",91);case 44:if(null==w.value){e.next=73;break}return O=ws(t,w.value),j=O.xs,S=O.ys,(C={}).batch=k,C.size=j[0].shape[0],e.next=51,v.onBatchBegin(k,C);case 51:if(T=[],null==a.classWeight){e.next=64;break}N=gs(a.classWeight,t.outputNames),E=0;case 55:if(!(E<N.length)){e.next=64;break}return e.t0=T,e.next=59,ys(S[E],null,N[E]);case 59:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 61:++E,e.next=55;break;case 64:for(I=j.concat(S).concat(T),A=l(I),r.dispose(I),R=0;R<d.length;++R)D=d[R],M=A[R],C[D]=M,r.keep(M);return e.next=70,v.onBatchEnd(k,C);case 70:Co(C),k++,x++;case 73:if(!(i?x>=a.batchesPerEpoch:w.done)){e.next=87;break}if(!o){e.next=86;break}if(F=void 0,!Ns(a.validationData)){e.next=84;break}return e.t2=va,e.next=80,t.evaluateDataset(a.validationData,{batches:a.validationBatches});case 80:e.t3=e.sent,F=(0,e.t2)(e.t3),e.next=85;break;case 84:F=va(t.evaluate(s,u,{batchSize:null==a.validationBatchSize?ks:a.validationBatchSize,verbose:0}));case 85:for(L=0;L<t.metricsNames.length;++L)_["val_".concat(t.metricsNames[L])]=F[L];case 86:return e.abrupt("break",91);case 87:if(!t.stopTraining_){e.next=89;break}return e.abrupt("break",91);case 89:e.next=37;break;case 91:return e.next=93,v.onEpochEnd(g,_);case 93:if(g++,!t.stopTraining_){e.next=96;break}return e.abrupt("break",98);case 96:e.next=27;break;case 98:return e.next=100,v.onTrainEnd();case 100:return e.next=102,t.history.syncData();case 102:return e.abrupt("return",t.history);case 103:return e.prev=103,t.isTraining=!1,e.finish(103);case 106:case"end":return e.stop()}}),e,null,[[9,,103,106]])})))).apply(this,arguments)}function Ts(e,t){var n=null;return null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function Ns(e){return"function"===typeof e.iterator}function Es(e,t,n){return Is.apply(this,arguments)}function Is(){return(Is=Object(Oo.a)(wo.a.mark((function e(t,n,a){var i,o,s,u,c,l,d,p,f;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null!=(a=a||{}).batches,o=t.testFunction,s=[],!(a.verbose>0)){e.next=6;break}throw new ca("Verbose mode is not implemented yet.");case 6:if(r.util.assert(!i||a.batches>0&&Number.isInteger(a.batches),(function(){return"Test loop expects `batches` to be a positive integer, but "+"received ".concat(JSON.stringify(a.batches))})),"function"!==typeof n.next){e.next=11;break}e.t0=n,e.next=14;break;case 11:return e.next=13,n.iterator();case 13:e.t0=e.sent;case 14:u=e.t0,c=0,l=0,d=wo.a.mark((function e(){var n;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.next();case 2:if(n=e.sent,s=r.tidy((function(){return n.value&&function(){var e=ws(t,n.value),a=e.xs,i=e.ys,u=a.concat(i),d=r.tidy((function(){return o(u)}));if(r.dispose(u),0===l)for(var p=0;p<d.length;++p)s.push(Object(r.scalar)(0));for(var f=u[0].shape[0],h=function(e){var t=d[e],n=s[e];s[e]=r.tidy((function(){return r.add(s[e],r.mul(f,t))})),l>0&&r.dispose(n)},m=0;m<d.length;++m)h(m);r.dispose(d),c+=f,++l}(),s})),!n.done){e.next=7;break}return i&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` "+"batches (in this case, ".concat(a.batches," batches). ")+"You may need to use the repeat() function when building your dataset."),e.abrupt("return","break");case 7:case"end":return e.stop()}}),e)}));case 18:if(i&&!(l<a.batches)){e.next=25;break}return e.delegateYield(d(),"t1",20);case 20:if("break"!==e.t1){e.next=23;break}return e.abrupt("break",25);case 23:e.next=18;break;case 25:for(p=0;p<s.length;++p)f=s[p],s[p]=r.div(s[p],c),r.dispose(f);return e.abrupt("return",ma(s));case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function As(e){r.util.assert(e>0&&Number.isInteger(e),(function(){return"batchSize is required to be a positive integer, but got ".concat(e)}))}function Rs(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((function(e){return ri(e,t,n-t)})):ri(e,t,n-t)}function Ds(e,t){return r.tidy((function(){return null==e?null:Array.isArray(e)?e.map((function(e){return Ds(e,t)})):di(e,"int32"===t.dtype?t:r.cast(t,"int32"))}))}function Ms(e,t){for(var n=[],r=0,a=null;r<e;)(a=r+t)>=e&&(a=e),n.push([r,a]),r=a;return n}function Fs(e){var t=[];e instanceof r.Tensor&&(e=[e]);for(var n=0;n<e.length;++n){var a=e[n];if(1===a.rank)t.push(ni(a,1));else{if(0===a.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(a)}}return t}function Ls(e,t){if(null!=e){var n=[];if(t instanceof r.Tensor)n.push(t.id);else if(Array.isArray(t))t.forEach((function(e){return n.push(e.id)}));else if(null!=t)for(var a in t){var i=t[a];n.push(i.id)}var o=[];if(e instanceof r.Tensor)-1===n.indexOf(e.id)&&o.push(e);else if(Array.isArray(e))e.forEach((function(e){-1===n.indexOf(e.id)&&o.push(e)}));else if(null!=e)for(var s in e){var u=e[s];-1===n.indexOf(u.id)&&o.push(u)}o.forEach((function(e){e.isDisposed||e.dispose()}))}}function Ps(e){return Array.isArray(e)}function zs(e){return!function(e){return e instanceof r.Tensor}(e)&&!Ps(e)}function Bs(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==t||0===t.length){if(null!=e){var o=!1;if(Ps(e)&&e.length>0)o=!0;else if(zs(e)){for(var s in e)if(e.hasOwnProperty(s)){o=!0;break}}else o=!0;if(o)throw new ua("Error when checking model ".concat(i," expected no data, ")+"but got ".concat(e))}return[]}if(null==e)return t.map((function(e){return null}));if(zs(e)){e=e,r=[];var u=!0,c=!1,l=void 0;try{for(var d,p=t[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var f=d.value;if(null==e[f])throw new ua('No data provided for "'.concat(f,'". Need data for each key in: ')+"".concat(t));r.push(e[f])}}catch(y){c=!0,l=y}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}}else if(Ps(e)){if((e=e).length!==t.length)throw new ua("Error when checking model ".concat(i,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"model expected. Expected to see ".concat(t.length," Tensor(s), but ")+"instead got the following list of Tensor(s): ".concat(e));r=e}else{if(e=e,t.length>1)throw new ua("The model ".concat(i," expects ").concat(t.length," Tensor(s), ")+"but only received one Tensor. Found: Tensor with shape ".concat(e.shape));r=[e]}if(r=Fs(r),null!=n)for(var h=0;h<t.length;++h)if(null!=n[h]){var m=r[h];if(m.shape.length!==n[h].length)throw new ua("Error when checking ".concat(i,": expected ").concat(t[h]," ")+"to have ".concat(n[h].length," dimension(s). but got array with ")+"shape ".concat(m.shape));for(var v=0;v<n[h].length;++v)if(0!==v||a){var b=m.shape[v],g=n[h][v];if(null!=g&&g>=0&&b!==g)throw new ua("".concat(i," expected a batch of elements where each ")+"example has shape [".concat(n[h].slice(1,n[h].length),"] ")+"(i.e.,tensor shape [*,".concat(n[h].slice(1,n[h].length),"])")+" but the ".concat(i," received an input with ").concat(m.shape[0])+" examples, each with shape [".concat(m.shape.slice(1,m.shape.length),"]")+" (tensor shape [".concat(m.shape,"])"))}}return r}function Vs(e,t,n){var a=wa(e.map((function(e){return e.shape[0]})));a.sort();var i=wa(t.map((function(e){return e.shape[0]})));if(i.sort(),a.length>1)throw new ua("All input Tensors (x) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(e.map((function(e){return e.shape})))));if(i.length>1)throw new ua("All target Tensors (y) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(t.map((function(e){return e.shape})))));if(a.length>0&&i.length>0&&!r.util.arraysEqual(a,i))throw new ua("Input Tensors should have the same number of samples as target "+"Tensors. Found ".concat(a[0]," input sample(s) and ").concat(i[0]," target ")+"sample(s).")}function Us(e,t,n){for(var r=[Bo,$o,Ho],a=0;a<e.length;++a){var i=e[a],o=t[a],s=n[a];if(null!=o){if(o===Ho&&1===i.shape[i.shape.length-1])throw new ua("You are passing a target array of shape ".concat(i.shape," while using ")+"a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(o))for(var u=i.shape.slice(1),c=s.slice(1),l=0;l<u.length;++l){var d=u[l],p=c[l];if(null!=p&&d!==p)throw new ua("A target Tensor with shape ".concat(i.shape," was passed for an ")+"output of shape ".concat(s,", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}function Ws(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(e)){if(e.length!==t.length)throw new ua("Error when checking model ".concat(i,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"the model expected. Expected to see ".concat(t.length," Tensor(s),")+" but instead got ".concat(e.length," Tensors(s)."));r=e}else{if(t.length>1)throw new ua("The model expects ".concat(t.length," ").concat(i," Tensors, ")+"but only received one Tensor. Found: array with shape "+"".concat(JSON.stringify(e.shape),"."));r=[e]}if(null!=n)for(var o=0;o<t.length;++o)if(null!=n[o]){var s=r[o];if(s.shape.length!==n[o].length)throw new ua("Error when checking ".concat(i,": expected ").concat(t[o]," ")+"to have ".concat(n[o].length," dimension(s), but got array with ")+"shape ".concat(JSON.stringify(s.shape)));for(var u=0;u<n[o].length;++u)if(0!==u||a){var c=s.shape[u],l=n[o][u];if(null!=l&&l!==c)throw new ua("Error when checking ".concat(i,": expected ")+"".concat(t[o]," to have shape ").concat(JSON.stringify(n[o])," but ")+"got array with shape ".concat(JSON.stringify(s.shape),"."))}}}var Hs=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).isTraining=!1,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"summary",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new ua("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");ls(this,e,t,n)}},{key:"compile",value:function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"===typeof e.optimizer)this.optimizer_=function(e){var t={Adagrad:function(){return r.train.adagrad(.01)},Adadelta:function(){return r.train.adadelta(1,.95,ei())},Adam:function(){return r.train.adam(.001,.9,.999,ei())},Adamax:function(){return r.train.adamax(.002,.9,.999,ei(),0)},RMSProp:function(){return r.train.rmsprop(.001,.9,0,ei())},SGD:function(){return r.train.sgd(.01)}};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new ua("Unknown Optimizer ".concat(e))}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof r.Optimizer))throw new ua("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(e.loss)||"string"===typeof e.loss||"function"===typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new ua("When passing an Array as loss, it should have one entry per "+"model output. The model has ".concat(this.outputs.length," output(s), ")+"but you passed loss=".concat(e.loss,"."));var a=e.loss;n=a.map((function(e){return Yo(e)}))}else{var i=Yo(e.loss);this.outputs.forEach((function(e){n.push(i)}))}else{for(var o in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(o))throw new ua('Unknown entry in loss dictionary: "'.concat(o,'". ')+"Only expected the following keys: ".concat(this.outputNames));var s=!0,u=!1,c=void 0;try{for(var l,d=this.outputNames[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var p=l.value;null==e.loss[p]&&console.warn('Output "'.concat(p,'" is missing from loss dictionary. We assume ')+"this was done on purpose, and we will not be expecting data "+"to be passed to ".concat(p," during training")),n.push(Yo(e.loss[p]))}}catch(y){u=!0,c=y}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var f=0;f<this.outputs.length;++f){var h=this.internalOutputShapes[f],m=this.outputNames[f];this.feedOutputNames.push(m),this.feedOutputShapes.push(h),this.feedLossFns.push(this.lossFunctions[f])}var v=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Ha("loss",(function(){for(var e=0;e<t.outputs.length;++e)if(-1===v.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+"_loss"))}}));var b=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return[]}));var n;if("string"===typeof e||"function"===typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!==typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,"+"function, Array, or Object, found: ".concat(e));n=e}if(Array.isArray(n))return t.map((function(e){return n}));var r=[],a=!0,i=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value,l=n.hasOwnProperty(c)?n[c]:[];Array.isArray(l)||(l=[l]),r.push(l)}}catch(y){i=!0,o=y}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}return r}(e.metrics,this.outputNames),g=function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+"_"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e])};Ha("metric",(function(){for(var e=function(e){if(-1!==v.indexOf(e))return"continue";!function(n){var r,a,i,o=!0,s=!1,u=void 0;try{for(var c,l=n[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var d=c.value;if("string"===typeof d&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(d)){var p=t.internalOutputShapes[e];1===p[p.length-1]||t.lossFunctions[e]===$o?-1!==["accuracy","acc"].indexOf(d)?a=Zo:-1!==["crossentropy","ce"].indexOf(d)&&(a=ts):t.lossFunctions[e]===Go?-1!==["accuracy","acc"].indexOf(d)?a=ns:-1!==["crossentropy","ce"].indexOf(d)&&(a=as):-1!==["accuracy","acc"].indexOf(d)?a=Qo:-1!==["crossentropy","ce"].indexOf(d)&&(a=rs);var f=void 0;-1!==["accuracy","acc"].indexOf(d)?f="acc":-1!==["crossentropy","ce"].indexOf(d)&&(f="ce"),i=a,r=""+f}else{var h=os(d);i=h,r=""+ss(d)}var m=void 0;Ha(r,(function(){m=i})),g(e,r,m)}}catch(y){s=!0,u=y}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}}(b[e])},n=0;n<t.outputs.length;++n)e(n)})),this.collectedTrainableWeights=this.trainableWeights}},{key:"checkTrainableWeightsConsistency",value:function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null==n.batchSize?32:n.batchSize;As(r);var a=!0,i=this.standardizeUserDataXY(e,t,a,r);try{var o=i[0].concat(i[1]);this.makeTestFunction();var s=this.testFunction,u=this.testLoop(s,o,r,n.verbose,n.steps);return ma(u)}finally{Ls(i[0],e),Ls(i[1],t)}}},{key:"evaluateDataset",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.makeTestFunction(),e.abrupt("return",Es(this,t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkNumSamples",value:function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(r=null,null!=t)throw new ua("If ".concat(a," is set, batchSize must be null or undefined.")+"Got batchSize = ".concat(t))}else{if(null==e)throw new ua("Either the input data should have a defined shape, or "+"".concat(a," shoud be specified."));r=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return r}},{key:"execute",value:function(e,t){if(Array.isArray(t)&&0===t.length)throw new ua("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(t),a=n?t:[t],i=this.retrieveSymbolicTensors(a),o=new ro;if(e instanceof r.Tensor&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new ua("The number of inputs provided (".concat(e.length,") ")+"does not match the number of inputs of this model "+"(".concat(this.inputs.length,")."));for(var s=0;s<this.inputs.length;++s)o.add(this.inputs[s],e[s])}else{var u=!0,c=!1,l=void 0;try{for(var d,p=this.inputs[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var f=d.value,h=e[f.name];if(null==h)throw new ua("No value is provided for the model's input ".concat(f.name));o.add(f,h)}}catch(v){c=!0,l=v}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}}var m=oo(i,o);return n?m:m[0]}},{key:"retrieveSymbolicTensors",value:function(e){var t=pa(null,e.length),n=e.length,r=!0,a=!1,i=void 0;try{for(var o,s=this.layers[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){for(var u=o.value,c=Array.isArray(u.output)?u.output:[u.output],l=c.map((function(e){return e.name})),d=0;d<e.length;++d){var p=l.indexOf(e[d]);if(-1!==p&&(t[d]=c[p],n--),0===n)break}if(0===n)break}}catch(h){a=!0,i=h}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}if(n>0){var f=[];throw t.forEach((function(t,n){null==t&&f.push(e[n])})),new ua("Cannot find SymbolicTensors for output name(s): "+"".concat(JSON.stringify(f)))}return t}},{key:"predictLoop",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.tidy((function(){var i=t.checkNumSamples(e);if(a)throw new ca("Verbose predictLoop() is not implemented yet.");for(var o=Ms(i,n),s=t.outputs.map((function(e){return[]})),u=function(n){r.tidy((function(){var r=o[n][0],a=o[n][1],i=Rs(e,r,a),s=[];if(Array.isArray(i))for(var u=0;u<i.length;++u)s.push({key:t.inputs[u],value:i[u]});else s.push({key:t.inputs[0],value:i});var c=new ro(s);return oo(t.outputs,c)})).forEach((function(e,t){return s[t].push(e)}))},c=0;c<o.length;++c)u(c);return ma(s.map((function(e){return r.concat(e,0)})))}))}},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Fs(e);Ws(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==t.batchSize?32:t.batchSize;return As(r),this.predictLoop(n,r)}finally{Ls(n,e)}}},{key:"predictOnBatch",value:function(e){Ws(e,this.inputNames,this.feedInputShapes,!0);var t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}},{key:"standardizeUserDataXY",value:function(e,t){!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new sa("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");for(var r=[],a=0;a<this.feedOutputShapes.length;++a){var i=this.feedOutputShapes[a],o=this.feedLossFns[a];o===Go?r.push(i.slice(0,i.length-1).concat([1])):r.push(i)}if(Vs(e=Bs(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=Bs(t,this.feedOutputNames,r,!1,"target")),Us(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&e[0].shape[0]%n!==0)throw new ua("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+"".concat(n,". Found: ").concat(e[0].shape[0]," sample(s)."));return[e,t]}},{key:"standardizeUserData",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n,r,i){var o,s,u,c,l,d,p,f,h,m=arguments;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!(m.length>4&&void 0!==m[4])||m[4],s=m.length>5?m[5]:void 0,u=this.standardizeUserDataXY(t,n,o,s),c=Object(a.a)(u,2),l=c[0],d=c[1],null==r){e.next=5;break}throw new Error("sample weight is not supported yet.");case 5:if(p=null,null==i){e.next=19;break}f=gs(i,this.outputNames),p=[],h=0;case 10:if(!(h<f.length)){e.next=19;break}return e.t0=p,e.next=14,ys(d[h],null,f[h]);case 14:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 16:++h,e.next=10;break;case 19:return e.abrupt("return",[l,d,p]);case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"testLoop",value:function(e,t,n){var a=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0;return r.tidy((function(){var s=a.checkNumSamples(t,n,o,"steps"),u=[];if(i>0)throw new ca("Verbose mode is not implemented yet.");if(null!=o)throw new ca("steps mode in testLoop() is not implemented yet");for(var c=Ms(s,n),l=Object(r.tensor1d)(Ja(0,s)),d=0;d<c.length;++d){var p=c[d][0],f=c[d][1],h=ri(l,p,f-p),m=Ds(t,h),v=e(m);if(0===d)for(var b=0;b<v.length;++b)u.push(Object(r.scalar)(0));for(var g=0;g<v.length;++g){var y=v[g];u[g]=r.add(u[g],r.mul(f-p,y))}}for(var _=0;_<u.length;++_)u[_]=r.div(u[_],s);return u}))}},{key:"getDedupedMetricsNames",value:function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],a=r;if(ha(e,r)>1){var i=ha(e.slice(0,n),r);a+="_".concat(i)}t.push(a)}return t}},{key:"makeTrainFunction",value:function(){var e=this;return function(t){var n=[],a=t.slice(0,e.inputs.length),i=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),o=t.slice(e.inputs.length+e.outputs.length,e.inputs.length+2*e.outputs.length),s=[],u=e.collectedTrainableWeights.map((function(e){return e.read()}));return[e.optimizer_.minimize((function(){for(var t=[],u=0;u<e.inputs.length;++u)t.push({key:e.inputs[u],value:a[u]});for(var c,l=new ro(t),d=oo(e.outputs,l,{training:!0}),p=0;p<e.lossFunctions.length;++p){var f=(0,e.lossFunctions[p])(i[p],d[p]);null!=o[p]&&(f=xs(f,o[p]));var h=r.mean(f);n.push(h),c=0===p?f:r.add(c,f)}for(var m=0;m<e.metricsTensors.length;++m){var v=void 0;if(e.outputs.length>1&&m<e.outputs.length)v=n[m];else{var b=e.metricsTensors[m][0],g=e.metricsTensors[m][1];v=r.mean(b(i[g],d[g]))}r.keep(v),s.push(v)}return c=r.mean(c),e.calculateLosses().forEach((function(e){c=r.add(c,e)})),c}),!0,u)].concat(s)}}},{key:"makeTestFunction",value:function(){var e=this;this.testFunction=function(t){return r.tidy((function(){for(var n,a=[],i=t.slice(0,e.inputs.length),o=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),s=[],u=0;u<e.inputs.length;++u)s.push({key:e.inputs[u],value:i[u]});for(var c=new ro(s),l=oo(e.outputs,c),d=0;d<e.lossFunctions.length;++d){var p=e.lossFunctions[d],f=r.mean(p(o[d],l[d]));n=0===d?f:r.add(n,f),a.push(n)}for(var h=0;h<e.metricsTensors.length;++h){var m=e.metricsTensors[h][0],v=e.metricsTensors[h][1],b=r.mean(m(o[v],l[v]));a.push(b)}return a}))}}},{key:"fit",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){var a,i,o,s,u,c,l,d,p,f,h,m,v,b,g,y,_,x,k,w,O,j,S,C,T,N,E=arguments;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=E.length>2&&void 0!==E[2]?E[2]:{},!this.isTraining){e.next=3;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 3:return this.isTraining=!0,e.prev=4,As(h=null==a.batchSize?32:a.batchSize),m=!1,e.next=10,this.standardizeUserData(t,n,a.sampleWeight,a.classWeight,m,h);case 10:if(v=e.sent,i=v[0],o=v[1],f=v[2],b=!1,!(null!=a.validationData&&a.validationData.length>0)){e.next=36;break}if(b=!0,2!==a.validationData.length){e.next=22;break}c=a.validationData[0],l=a.validationData[1],e.next=27;break;case 22:if(3!==a.validationData.length){e.next=26;break}throw new ca("validationData including sample weights is not supported yet.");case 26:throw new ua("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+"".concat(a.validationData," is invalid."));case 27:return y=!0,e.next=30,this.standardizeUserData(c,l,null,null,y,h);case 30:_=e.sent,d=_[0],p=_[1],g=d.concat(p),e.next=37;break;case 36:null!=a.validationSplit&&a.validationSplit>0&&a.validationSplit<1?(b=!0,x=Math.floor(i[0].shape[0]*(1-a.validationSplit)),k=i[0].shape[0],d=Rs(i,x,k),s=i,i=Rs(i,0,x),p=Rs(o,x,k),u=o,o=Rs(o,0,x),g=d.concat(p)):null!=a.validationSteps&&(b=!0);case 37:return w=i.concat(o).concat(f),this.checkTrainableWeightsConsistency(),O=this.makeTrainFunction(),j=this.getDedupedMetricsNames(),b?(this.makeTestFunction(),S=this.testFunction,C=j.slice().concat(j.map((function(e){return"val_"+e})))):(S=null,g=[],C=j.slice()),T=Do(a.callbacks,a.yieldEvery),e.next=45,this.fitLoop(O,w,j,h,a.epochs,a.verbose,T,S,g,a.shuffle,C,a.initialEpoch,null,null);case 45:return N=e.sent,e.abrupt("return",N);case 47:return e.prev=47,this.isTraining=!1,Ls(i,t),Ls(o,n),Ls(s,t),Ls(u,n),Ls(d,c),Ls(p,l),null!=f&&r.dispose(f),e.finish(47);case 57:case"end":return e.stop()}}),e,this,[[4,,47,57]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitLoop",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n,a,i,o,s,u,c,l,d,p,f,h,m){var v,b,g,y,_,x,k,w,O=this;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==i&&(i=32),null==o&&(o=1),null==d&&(d=!0),null==f&&(f=0),v=!1,null!=c&&null!=l&&(v=!0),null==m){e.next=10;break}if(v=!0,null!=h){e.next=10;break}throw new ua("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");case 10:return null!=(b=this.checkNumSamples(n,i,h,"steps_per_epoch"))&&(g=Ja(0,b)),null==s&&(s=1),y=Fo(u,s,o,f,b,h,i,v,p),_=y.callbackList,x=y.history,_.setModel(this),this.history=x,e.next=18,_.onTrainBegin();case 18:this.stopTraining_=!1,k=wo.a.mark((function e(o){var s;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.onEpochBegin(o);case 2:if(s={},null==h){e.next=7;break}throw new ca("stepsPerEpoch mode is not implemented yet.");case 7:return e.delegateYield(wo.a.mark((function e(){var o,u,p,f;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("batch"!==d){e.next=4;break}throw new ca("batch shuffling is not implemneted yet");case 4:d&&r.util.shuffle(g);case 5:o=Object(r.tensor1d)(g),u=Ms(b,i),p=wo.a.mark((function e(d){var p;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p={},e.next=3,_.onBatchBegin(d,p);case 3:return r.tidy((function(){var e=u[d][0],f=u[d][1],h=ri(o,e,f-e);p.batch=d,p.size=f-e;for(var m=Ds(n,h),b=t(m),g=0;g<a.length;++g){var y=a[g],_=b[g];p[y]=_,r.keep(_)}if(d===u.length-1&&v)for(var x=O.testLoop(c,l,i),k=0;k<a.length;++k){var w=a[k],j=x[k];r.keep(j),s["val_"+w]=j}})),e.next=6,_.onBatchEnd(d,p);case 6:if(Co(p),!O.stopTraining_){e.next=9;break}return e.abrupt("return","break");case 9:case"end":return e.stop()}}),e)})),f=0;case 9:if(!(f<u.length)){e.next=17;break}return e.delegateYield(p(f),"t0",11);case 11:if("break"!==e.t0){e.next=14;break}return e.abrupt("break",17);case 14:++f,e.next=9;break;case 17:o.dispose();case 18:case"end":return e.stop()}}),e)}))(),"t0",8);case 8:return e.next=10,_.onEpochEnd(o,s);case 10:if(!O.stopTraining_){e.next=12;break}return e.abrupt("return","break");case 12:case"end":return e.stop()}}),e)})),w=f;case 21:if(!(w<o)){e.next=29;break}return e.delegateYield(k(w),"t0",23);case 23:if("break"!==e.t0){e.next=26;break}return e.abrupt("break",29);case 26:++w,e.next=21;break;case 29:return e.next=31,_.onTrainEnd();case 31:return e.next=33,this.history.syncData();case 33:return e.abrupt("return",this.history);case 34:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a,i,o,s,u,c,l,d,p,f,h){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ss(this,t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){var a,i,o,s,u,c,l,d,p,f,h,m,v;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.standardizeUserData(t,n);case 2:a=e.sent,i=a[0],o=a[1],s=this.makeTrainFunction(),u=s(i.concat(o)),c=[],l=!0,d=!1,p=void 0,e.prev=11,f=u[Symbol.iterator]();case 13:if(l=(h=f.next()).done){e.next=22;break}return m=h.value,e.next=17,m.data();case 17:v=e.sent,c.push(v[0]);case 19:l=!0,e.next=13;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(11),d=!0,p=e.t0;case 28:e.prev=28,e.prev=29,l||null==f.return||f.return();case 31:if(e.prev=31,!d){e.next=34;break}throw p;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return r.dispose(u),Ls(a[0],t),Ls(a[1],n),e.abrupt("return",ma(c));case 40:case"end":return e.stop()}}),e,this,[[11,24,28,36],[29,,31,35]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getNamedWeights",value:function(e){for(var t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,a=this.getWeights(n),i=0;i<r.length;++i)n&&!r[i].trainable||t.push({name:r[i].originalName,tensor:a[i]});return t}},{key:"dispose",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"dispose",this).call(this);if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var n=r.memory().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-r.memory().numTensors}return e}},{key:"getLossIdentifiers",value:function(){var e;if("string"===typeof this.loss)e=ba(this.loss);else if(Array.isArray(this.loss)){var t=!0,n=!1,r=void 0;try{for(var a,i=this.loss[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){if("string"!==typeof a.value)throw new Error("Serialization of non-string loss is not supported.")}}catch(d){n=!0,r=d}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}e=this.loss.map((function(e){return ba(e)}))}else{var o=Object.keys(this.loss);e={};for(var s=this.loss,u=0,c=o;u<c.length;u++){var l=c[u];if("string"!==typeof s[l])throw new Error("Serialization of non-string loss is not supported.");e[l]=ba(s[l])}}return e}},{key:"getMetricIdentifiers",value:function(){if("string"===typeof this.metrics||"function"===typeof this.metrics)return[ba(ss(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((function(e){return ba(ss(e))}));var e={};for(var t in this.metrics)e[t]=ba(ss(this.metrics[t]));return e}},{key:"getTrainingConfig",value:function(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}},{key:"loadTrainingConfig",value:function(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");var t,n,r=Po(ms(e.optimizer_config));if("string"===typeof e.loss)t=ga(e.loss);else if(Array.isArray(e.loss))t=e.loss.map((function(e){return ga(e)}));else if(null!=e.loss)for(var a in t={},e.loss)t[a]=ga(e.loss[a]);if(Array.isArray(e.metrics))n=e.metrics.map((function(e){return ga(e)}));else if(null!=e.metrics)for(var i in n={},e.metrics)n[i]=ga(e.metrics[i]);this.compile({loss:t,metrics:n,optimizer:r})}},{key:"save",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){var a,i,o,s,u,c,l,d,p;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=9;break}if(0!==(a=r.io.getSaveHandlers(t)).length){e.next=6;break}throw new ua("Cannot find any save handlers for URL '".concat(t,"'"));case 6:if(!(a.length>1)){e.next=8;break}throw new ua("Found more than one (".concat(a.length,") save handlers for ")+"URL '".concat(t,"'"));case 8:t=a[0];case 9:if(null!=t.save){e.next=11;break}throw new ua("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return e.next=13,r.io.encodeWeights(this.getNamedWeights(n));case 13:if(i=e.sent,!1,null,o=this.toJSON(null,!1),s={modelTopology:o,format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v".concat("4.4.0"),convertedBy:null},!(null!=n&&n.includeOptimizer)||null==this.optimizer){e.next=34;break}return s.trainingConfig=this.getTrainingConfig(),c="optimizer",e.t0=r.io,e.next=25,this.optimizer.getWeights();case 25:return e.t1=e.sent,e.t2=c,e.next=29,e.t0.encodeWeights.call(e.t0,e.t1,e.t2);case 29:l=e.sent,d=l.data,p=l.specs,(u=i.specs).push.apply(u,Object(Gn.a)(p)),i.data=r.io.concatenateArrayBuffers([i.data,d]);case 34:return null!=this.userDefinedMetadata&&(!0,cs(this.userDefinedMetadata,this.name,!0),s.userDefinedMetadata=this.userDefinedMetadata),s.weightData=i.data,s.weightSpecs=i.specs,e.abrupt("return",t.save(s));case 38:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setUserDefinedMetadata",value:function(e){cs(e,this.name),this.userDefinedMetadata=e}},{key:"getUserDefinedMetadata",value:function(){return this.userDefinedMetadata}},{key:"stopTraining",set:function(e){this.stopTraining_=e},get:function(){return this.stopTraining_}},{key:"optimizer",get:function(){return this.optimizer_},set:function(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}}]),t}(function(e){function t(e){var n;if(Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,{}))).containerNodes=new Set,n.name=e.name,null==n.name){var r=n.getClassName().toLowerCase();n.name=Aa(r)}if(n.supportsMasking=!1,n.trainable_=!0,Array.isArray(e.inputs)?n.inputs=e.inputs.slice():n.inputs=[e.inputs],Array.isArray(e.outputs)?n.outputs=e.outputs.slice():n.outputs=[e.outputs],wa(n.inputs).length!==n.inputs.length)throw new ua("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+"".concat(n.inputs.map((function(e){return e.name}))));wa(n.outputs).length!==n.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+"".concat(n.outputs.map((function(e){return e.name})))),n.inputLayers=[],n.inputLayersNodeIndices=[],n.inputLayersTensorIndices=[],n.outputLayers=[],n.outputLayersNodeIndices=[],n.outputLayersTensorIndices=[],n.layers=[],n.internalContainerRefs=[];var a=!0,i=!1,o=void 0;try{for(var s,u=n.outputs[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value,l=c.sourceLayer,d=c.nodeIndex,p=c.tensorIndex;n.outputLayers.push(l),n.outputLayersNodeIndices.push(d),n.outputLayersTensorIndices.push(p)}}catch(rt){i=!0,o=rt}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}var f=!0,h=!1,m=void 0;try{for(var v,b=n.inputs[Symbol.iterator]();!(f=(v=b.next()).done);f=!0){var g=v.value,y=g.sourceLayer,_=g.nodeIndex,x=g.tensorIndex;fa(0===_,"input layer has >1 nodes"),fa(0===x,"input layer has >1 tensors"),n.inputLayers.push(y),n.inputLayersNodeIndices.push(_),n.inputLayersTensorIndices.push(x)}}catch(rt){h=!0,m=rt}finally{try{f||null==b.return||b.return()}finally{if(h)throw m}}n.inputNames=[],n.outputNames=[],n.feedInputShapes=[],n.feedInputNames=[],n.feedOutputNames=[];for(var k=0;k<n.inputLayers.length;k++){var w=n.inputLayers[k];if(!(w instanceof to))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. "+"Received inputs: ".concat(e.inputs,". ")+"Input ".concat(k," (0-based) originates ")+"from layer type ".concat(w.getClassName(),"."));n.inputNames.push(w.name),n.feedInputShapes.push(w.batchInputShape),n.feedInputNames.push(w.name)}var O=!0,j=!1,S=void 0;try{for(var C,T=n.outputLayers[Symbol.iterator]();!(O=(C=T.next()).done);O=!0){var N=C.value;n.outputNames.push(N.name)}}catch(rt){j=!0,S=rt}finally{try{O||null==T.return||T.return()}finally{if(j)throw S}}n.internalInputShapes=n.inputs.map((function(e){return e.shape})),n.internalOutputShapes=n.outputs.map((function(e){return e.shape}));var E={},I={},A={},R={},D={},M=[],F=function e(r,a,i,o,s,u){null!=o&&null!=s&&null!=u||(o=r.sourceLayer,s=r.nodeIndex,u=r.tensorIndex);var c=o.inboundNodes[s];if(-1!==i.indexOf(c))throw new sa("The tensor ".concat(r.name,' at layer "').concat(o.name,'" ')+"is part of a cycle.");if(-1===a.indexOf(c)){n.containerNodes.add(t.nodeKey(o,s)),o.id in D||(D[o.id]=Object.keys(D).length),-1===i.indexOf(c)&&i.push(c);for(var l=c.inboundLayers.length,d=0;d<l;d++){e(c.inputTensors[d],a,i,c.inboundLayers[d],c.nodeIndices[d],c.tensorIndices[d])}for(a.push(c);i.indexOf(c)>=0;)i.splice(i.indexOf(c),1);M.push(c)}},L=[],P=[],z=!0,B=!1,V=void 0;try{for(var U,W=n.outputs[Symbol.iterator]();!(z=(U=W.next()).done);z=!0){F(U.value,L,P)}}catch(rt){B=!0,V=rt}finally{try{z||null==W.return||W.return()}finally{if(B)throw V}}var H=M.slice().reverse(),G=!0,$=!1,q=void 0;try{for(var K,X=H[Symbol.iterator]();!(G=(K=X.next()).done);G=!0){var Y=K.value;I[Y.id]=Y,Y.id in E||(E[Y.id]=0);var Z=E[Y.id],Q=null==A[Y.outboundLayer.id]?0:A[Y.outboundLayer.id];Z=Math.max(Z,Q),A[Y.outboundLayer.id]=Z,R[Y.outboundLayer.id]=Y.outboundLayer,E[Y.id]=Z;for(var J=0;J<Y.inboundLayers.length;J++){var ee=Y.inboundLayers[J],te=Y.nodeIndices[J],ne=ee.inboundNodes[te],re=null==E[ne.id]?0:E[ne.id];E[ne.id]=Math.max(Z+1,re),I[ne.id]=ne}}}catch(rt){$=!0,q=rt}finally{try{G||null==X.return||X.return()}finally{if($)throw q}}var ae={};for(var ie in E){var oe=E[ie];oe in ae||(ae[oe]=[]),ae[oe].push(I[ie])}var se={};for(var ue in A){var ce=A[ue];ce in se||(se[ce]=[]),se[ce].push(R[ue])}var le=Object.keys(se).map((function(e){return parseInt(e,10)})).sort(ka);n.layers=[];var de=!0,pe=!1,fe=void 0;try{for(var he,me=le[Symbol.iterator]();!(de=(he=me.next()).done);de=!0){var ve=se[he.value];ve.sort((function(e,t){var n=D[e.id],r=D[t.id];return n<r?-1:n>r?1:0}));var be=!0,ge=!1,ye=void 0;try{for(var _e,xe=ve[Symbol.iterator]();!(be=(_e=xe.next()).done);be=!0){var ke=_e.value;ke instanceof t&&n.internalContainerRefs.push(ke),n.layers.push(ke)}}catch(rt){ge=!0,ye=rt}finally{try{be||null==xe.return||xe.return()}finally{if(ge)throw ye}}}}catch(rt){pe=!0,fe=rt}finally{try{de||null==me.return||me.return()}finally{if(pe)throw fe}}n.layersByDepth=se,le=Object.keys(ae).map((function(e){return parseInt(e,10)})).sort(ka);var we=n.inputs.slice(),Oe=[],je=!0,Se=!1,Ce=void 0;try{for(var Te,Ne=le[Symbol.iterator]();!(je=(Te=Ne.next()).done);je=!0){var Ee=Te.value,Ie=!0,Ae=!1,Re=void 0;try{for(var De,Me=ae[Ee][Symbol.iterator]();!(Ie=(De=Me.next()).done);Ie=!0){var Fe=De.value,Le=Fe.outboundLayer;if(null!=Le){var Pe=!0,ze=!1,Be=void 0;try{for(var Ve,Ue=Fe.inputTensors[Symbol.iterator]();!(Pe=(Ve=Ue.next()).done);Pe=!0){var We=Ve.value;if(-1===we.indexOf(We))throw new sa("Graph disconnected: cannot obtain value for tensor ".concat(We)+' at layer "'.concat(Le.name,'". ')+"The following previous layers were accessed without "+"issue: ".concat(Oe))}}catch(rt){ze=!0,Be=rt}finally{try{Pe||null==Ue.return||Ue.return()}finally{if(ze)throw Be}}var He=!0,Ge=!1,$e=void 0;try{for(var qe,Ke=Fe.outputTensors[Symbol.iterator]();!(He=(qe=Ke.next()).done);He=!0){var Xe=qe.value;we.push(Xe)}}catch(rt){Ge=!0,$e=rt}finally{try{He||null==Ke.return||Ke.return()}finally{if(Ge)throw $e}}Oe.push(Le.name)}}}catch(rt){Ae=!0,Re=rt}finally{try{Ie||null==Me.return||Me.return()}finally{if(Ae)throw Re}}}}catch(rt){Se=!0,Ce=rt}finally{try{je||null==Ne.return||Ne.return()}finally{if(Se)throw Ce}}n.nodesByDepth=ae;var Ye=n.layers.map((function(e){return e.name})),Ze=!0,Qe=!1,Je=void 0;try{for(var et,tt=function(){var e=et.value,t=Ye.filter((function(t){return t===e})).length;if(1!==t)throw new sa('The name "'.concat(e,'" is used ').concat(t," times ")+"in the model. All layer names should be unique. Layer names: "+JSON.stringify(Ye))},nt=Ye[Symbol.iterator]();!(Ze=(et=nt.next()).done);Ze=!0)tt()}catch(rt){Qe=!0,Je=rt}finally{try{Ze||null==nt.return||nt.return()}finally{if(Qe)throw Je}}return n.outboundNodes=[],n.inboundNodes=[],new Qi({outboundLayer:Object(ta.a)(n),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:n.inputs,outputTensors:n.outputs,inputMasks:n.inputs.map((function(e){return null})),outputMasks:n.outputs.map((function(e){return null})),inputShapes:n.inputs.map((function(e){return e.shape})),outputShapes:n.outputs.map((function(e){return e.shape}))}),n.built=!0,n._refCount=1,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Container '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){this.assertNotDisposed();var e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){var t=!0,n=!1,r=void 0;try{for(var a,i=this.layers[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;e.numDisposedVariables+=o.dispose().numDisposedVariables}}catch(f){n=!0,r=f}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}var s=!0,u=!1,c=void 0;try{for(var l,d=this.internalContainerRefs[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var p=l.value;e.numDisposedVariables+=p.dispose().numDisposedVariables}}catch(f){u=!0,c=f}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}return e.refCountAfterDispose=this._refCount,e}},{key:"loadWeights",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={},r=0,a=!0,i=!1,o=void 0;try{for(var s,u=this.layers[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value,l=!0,d=!1,p=void 0;try{for(var f,h=c.weights[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var m=f.value;if(null!=n[m.originalName])throw new ua("Duplicate weight name: ".concat(m.originalName));n[m.originalName]=m,r++}}catch(w){d=!0,p=w}finally{try{l||null==h.return||h.return()}finally{if(d)throw p}}}}catch(w){i=!0,o=w}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}var v=[];for(var b in e){var g=b;if(null==n[b]){var y=b.split("/"),_=y.slice(0,-2).concat([y[y.length-1]]);g=_.join("/")}if(null!=n[g])v.push([n[g],e[b]]);else if(t)throw new ua("Provided weight data has no target variable: ".concat(b));delete n[g]}if(t){var x=[];for(var k in n)x.push(k);if(x.length>0)throw new ua("".concat(x.length," of ").concat(r," weights are not set: ")+"".concat(x))}Ki(v)}},{key:"updatedConfig",value:function(){var e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers ".concat("4.4.0"),t.backend="TensorFlow.js",t}},{key:"toJSON",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=vs(this.updatedConfig());return t?JSON.stringify(n):n}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){e=va(e);for(var r=new ro,a=0;a<n.inputs.length;++a)r.add(n.inputs[a],e[a]);return oo(n.outputs,r,t)}))}},{key:"computeMask",value:function(e,t){var n=this;return Object(r.tidy)((function(){var r;return e=va(e),r=null==t?pa(null,e.length):va(t),n.runInternalGraph(e,r)[1]}))}},{key:"computeOutputShape",value:function(e){var t=Vi(e);if(t.length!==this.inputLayers.length)throw new ua("Invalid inputShape argument ".concat(e,": ")+"model has ".concat(this.inputLayers.length," tensor inputs."));for(var n={},r=0;r<t.length;r++){var a=this.inputLayers[r],i=t[r];n[a.name+"_0_0"]=i}var o=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(ka);if(o.length>1){var s=!0,u=!1,c=void 0;try{for(var l,d=o[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var p=l.value,f=this.nodesByDepth[p],h=!0,m=!1,v=void 0;try{for(var b,g=f[Symbol.iterator]();!(h=(b=g.next()).done);h=!0){var y=b.value,_=y.outboundLayer;if(-1===this.inputLayers.map((function(e){return e.id})).indexOf(_.id)){for(var x=[],k=0;k<y.inboundLayers.length;k++){var w=y.inboundLayers[k],O=y.nodeIndices[k],j=y.tensorIndices[k],S=n["".concat(w.name,"_").concat(O,"_").concat(j)];x.push(S)}for(var C=Vi(_.computeOutputShape(ma(x))),T=_.inboundNodes.indexOf(y),N=0;N<C.length;N++){n["".concat(_.name,"_").concat(T,"_").concat(N)]=C[N]}}}}catch(z){m=!0,v=z}finally{try{h||null==g.return||g.return()}finally{if(m)throw v}}}}catch(z){u=!0,c=z}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}for(var E=[],I=[],A=0;A<this.outputLayers.length;A++){var R=this.outputLayers[A],D=this.outputLayersNodeIndices[A],M=this.outputLayersTensorIndices[A],F="".concat(R.name,"_").concat(D,"_").concat(M);I.push(F)}for(var L=0;L<I.length;L++){var P=I[L];fa(P in n),E.push(n[P])}return ma(E)}},{key:"runInternalGraph",value:function(e,t){null==t&&(t=pa(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var i=this.inputs[r],o=e[r],s=t[r];n[i.id]=[o,s]}var u=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(ka),c=!0,l=!1,d=void 0;try{for(var p,f=u[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var h=p.value,m=this.nodesByDepth[h],v=!0,b=!1,g=void 0;try{for(var y,_=m[Symbol.iterator]();!(v=(y=_.next()).done);v=!0){var x=y.value,k=x.outboundLayer,w=x.inputTensors,O=x.outputTensors,j=new Array,S=!0,C=!1,T=void 0;try{for(var N,E=w[Symbol.iterator]();!(S=(N=E.next()).done);S=!0){var I=N.value;I.id in n&&j.push(n[I.id])}}catch(ne){C=!0,T=ne}finally{try{S||null==E.return||E.return()}finally{if(C)throw T}}if(j.length===w.length){var A={},R=void 0,D=void 0,M=void 0,F=void 0;if(null!=x.callArgs&&(A=x.callArgs),1===j.length){var L=Object(a.a)(j[0],2),P=L[0],z=L[1];null==A.mask&&(A.mask=z),M=va(k.call(P,A)),F=va(k.computeMask(P,z)),R=[P],D=[z]}else R=j.map((function(e){return e[0]})),D=j.map((function(e){return e[1]})),null==A.mask&&(A.mask=D),M=va(k.call(R,A)),F=va(k.computeMask(R,D));if(k.activityRegularizer)throw new ca("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(var B=0;B<O.length;++B){var V=O[B],U=M[B],W=F[B];n[V.id]=[U,W]}}}}catch(ne){b=!0,g=ne}finally{try{v||null==_.return||_.return()}finally{if(b)throw g}}}}catch(ne){l=!0,d=ne}finally{try{c||null==f.return||f.return()}finally{if(l)throw d}}var H=[],G=[],$=[],q=!0,K=!1,X=void 0;try{for(var Y,Z=this.outputs[Symbol.iterator]();!(q=(Y=Z.next()).done);q=!0){var Q=Y.value;fa(Q.id in n,"Could not compute output ".concat(Q.name," : ").concat(Q.id));var J=Object(a.a)(n[Q.id],2),ee=J[0],te=J[1];$.push(ee.shape),H.push(ee),G.push(te)}}catch(ne){K=!0,X=ne}finally{try{q||null==Z.return||Z.return()}finally{if(K)throw X}}return[H,G,$]}},{key:"buildNodeConversionMap",value:function(e){var n,r={},a=!0,i=!1,o=void 0;try{for(var s,u=this.layers[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value;n=c instanceof t?1:0;for(var l=0;l<c.inboundNodes.length;l++){var d=t.nodeKey(c,l);this.containerNodes.has(d)&&(r[d]=n,n+=1)}}}catch(p){i=!0,o=p}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}return r}},{key:"getLayer",value:function(e,t){if(null!=t){if(this.layers.length<=t)throw new ua("Was asked to retrieve layer at index ".concat(t,", but model only ")+"has ".concat(this.layers.length," layer(s)."));return this.layers[t]}if(null==e)throw new ua("Provide either a layer name or layer index");var n=!0,r=!1,a=void 0;try{for(var i,o=this.layers[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;if(s.name===e)return s}}catch(u){r=!0,a=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}throw new ua("No such layer: ".concat(e))}},{key:"calculateLosses",value:function(){var e=this;return Object(r.tidy)((function(){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e.layers[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)for(var u=o.value,c=0;c<u.inboundNodes.length;++c){var l=t.nodeKey(u,c);e.containerNodes.has(l)&&n.push.apply(n,Object(Gn.a)(u.calculateLosses()))}}catch(d){a=!0,i=d}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}))}},{key:"getConfig",value:function(){var e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[],a=!0,i=!1,o=void 0;try{for(var s,u=this.layers[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){for(var c=s.value,l=c.getClassName(),d=c.getConfig(),p=[],f=0;f<c.inboundNodes.length;f++){var h=c.inboundNodes[f],m=t.nodeKey(c,f),v={};if(this.containerNodes.has(m)){if(h.callArgs)try{JSON.stringify(h.callArgs),v=h.callArgs}catch(P){console.warn("Layer ".concat(c.name," was passed ")+"non-serializable keyword arguments: "+"".concat(h.callArgs,". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),v={}}if(h.inboundLayers.length>0){for(var b=[],g=0;g<h.inboundLayers.length;g++){var y=h.inboundLayers[g],_=h.nodeIndices[g],x=h.tensorIndices[g],k=n[t.nodeKey(y,_)];null==k&&(k=0),b.push([y.name,k,x,v])}p.push(b)}}}var w={};w.name=c.name,w.className=l,w.config=d,w.inboundNodes=p,r.push(w)}}catch(P){i=!0,o=P}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}e.layers=r;for(var O=[],j=0;j<this.inputLayers.length;j++){var S=this.inputLayers[j],C=this.inputLayersNodeIndices[j],T=t.nodeKey(S,C);if(this.containerNodes.has(T)){var N=n[T];null!==N&&void 0!==N||(N=0);var E=this.inputLayersTensorIndices[j];O.push([S.name,N,E])}}e.inputLayers=O;for(var I=[],A=0;A<this.outputLayers.length;A++){var R=this.outputLayers[A],D=this.outputLayersNodeIndices[A],M=t.nodeKey(R,D);if(this.containerNodes.has(M)){var F=n[M];null!==F&&void 0!==F||(F=0);var L=this.outputLayersTensorIndices[A];I.push([R.name,F,L])}}return e.outputLayers=I,e}},{key:"resetStates",value:function(){var e=this;Object(r.tidy)((function(){e.layers.forEach((function(e){e.stateful&&e.resetStates()}))}))}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.layers.forEach((function(t){t._trainableWeights.forEach((function(t){return t.trainable=e}))})),this.trainable_=e}},{key:"trainableWeights",get:function(){if(this._trainableWeights.length>0)throw new ua("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.layers[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;e=e.concat(o.trainableWeights)}}catch(s){n=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"nonTrainableWeights",get:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.layers[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;e.push.apply(e,Object(Gn.a)(o.nonTrainableWeights))}}catch(h){n=!0,r=h}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}if(!this.trainable){var s=[],u=!0,c=!1,l=void 0;try{for(var d,p=this.layers[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var f=d.value;s.push.apply(s,Object(Gn.a)(f.trainableWeights))}}catch(h){c=!0,l=h}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}return s.concat(e)}return e}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"stateful",get:function(){if(this._stateful)throw new ua("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");var e=!0,t=!1,n=void 0;try{for(var r,a=this.layers[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){if(r.value.stateful)return!0}}catch(i){t=!0,n=i}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}return!1}}],[{key:"fromConfig",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={},a={};function i(e,t){e.name in a?a[e.name].push(t):a[e.name]=[t]}function o(e,t){var n,a=[],o=!0,s=!1,u=void 0;try{for(var c,l=t[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var d=c.value,p=d[0],f=d[1],h=d[2];if(n=null==d[3]?{}:d[3],!(p in r))return void i(e,t);var m=r[p];if(m.inboundNodes.length<=f)return void i(e,t);var v=m.inboundNodes[f];a.push(v.outputTensors[h])}}catch(b){s=!0,u=b}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}a.length>0&&e.apply(ma(a),n)}function s(e){var a=e.name,o=Po(e,null!=t.customObjects?t.customObjects:{});o.setFastWeightInitDuringBuild(n),r[a]=o,e.inboundNodes.forEach((function(e){if(!(e instanceof Array))throw new ua("Corrupted configuration, expected array for nodeData: ".concat(e));i(o,e)}))}var u=t.name,c=t.layers,l=!0,d=!1,p=void 0;try{for(var f,h=c[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var m=f.value;s(m)}}catch(ne){d=!0,p=ne}finally{try{l||null==h.return||h.return()}finally{if(d)throw p}}for(;!Oa(a);){var v=!0,b=!1,g=void 0;try{for(var y,_=c[Symbol.iterator]();!(v=(y=_.next()).done);v=!0){var x=y.value,k=r[x.name];if(k.name in a){var w=a[k.name];delete a[k.name];var O=!0,j=!1,S=void 0;try{for(var C,T=w[Symbol.iterator]();!(O=(C=T.next()).done);O=!0){var N=C.value;o(k,N)}}catch(ne){j=!0,S=ne}finally{try{O||null==T.return||T.return()}finally{if(j)throw S}}}}}catch(ne){b=!0,g=ne}finally{try{v||null==_.return||_.return()}finally{if(b)throw g}}}var E=[],I=[],A=t.inputLayers,R=!0,D=!1,M=void 0;try{for(var F,L=A[Symbol.iterator]();!(R=(F=L.next()).done);R=!0){var P=F.value,z=P[0],B=P[1],V=P[2];fa(z in r);var U=r[z],W=U.inboundNodes[B].outputTensors;E.push(W[V])}}catch(ne){D=!0,M=ne}finally{try{R||null==L.return||L.return()}finally{if(D)throw M}}var H=t.outputLayers,G=!0,$=!1,q=void 0;try{for(var K,X=H[Symbol.iterator]();!(G=(K=X.next()).done);G=!0){var Y=K.value,Z=Y[0],Q=Y[1],J=Y[2];fa(Z in r);var ee=r[Z],te=ee.inboundNodes[Q].outputTensors;I.push(te[J])}}catch(ne){$=!0,q=ne}finally{try{G||null==X.return||X.return()}finally{if($)throw q}}return new e({inputs:E,outputs:I,name:u})}}]),t}(eo));Hs.className="Model",r.serialization.registerClass(Hs);var Gs=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),t}(Hs);Gs.className="Functional",r.serialization.registerClass(Gs);var $s=function(e){function t(e){var n;if(Object(Zr.a)(this,t),e=e||{},(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,{inputs:[],outputs:[]}))).trainable=!0,n.built=!1,n.name=null!=e.name?e.name:Aa("sequential_"),null!=e.layers){var r=!0,a=!1,i=void 0;try{for(var o,s=e.layers[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;n.add(u)}}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}}return n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"checkShape",value:function(e){if(e.inboundNodes[0].outputTensors[0].shape.some((function(e){return e<0})))throw new ua("Negative dimension size caused by adding layer "+"".concat(e.name," with input shape [")+"".concat(e.inboundNodes[0].inputTensors[0].shape,"]"))}},{key:"add",value:function(e){var n,r=e instanceof t||e instanceof Hs;if(r){if(1!==(n=e).outputs.length)throw new ua("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new ua("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new ua("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var a=no({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(a)}if(r)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new ua("A layer added to a Sequential model must not already be "+"connected somewhere else. LayersModel received layer ".concat(e.name," ")+"which has ".concat(e.inboundNodes.length," pre-existing inbound ")+"connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new ua("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=function e(t,n,r){if((null==n||null!=r&&r>0)&&(n=t.sourceLayer,r=t.nodeIndex),0===n.inboundNodes.length)return[t];var a=n.inboundNodes[r];if(0===a.inboundLayers.length)return a.inputTensors;for(var i=[],o=0;o<a.inboundLayers.length;o++){var s=e(a.inputTensors[o],a.inboundLayers[o],a.nodeIndices[o]),u=!0,c=!1,l=void 0;try{for(var d,p=s[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var f=d.value;-1===i.indexOf(f)&&i.push(f)}}catch(h){c=!0,l=h}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}}return i}(this.outputs[0])}this.inboundNodes=[],new Qi({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:pa(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((function(e){return e.shape})),outputShapes:this.outputs[0].shape})}else{var i=e.apply(this.outputs[0]);if(Array.isArray(i))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[i],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}},{key:"pop",value:function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}},{key:"call",value:function(e,t){return null==this.model&&this.build(),this.model.call(e,t)}},{key:"build",value:function(e){if(Wi(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new Hs({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}},{key:"countParams",value:function(){return this.built||this.build(),Object(Lo.a)(Object(ea.a)(t.prototype),"countParams",this).call(this)}},{key:"summary",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),Object(Lo.a)(Object(ea.a)(t.prototype),"summary",this).call(this,e,n,r)}},{key:"setWeights",value:function(e){null==this.model&&this.build(),this.model.setWeights(e)}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new sa("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}},{key:"evaluateDataset",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new sa("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.evaluateDataset(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(e,t)}},{key:"predictOnBatch",value:function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}},{key:"compile",value:function(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}},{key:"fit",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){var r,a=arguments;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:{},this.built){e.next=3;break}throw new sa("The model needs to be compiled before being used.");case 3:return e.abrupt("return",this.model.fit(t,n,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new sa("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.fitDataset(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t,n){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.model.trainOnBatch(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.layers[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value,s={};s.className=o.getClassName(),s.config=o.getConfig(),e.push(s)}}catch(u){n=!0,r=u}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return{name:this.name,layers:e}}},{key:"optimizer",get:function(){return null==this.model?void 0:this.model.optimizer},set:function(e){this.model.optimizer=e}},{key:"stopTraining",set:function(e){if(null==this.model)throw new ua("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e},get:function(){if(null==this.model)throw new ua("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}}],[{key:"fromConfig",value:function(e,n){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var a,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={};if(n instanceof Array){if(null==n[0].className||"Merge"===n[0].className)throw new ua("Legacy serialization format not supported yet.");a=n}else r.util.assert(null!=n.layers,(function(){return"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."})),a=n.layers,delete n.layers,o=n;var s=new e(o);if(!(s instanceof t))throw new ca("Sequential.fromConfig called on non-Sequential input: ".concat(s));var u=!0,c=!1,l=void 0;try{for(var d,p=a[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var f=d.value,h=void 0,m=Po(f,h,i);i&&m.setFastWeightInitDuringBuild(!0),s.add(m)}}catch(v){c=!0,l=v}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}return s}}]),t}(Hs);$s.className="Sequential",r.serialization.registerClass($s);var qs=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getConfig",value:function(){return{}}}]),t}(r.serialization.Serializable),Ks=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return mi(e,t)}}]),t}(qs);Ks.className="elu",r.serialization.registerClass(Ks);var Xs=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){return r.selu(e)}}]),t}(qs);Xs.className="selu",r.serialization.registerClass(Xs);var Ys=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){return r.relu(e)}}]),t}(qs);Ys.className="relu",r.serialization.registerClass(Ys);var Zs=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){return Object(r.tidy)((function(){return r.minimum(6,r.relu(e))}))}}]),t}(qs);Zs.className="relu6",r.serialization.registerClass(Zs);var Qs=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){return e}}]),t}(qs);Qs.className="linear",r.serialization.registerClass(Qs);var Js=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){return r.sigmoid(e)}}]),t}(qs);Js.className="sigmoid",r.serialization.registerClass(Js);var eu=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){return function(e){return Object(r.tidy)((function(){var t=r.add(.5,r.mul(.2,e));return r.clipByValue(t,0,1)}))}(e)}}]),t}(qs);eu.className="hardSigmoid",r.serialization.registerClass(eu);var tu=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){return r.softplus(e)}}]),t}(qs);tu.className="softplus",r.serialization.registerClass(tu);var nu=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){return function(e){return Object(r.tidy)((function(){return r.div(e,r.add(r.abs(e),1))}))}(e)}}]),t}(qs);nu.className="softsign",r.serialization.registerClass(nu);var ru=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){return r.tanh(e)}}]),t}(qs);ru.className="tanh",r.serialization.registerClass(ru);var au=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return r.softmax(e,t)}}]),t}(qs);au.className="softmax",r.serialization.registerClass(au);var iu=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return r.logSoftmax(e,t)}}]),t}(qs);iu.className="logSoftmax",r.serialization.registerClass(iu);var ou=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(r.tidy)((function(){return r.mul(r.sigmoid(r.mul(e,t)),e)}))}}]),t}(qs);ou.className="swish",r.serialization.registerClass(ou);var su=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){return Object(r.tidy)((function(){return r.mul(e,r.tanh(r.softplus(e)))}))}}]),t}(qs);function uu(e){return e.getClassName()}function cu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return xa(e,r.serialization.SerializationMap.getMap().classNameMap,t,"activation")}function lu(e){if(null==e){var t={className:"linear",config:{}};return cu(t)}if("string"===typeof e){var n={};return n.className=e,n.config={},cu(n)}return e instanceof qs?e:cu(e)}function du(e){if(null!=e&&"object"!==typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an "+"object, but received: ".concat(e))}su.className="mish",r.serialization.registerClass(su);var pu=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),t}(r.serialization.Serializable),fu=function(e){function t(e){var n;return Object(Zr.a)(this,t),n=Object(Jr.a)(this,Object(ea.a)(t).call(this)),du(e),n.l1=null==e||null==e.l1?.01:e.l1,n.l2=null==e||null==e.l2?.01:e.l2,n.hasL1=0!==n.l1,n.hasL2=0!==n.l2,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e){var t=this;return Object(r.tidy)((function(){var n=Object(r.zeros)([1]);return t.hasL1&&(n=Object(r.add)(n,Object(r.sum)(r.mul(t.l1,Object(r.abs)(e))))),t.hasL2&&(n=Object(r.add)(n,Object(r.sum)(r.mul(t.l2,pi(e))))),r.reshape(n,[])}))}},{key:"getConfig",value:function(){return{l1:this.l1,l2:this.l2}}}],[{key:"fromConfig",value:function(e,t){return new e({l1:t.l1,l2:t.l2})}}]),t}(pu);fu.className="L1L2",r.serialization.registerClass(fu);var hu={l1l2:"L1L2"};function mu(e){return _a(e)}function vu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return xa(e,r.serialization.SerializationMap.getMap().classNameMap,t,"regularizer")}function bu(e){return null==e?null:"string"===typeof e?vu({className:e in hu?hu[e]:e,config:{}}):e instanceof pu?e:vu(e)}var gu=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,null==e?{}:e))).supportsMasking=!0,null!=e&&(n.maxValue=e.maxValue),n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"call",value:function(e,t){e=Ui(e);var n=Object(r.relu)(e);return null!=this.maxValue&&(n=Object(r.clipByValue)(n,0,this.maxValue)),n}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={maxValue:this.maxValue},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);gu.className="ReLU",r.serialization.registerClass(gu);var yu=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,null==e?{}:e))).DEFAULT_ALPHA=.3,null==e&&(e={}),n.alpha=null==e.alpha?n.DEFAULT_ALPHA:e.alpha,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"call",value:function(e,t){var n=Ui(e);return Object(r.leakyRelu)(n,this.alpha)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);yu.className="LeakyReLU",r.serialization.registerClass(yu);var _u=function(e){function t(e){var n;if(Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,null==e?{}:e))).DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),n.supportsMasking=!0,n.alphaInitializer=zi(e.alphaInitializer||n.DEFAULT_ALPHA_INITIALIZER),n.alphaRegularizer=bu(e.alphaRegularizer),n.alphaConstraint=_o(e.alphaConstraint),null==e.sharedAxes)n.sharedAxes=null;else if(Array.isArray(e.sharedAxes))n.sharedAxes=e.sharedAxes;else{if("number"!==typeof e.sharedAxes)throw new ua("Expected sharedAxes to be a number or an array of numbers, "+"but got ".concat(e.sharedAxes));n.sharedAxes=[e.sharedAxes]}return n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){var t=(e=Wi(e)).slice(1);if(null!=this.sharedAxes){var n=!0,r=!1,a=void 0;try{for(var i,o=this.sharedAxes[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){t[i.value-1]=1}}catch(c){r=!0,a=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}}this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var s={};if(null!=this.sharedAxes)for(var u=1;u<e.length;++u)s[u]=e[u];this.inputSpec=[new Xi({ndim:e.length,axes:s})],this.built=!0}},{key:"call",value:function(e,t){return e=Ui(e),Object(r.prelu)(e,this.alpha.read())}},{key:"getConfig",value:function(){var e={alphaInitializer:Pi(this.alphaInitializer),alphaRegularizer:mu(this.alphaRegularizer),alphaConstraint:go(this.alphaConstraint),sharedAxes:this.sharedAxes},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);_u.className="PReLU",r.serialization.registerClass(_u);var xu=function(e){function t(e){var n;if(Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,null==e?{}:e))).DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==n.DEFAULT_ALPHA)throw new ca("Non-default alpha value (".concat(e.alpha,") is not supported by the ")+"ELU layer yet.");return n.alpha=null==e.alpha?n.DEFAULT_ALPHA:e.alpha,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"call",value:function(e,t){var n=Ui(e);return Object(r.elu)(n)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);xu.className="ELU",r.serialization.registerClass(xu);var ku=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,null==e?{}:e))).DEFAULT_THETA=1,null==e&&(e={}),n.theta=null==e.theta?n.DEFAULT_THETA:e.theta,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"call",value:function(e,t){var n=Ui(e);return Object(r.mul)(n,Object(r.cast)(Object(r.greater)(n,this.theta),"float32"))}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={theta:this.theta},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);ku.className="ThresholdedReLU",r.serialization.registerClass(ku);var wu=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,null==e?{}:e))).DEFAULT_AXIS=1,null==e&&(e={}),n.softmax=(new au).apply,n.axis=null==e.axis?n.DEFAULT_AXIS:e.axis,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"call",value:function(e,t){var n=Ui(e);return this.softmax(n,this.axis)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={axis:this.axis},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);wu.className="Softmax",r.serialization.registerClass(wu);var Ou=n(38);function ju(e,t,n){if("number"===typeof e)return pa(e,t);if(e.length!==t)throw new ua("The ".concat(n," argument must be an integer or tuple of ").concat(t," integers.")+" Received: ".concat(e.length," elements."));for(var r=0;r<t;++r){var a=e[r];if((i=a)!==parseInt(i.toString(),10))throw new ua("The ".concat(n," argument must be an integer or tuple of ").concat(t)+" integers. Received: ".concat(JSON.stringify(e)," including a")+" non-integer number ".concat(a))}return e;var i}function Su(e,t,n,r){var a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return null==e?e:(a="same"===n?e:e-(t+(t-1)*(i-1))+1,Math.floor((a+r-1)/r))}function Cu(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+Qa([n-t,0]);else{if("same"!==r)throw new ua("Unsupport padding mode: ".concat(r,"."));e*=t}return e}function Tu(e,t){return Object(r.tidy)((function(){return za(t),"channelsFirst"===t?r.transpose(e,[0,2,3,1]):e}))}function Nu(e,t){return Object(r.tidy)((function(){return za(t),"channelsFirst"===t?r.transpose(e,[0,2,3,4,1]):e}))}function Eu(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return Object(r.tidy)((function(){if(null==o&&(o="channelsLast"),za(o),3!==e.shape.length)throw new ua("The input of a conv1dWithBias operation should be 3, but is "+"".concat(e.shape.length," instead."));if(3!==t.shape.length)throw new ua("The kernel for a conv1dWithBias operation should be 3, but is "+"".concat(t.shape.length," instead"));if(null!=n&&1!==n.shape.length)throw new ua("The bias for a conv1dWithBias operation should be 1, but is "+"".concat(t.shape.length," instead"));if("channelsFirst"===o&&(e=r.transpose(e,[0,2,1])),"causal"===i)throw new ca("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var u=r.conv1d(e,t,a,"same"===i?"same":"valid","NWC",s);return null!=n&&(u=hi(u,n)),u}))}function Iu(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return Object(r.tidy)((function(){if(null==o&&(o="channelsLast"),za(o),3!==e.rank&&4!==e.rank)throw new ua("conv2dWithBiasActivation expects input to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));if(3!==t.rank&&4!==t.rank)throw new ua("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));var c=Tu(e,o);if("causal"===i)throw new ca("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return c=r.fused.conv2d({x:c,filter:t,strides:a,pad:"same"===i?"same":"valid",dilations:s,dataFormat:"NHWC",bias:n,activation:u}),"channelsFirst"===o&&(c=r.transpose(c,[0,3,1,2])),c}))}function Au(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;return Object(r.tidy)((function(){if(null==o&&(o="channelsLast"),za(o),4!==e.rank&&5!==e.rank)throw new ua("conv3dWithBias expects input to be of rank 4 or 5, but received "+"".concat(e.rank,"."));if(4!==t.rank&&5!==t.rank)throw new ua("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+"".concat(e.rank,"."));var u=Nu(e,o);if("causal"===i)throw new ca("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return u=r.conv3d(u,t,a,"same"===i?"same":"valid","NDHWC",s),null!=n&&(u=hi(u,n)),"channelsFirst"===o&&(u=r.transpose(u,[0,4,1,2,3])),u}))}var Ru=function(e){function t(e,n){var r;if(Object(Zr.a)(this,t),(r=Object(Jr.a)(this,Object(ea.a)(t).call(this,n))).bias=null,r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_BIAS_INITIALIZER="zeros",t.verifyArgs(n),r.rank=e,Ca(r.rank,"rank"),1!==r.rank&&2!==r.rank&&3!==r.rank)throw new ca("Convolution layer for rank other than 1, 2, or 3 (".concat(r.rank,") is ")+"not implemented yet.");if(r.kernelSize=ju(n.kernelSize,e,"kernelSize"),r.strides=ju(null==n.strides?1:n.strides,e,"strides"),r.padding=null==n.padding?"valid":n.padding,Ba(r.padding),r.dataFormat=null==n.dataFormat?"channelsLast":n.dataFormat,za(r.dataFormat),r.activation=lu(n.activation),r.useBias=null==n.useBias||n.useBias,r.biasInitializer=zi(n.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.biasConstraint=_o(n.biasConstraint),r.biasRegularizer=bu(n.biasRegularizer),r.activityRegularizer=bu(n.activityRegularizer),r.dilationRate=ju(null==n.dilationRate?1:n.dilationRate,e,"dilationRate"),1===r.rank&&Array.isArray(r.dilationRate)&&1!==r.dilationRate.length)throw new ua("dilationRate must be a number or an array of a single number for 1D convolution, but received "+"".concat(JSON.stringify(r.dilationRate)));if(2===r.rank){if("number"===typeof r.dilationRate)r.dilationRate=[r.dilationRate,r.dilationRate];else if(2!==r.dilationRate.length)throw new ua("dilationRate must be a number or array of two numbers for 2D "+"convolution, but received ".concat(JSON.stringify(r.dilationRate)))}else if(3===r.rank)if("number"===typeof r.dilationRate)r.dilationRate=[r.dilationRate,r.dilationRate,r.dilationRate];else if(3!==r.dilationRate.length)throw new ua("dilationRate must be a number or array of three numbers for 3D "+"convolution, but received ".concat(JSON.stringify(r.dilationRate)));return r}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getConfig",value:function(){var e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:uu(this.activation),useBias:this.useBias,biasInitializer:Pi(this.biasInitializer),biasRegularizer:mu(this.biasRegularizer),activityRegularizer:mu(this.activityRegularizer),biasConstraint:go(this.biasConstraint)},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}],[{key:"verifyArgs",value:function(e){if(fa("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!==typeof e.kernelSize&&!Sa(e.kernelSize,"number",1,3))throw new ua("BaseConv expects config.kernelSize to be number or number[] with "+"length 1, 2, or 3, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),t}(eo),Du=function(e){function t(e,n){var r;return Object(Zr.a)(this,t),(r=Object(Jr.a)(this,Object(ea.a)(t).call(this,e,n))).kernel=null,t.verifyArgs(n),r.filters=n.filters,Ca(r.filters,"filters"),r.kernelInitializer=zi(n.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.kernelConstraint=_o(n.kernelConstraint),r.kernelRegularizer=bu(n.kernelRegularizer),r}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){e=Wi(e);var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new ua("The channel dimension of the input should be defined. "+"Found ".concat(e[t]));var n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:Object(Ou.a)({},t,n)}],this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){var t;e=Ui(e);var r=null==n.bias?null:n.bias.read(),a=Ta(n.activation.getClassName());if(null!=a&&2===n.rank)t=Iu(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate,a);else{if(1===n.rank)t=Eu(e,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)t=Iu(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new ca("convolutions greater than 3D are not implemented yet.");t=Au(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate)}null!=n.activation&&(t=n.activation.apply(t))}return t}))}},{key:"computeOutputShape",value:function(e){e=Wi(e);for(var t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var a=Su(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"===typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(a)}var i=[e[0]];return"channelsLast"===this.dataFormat?(i=i.concat(t)).push(this.filters):(i.push(this.filters),i=i.concat(t)),i}},{key:"getConfig",value:function(){var e={filters:this.filters,kernelInitializer:Pi(this.kernelInitializer),kernelRegularizer:mu(this.kernelRegularizer),kernelConstraint:go(this.kernelConstraint)},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}],[{key:"verifyArgs",value:function(e){if(!("filters"in e)||"number"!==typeof e.filters||e.filters<1)throw new ua("Convolution layer expected config.filters to be a 'number' > 0 "+"but got ".concat(JSON.stringify(e.filters)))}}]),t}(Ru),Mu=function(e){function t(e){var n;return Object(Zr.a)(this,t),n=Object(Jr.a)(this,Object(ea.a)(t).call(this,2,e)),t.verifyArgs(e),n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getConfig",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!Sa(e.kernelSize,"number",1,2))throw new ua("Conv2D expects config.kernelSize to be number or number[] with "+"length 1 or 2, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),t}(Du);Mu.className="Conv2D",r.serialization.registerClass(Mu);var Fu=function(e){function t(e){var n;return Object(Zr.a)(this,t),n=Object(Jr.a)(this,Object(ea.a)(t).call(this,3,e)),t.verifyArgs(e),n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getConfig",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new ua("Conv3D expects config.kernelSize to be number or"+" [number, number, number], but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),t}(Du);Fu.className="Conv3D",r.serialization.registerClass(Fu);var Lu=function(e){function t(e){var n;if(Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).inputSpec=[new Xi({ndim:4})],"same"!==n.padding&&"valid"!==n.padding)throw new ua("Conv2DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(n.padding));return n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){if(4!==(e=Wi(e)).length)throw new ua("Input should have rank 4; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new ua("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Xi({ndim:4,axes:Object(Ou.a)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return r.tidy((function(){var t=Ui(e);if(4!==t.shape.length)throw new ua("Conv2DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));var a,i,o=t.shape,s=o[0];"channelsFirst"===n.dataFormat?(a=2,i=3):(a=1,i=2);var u=o[a],c=o[i],l=n.kernelSize[0],d=n.kernelSize[1],p=n.strides[0],f=n.strides[1],h=[s,Cu(u,p,l,n.padding),Cu(c,f,d,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=r.transpose(t,[0,2,3,1]));var m=r.conv2dTranspose(t,n.kernel.read(),h,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(m=r.transpose(m,[0,3,1,2])),null!=n.bias&&(m=hi(m,n.bias.read(),n.dataFormat)),null!=n.activation&&(m=n.activation.apply(m)),m}))}},{key:"computeOutputShape",value:function(e){var t,n,r,a=(e=Wi(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var i=this.kernelSize[0],o=this.kernelSize[1],s=this.strides[0],u=this.strides[1];return a[t]=this.filters,a[n]=Cu(a[n],s,i,this.padding),a[r]=Cu(a[r],u,o,this.padding),a}},{key:"getConfig",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),t}(Mu);Lu.className="Conv2DTranspose",r.serialization.registerClass(Lu);var Pu=function(e){function t(e){var n;if(Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).inputSpec=[new Xi({ndim:5})],"same"!==n.padding&&"valid"!==n.padding)throw new ua("Conv3DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(n.padding));return n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){if(5!==(e=Wi(e)).length)throw new ua("Input should have rank 5; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new ua("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Xi({ndim:5,axes:Object(Ou.a)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return r.tidy((function(){var t=Ui(e);if(5!==t.shape.length)throw new ua("Conv3DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));var a,i,o,s=t.shape,u=s[0];"channelsFirst"===n.dataFormat?(o=2,a=3,i=4):(o=1,a=2,i=3);var c=s[o],l=s[a],d=s[i],p=n.kernelSize[0],f=n.kernelSize[1],h=n.kernelSize[2],m=n.strides[0],v=n.strides[1],b=n.strides[2],g=[u,Cu(c,m,p,n.padding),Cu(l,v,f,n.padding),Cu(d,b,h,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=r.transpose(t,[0,2,3,4,1]));var y=r.conv3dTranspose(t,n.kernel.read(),g,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(y=r.transpose(y,[0,4,1,2,3])),null!==n.bias&&(y=hi(y,n.bias.read(),n.dataFormat)),null!==n.activation&&(y=n.activation.apply(y)),y}))}},{key:"computeOutputShape",value:function(e){var t,n,r,a,i=(e=Wi(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3,a=4):(t=4,n=1,r=2,a=3);var o=this.kernelSize[0],s=this.kernelSize[1],u=this.kernelSize[2],c=this.strides[0],l=this.strides[1],d=this.strides[2];return i[t]=this.filters,i[n]=Cu(i[n],c,o,this.padding),i[r]=Cu(i[r],l,s,this.padding),i[a]=Cu(i[a],d,u,this.padding),i}},{key:"getConfig",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),t}(Fu);Pu.className="Conv3DTranspose",r.serialization.registerClass(Pu);var zu=function(e){function t(e,n){var r;if(Object(Zr.a)(this,t),(r=Object(Jr.a)(this,Object(ea.a)(t).call(this,e,n))).DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",r.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",r.depthwiseKernel=null,r.pointwiseKernel=null,null==n.filters)throw new ua("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=n.kernelInitializer||null!=n.kernelRegularizer||null!=n.kernelConstraint)throw new ua("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=n.padding&&"same"!==n.padding&&"valid"!==n.padding)throw new ua("SeparableConv".concat(r.rank,"D supports only padding modes: ")+"'same' and 'valid', but received ".concat(JSON.stringify(n.padding)));return r.depthMultiplier=null==n.depthMultiplier?1:n.depthMultiplier,r.depthwiseInitializer=zi(n.depthwiseInitializer||r.DEFAULT_DEPTHWISE_INITIALIZER),r.depthwiseRegularizer=bu(n.depthwiseRegularizer),r.depthwiseConstraint=_o(n.depthwiseConstraint),r.pointwiseInitializer=zi(n.depthwiseInitializer||r.DEFAULT_POINTWISE_INITIALIZER),r.pointwiseRegularizer=bu(n.pointwiseRegularizer),r.pointwiseConstraint=_o(n.pointwiseConstraint),r}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){if((e=Wi(e)).length<this.rank+2)throw new ua("Inputs to SeparableConv".concat(this.rank,"D should have rank ")+"".concat(this.rank+2,", but received input shape: ")+"".concat(JSON.stringify(e)));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new ua("The channel dimension of the inputs should be defined, "+"but found ".concat(JSON.stringify(e[t])));for(var n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),a=[],i=0;i<this.rank;++i)a.push(1);a.push(n*this.depthMultiplier,this.filters);this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,!0,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.inputSpec=[new Xi({ndim:this.rank+2,axes:Object(Ou.a)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){var t;if(e=Ui(e),1===n.rank)throw new ca("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(e=r.transpose(e,[0,2,3,1])),t=r.separableConv2d(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(t=hi(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),"channelsFirst"===n.dataFormat&&(t=r.transpose(t,[0,3,1,2])),t}))}},{key:"getConfig",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=Pi(this.depthwiseInitializer),e.pointwiseInitializer=Pi(this.pointwiseInitializer),e.depthwiseRegularizer=mu(this.depthwiseRegularizer),e.pointwiseRegularizer=mu(this.pointwiseRegularizer),e.depthwiseConstraint=go(this.depthwiseConstraint),e.pointwiseConstraint=go(this.pointwiseConstraint),e}}]),t}(Du);zu.className="SeparableConv";var Bu=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,2,e))}return Object(na.a)(t,e),t}(zu);Bu.className="SeparableConv2D",r.serialization.registerClass(Bu);var Vu=function(e){function t(e){var n;return Object(Zr.a)(this,t),n=Object(Jr.a)(this,Object(ea.a)(t).call(this,1,e)),t.verifyArgs(e),n.inputSpec=[{ndim:3}],n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getConfig",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return delete e.rank,delete e.dataFormat,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!Sa(e.kernelSize,"number",1,1))throw new ua("Conv1D expects config.kernelSize to be number or number[] with "+"length 1, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),t}(Du);Vu.className="Conv1D",r.serialization.registerClass(Vu);var Uu=function(e){function t(e){var n;return Object(Zr.a)(this,t),n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e)),"number"===typeof e.cropping?n.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"===typeof e.cropping[0]?n.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:n.cropping=e.cropping,n.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,n.inputSpec=[{ndim:4}],n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"computeOutputShape",value:function(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){if(e=Ui(e),"channelsLast"===n.dataFormat){var t=ii(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2);return ii(t,n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3)}var r=ii(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3);return ii(r,n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)}))}},{key:"getConfig",value:function(){var e={cropping:this.cropping,dataFormat:this.dataFormat},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);Uu.className="Cropping2D",r.serialization.registerClass(Uu);var Wu=function(e){function t(e){var n,r;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).DEFAULT_SIZE=[2,2],n.inputSpec=[{ndim:4}],n.size=null==e.size?n.DEFAULT_SIZE:e.size,n.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,za(n.dataFormat),n.interpolation=null==e.interpolation?"nearest":e.interpolation,r=n.interpolation,ja(Da,"InterpolationFormat",r),n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"computeOutputShape",value:function(e){if("channelsFirst"===this.dataFormat){var t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}var r=null==e[1]?null:this.size[0]*e[1],a=null==e[2]?null:this.size[1]*e[2];return[e[0],r,a,e[3]]}},{key:"call",value:function(e,t){var n=this;return r.tidy((function(){var t=Ui(e),a=t.shape;if("channelsFirst"===n.dataFormat){t=r.transpose(t,[0,2,3,1]);var i=n.size[0]*a[2],o=n.size[1]*a[3],s="nearest"===n.interpolation?r.image.resizeNearestNeighbor(t,[i,o]):r.image.resizeBilinear(t,[i,o]);return r.transpose(s,[0,3,1,2])}var u=n.size[0]*a[1],c=n.size[1]*a[2];return"nearest"===n.interpolation?r.image.resizeNearestNeighbor(t,[u,c]):r.image.resizeBilinear(t,[u,c])}))}},{key:"getConfig",value:function(){var e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);Wu.className="UpSampling2D",r.serialization.registerClass(Wu);var Hu=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,2,e))).depthwiseKernel=null,n.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,n.depthwiseInitializer=zi(e.depthwiseInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.depthwiseConstraint=_o(e.depthwiseConstraint),n.depthwiseRegularizer=bu(e.depthwiseRegularizer),n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){if((e=Wi(e)).length<4)throw new ua("Inputs to DepthwiseConv2D should have rank 4. "+"Received input shape: ".concat(JSON.stringify(e),"."));var t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new ua("The channel dimension of the inputs to DepthwiseConv2D should "+"be defined, but is not (".concat(e[t],")."));var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){var t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return Object(r.tidy)((function(){null==i&&(i="channelsLast"),za(i);var s=Tu(e,i);if(4!==e.rank)throw new ua("Input for depthwiseConv2d is required to be 4-D, but is instead "+"".concat(e.rank,"-D"));if(4!==t.rank)throw new ua("depthwiseKernel is required to be 4-D, but is instead "+"".concat(t.rank,"-D"));return s=r.depthwiseConv2d(s,t,n,"same"===a?"same":"valid","NHWC",o),"channelsFirst"===i&&(s=r.transpose(s,[0,3,1,2])),s}))}(e=Ui(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(t=hi(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t}))}},{key:"computeOutputShape",value:function(e){e=Wi(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=Su(t,this.kernelSize[0],this.padding,this.strides[0]),i=Su(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,a,i]:[e[0],a,i,r]}},{key:"getConfig",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=Pi(this.depthwiseInitializer),e.depthwiseRegularizer=mu(this.depthwiseRegularizer),e.depthwiseConstraint=go(this.depthwiseRegularizer),e}}]),t}(Ru);function Gu(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new ua("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function a(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=a(t),constants:n=a(n)}}function $u(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return r.tidy((function(){var c=t.shape.length;if(c<3)throw new ua("Input should be at least 3D, but is ".concat(c,"D."));var l=[1,0].concat(Ja(2,c));if(t=r.transpose(t,l),null!=o)throw new ca("The rnn() functoin of the deeplearn.js backend does not support constants yet.");s&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=i&&((i=r.cast(r.cast(i,"bool"),"float32")).rank===c-1&&(i=r.expandDims(i,-1)),i=r.transpose(i,l)),a&&(t=r.reverse(t,0),null!=i&&(i=r.reverse(i,0)));var d,p,f=[],h=n,m=t.shape[0],v=r.unstack(t);null!=i&&(p=r.unstack(i));for(var b,g=function(t){var n=v[t],a=r.tidy((function(){return e(n,h)}));if(null==i)d=a[0],h=a[1];else{var o=r.tidy((function(){var e=p[t],n=r.sub(r.onesLike(e),e);return{output:r.add(r.mul(a[0],e),r.mul(h[0],n)),newStates:h.map((function(t,i){return r.add(r.mul(a[1][i],e),r.mul(t,n))}))}}));d=o.output,h=o.newStates}u&&f.push(d)},y=0;y<m;++y)g(y);if(u){b=r.stack(f,1)}return[d,b,h]}))}Hu.className="DepthwiseConv2D",r.serialization.registerClass(Hu);var qu=function(e){function t(e){var n,r;if(Object(Zr.a)(this,t),n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e)),null==e.cell)throw new ua("cell property is missing for the constructor of RNN.");if(null==(r=Array.isArray(e.cell)?new tc({cells:e.cell}):e.cell).stateSize)throw new ua("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return n.cell=r,n.returnSequences=null!=e.returnSequences&&e.returnSequences,n.returnState=null!=e.returnState&&e.returnState,n.goBackwards=null!=e.goBackwards&&e.goBackwards,n._stateful=null!=e.stateful&&e.stateful,n.unroll=null!=e.unroll&&e.unroll,n.supportsMasking=!0,n.inputSpec=[new Xi({ndim:3})],n.stateSpec=null,n.states_=null,n.numConstants=null,n.keptStates=[],n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getStates",value:function(){return null==this.states_?Ja(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((function(e){return null})):this.states_}},{key:"setStates",value:function(e){this.states_=e}},{key:"computeOutputShape",value:function(e){Bi(e)&&(e=e[0]),e=e;var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){var a=[],i=!0,o=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;a.push([e[0],l])}}catch(d){o=!0,s=d}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return[n].concat(a)}return n}},{key:"computeMask",value:function(e,t){var n=this;return r.tidy((function(){Array.isArray(t)&&(t=t[0]);var e=n.returnSequences?t:null;if(n.returnState){var r=n.states.map((function(e){return null}));return[e].concat(r)}return e}))}},{key:"build",value:function(e){if(null!=this.numConstants)throw new ca("Constants support is not implemented in RNN yet.");Bi(e)&&(e=e[0]),e=e;var t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new Xi({shape:[t,null].concat(Object(Gn.a)(n))});var a,i=[e[0]].concat(e.slice(2));if(this.cell.build(i),a=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!r.util.arraysEqual(this.stateSpec.map((function(e){return e.shape[e.shape.length-1]})),a))throw new ua("An initialState was passed that is not compatible with "+"cell.stateSize. Received stateSpec=".concat(this.stateSpec,"; ")+"However cell.stateSize is ".concat(this.cell.stateSize))}else this.stateSpec=a.map((function(e){return new Xi({shape:[null,e]})}));this.stateful&&this.resetStates()}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(r.tidy)((function(){if(!t.stateful)throw new oa("Cannot call resetStates() on an RNN Layer that is not stateful.");var a=t.inputSpec[0].shape[0];if(null==a)throw new ua("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.states_)Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return r.zeros([a,e])})):t.states_=[r.zeros([a,t.cell.stateSize])];else if(null==e)r.dispose(t.states_),null!=t.keptStates&&(r.dispose(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return r.zeros([a,e])})):t.states_[0]=r.zeros([a,t.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new ua("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));!0===n?t.keptStates.push(t.states_.slice()):r.dispose(t.states_);for(var i=0;i<t.states_.length;++i){var o=e[i],s=Array.isArray(t.cell.stateSize)?t.cell.stateSize[i]:t.cell.stateSize,u=[a,s];if(!r.util.arraysEqual(o.shape,u))throw new ua("State ".concat(i," is incompatible with layer ").concat(t.name,": ")+"expected shape=".concat(u,", received shape=").concat(o.shape));t.states_[i]=o}}t.states_=t.states_.map((function(e){return r.keep(e.clone())}))}))}},{key:"apply",value:function(e,n){var r=null==n?null:n.initialState,a=null==n?null:n.constants;null==n&&(n={});var i=Gu(e,r,a,this.numConstants);e=i.inputs,r=i.initialState,a=i.constants;var o=[],s=[];if(null!=r){n.initialState=r,o=o.concat(r),this.stateSpec=[];var u=!0,c=!1,l=void 0;try{for(var d,p=r[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var f=d.value;this.stateSpec.push(new Xi({shape:f.shape}))}}catch(g){c=!0,l=g}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}s=s.concat(this.stateSpec)}if(null!=a&&(n.constants=a,o=o.concat(a),this.numConstants=a.length),o[0]instanceof Yi){var h=[e].concat(o),m=this.inputSpec.concat(s),v=this.inputSpec;this.inputSpec=m;var b=Object(Lo.a)(Object(ea.a)(t.prototype),"apply",this).call(this,h,n);return this.inputSpec=v,b}return Object(Lo.a)(Object(ea.a)(t.prototype),"apply",this).call(this,e,n)}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){var r=null==t?null:t.mask,a=null==t?null:t.training,i=null==t?null:t.initialState;e=Ui(e),null==i&&(i=n.stateful?n.states_:n.getInitialState(e));var o=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(i.length!==o)throw new ua("RNN Layer has ".concat(o," state(s) but was passed ")+"".concat(i.length," initial state(s)."));n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var s={training:a},u=$u((function(e,t){var r=n.cell.call([e].concat(t),s);return[r[0],r.slice(1)]}),e,i,n.goBackwards,r,null,n.unroll,n.returnSequences),c=u[0],l=u[1],d=u[2];n.stateful&&n.resetStates(d,a);var p=n.returnSequences?l:c;return n.returnState?[p].concat(d):p}))}},{key:"getInitialState",value:function(e){var t=this;return Object(r.tidy)((function(){var n=r.zeros(e.shape);return n=ni(n=r.sum(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map((function(e){return e>1?ui(n,[1,e]):n})):t.cell.stateSize>1?[ui(n,[1,t.cell.stateSize])]:[n]}))}},{key:"setFastWeightInitDuringBuild",value:function(e){Object(Lo.a)(Object(ea.a)(t.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(n.numConstants=this.numConstants);var r=this.cell.getConfig();return this.getClassName()===t.className&&(n.cell={className:this.cell.getClassName(),config:r}),Object.assign(Object.assign(Object.assign({},r),e),n)}},{key:"states",get:function(){if(null==this.states_){for(var e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[],n=0;n<e;++n)t.push(null);return t}return this.states_},set:function(e){this.states_=e}},{key:"trainableWeights",get:function(){return this.trainable?this.cell.trainableWeights:[]}},{key:"nonTrainableWeights",get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.cell,a=Po(r,n);return new e(Object.assign(t,{cell:a}))}}]),t}(eo);qu.className="RNN",r.serialization.registerClass(qu);var Ku=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),t}(eo),Xu=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).DEFAULT_ACTIVATION="tanh",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=e.units,Ca(n.units,"units"),n.activation=lu(null==e.activation?n.DEFAULT_ACTIVATION:e.activation),n.useBias=null==e.useBias||e.useBias,n.kernelInitializer=zi(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=zi(e.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=zi(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=bu(e.kernelRegularizer),n.recurrentRegularizer=bu(e.recurrentRegularizer),n.biasRegularizer=bu(e.biasRegularizer),n.kernelConstraint=_o(e.kernelConstraint),n.recurrentConstraint=_o(e.recurrentConstraint),n.biasConstraint=_o(e.biasConstraint),n.dropout=Za([1,Qa([0,null==e.dropout?0:e.dropout])]),n.recurrentDropout=Za([1,Qa([0,null==e.recurrentDropout?0:e.recurrentDropout])]),n.dropoutFunc=e.dropoutFunc,n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){e=Wi(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){if(2!==(e=e).length)throw new ua("SimpleRNNCell expects 2 input Tensors, got ".concat(e.length,"."));var a=e[1];e=e[0];var i,o=null!=t.training&&t.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=nc({ones:function(){return r.onesLike(e)},rate:n.dropout,training:o,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=nc({ones:function(){return r.onesLike(a)},rate:n.recurrentDropout,training:o,dropoutFunc:n.dropoutFunc}));var s=n.dropoutMask,u=n.recurrentDropoutMask;i=li(null!=s?r.mul(e,s):e,n.kernel.read()),null!=n.bias&&(i=hi(i,n.bias.read())),null!=u&&(a=r.mul(a,u));var c=r.add(i,li(a,n.recurrentKernel.read()));return null!=n.activation&&(c=n.activation.apply(c)),[c,c]}))}},{key:"getConfig",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this),n={units:this.units,activation:uu(this.activation),useBias:this.useBias,kernelInitializer:Pi(this.kernelInitializer),recurrentInitializer:Pi(this.recurrentInitializer),biasInitializer:Pi(this.biasInitializer),kernelRegularizer:mu(this.kernelRegularizer),recurrentRegularizer:mu(this.recurrentRegularizer),biasRegularizer:mu(this.biasRegularizer),activityRegularizer:mu(this.activityRegularizer),kernelConstraint:go(this.kernelConstraint),recurrentConstraint:go(this.recurrentConstraint),biasConstraint:go(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),n)}}]),t}(Ku);Xu.className="SimpleRNNCell",r.serialization.registerClass(Xu);var Yu=function(e){function t(e){return Object(Zr.a)(this,t),e.cell=new Xu(e),Object(Jr.a)(this,Object(ea.a)(t).call(this,e))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"call",value:function(e,n){var a=this;return Object(r.tidy)((function(){null!=a.cell.dropoutMask&&(r.dispose(a.cell.dropoutMask),a.cell.dropoutMask=null),null!=a.cell.recurrentDropoutMask&&(r.dispose(a.cell.recurrentDropoutMask),a.cell.recurrentDropoutMask=null);var i=null==n?null:n.mask,o=null==n?null:n.training,s=null==n?null:n.initialState;return Object(Lo.a)(Object(ea.a)(t.prototype),"call",a).call(a,e,{mask:i,training:o,initialState:s})}))}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),t}(qu);Yu.className="SimpleRNN",r.serialization.registerClass(Yu);var Zu=function(e){function t(e){var n;if(Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new ua("GRUCell does not support reset_after parameter set to true.");return n.units=e.units,Ca(n.units,"units"),n.activation=lu(void 0===e.activation?n.DEFAULT_ACTIVATION:e.activation),n.recurrentActivation=lu(void 0===e.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),n.useBias=null==e.useBias||e.useBias,n.kernelInitializer=zi(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=zi(e.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=zi(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=bu(e.kernelRegularizer),n.recurrentRegularizer=bu(e.recurrentRegularizer),n.biasRegularizer=bu(e.biasRegularizer),n.kernelConstraint=_o(e.kernelConstraint),n.recurrentConstraint=_o(e.recurrentConstraint),n.biasConstraint=_o(e.biasConstraint),n.dropout=Za([1,Qa([0,null==e.dropout?0:e.dropout])]),n.recurrentDropout=Za([1,Qa([0,null==e.recurrentDropout?0:e.recurrentDropout])]),n.dropoutFunc=e.dropoutFunc,n.implementation=e.implementation,n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){var t=(e=Wi(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){if(2!==(e=e).length)throw new ua("GRUCell expects 2 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var i=null!=t.training&&t.training,o=e[1];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=nc({ones:function(){return r.onesLike(e)},rate:n.dropout,training:i,count:3,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=nc({ones:function(){return r.onesLike(o)},rate:n.recurrentDropout,training:i,count:3,dropoutFunc:n.dropoutFunc}));var s,u,c,l=n.dropoutMask,d=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=r.mul(e,l[0]));var p=li(e,n.kernel.read());n.useBias&&(p=hi(p,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(o=r.mul(o,d[0]));var f=n.recurrentKernel.read(),h=r.split(f,[2*n.units,n.units],f.rank-1),m=Object(a.a)(h,2),v=m[0],b=m[1],g=li(o,v),y=r.split(p,3,p.rank-1),_=Object(a.a)(y,3),x=_[0],k=_[1],w=_[2],O=r.split(g,2,g.rank-1),j=Object(a.a)(O,2),S=j[0],C=j[1];s=n.recurrentActivation.apply(r.add(x,S)),u=n.recurrentActivation.apply(r.add(k,C));var T=li(r.mul(u,o),b);c=n.activation.apply(r.add(w,T));var N=r.add(r.mul(s,o),r.mul(r.add(1,r.neg(s)),c));return[N,N]}))}},{key:"getConfig",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this),n={units:this.units,activation:uu(this.activation),recurrentActivation:uu(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Pi(this.kernelInitializer),recurrentInitializer:Pi(this.recurrentInitializer),biasInitializer:Pi(this.biasInitializer),kernelRegularizer:mu(this.kernelRegularizer),recurrentRegularizer:mu(this.recurrentRegularizer),biasRegularizer:mu(this.biasRegularizer),activityRegularizer:mu(this.activityRegularizer),kernelConstraint:go(this.kernelConstraint),recurrentConstraint:go(this.recurrentConstraint),biasConstraint:go(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),n)}}]),t}(Ku);Zu.className="GRUCell",r.serialization.registerClass(Zu);var Qu=function(e){function t(e){return Object(Zr.a)(this,t),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Zu(e),Object(Jr.a)(this,Object(ea.a)(t).call(this,e))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"call",value:function(e,n){var a=this;return Object(r.tidy)((function(){null!=a.cell.dropoutMask&&(r.dispose(a.cell.dropoutMask),a.cell.dropoutMask=null),null!=a.cell.recurrentDropoutMask&&(r.dispose(a.cell.recurrentDropoutMask),a.cell.recurrentDropoutMask=null);var i=null==n?null:n.mask,o=null==n?null:n.training,s=null==n?null:n.initialState;return Object(Lo.a)(Object(ea.a)(t.prototype),"call",a).call(a,e,{mask:i,training:o,initialState:s})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),t}(qu);Qu.className="GRU",r.serialization.registerClass(Qu);var Ju=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=e.units,Ca(n.units,"units"),n.activation=lu(void 0===e.activation?n.DEFAULT_ACTIVATION:e.activation),n.recurrentActivation=lu(void 0===e.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),n.useBias=null==e.useBias||e.useBias,n.kernelInitializer=zi(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=zi(e.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=zi(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.unitForgetBias=e.unitForgetBias,n.kernelRegularizer=bu(e.kernelRegularizer),n.recurrentRegularizer=bu(e.recurrentRegularizer),n.biasRegularizer=bu(e.biasRegularizer),n.kernelConstraint=_o(e.kernelConstraint),n.recurrentConstraint=_o(e.recurrentConstraint),n.biasConstraint=_o(e.biasConstraint),n.dropout=Za([1,Qa([0,null==e.dropout?0:e.dropout])]),n.recurrentDropout=Za([1,Qa([0,null==e.recurrentDropout?0:e.recurrentDropout])]),n.dropoutFunc=e.dropoutFunc,n.implementation=e.implementation,n.stateSize=[n.units,n.units],n.dropoutMask=null,n.recurrentDropoutMask=null,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){var t,n,r=(e=Wi(e))[e.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var a=this.biasInitializer,i=this.units;n=new((t=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e,t){var n=a.apply([i]),r=(new ki).apply([i]),o=a.apply([2*i]);return si(si(n,r),o)}}]),t}(_i)).className="CustomInit",t)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){var i=null!=t.training&&t.training;if(3!==(e=e).length)throw new ua("LSTMCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var o=e[1],s=e[2];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=nc({ones:function(){return r.onesLike(e)},rate:n.dropout,training:i,count:4,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=nc({ones:function(){return r.onesLike(o)},rate:n.recurrentDropout,training:i,count:4,dropoutFunc:n.dropoutFunc}));var u,c,l,d,p=n.dropoutMask,f=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=r.mul(e,p[0]));var h=li(e,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(o=r.mul(o,f[0])),h=r.add(h,li(o,n.recurrentKernel.read())),n.useBias&&(h=hi(h,n.bias.read()));var m=r.split(h,4,h.rank-1),v=Object(a.a)(m,4),b=v[0],g=v[1],y=v[2],_=v[3];u=n.recurrentActivation.apply(b),c=n.recurrentActivation.apply(g),l=r.add(r.mul(c,s),r.mul(u,n.activation.apply(y))),d=n.recurrentActivation.apply(_);var x=r.mul(d,n.activation.apply(l));return[x,x,l]}))}},{key:"getConfig",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this),n={units:this.units,activation:uu(this.activation),recurrentActivation:uu(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Pi(this.kernelInitializer),recurrentInitializer:Pi(this.recurrentInitializer),biasInitializer:Pi(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:mu(this.kernelRegularizer),recurrentRegularizer:mu(this.recurrentRegularizer),biasRegularizer:mu(this.biasRegularizer),activityRegularizer:mu(this.activityRegularizer),kernelConstraint:go(this.kernelConstraint),recurrentConstraint:go(this.recurrentConstraint),biasConstraint:go(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),n)}}]),t}(Ku);Ju.className="LSTMCell",r.serialization.registerClass(Ju);var ec=function(e){function t(e){return Object(Zr.a)(this,t),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Ju(e),Object(Jr.a)(this,Object(ea.a)(t).call(this,e))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"call",value:function(e,n){var a=this;return Object(r.tidy)((function(){null!=a.cell.dropoutMask&&(r.dispose(a.cell.dropoutMask),a.cell.dropoutMask=null),null!=a.cell.recurrentDropoutMask&&(r.dispose(a.cell.recurrentDropoutMask),a.cell.recurrentDropoutMask=null);var i=null==n?null:n.mask,o=null==n?null:n.training,s=null==n?null:n.initialState;return Object(Lo.a)(Object(ea.a)(t.prototype),"call",a).call(a,e,{mask:i,training:o,initialState:s})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),t}(qu);ec.className="LSTM",r.serialization.registerClass(ec);var tc=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).cells=e.cells,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){var r=(e=e).slice(1),a=[],i=!0,o=!1,s=void 0;try{for(var u,c=n.cells.slice().reverse()[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;Array.isArray(l.stateSize)?a.push(r.splice(0,l.stateSize.length)):a.push(r.splice(0,1))}}catch(k){o=!0,s=k}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}a.reverse();for(var d,p=[],f=0;f<n.cells.length;++f){var h=n.cells[f];r=a[f],d=0===f?[e[0]].concat(r):[d[0]].concat(r),d=h.call(d,t),p.push(d.slice(1))}r=[];var m=!0,v=!1,b=void 0;try{for(var g,y=p.slice().reverse()[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){var _,x=g.value;(_=r).push.apply(_,Object(Gn.a)(x))}}catch(k){v=!0,b=k}finally{try{m||null==y.return||y.return()}finally{if(v)throw b}}return[d[0]].concat(r)}))}},{key:"build",value:function(e){var t;Bi(e)&&(e=e[0]),e=e,this.cells.forEach((function(n,r){Ha("RNNCell_".concat(r),(function(){n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}},{key:"getConfig",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this),n={cells:this.cells.map((function(e){return{className:e.getClassName(),config:e.getConfig()}}))};return Object.assign(Object.assign({},e),n)}},{key:"getWeights",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.cells[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;e.push.apply(e,Object(Gn.a)(o.weights))}}catch(s){n=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return qi(e)}},{key:"setWeights",value:function(e){var t=[],n=!0,r=!1,a=void 0;try{for(var i,o=this.cells[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)for(var s=i.value,u=s.weights.length,c=e.splice(u),l=0;l<s.weights.length;++l)t.push([s.weights[l],c[l]])}catch(d){r=!0,a=d}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}Ki(t)}},{key:"stateSize",get:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.cells.slice().reverse()[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;Array.isArray(o.stateSize)?e.push.apply(e,Object(Gn.a)(o.stateSize)):e.push(o.stateSize)}}catch(s){n=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"trainableWeights",get:function(){if(!this.trainable)return[];var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.cells[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;e.push.apply(e,Object(Gn.a)(o.trainableWeights))}}catch(s){n=!0,r=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"nonTrainableWeights",get:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var a,i=this.cells[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;e.push.apply(e,Object(Gn.a)(o.nonTrainableWeights))}}catch(h){n=!0,r=h}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}if(!this.trainable){var s=[],u=!0,c=!1,l=void 0;try{for(var d,p=this.cells[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var f=d.value;s.push.apply(s,Object(Gn.a)(f.trainableWeights))}}catch(h){c=!0,l=h}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}return s.concat(e)}return e}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],a=!0,i=!1,o=void 0;try{for(var s,u=t.cells[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value;r.push(Po(c,n))}}catch(l){i=!0,o=l}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}return new e({cells:r})}}]),t}(Ku);function nc(e){var t=e.ones,n=e.rate,a=e.training,i=void 0!==a&&a,o=e.count,s=void 0===o?1:o,u=e.dropoutFunc,c=function(){return null!=u?u(t(),n):vi(t(),n)},l=function(){return bi(c,t,i)};return!s||s<=1?r.keep(l().clone()):Array(s).fill(void 0).map(l).map((function(e){return r.keep(e.clone())}))}tc.className="StackedRNNCells",r.serialization.registerClass(tc);var rc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},ac=function(e){function t(e){var n;if(Object(Zr.a)(this,t),e.unroll)throw new ca("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new ca("It is not possible at the moment to stack convolutional cells.");return(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).inputSpec=[new Xi({ndim:5})],n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"call",value:function(e,n){var a=this;return r.tidy((function(){if(null!=a.cell.dropoutMask&&(r.dispose(a.cell.dropoutMask),a.cell.dropoutMask=null),null!=a.cell.recurrentDropoutMask&&(r.dispose(a.cell.recurrentDropoutMask),a.cell.recurrentDropoutMask=null),n&&n.constants)throw new ua("ConvRNN2D cell does not support constants");var i=null==n?null:n.mask,o=null==n?null:n.training,s=null==n?null:n.initialState;return Object(Lo.a)(Object(ea.a)(t.prototype),"call",a).call(a,e,{mask:i,training:o,initialState:s})}))}},{key:"computeOutputShape",value:function(e){var t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0]].concat(Object(Gn.a)(t.slice(2)))),this.returnState&&(t=[t].concat(Object(Gn.a)(Array(2).fill([e[0]].concat(Object(Gn.a)(t.slice(-3))))))),t}},{key:"getInitialState",value:function(e){var t=this;return r.tidy((function(){var n=t.cell.stateSize,a=e.shape,i=t.computeSingleOutputShape(a),o=[i[0]].concat(Object(Gn.a)(i.slice(2))),s=r.zeros(o);return Array.isArray(n)?Array(n.length).fill(s):[s]}))}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.tidy((function(){if(!t.stateful)throw new oa("Cannot call resetStates() on an RNN Layer that is not stateful.");var a=t.inputSpec[0].shape,i=t.computeSingleOutputShape(a),o=[i[0]].concat(Object(Gn.a)(i.slice(2)));if(null==a[0])throw new ua("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.getStates())Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return r.zeros(o)})):t.states_=[r.zeros(o)];else if(null==e)r.dispose(t.states_),null!=t.keptStates&&(r.dispose(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return r.zeros(o)})):t.states_[0]=r.zeros(o);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new ua("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));n?t.keptStates.push(t.states_.slice()):r.dispose(t.states_);for(var s=0;s<t.states_.length;++s){var u=e[s],c=o;if(!r.util.arraysEqual(u.shape,c))throw new ua("State ".concat(s," is incompatible with layer ").concat(t.name,": ")+"expected shape=".concat(c,", received shape=").concat(u.shape));t.states_[s]=u}}t.states_=t.states_.map((function(e){return r.keep(e.clone())}))}))}},{key:"computeSingleOutputShape",value:function(e){var t=this.cell,n=t.dataFormat,r=t.filters,a=t.kernelSize,i=t.padding,o=t.strides,s=t.dilationRate,u="channelsFirst"===n,c=e[u?3:2],l=e[u?4:3],d=Su(c,a[0],i,o[0],s[0]),p=Su(l,a[1],i,o[1],s[1]);return[].concat(Object(Gn.a)(e.slice(0,2)),Object(Gn.a)(u?[r,d,p]:[d,p,r]))}}]),t}(qu);ac.className="ConvRNN2D";var ic=function(e){function t(e){var n;Object(Zr.a)(this,t);var r=e.filters,a=e.kernelSize,i=e.strides,o=e.padding,s=e.dataFormat,u=e.dilationRate;return(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,Object.assign(Object.assign({},e),{units:r})))).filters=r,Ca(n.filters,"filters"),n.kernelSize=ju(a,2,"kernelSize"),n.kernelSize.forEach((function(e){return Ca(e,"kernelSize")})),n.strides=ju(i||1,2,"strides"),n.strides.forEach((function(e){return Ca(e,"strides")})),n.padding=o||"valid",Ba(n.padding),n.dataFormat=s||"channelsLast",za(n.dataFormat),n.dilationRate=ju(u||1,2,"dilationRate"),n.dilationRate.forEach((function(e){return Ca(e,"dilationRate")})),n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){var t;e=Wi(e);var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new ua("The channel dimension of the input should be defined. "+"Found ".concat(e[n]));var a=e[n],i=this.kernelSize.concat([a,4*this.filters]);this.kernel=this.addWeight("kernel",i,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);var o=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",o,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){var s;if(this.unitForgetBias){var u=this.biasInitializer,c=this.filters;s=new((t=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"apply",value:function(e,t){return oi([u.apply([c]),r.ones([c]),u.apply([2*c])])}}]),t}(_i)).className="CustomInit",t)}else s=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,s,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}},{key:"call",value:function(e,t){var n=this;return r.tidy((function(){if(3!==e.length)throw new ua("ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var i=t.training||!1,o=e[0],s=e[1],u=e[2];0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=nc({ones:function(){return r.onesLike(o)},rate:n.dropout,training:i,count:4,dropoutFunc:n.dropoutFunc}));var c=n.dropoutMask,l=function(e,t,n){return t&&t[n]?r.mul(t[n],e):e},d=l(o,c,0),p=l(o,c,1),f=l(o,c,2),h=l(o,c,3);0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=nc({ones:function(){return r.onesLike(s)},rate:n.recurrentDropout,training:i,count:4,dropoutFunc:n.dropoutFunc}));var m=n.recurrentDropoutMask,v=l(s,m,0),b=l(s,m,1),g=l(s,m,2),y=l(s,m,3),_=r.split(n.kernel.read(),4,3),x=Object(a.a)(_,4),k=x[0],w=x[1],O=x[2],j=x[3],S=n.useBias?r.split(n.bias.read(),4):[null,null,null,null],C=Object(a.a)(S,4),T=C[0],N=C[1],E=C[2],I=C[3];d=n.inputConv(d,k,T,n.padding),p=n.inputConv(p,w,N,n.padding),f=n.inputConv(f,O,E,n.padding),h=n.inputConv(h,j,I,n.padding);var A=r.split(n.recurrentKernel.read(),4,3),R=Object(a.a)(A,4),D=R[0],M=R[1],F=R[2],L=R[3];v=n.recurrentConv(v,D),b=n.recurrentConv(b,M),g=n.recurrentConv(g,F),y=n.recurrentConv(y,L);var P=n.recurrentActivation.apply(r.add(d,v)),z=n.recurrentActivation.apply(r.add(p,b)),B=r.add(r.mul(z,u),r.mul(P,n.activation.apply(r.add(f,g)))),V=r.mul(n.recurrentActivation.apply(r.add(h,y)),n.activation.apply(B));return[V,V,B]}))}},{key:"getConfig",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this),n=(e.units,rc(e,["units"])),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),r)}},{key:"inputConv",value:function(e,t,n,a){var i=r.conv2d(e,t,this.strides,a||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?hi(i,n,this.dataFormat):i}},{key:"recurrentConv",value:function(e,t){return r.conv2d(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}]),t}(Ju);ic.className="ConvLSTM2DCell",r.serialization.registerClass(ic);var oc=function(e){function t(e){Object(Zr.a)(this,t);var n=new ic(e);return Object(Jr.a)(this,Object(ea.a)(t).call(this,Object.assign(Object.assign({},e),{cell:n})))}return Object(na.a)(t,e),Object(Qr.a)(t,null,[{key:"fromConfig",value:function(e,t){return new e(t)}}]),t}(ac);oc.className="ConvLSTM2D",r.serialization.registerClass(oc);var sc=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).rate=Math.max(Math.min(e.rate,1),0),n.noiseShape=e.noiseShape,n.seed=e.seed,n.supportsMasking=!0,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getNoiseShape",value:function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){n.invokeCallHook(e,t);var r=Ui(e);if(0<n.rate&&n.rate<1){var a=null!=t.training&&t.training,i=n.getNoiseShape(r);return bi((function(){return vi(r,n.rate,i,n.seed)}),(function(){return r}),a)}return e}))}},{key:"getConfig",value:function(){var e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}},{key:"dispose",value:function(){return Object(Lo.a)(Object(ea.a)(t.prototype),"dispose",this).call(this)}}]),t}(eo);sc.className="Dropout",r.serialization.registerClass(sc);var uc=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).inputSpec=[{ndim:3}],n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getNoiseShape",value:function(e){var t=e.shape;return[t[0],1,t[2]]}}]),t}(sc);uc.className="SpatialDropout1D",r.serialization.registerClass(uc);var cc=function(e){function t(e){var n;if(Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).activation=null,n.useBias=!0,n.kernel=null,n.bias=null,n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){var r=null;null!=e.batchSize&&(r=e.batchSize),n.batchInputShape=[r,e.inputDim]}return n.units=e.units,Ca(n.units,"units"),n.activation=lu(e.activation),null!=e.useBias&&(n.useBias=e.useBias),n.kernelInitializer=zi(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.biasInitializer=zi(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelConstraint=_o(e.kernelConstraint),n.biasConstraint=_o(e.biasConstraint),n.kernelRegularizer=bu(e.kernelRegularizer),n.biasRegularizer=bu(e.biasRegularizer),n.activityRegularizer=bu(e.activityRegularizer),n.supportsMasking=!0,n.inputSpec=[{minNDim:2}],n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){var t=(e=Wi(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:Object(Ou.a)({},-1,t)}],this.built=!0}},{key:"computeOutputShape",value:function(e){var t=(e=Wi(e)).slice();return t[t.length-1]=this.units,t}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){n.invokeCallHook(e,t);var r,a=Ui(e),i=Ta(n.activation.getClassName());return null!=i?r=li(a,n.kernel.read(),i,n.bias?n.bias.read():null):(r=li(a,n.kernel.read()),null!=n.bias&&(r=hi(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r}))}},{key:"getConfig",value:function(){var e={units:this.units,activation:uu(this.activation),useBias:this.useBias,kernelInitializer:Pi(this.kernelInitializer),biasInitializer:Pi(this.biasInitializer),kernelRegularizer:mu(this.kernelRegularizer),biasRegularizer:mu(this.biasRegularizer),activityRegularizer:mu(this.activityRegularizer),kernelConstraint:go(this.kernelConstraint),biasConstraint:go(this.biasConstraint)},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);cc.className="Dense",r.serialization.registerClass(cc);var lc=function(e){function t(e){var n;return Object(Zr.a)(this,t),e=e||{},(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).inputSpec=[{minNDim:3}],n.dataFormat=e.dataFormat,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"computeOutputShape",value:function(e){e=Wi(e);var t=!0,n=!1,r=void 0;try{for(var a,i=e.slice(1)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){if(null==a.value)throw new ua('The shape of the input to "Flatten" is not fully defined '+"(got ".concat(e.slice(1),"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.')}}catch(o){n=!0,r=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return[e[0],Ya(e,1)]}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){n.invokeCallHook(e,t);var a=Ui(e);if("channelsFirst"===n.dataFormat&&a.rank>1){for(var i=[0],o=2;o<a.rank;++o)i.push(o);i.push(1),a=Object(r.transpose)(a,i)}return function(e){if(e.rank<=1)throw new ua("batchFlatten requires a minimum rank of 2. Got rank: ".concat(e.rank,"."));var t=[e.shape[0],Ya(e.shape,1)];return r.reshape(e,t)}(a)}))}},{key:"getConfig",value:function(){var e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);var n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);lc.className="Flatten",r.serialization.registerClass(lc);var dc=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).supportsMasking=!0,n.activation=lu(e.activation),n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){n.invokeCallHook(e,t);var r=Ui(e);return n.activation.apply(r)}))}},{key:"getConfig",value:function(){var e={activation:uu(this.activation)},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);dc.className="Activation",r.serialization.registerClass(dc);var pc=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).n=e.n,n.inputSpec=[{ndim:2}],n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"computeOutputShape",value:function(e){return[e[0],this.n,e[1]]}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){return e=Ui(e),t=e,a=n.n,Object(r.tidy)((function(){if(2!==t.shape.length)throw new ua("repeat() expects a rank-2 tensor, but received a "+"rank-".concat(t.shape.length," tensor."));return ui(ni(t,1),[1,a,1])}));var t,a}))}},{key:"getConfig",value:function(){var e={n:this.n},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);pc.className="RepeatVector",r.serialization.registerClass(pc);var fc=function(e){function t(e){var n;Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).targetShape=e.targetShape;for(var r=0;r<n.targetShape.length;++r)n.isUnknown(n.targetShape[r])&&(n.targetShape[r]=null);return n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"isUnknown",value:function(e){return e<0||null==e}},{key:"fixUnknownDimension",value:function(e,t){for(var n="Total size of new array must be unchanged.",r=t.slice(),a=1,i=null,o=0;o<r.length;++o){var s=r[o];if(this.isUnknown(s)){if(null!==i)throw new ua("Can only specifiy one unknown dimension.");i=o}else a*=s}var u=Ya(e);if(null!==i){if(0===a||u%a!==0)throw new ua(n);r[i]=u/a}else if(u!==a)throw new ua(n);return r}},{key:"computeOutputShape",value:function(e){for(var t=!1,n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){n.invokeCallHook(e,t);var a=Ui(e),i=a.shape,o=i.slice(0,1).concat(n.fixUnknownDimension(i.slice(1),n.targetShape));return Object(r.reshape)(a,o)}))}},{key:"getConfig",value:function(){var e={targetShape:this.targetShape},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);fc.className="Reshape",r.serialization.registerClass(fc);var hc=function(e){function t(e){var n;if(Object(Zr.a)(this,t),n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e)),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+"".concat(e.dims," instead."));var a=Ja(1,e.dims.length+1);if(!r.util.arraysEqual(e.dims.slice().sort(),a))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");return n.dims=e.dims,n.dimsIncludingBatch=[0].concat(n.dims),n.inputSpec=[new Xi({ndim:n.dims.length+1})],n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"computeOutputShape",value:function(e){var t=(e=Wi(e)).slice();return this.dims.forEach((function(n,r){t[r+1]=e[n]})),t}},{key:"call",value:function(e,t){return Object(r.transpose)(Ui(e),this.dimsIncludingBatch)}},{key:"getConfig",value:function(){var e={dims:this.dims},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);hc.className="Permute",r.serialization.registerClass(hc);var mc=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,null==e?{}:e))).supportsMasking=!0,n.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this),n={maskValue:this.maskValue};return Object.assign(n,e),n}},{key:"computeMask",value:function(e,t){var n=Ui(e);return Object(r.any)(Object(r.notEqual)(n,this.maskValue),-1)}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){n.invokeCallHook(e,t);var a=Ui(e),i=Object(r.any)(Object(r.notEqual)(a,n.maskValue),-1,!0);return Object(r.mul)(a,Object(r.cast)(i,a.dtype))}))}}]),t}(eo);mc.className="Masking",r.serialization.registerClass(mc);var vc=function(e){function t(e){var n;if(Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).embeddings=null,n.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){var r=null;null!=e.batchSize&&(r=e.batchSize),null==e.inputLength?n.batchInputShape=[r,null]:n.batchInputShape=[r].concat(va(e.inputLength))}return n.inputDim=e.inputDim,Ca(n.inputDim,"inputDim"),n.outputDim=e.outputDim,Ca(n.outputDim,"outputDim"),n.embeddingsInitializer=zi(e.embeddingsInitializer||n.DEFAULT_EMBEDDINGS_INITIALIZER),n.embeddingsRegularizer=bu(e.embeddingsRegularizer),n.activityRegularizer=bu(e.activityRegularizer),n.embeddingsConstraint=_o(e.embeddingsConstraint),n.maskZero=e.maskZero,n.supportsMasking=e.maskZero,n.inputLength=e.inputLength,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}},{key:"warnOnIncompatibleInputShape",value:function(e){}},{key:"computeMask",value:function(e,t){var n=this;return Object(r.tidy)((function(){return n.maskZero?(e=Ui(e),Object(r.notEqual)(e,Object(r.zerosLike)(e))):null}))}},{key:"computeOutputShape",value:function(e){if(e=Wi(e),null==this.inputLength)return[].concat(Object(Gn.a)(e),[this.outputDim]);var t=va(this.inputLength);if(t.length!==e.length-1)throw new ua('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));for(var n=0,r=0;r<t.length;++r){var a=t[r],i=e[r+1];if(null!=a&&null!=i&&a!==i)throw new ua('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));null==a&&(t[n]=i),n++}return[e[0]].concat(Object(Gn.a)(t),[this.outputDim])}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){n.invokeCallHook(e,t);var a=Ui(e);"int32"!==a.dtype&&(a=ti(a,"int32"));var i=di(n.embeddings.read(),Object(r.reshape)(a,[a.size]));return Object(r.reshape)(i,Wi(n.computeOutputShape(a.shape)))}))}},{key:"getConfig",value:function(){var e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Pi(this.embeddingsInitializer),embeddingsRegularizer:mu(this.embeddingsRegularizer),activityRegularizer:mu(this.activityRegularizer),embeddingsConstraint:go(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);vc.className="Embedding",r.serialization.registerClass(vc);var bc=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e||{}))).supportsMasking=!0,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"mergeFunction",value:function(e){throw new ca}},{key:"computeElementwiseOpOutputShape",value:function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var a=e[e.length-t.length+r],i=t[r];if(null==a||null==i||a<0||i<0)n.push(null);else if(1===a)n.push(i);else if(1===i)n.push(a);else{if(a!==i)throw new ua("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(a)}}return n}},{key:"build",value:function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Wi(e)]),(e=e).length<2)throw new ua("A merge layer should be called on an Array of at least 2 inputs."+" Got ".concat(e.length," input(s)."));var t=[],n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;null!=s&&null!==s[0]&&t.push(s[0])}}catch(p){r=!0,a=p}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}if((t=wa(t)).length>1)throw new ua("Can not merge tensors with different batch sizes. "+"Got tensors with shapes: ".concat(JSON.stringify(e),"."));for(var u=null==e[0]?null:e[0].slice(1),c=1;c<e.length;++c){var l=null==e[c]?null:e[c].slice(1);u=this.computeElementwiseOpOutputShape(u,l)}var d=e.map((function(e){return e.length}));-1===e.indexOf(null)&&1===wa(d).length?this.reshapeRequired=!1:this.reshapeRequired=!0}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){if(e=e,n.reshapeRequired){var t=[],a=e.map((function(e){return e.rank}));if(-1===a.indexOf(null)){var i=Qa(a),o=!0,s=!1,u=void 0;try{for(var c,l=e[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){for(var d=c.value,p=d.rank,f=0;f<i-p;++f)d=ni(d,1);t.push(d)}}catch(R){s=!0,u=R}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}return n.mergeFunction(t)}var h=!1,m=!0,v=!1,b=void 0;try{for(var g,y=e[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){var _=g.value,x=_.rank;if(null==x){var k=_.shape,w=k[0],O=k.slice(1).concat([w]),j=r.reshape(_,[w].concat(Ya(k.slice(1))));j=r.transpose(j,[1,0]),j=r.reshape(j,O),t.push(j),h=!0}else if(x>1){var S=Ja(1,x).concat([0]);t.push(r.transpose(_,S)),h=!0}else t.push(_)}}catch(R){v=!0,b=R}finally{try{m||null==y.return||y.return()}finally{if(v)throw b}}var C=n.mergeFunction(t),T=C.rank;if(h)if(null==T){var N=C.shape,E=N[N.length-1],I=[E].concat(N.slice(0,N.length-1));C=r.reshape(r.transpose(r.reshape(C,[-1,E]),[1,0]),I)}else if(T>1){var A=[T-1].concat(Ja(0,T-1));C=r.transpose(C,A)}return C}return n.mergeFunction(e)}))}},{key:"computeOutputShape",value:function(e){var t;t=null==(e=e)[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}var a=[],i=!0,o=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;null!=l&&null!==l[0]&&a.push(l[0])}}catch(d){o=!0,s=d}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return t=1===(a=wa(a)).length?a.concat(t):[null].concat(t)}},{key:"computeMask",value:function(e,t){return r.tidy((function(){if(null==t)return null;if(!Array.isArray(t))throw new ua("`mask` should be an Array");if(!Array.isArray(e))throw new ua("`inputs` should be an Array");if(t.length!==e.length)throw new ua("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths "+"(".concat(e.length," vs ").concat(t.length,")"));if(t.every((function(e){return null==e})))return null;for(var n=(t=t.map((function(e){return null==e?e:r.expandDims(e,0)})))[0],a=1;a<t.length-1;++a)n=r.logicalAnd(n,t[a]);return n}))}}]),t}(eo),gc=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,e))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"mergeFunction",value:function(e){return Object(r.tidy)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=r.add(t,e[n]);return t}))}}]),t}(bc);gc.className="Add",r.serialization.registerClass(gc);var yc=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,e))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"mergeFunction",value:function(e){return Object(r.tidy)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=r.mul(t,e[n]);return t}))}}]),t}(bc);yc.className="Multiply",r.serialization.registerClass(yc);var _c=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,e))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"mergeFunction",value:function(e){return Object(r.tidy)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=r.add(t,e[n]);return r.mul(1/e.length,t)}))}}]),t}(bc);_c.className="Average",r.serialization.registerClass(_c);var xc=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,e))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"mergeFunction",value:function(e){return Object(r.tidy)((function(){for(var t=e[0],n=1;n<e.length;++n)t=r.maximum(t,e[n]);return t}))}}]),t}(bc);xc.className="Maximum",r.serialization.registerClass(xc);var kc=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,e))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"mergeFunction",value:function(e){return Object(r.tidy)((function(){for(var t=e[0],n=1;n<e.length;++n)t=r.minimum(t,e[n]);return t}))}}]),t}(bc);kc.className="Minimum",r.serialization.registerClass(kc);var wc=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).DEFAULT_AXIS=-1,null==e&&(e={}),n.axis=null==e.axis?n.DEFAULT_AXIS:e.axis,n.supportsMasking=!0,n.reshapeRequired=!1,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new ua("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;var t=!0,n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){if(null!=o.value){t=!1;break}}}catch(g){a=!0,i=g}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}if(!t){for(var u=[],c=0;c<e.length;++c){var l=e[c].slice();l.splice(this.axis,1);var d=!1,p=!0,f=!1,h=void 0;try{for(var m,v=u[Symbol.iterator]();!(p=(m=v.next()).done);p=!0){var b=m.value;if(r.util.arraysEqual(b,l)){d=!0;break}}}catch(g){f=!0,h=g}finally{try{p||null==v.return||v.return()}finally{if(f)throw h}}d||u.push(l)}if(u.length>1)throw new ua("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}}},{key:"mergeFunction",value:function(e){var t=this;return Object(r.tidy)((function(){return oi(e,t.axis)}))}},{key:"computeOutputShape",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new ua("A `Concatenate` layer should be called on a list of inputs.");var t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis,a=!0,i=!1,o=void 0;try{for(var s,u=t.slice(1)[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value;if(null==n[r]||null==c[r]){n[r]=null;break}n[r]+=c[r]}}catch(l){i=!0,o=l}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}return n}},{key:"computeMask",value:function(e,t){var n=this;if(null==t)return null;if(!Array.isArray(t))throw new ua("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new ua("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new ua("Mismatch in the length of mask (".concat(t.length,") ")+"and the legnth of inputs (".concat(e.length,")"));return r.tidy((function(){var a=!0;if(t.forEach((function(e){null==e||(a=!1)})),a)return null;for(var i=[],o=0;o<e.length;++o)null==t[o]?i.push(r.cast(r.onesLike(e[o]),"bool")):t[o].rank<e[o].rank?i.push(r.expandDims(t[o],-1)):i.push(t[o]);var s=r.concat(i,n.axis);return r.all(s,-1,!1)}))}},{key:"getConfig",value:function(){var e={axis:this.axis},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(bc);function Oc(e,t){for(;e<0;)e+=t;return e}wc.className="Concatenate",r.serialization.registerClass(wc);var jc=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).axes=e.axes,n.normalize=null!=e.normalize&&e.normalize,n.supportsMasking=!0,n.reshapeRequired=!1,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){r.util.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0],n=e[1];if(t.length>3||n.length>3)throw new ca("Dot layer does not support tensors of 4D or higher rank yet.");var a=this.interpretAxes(t,n);if(t[a[0]]!==n[a[1]])throw new ua("Dimension incompatibility: "+"".concat(t[a[0]]," !== ").concat(n[a[1]]))}},{key:"mergeFunction",value:function(e){if(2!==e.length)throw new ua("A `Dot` layer must be called on exactly 2 inputs, "+"but received ".concat(e.length," input(s)."));var t,n=e[0],a=e[1];return t=Array.isArray(this.axes)?this.axes.map((function(t,n){return Oc(t,e[n].shape.length)})):[Oc(this.axes,n.shape.length),Oc(this.axes,a.shape.length)],this.normalize&&(n=zo(n,t[0]),a=zo(a,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new ca("batchDot is not implemented for tensors of 4D or higher rank yet");if(r.util.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of x to be >= 2, "+"but got ".concat(e.shape.length)})),r.util.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of y to be >= 2, "+"but got ".concat(t.shape.length)})),"number"===typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new ca("batchDot is not implemented for complex64-type Tensors yet.");var a=e.shape.length,i=t.shape.length;null==n&&(n=[a-1,i-2]);var o=n;return r.tidy((function(){var n,s;if(a>i){n=a-i;for(var u=[],c=0;c<n;++c)u.push(1);t=r.reshape(t,t.shape.concat(u))}else if(i>a){n=i-a;for(var l=[],d=0;d<n;++d)l.push(1);e=r.reshape(e,e.shape.concat(l))}else n=0;if(2===e.shape.length&&2===t.shape.length)s=o[0]===o[1]?r.sum(r.mul(e,t),o[0]):r.sum(r.mul(r.transpose(e,[1,0]),t),o[1]);else{var p=o[0]!==e.shape.length-1,f=o[1]===t.shape.length-1;s=r.matMul(e,t,p,f)}if(n>0){for(var h,m=[],v=h=a>i?a+i-3:a-1;v<h+n;++v)m.push(v);s=r.squeeze(s,m)}return 1===s.shape.length&&(s=r.expandDims(s,1)),s}))}(n,a,t)}},{key:"interpretAxes",value:function(e,t){return Array.isArray(this.axes)?this.axes:[Oc(this.axes,e.length),Oc(this.axes,t.length)]}},{key:"computeOutputShape",value:function(e){r.util.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new ca("Dot layer does not support tensors of 4D or higher rank yet.");var a=this.interpretAxes(t,n);t.splice(a[0],1),n.splice(a[1],1),n.splice(0,1);var i=t.concat(n);return 1===i.length&&i.push(1),i}},{key:"computeMask",value:function(e,t){return null}},{key:"getConfig",value:function(){var e={axes:this.axes,normalize:this.normalize},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(bc);jc.className="Dot",r.serialization.registerClass(jc);var Sc=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).supportsMasking=!0,n.stddev=e.stddev,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this),n={stddev:this.stddev};return Object.assign(n,e),n}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){n.invokeCallHook(e,t);var a=Ui(e);return bi((function(){return Object(r.add)(ci(a.shape,0,n.stddev),a)}),(function(){return a}),t.training||!1)}))}}]),t}(eo);Sc.className="GaussianNoise",r.serialization.registerClass(Sc);var Cc=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).supportsMasking=!0,n.rate=e.rate,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this),n={rate:this.rate};return Object.assign(n,e),n}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){n.invokeCallHook(e,t);var a=Ui(e);if(n.rate>0&&n.rate<1){return bi((function(){var e=Math.sqrt(n.rate/(1-n.rate));return Object(r.mul)(a,ci(a.shape,1,e))}),(function(){return a}),t.training||!1)}return a}))}}]),t}(eo);Cc.className="GaussianDropout",r.serialization.registerClass(Cc);var Tc=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).supportsMasking=!0,n.rate=e.rate,n.noiseShape=e.noiseShape,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"_getNoiseShape",value:function(e){return this.noiseShape||Ui(e).shape}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this),n={rate:this.rate};return Object.assign(n,e),n}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){if(n.rate<1&&n.rate>0){var a=n._getNoiseShape(e);return bi((function(){var t=Ui(e),i=-1.7580993408473766,o=Object(r.greaterEqual)(Object(r.randomUniform)(a),n.rate);o=ti(o,"float32");var s=Math.pow((1-n.rate)*(1+n.rate*Math.pow(i,2)),-.5),u=-s*i*n.rate,c=Object(r.add)(Object(r.mul)(t,o),Object(r.mul)(Object(r.add)(o,-1),i));return Object(r.add)(Object(r.mul)(c,s),u)}),(function(){return Ui(e)}),t.training||!1)}return e}))}}]),t}(eo);function Nc(e,t,n,a,i){var o,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===e.rank)o=r.batchNorm2d(e,t,n,a,i,s);else if(3===e.rank)o=r.batchNorm3d(e,t,n,a,i,s);else{if(4!==e.rank)throw new ca("batchNormalization is not implemented for array of rank ".concat(e.rank," ")+"yet");o=r.batchNorm4d(e,t,n,a,i,s)}return o}function Ec(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return r.util.arraysEqual(a.slice().sort(),Ja(0,e.rank-1))?function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return Object(r.tidy)((function(){var o=r.moments(e,a),s=o.mean,u=o.variance;return[Nc(e,s,u,n,t,i),s,u]}))}(e,t,n,a,i):function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return Object(r.tidy)((function(){var o=r.moments(e,a),s=o.mean,u=o.variance,c=[],l=!0,d=!1,p=void 0;try{for(var f,h=Ja(0,e.rank)[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var m=f.value;-1!==a.indexOf(m)?c.push(1):c.push(e.shape[m])}}catch(_){d=!0,p=_}finally{try{l||null==h.return||h.return()}finally{if(d)throw p}}var v=Object(r.reshape)(s,c),b=Object(r.reshape)(u,c),g=null==t?null:Object(r.reshape)(t,c),y=null==n?null:Object(r.reshape)(n,c);return[Nc(e,v,b,y,g,i),s,u]}))}(e,t,n,a,i)}Tc.className="AlphaDropout",r.serialization.registerClass(Tc);var Ic=function(e){function t(e){var n;return Object(Zr.a)(this,t),null==e&&(e={}),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).supportsMasking=!0,n.axis=null==e.axis?-1:e.axis,n.momentum=null==e.momentum?.99:e.momentum,n.epsilon=null==e.epsilon?.001:e.epsilon,n.center=null==e.center||e.center,n.scale=null==e.scale||e.scale,n.betaInitializer=zi(e.betaInitializer||"zeros"),n.gammaInitializer=zi(e.gammaInitializer||"ones"),n.movingMeanInitializer=zi(e.movingMeanInitializer||"zeros"),n.movingVarianceInitializer=zi(e.movingVarianceInitializer||"ones"),n.betaConstraint=_o(e.betaConstraint),n.gammaConstraint=_o(e.gammaConstraint),n.betaRegularizer=bu(e.betaRegularizer),n.gammaRegularizer=bu(e.gammaRegularizer),n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){e=Wi(e);var t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new ua("Axis ".concat(t," of input tensor should have a defined dimension but ")+"the layer received an input with shape "+"".concat(JSON.stringify(e),"."));this.inputSpec=[new Xi({ndim:e.length,axes:Object(Ou.a)({},t,n)})];var r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){var i=null!=t.training&&t.training,o=Ui(e),s=o.shape,u=s.length,c=Ja(0,u),l=n.axis>=0?n.axis:n.axis+u;c.splice(l,1);var d=pa(1,u);d[l]=s[l];var p=c.slice();p.sort();var f=!r.util.arraysEqual(p,Ja(0,u).slice(0,u-1));if(!i)return function(){if(f){var e=Object(r.reshape)(n.movingMean.read(),d),t=Object(r.reshape)(n.movingVariance.read(),d),a=n.center?Object(r.reshape)(n.beta.read(),d):null,i=n.scale?Object(r.reshape)(n.gamma.read(),d):null;return Nc(o,e,t,a,i,n.epsilon)}return Nc(o,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var h=Ec(o,n.gamma.read(),n.beta.read(),c,n.epsilon),m=Object(a.a)(h,3),v=m[0],b=m[1],g=m[2],y=function(e,t,n){r.tidy((function(){var a=1-n,i=e.read(),o=r.mul(r.sub(i,t),a);e.write(r.sub(i,o))}))};return y(n.movingMean,b,n.momentum),y(n.movingVariance,g,n.momentum),v}))}},{key:"getConfig",value:function(){var e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Pi(this.betaInitializer),gammaInitializer:Pi(this.gammaInitializer),movingMeanInitializer:Pi(this.movingMeanInitializer),movingVarianceInitializer:Pi(this.movingVarianceInitializer),betaRegularizer:mu(this.betaRegularizer),gammaRegularizer:mu(this.gammaRegularizer),betaConstraint:go(this.betaConstraint),gammaConstraint:go(this.gammaConstraint)},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);Ic.className="BatchNormalization",r.serialization.registerClass(Ic);var Ac=function(e){function t(e){var n;if(Object(Zr.a)(this,t),null==e&&(e={}),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).axis=null==e.axis?-1:e.axis,"number"===typeof n.axis){if(!Number.isInteger(n.axis))throw new Error("Expected axis to be an integer, but received ".concat(n.axis))}else{if(!Array.isArray(n.axis))throw new Error("Expected axis to be an integer or an array of integers, "+"but received ".concat(JSON.stringify(n.axis)));var r=!0,a=!1,i=void 0;try{for(var o,s=n.axis[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;if(!Number.isInteger(u))throw new Error("Expected axis to be an array of integers, "+"but received ".concat(JSON.stringify(n.axis)))}}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}}return n.epsilon=null==e.epsilon?.001:e.epsilon,n.center=null==e.center||e.center,n.scale=null==e.scale||e.scale,n.betaInitializer=zi(e.betaInitializer||"zeros"),n.gammaInitializer=zi(e.gammaInitializer||"ones"),n.betaRegularizer=bu(e.betaRegularizer),n.gammaRegularizer=bu(e.gammaRegularizer),n.supportsMasking=!0,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){var t=(e=Wi(e)).length;"number"===typeof this.axis&&(this.axis=[this.axis]);for(var n=0;n<this.axis.length;++n)this.axis[n]<0&&(this.axis[n]+=t);var r=!0,a=!1,i=void 0;try{for(var o,s=this.axis[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;if(u<0||u>=t)throw new Error("Invalid axis: ".concat(u))}}catch(l){a=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}if(this.axis.length!==wa(this.axis).length)throw new Error("Found duplicate axes in: ".concat(this.axis));var c=this.axis.map((function(t){return e[t]}));this.scale?this.gamma=this.addWeight("gamma",c,"float32",this.gammaInitializer,this.gammaRegularizer,!0):this.gamma=null,this.center?this.beta=this.addWeight("beta",c,"float32",this.betaInitializer,this.betaRegularizer,!0):this.beta=null,this.built=!0}},{key:"call",value:function(e,t){var n=this,a=Ui(e),i=a.shape,o=i.length;return Object(r.tidy)((function(){var e=Object(r.moments)(a,n.axis,!0),t=e.mean,s=e.variance,u=pa(1,o),c=!0,l=!1,d=void 0;try{for(var p,f=n.axis[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var h=p.value;u[h]=i[h]}}catch(x){l=!0,d=x}finally{try{c||null==f.return||f.return()}finally{if(l)throw d}}for(var m=function(e){return null!=e&&e.shape.length!==o?r.reshape(e,u):e},v=n.scale?m(n.gamma.read()):null,b=n.center?m(n.beta.read()):null,g=[],y=[],_=0;_<o;++_)-1!==n.axis.indexOf(_)?(g.push(i[_]),y.push(1)):(g.push(1),y.push(i[_]));return t=r.tile(t,g),s=r.tile(s,g),null!=v&&(v=r.tile(v,y)),null!=b&&(b=r.tile(b,y)),Nc(a,t,s,b,v,n.epsilon)}))}},{key:"getConfig",value:function(){var e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Pi(this.betaInitializer),gammaInitializer:Pi(this.gammaInitializer),betaRegularizer:mu(this.betaRegularizer),gammaRegularizer:mu(this.gammaRegularizer)},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);Ac.className="LayerNormalization",r.serialization.registerClass(Ac);var Rc=function(e){function t(e){var n;if(Object(Zr.a)(this,t),null==e&&(e={}),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)n.padding=[[1,1],[1,1]];else if("number"===typeof e.padding)n.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new ua("ZeroPadding2D expects padding to be a length-2 array, but "+"received a length-".concat(e.padding.length," array."));var r,a;if("number"===typeof e.padding[0])r=[e.padding[0],e.padding[0]],a=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new ua("ZeroPadding2D expects height padding to be a length-2 array, "+"but received a length-".concat(e.padding[0].length," array."));if(r=e.padding[0],2!==e.padding[1].length)throw new ua("ZeroPadding2D expects width padding to be a length-2 array, "+"but received a length-".concat(e.padding[1].length," array."));a=e.padding[1]}n.padding=[r,a]}return n.inputSpec=[new Xi({ndim:4})],n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"computeOutputShape",value:function(e){var t,n;return e=Wi(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){return t=Ui(e),a=n.padding,i=n.dataFormat,Object(r.tidy)((function(){if(4!==t.rank)throw new ua("temporalPadding expects input tensor to be 4-D, but received a "+"".concat(t.rank,"-D tensor."));if(null==a&&(a=[[1,1],[1,1]]),2!==a.length||2!==a[0].length||2!==a[1].length)throw new ua("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==i&&(i="channelsLast"),"channelsLast"!==i&&"channelsFirst"!==i)throw new ua("Unknown data format: ".concat(i,". ")+"Supported data formats are 'channelsLast' and 'channelsFirst.");var e;return e="channelsFirst"===i?[[0,0],[0,0],a[0],a[1]]:[[0,0],a[0],a[1],[0,0]],r.pad(t,e)}));var t,a,i}))}},{key:"getConfig",value:function(){var e={padding:this.padding,dataFormat:this.dataFormat},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);function Dc(e,t,n,a,i,o){return Object(r.tidy)((function(){var s;za(i),Va(o),Ba(a),null==n&&(n=[1,1]),null==a&&(a="valid"),null==i&&(i="channelsLast"),null==o&&(o="max"),e=Tu(e,i);var u="same"===a?"same":"valid";return s="max"===o?r.maxPool(e,t,n,u):r.avgPool(e,t,n,u),"channelsFirst"===i&&(s=r.transpose(s,[0,3,1,2])),s}))}function Mc(e,t,n,a,i,o){return Object(r.tidy)((function(){var s;za(i),Va(o),Ba(a),null==n&&(n=[1,1,1]),null==a&&(a="valid"),null==i&&(i="channelsLast"),null==o&&(o="max"),e=Nu(e,i);var u="same"===a?"same":"valid";return s="max"===o?r.maxPool3d(e,t,n,u):r.avgPool3d(e,t,n,u),"channelsFirst"===i&&(s=r.transpose(s,[0,4,1,2,3])),s}))}Rc.className="ZeroPadding2D",r.serialization.registerClass(Rc);var Fc=function(e){function t(e){var n;if(Object(Zr.a)(this,t),null==e.poolSize&&(e.poolSize=2),n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e)),"number"===typeof e.poolSize)n.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!==typeof e.poolSize[0])throw new ua("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.poolSize)));n.poolSize=e.poolSize}if(Ca(n.poolSize,"poolSize"),null==e.strides)n.strides=n.poolSize;else if("number"===typeof e.strides)n.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!==typeof e.strides[0])throw new ua("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.strides)));n.strides=e.strides}return Ca(n.strides,"strides"),n.padding=null==e.padding?"valid":e.padding,Ba(n.padding),n.inputSpec=[new Xi({ndim:3})],n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"computeOutputShape",value:function(e){var t=Su((e=Wi(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){n.invokeCallHook(e,t),e=ni(Ui(e),2);var a=n.poolingFunction(Ui(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return r.squeeze(a,[2])}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo),Lc=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,e))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"poolingFunction",value:function(e,t,n,r,a){return za(a),Ba(r),Dc(e,t,n,r,a,"max")}}]),t}(Fc);Lc.className="MaxPooling1D",r.serialization.registerClass(Lc);var Pc=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,e))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"poolingFunction",value:function(e,t,n,r,a){return za(a),Ba(r),Dc(e,t,n,r,a,"avg")}}]),t}(Fc);Pc.className="AveragePooling1D",r.serialization.registerClass(Pc);var zc=function(e){function t(e){var n;if(Object(Zr.a)(this,t),null==e.poolSize&&(e.poolSize=[2,2]),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)n.strides=n.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new ua("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+"".concat(e.strides.length,"."));n.strides=e.strides}else n.strides=[e.strides,e.strides];return Ca(n.poolSize,"poolSize"),Ca(n.strides,"strides"),n.padding=null==e.padding?"valid":e.padding,n.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,za(n.dataFormat),Ba(n.padding),n.inputSpec=[new Xi({ndim:4})],n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"computeOutputShape",value:function(e){e=Wi(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=Su(t,this.poolSize[0],this.padding,this.strides[0]),n=Su(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){return n.invokeCallHook(e,t),n.poolingFunction(Ui(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo),Bc=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,e))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"poolingFunction",value:function(e,t,n,r,a){return za(a),Ba(r),Dc(e,t,n,r,a,"max")}}]),t}(zc);Bc.className="MaxPooling2D",r.serialization.registerClass(Bc);var Vc=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,e))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"poolingFunction",value:function(e,t,n,r,a){return za(a),Ba(r),Dc(e,t,n,r,a,"avg")}}]),t}(zc);Vc.className="AveragePooling2D",r.serialization.registerClass(Vc);var Uc=function(e){function t(e){var n;if(Object(Zr.a)(this,t),null==e.poolSize&&(e.poolSize=[2,2,2]),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)n.strides=n.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new ua("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+"".concat(e.strides.length,"."));n.strides=e.strides}else n.strides=[e.strides,e.strides,e.strides];return Ca(n.poolSize,"poolSize"),Ca(n.strides,"strides"),n.padding=null==e.padding?"valid":e.padding,n.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,za(n.dataFormat),Ba(n.padding),n.inputSpec=[new Xi({ndim:5})],n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"computeOutputShape",value:function(e){e=Wi(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=Su(t,this.poolSize[0],this.padding,this.strides[0]),n=Su(n,this.poolSize[1],this.padding,this.strides[1]),r=Su(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){return n.invokeCallHook(e,t),n.poolingFunction(Ui(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo),Wc=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,e))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"poolingFunction",value:function(e,t,n,r,a){return za(a),Ba(r),Mc(e,t,n,r,a,"max")}}]),t}(Uc);Wc.className="MaxPooling3D",r.serialization.registerClass(Wc);var Hc=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,e))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"poolingFunction",value:function(e,t,n,r,a){return za(a),Ba(r),Mc(e,t,n,r,a,"avg")}}]),t}(Uc);Hc.className="AveragePooling3D",r.serialization.registerClass(Hc);var Gc=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).inputSpec=[new Xi({ndim:3})],n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"computeOutputShape",value:function(e){return[e[0],e[2]]}},{key:"call",value:function(e,t){throw new ca}}]),t}(eo),$c=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,e||{}))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"call",value:function(e,t){return Object(r.tidy)((function(){var t=Ui(e);return r.mean(t,1)}))}}]),t}(Gc);$c.className="GlobalAveragePooling1D",r.serialization.registerClass($c);var qc=function(e){function t(e){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).call(this,e||{}))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"call",value:function(e,t){return Object(r.tidy)((function(){var t=Ui(e);return r.max(t,1)}))}}]),t}(Gc);qc.className="GlobalMaxPooling1D",r.serialization.registerClass(qc);var Kc=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,za(n.dataFormat),n.inputSpec=[new Xi({ndim:4})],n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"computeOutputShape",value:function(e){return e=e,"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}},{key:"call",value:function(e,t){throw new ca}},{key:"getConfig",value:function(){var e={dataFormat:this.dataFormat},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo),Xc=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){var t=Ui(e);return"channelsLast"===n.dataFormat?r.mean(t,[1,2]):r.mean(t,[2,3])}))}}]),t}(Kc);Xc.className="GlobalAveragePooling2D",r.serialization.registerClass(Xc);var Yc=function(e){function t(){return Object(Zr.a)(this,t),Object(Jr.a)(this,Object(ea.a)(t).apply(this,arguments))}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){var t=Ui(e);return"channelsLast"===n.dataFormat?r.max(t,[1,2]):r.max(t,[2,3])}))}}]),t}(Kc);Yc.className="GlobalMaxPooling2D",r.serialization.registerClass(Yc);var Zc=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).layer=e.layer,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){this.built=!0}},{key:"getWeights",value:function(){return this.layer.getWeights()}},{key:"setWeights",value:function(e){this.layer.setWeights(e)}},{key:"getConfig",value:function(){var e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}},{key:"setFastWeightInitDuringBuild",value:function(e){Object(Lo.a)(Object(ea.a)(t.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}},{key:"trainable",get:function(){return null!=this.layer&&this.layer.trainable},set:function(e){null!=this.layer&&(this.layer.trainable=e)}},{key:"trainableWeights",get:function(){return this.layer.trainableWeights}},{key:"nonTrainableWeights",get:function(){return this.layer.nonTrainableWeights}},{key:"updates",get:function(){return this.layer._updates}},{key:"losses",get:function(){return this.layer.losses}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.layer,a=Po(r,n);delete t.layer;var i={layer:a};return Object.assign(i,t),new e(i)}}]),t}(eo),Qc=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).supportsMasking=!0,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"build",value:function(e){if((e=Wi(e)).length<3)throw new ua("TimeDistributed layer expects an input shape >= 3D, but received "+"input shape ".concat(JSON.stringify(e)));this.inputSpec=[{shape:e}];var n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),Object(Lo.a)(Object(ea.a)(t.prototype),"build",this).call(this,e)}},{key:"computeOutputShape",value:function(e){var t=[(e=Wi(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){return $u((function(e,r){return[Ui(n.layer.call(e,t)),[]]}),e=Ui(e),[],!1,null,null,!1,!0)[1]}))}}]),t}(Zc);Qc.className="TimeDistributed",r.serialization.registerClass(Qc);var Jc="concat",el=function(e){function t(e){var n;Object(Zr.a)(this,t),n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e));var r=e.layer.getConfig(),a={};a.className=e.layer.getClassName(),a.config=r,n.forwardLayer=Po(a),r.goBackwards=!0!==r.goBackwards;var i,o={};if(o.className=e.layer.getClassName(),o.config=r,n.backwardLayer=Po(o),n.forwardLayer.name="forward_"+n.forwardLayer.name,n.backwardLayer.name="backward_"+n.backwardLayer.name,n.mergeMode=void 0===e.mergeMode?Jc:e.mergeMode,i=n.mergeMode,ja(La,"BidirectionalMergeMode",i),e.weights)throw new ca("weights support is not implemented for Bidirectional layer yet.");return n._stateful=e.layer.stateful,n.returnSequences=e.layer.returnSequences,n.returnState=e.layer.returnState,n.supportsMasking=!0,n._trainable=!0,n.inputSpec=e.layer.inputSpec,n.numConstants=null,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getWeights",value:function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}},{key:"setWeights",value:function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}},{key:"computeOutputShape",value:function(e){var t,n,r,a=this.forwardLayer.computeOutputShape(e);return Array.isArray(a)&&Array.isArray(a[0])||(a=[a]),a=a,this.returnState?(r=a.slice(1),t=a[0]):t=a[0],t=t,"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):ma(n)}},{key:"apply",value:function(e,n){var r=null==n?null:n.initialState,a=null==n?null:n.constants;null==n&&(n={});var i=Gu(e,r,a,this.numConstants);if(e=i.inputs,r=i.initialState,a=i.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(null==r||0===r.length)&&null==a)return Object(Lo.a)(Object(ea.a)(t.prototype),"apply",this).call(this,e,n);var o=[],s=[];if(null!=r){var u=r.length;if(u%2>0)throw new ua("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,o.push.apply(o,Object(Gn.a)(r));var c=r.map((function(e){return new Xi({shape:e.shape})}));this.forwardLayer.stateSpec=c.slice(0,u/2),this.backwardLayer.stateSpec=c.slice(u/2),s.push.apply(s,Object(Gn.a)(c))}if(null!=a)throw new ca("Support for constants in Bidirectional layers is not implemented yet.");for(var l=o[0]instanceof Yi,d=0,p=o;d<p.length;d++){if(p[d]instanceof Yi!==l)throw new ua("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors")}if(l){var f=[e].concat(o),h=this.inputSpec.concat(s),m=this.inputSpec;this.inputSpec=h;var v=Object(Lo.a)(Object(ea.a)(t.prototype),"apply",this).call(this,f,n);return this.inputSpec=m,v}return Object(Lo.a)(Object(ea.a)(t.prototype),"apply",this).call(this,e,n)}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){var a,i,o,s,u=t.initialState;if(null==u)a=n.forwardLayer.call(e,t),i=n.backwardLayer.call(e,t);else{var c=u.slice(0,u.length/2),l=u.slice(u.length/2);a=n.forwardLayer.call(e,Object.assign(t,{initialState:c})),i=n.backwardLayer.call(e,Object.assign(t,{initialState:l}))}return n.returnState&&(Array.isArray(a)&&(o=a.slice(1).concat(i.slice(1))),a=a[0],i=i[0]),n.returnSequences&&(i=r.reverse(i,1)),"concat"===n.mergeMode?s=oi([a,i]):"sum"===n.mergeMode?s=r.add(a,i):"ave"===n.mergeMode?s=r.mul(.5,r.add(a,i)):"mul"===n.mergeMode?s=r.mul(a,i):null==n.mergeMode&&(s=[a,i]),n.returnState?null==n.mergeMode?s.concat(o):[s].concat(o):s}))}},{key:"resetStates",value:function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}},{key:"build",value:function(e){var t=this;Ha(this.forwardLayer.name,(function(){t.forwardLayer.build(e)})),Ha(this.backwardLayer.name,(function(){t.backwardLayer.build(e)})),this.built=!0}},{key:"computeMask",value:function(e,t){var n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){var r=this.forwardLayer.states.map((function(e){return null}));return Array.isArray(n)?n.concat(r).concat(r):[n].concat(r).concat(r)}return n}},{key:"setFastWeightInitDuringBuild",value:function(e){Object(Lo.a)(Object(ea.a)(t.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e={mergeMode:this.mergeMode},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}},{key:"trainable",get:function(){return this._trainable},set:function(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}},{key:"trainableWeights",get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}},{key:"nonTrainableWeights",get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}}],[{key:"fromConfig",value:function(e,t){var n=Po(t.layer);if(delete t.layer,null!=t.numConstants)throw new ca("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=t;return r.layer=n,new e(r)}}]),t}(Zc);el.className="Bidirectional",r.serialization.registerClass(el);var tl=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).scale=e.scale,e.offset?n.offset=e.offset:n.offset=0,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getConfig",value:function(){var e={scale:this.scale,offset:this.offset},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){return"float32"!==(e=Ui(e)).dtype&&(e=ti(e,"float32")),Object(r.add)(Object(r.mul)(e,n.scale),n.offset)}))}}]),t}(eo);tl.className="Rescaling",r.serialization.registerClass(tl);var nl=r.image.resizeBilinear,rl=r.image.cropAndResize,al=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).height=e.height,n.width=e.width,n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"centerCrop",value:function(e,t,n,a,i,o,s,u){return Object(r.tidy)((function(){var c,l=!1,d=[t/o,n/s,(a+t)/o,(i+n)/s],p=[];3===e.rank?(l=!0,c=Object(r.stack)([e])):c=e;for(var f=0;f<c.shape[0];f++)p.push(d);var h=Object(r.tensor)(p,[p.length,4]),m=Object(r.range)(0,p.length,1,"int32"),v=rl(c,h,m,[a,i],"nearest");return ti(l?Ui(Object(r.unstack)(v)):v,u)}))}},{key:"upsize",value:function(e,t,n,a){return Object(r.tidy)((function(){return ti(nl(e,[t,n]),a)}))}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){var t=Ui(e),r=t.dtype,a=t.shape,i=a[a.length-3],o=a[a.length-2],s=0;i!==n.height&&(s=Math.floor((i-n.height)/2));var u=0;return o!==n.width&&0===(u=Math.floor((o-n.width)/2))&&(u=1),s>=0&&u>=0?n.centerCrop(t,s,u,n.height,n.width,i,o,r):n.upsize(e,n.height,n.width,r)}))}},{key:"getConfig",value:function(){var e={height:this.height,width:this.width},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}},{key:"computeOutputShape",value:function(e){var t=(e=Wi(e)).length-3,n=e.length-2;return e[t]=this.height,e[n]=this.width,e}}]),t}(eo);al.className="CenterCrop",r.serialization.registerClass(al);var il=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).numTokens=e.numTokens,e.outputMode?n.outputMode=e.outputMode:n.outputMode="multiHot",n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getConfig",value:function(){var e={numTokens:this.numTokens,outputMode:this.outputMode},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}},{key:"computeOutputShape",value:function(e){return null==(e=Wi(e))?[this.numTokens]:"oneHot"===this.outputMode&&1!==e[e.length-1]?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){var a;if("int32"!==(e=Ui(e)).dtype&&(e=ti(e,"int32")),"undefined"!==typeof t.countWeights){if("count"!==n.outputMode)throw new ua("countWeights is not used when outputMode !== count.\n              Received countWeights=".concat(t.countWeights));a=Ui(t.countWeights)}var i=Object(r.max)(e),o=Object(r.min)(e),s=Object(r.greater)(n.numTokens,i).bufferSync().get(0),u=Object(r.greaterEqual)(o,0).bufferSync().get(0);if(!s||!u)throw new ua("Input values must be between 0 < values <="+" numTokens with numTokens=".concat(n.numTokens));return function(e,t,n,a){var i=Ui(e);if("int32"!==i.dtype&&(i=ti(i,"int32")),"int"===t)return i;var o=i.shape;if(0===i.rank&&(i=Object(r.expandDims)(i,-1)),"oneHot"===t&&1!==i.shape[i.shape.length-1]&&(i=Object(r.expandDims)(i,-1)),i.rank>2)throw new ua("When outputMode is not int, maximum output rank is 2"+" Received outputMode ".concat(t," and input shape ").concat(o)+" which would result in output rank ".concat(i.rank,"."));var s,u=["multiHot","oneHot"].includes(t),c=i;if(s="undefined"!==typeof a&&"count"===t?Object(r.denseBincount)(c,a,n,u):Object(r.denseBincount)(c,[],n,u),"tfIdf"!==t)return s;if(a)return Object(r.mul)(s,a);throw new ua("When outputMode is 'tfIdf', weights must be provided.")}(e,n.outputMode,n.numTokens,a)}))}}]),t}(eo);il.className="CategoryEncoding",r.serialization.registerClass(il);var ol=new Set(["bilinear","nearest"]),sl=function(e){function t(e){var n;if(Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).height=e.height,n.width=e.width,e.interpolation){if(!ol.has(e.interpolation))throw new ua("Invalid interpolation parameter: ".concat(e.interpolation," is not implemented"));n.interpolation=e.interpolation}else n.interpolation="bilinear";return n.cropToAspectRatio=Boolean(e.cropToAspectRatio),n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"computeOutputShape",value:function(e){var t=(e=Wi(e))[2];return[this.height,this.width,t]}},{key:"getConfig",value:function(){var e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){var t=[n.height,n.width];if("bilinear"===n.interpolation)return r.image.resizeBilinear(e,t,!n.cropToAspectRatio);if("nearest"===n.interpolation)return r.image.resizeNearestNeighbor(e,t,!n.cropToAspectRatio);throw new Error("Interpolation is ".concat(n.interpolation," but only ").concat(Object(Gn.a)(ol)," are supported"))}))}}]),t}(eo);sl.className="Resizing",r.serialization.registerClass(sl);var ul=function(){function e(t){Object(Zr.a)(this,e),this.seed=t}return Object(Qr.a)(e,[{key:"next",value:function(){if(void 0!==this.seed)return this.seed++}}]),e}();ul.className="RandomSeed";var cl=function(e){function t(e){var n;return Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e))).randomGenerator=new ul(e.seed),n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getConfig",value:function(){var e={seed:this.randomGenerator.seed},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}}]),t}(eo);cl.className="BaseRandomLayer";var ll=new Set(["bilinear","nearest"]),dl=function(e){function t(e){var n;Object(Zr.a)(this,t),n=Object(Jr.a)(this,Object(ea.a)(t).call(this,e));var r=e.factor,a=e.interpolation,i=void 0===a?"bilinear":a;if(n.factor=r,Array.isArray(n.factor)&&2===n.factor.length)n.widthLower=n.factor[0],n.widthUpper=n.factor[1];else{if(Array.isArray(n.factor)||!(n.factor>0))throw new ua("Invalid factor: ".concat(n.factor,". Must be positive number or tuple of 2 numbers"));n.widthLower=-n.factor,n.widthUpper=n.factor}if(n.widthLower<-1||n.widthUpper<-1)throw new ua("factor must have values larger than -1. Got: ".concat(n.factor));if(n.widthUpper<n.widthLower)throw new ua("factor cannot have upper bound less than lower bound.\n        Got upper bound: ".concat(n.widthUpper,".\n        Got lower bound: ").concat(n.widthLower,"\n      "));if(i){if(!ll.has(i))throw new ua("Invalid interpolation parameter: ".concat(i," is not implemented"));n.interpolation=i}return n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"getConfig",value:function(){var e={factor:this.factor,interpolation:this.interpolation},n=Object(Lo.a)(Object(ea.a)(t.prototype),"getConfig",this).call(this);return Object.assign(e,n),e}},{key:"computeOutputShape",value:function(e){var t=(e=Wi(e))[2];return[this.imgHeight,-1,t]}},{key:"call",value:function(e,t){var n=this;return Object(r.tidy)((function(){var t=Ui(e);n.imgHeight=t.shape[t.shape.length-3];var a=t.shape[t.shape.length-2];n.widthFactor=Object(r.randomUniform)([1],1+n.widthLower,1+n.widthUpper,"float32",n.randomGenerator.next());var i=n.widthFactor.dataSync()[0]*a;i=Math.round(i);var o=[n.imgHeight,i];switch(n.interpolation){case"bilinear":return r.image.resizeBilinear(e,o);case"nearest":return r.image.resizeNearestNeighbor(e,o);default:throw new Error("Interpolation is ".concat(n.interpolation,"\n          but only ").concat(Object(Gn.a)(ll)," are supported"))}}))}}]),t}(cl);dl.className="RandomWidth",r.serialization.registerClass(dl);Object(r.env)().registerFlag("KEEP_INTERMEDIATE_TENSORS",(function(){return!1}),(function(e){e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")}));n(88),n(3),n(158),n(36);ia(Error);new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);var pl=n(133),fl=n(71),hl=n(106),ml=function(){function e(){Object(Zr.a)(this,e),this.size=null}return Object(Qr.a)(e,[{key:"batch",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this;return r.util.assert(e>0,(function(){return"batchSize needs to be positive, but it is\n      ".concat(e)})),t=this.size===1/0||null==this.size?this.size:n?Math.ceil(this.size/e):Math.floor(this.size/e),vl(Object(Oo.a)(wo.a.mark((function t(){return wo.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.iterator();case 2:return t.t0=e,t.t1=n,t.t2=bl,t.abrupt("return",t.sent.columnMajorBatch(t.t0,t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))),t)}},{key:"concatenate",value:function(e){var t,n=this;return t=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,vl(Object(Oo.a)(wo.a.mark((function t(){return wo.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.t0=t.sent,t.next=5,e.iterator();case 5:return t.t1=t.sent,t.abrupt("return",t.t0.concatenate.call(t.t0,t.t1));case 7:case"end":return t.stop()}}),t)}))),t)}},{key:"filter",value:function(e){var t,n=this;return t=this.size===1/0?1/0:null,vl(Object(Oo.a)(wo.a.mark((function t(){return wo.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.t0=function(t){return r.tidy((function(){return e(t)}))},t.abrupt("return",t.sent.filter(t.t0));case 4:case"end":return t.stop()}}),t)}))),t)}},{key:"forEachAsync",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.iterator();case 2:return e.t0=t,e.abrupt("return",e.sent.forEachAsync(e.t0));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(e){var t=this;return vl(Object(Oo.a)(wo.a.mark((function n(){return wo.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.t0=function(t){return r.tidy((function(){return e(t)}))},n.abrupt("return",n.sent.map(n.t0));case 4:case"end":return n.stop()}}),n)}))),this.size)}},{key:"mapAsync",value:function(e){var t=this;return vl(Object(Oo.a)(wo.a.mark((function n(){return wo.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.t0=e,n.abrupt("return",n.sent.mapAsync(n.t0));case 4:case"end":return n.stop()}}),n)}))),this.size)}},{key:"prefetch",value:function(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");var t=this;return vl(Object(Oo.a)(wo.a.mark((function n(){return wo.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.t0=e,n.abrupt("return",n.sent.prefetch(n.t0));case 4:case"end":return n.stop()}}),n)}))),this.size)}},{key:"repeat",value:function(e){var t,n=this;return t=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,vl(Object(Oo.a)(wo.a.mark((function t(){var r;return wo.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(fl.e)(Object(Oo.a)(wo.a.mark((function e(){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.iterator();case 2:return e.t0=e.sent,e.abrupt("return",{value:e.t0,done:!1});case 4:case"end":return e.stop()}}),e)})))),t.abrupt("return",Object(fl.d)(r.take(e)));case 2:case"end":return t.stop()}}),t)}))),t)}},{key:"skip",value:function(e){var t,n=this;return t=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,vl(Object(Oo.a)(wo.a.mark((function t(){return wo.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.t0=e,t.abrupt("return",t.sent.skip(t.t0));case 4:case"end":return t.stop()}}),t)}))),t)}},{key:"shuffle",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting "+"bufferSize to the dataset size (".concat(this.size," elements)"));var a=this,i=pl.alea(t||r.util.now().toString());return vl(Object(Oo.a)(wo.a.mark((function t(){var r;return wo.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.int32(),n&&(r+=i.int32()),t.next=4,a.iterator();case 4:return t.t0=e,t.t1=r.toString(),t.abrupt("return",t.sent.shuffle(t.t0,t.t1));case 7:case"end":return t.stop()}}),t)}))),this.size)}},{key:"take",value:function(e){var t,n=this;return t=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,vl(Object(Oo.a)(wo.a.mark((function t(){return wo.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.t0=e,t.abrupt("return",t.sent.take(t.t0));case 4:case"end":return t.stop()}}),t)}))),t)}},{key:"toArray",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArray());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArrayForTest());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function vl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new(function(n){function r(){var e;return Object(Zr.a)(this,r),(e=Object(Jr.a)(this,Object(ea.a)(r).apply(this,arguments))).size=t,e}return Object(na.a)(r,n),Object(Qr.a)(r,[{key:"iterator",value:function(){var t=Object(Oo.a)(wo.a.mark((function t(){return wo.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),r}(ml))}function bl(e){if(null===e)return null;var t=e[0];return Object(hl.a)(t)?{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof r.Tensor?r.stack(e):r.tensor(e)}(e),recurse:!1}:{value:null,recurse:!0}}ml.MAX_BUFFER_SIZE=1e4;Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote"),fl.a,fl.a,n(408).a;function gl(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&r.util.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors in the CPU backend.")}))}))}var yl=r.kernel_impls.whereImpl,_l=function(e){function t(){var e;return Object(Zr.a)(this,t),(e=Object(Jr.a)(this,Object(ea.a)(t).call(this))).blockSize=48,e.firstUse=!0,e.data=new r.DataStorage(Object(ta.a)(e),Object(r.engine)()),e}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"nextDataId",value:function(){return t.nextDataId++}}]),Object(Qr.a)(t,[{key:"write",value:function(e,t,n){this.firstUse&&(this.firstUse=!1,Object(r.env)().get("IS_NODE")&&r.backend_util.warn("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));var a={id:this.nextDataId()};return this.data.set(a,{values:e,dtype:n,refCount:1}),a}},{key:"makeTensorInfo",value:function(e,t,n){var a;if("string"===t&&null!=n&&n.length>0&&r.util.isString(n[0])){var i=n.map((function(e){return r.util.encodeString(e)}));a=this.write(i,e,t)}else a=this.write(n,e,t);return{dataId:a,shape:e,dtype:t}}},{key:"refCount",value:function(e){return this.data.has(e)?this.data.get(e).refCount:0}},{key:"incRef",value:function(e){this.data.get(e).refCount++}},{key:"decRef",value:function(e){this.data.has(e)&&this.data.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){this.data.set(e,{values:t,dtype:r,refCount:a})}},{key:"numDataIds",value:function(){return this.data.numDataIds()}},{key:"read",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readSync(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readSync",value:function(e){var t=this.data.get(e),n=t.dtype,a=t.complexTensorInfos;if("complex64"===n){var i=this.readSync(a.real.dataId),o=this.readSync(a.imag.dataId);return r.backend_util.mergeRealAndImagArrays(i,o)}return r.util.convertBackendValuesAndArrayBuffer(this.data.get(e).values,n)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map((function(e){return r.util.decodeString(e)}));return Object(r.buffer)(e.shape,e.dtype,n)}catch(a){throw new Error("Failed to decode encoded string bytes into utf-8")}return Object(r.buffer)(e.shape,e.dtype,t)}},{key:"makeOutput",value:function(e,t,n){return Object(r.engine)().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;var n=this.data.get(e),r=n.complexTensorInfos;null!=r&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"time",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t){var n,a;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.util.now(),t(),a=r.util.now()-n,e.abrupt("return",{kernelMs:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"memory",value:function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}},{key:"where",value:function(e){gl([e],"where");var t=this.readSync(e.dataId);return yl(e.shape,t)}},{key:"dispose",value:function(){}},{key:"floatPrecision",value:function(){return 32}},{key:"epsilon",value:function(){return Object(Lo.a)(Object(ea.a)(t.prototype),"epsilon",this).call(this)}}]),t}(r.KernelBackend);_l.nextDataId=0;function xl(e){return function(t,n,a){for(var i=r.util.getArrayFromDType(n,t.length),o=0;o<t.length;++o)i[o]=e(t[o],a);return i}}function kl(e,t,n){return wl(e,xl(t),n)}function wl(e,t,n){return function(a){var i=a.inputs,o=a.attrs,s=a.backend,u=i.x;gl(u,e);var c,l=s,d=l.data.get(u.dataId).values;if("string"===u.dtype){if(!Array.isArray(d))throw new Error("String tensor's value was not an instance of Array");c=r.backend_util.fromUint8ToStringArray(d)}else c=d;var p=n||u.dtype,f=t(c,p,o);return l.makeTensorInfo(u.shape,p,f)}}Object(r.registerBackend)("cpu",(function(){return new _l}),1);var Ol=kl(r.Elu,(function(e){return e>=0?e:Math.exp(e)-1})),jl={kernelName:r.Elu,backendName:"cpu",kernelFunc:Ol};function Sl(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var Cl={kernelName:r.Identity,backendName:"cpu",kernelFunc:Sl};function Tl(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.alpha;gl([i],"leakyRelu");for(var s=r.util.sizeFromShape(i.shape),u=n.data.get(i.dataId).values,c=r.util.getTypedArrayFromDType("float32",s),l=0;l<u.length;l++)c[l]=u[l]<0?o*u[l]:u[l];return n.makeTensorInfo(i.shape,"float32",c)}var Nl={kernelName:r.LeakyRelu,backendName:"cpu",kernelFunc:Tl};function El(e){return function(t,n,a,i,o){var s=r.backend_util.assertAndGetBroadcastShape(t,n),u=s.length,c=r.util.computeStrides(s),l=r.util.sizeFromShape(s),d=r.util.getTypedArrayFromDType(o,l),p=t.length,f=n.length,h=r.util.computeStrides(t),m=r.util.computeStrides(n),v=r.backend_util.getBroadcastDims(t,s),b=r.backend_util.getBroadcastDims(n,s);if(v.length+b.length===0)for(var g=0;g<d.length;++g)d[g]=e(a[g%a.length],i[g%i.length]);else for(var y=function(t){var n=r.util.indexToLoc(t,u,c),o=n.slice(-p);v.forEach((function(e){return o[e]=0}));var s=r.util.locToIndex(o,p,h),l=n.slice(-f);b.forEach((function(e){return l[e]=0}));var g=r.util.locToIndex(l,f,m);d[t]=e(a[s],i[g])},_=0;_<d.length;++_)y(_);return[d,s]}}var Il=El((function(e,t){return e<0?t*e:e}));function Al(e){var t=e.inputs,n=e.backend,r=t.x,i=t.alpha;gl([r,i],"prelu");var o=n.data.get(r.dataId).values,s=n.data.get(i.dataId).values,u=Il(r.shape,i.shape,o,s,"float32"),c=Object(a.a)(u,2),l=c[0],d=c[1];return n.makeTensorInfo(d,"float32",l)}var Rl={kernelName:r.Prelu,backendName:"cpu",kernelFunc:Al},Dl=kl(r.Relu,(function(e){return Math.max(0,e)})),Ml={kernelName:r.Relu,backendName:"cpu",kernelFunc:Dl},Fl=kl(r.Relu6,(function(e){return Math.min(Math.max(0,e),6)})),Ll={kernelName:r.Relu6,backendName:"cpu",kernelFunc:Fl},Pl=xl((function(e){return 1/(1+Math.exp(-e))})),zl=kl(r.Sigmoid,(function(e){return 1/(1+Math.exp(-e))})),Bl={kernelName:r.Sigmoid,backendName:"cpu",kernelFunc:zl};function Vl(e,t,n,r,a){if("linear"===n)return Sl({inputs:{x:t},backend:e});if("relu"===n)return Dl({inputs:{x:t},backend:e});if("elu"===n)return Ol({inputs:{x:t},backend:e});if("relu6"===n)return Fl({inputs:{x:t},backend:e});if("prelu"===n)return Al({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return Tl({inputs:{x:t},backend:e,attrs:{alpha:a}});if("sigmoid"===n)return zl({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function Ul(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(a.shape,"float32",o)},s}var Wl={kernelName:r.Complex,backendName:"cpu",kernelFunc:Ul};function Hl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n)return Ul({inputs:{real:Hl(e,t,"float32"),imag:Hl(e,t,"float32")},backend:e});var a=r.util.makeZerosTypedArray(r.util.sizeFromShape(t),n);return e.makeTensorInfo(t,n,a)}function Gl(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}var $l={kernelName:r.Real,backendName:"cpu",kernelFunc:Gl};function ql(e,t,n,i){if("int32"===i)return[t,"int32",Int32Array.from(e)];if("bool"===i){var o=r.util.toTypedArray([0],n),s=El((function(e,t){return e!==t?1:0}))(t,[],e,o,"bool"),u=Object(a.a)(s,2),c=u[0];return[u[1],"bool",c]}throw new Error("Error in Cast: failed to cast ".concat(n," to ").concat(i))}function Kl(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.x,s=i.dtype;if("complex64"===s){if("complex64"===o.dtype)return Sl({inputs:{x:o},backend:n});var u=Hl(n,o.shape,o.dtype),c=Kl({inputs:{x:o},backend:n,attrs:{dtype:"float32"}}),l=Ul({inputs:{real:c,imag:u},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),l}if("complex64"===o.dtype){var d=Gl({inputs:{input:o},backend:n}),p=Kl({inputs:{x:d},backend:n,attrs:{dtype:s}});return n.disposeIntermediateTensorInfo(d),p}if(!r.util.hasEncodingLoss(o.dtype,s)){var f=Sl({inputs:{x:o},backend:n});return{dataId:f.dataId,shape:f.shape,dtype:s}}var h=ql(n.data.get(o.dataId).values,o.shape,o.dtype,s),m=Object(a.a)(h,3),v=m[0],b=m[1],g=m[2];return n.makeTensorInfo(v,b,g)}var Xl={kernelName:r.Cast,backendName:"cpu",kernelFunc:Kl};function Yl(e,t,n,i){return null==n?function(n){var o=n.inputs,s=n.backend,u=o.a,c=o.b,l=s;gl([u,c],e);var d=l.data.get(u.dataId).values,p=l.data.get(c.dataId).values,f="string"===u.dtype?r.backend_util.fromUint8ToStringArray(d):d,h="string"===u.dtype?r.backend_util.fromUint8ToStringArray(p):p,m=i||u.dtype,v=t(u.shape,c.shape,f,h,m),b=Object(a.a)(v,2),g=b[0],y=b[1];return l.makeTensorInfo(y,m,g)}:function(e){var r=e.inputs,o=e.backend,s=r.a,u=r.b,c=o;if("complex64"===s.dtype||"complex64"===u.dtype){var l=Kl({inputs:{x:s},backend:c,attrs:{dtype:"complex64"}}),d=c.data.get(l.dataId),p=d.complexTensorInfos.real,f=d.complexTensorInfos.imag,h=c.data.get(p.dataId).values,m=c.data.get(f.dataId).values,v=Kl({inputs:{x:u},backend:c,attrs:{dtype:"complex64"}}),b=c.data.get(v.dataId),g=b.complexTensorInfos.real,y=b.complexTensorInfos.imag,_=c.data.get(g.dataId).values,x=c.data.get(y.dataId).values,k=n(s.shape,u.shape,h,m,_,x),w=Object(a.a)(k,3),O=w[0],j=w[1],S=w[2],C=c.makeTensorInfo(S,"float32",O),T=c.makeTensorInfo(S,"float32",j),N=Ul({inputs:{real:C,imag:T},backend:c});return c.disposeIntermediateTensorInfo(l),c.disposeIntermediateTensorInfo(v),c.disposeIntermediateTensorInfo(C),c.disposeIntermediateTensorInfo(T),N}var E=c.data.get(s.dataId).values,I=c.data.get(u.dataId).values,A=i||s.dtype,R=t(s.shape,u.shape,E,I,A),D=Object(a.a)(R,2),M=D[0],F=D[1];return c.makeTensorInfo(F,A,M)}}function Zl(e){return function(t,n,a,i,o,s){var u=r.backend_util.assertAndGetBroadcastShape(t,n),c=r.util.sizeFromShape(u),l=u.length,d=r.util.computeStrides(u),p=r.util.getTypedArrayFromDType("float32",c),f=r.util.getTypedArrayFromDType("float32",c),h=r.backend_util.getBroadcastDims(t,u),m=r.backend_util.getBroadcastDims(n,u),v=r.backend_util.mergeRealAndImagArrays(a,i),b=r.backend_util.mergeRealAndImagArrays(o,s),g=t.length,y=r.util.computeStrides(t),_=n.length,x=r.util.computeStrides(n);if(h.length+m.length===0)for(var k=0;k<p.length;k++){var w=k%v.length,O=k%b.length,j=e(v[2*w],v[2*w+1],b[2*O],b[2*O+1]);p[k]=j.real,f[k]=j.imag}else for(var S=function(t){var n=r.util.indexToLoc(t,l,d),a=n.slice(-g);h.forEach((function(e){return a[e]=0}));var i=r.util.locToIndex(a,g,y),o=n.slice(-_);m.forEach((function(e){return o[e]=0}));var s=r.util.locToIndex(o,_,x),u=e(v[2*i],v[2*i+1],b[2*s],b[2*s+1]);p[t]=u.real,f[t]=u.imag},C=0;C<p.length;C++)S(C);return[p,f,u]}}var Ql=El((function(e,t){return e+t})),Jl=Zl((function(e,t,n,r){return{real:e+n,imag:t+r}})),ed=Yl(r.Add,Ql,Jl),td={kernelName:r.Add,backendName:"cpu",kernelFunc:ed};function nd(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.shape,s=r.util.sizeFromShape(i.shape),u=r.util.inferFromImplicitShape(o,s),c=r.util.sizeFromShape(u);r.util.assert(s===c,(function(){return"The new shape (".concat(u,") has ").concat(c," elements and the old ")+"shape (".concat(i.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."})),n.incRef(i.dataId);var l=n.data.get(i.dataId);if(null!=l.complexTensorInfos){var d=l.complexTensorInfos.real,p=l.complexTensorInfos.imag;d.shape=u,p.shape=u}return{dataId:i.dataId,shape:u,dtype:i.dtype}}var rd={kernelName:r.Reshape,backendName:"cpu",kernelFunc:nd};function ad(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.a,s=t.b,u=i.transposeA,c=i.transposeB;gl([o,s],"matMul");var l=o.shape.length,d=s.shape.length,p=u?o.shape[l-2]:o.shape[l-1],f=c?s.shape[d-1]:s.shape[d-2],h=u?o.shape[l-1]:o.shape[l-2],m=c?s.shape[d-2]:s.shape[d-1],v=o.shape.slice(0,-2),b=s.shape.slice(0,-2),g=r.util.sizeFromShape(v),y=r.util.sizeFromShape(b),_=r.broadcast_util.assertAndGetBroadcastShape(o.shape.slice(0,-2),s.shape.slice(0,-2)).concat([h,m]);r.util.assert(p===f,(function(){return"Error in matMul: inner shapes (".concat(p,") and (")+"".concat(f,") of Tensors with shapes ").concat(o.shape," and ")+"".concat(s.shape," and transposeA=").concat(u)+" and transposeB=".concat(c," must match.")}));for(var x=c?[y,m,f]:[y,f,m],k=nd({inputs:{x:o},backend:n,attrs:{shape:u?[g,p,h]:[g,h,p]}}),w=nd({inputs:{x:s},backend:n,attrs:{shape:x}}),O=u?k.shape[1]:k.shape[2],j=u?k.shape[2]:k.shape[1],S=c?w.shape[1]:w.shape[2],C=Math.max(g,y),T=n.data.get(k.dataId).values,N=n.data.get(w.dataId).values,E=r.util.computeStrides(k.shape),I=r.util.computeStrides(w.shape),A=u?[E[0],1,E[1]]:[E[0],E[1],1],R=Object(a.a)(A,3),D=R[0],M=R[1],F=R[2],L=c?[1,I[1],I[0]]:[I[1],1,I[0]],P=Object(a.a)(L,3),z=P[0],B=P[1],V=P[2],U=j*S,W=Object(r.buffer)([C,j,S],k.dtype),H=W.values,G=n.blockSize,$=0;$<C;$++)for(var q=$%g,K=$%y,X=0;X<j;X+=G)for(var Y=Math.min(X+G,j),Z=0;Z<S;Z+=G)for(var Q=Math.min(Z+G,S),J=0;J<O;J+=G)for(var ee=Math.min(J+G,O),te=X;te<Y;te++)for(var ne=Z;ne<Q;ne++){for(var re=0,ae=J;ae<ee;ae++){re+=T[q*D+te*M+ae*F]*N[ae*z+ne*B+K*V]}H[$*U+(te*S+ne)]+=re}return n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(w),n.makeTensorInfo(_,W.dtype,W.values)}var id={kernelName:r.BatchMatMul,backendName:"cpu",kernelFunc:ad};var od={kernelName:r._FusedMatMul,backendName:"cpu",kernelFunc:function(e){var t,n,r,a=e.inputs,i=e.backend,o=e.attrs,s=a.a,u=a.b,c=a.bias,l=a.preluActivationWeights,d=o.transposeA,p=o.transposeB,f=o.activation,h=o.leakyreluAlpha,m=[];t=ad({inputs:{a:s,b:u},attrs:{transposeA:d,transposeB:p},backend:i}),c&&(n=ed({inputs:{a:t,b:c},backend:i}),m.push(t),t=n),f&&(r=Vl(i,t,f,l,h),m.push(t),t=r);for(var v=0,b=m;v<b.length;v++){var g=b[v];i.disposeIntermediateTensorInfo(g)}return t}};function sd(e){for(var t=new Float32Array(e.length),n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}var ud={kernelName:r.Abs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs.x,n=e.backend;gl(t,"abs");var a=new Float32Array(r.util.sizeFromShape(t.shape));return a=sd(n.data.get(t.dataId).values),n.makeOutput(a,t.shape,t.dtype)}},cd=kl(r.Acos,(function(e){return Math.acos(e)})),ld={kernelName:r.Acos,backendName:"cpu",kernelFunc:cd},dd=kl(r.Acosh,(function(e){return Math.acosh(e)})),pd={kernelName:r.Acosh,backendName:"cpu",kernelFunc:dd};var fd={kernelName:r.AddN,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=t;gl(t,"addN");for(var i=a.map((function(e){return n.data.get(e.dataId).values})),o=Object(r.buffer)(a[0].shape,a[0].dtype),s=o.values,u=0;u<a.length;u++)for(var c=i[u],l=0;l<s.length;l++)s[l]+=c[l];return n.makeTensorInfo(o.shape,o.dtype,o.values)}};function hd(e,t,n,a,i){for(var o=t.length,s=r.util.sizeFromShape(t),u=r.util.computeStrides(t),c=r.util.computeStrides(i),l=r.util.getTypedArrayFromDType(n,r.util.sizeFromShape(i)),d=0;d<s;++d){for(var p=r.util.indexToLoc(d,o,u),f=new Array(p.length),h=0;h<f.length;h++)f[h]=p[a[h]];l[r.util.locToIndex(f,o,c)]=e[d]}return l}function md(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.perm;gl(a,"transpose");for(var o=a.shape.length,s=new Array(o),u=0;u<s.length;u++)s[u]=a.shape[i[u]];var c=hd(r.data.get(a.dataId).values,a.shape,a.dtype,i,s);return{dataId:r.write(c,s,a.dtype),shape:s,dtype:a.dtype}}var vd={kernelName:r.Transpose,backendName:"cpu",kernelFunc:md};var bd={kernelName:r.All,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.x,s=i.axis,u=i.keepDims;gl(o,"all");var c=r.util.parseAxisParam(s,o.shape),l=c,d=r.backend_util.getAxesPermutation(l,o.shape.length),p=o;null!=d&&(p=md({inputs:{x:o},backend:n,attrs:{perm:d}}),l=r.backend_util.getInnerMostAxes(l.length,o.shape.length)),r.backend_util.assertAxesAreInnerMostDims("all",l,p.shape.length);for(var f=r.backend_util.computeOutAndReduceShapes(p.shape,l),h=Object(a.a)(f,2),m=h[0],v=h[1],b=r.util.sizeFromShape(v),g=r.util.makeZerosTypedArray(r.util.sizeFromShape(m),p.dtype),y=n.data.get(p.dataId).values,_=0;_<g.length;++_){for(var x=_*b,k=y[x],w=0;w<b;++w){var O=y[x+w];k=k&&O}g[_]=k}null!=d&&n.disposeIntermediateTensorInfo(p);var j=n.makeTensorInfo(m,p.dtype,g);if(u){var S=nd({inputs:{x:j},backend:n,attrs:{shape:r.backend_util.expandShapeToKeepDim(m,c)}});return n.disposeIntermediateTensorInfo(j),S}return j}};var gd={kernelName:r.Any,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.x,s=i.axis,u=i.keepDims;gl(o,"any");var c=r.util.parseAxisParam(s,o.shape),l=c,d=r.backend_util.getAxesPermutation(l,o.shape.length),p=o;null!=d&&(p=md({inputs:{x:o},backend:n,attrs:{perm:d}}),l=r.backend_util.getInnerMostAxes(l.length,o.shape.length)),r.backend_util.assertAxesAreInnerMostDims("any",l,p.shape.length);for(var f=r.backend_util.computeOutAndReduceShapes(p.shape,l),h=Object(a.a)(f,2),m=h[0],v=h[1],b=r.util.sizeFromShape(v),g=r.util.makeZerosTypedArray(r.util.sizeFromShape(m),p.dtype),y=n.data.get(p.dataId).values,_=0;_<g.length;++_){for(var x=_*b,k=y[x],w=0;w<b;++w){var O=y[x+w];k=k||O}g[_]=k}null!=d&&n.disposeIntermediateTensorInfo(p);var j=n.makeTensorInfo(m,p.dtype,g);if(u){var S=nd({inputs:{x:j},backend:n,attrs:{shape:r.backend_util.expandShapeToKeepDim(m,c)}});return n.disposeIntermediateTensorInfo(j),S}return j}};var yd={kernelName:r.ArgMax,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.x,s=i.axis;gl(o,"argMax");var u=r.util.parseAxisParam(s,o.shape),c=r.backend_util.getAxesPermutation(u,o.shape.length),l=o,d=[];null!=c&&(l=md({inputs:{x:o},backend:n,attrs:{perm:c}}),d.push(l),u=r.backend_util.getInnerMostAxes(u.length,l.shape.length)),u=[u[0]],r.backend_util.assertAxesAreInnerMostDims("argMax",u,l.shape.length);for(var p=r.backend_util.computeOutAndReduceShapes(l.shape,u),f=Object(a.a)(p,2),h=f[0],m=f[1],v=r.util.sizeFromShape(h),b=r.util.makeZerosTypedArray(v,"int32"),g=r.util.sizeFromShape(m),y=n.data.get(l.dataId).values,_=0;_<b.length;++_){for(var x=_*g,k=y[x],w=0,O=0;O<g;++O){var j=y[x+O];j>k&&(k=j,w=O)}b[_]=w}return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(h,"int32",b)}};var _d={kernelName:r.ArgMin,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.x,s=i.axis;gl(o,"argMin");var u=r.util.parseAxisParam(s,o.shape),c=r.backend_util.getAxesPermutation(u,o.shape.length),l=o,d=[];null!=c&&(l=md({inputs:{x:o},backend:n,attrs:{perm:c}}),d.push(l),u=r.backend_util.getInnerMostAxes(u.length,l.shape.length)),u=[u[0]],r.backend_util.assertAxesAreInnerMostDims("argMin",u,l.shape.length);for(var p=r.backend_util.computeOutAndReduceShapes(l.shape,u),f=Object(a.a)(p,2),h=f[0],m=f[1],v=r.util.sizeFromShape(h),b=r.util.makeZerosTypedArray(v,"int32"),g=r.util.sizeFromShape(m),y=n.data.get(l.dataId).values,_=0;_<b.length;++_){for(var x=_*g,k=y[x],w=0,O=0;O<g;++O){var j=y[x+O];j<k&&(k=j,w=O)}b[_]=w}return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(h,"int32",b)}},xd=kl(r.Asin,(function(e){return Math.asin(e)})),kd={kernelName:r.Asin,backendName:"cpu",kernelFunc:xd},wd=kl(r.Asinh,(function(e){return Math.asinh(e)})),Od={kernelName:r.Asinh,backendName:"cpu",kernelFunc:wd},jd=kl(r.Atan,(function(e){return Math.atan(e)})),Sd={kernelName:r.Atan,backendName:"cpu",kernelFunc:jd},Cd=El((function(e,t){return Math.atan2(e,t)})),Td=Yl(r.Atan2,Cd),Nd={kernelName:r.Atan2,backendName:"cpu",kernelFunc:Td},Ed=kl(r.Atanh,(function(e){return Math.atanh(e)})),Id={kernelName:r.Atanh,backendName:"cpu",kernelFunc:Ed};function Ad(e,t,n,a,i,o){for(var s=i.strideHeight,u=i.strideWidth,c=i.dilationHeight,l=i.dilationWidth,d=i.effectiveFilterHeight,p=i.effectiveFilterWidth,f=i.padInfo.top,h=i.padInfo.left,m="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=Object(r.buffer)(i.outShape,n),b=v.values,g=i.outShape[1]*i.outShape[2]*i.outShape[3],y=i.outShape[2]*i.outShape[3],_=i.outShape[3],x=0;x<i.batchSize;++x)for(var k=x*g,w=x*a[0],O=0;O<i.inChannels;++O)for(var j=0;j<i.outHeight;++j)for(var S=j*s-f,C=Math.max(0,S),T=Math.min(i.inHeight,d+S),N=k+j*y,E=0;E<i.outWidth;++E){for(var I=E*u-h,A=Math.max(0,I),R=Math.min(i.inWidth,p+I),D=m,M=0,F=0,L=C;L<T;L+=c){for(var P=w+L*a[1],z=A;z<R;z+=l){var B=e[P+z*a[2]+O];"max"===o&&B>D?D=B:"avg"===o&&(M+=B,F++)}if(isNaN(D))break}b[N+E*_+O]="avg"===o?M/F:D}return v}function Rd(e,t,n,a){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=Object(r.buffer)(a.outShape,"int32"),u=a.strideHeight,c=a.strideWidth,l=a.dilationHeight,d=a.dilationWidth,p=a.effectiveFilterHeight,f=a.effectiveFilterWidth,h=a.padInfo.top,m=a.padInfo.left,v=Object(r.buffer)(t,n,e),b=0;b<a.batchSize;++b)for(var g=0;g<a.inChannels;++g)for(var y=0;y<a.outHeight;++y){for(var _=y*u-h,x=_;x<0;)x+=l;for(var k=Math.min(a.inHeight,p+_),w=0;w<a.outWidth;++w){for(var O=w*c-m,j=O;j<0;)j+=d;for(var S=Math.min(a.inWidth,f+O),C=Number.NEGATIVE_INFINITY,T=-1,N=x;N<k;N+=l)for(var E=N-_,I=j;I<S;I+=d){var A=I-O,R=v.get(b,N,I,g);R>C&&(C=R,T=i?o?((b*a.inHeight+N)*a.inWidth+I)*a.inChannels+g:(N*a.inWidth+I)*a.inChannels+g:E*f+A)}s.set(T,b,y,w,g)}}return s}function Dd(e,t,n,a,i,o){for(var s=i.strideDepth,u=i.strideHeight,c=i.strideWidth,l=i.dilationDepth,d=i.dilationHeight,p=i.dilationWidth,f=i.effectiveFilterDepth,h=i.effectiveFilterHeight,m=i.effectiveFilterWidth,v=i.padInfo.front,b=i.padInfo.top,g=i.padInfo.left,y="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,_=Object(r.buffer)(i.outShape,n),x=_.values,k=i.outShape[1]*i.outShape[2]*i.outShape[3]*i.outShape[4],w=i.outShape[2]*i.outShape[3]*i.outShape[4],O=i.outShape[3]*i.outShape[4],j=i.outShape[4],S=0;S<i.batchSize;++S)for(var C=S*k,T=S*a[0],N=0;N<i.inChannels;++N)for(var E=0;E<i.outDepth;++E){for(var I=E*s-v,A=I;A<0;)A+=l;for(var R=Math.min(i.inDepth,f+I),D=C+E*w,M=0;M<i.outHeight;++M){for(var F=M*u-b,L=F;L<0;)L+=d;for(var P=Math.min(i.inHeight,h+F),z=D+M*O,B=0;B<i.outWidth;++B){for(var V=B*c-g,U=V;U<0;)U+=p;for(var W=Math.min(i.inWidth,m+V),H=z+B*j,G=y,$=0,q=0,K=A;K<R;K+=l){for(var X=T+K*a[1],Y=L;Y<P;Y+=d){for(var Z=X+Y*a[2],Q=U;Q<W;Q+=p){var J=e[Z+Q*a[3]+N];if("max"===o&&J>G?G=J:"avg"===o&&($+=J,q++),isNaN(G))break}if(isNaN(G))break}if(isNaN(G))break}x[H+N]="avg"===o?$/Math.max(q,1):G}}}return _}var Md={kernelName:r.AvgPool,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x;gl(i,"avgPool");var o=a.filterSize,s=a.strides,u=a.pad,c=a.dimRoundingMode;r.util.assert(r.backend_util.eitherStridesOrDilationsAreOne(s,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")}));var l,d=r.backend_util.computePool2DInfo(i.shape,o,s,1,u,c);if(1===d.filterWidth&&1===d.filterHeight&&r.util.arraysEqual(d.inShape,d.outShape))l=Sl({inputs:{x:i},backend:n});else{var p=n.data.get(i.dataId).values,f=r.util.computeStrides(i.shape),h=Ad(p,i.shape,i.dtype,f,d,"avg");l=n.makeTensorInfo(d.outShape,i.dtype,h.values)}return l}};var Fd={kernelName:r.AvgPool3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.filterSize,s=a.strides,u=a.pad,c=a.dimRoundingMode,l=a.dataFormat;gl(i,"avgPool3d");var d=r.backend_util.computePool3DInfo(i.shape,o,s,1,u,c,l),p=Dd(n.data.get(i.dataId).values,i.shape,i.dtype,r.util.computeStrides(i.shape),d,"avg");return n.makeTensorInfo(p.shape,"float32",p.values)}};var Ld={kernelName:r.AvgPool3DGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.dy,o=t.input,s=a.filterSize,u=a.strides,c=a.pad,l=a.dimRoundingMode;gl([i,o],"avgPool3DGrad");for(var d=r.backend_util.computePool3DInfo(o.shape,s,u,1,c,l),p=d.strideDepth,f=d.strideHeight,h=d.strideWidth,m=d.filterDepth,v=d.filterHeight,b=d.filterWidth,g=d.dilationDepth,y=d.dilationHeight,_=d.dilationWidth,x=d.effectiveFilterDepth,k=d.effectiveFilterHeight,w=d.effectiveFilterWidth,O=x-1-d.padInfo.front,j=w-1-d.padInfo.left,S=k-1-d.padInfo.top,C=Object(r.buffer)(o.shape,"float32"),T=1/(m*v*b),N=n.bufferSync(i),E=0;E<d.batchSize;++E)for(var I=0;I<d.inChannels;++I)for(var A=0;A<d.inDepth;++A)for(var R=0;R<d.inHeight;++R)for(var D=0;D<d.inWidth;++D){for(var M=A-O,F=R-S,L=D-j,P=0,z=0;z<x;z+=g){var B=(M+z)/p;if(!(B<0||B>=d.outDepth||Math.floor(B)!==B))for(var V=0;V<k;V+=y){var U=(F+V)/f;if(!(U<0||U>=d.outHeight||Math.floor(U)!==U))for(var W=0;W<w;W+=_){var H=(L+W)/h;if(!(H<0||H>=d.outWidth||Math.floor(H)!==H))P+=N.get(E,B,U,H,I)}}}C.set(P*T,E,A,R,D,I)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}};var Pd={kernelName:r.AvgPoolGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.dy,o=t.input,s=o;gl([i,o],"avgPoolGrad");for(var u=a.filterSize,c=a.strides,l=a.pad,d=r.backend_util.computePool2DInfo(s.shape,u,c,1,l),p=d.strideHeight,f=d.strideWidth,h=d.filterHeight,m=d.filterWidth,v=d.dilationHeight,b=d.dilationWidth,g=d.effectiveFilterHeight,y=d.effectiveFilterWidth,_=y-1-d.padInfo.left,x=g-1-d.padInfo.top,k=Object(r.buffer)(s.shape,"float32"),w=1/(h*m),O=n.data.get(i.dataId).values,j=Object(r.buffer)(i.shape,"float32",O),S=0;S<d.batchSize;++S)for(var C=0;C<d.inChannels;++C)for(var T=0;T<d.inHeight;++T)for(var N=0;N<d.inWidth;++N){for(var E=T-x,I=N-_,A=0,R=0;R<g;R+=v){var D=(E+R)/p;if(!(D<0||D>=d.outHeight||Math.floor(D)!==D))for(var M=0;M<y;M+=b){var F=(I+M)/f;if(!(F<0||F>=d.outWidth||Math.floor(F)!==F))A+=j.get(S,D,F,C)}}k.set(A*w,S,T,N,C)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}};var zd={kernelName:r.FusedBatchNorm,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.scale,s=t.offset,u=t.mean,c=t.variance;r.util.assert(u.shape.length===c.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),r.util.assert(null==s||u.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),r.util.assert(null==o||u.shape.length===o.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),gl([i,u,c,o,s],"batchNorm");var l=a.varianceEpsilon;null==l&&(l=.001);for(var d=n.data.get(i.dataId).values,p=n.data.get(u.dataId).values,f=n.data.get(c.dataId).values,h=o?n.data.get(o.dataId).values:new Float32Array([1]),m=s?n.data.get(s.dataId).values:new Float32Array([0]),v=new Float32Array(d.length),b=m.length,g=h.length,y=f.length,_=p.length,x=0,k=0,w=0,O=0,j=0;j<d.length;++j)v[j]=m[x++]+(d[j]-p[k++])*h[w++]/Math.sqrt(f[O++]+l),x>=b&&(x=0),k>=_&&(k=0),w>=g&&(w=0),O>=y&&(O=0);return n.makeTensorInfo(i.shape,i.dtype,v)}};function Bd(e,t,n,a,i){var o=r.slice_util.isSliceContinous(a,t,n),s=r.util.sizeFromShape(n),u=r.util.computeStrides(a);if(o){var c=r.slice_util.computeFlatOffset(t,u);return"string"===i?e.slice(c,c+s):e.subarray(c,c+s)}for(var l="string"===i?r.backend_util.fromUint8ToStringArray(e):e,d=Object(r.buffer)(a,i,l),p=Object(r.buffer)(n,i),f=0;f<p.size;++f){var h=p.indexToLoc(f),m=h.map((function(e,n){return e+t[n]}));p.set.apply(p,[d.get.apply(d,Object(Gn.a)(m))].concat(Object(Gn.a)(h)))}return"string"===i?r.backend_util.fromStringArrayToUint8(p.values):p.values}function Vd(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.x,s=i.begin,u=i.size;gl(o,"slice");var c=r.slice_util.parseSliceParams(o,s,u),l=Object(a.a)(c,2),d=l[0],p=l[1];r.slice_util.assertParamsValid(o,d,p);var f=Bd(n.data.get(o.dataId).values,d,p,o.shape,o.dtype);return n.makeTensorInfo(p,o.dtype,f)}var Ud={kernelName:r.Slice,backendName:"cpu",kernelFunc:Vd};var Wd={kernelName:r.BatchToSpaceND,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.blockShape,s=a.crops;gl([i],"batchToSpaceND");var u=o.reduce((function(e,t){return e*t})),c=r.backend_util.getReshaped(i.shape,o,u),l=r.backend_util.getPermuted(c.length,o.length),d=r.backend_util.getReshapedPermuted(i.shape,o,u),p=r.backend_util.getSliceBeginCoords(s,o.length),f=r.backend_util.getSliceSize(d,s,o.length),h=nd({inputs:{x:i},backend:n,attrs:{shape:c}}),m=md({inputs:{x:h},backend:n,attrs:{perm:l}}),v=nd({inputs:{x:m},backend:n,attrs:{shape:d}}),b=Vd({inputs:{x:v},backend:n,attrs:{begin:p,size:f}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),b}};function Hd(e,t,n,a,i){for(var o=r.util.sizeFromShape(a),s=r.util.makeZerosTypedArray(i,n),u=0;u<e.length;u++){var c=e[u];if(c<0)throw new Error("Input x must be non-negative!");c>=i||(s[c]+=o>0?t[u]:1)}return s}function Gd(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.shape[0],o=e.shape[1],s=Object(r.buffer)([i,n],t.dtype),u=0;u<i;u++)for(var c=0;c<o;c++){var l=e.get(u,c);if(l<0)throw new Error("Input x must be non-negative!");l>=n||(a?s.set(1,u,l):t.size>0?s.set(s.get(u,l)+t.get(u,c),u,l):s.set(s.get(u,l)+1,u,l))}return s}var $d={kernelName:r.Bincount,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=Hd(n.data.get(a.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,s)}};var qd={kernelName:r.BroadcastArgs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=t.s0,i=t.s1,o=n.data.get(a.dataId).values,s=n.data.get(i.dataId).values,u=r.backend_util.assertAndGetBroadcastShape(Array.from(o),Array.from(s));return n.makeTensorInfo([u.length],"int32",Int32Array.from(u))}},Kd=xl((function(e){return Math.ceil(e)})),Xd=wl(r.Ceil,Kd),Yd={kernelName:r.Ceil,backendName:"cpu",kernelFunc:Xd},Zd=kl(r.ClipByValue,(function(e,t){var n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),Qd={kernelName:r.ClipByValue,backendName:"cpu",kernelFunc:Zd},Jd={kernelName:r.ComplexAbs,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs.x,n=e.backend,a=new Float32Array(r.util.sizeFromShape(t.shape)),i=n.data.get(t.dataId),o=i.complexTensorInfos.real,s=i.complexTensorInfos.imag,u=n.data.get(o.dataId).values,c=n.data.get(s.dataId).values,l=0;l<u.length;l++){var d=u[l],p=c[l];a[l]=Math.hypot(d,p)}return n.makeOutput(a,t.shape,"float32")}};function ep(e,t,n,a){var i=r.util.getArrayFromDType(n,r.util.sizeFromShape(t));if(a&&"string"!==n){var o=0;e.forEach((function(e){var t=r.util.sizeFromShape(e.shape);i.set(e.vals,o),o+=t}))}else{var s=0;e.forEach((function(e){for(var a="string"===n?r.backend_util.fromUint8ToStringArray(e.vals):e.vals,o=0,u=0;u<e.shape[0];++u)for(var c=u*t[1]+s,l=0;l<e.shape[1];++l)i[c+l]=a[o++];s+=e.shape[1]}))}return i}function tp(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}var np={kernelName:r.Imag,backendName:"cpu",kernelFunc:tp};function rp(e){var t=e.inputs,n=e.backend,a=e.attrs.axis,i=r.util.parseAxisParam(a,t[0].shape)[0],o=t.map((function(e){return e.shape}));r.backend_util.assertParamsConsistent(o,i);var s=r.backend_util.computeOutShape(t.map((function(e){return e.shape})),i);if(0===r.util.sizeFromShape(s))return n.makeTensorInfo(s,t[0].dtype,[]);var u=t.filter((function(e){return r.util.sizeFromShape(e.shape)>0}));if(1===u.length)return Sl({inputs:{x:u[0]},backend:n});if("complex64"===u[0].dtype){var c=u.map((function(e){return Gl({inputs:{input:e},backend:n})})),l=u.map((function(e){return tp({inputs:{input:e},backend:n})})),d=rp({inputs:c,backend:n,attrs:{axis:i}}),p=rp({inputs:l,backend:n,attrs:{axis:i}}),f=Ul({inputs:{real:d,imag:p},backend:n});return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),f}var h=u.map((function(e){var t=r.util.sizeFromShape(e.shape.slice(i));return nd({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),m=h.map((function(e){return{vals:n.data.get(e.dataId).values,shape:e.shape}}));s=r.backend_util.computeOutShape(h.map((function(e){return e.shape})),1);var v=1===h[0].shape[0],b=ep(m,s,t[0].dtype,v),g=r.backend_util.computeOutShape(u.map((function(e){return e.shape})),i),y=n.makeTensorInfo(g,t[0].dtype,b);return h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),y}var ap={kernelName:r.Concat,backendName:"cpu",kernelFunc:rp};function ip(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.filter,s=a.strides,u=a.pad,c=a.dataFormat,l=a.dilations,d=a.dimRoundingMode;gl([i,o],"conv2d");for(var p=r.backend_util.convertConv2DDataFormat(c),f=r.backend_util.computeConv2DInfo(i.shape,o.shape,s,l,u,d,!1,p),h=f.filterHeight,m=f.filterWidth,v=f.dilationHeight,b=f.dilationWidth,g=f.padInfo.left,y=f.padInfo.top,_="channelsLast"===f.dataFormat,x=new r.TensorBuffer(f.outShape,i.dtype),k=r.util.computeStrides(i.shape),w=r.util.computeStrides(o.shape),O=k[0],j=_?k[1]:k[2],S=_?k[2]:1,C=_?1:k[1],T=x.strides[0],N=_?x.strides[1]:x.strides[2],E=_?x.strides[2]:1,I=_?1:x.strides[1],A=n.data.get(i.dataId).values,R=n.data.get(o.dataId).values,D=x.values,M=0;M<f.batchSize;++M)for(var F=M*O,L=M*T,P=0;P<f.outHeight;++P)for(var z=L+P*N,B=P*f.strideHeight-y,V=0;V<h;++V){var U=B+V*v;if(!(U<0||U>=f.inHeight))for(var W=V*w[0],H=F+U*j,G=0;G<f.outWidth;++G)for(var $=z+G*E,q=G*f.strideWidth-g,K=0;K<m;++K){var X=q+K*b;if(!(X<0||X>=f.inWidth))for(var Y=H+X*S,Z=W+K*w[1],Q=0;Q<f.inChannels;++Q){for(var J=A[Y+Q*C],ee=0;ee<f.outChannels;++ee)D[$+ee*I]+=J*R[Z+ee];Z+=f.outChannels}}}return n.makeTensorInfo(x.shape,x.dtype,D)}var op={kernelName:r.Conv2D,backendName:"cpu",kernelFunc:ip};var sp={kernelName:r.Conv2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.dy,s=a.strides,u=a.pad,c=a.dataFormat,l=a.dimRoundingMode,d=a.filterShape;gl([i,o],"conv2dBackpropFilter");for(var p=r.backend_util.convertConv2DDataFormat(c),f=r.backend_util.computeConv2DInfo(i.shape,d,s,1,u,l,!1,p),h=f.strideHeight,m=f.strideWidth,v=f.filterHeight,b=f.filterWidth,g="channelsLast"===f.dataFormat,y=new r.TensorBuffer(f.filterShape,"float32"),_=f.padInfo.left,x=f.padInfo.top,k=n.data.get(i.dataId).values,w=n.data.get(o.dataId).values,O=new r.TensorBuffer(i.shape,i.dtype,k),j=new r.TensorBuffer(o.shape,o.dtype,w),S=0;S<v;++S)for(var C=Math.max(0,Math.ceil((x-S)/h)),T=Math.min(f.outHeight,(f.inHeight+x-S)/h),N=0;N<b;++N)for(var E=Math.max(0,Math.ceil((_-N)/m)),I=Math.min(f.outWidth,(f.inWidth+_-N)/m),A=0;A<f.inChannels;++A)for(var R=0;R<f.outChannels;++R){for(var D=0,M=0;M<f.batchSize;++M)for(var F=C;F<T;++F)for(var L=S+F*h-x,P=E;P<I;++P){var z=N+P*m-_;D+=g?O.get(M,L,z,A)*j.get(M,F,P,R):O.get(M,A,L,z)*j.get(M,R,F,P)}y.set(D,S,N,A,R)}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};var up={kernelName:r.Conv2DBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.dy,s=t.filter,u=i.inputShape,c=i.strides,l=i.pad,d=i.dataFormat,p=i.dimRoundingMode;gl([o,s],"conv2dBackpropInput");var f=r.util.computeStrides(s.shape),h=r.util.computeStrides(o.shape),m=r.backend_util.convertConv2DDataFormat(d),v=r.backend_util.computeConv2DInfo(u,s.shape,c,1,l,p,!1,m),b=new r.TensorBuffer(v.inShape,"float32"),g=b.values,y=n.data.get(o.dataId).values,_=n.data.get(s.dataId).values,x=Object(a.a)(f,3),k=x[0],w=x[1],O=x[2],j=v.batchSize,S=v.filterHeight,C=v.filterWidth,T=v.inChannels,N=v.inHeight,E=v.inWidth,I=v.outChannels,A=v.outHeight,R=v.outWidth,D=v.strideHeight,M=v.strideWidth;m=v.dataFormat;for(var F=S-1-v.padInfo.top,L=C-1-v.padInfo.left,P="channelsLast"===m,z=b.strides[0],B=P?b.strides[1]:b.strides[2],V=P?b.strides[2]:1,U=P?1:b.strides[1],W=h[0],H=P?h[1]:h[2],G=P?h[2]:1,$=P?1:h[1],q=0;q<j;++q)for(var K=0;K<T;++K)for(var X=0;X<N;++X)for(var Y=X-F,Z=Math.max(0,Math.ceil(Y/D)),Q=Math.min(A,(S+Y)/D),J=0;J<E;++J){for(var ee=J-L,te=Math.max(0,Math.ceil(ee/M)),ne=Math.min(R,(C+ee)/M),re=0,ae=Z;ae<Q;++ae)for(var ie=ae*D-Y,oe=te;oe<ne;++oe)for(var se=W*q+H*ae+G*oe,ue=k*(S-1-ie)+w*(C-1-(oe*M-ee))+O*K,ce=0;ce<I;++ce){re+=y[se+$*ce]*_[ue+ce]}g[z*q+B*X+V*J+U*K]=re}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};var cp={kernelName:r.Conv3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.filter,s=a.strides,u=a.pad,c=a.dilations;gl([i,o],"conv3d");for(var l=r.backend_util.computeConv3DInfo(i.shape,o.shape,s,c,u),d=l.filterDepth,p=l.filterHeight,f=l.filterWidth,h=l.dilationDepth,m=l.dilationHeight,v=l.dilationWidth,b=l.padInfo,g=b.front,y=b.left,_=b.top,x=new r.TensorBuffer(l.outShape,i.dtype),k=n.data.get(i.dataId).values,w=n.data.get(o.dataId).values,O=x.values,j=r.util.computeStrides(i.shape),S=r.util.computeStrides(o.shape),C=0;C<l.batchSize;++C)for(var T=C*j[0],N=C*x.strides[0],E=0;E<l.outDepth;++E)for(var I=N+E*x.strides[1],A=E*l.strideDepth-g,R=0;R<d;++R){var D=A+R*h;if(!(D<0||D>=l.inDepth))for(var M=R*S[0],F=T+D*j[1],L=0;L<l.outHeight;++L)for(var P=I+L*x.strides[2],z=L*l.strideHeight-_,B=0;B<p;++B){var V=z+B*m;if(!(V<0||V>=l.inHeight))for(var U=M+B*S[1],W=F+V*j[2],H=0;H<l.outWidth;++H)for(var G=P+H*l.outChannels,$=H*l.strideWidth-y,q=0;q<f;++q){var K=$+q*v;if(!(K<0||K>=l.inWidth))for(var X=U+q*S[2],Y=W+K*l.inChannels,Z=X,Q=0;Q<l.inChannels;++Q){for(var J=k[Y+Q],ee=0;ee<l.outChannels;++ee)O[G+ee]+=J*w[Z+ee];Z+=l.outChannels}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var lp={kernelName:r.Conv3DBackpropFilterV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.x,s=t.dy,u=i.strides,c=i.pad,l=i.filterShape;gl([o,s],"conv3dBackpropFilterV2");for(var d=r.util.computeStrides(o.shape),p=r.util.computeStrides(s.shape),f=r.backend_util.computeConv3DInfo(o.shape,l,u,1,c),h=f.strideDepth,m=f.strideHeight,v=f.strideWidth,b=f.filterDepth,g=f.filterHeight,y=f.filterWidth,_=new r.TensorBuffer(f.filterShape,"float32"),x=_.values,k=Object(a.a)(_.strides,4),w=k[0],O=k[1],j=k[2],S=k[3],C=n.data.get(s.dataId).values,T=Object(a.a)(p,4),N=T[0],E=T[1],I=T[2],A=T[3],R=n.data.get(o.dataId).values,D=Object(a.a)(d,4),M=D[0],F=D[1],L=D[2],P=D[3],z=f.padInfo.front,B=f.padInfo.left,V=f.padInfo.top,U=0;U<b;++U)for(var W=Math.max(0,Math.ceil((z-U)/h)),H=Math.min(f.outDepth,(f.inDepth+z-U)/h),G=U*w,$=0;$<g;++$)for(var q=Math.max(0,Math.ceil((V-$)/m)),K=Math.min(f.outHeight,(f.inHeight+V-$)/m),X=$*O+G,Y=0;Y<y;++Y)for(var Z=Math.max(0,Math.ceil((B-Y)/v)),Q=Math.min(f.outWidth,(f.inWidth+B-Y)/v),J=Y*j+X,ee=0;ee<f.inChannels;++ee)for(var te=ee*S+J,ne=0;ne<f.outChannels;++ne){for(var re=0,ae=0;ae<f.batchSize;++ae)for(var ie=ae*M,oe=ae*N,se=W;se<H;++se)for(var ue=(U+se*h-z)*F+ie,ce=se*E+oe,le=q;le<K;++le)for(var de=($+le*m-V)*L+ue,pe=le*I+ce,fe=Z;fe<Q;++fe){var he=fe*A+pe;re+=R[(Y+fe*v-B)*P+de+ee]*C[he+ne]}x[te+ne]=re}return n.makeTensorInfo(_.shape,_.dtype,_.values)}};var dp={kernelName:r.Conv3DBackpropInputV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.dy,s=t.filter,u=i.pad,c=i.strides,l=i.inputShape;gl([o],"conv3dBackpropInputV2");for(var d=r.util.computeStrides(o.shape),p=r.util.computeStrides(s.shape),f=r.backend_util.computeConv3DInfo(l,s.shape,c,1,u),h=new r.TensorBuffer(f.inShape,"float32"),m=h.values,v=Object(a.a)(h.strides,4),b=v[0],g=v[1],y=v[2],_=v[3],x=n.data.get(o.dataId).values,k=Object(a.a)(d,4),w=k[0],O=k[1],j=k[2],S=k[3],C=n.data.get(s.dataId).values,T=Object(a.a)(p,4),N=T[0],E=T[1],I=T[2],A=T[3],R=f.batchSize,D=f.filterDepth,M=f.filterHeight,F=f.filterWidth,L=f.inChannels,P=f.inDepth,z=f.inHeight,B=f.inWidth,V=f.outChannels,U=f.outDepth,W=f.outHeight,H=f.outWidth,G=f.strideDepth,$=f.strideHeight,q=f.strideWidth,K=D-1-f.padInfo.front,X=M-1-f.padInfo.top,Y=F-1-f.padInfo.left,Z=0;Z<R;++Z)for(var Q=0;Q<L;++Q)for(var J=0;J<P;++J)for(var ee=J-K,te=Math.max(0,Math.ceil(ee/G)),ne=Math.min(U,(D+ee)/G),re=0;re<z;++re)for(var ae=re-X,ie=Math.max(0,Math.ceil(ae/$)),oe=Math.min(W,(M+ae)/$),se=0;se<B;++se){for(var ue=se-Y,ce=Math.max(0,Math.ceil(ue/q)),le=Math.min(H,(F+ue)/q),de=0,pe=te;pe<ne;++pe)for(var fe=pe*G-ee,he=ie;he<oe;++he)for(var me=he*$-ae,ve=ce;ve<le;++ve)for(var be=w*Z+O*pe+j*he+S*ve,ge=N*(D-1-fe)+E*(M-1-me)+I*(F-1-(ve*q-ue))+A*Q,ye=0;ye<V;++ye){de+=x[be+ye]*C[ge+ye]}m[b*Z+g*J+y*re+_*se+Q]=de}return n.makeTensorInfo(h.shape,h.dtype,h.values)}},pp=kl(r.Cos,(function(e){return Math.cos(e)})),fp={kernelName:r.Cos,backendName:"cpu",kernelFunc:pp},hp=kl(r.Cosh,(function(e){return Math.cosh(e)})),mp={kernelName:r.Cosh,backendName:"cpu",kernelFunc:hp};var vp={kernelName:r.CropAndResize,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,i=e.attrs,o=t.image,s=t.boxes,u=t.boxInd,c=i.cropSize,l=i.method,d=i.extrapolationValue,p=Object(a.a)(o.shape,4),f=p[0],h=p[1],m=p[2],v=p[3],b=s.shape[0],g=Object(a.a)(c,2),y=g[0],_=g[1],x=Object(r.buffer)([b,y,_,v],"float32"),k=n.data.get(s.dataId).values,w=n.data.get(u.dataId).values,O=n.data.get(o.dataId).values,j=r.util.computeStrides(o.shape),S=r.util.computeStrides(x.shape),C=0;C<b;C++){var T=4*C,N=k[T],E=k[T+1],I=k[T+2],A=k[T+3],R=w[C];if(!(R>=f))for(var D=y>1?(I-N)*(h-1)/(y-1):0,M=_>1?(A-E)*(m-1)/(_-1):0,F=0;F<y;F++){var L=y>1?N*(h-1)+F*D:.5*(N+I)*(h-1);if(L<0||L>h-1)for(var P=0;P<_;P++)for(var z=0;z<v;z++){var B=z+P*S[2]+F*S[1]+C*S[0];x.values[B]=d}else if("bilinear"===l)for(var V=Math.floor(L),U=Math.ceil(L),W=L-V,H=0;H<_;H++){var G=_>1?E*(m-1)+H*M:.5*(E+A)*(m-1);if(G<0||G>m-1)for(var $=0;$<v;$++){var q=$+H*S[2]+F*S[1]+C*S[0];x.values[q]=d}else for(var K=Math.floor(G),X=Math.ceil(G),Y=G-K,Z=0;Z<v;Z++){var Q=Z+K*j[2]+V*j[1]+R*j[0],J=O[Q],ee=O[Q=Z+X*j[2]+V*j[1]+R*j[0]],te=O[Q=Z+K*j[2]+U*j[1]+R*j[0]],ne=J+(ee-J)*Y,re=te+(O[Q=Z+X*j[2]+U*j[1]+R*j[0]]-te)*Y;Q=Z+H*S[2]+F*S[1]+C*S[0],x.values[Q]=ne+(re-ne)*W}}else for(var ae=0;ae<_;++ae){var ie=_>1?E*(m-1)+ae*M:.5*(E+A)*(m-1);if(ie<0||ie>m-1)for(var oe=0;oe<v;oe++){var se=oe+ae*S[2]+F*S[1]+C*S[0];x.values[se]=d}else for(var ue=Math.round(ie),ce=Math.round(L),le=0;le<v;le++){var de=le+ue*j[2]+ce*j[1]+R*j[0],pe=le+ae*S[2]+F*S[1]+C*S[0];x.values[pe]=O[de]}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var bp={kernelName:r.Cumprod,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.axis,s=a.exclusive,u=a.reverse;gl(i,"cumprod");var c=r.backend_util.getAxesPermutation([o],i.shape.length),l=i;null!=c&&(l=md({inputs:{x:i},backend:n,attrs:{perm:c}}));var d=r.backend_util.getInnerMostAxes(1,i.shape.length)[0];if(d!==l.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(d));for(var p=Object(r.upcastType)(l.dtype,"int32"),f=r.util.makeOnesTypedArray(r.util.sizeFromShape(l.shape),p),h=n.data.get(l.dataId).values,m=l.shape[l.shape.length-1],v=u?function(e,t){return e+m-t-1}:function(e,t){return e+t},b=0;b<h.length;b+=m)for(var g=0;g<m;g++){var y=v(b,g);if(0===g)f[y]=s?1:h[y];else{var _=v(b,g-1);f[y]=s?h[_]*f[_]:h[y]*f[_]}}var x=n.makeTensorInfo(l.shape,p,f);if(null!=c){var k=md({inputs:{x:x},backend:n,attrs:{perm:r.backend_util.getUndoAxesPermutation(c)}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(l),k}return x}};var gp={kernelName:r.Cumsum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.axis,s=a.exclusive,u=a.reverse;gl(i,"cumsum");var c=r.backend_util.getAxesPermutation([o],i.shape.length),l=i;null!=c&&(l=md({inputs:{x:i},backend:n,attrs:{perm:c}}));var d=r.backend_util.getInnerMostAxes(1,i.shape.length)[0];if(d!==l.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(d));for(var p=Object(r.upcastType)(l.dtype,"int32"),f=r.util.makeZerosTypedArray(r.util.sizeFromShape(l.shape),p),h=n.data.get(l.dataId).values,m=l.shape[l.shape.length-1],v=u?function(e,t){return e+m-t-1}:function(e,t){return e+t},b=0;b<h.length;b+=m)for(var g=0;g<m;g++){var y=v(b,g);if(0===g)f[y]=s?0:h[y];else{var _=v(b,g-1);f[y]=s?h[_]+f[_]:h[y]+f[_]}}var x=n.makeTensorInfo(l.shape,p,f);if(null!=c){var k=md({inputs:{x:x},backend:n,attrs:{perm:r.backend_util.getUndoAxesPermutation(c)}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(l),k}return x}};var yp={kernelName:r.DenseBincount,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=r.binaryOutput;if(1===a.shape.length){var u=Hd(n.data.get(a.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,u)}if(2===a.shape.length){var c=Gd(n.bufferSync(a),n.bufferSync(i),o,s);return n.makeTensorInfo(c.shape,i.dtype,c.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}};var _p={kernelName:r.DepthToSpace,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.blockSize,s=a.dataFormat;r.util.assert("NHWC"===s,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(s)}));for(var u=i.shape[0],c=i.shape[1],l=i.shape[2],d=i.shape[3],p=c*o,f=l*o,h=d/(o*o),m=n.data.get(i.dataId).values,v=new Float32Array(u*p*f*h),b=0,g=0;g<u;++g)for(var y=0;y<p;++y)for(var _=Math.floor(y/o),x=y%o,k=0;k<f;++k)for(var w=Math.floor(k/o),O=(x*o+k%o)*h,j=0;j<h;++j){var S=j+O+d*(w+l*(_+c*g));v[b++]=m[S]}return n.makeTensorInfo([u,p,f,h],i.dtype,v)}};function xp(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.filter,s=a.strides,u=a.pad,c=a.dilations,l=a.dimRoundingMode;gl([i,o],"depthwiseConv2DNative");var d=r.util.computeStrides(i.shape),p=r.util.computeStrides(o.shape),f=c;null==f&&(f=[1,1]),r.util.assert(r.backend_util.eitherStridesOrDilationsAreOne(s,f),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(s," and dilations '").concat(f,"'")}));for(var h=r.backend_util.computeConv2DInfo(i.shape,o.shape,s,f,u,l,!0),m=h.filterHeight,v=h.filterWidth,b=h.dilationHeight,g=h.dilationWidth,y=h.padInfo,_=y.left,x=y.top,k=h.outChannels/h.inChannels,w=new r.TensorBuffer(h.outShape,i.dtype),O=n.data.get(i.dataId).values,j=n.data.get(o.dataId).values,S=w.values,C=0;C<h.batchSize;++C)for(var T=C*d[0],N=C*w.strides[0],E=0;E<h.outHeight;++E)for(var I=N+E*w.strides[1],A=E*h.strideHeight-x,R=0;R<m;++R){var D=A+R*b;if(!(D<0||D>=h.inHeight))for(var M=R*p[0],F=T+D*d[1],L=0;L<h.outWidth;++L)for(var P=I+L*w.strides[2],z=L*h.strideWidth-_,B=0;B<v;++B){var V=z+B*g;if(!(V<0||V>=h.inWidth))for(var U=M+B*p[1],W=F+V*h.inChannels,H=P,G=U,$=0;$<h.inChannels;++$){for(var q=O[W+$],K=0;K<k;++K)S[H+K]+=q*j[G+K];H+=k,G+=k}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}var kp={kernelName:r.DepthwiseConv2dNative,backendName:"cpu",kernelFunc:xp};var wp={kernelName:r.DepthwiseConv2dNativeBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.dy,s=a.strides,u=a.dilations,c=a.pad,l=a.dimRoundingMode,d=a.filterShape;gl([i,o],"depthwiseConv2dNativeBackpropFilter");for(var p=r.backend_util.computeConv2DInfo(i.shape,d,s,u,c,l,!0),f=p.strideHeight,h=p.strideWidth,m=p.filterHeight,v=p.filterWidth,b=new r.TensorBuffer(p.filterShape,"float32"),g=p.padInfo.left,y=p.padInfo.top,_=p.outChannels/p.inChannels,x=n.data.get(i.dataId).values,k=new r.TensorBuffer(i.shape,i.dtype,x),w=n.data.get(o.dataId).values,O=new r.TensorBuffer(o.shape,o.dtype,w),j=0;j<m;++j)for(var S=Math.max(0,Math.ceil((y-j)/f)),C=Math.min(p.outHeight,(p.inHeight+y-j)/f),T=0;T<v;++T)for(var N=Math.max(0,Math.ceil((g-T)/h)),E=Math.min(p.outWidth,(p.inWidth+g-T)/h),I=0;I<p.outChannels;++I){for(var A=Math.trunc(I/_),R=I%_,D=0,M=0;M<p.batchSize;++M)for(var F=S;F<C;++F)for(var L=j+F*f-y,P=N;P<E;++P){var z=T+P*h-g;D+=k.get(M,L,z,A)*O.get(M,F,P,I)}b.set(D,j,T,A,R)}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};var Op={kernelName:r.DepthwiseConv2dNativeBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.dy,s=t.filter,u=i.strides,c=i.dilations,l=i.pad,d=i.dimRoundingMode,p=i.inputShape;gl([o,s],"depthwiseConv2DNativeBackpropInput");for(var f=r.util.computeStrides(o.shape),h=r.util.computeStrides(s.shape),m=r.backend_util.computeConv2DInfo(p,s.shape,u,c,l,d,!0),v=new r.TensorBuffer(m.inShape,"float32"),b=v.values,g=Object(a.a)(v.strides,3),y=g[0],_=g[1],x=g[2],k=n.data.get(o.dataId).values,w=Object(a.a)(f,3),O=w[0],j=w[1],S=w[2],C=n.data.get(s.dataId).values,T=Object(a.a)(h,3),N=T[0],E=T[1],I=T[2],A=m.batchSize,R=m.filterHeight,D=m.filterWidth,M=m.inChannels,F=m.inHeight,L=m.inWidth,P=m.outChannels,z=m.outHeight,B=m.outWidth,V=m.strideHeight,U=m.strideWidth,W=R-1-m.padInfo.top,H=D-1-m.padInfo.left,G=P/M,$=0;$<A;++$)for(var q=0;q<M;++q)for(var K=0;K<F;++K)for(var X=K-W,Y=Math.max(0,Math.ceil(X/V)),Z=Math.min(z,(R+X)/V),Q=0;Q<L;++Q){for(var J=Q-H,ee=Math.max(0,Math.ceil(J/U)),te=Math.min(B,(D+J)/U),ne=0,re=Y;re<Z;++re)for(var ae=re*V-X,ie=ee;ie<te;++ie)for(var oe=O*$+j*re+S*ie,se=N*(R-1-ae)+E*(D-1-(ie*U-J))+I*q,ue=0;ue<G;++ue){ne+=k[oe+(q*G+ue)]*C[se+ue]}b[y*$+_*K+x*Q+q]=ne}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};var jp={kernelName:r.Diag,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,a=t.x,i=r.util.sizeFromShape(a.shape),o=n.data.get(a.dataId).values,s=Object(r.buffer)([i,i],a.dtype),u=s.values,c=0;c<o.length;c++)u[c*i+c]=o[c];var l=[].concat(Object(Gn.a)(a.shape),Object(Gn.a)(a.shape));return n.makeTensorInfo(l,s.dtype,s.values)}},Sp={kernelName:r.Dilation2D,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.filter,s=a.strides,u=a.pad,c=a.dilations,l=n,d=l.data.get(i.dataId).values,p=i.shape.length,f=l.data.get(o.dataId).values,h=o.shape.length,m=r.backend_util.computeDilation2DInfo(i.shape,o.shape,s,u,"NHWC",c),v=m.batchSize,b=m.inHeight,g=m.inWidth,y=m.inChannels,_=m.outHeight,x=m.outWidth,k=m.padInfo,w=m.strideHeight,O=m.strideWidth,j=m.filterHeight,S=m.filterWidth,C=m.dilationHeight,T=m.dilationWidth,N=m.outShape,E=r.util.sizeFromShape(N),I=N.length,A=r.util.getArrayFromDType(i.dtype,E),R=0;R<v;++R)for(var D=0;D<_;++D)for(var M=D*w-k.top,F=0;F<x;++F)for(var L=F*O-k.left,P=0;P<y;++P){for(var z=Number.MIN_SAFE_INTEGER,B=0;B<j;++B){var V=M+B*C;if(V>=0&&V<b)for(var U=0;U<S;++U){var W=L+U*T;if(W>=0&&W<g){var H=r.util.locToIndex([R,V,W,P],p,r.util.computeStrides(i.shape)),G=r.util.locToIndex([B,U,P],h,r.util.computeStrides(o.shape)),$=d[H]+f[G];$>z&&(z=$)}}}A[r.util.locToIndex([R,D,F,P],I,r.util.computeStrides(N))]=z}return{dataId:l.write(r.util.toTypedArray(A,i.dtype),N,i.dtype),shape:N,dtype:i.dtype}}},Cp={kernelName:r.Dilation2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.filter,s=t.dy,u=a.strides,c=a.pad,l=a.dilations,d=n,p=r.util.toNestedArray(i.shape,d.data.get(i.dataId).values),f=r.util.toNestedArray(o.shape,d.data.get(o.dataId).values),h=r.backend_util.computeDilation2DInfo(i.shape,o.shape,u,c,"NHWC",l),m=h.batchSize,v=h.inHeight,b=h.inWidth,g=h.inChannels,y=h.outHeight,_=h.outWidth,x=h.padInfo,k=h.strideHeight,w=h.strideWidth,O=h.filterHeight,j=h.filterWidth,S=h.dilationHeight,C=h.dilationWidth,T=h.outShape;r.util.assert(s.rank===T.length,(function(){return"Error in ".concat(r.Dilation2DBackpropFilter,", dy ")+"must have the same rank as output ".concat(T.length,", but got ")+"".concat(s.rank)}));for(var N=r.util.toNestedArray(T,d.data.get(s.dataId).values),E=r.util.makeZerosNestedTypedArray(o.shape,o.dtype),I=0;I<m;++I)for(var A=0;A<y;++A)for(var R=A*k-x.top,D=0;D<_;++D)for(var M=D*w-x.left,F=0;F<g;++F){for(var L=Number.MIN_SAFE_INTEGER,P=0,z=0,B=0;B<O;++B){var V=R+B*S;if(V>=0&&V<v)for(var U=0;U<j;++U){var W=M+U*C;if(W>=0&&W<b){var H=p[I][V][W][F]+f[B][U][F];H>L&&(L=H,P=B,z=U)}}}E[P][z][F]+=N[I][A][D][F]}return{dataId:d.write(r.util.toTypedArray(E,i.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},Tp={kernelName:r.Dilation2DBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.filter,s=t.dy,u=a.strides,c=a.pad,l=a.dilations,d=n,p=r.util.toNestedArray(i.shape,d.data.get(i.dataId).values),f=r.util.toNestedArray(o.shape,d.data.get(o.dataId).values),h=r.backend_util.computeDilation2DInfo(i.shape,o.shape,u,c,"NHWC",l),m=h.batchSize,v=h.inHeight,b=h.inWidth,g=h.inChannels,y=h.outHeight,_=h.outWidth,x=h.padInfo,k=h.strideHeight,w=h.strideWidth,O=h.filterHeight,j=h.filterWidth,S=h.dilationHeight,C=h.dilationWidth,T=h.outShape;r.util.assert(s.rank===T.length,(function(){return"Error in ".concat(r.Dilation2DBackpropInput,", dy ")+"must have the same rank as output ".concat(T.length,", but got ")+"".concat(s.rank)}));for(var N=r.util.toNestedArray(T,d.data.get(s.dataId).values),E=r.util.makeZerosNestedTypedArray(i.shape,i.dtype),I=0;I<m;++I)for(var A=0;A<y;++A)for(var R=A*k-x.top,D=0;D<_;++D)for(var M=D*w-x.left,F=0;F<g;++F){for(var L=Number.MIN_SAFE_INTEGER,P=R<0?0:R,z=M<0?0:M,B=0;B<O;++B){var V=R+B*S;if(V>=0&&V<v)for(var U=0;U<j;++U){var W=M+U*C;if(W>=0&&W<b){var H=p[I][V][W][F]+f[B][U][F];H>L&&(L=H,P=V,z=W)}}}E[I][P][z][F]+=N[I][A][D][F]}return{dataId:d.write(r.util.toTypedArray(E,i.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},Np=El((function(e,t){return e*t})),Ep=Zl((function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})),Ip=Yl(r.Multiply,Np,Ep),Ap={kernelName:r.Multiply,backendName:"cpu",kernelFunc:Ip};function Rp(e){var t,n=e.inputs,i=e.backend,o=e.attrs,s=n.x,u=o.axis,c=o.keepDims;gl(s,"sum");var l=(t="bool"===s.dtype?Kl({inputs:{x:s},backend:i,attrs:{dtype:"int32"}}):Sl({inputs:{x:s},backend:i})).shape.length,d=r.util.parseAxisParam(u,t.shape),p=r.backend_util.getAxesPermutation(d,l),f=d,h=t;null!=p&&(h=md({inputs:{x:t},backend:i,attrs:{perm:p}}),f=r.backend_util.getInnerMostAxes(f.length,l)),r.backend_util.assertAxesAreInnerMostDims("sum",f,h.shape.length);for(var m=r.backend_util.computeOutAndReduceShapes(h.shape,f),v=Object(a.a)(m,2),b=v[0],g=v[1],y=Hl(i,b,r.backend_util.upcastType(h.dtype,"int32")),_=r.util.sizeFromShape(g),x=i.data.get(y.dataId).values,k=i.data.get(h.dataId).values,w=0;w<x.length;++w){for(var O=w*_,j=0,S=0;S<_;++S)j+=k[O+S];x[w]=j}if(c){var C=y;y=nd({inputs:{x:y},backend:i,attrs:{shape:r.backend_util.expandShapeToKeepDim(y.shape,d)}}),i.disposeIntermediateTensorInfo(C)}return i.disposeIntermediateTensorInfo(t),null!=p&&i.disposeIntermediateTensorInfo(h),y}var Dp={kernelName:r.Sum,backendName:"cpu",kernelFunc:Rp};var Mp={kernelName:r.Einsum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs.equation,i=t,o=r.backend_util.decodeEinsumEquation(a,i.length),s=o.allDims,u=o.summedDims,c=o.idDims;r.backend_util.checkEinsumDimSizes(s.length,c,i);for(var l=r.backend_util.getEinsumComputePath(u,c),d=l.path,p=l.steps,f=p.length,h=null,m=s.length,v=[],b=0;b<f;++b){var g=!0,y=!1,_=void 0;try{for(var x,k=p[b][Symbol.iterator]();!(g=(x=k.next()).done);g=!0){var w=x.value,O=r.backend_util.getEinsumPermutation(m,c[w]),j=O.permutationIndices,S=O.expandDims,C=void 0;r.backend_util.isIdentityPermutation(j)?C=i[w]:(C=md({inputs:{x:i[w]},backend:n,attrs:{perm:j}}),v.push(C));for(var T=C.shape.slice(),N=0;N<S.length;++N)T.splice(S[N],0,1);r.util.arraysEqual(C.shape,T)||(C=nd({inputs:{x:C},backend:n,attrs:{shape:T}}),v.push(C)),null===h?h=C:(h=Ip({inputs:{a:C,b:h},backend:n}),v.push(h))}}catch(R){y=!0,_=R}finally{try{g||null==k.return||k.return()}finally{if(y)throw _}}b<f-1&&(d[b]>=0&&(h=Rp({inputs:{x:h},backend:n,attrs:{axis:d[b]-(s.length-m),keepDims:!1}}),v.push(h)),m--)}for(var E=0,I=v;E<I.length;E++){var A=I[E];A!==h&&n.disposeIntermediateTensorInfo(A)}return h}};var Fp={kernelName:r.EluGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=t.dy,i=t.y;gl([a,i],"eluGrad");for(var o=new Float32Array(r.util.sizeFromShape(i.shape)),s=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values,c=0;c<s.length;++c){var l=s[c];o[c]=l>=0?u[c]:u[c]*(l+1)}return n.makeTensorInfo(i.shape,"float32",o)}},Lp=El((function(e,t){return e===t?1:0})),Pp=Yl(r.Equal,Lp,null,"bool"),zp={kernelName:r.Equal,backendName:"cpu",kernelFunc:Pp},Bp=r.backend_util.ERF_P,Vp=r.backend_util.ERF_A1,Up=r.backend_util.ERF_A2,Wp=r.backend_util.ERF_A3,Hp=r.backend_util.ERF_A4,Gp=r.backend_util.ERF_A5,$p=kl(r.Erf,(function(e){var t=Math.sign(e),n=Math.abs(e),r=1/(1+Bp*n);return t*(1-((((Gp*r+Hp)*r+Wp)*r+Up)*r+Vp)*r*Math.exp(-n*n))})),qp={kernelName:r.Erf,backendName:"cpu",kernelFunc:$p},Kp=xl((function(e){return Math.exp(e)})),Xp=wl(r.Exp,Kp,"float32"),Yp={kernelName:r.Exp,backendName:"cpu",kernelFunc:Xp};function Zp(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.input,o=a.dim,s=i.shape.length,u=i.shape.slice(),c=o;return o<0&&(r.util.assert(-(s+1)<=o,(function(){return"Axis must be in the interval [".concat(-(s+1),", ").concat(s,"]")})),c=s+o+1),u.splice(c,0,1),nd({inputs:{x:i},backend:n,attrs:{shape:u}})}var Qp={kernelName:r.ExpandDims,backendName:"cpu",kernelFunc:Zp},Jp=xl((function(e){return Math.expm1(e)})),ef=wl(r.Expm1,Jp),tf={kernelName:r.Expm1,backendName:"cpu",kernelFunc:ef},nf=El((function(e,t){return e/t})),rf=Yl(r.RealDiv,nf),af={kernelName:r.RealDiv,backendName:"cpu",kernelFunc:rf},of=El((function(e,t){return e-t})),sf=Zl((function(e,t,n,r){return{real:e-n,imag:t-r}})),uf=Yl(r.Sub,of,sf),cf={kernelName:r.Sub,backendName:"cpu",kernelFunc:uf};function lf(e,t,n){for(var a=e.shape,i=a[0],o=a[1],s=n.data.get(e.dataId),u=s.complexTensorInfos.real,c=s.complexTensorInfos.imag,l=[i,o],d=r.util.sizeFromShape(l),p=r.util.getTypedArrayFromDType("float32",d),f=r.util.getTypedArrayFromDType("float32",d),h=0;h<i;h++){for(var m=Vd({inputs:{x:u},backend:n,attrs:{begin:[h,0],size:[1,o]}}),v=Vd({inputs:{x:c},backend:n,attrs:{begin:[h,0],size:[1,o]}}),b=Ul({inputs:{real:m,imag:v},backend:n}),g=df(b,t,n),y=g.real,_=g.imag,x=r.backend_util.mergeRealAndImagArrays(y,_),k=0;k<o;k++){var w=r.backend_util.getComplexWithIndex(x,k);p[h*o+k]=w.real,f[h*o+k]=w.imag}n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b)}var O=n.makeTensorInfo(l,"float32",p),j=n.makeTensorInfo(l,"float32",f),S=Ul({inputs:{real:O,imag:j},backend:n});return n.disposeIntermediateTensorInfo(O),n.disposeIntermediateTensorInfo(j),S}function df(e,t,n){var a=r.util.sizeFromShape(e.shape),i=n.data.get(e.dataId),o=n.data.get(i.complexTensorInfos.real.dataId).values,s=n.data.get(i.complexTensorInfos.imag.dataId).values;if(0===((g=a)&g-1)){var u=function e(t,n,a,i,o){if(1===a)return{real:t,imag:n};var s=r.backend_util.mergeRealAndImagArrays(t,n),u=a/2,c=r.backend_util.complexWithEvenIndex(s),l=c.real,d=c.imag,p=[l.length],f=o.makeTensorInfo(p,"float32",l),h=o.makeTensorInfo(p,"float32",d),m=Ul({inputs:{real:f,imag:h},backend:o}),v=r.backend_util.complexWithOddIndex(s),b=v.real,g=v.imag,y=[b.length],_=o.makeTensorInfo(y,"float32",b),x=o.makeTensorInfo(y,"float32",g),k=Ul({inputs:{real:_,imag:x},backend:o}),w=e(l,d,u,i,o),O=w.real,j=w.imag,S=[O.length],C=o.makeTensorInfo(S,"float32",O),T=o.makeTensorInfo(S,"float32",j),N=Ul({inputs:{real:C,imag:T},backend:o}),E=e(b,g,u,i,o),I=E.real,A=E.imag,R=[I.length],D=o.makeTensorInfo(R,"float32",I),M=o.makeTensorInfo(R,"float32",A),F=Ul({inputs:{real:D,imag:M},backend:o}),L=r.backend_util.exponents(a,i),P=[L.real.length],z=o.makeTensorInfo(P,"float32",L.real),B=o.makeTensorInfo(P,"float32",L.imag),V=Ul({inputs:{real:z,imag:B},backend:o}),U=Ip({inputs:{a:V,b:F},backend:o}),W=ed({inputs:{a:N,b:U},backend:o}),H=uf({inputs:{a:N,b:U},backend:o}),G=Gl({inputs:{input:W},backend:o}),$=Gl({inputs:{input:H},backend:o}),q=tp({inputs:{input:W},backend:o}),K=tp({inputs:{input:H},backend:o}),X=rp({inputs:[G,$],backend:o,attrs:{axis:0}}),Y=rp({inputs:[q,K],backend:o,attrs:{axis:0}}),Z=o.data.get(X.dataId).values,Q=o.data.get(Y.dataId).values;return o.disposeIntermediateTensorInfo(f),o.disposeIntermediateTensorInfo(h),o.disposeIntermediateTensorInfo(m),o.disposeIntermediateTensorInfo(_),o.disposeIntermediateTensorInfo(x),o.disposeIntermediateTensorInfo(k),o.disposeIntermediateTensorInfo(C),o.disposeIntermediateTensorInfo(T),o.disposeIntermediateTensorInfo(N),o.disposeIntermediateTensorInfo(D),o.disposeIntermediateTensorInfo(M),o.disposeIntermediateTensorInfo(F),o.disposeIntermediateTensorInfo(z),o.disposeIntermediateTensorInfo(B),o.disposeIntermediateTensorInfo(V),o.disposeIntermediateTensorInfo(U),o.disposeIntermediateTensorInfo(W),o.disposeIntermediateTensorInfo(H),o.disposeIntermediateTensorInfo(G),o.disposeIntermediateTensorInfo(q),o.disposeIntermediateTensorInfo($),o.disposeIntermediateTensorInfo(K),o.disposeIntermediateTensorInfo(X),o.disposeIntermediateTensorInfo(Y),{real:Z,imag:Q}}(o,s,a,t,n),c=[e.shape[0],e.shape[1]];if(t){var l=n.makeTensorInfo(c,"float32",u.real),d=n.makeTensorInfo(c,"float32",u.imag),p=n.makeTensorInfo([],"float32",r.util.createScalarValue(a,"float32")),f=Sl({inputs:{x:p},backend:n}),h=af.kernelFunc({inputs:{a:l,b:p},backend:n}),m=af.kernelFunc({inputs:{a:d,b:f},backend:n}),v=n.data.get(h.dataId).values,b=n.data.get(m.dataId).values;return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),{real:v,imag:b}}return u}var g,y=function(e,t,n){for(var a=new Float32Array(2*t),i=0;i<t;i++){for(var o=0,s=0,u=0;u<t;u++){var c=r.backend_util.exponent(i*u,t,n),l=r.backend_util.getComplexWithIndex(e,u);o+=l.real*c.real-l.imag*c.imag,s+=l.real*c.imag+l.imag*c.real}n&&(o/=t,s/=t),r.backend_util.assignToTypedArray(a,o,s,i)}return a}(r.backend_util.mergeRealAndImagArrays(o,s),a,t);return r.backend_util.splitRealAndImagArrays(y)}var pf={kernelName:r.FFT,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=t.input,i=r.util.sizeFromShape(a.shape),o=a.shape[a.shape.length-1],s=nd({inputs:{x:a},backend:n,attrs:{shape:[i/o,o]}}),u=lf(s,!1,n),c=nd({inputs:{x:u},backend:n,attrs:{shape:a.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),c}};function ff(e){var t=e.backend,n=e.attrs,a=n.shape,i=n.value,o=n.dtype||r.util.inferDtype(i),s=r.util.getArrayFromDType(o,r.util.sizeFromShape(a));return function(e,t,n){e.fill(t)}(s,i),t.makeTensorInfo(a,o,s)}var hf={kernelName:r.Fill,backendName:"cpu",kernelFunc:ff};var mf={kernelName:r.FlipLeftRight,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=(e.attrs,e.backend),i=t.image,o=n,s=r.util.getTypedArrayFromDType(i.dtype,r.util.sizeFromShape(i.shape)),u=Object(a.a)(i.shape,4),c=u[0],l=u[1],d=u[2],p=u[3],f=o.data.get(i.dataId).values,h=0;h<c;h++)for(var m=h*d*l*p,v=0;v<l;v++)for(var b=v*(d*p),g=0;g<d;g++)for(var y=g*p,_=0;_<p;_++){var x=Math.round(d-g-1),k=m+b+y+_,w=f[k];if(x>=0&&x<d)w=f[m+b+x*p+_];s[k]=w}return{dataId:o.write(s,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},vf=xl((function(e){return Math.floor(e)})),bf=wl(r.Floor,vf),gf={kernelName:r.Floor,backendName:"cpu",kernelFunc:bf},yf=El((function(e,t){return Math.floor(e/t)})),_f=Yl(r.FloorDiv,yf,null,"int32"),xf={kernelName:r.FloorDiv,backendName:"cpu",kernelFunc:_f};var kf={kernelName:r.FusedConv2D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,c=r.pad,l=r.dataFormat,d=r.dilations,p=r.dimRoundingMode,f=r.activation,h=r.leakyreluAlpha,m=ip({inputs:{x:a,filter:i},backend:n,attrs:{strides:u,pad:c,dataFormat:l,dilations:d,dimRoundingMode:p}});if(o){var v=m;if("NCHW"===l&&1===o.shape.length&&1!==o.shape[0]){var b=nd({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=ed({inputs:{a:m,b:b},backend:n}),n.disposeIntermediateTensorInfo(b)}else m=ed({inputs:{a:m,b:o},backend:n});n.disposeIntermediateTensorInfo(v)}if(f){var g=m;if("NCHW"===l&&"prelu"===f&&1===s.shape.length&&1!==s.shape[0]){var y=nd({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=Vl(n,m,f,y,h),n.disposeIntermediateTensorInfo(y)}else m=Vl(n,m,f,s,h);n.disposeIntermediateTensorInfo(g)}return m}};var wf={kernelName:r.FusedDepthwiseConv2D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,c=r.pad,l=r.dataFormat,d=r.dilations,p=r.dimRoundingMode,f=r.activation,h=r.leakyreluAlpha,m=xp({inputs:{x:a,filter:i},backend:n,attrs:{strides:u,pad:c,dataFormat:l,dilations:d,dimRoundingMode:p}});if(o){var v=m;m=ed({inputs:{a:m,b:o},backend:n}),n.disposeIntermediateTensorInfo(v)}if(f){var b=m;m=Vl(n,m,f,s,h),n.disposeIntermediateTensorInfo(b)}return m}};function Of(e,t,n,a,i,o,s,u,c){for(var l=Object(r.buffer)([a,o],n),d=0;d<a;d++){for(var p=[],f=0,h=0;h<i;h++){var m=e[d*i+h];f+=m*s[h],p.push(m)}if(f<0||f>=c/o)throw new Error("Invalid indices: ".concat(p," does not index into ").concat(u));for(var v=0;v<o;v++)l.values[d*o+v]=t.get.apply(t,Object(Gn.a)(t.indexToLoc(f*o+v)))}return l}var jf={kernelName:r.GatherNd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=t.params,o=t.indices,s=r.util.sizeFromShape(i.shape),u=o.shape,c=u[u.length-1],l=r.backend_util.prepareAndValidate(i,o),d=Object(a.a)(l,4),p=d[0],f=d[1],h=d[2],m=d[3];if(0===f)return n.makeTensorInfo(p,i.dtype,[]);var v=Of(n.data.get(o.dataId).values,n.bufferSync(i),i.dtype,f,c,h,m,i.shape,s);return n.makeTensorInfo(p,i.dtype,v.values)}};function Sf(e,t,n){for(var a=Object(r.buffer)(n,e.dtype),i=0;i<a.size;++i){var o=a.indexToLoc(i).slice(),s=o[0],u=o[2],c=t.locToIndex([s,u]);o[2]=t.values[c];var l=e.locToIndex(o);0<=l&&l<e.values.length&&(a.values[i]=e.values[l])}return a}var Cf={kernelName:r.GatherV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.indices,s=a.axis,u=a.batchDims;gl([i,o],"gatherV2");for(var c=r.util.parseAxisParam(s,i.shape)[0],l=n.data.get(o.dataId).values,d=i.shape[c],p=function(e){var t=l[e];r.util.assert(t<=d-1&&t>=0,(function(){return"GatherV2: the index value ".concat(t," is not in [0, ").concat(d-1,"]")}))},f=0;f<l.length;++f)p(f);var h=u;null==u&&(h=0);var m=r.util.sizeFromShape(o.shape),v=r.backend_util.segment_util.collectGatherOpShapeInfo(i,o,c,h),b=nd({inputs:{x:i},backend:n,attrs:{shape:[v.batchSize,v.outerSize,v.dimSize,v.sliceSize]}}),g=nd({inputs:{x:o},backend:n,attrs:{shape:[v.batchSize,m/v.batchSize]}}),y=[v.batchSize,v.outerSize,m/v.batchSize,v.sliceSize],_=n.bufferSync(g),x=Sf(n.bufferSync(b),_,y);return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(g),n.makeTensorInfo(v.outputShape,x.dtype,x.values)}},Tf=El((function(e,t){return e>t?1:0})),Nf=Yl(r.Greater,Tf,null,"bool"),Ef={kernelName:r.Greater,backendName:"cpu",kernelFunc:Nf},If=El((function(e,t){return e>=t?1:0})),Af=Yl(r.GreaterEqual,If,null,"bool"),Rf={kernelName:r.GreaterEqual,backendName:"cpu",kernelFunc:Af};var Df={kernelName:r.IFFT,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=t.input,i=r.util.sizeFromShape(a.shape),o=a.shape[a.shape.length-1],s=nd({inputs:{x:a},backend:n,attrs:{shape:[i/o,o]}}),u=lf(s,!0,n),c=nd({inputs:{x:u},backend:n,attrs:{shape:a.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),c}},Mf=kl(r.IsFinite,(function(e){return Number.isFinite(e)?1:0}),"bool"),Ff={kernelName:r.IsFinite,backendName:"cpu",kernelFunc:Mf},Lf=kl(r.IsInf,(function(e){return Math.abs(e)===1/0?1:0}),"bool"),Pf={kernelName:r.IsInf,backendName:"cpu",kernelFunc:Lf},zf=kl(r.IsNan,(function(e){return Number.isNaN(e)?1:0}),"bool"),Bf={kernelName:r.IsNan,backendName:"cpu",kernelFunc:zf},Vf=El((function(e,t){return e<t?1:0})),Uf=Yl(r.Less,Vf,null,"bool"),Wf={kernelName:r.Less,backendName:"cpu",kernelFunc:Uf},Hf=El((function(e,t){return e<=t?1:0})),Gf=Yl(r.LessEqual,Hf,null,"bool"),$f={kernelName:r.LessEqual,backendName:"cpu",kernelFunc:Gf};function qf(e,t,n){var a=(t-e)/(n-1),i=r.util.makeZerosTypedArray(n,"float32");i[0]=e;for(var o=1;o<i.length;o++)i[o]=i[o-1]+a;return i}var Kf={kernelName:r.LinSpace,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=qf(n.start,n.stop,n.num);return t.makeTensorInfo([r.length],"float32",r)}},Xf=xl((function(e){return Math.log(e)})),Yf=wl(r.Log,Xf),Zf={kernelName:r.Log,backendName:"cpu",kernelFunc:Yf},Qf=kl(r.Log1p,(function(e){return Math.log1p(e)})),Jf={kernelName:r.Log1p,backendName:"cpu",kernelFunc:Qf},eh=El((function(e,t){return e&&t})),th=Yl(r.LogicalAnd,eh,null,"bool"),nh={kernelName:r.LogicalAnd,backendName:"cpu",kernelFunc:th},rh=kl(r.LogicalNot,(function(e){return e?0:1}),"bool"),ah={kernelName:r.LogicalNot,backendName:"cpu",kernelFunc:rh},ih=El((function(e,t){return e||t})),oh=Yl(r.LogicalOr,ih,null,"bool"),sh={kernelName:r.LogicalOr,backendName:"cpu",kernelFunc:oh};var uh={kernelName:r.LRN,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.depthRadius,s=a.bias,u=a.alpha,c=a.beta;gl(i,"LRN");var l=i.shape[3],d=l-1,p=n.data.get(i.dataId).values,f=r.util.sizeFromShape(i.shape),h=new Float32Array(f);function m(e){for(var t=e%l,n=e-t+Math.max(0,t-o),r=e-t+Math.min(t+o,d),a=0;n<=r;n++){var i=p[n];a+=i*i}return a}for(var v=0;v<f;v++){var b=m(v),g=p[v]*Math.pow(s+u*b,-c);h[v]=g}return n.makeTensorInfo(i.shape,i.dtype,h)}};var ch={kernelName:r.LRNGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.y,s=t.dy,u=a.depthRadius,c=a.bias,l=a.alpha,d=a.beta;gl(s,"LRNGrad");for(var p=r.util.sizeFromShape(s.shape),f=s.shape[3],h=n.data.get(s.dataId).values,m=n.data.get(i.dataId).values,v=n.data.get(o.dataId).values,b=new Float32Array(p),g=p,y=0;y<g;y++){for(var _=y%f,x=y-_+Math.max(0,_-u),k=y-_+Math.min(f,_+u+1),w=0,O=x;O<k;O++)w+=Math.pow(m[O],2);w=l*w+c;for(var j=x;j<k;j++){var S=-2*l*d*m[j]*v[y]/w;y===j&&(S+=Math.pow(w,-d)),S*=h[y],b[j]+=S}}return n.makeTensorInfo(s.shape,i.dtype,b)}};function lh(e,t,n,a){for(var i=r.util.getTypedArrayFromDType(a,r.util.sizeFromShape(n)),o=0;o<i.length;++o){for(var s=o*t,u=e[s],c=0;c<t;++c){var l=e[s+c];(Number.isNaN(l)||l>u)&&(u=l)}i[o]=u}return i}function dh(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.x,s=i.reductionIndices,u=i.keepDims,c=n,l=o.shape,d=l.length,p=r.util.parseAxisParam(s,l),f=p,h=r.backend_util.getAxesPermutation(f,d),m=c.data.get(o.dataId).values;if(null!=h){for(var v=new Array(d),b=0;b<v.length;b++)v[b]=l[h[b]];m=hd(m,l,o.dtype,h,v),f=r.backend_util.getInnerMostAxes(f.length,d),l=v}gl(o,"max"),r.backend_util.assertAxesAreInnerMostDims("max",f,d);var g=r.backend_util.computeOutAndReduceShapes(l,f),y=Object(a.a)(g,2),_=y[0],x=y[1],k=lh(m,r.util.sizeFromShape(x),_,o.dtype),w=c.write(k,_,o.dtype),O=_;u&&(O=r.backend_util.expandShapeToKeepDim(_,p));return{dataId:w,shape:O,dtype:o.dtype}}var ph={kernelName:r.Max,backendName:"cpu",kernelFunc:dh},fh=El((function(e,t){return Math.max(e,t)})),hh=Yl(r.Maximum,fh),mh={kernelName:r.Maximum,backendName:"cpu",kernelFunc:hh};var vh={kernelName:r.MaxPool,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x;gl(i,"maxPool");var o=a.filterSize,s=a.strides,u=a.pad,c=a.dimRoundingMode;r.util.assert(r.backend_util.eitherStridesOrDilationsAreOne(s,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")}));var l,d=r.backend_util.computePool2DInfo(i.shape,o,s,1,u,c);if(1===d.filterWidth&&1===d.filterHeight&&r.util.arraysEqual(d.inShape,d.outShape))l=Sl({inputs:{x:i},backend:n});else{var p=n.data.get(i.dataId).values,f=r.util.computeStrides(i.shape),h=Ad(p,i.shape,i.dtype,f,d,"max");l=n.makeTensorInfo(d.outShape,i.dtype,h.values)}return l}};var bh={kernelName:r.MaxPool3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.filterSize,s=a.strides,u=a.pad,c=a.dimRoundingMode,l=a.dataFormat;gl(i,"maxPool3d");var d=r.backend_util.computePool3DInfo(i.shape,o,s,1,u,c,l),p=Dd(n.data.get(i.dataId).values,i.shape,i.dtype,r.util.computeStrides(i.shape),d,"max");return n.makeTensorInfo(p.shape,"float32",p.values)}};var gh={kernelName:r.MaxPool3DGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.dy,o=t.input,s=a.filterSize,u=a.strides,c=a.pad,l=a.dimRoundingMode;gl([i,o],"maxPool3DGrad");for(var d=r.backend_util.computePool3DInfo(o.shape,s,u,1,c,l),p=function(e,t){for(var n=Object(r.buffer)(t.outShape,"int32"),a=t.strideDepth,i=t.strideHeight,o=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,l=t.effectiveFilterDepth,d=t.effectiveFilterHeight,p=t.effectiveFilterWidth,f=t.padInfo.front,h=t.padInfo.top,m=t.padInfo.left,v=0;v<t.batchSize;++v)for(var b=0;b<t.inChannels;++b)for(var g=0;g<t.outDepth;++g){for(var y=g*a-f,_=y;_<0;)_+=s;for(var x=Math.min(t.inDepth,l+y),k=0;k<t.outHeight;++k){for(var w=k*i-h,O=w;O<0;)O+=u;for(var j=Math.min(t.inHeight,d+w),S=0;S<t.outWidth;++S){for(var C=S*o-m,T=C;T<0;)T+=c;for(var N=Math.min(t.inWidth,p+C),E=Number.NEGATIVE_INFINITY,I=-1,A=_;A<x;A+=s)for(var R=A-y,D=O;D<j;D+=u)for(var M=D-w,F=T;F<N;F+=c){var L=F-C,P=e.get(v,A,D,F,b);P>=E&&(E=P,I=R*d*p+M*d+L)}n.set(I,v,g,k,S,b)}}}return n}(n.bufferSync(o),d),f=d.strideDepth,h=d.strideHeight,m=d.strideWidth,v=d.dilationDepth,b=d.dilationHeight,g=d.dilationWidth,y=d.effectiveFilterDepth,_=d.effectiveFilterHeight,x=d.effectiveFilterWidth,k=y-1-d.padInfo.front,w=x-1-d.padInfo.left,O=_-1-d.padInfo.top,j=Object(r.buffer)(o.shape,"float32"),S=n.bufferSync(i),C=0;C<d.batchSize;++C)for(var T=0;T<d.inChannels;++T)for(var N=0;N<d.inDepth;++N)for(var E=0;E<d.inHeight;++E)for(var I=0;I<d.inWidth;++I){for(var A=N-k,R=E-O,D=I-w,M=0,F=0;F<y;F+=v){var L=(A+F)/f;if(!(L<0||L>=d.outDepth||Math.floor(L)!==L))for(var P=0;P<_;P+=b){var z=(R+P)/h;if(!(z<0||z>=d.outHeight||Math.floor(z)!==z))for(var B=0;B<x;B+=g){var V=(D+B)/m;if(!(V<0||V>=d.outWidth||Math.floor(V)!==V)){var U=y*_*x-1-p.get(C,L,z,V,T)===F*_*x+P*x+B?1:0;if(0!==U)M+=S.get(C,L,z,V,T)*U}}}}j.set(M,C,N,E,I,T)}return n.makeTensorInfo(j.shape,j.dtype,j.values)}};var yh={kernelName:r.MaxPoolGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.dy,o=t.input,s=o;gl([o,t.output],"maxPoolGrad");for(var u=a.filterSize,c=a.strides,l=a.pad,d=a.dimRoundingMode,p=r.backend_util.computePool2DInfo(s.shape,u,c,1,l,d),f=n.data.get(s.dataId).values,h=Object(r.buffer)(p.outShape,s.dtype,Rd(f,s.shape,s.dtype,p).values),m=p.strideHeight,v=p.strideWidth,b=p.dilationHeight,g=p.dilationWidth,y=p.effectiveFilterHeight,_=p.effectiveFilterWidth,x=_-1-p.padInfo.left,k=y-1-p.padInfo.top,w=Object(r.buffer)(s.shape,"float32"),O=n.data.get(i.dataId).values,j=Object(r.buffer)(i.shape,"float32",O),S=0;S<p.batchSize;++S)for(var C=0;C<p.inChannels;++C)for(var T=0;T<p.inHeight;++T)for(var N=0;N<p.inWidth;++N){for(var E=T-k,I=N-x,A=0,R=0;R<y;R+=b){var D=(E+R)/m;if(!(D<0||D>=p.outHeight||Math.floor(D)!==D))for(var M=0;M<_;M+=g){var F=(I+M)/v;if(!(F<0||F>=p.outWidth||Math.floor(F)!==F)){var L=y*_-1-h.get(S,D,F,C)===R*_+M?1:0;if(0!==L)A+=j.get(S,D,F,C)*L}}}w.set(A,S,T,N,C)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};var _h={kernelName:r.MaxPoolWithArgmax,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,i=e.backend,o=t.x,s=n.filterSize,u=n.strides,c=n.pad,l=n.includeBatchInIndex,d=i;gl(o,"MaxPoolWithArgmax");var p=d.data.get(o.dataId).values,f=r.backend_util.computePool2DInfo(o.shape,s,u,[1,1],c),h=function(e,t,n,a,i){var o=Ad(e,0,n,r.util.computeStrides(t),i,"max"),s=Rd(e,t,n,i,!0,a);return[o.values,s.values]}(p,o.shape,o.dtype,l,f),m=Object(a.a)(h,2),v=m[0],b=m[1],g=d.write(v,f.outShape,o.dtype),y=d.write(b,f.outShape,o.dtype);return[{dataId:g,shape:f.outShape,dtype:o.dtype},{dataId:y,shape:f.outShape,dtype:"int32"}]}};var xh={kernelName:r.Mean,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.axis,s=a.keepDims,u=r.util.parseAxisParam(o,i.shape),c=r.backend_util.computeOutAndReduceShapes(i.shape,u)[1],l=r.util.sizeFromShape(c),d=[],p=n.makeTensorInfo([],"float32",new Float32Array([l]));d.push(p);var f=Kl({inputs:{x:i},backend:n,attrs:{dtype:"float32"}});d.push(f);var h=rf({inputs:{a:f,b:p},backend:n});d.push(h);var m=Rp({inputs:{x:h},backend:n,attrs:{axis:o,keepDims:s}});return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),m}};var kh={kernelName:r.Min,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.x,s=i.axis,u=i.keepDims;gl(o,"min");var c=r.util.parseAxisParam(s,o.shape),l=c,d=r.backend_util.getAxesPermutation(l,o.shape.length),p=o;null!=d&&(p=md({inputs:{x:o},backend:n,attrs:{perm:d}}),l=r.backend_util.getInnerMostAxes(l.length,o.shape.length)),r.backend_util.assertAxesAreInnerMostDims("min",l,p.shape.length);for(var f=r.backend_util.computeOutAndReduceShapes(p.shape,l),h=Object(a.a)(f,2),m=h[0],v=h[1],b=r.util.sizeFromShape(v),g=r.util.makeZerosTypedArray(r.util.sizeFromShape(m),p.dtype),y=n.data.get(p.dataId).values,_=0;_<g.length;++_){for(var x=_*b,k=y[x],w=0;w<b;++w){var O=y[x+w];(Number.isNaN(O)||O<k)&&(k=O)}g[_]=k}null!=d&&n.disposeIntermediateTensorInfo(p);var j=n.makeTensorInfo(m,p.dtype,g);if(u){var S=nd({inputs:{x:j},backend:n,attrs:{shape:r.backend_util.expandShapeToKeepDim(m,c)}});return n.disposeIntermediateTensorInfo(j),S}return j}},wh=El((function(e,t){return Math.min(e,t)})),Oh=Yl(r.Minimum,wh),jh={kernelName:r.Minimum,backendName:"cpu",kernelFunc:Oh};var Sh={kernelName:r.MirrorPad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.paddings,s=a.mode;gl(i,"mirrorPad");for(var u=o.map((function(e,t){return e[0]+i.shape[t]+e[1]})),c=o.map((function(e){return e[0]})),l=o.map((function(e,t){return e[0]+i.shape[t]})),d="reflect"===s?0:1,p=n.data.get(i.dataId).values,f=i.shape.length,h=r.util.computeStrides(i.shape),m=r.util.sizeFromShape(u),v=u.length,b=r.util.computeStrides(u),g=r.util.getTypedArrayFromDType(i.dtype,m),y=0;y<m;y++){for(var _=r.util.indexToLoc(y,v,b),x=0;x<v;x++)_[x]<c[x]?_[x]=2*c[x]-_[x]-d:_[x]>=l[x]&&(_[x]=2*(l[x]-1)-_[x]+d);_=_.map((function(e,t){return e-c[t]}));var k=r.util.locToIndex(_,f,h);g[y]=p[k]}return{dataId:n.write(g,u,i.dtype),shape:u,dtype:i.dtype}}},Ch=El((function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),Th=Yl(r.Mod,Ch),Nh={kernelName:r.Mod,backendName:"cpu",kernelFunc:Th};function Eh(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.logits,o=a.dim,s=i.shape.length,u=o;if(-1===u&&(u=s-1),u!==s-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(s," and dim was ").concat(u));var c=r.util.parseAxisParam([u],i.shape),l=dh({inputs:{x:i},backend:n,attrs:{reductionIndices:c,keepDims:!1}}),d=r.backend_util.expandShapeToKeepDim(l.shape,c),p=nd({inputs:{x:l},backend:n,attrs:{shape:d}}),f=uf({inputs:{a:i,b:p},backend:n}),h=Xp({inputs:{x:f},backend:n}),m=Rp({inputs:{x:h},backend:n,attrs:{axis:c,keepDims:!1}}),v=nd({inputs:{x:m},backend:n,attrs:{shape:d}}),b=rf({inputs:{a:h,b:v},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),b}var Ih={kernelName:r.Softmax,backendName:"cpu",kernelFunc:Eh};var Ah={kernelName:r.Multinomial,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.logits,o=a.numSamples,s=a.seed,u=a.normalized;gl(i,"multinomial");for(var c=u?i:Eh({inputs:{logits:i},backend:n,attrs:{dim:-1}}),l=c.shape[0],d=c.shape[1],p=n.data.get(c.dataId).values,f=[l,o],h=r.util.makeZerosTypedArray(r.util.sizeFromShape(f),"int32"),m=0;m<l;++m){var v=m*d,b=new Float32Array(d-1);b[0]=p[v];for(var g=1;g<b.length;++g)b[g]=b[g-1]+p[v+g];for(var y=pl.alea(s.toString()),_=m*o,x=0;x<o;++x){var k=y();h[_+x]=b.length;for(var w=0;w<b.length;w++)if(k<b[w]){h[_+x]=w;break}}}return u||n.disposeIntermediateTensorInfo(c),n.makeTensorInfo(f,"int32",h)}};function Rh(e,t,n){var a=r.util.createScalarValue(-1,n);return Np([],t,a,e,n)}var Dh={kernelName:r.Neg,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x;gl(r,"neg");var i=Rh(n.data.get(r.dataId).values,r.shape,r.dtype),o=Object(a.a)(i,2),s=o[0],u=o[1];return n.makeTensorInfo(u,r.dtype,s)}},Mh=r.kernel_impls.nonMaxSuppressionV3Impl;var Fh={kernelName:r.NonMaxSuppressionV3,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold;gl(a,"NonMaxSuppression");var c=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,d=Mh(c,l,o,s,u).selectedIndices;return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},Lh=r.kernel_impls.nonMaxSuppressionV4Impl;var Ph={kernelName:r.NonMaxSuppressionV4,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=r.padToMaxOutputSize;gl(a,"NonMaxSuppressionPadded");var l=n.data.get(a.dataId).values,d=n.data.get(i.dataId).values,p=Lh(l,d,o,s,u,c),f=p.selectedIndices,h=p.validOutputs;return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},zh=r.kernel_impls.nonMaxSuppressionV5Impl;var Bh={kernelName:r.NonMaxSuppressionV5,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=r.softNmsSigma;gl(a,"NonMaxSuppressionWithScore");var l=n.data.get(a.dataId).values,d=n.data.get(i.dataId).values,p=zh(l,d,o,s,u,c),f=p.selectedIndices,h=p.selectedScores;return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([h.length],"float32",new Float32Array(h))]}},Vh=El((function(e,t){return e!==t?1:0})),Uh=Yl(r.NotEqual,Vh,null,"bool"),Wh={kernelName:r.NotEqual,backendName:"cpu",kernelFunc:Uh};var Hh={kernelName:r.OneHot,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.indices,o=a.dtype,s=a.depth,u=a.onValue,c=a.offValue;gl(i,"oneHot");var l=r.util.sizeFromShape(i.shape),d=new Float32Array(l*s);d.fill(c);for(var p=n.data.get(i.dataId).values,f=0;f<l;++f)p[f]>=0&&p[f]<s&&(d[f*s+p[f]]=u);return n.makeTensorInfo([].concat(Object(Gn.a)(i.shape),[s]),o,d)}};function Gh(e){var t=e.inputs,n=e.backend,r=t.x;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){var a=Gl({inputs:{input:r},backend:n}),i=Gh({inputs:{x:a},backend:n}),o=tp({inputs:{input:r},backend:n}),s=Gh({inputs:{x:o},backend:n}),u=Ul({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}return ff({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}var $h={kernelName:r.ZerosLike,backendName:"cpu",kernelFunc:Gh};var qh={kernelName:r.OnesLike,backendName:"cpu",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===a.dtype){var i=Gl({inputs:{input:a},backend:r}),o=e({inputs:{x:i},backend:r}),s=tp({inputs:{input:a},backend:r}),u=Gh({inputs:{x:s},backend:r}),c=Ul({inputs:{real:o,imag:u},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),c}return ff({backend:r,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}};function Kh(e){var t=e.inputs,n=e.backend,a=e.attrs.axis;if(1===t.length)return Zp({inputs:{input:t[0]},backend:n,attrs:{dim:a}});var i=t[0].shape,o=t[0].dtype;t.forEach((function(e){r.util.assertShapesMatch(i,e.shape,"All tensors passed to stack must have matching shapes"),r.util.assert(o===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var s=[],u=rp({inputs:t.map((function(e){var t=Zp({inputs:{input:e},backend:n,attrs:{dim:a}});return s.push(t),t})),backend:n,attrs:{axis:a}});return s.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),u}var Xh={kernelName:r.Pack,backendName:"cpu",kernelFunc:Kh};var Yh={kernelName:r.PadV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.paddings,s=a.constantValue;gl(i,"pad");var u=o.map((function(e,t){return e[0]+i.shape[t]+e[1]})),c=o.map((function(e){return e[0]})),l=n.data.get(i.dataId).values,d=r.util.sizeFromShape(i.shape),p=i.shape.length,f=r.util.computeStrides(i.shape),h=r.util.sizeFromShape(u),m=u.length,v=r.util.computeStrides(u),b=r.util.getTypedArrayFromDType(i.dtype,h);0!==s&&b.fill(s);for(var g=0;g<d;g++){var y=r.util.indexToLoc(g,p,f).map((function(e,t){return e+c[t]}));b[r.util.locToIndex(y,m,v)]=l[g]}return{dataId:n.write(b,u,i.dtype),shape:u,dtype:i.dtype}}},Zh=El((function(e,t){return Math.pow(e,t)})),Qh=Yl(r.Pow,Zh),Jh={kernelName:r.Pow,backendName:"cpu",kernelFunc:Qh};function em(e,t,n,i){for(var o=r.backend_util.computeOutAndReduceShapes(e,i),s=Object(a.a)(o,2),u=s[0],c=s[1],l=Object(r.upcastType)(t,"int32"),d=r.util.makeZerosTypedArray(r.util.sizeFromShape(u),l),p=r.util.sizeFromShape(c),f=0;f<d.length;++f){for(var h=f*p,m=1,v=0;v<p;++v)m*=n[h+v];d[f]=m}return{outVals:d,outShape:u,outDtype:l}}var tm={kernelName:r.Prod,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.axis,s=a.keepDims;gl(i,"prod");var u=i.shape.length,c=r.util.parseAxisParam(o,i.shape),l=r.backend_util.getAxesPermutation(c,u),d=c,p=i,f=[];null!=l&&(p=md({inputs:{x:i},backend:n,attrs:{perm:l}}),f.push(p),d=r.backend_util.getInnerMostAxes(d.length,u));var h=n.data.get(p.dataId).values,m=em(p.shape,p.dtype,h,d),v=m.outVals,b=m.outShape,g=m.outDtype,y=b;return s&&(y=r.backend_util.expandShapeToKeepDim(b,c)),f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(y,g,v)}};function nm(e,t,n,r){var a=[],i=0,o=t.length-1+n.length,s=new Array(o).fill(null).map((function(){return[0]}));!function(e,t){for(var n=0;n<e.length;++n){var r=e[n],a=n===e.length-1?t:e[n+1].length;if(0===r.length)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>a)throw new Error("Ragged splits must not point past values");for(var i=1;i<r.length;++i)if(r[i-1]>r[i])throw new Error("Ragged splits must be sorted in ascending order")}}(n,r);for(var u=1,c=0;c<t.length-1;++c){u*=t[c];for(var l=t[c+1],d=1;d<u+1;++d)s[c].push(d*l)}for(var p=0;p<e.length;++p){for(var f=e[p],h=e[p]+1,m=0;m<n.length;++m){var v=n[m],b=m+t.length-1;if(b>=0)for(var g=s[b],y=g[g.length-1]-v[f],_=f;_<h;++_)s[b].push(v[_+1]+y);f=v[f],h=v[h]}h!==f&&(a.push([f,h]),i+=h-f)}return{outSplits:s,valueSlices:a,numValues:i}}function rm(e,t){for(var n=e.slice(0,t);n.length<t;)n.push(1);for(var r=t;r<e.length;r++)n[t-1]*=e[r];return n}function am(e,t,n,a,i){var o=t.slice();o[0]=i;var s=r.util.getArrayFromDType(n,r.util.sizeFromShape(o)),u=e.length;return function(e,t,n,r,a,i){var o=rm(t,2)[1],s=rm(i,2)[1],u=0,c=!0,l=!1,d=void 0;try{for(var p,f=n[Symbol.iterator]();!(c=(p=f.next()).done);c=!0)for(var h=p.value,m=h[0];m<h[1];++m){for(var v=0;v<r;++v)a[u*s+v]=e[m*o+v];++u}}catch(b){l=!0,d=b}finally{try{c||null==f.return||f.return()}finally{if(l)throw d}}}(e,t,a,0===u?0:u/t[0],s,o),[s,o]}function im(e,t,n,a,i,o,s,u){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach((function(e,a){if(e<0||e>=n){var i=r.util.indexToLoc(a,t.length,r.util.computeStrides(t)).join(",");throw new Error("indices[".concat(i,"] = ").concat(e," is not in [0, ").concat(n,")"))}}))}(o,s,t[0][0]-1),0===a.length)throw new Error("params.rank must be nonzero");var c=nm(o,s,e,a[0]),l=c.outSplits,d=c.valueSlices,p=c.numValues,f=function(e){for(var t=[],n=function(n){var a=e[n].length,i=r.util.getArrayFromDType("int32",a);t.push(i),e[n].forEach((function(e,t){return i[t]=e}))},a=0;a<e.length;++a)n(a);return t}(l),h=am(n,a,i,d,p);return[f,h[0],h[1]]}var om={kernelName:r.RaggedGather,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.paramsNestedSplits,o=t.paramsDenseValues,s=t.indices,u=(r.outputRaggedRank,i.map((function(e){return n.data.get(e.dataId).values}))),c=i.map((function(e){return e.shape})),l=n.data.get(o.dataId).values,d=n.data.get(s.dataId).values,p=im(u,c,l,o.shape,o.dtype,d,s.shape),f=Object(a.a)(p,3),h=f[0],m=f[1],v=f[2],b=h.map((function(e){return n.makeTensorInfo([e.length],"int32",e)})),g=n.makeTensorInfo(v,o.dtype,m);return b.concat([g])}},sm=2147483647;function um(e,t,n,a,i,o,s){if(t.length>1)throw new Error("starts must be a scalar or vector");if(i.length>1)throw new Error("limits must be a scalar or vector");if(s.length>1)throw new Error("deltas must be a scalar or vector");var u=0===t.length,c=0===i.length,l=0===s.length,d=[];u||d.push(t[0]),c||d.push(i[0]),l||d.push(s[0]);for(var p=1;p<d.length;++p)if(d[p]!==d[p-1])throw new Error("starts, limits, and deltas must have the same shape");var f=0===d.length?1:d[0],h=r.util.getArrayFromDType("int32",f+1);h[0]=0;for(var m=0;m<f;++m){var v=u?e[0]:e[m],b=c?a[0]:a[m],g=l?o[0]:o[m];if(0===g)throw new Error("Requires delta != 0");var y=void 0;if(g>0&&b<v||g<0&&b>v)y=0;else if((y=Math.ceil(Math.abs((b-v)/g)))>sm)throw new Error("Requires ((limit - start) / delta) <= ".concat(sm));h[m+1]=h[m]+y}for(var _=h[f],x=r.util.getArrayFromDType(n,_),k=0,w=0;w<f;++w)for(var O=h[w+1]-h[w],j=u?e[0]:e[w],S=l?o[0]:o[w],C=0;C<O;++C)x[k++]=j,j+=S;return[h,x]}var cm={kernelName:r.RaggedRange,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.starts,i=t.limits,o=t.deltas,s=n.data.get(r.dataId).values,u=n.data.get(i.dataId).values,c=n.data.get(o.dataId).values,l=um(s,r.shape,r.dtype,u,i.shape,c,o.shape),d=Object(a.a)(l,2),p=d[0],f=d[1];return[n.makeTensorInfo([p.length],"int32",p),n.makeTensorInfo([f.length],r.dtype,f)]}},lm=r.backend_util.RowPartitionType,dm=function(){function e(t,n,a,i,o,s,u,c,l,d){Object(Zr.a)(this,e),this.shape=t,this.shapeShape=n,this.values=a,this.valuesShape=i,this.valuesDType=o,this.defaultValue=s,this.defaultValueShape=u,this.rowPartitionValues=c,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=r.backend_util.getRowPartitionTypesHelper(d),this.raggedRank=r.backend_util.getRaggedRank(this.rowPartitionTypes)}return Object(Qr.a)(e,[{key:"getRowPartitionTypeByDimension",value:function(e){return this.rowPartitionTypes[0]===lm.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}},{key:"getRowPartitionTensor",value:function(e){return this.rowPartitionTypes[0]===lm.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}},{key:"getMaxWidth",value:function(t){var n=this.getRowPartitionTensor(t-1);switch(this.getRowPartitionTypeByDimension(t-1)){case lm.VALUE_ROWIDS:return e.getMaxWidthValueRowID(n);case lm.ROW_SPLITS:return e.getMaxWidthRowSplit(n);default:throw new Error("Cannot handle partition type ".concat(lm[this.getRowPartitionTypeByDimension(t-1)]))}}},{key:"tensorShapeFromTensor",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return fm(e,n)}},{key:"calculateOutputSize",value:function(e){var t=this.valuesShape,n=this.defaultValueShape;r.backend_util.validateDefaultValueShape(n,t);var a=this.tensorShapeFromTensor(this.shape,this.shapeShape),i=r.backend_util.combineRaggedTensorToTensorShapes(this.raggedRank,a,t);i[0]<0&&(i[0]=e);for(var o=1;o<=this.raggedRank;++o)i[o]<0&&(i[o]=this.getMaxWidth(o));return i}},{key:"calculateFirstParentOutputIndex",value:function(e,t,n){for(var a=Math.min(e,n),i=[],o=0,s=0;s<a;++s,o+=t)i.push(o);for(var u=a;u<e;++u)i.push(-1);return r.util.assert(i.length===e,(function(){return"Final length of result must be equal to firstDimension."})),i}},{key:"calculateOutputIndexRowSplit",value:function(e,t,n,r){for(var a=e.length,i=[],o=0;o<a-1;++o){var s=e[o+1]-e[o],u=Math.min(r,s),c=t[o];-1===c&&(u=0);for(var l=0;l<u;++l)i.push(c),c+=n;for(var d=0;d<s-u;++d)i.push(-1)}if(a>0&&i.length!==e[a-1])throw new Error("Invalid row split size.");return i}},{key:"calculateOutputIndexValueRowID",value:function(e,t,n,r){var a=e.length,i=[];if(0===a)return[];var o=0,s=e[0];if(s>=t.length)throw new Error("Got currentValueRowId=".concat(s,", which is not less than ").concat(t.length));var u=t[s];i.push(u);for(var c=1;c<a;++c){var l=e[c];if(l===s)u>=0&&(++o<r?u+=n:u=-1);else{if(o=0,s=l,l>=t.length)throw new Error("Got nextValueRowId=".concat(l," which is not less than ").concat(t.length));u=t[l]}i.push(u)}if(i.length!==e.length)throw new Error("Invalid row ids.");return i}},{key:"calculateOutputIndex",value:function(e,t,n,r){var a=this.getRowPartitionTensor(e),i=this.getRowPartitionTypeByDimension(e);switch(i){case lm.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(a,t,n,r);case lm.ROW_SPLITS:if(a.length-1>t.length)throw new Error("Row partition size is greater than output size: ".concat(a.length-1," > ").concat(t.length));return this.calculateOutputIndexRowSplit(a,t,n,r);default:throw new Error("Unsupported partition type: ".concat(lm[i]))}}},{key:"getFirstDimensionSize",value:function(){var e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");var t=this.rowPartitionTypes[0];switch(t){case lm.FIRST_DIM_SIZE:return e[0];case lm.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case lm.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error("Cannot handle type ".concat(lm[t]))}}},{key:"compute",value:function(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");var e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(var a=n.length-2;a>=0;--a)n[a]=n[a+1]*t[a+1];var i=fm(t,!1),o=r.util.getArrayFromDType(this.valuesDType,r.util.sizeFromShape(i));if(n[0]*t[0]>0){for(var s=this.calculateFirstParentOutputIndex(e,n[0],t[0]),u=1;u<=this.raggedRank;++u){s=this.calculateOutputIndex(u-1,s,n[u],t[u])}this.setOutput(this.raggedRank,s,o,i)}return[i,o]}},{key:"setOutput",value:function(e,t,n,a){if(0!==n.length){var i=this.values,o=n,s=a.slice();s=s.slice(e+1);var u=r.util.sizeFromShape(s),c=t.length,l=this.defaultValue;if(l.length!==u&&1!==l.length){var d=this.defaultValueShape;Object(r.tidy)((function(){var e=Object(r.reshape)(l,d),t=Object(r.broadcastTo)(e,s);l=t.dataSync()}))}for(var p=0,f=0,h=0,m=0;m<=c;++m){var v=m<c?t[m]:-1;if(v!==h){if(f<h){var b=i.subarray(p*u);pm(o.subarray(f*u),b,(h-f)*u)}if(m>=c){var g=n.length;v=Math.floor(g/u)}if(v>h)if(1===this.defaultValue.length)o.subarray(h*u,v*u).fill(this.defaultValue[0]),h=v;else for(;v>h;){pm(o.slice(h*u),l,u),++h}v<0?(p=m+1,f=h):(p=m,h=(f=h)+1)}else++h}}}}],[{key:"getMaxWidthRowSplit",value:function(e){var t=e.length;if(0===t||1===t)return 0;for(var n=0,r=0;r<t-1;++r){var a=e[r+1]-e[r];a>n&&(n=a)}return n}},{key:"getMaxWidthValueRowID",value:function(e){var t=e.length;if(0===t)return 0;for(var n=0,r=e[0],a=0,i=1;i<t;++i){var o=e[i];o!==r&&(r=o,a=Math.max(i-n,a),n=i)}return Math.max(t-n,a)}}]),e}();function pm(e,t,n){for(var r=0;r<n;r++)e[r]=t[r]}function fm(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;if(u<0){if(!t)throw new Error("Dimension ".concat(u," must be >= 0"));if(u<-1)throw new Error("Dimension ".concat(u," must be >= -1"));u=-1}n.push(u)}}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}function hm(e,t,n,r,a,i,o,s,u,c){return new dm(e,t,n,r,a,i,o,s,u,c).compute()}var mm={kernelName:r.RaggedTensorToTensor,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.shape,o=t.values,s=t.defaultValue,u=t.rowPartitionTensors,c=r.rowPartitionTypes,l=n.data.get(i.dataId).values,d=n.data.get(o.dataId).values,p=n.data.get(s.dataId).values,f=u.map((function(e){return n.data.get(e.dataId).values})),h=u.map((function(e){return e.shape})),m=hm(l,i.shape,d,o.shape,o.dtype,p,s.shape,f,h,c),v=Object(a.a)(m,2),b=v[0],g=v[1];return n.makeTensorInfo(b,o.dtype,g)}};function vm(e,t,n,a){if(e===t||e<t&&n<0||t<e&&n>1)return r.util.makeZerosTypedArray(0,a);var i=Math.abs(Math.ceil((t-e)/n)),o=r.util.makeZerosTypedArray(i,a);t<e&&1===n&&(n=-1),o[0]=e;for(var s=1;s<o.length;s++)o[s]=o[s-1]+n;return o}var bm={kernelName:r.Range,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.dtype,o=vm(r,a,n.step,i);return t.makeTensorInfo([o.length],i,o)}},gm=kl(r.Reciprocal,(function(e){return 1/e})),ym={kernelName:r.Reciprocal,backendName:"cpu",kernelFunc:gm};var _m={kernelName:r.ResizeBilinear,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.images,s=i.alignCorners,u=i.halfPixelCenters,c=i.size;gl(o,"resizeBilinear");for(var l=r.util.computeStrides(o.shape),d=Object(a.a)(c,2),p=d[0],f=d[1],h=Object(a.a)(o.shape,4),m=h[0],v=h[1],b=h[2],g=h[3],y=n.data.get(o.dataId).values,_=new Float32Array(r.util.sizeFromShape([m,p,f,g])),x=[s&&p>1?v-1:v,s&&f>1?b-1:b],k=[s&&p>1?p-1:p,s&&f>1?f-1:f],w=0,O=x[0]/k[0],j=x[1]/k[1],S=0;S<m;S++)for(var C=0;C<p;C++){var T=void 0;T=u?O*(C+.5)-.5:O*C;for(var N=Math.max(0,Math.floor(T)),E=T-N,I=Math.min(v-1,Math.ceil(T)),A=S*l[0]+N*l[1],R=S*l[0]+I*l[1],D=0;D<f;D++){var M=void 0;M=u?j*(D+.5)-.5:j*D;for(var F=Math.max(0,Math.floor(M)),L=M-F,P=Math.min(b-1,Math.ceil(M)),z=A+F*l[2],B=R+F*l[2],V=A+P*l[2],U=R+P*l[2],W=0;W<g;W++){var H=y[z+W],G=y[B+W],$=H+(y[V+W]-H)*L,q=$+(G+(y[U+W]-G)*L-$)*E;_[w++]=q}}}return n.makeTensorInfo([m,p,f,g],"float32",_)}};var xm={kernelName:r.ResizeBilinearGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.images,s=t.dy,u=i.alignCorners;gl([s,o],"resizeBilinearGrad");for(var c=r.util.computeStrides(o.shape),l=Object(a.a)(o.shape,4),d=l[0],p=l[1],f=l[2],h=l[3],m=Object(a.a)(s.shape,3),v=m[1],b=m[2],g=new Float32Array(d*p*f*h),y=[u&&v>1?p-1:p,u&&b>1?f-1:f],_=[u&&v>1?v-1:v,u&&b>1?b-1:b],x=y[0]/_[0],k=y[1]/_[1],w=n.data.get(s.dataId).values,O=0,j=0;j<d;j++)for(var S=j*c[0],C=0;C<v;C++)for(var T=C*x,N=Math.floor(T),E=Math.min(Math.ceil(T),p-1),I=S+N*c[1],A=S+E*c[1],R=T-N,D=1-R,M=0;M<b;M++)for(var F=M*k,L=Math.floor(F),P=Math.min(Math.ceil(F),f-1),z=F-L,B=1-z,V=I+L*c[2],U=I+P*c[2],W=A+L*c[2],H=A+P*c[2],G=D*B,$=D*z,q=R*B,K=R*z,X=0;X<h;X++){var Y=w[O++];g[V+X]+=Y*G,g[U+X]+=Y*$,g[W+X]+=Y*q,g[H+X]+=Y*K}return n.makeTensorInfo([d,f,p,h],"float32",g)}};var km={kernelName:r.ResizeNearestNeighbor,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.images,s=i.alignCorners,u=i.halfPixelCenters,c=i.size;gl(o,"resizeNearestNeighbor");for(var l=r.util.computeStrides(o.shape),d=Object(a.a)(c,2),p=d[0],f=d[1],h=Object(a.a)(o.shape,4),m=h[0],v=h[1],b=h[2],g=h[3],y=n.data.get(o.dataId).values,_=new Float32Array(m*p*f*g),x=[s&&p>1?v-1:v,s&&f>1?b-1:b],k=[s&&p>1?p-1:p,s&&f>1?f-1:f],w=x[0]/k[0],O=x[1]/k[1],j=0,S=0;S<m;S++)for(var C=S*l[0],T=0;T<p;T++){var N=u?w*(T+.5):w*T,E=Math.min(v-1,s?Math.round(N):Math.floor(N));u&&(E=Math.max(0,E));for(var I=C+E*l[1],A=0;A<f;A++){var R=u?O*(A+.5):O*A,D=Math.min(b-1,s?Math.round(R):Math.floor(R));u&&(D=Math.max(0,D));for(var M=I+D*l[2],F=0;F<g;F++){var L=y[M+F];_[j++]=L}}}return n.makeTensorInfo([m,p,f,g],o.dtype,_)}};var wm={kernelName:r.ResizeNearestNeighborGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.images,s=t.dy,u=i.alignCorners;gl([s,o],"resizeNearestNeighborGrad");for(var c=r.util.computeStrides(o.shape),l=r.util.computeStrides(s.shape),d=Object(a.a)(o.shape,4),p=d[0],f=d[1],h=d[2],m=d[3],v=Object(a.a)(s.shape,3),b=v[1],g=v[2],y=new Float32Array(p*f*h*m),_=n.data.get(s.dataId).values,x=[u&&b>1?f-1:f,u&&g>1?h-1:h],k=[u&&b>1?b-1:b,u&&g>1?g-1:g],w=x[0]/k[0],O=x[1]/k[1],j=1/w,S=1/O,C=2*Math.ceil(j)+2,T=2*Math.ceil(S)+2,N=0;N<p;N++)for(var E=N*c[0],I=0;I<f;I++)for(var A=E+I*c[1],R=Math.floor(I*j),D=Math.floor(R-C/2),M=0;M<h;M++)for(var F=A+M*c[2],L=Math.floor(M*S),P=Math.floor(L-T/2),z=0;z<m;z++){for(var B=0,V=0;V<C;V++){var U=V+D;if(!(U<0||U>=b)){var W=E+U*l[1],H=U*w;if(I===Math.min(f-1,u?Math.round(H):Math.floor(H)))for(var G=0;G<T;G++){var $=G+P;if(!($<0||$>=g)){var q=W+$*l[2],K=$*O;M===Math.min(h-1,u?Math.round(K):Math.floor(K))&&(B+=_[q+z])}}}}y[F+z]=B}return n.makeTensorInfo(o.shape,o.dtype,y)}};var Om={kernelName:r.Reverse,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.dims;gl(i,"reverse");var s=i.shape.length,u=r.util.parseAxisParam(o,i.shape);if(0===s)return Sl({inputs:{x:i},backend:n});for(var c=new r.TensorBuffer(i.shape,i.dtype),l=n.bufferSync(i),d=function(e){var t=c.indexToLoc(e),n=t.slice();u.forEach((function(e){return n[e]=i.shape[e]-1-n[e]})),c.set.apply(c,[l.get.apply(l,Object(Gn.a)(n))].concat(Object(Gn.a)(t)))},p=0;p<c.size;p++)d(p);return n.makeTensorInfo(c.shape,c.dtype,c.values)}},jm={kernelName:r.RotateWithOffset,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.attrs,i=e.backend,o=t.image,s=n.radians,u=n.fillValue,c=n.center,l=i,d=r.util.getTypedArrayFromDType(o.dtype,r.util.sizeFromShape(o.shape)),p=Object(a.a)(o.shape,4),f=p[0],h=p[1],m=p[2],v=p[3],b=r.backend_util.getImageCenter(c,h,m),g=Object(a.a)(b,2),y=g[0],_=g[1],x=Math.sin(s),k=Math.cos(s),w=l.data.get(o.dataId).values,O=0;O<f;O++)for(var j=O*m*h*v,S=0;S<h;S++)for(var C=S*(m*v),T=0;T<m;T++)for(var N=T*v,E=0;E<v;E++){var I=[f,S,T,E],A=I[2],R=I[1],D=(A-y)*k-(R-_)*x,M=(A-y)*x+(R-_)*k;D=Math.round(D+y),M=Math.round(M+_);var F=u;if("number"!==typeof u&&(F=3===E?255:u[E]),D>=0&&D<m&&M>=0&&M<h)F=w[j+M*(m*v)+D*v+E];d[j+C+N+E]=F}return{dataId:l.write(d,o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},Sm=kl(r.Round,(function(e){var t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),Cm={kernelName:r.Round,backendName:"cpu",kernelFunc:Sm},Tm=xl((function(e){return 1/Math.sqrt(e)})),Nm=wl(r.Rsqrt,Tm),Em={kernelName:r.Rsqrt,backendName:"cpu",kernelFunc:Nm};function Im(e,t,n,a,i,o,s,u,c,l){var d=[a/i,i],p=e.values,f=t.values;if(0===a)return Object(r.buffer)(n,t.dtype);var h=c instanceof r.TensorBuffer?c:Object(r.buffer)(d,t.dtype);"string"===typeof c?h.values.fill(c):"number"===typeof c?h.values.fill(c):"boolean"===typeof c&&h.values.fill(+c);for(var m=0;m<o;m++){for(var v=[],b=0,g=0;g<s;g++){var y=p[m*s+g];v.push(y),b+=y*u[g]}if(b<0||b>=a/i)throw new Error("Invalid indices: ".concat(v," does not index into ").concat(n));for(var _=0;_<i;_++)l?h.values[b*i+_]+=f[m*i+_]:h.values[b*i+_]=0===t.rank?f[0]:f[m*i+_]}return h}var Am={kernelName:r.ScatterNd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.indices,o=t.updates,s=a.shape,u=r.backend_util.calculateShapes(o,i,s),c=u.sliceRank,l=u.numUpdates,d=u.sliceSize,p=u.strides,f=u.outputSize,h=Im(n.bufferSync(i),n.bufferSync(o),s,f,d,l,c,p,0,!0);return n.makeTensorInfo(s,h.dtype,h.values)}};function Rm(e,t){for(var n=0,r=e.length,a=0;n<r;)e[a=Math.floor((n+r)/2)]<t?n=a+1:r=a;return r}function Dm(e,t){for(var n=0,r=e.length,a=0;n<r;)e[a=Math.floor((n+r)/2)]<=t?n=a+1:r=a;return r}var Mm={kernelName:r.SearchSorted,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.sortedSequence,o=t.values,s=a.side,u=function(e,t,n,a,i,o){for(var s=r.util.getArrayFromDType("int32",n*i),u=0;u<n;++u)for(var c=e.slice(u*a,(u+1)*a),l=u*i,d=0;d<i;++d)s[l+d]="left"===o?Rm(c,t[d+l]):Dm(c,t[d+l]);return s}(n.data.get(i.dataId).values,n.data.get(o.dataId).values,i.shape[0],i.shape[1],o.shape[1],s);return n.makeTensorInfo(o.shape,"int32",u)}};var Fm={kernelName:r.Select,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=t.condition,i=t.t,o=t.e;gl([a,i,o],"select");for(var s=a.shape.length,u=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,l=n.data.get(o.dataId).values,d=Object(r.upcastType)(i.dtype,o.dtype),p=r.util.makeZerosTypedArray(r.util.sizeFromShape(i.shape),d),f=0,h=0===s||s>1||1===i.shape.length?1:r.util.sizeFromShape(i.shape.slice(1)),m=0;m<u.length;m++)for(var v=0;v<h;v++)1===u[m]?p[f++]=c[m]:p[f++]=l[m];return n.makeTensorInfo(i.shape,d,p)}},Lm=r.backend_util.SELU_SCALEALPHA,Pm=r.backend_util.SELU_SCALE,zm=kl(r.Selu,(function(e){return e>=0?Pm*e:Lm*(Math.exp(e)-1)})),Bm={kernelName:r.Selu,backendName:"cpu",kernelFunc:zm},Vm=kl(r.Sign,(function(e){return e<0?-1:e>0?1:0})),Um={kernelName:r.Sign,backendName:"cpu",kernelFunc:Vm},Wm=kl(r.Sin,(function(e){return Math.sin(e)})),Hm={kernelName:r.Sin,backendName:"cpu",kernelFunc:Wm},Gm=kl(r.Sinh,(function(e){return Math.sinh(e)})),$m={kernelName:r.Sinh,backendName:"cpu",kernelFunc:Gm},qm=Math.log(1.1920928955078125e-7)+2,Km=kl(r.Softplus,(function(e){var t=e>-qm,n=e<qm,r=Math.exp(e);return n?r:t?e:Math.log(1+r)})),Xm={kernelName:r.Softplus,backendName:"cpu",kernelFunc:Km};var Ym={kernelName:r.SpaceToBatchND,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.blockShape,s=a.paddings;gl([i],"spaceToBatchND");var u=r.util.sizeFromShape(o),c=[[0,0]];c.push.apply(c,Object(Gn.a)(s));for(var l=1+o.length;l<i.shape.length;++l)c.push([0,0]);var d=Yh.kernelFunc({inputs:{x:i},backend:n,attrs:{paddings:c,constantValue:0}}),p=r.backend_util.getReshaped(d.shape,o,u,!1),f=r.backend_util.getPermuted(p.length,o.length,!1),h=r.backend_util.getReshapedPermuted(d.shape,o,u,!1),m=nd({inputs:{x:d},backend:n,attrs:{shape:p}}),v=md({inputs:{x:m},backend:n,attrs:{perm:f}}),b=nd({inputs:{x:v},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),b}};function Zm(e,t,n,a,i,o,s){var u=t[0],c=o[0],l=new Array(c),d=new Array(u),p=t[1];if(0===c){if(0!==u)throw new Error(r.backend_util.getSparseFillEmptyRowsIndicesDenseShapeMismatch(u));return[r.util.getArrayFromDType(n,0),[0,p],r.util.getArrayFromDType(i,0),l,d]}for(var f=!0,h=0,m=new Array(c).fill(0),v=0;v<u;++v){var b=e[v*p];if(b<0)throw new Error(r.backend_util.getSparseFillEmptyRowsNegativeIndexErrorMessage(v,b));if(b>=c)throw new Error(r.backend_util.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(v,b,c));++m[b],f=f&&b>=h,h=b}for(var g=!0,y=0;y<c;++y){var _=0===m[y];l[y]=_,g=g&&!_,m[y]=Math.max(m[y],1),y>0&&(m[y]+=m[y-1])}if(g&&f){for(var x=e,k=a,w=0;w<u;++w)d[w]=w;return[x,[u,p],k,l,d]}for(var O=m[c-1],j=r.util.getArrayFromDType(n,O*p),S=r.util.getArrayFromDType(i,O),C=new Array(c).fill(0),T=0;T<u;++T){var N=e[T*p],E=C[N],I=(0===N?0:m[N-1])+E;C[N]++;for(var A=0;A<p;++A)j[I*p+A]=e[T*p+A];S[I]=a[T],d[T]=I}for(var R=0;R<c;++R){if(0===C[R]){var D=0===R?0:m[R-1];j[D*p+0]=R;for(var M=1;M<p;++M)j[D*p+M]=0;S[D]=s}}return[j,[O,p],S,l,d]}var Qm={kernelName:r.SparseFillEmptyRows,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,i=t.values,o=t.denseShape,s=t.defaultValue;if(1!==o.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(o.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(r.shape));if(1!==i.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(i.shape));if(0!==s.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(s.shape));var u=n.data.get(r.dataId).values,c=n.data.get(i.dataId).values,l=n.data.get(o.dataId).values,d=n.data.get(s.dataId).values[0],p=Zm(u,r.shape,r.dtype,c,i.dtype,l,d),f=Object(a.a)(p,5),h=f[0],m=f[1],v=f[2],b=f[3],g=f[4];return[n.makeTensorInfo(m,r.dtype,h),n.makeTensorInfo([m[0]],i.dtype,v),n.makeTensorInfo([b.length],"bool",new Uint8Array(b.map((function(e){return Number(e)})))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}};function Jm(e,t,n,a,i){for(var o=r.util.sizeFromShape(a),s=t[0],u=i.length,c=[],l=1,d=-1,p=0;p<u;++p){var f=i[p];if(-1===f){if(-1!==d)throw new Error(r.backend_util.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(d,p));d=p,c.push(1)}else{if(f<0)throw new Error(r.backend_util.getSparseReshapeNegativeOutputDimErrorMessage(p,f));l*=f,c.push(f)}}if(-1!==d){if(l<=0)throw new Error(r.backend_util.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());var h=Math.trunc(o/l);if(l*h!==o)throw new Error(r.backend_util.getSparseReshapeInputOutputMultipleErrorMessage(a,c));c[d]=h}if(r.util.sizeFromShape(c)!==o)throw new Error(r.backend_util.getSparseReshapeInputOutputMismatchErrorMessage(a,c));var m=a.length,v=[];if(m>0){v[m-1]=1;for(var b=m-2;b>=0;--b)v[b]=v[b+1]*a[b+1]}var g=[];if(u>0){g[u-1]=1;for(var y=u-2;y>=0;--y)g[y]=g[y+1]*c[y+1]}for(var _=r.util.getArrayFromDType(n,s*u),x=0;x<s;++x){for(var k=0,w=0;w<m;++w)k+=e[x*m+w]*v[w];for(var O=0;O<u;++O)_[x*u+O]=Math.trunc(k/g[O]),k%=g[O]}return[_,[s,u],c]}var ev={kernelName:r.SparseReshape,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,i=t.inputShape,o=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==i.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(i.shape));if(1!==o.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));var s=Array.from(n.data.get(i.dataId).values),u=n.data.get(r.dataId).values,c=Array.from(n.data.get(o.dataId).values),l=Jm(u,r.shape,r.dtype,s,c),d=Object(a.a)(l,3),p=d[0],f=d[1],h=d[2];return[n.makeTensorInfo(f,r.dtype,p),n.makeTensorInfo([h.length],o.dtype,new Int32Array(h))]}};function tv(e,t,n,a,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=a.length,c=[t[0],e.length/t[0]],l=c[1],d=u>0?i[u-1]+1:0;if(d<0)throw new Error(r.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());var p=t.slice();p[0]=d;var f=p.reduce((function(e,t){return e*t}),1),h=r.util.getArrayFromDType(n,f);if(0===u)return d>0&&h.fill(s),[h,p];if(d<=0)throw new Error(r.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());for(var m=0,v=1,b=0,g=i[m];;){var y=0;if(v<u){if(g===(y=i[v])){++v;continue}if(g>=y)throw new Error(r.backend_util.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(g<0||g>=d)throw new Error(r.backend_util.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(g,d));g>b&&h.fill(s,b*l,g*l);for(var _=m;_<v;++_){var x=a[_];if(x<0||x>=c[0])throw new Error(r.backend_util.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(_,a[_],c[0]));for(var k=0;k<l;k++)h[g*l+k]+=e[x*l+k]}if(o)for(var w=0;w<l;w++)h[g*l+w]/=v-m;if(m=v,b=g+1,g=y,++v>u)break}return b<d&&h.fill(s,b*l,d*l),[h,p]}var nv={kernelName:r.SparseSegmentMean,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,o=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(i.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(o.shape));if(i.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");var s=n.data.get(r.dataId).values,u=n.data.get(i.dataId).values,c=n.data.get(o.dataId).values,l=tv(s,r.shape,r.dtype,u,c,!0),d=Object(a.a)(l,2),p=d[0],f=d[1];return n.makeTensorInfo(f,r.dtype,p)}};var rv={kernelName:r.SparseSegmentSum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,o=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(i.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(o.shape));if(i.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");var s=n.data.get(r.dataId).values,u=n.data.get(i.dataId).values,c=n.data.get(o.dataId).values,l=tv(s,r.shape,r.dtype,u,c),d=Object(a.a)(l,2),p=d[0],f=d[1];return n.makeTensorInfo(f,r.dtype,p)}};var av={kernelName:r.SparseToDense,backendName:"cpu",kernelFunc:function(e){var t,n=e.inputs,a=e.backend,i=e.attrs,o=n.sparseIndices,s=n.sparseValues,u=n.defaultValue,c=i.outputShape,l=r.backend_util.calculateShapes(s,o,c),d=l.sliceRank,p=l.numUpdates,f=l.sliceSize,h=l.strides,m=l.outputSize,v=a.bufferSync(o);switch(s.dtype){case"bool":t=Im(v,a.bufferSync(s),c,m,f,p,d,h,Boolean(a.data.get(u.dataId).values[0]),!1);break;case"float32":t=Im(v,a.bufferSync(s),c,m,f,p,d,h,a.data.get(u.dataId).values[0],!1);break;case"int32":t=Im(v,a.bufferSync(s),c,m,f,p,d,h,a.data.get(u.dataId).values[0],!1);break;case"string":t=Im(v,a.bufferSync(s),c,m,f,p,d,h,r.util.decodeString(a.data.get(u.dataId).values[0]),!1);break;default:throw new Error("Unsupported type ".concat(s.dtype))}return a.makeTensorInfo(c,t.dtype,t.values)}};var iv={kernelName:r.SplitV,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.numOrSizeSplits,s=a.axis,u=r.util.parseAxisParam(s,i.shape)[0],c=r.backend_util.prepareSplitSize(i,o,u),l=new Array(i.shape.length).fill(0),d=i.shape.slice();return c.map((function(e){var t=Object(Gn.a)(d);t[u]=e;var r=Vd({inputs:{x:i},backend:n,attrs:{begin:l,size:t}});return l[u]+=e,r}))}},ov=xl((function(e){return Math.sqrt(e)})),sv=kl(r.Sqrt,(function(e){return Math.sqrt(e)})),uv={kernelName:r.Sqrt,backendName:"cpu",kernelFunc:sv},cv={kernelName:r.Square,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n;gl(r,"square");for(var i=a.data.get(r.dataId).values,o=new Float32Array(i.length),s=0;s<i.length;++s){var u=i[s];o[s]=u*u}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},lv=El((function(e,t){var n=e-t;return n*n})),dv=Yl(r.SquaredDifference,lv),pv={kernelName:r.SquaredDifference,backendName:"cpu",kernelFunc:dv},fv=xl((function(e,t){var n=t.pattern,r=t.replaceGlobal,a=t.rewrite;return e.replace(new RegExp(n,r?"g":""),a)})),hv=wl(r.StaticRegexReplace,fv),mv={kernelName:r.StaticRegexReplace,backendName:"cpu",kernelFunc:hv},vv=kl(r.Step,(function(e,t){var n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),bv={kernelName:r.Step,backendName:"cpu",kernelFunc:vv};function gv(e,t,n,a){for(var i=Object(r.buffer)(e,t.dtype),o=0;o<i.size;o++){for(var s=i.indexToLoc(o),u=new Array(s.length),c=0;c<u.length;c++)u[c]=s[c]*n[c]+a[c];i.set.apply(i,[t.get.apply(t,u)].concat(Object(Gn.a)(s)))}return i}var yv={kernelName:r.StridedSlice,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.begin,s=a.end,u=a.strides,c=a.beginMask,l=a.endMask,d=a.ellipsisMask,p=a.newAxisMask,f=a.shrinkAxisMask;gl(i,"stridedSlice");var h,m=r.slice_util.sliceInfo(i.shape,o,s,u,c,l,d,p,f),v=m.finalShapeSparse,b=m.finalShape,g=m.isIdentity,y=m.sliceDim0,_=m.isSimpleSlice,x=m.begin,k=m.end,w=m.strides;if(g)h=nd({inputs:{x:i},backend:n,attrs:{shape:b}});else if(y||_){r.util.assert(i.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(i.shape.length)}));var O=r.slice_util.computeOutShape(x,k,w),j=Vd({inputs:{x:i},backend:n,attrs:{begin:x,size:O}});h=nd({inputs:{x:j},backend:n,attrs:{shape:b}}),n.disposeIntermediateTensorInfo(j)}else{var S=gv(v,n.bufferSync(i),w,x);h=n.makeTensorInfo(b,S.dtype,S.values)}return h}},_v=function(){function e(t,n,a,i,o,s){Object(Zr.a)(this,e),this.separator=r.util.encodeString(t),this.nGramWidths=n,this.leftPad=r.util.encodeString(a),this.rightPad=r.util.encodeString(i),this.padWidth=o,this.preserveShort=s}return Object(Qr.a)(e,[{key:"getPadWidth",value:function(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}},{key:"getNumNGrams",value:function(e,t){var n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}},{key:"createNGrams",value:function(e,t,n,r,a,i){for(var o=this,s=function(s){var u=o.getPadWidth(i),c=Math.max(0,u-s),l=Math.max(0,u-(a-(s+1))),d=i-(c+l),p=t+(c>0?0:s-u),f=0;f+=c*o.leftPad.length;for(var h=0;h<d;++h)f+=e[p+h].length;f+=l*o.rightPad.length,f+=(c+l+d-1)*o.separator.length,n[r+s]=new Uint8Array(f);for(var m=n[r+s],v=0,b=function(e){return e.forEach((function(e){return m[v++]=e}))},g=0;g<c;++g)b(o.leftPad),b(o.separator);for(var y=0;y<d-1;++y)b(e[p+y]),b(o.separator);if(d>0){b(e[p+d-1]);for(var _=0;_<l;++_)b(o.separator),b(o.rightPad)}else{for(var x=0;x<l-1;++x)b(o.rightPad),b(o.separator);b(o.rightPad)}},u=0;u<a;++u)s(u)}},{key:"compute",value:function(e,t){var n=this,a=e.length,i=t.length;if(i>0){var o=t[0];if(0!==o)throw new Error("First split value must be 0, got ".concat(o));for(var s=1;s<i;++s){var u=t[s]>=o;if(!(u=u&&t[s]<=a))throw new Error("Invalid split value ".concat(t[s],", must be in [").concat(o,", ").concat(a,"]"));o=t[s]}if(o!==a)throw new Error("Last split value must be data size. Expected ".concat(a,", got ").concat(o))}var c=i-1,l=r.util.getArrayFromDType("int32",i);if(0===a||0===i){for(var d=new Array(a),p=0;p<=c;++p)l[p]=0;return[d,l]}l[0]=0;for(var f=function(e){var r=t[e]-t[e-1],a=0;n.nGramWidths.forEach((function(e){a+=n.getNumNGrams(r,e)})),n.preserveShort&&r>0&&0===a&&(a=1),l[e]=l[e-1]+a},h=1;h<=c;++h)f(h);for(var m=new Array(l[c]),v=function(r){var a=t[r],i=l[r];if(n.nGramWidths.forEach((function(o){var s=t[r+1]-t[r],u=n.getNumNGrams(s,o);n.createNGrams(e,a,m,i,u,o),i+=u})),n.preserveShort&&i===l[r]){var o=t[r+1]-t[r];if(0===o)return"continue";var s=o+2*n.padWidth;n.createNGrams(e,a,m,i,1,s)}},b=0;b<c;++b)v(b);return[m,l]}}]),e}();function xv(e,t,n,r,a,i,o,s){return new _v(n,r,a,i,o,s).compute(e,t)}var kv={kernelName:r.StringNGrams,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=r.separator,o=r.nGramWidths,s=r.leftPad,u=r.rightPad,c=r.padWidth,l=r.preserveShortSequences,d=t.data,p=t.dataSplits,f=xv(n.data.get(d.dataId).values,n.data.get(p.dataId).values,i,o,s,u,c,l),h=Object(a.a)(f,2),m=h[0],v=h[1];return[n.makeTensorInfo([m.length],"string",m),n.makeTensorInfo(p.shape,"int32",v)]}};function wv(e,t,n,r){if(e.length)if(0!==t.length)if(1!==t.length){for(var a=0,i=0;i<e.length+1;i++)if(i===e.length||-1!==t.indexOf(e[i])){var o=e.subarray(a,i);n&&0===o.length||r.push(o),a=i+1}}else{for(var s=t[0],u=e.indexOf(s);-1!==u;){var c=e.subarray(0,u);n&&0===c.length||r.push(c),u=(e=e.subarray(u+1)).indexOf(s)}n&&0===e.length||r.push(e)}else for(var l=0;l<e.length;++l)r.push(e.subarray(l,l+1))}function Ov(e,t,n){for(var a=e.length,i=[],o=0,s=0,u=new Array(a),c=0;c<a;++c){var l=i.length;wv(e[c],t,n,i);var d=i.length-l;u[c]=d,o+=d,s=Math.max(s,d)}for(var p=r.util.getArrayFromDType("int32",2*o),f=new Array(o),h=[a,s],m=0,v=0;v<a;++v)for(var b=0;b<u[v];++b)p[2*m]=v,p[2*m+1]=b,f[m]=i[m],++m;return[p,f,h]}var jv={kernelName:r.StringSplit,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,i=t.input,o=t.delimiter;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error("Input must be a vector, got shape: ".concat(i.shape));if(0!==o.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(o.shape));var s=Ov(n.data.get(i.dataId).values,n.data.get(o.dataId).values[0],r),u=Object(a.a)(s,3),c=u[0],l=u[1],d=u[2],p=l.length;return[n.makeTensorInfo([p,2],"int32",c),n.makeTensorInfo([p],"string",l),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};function Sv(e,t){for(var n=r.util.getArrayFromDType("int32",e.length),a=0;a<e.length;++a)n[a]=r.util.fingerPrint64(e[a]).modulo(t).getLowBitsUnsigned();return n}var Cv={kernelName:r.StringToHashBucketFast,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var i=Sv(n.data.get(a.dataId).values,r);return n.makeTensorInfo(a.shape,"int32",i)}},Tv=kl(r.Tan,(function(e){return Math.tan(e)})),Nv={kernelName:r.Tan,backendName:"cpu",kernelFunc:Tv},Ev=kl(r.Tanh,(function(e){return Math.tanh(e)})),Iv={kernelName:r.Tanh,backendName:"cpu",kernelFunc:Ev};var Av={kernelName:r.TensorScatterUpdate,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=t.tensor,i=t.indices,o=t.updates,s=r.backend_util.calculateShapes(o,i,a.shape),u=s.sliceRank,c=s.numUpdates,l=s.sliceSize,d=s.strides,p=s.outputSize,f=n.bufferSync(i),h=n.bufferSync(o),m=n.bufferSync(a),v=Im(f,h,a.shape,p,l,c,u,d,m,!1);return n.makeTensorInfo(a.shape,v.dtype,v.values)}};function Rv(e,t){for(var n=new Array(e.rank),a=0;a<n.length;a++)n[a]=e.shape[a]*t[a];for(var i=Object(r.buffer)(n,e.dtype),o=0;o<i.values.length;++o){for(var s=i.indexToLoc(o),u=new Array(e.rank),c=0;c<u.length;c++)u[c]=s[c]%e.shape[c];var l=e.locToIndex(u);i.values[o]=e.values[l]}return i}var Dv={kernelName:r.Tile,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reps;gl(a,"tile");var o=Rv(n.bufferSync(a),i);return n.makeTensorInfo(o.shape,o.dtype,o.values)}},Mv=function(e,t){var n=t.value-e.value;return 0===n?e.index-t.index:n};function Fv(e,t,n,a,i){for(var o=t[t.length-1],s=e.length/o,u=o,c=r.util.getTypedArrayFromDType(n,s*a),l=r.util.getTypedArrayFromDType("int32",s*a),d=function(t){var n=t*u,o=e.subarray(n,n+u),s=new Array(o.length);o.forEach((function(e,t){return s[t]={value:e,index:t}})),a<s.length&&(!function e(t,n){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1;i>a;){if(i-a>600){var o=i-a+1,s=n-a+1,u=Math.log(o),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(o-c)/o)*Math.sign(s-o/2);e(t,n,Math.max(a,Math.floor(n-s*c/o+l)),Math.min(i,Math.floor(n+(o-s)*c/o+l)))}var d=t[n],p=a,f=i;for(r.util.swap(t,a,n),Mv(t[i],d)>0&&r.util.swap(t,a,i);p<f;){for(r.util.swap(t,p,f),p++,f--;Mv(t[p],d)<0;)p+=1;for(;Mv(t[f],d)>0;)f-=1}0===Mv(t[a],d)?r.util.swap(t,a,f):(f+=1,r.util.swap(t,f,i)),f<=n&&(a=f+1),n<=f&&(i=f-1)}}(s,a),s=s.slice(0,a)),i&&s.sort(Mv);for(var d=t*a,p=c.subarray(d,d+a),f=l.subarray(d,d+a),h=0;h<a;h++)p[h]=s[h].value,f[h]=s[h].index},p=0;p<s;p++)d(p);var f=t.slice();return f[f.length-1]=a,[Object(r.buffer)(f,n,c),Object(r.buffer)(f,"int32",l)]}var Lv={kernelName:r.TopK,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.k,s=r.sorted;gl(i,"topk");var u=Fv(n.data.get(i.dataId).values,i.shape,i.dtype,o,s),c=Object(a.a)(u,2),l=c[0],d=c[1];return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(d.shape,d.dtype,d.values)]}};var Pv={kernelName:r.Transform,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,i=e.backend,o=t.image,s=t.transforms,u=n.interpolation,c=n.fillMode,l=n.fillValue,d=n.outputShape,p=Object(a.a)(o.shape,4),f=p[0],h=p[1],m=p[2],v=p[3],b=null!=d?d:[h,m],g=Object(a.a)(b,2),y=g[0],_=g[1],x=[f,y,_,v],k=r.util.computeStrides(o.shape),w=k[0],O=k[1],j=k[2],S=r.util.computeStrides(x),C=S[0],T=S[1],N=S[2],E=r.util.getTypedArrayFromDType(o.dtype,r.util.sizeFromShape(x));E.fill(l);for(var I=i.data.get(o.dataId).values,A=i.data.get(s.dataId).values,R=0;R<f;++R){for(var D=1===s.shape[0]?A:A.subarray(8*R,8*R+8),M=0;M<y;++M)for(var F=0;F<_;++F)for(var L=0;L<v;++L){var P=void 0,z=D[6]*F+D[7]*M+1;if(0!==z){var B=(D[0]*F+D[1]*M+D[2])/z,V=(D[3]*F+D[4]*M+D[5])/z,U=zv(B,m,c),W=zv(V,h,c);switch(u){case"nearest":P=Vv(I,h,m,w,O,j,R,W,U,L,l);break;case"bilinear":P=Uv(I,h,m,w,O,j,R,W,U,L,l);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(u))}E[R*C+M*T+F*N+L]=P}}return i.makeTensorInfo(x,o.dtype,E)}return{dataId:i.write(E,x,o.dtype),shape:o.shape,dtype:o.dtype}}};function zv(e,t,n){switch(n){case"reflect":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var a=2*t;n<a&&(n=a*Math.trunc(-n/a)+n),n=n<-t?n+a:-n-1}else if(n>t-1)if(t<=1)n=0;else{var i=2*t;(n-=i*Math.trunc(n/i))>=t&&(n=i-n-1)}return r.util.clamp(0,n,t-1)}(e,t);case"wrap":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var a=t-1;n+=t*(Math.trunc(-n/a)+1)}else if(n>t-1)if(t<=1)n=0;else{var i=t-1;n-=t*Math.trunc(n/i)}return r.util.clamp(0,n,t-1)}(e,t);case"nearest":return function(e,t){return r.util.clamp(0,e,t-1)}(e,t);case"constant":default:return function(e,t){return e}(e)}}function Bv(e,t,n,r,a,i,o,s,u,c,l){return 0<=s&&s<t&&0<=u&&u<n?e[o*r+s*a+u*i+c]:l}function Vv(e,t,n,r,a,i,o,s,u,c,l){return Bv(e,t,n,r,a,i,o,Math.round(s),Math.round(u),c,l)}function Uv(e,t,n,r,a,i,o,s,u,c,l){var d=Math.floor(s),p=Math.floor(u),f=d+1,h=p+1;return(f-s)*((h-u)*Bv(e,t,n,r,a,i,o,d,p,c,l)+(u-p)*Bv(e,t,n,r,a,i,o,d,h,c,l))+(s-d)*((h-u)*Bv(e,t,n,r,a,i,o,f,p,c,l)+(u-p)*Bv(e,t,n,r,a,i,o,f,h,c,l))}function Wv(e,t,n,a){for(var i=r.util.parseAxisParam(t,n)[0],o=[1,n[0],1],s=0;s<i;s++)o[0]*=n[s];o[1]=n[i];for(var u=i+1;u<n.length;u++)o[2]*=n[u];for(var c=new Map,l=new Int32Array(n[i]),d=new r.TensorBuffer(o,a,e),p=[],f=1===o[0]&&1===o[2],h=0;h<n[i];h++){var m=void 0;if(f)m=e[h].toString();else{for(var v=[],b=0;b<o[0];b++)for(var g=0;g<o[2];g++)v.push(d.get(b,h,g));m=v.join(",")}var y=c.get(m);if(null!=y)l[h]=y;else{var _=c.size;c.set(m,_),l[h]=_,p.push(h)}}var x=o.slice();x[1]=c.size;var k=new r.TensorBuffer(x,a);p.forEach((function(e,t){for(var n=0;n<o[0];n++)for(var r=0;r<o[2];r++)k.set(d.get(n,e,r),n,t,r)}));var w=n.slice();return w[i]=x[1],{outputValues:k.values,outputShape:w,indices:l}}var Hv={kernelName:r.Unique,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,i=t.x;gl(i,"unique");var o=Wv(r.data.get(i.dataId).values,a,i.shape,i.dtype),s=o.outputValues,u=o.outputShape,c=o.indices;return[r.makeTensorInfo(u,i.dtype,s),r.makeTensorInfo([c.length],"int32",c)]}};var Gv={kernelName:r.Unpack,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,i=r.axis;i<0&&(i+=a.shape.length);for(var o=a.shape.length,s=a.shape[i],u=new Array(o-1),c=0,l=0;l<o;l++)l!==i&&(u[c++]=a.shape[l]);var d=new Array(o).fill(0),p=a.shape.slice();p[i]=1;for(var f=new Array(s),h=0;h<f.length;h++){d[i]=h;var m=Vd({inputs:{x:a},backend:n,attrs:{begin:d,size:p}});f[h]=nd({inputs:{x:m},backend:n,attrs:{shape:u}}),n.disposeIntermediateTensorInfo(m)}return f}};for(var $v={kernelName:r.UnsortedSegmentSum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.segmentIds,s=a.numSegments;gl(i,"unsortedSegmentSum");for(var u=[],c=[],l=i.shape.length-o.shape.length,d=o,p=0;p<l;++p){var f=Zp({inputs:{input:d},backend:n,attrs:{dim:p+1}});d=f,c.push(f)}for(var h=0;h<s;++h){var m=r.util.createScalarValue(h,"int32"),v=n.makeTensorInfo([],"int32",m),b=Pp({inputs:{a:v,b:d},backend:n}),g=Kl({inputs:{x:b},backend:n,attrs:{dtype:"float32"}}),y=Ip({inputs:{a:g,b:i},backend:n}),_=Rp({inputs:{x:y},backend:n,attrs:{axis:0,keepDims:!1}});u.push(_),c.push(v),c.push(b),c.push(g),c.push(y),c.push(_)}var x=Kh({inputs:u,backend:n,attrs:{axis:0}});return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),x}},qv=0,Kv=[od,ud,ld,pd,td,fd,bd,gd,yd,_d,kd,Od,Sd,Nd,Id,Md,Fd,Ld,Pd,id,zd,Wd,$d,qd,Xl,Yd,Qd,Wl,Jd,ap,op,sp,up,cp,lp,dp,fp,mp,vp,bp,gp,yp,_p,kp,wp,Op,jp,Sp,Cp,Tp,Mp,jl,Fp,zp,qp,Yp,Qp,tf,pf,hf,mf,gf,xf,kf,wf,jf,Cf,Ef,Rf,Cl,Df,np,Ff,Pf,Bf,Nl,Wf,$f,Kf,Zf,Jf,nh,ah,sh,uh,ch,ph,mh,vh,bh,gh,yh,_h,xh,kh,jh,Sh,Nh,Ah,Ap,Dh,Fh,Ph,Bh,Wh,Hh,qh,Xh,Yh,Jh,Rl,tm,om,cm,mm,bm,$l,af,ym,Ml,Ll,rd,_m,xm,km,wm,Om,jm,Cm,Em,Am,Mm,Fm,Bm,Bl,Um,Hm,$m,Ud,Ih,Xm,Ym,Qm,ev,nv,rv,av,iv,uv,cv,pv,mv,bv,yv,kv,jv,Cv,cf,Dp,Nv,Iv,Av,Dv,Lv,Pv,vd,Hv,Gv,$v,$h];qv<Kv.length;qv++){var Xv=Kv[qv];Object(r.registerKernel)(Xv)}var Yv,Zv,Qv,Jv={},eb={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function tb(e,t){if(!(e in Jv)||null!=t){var n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=null==t?function(e){if(Object(r.env)().getBool("IS_SAFARI")||"undefined"===typeof OffscreenCanvas||2!==e){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}return new OffscreenCanvas(300,150)}(e):t;n.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete Jv[e]}),!1),Object(r.env)().getBool("SOFTWARE_WEBGL_ENABLED")&&(eb.failIfMajorPerformanceCaveat=!1);if(1===e)return n.getContext("webgl",eb)||n.getContext("experimental-webgl",eb);return n.getContext("webgl2",eb)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;Jv[e]=n}var a=Jv[e];return null==a||a.isContextLost()?(delete Jv[e],tb(e)):(a.disable(a.DEPTH_TEST),a.disable(a.STENCIL_TEST),a.disable(a.BLEND),a.disable(a.DITHER),a.disable(a.POLYGON_OFFSET_FILL),a.disable(a.SAMPLE_COVERAGE),a.enable(a.SCISSOR_TEST),a.enable(a.CULL_FACE),a.cullFace(a.BACK),Jv[e])}function nb(e,t){return[t,e]}function rb(e){var t=r.util.sizeFromShape(e),n=Math.ceil(t/4);return r.util.sizeToSquarishShape(n)}function ab(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function ib(e,t){var n,a,i,o,s,u,c,l,d,p,f=e;return 2===Object(r.env)().getNumber("WEBGL_VERSION")?(n=f.R32F,a=f.R16F,i=f.RGBA16F,o=f.RGBA32F,s=f.RED,c=4,l=1,d=f.HALF_FLOAT,p=f.FLOAT,u=f.RGBA8):(n=e.RGBA,a=e.RGBA,i=e.RGBA,o=f.RGBA,s=e.RGBA,c=4,l=4,d=null!=t?t.HALF_FLOAT_OES:null,p=e.FLOAT,u=e.RGBA),{internalFormatFloat:n,internalFormatHalfFloat:a,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:o,textureFormatFloat:s,downloadTextureFormat:u,downloadUnpackNumChannels:c,defaultNumChannels:l,textureTypeHalfFloat:d,textureTypeFloat:p}}function ob(e,t){var n=t();return Object(r.env)().getBool("DEBUG")&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(Yv||(Yv={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(Zv||(Zv={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Qv||(Qv={}));var sb=5.96e-8,ub=65504;function cb(e){return!!(Object(r.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||sb<Math.abs(e)&&Math.abs(e)<ub)}function lb(e,t){return wb(e,(function(){return e.getExtension(t)}),'Extension "'+t+'" not supported on this browser.')}var db,pb,fb=/ERROR: [0-9]+:([0-9]+):/g;function hb(e,t){var n=fb.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);for(var a=+n[1],i=e.split("\n"),o=i.length.toString().length+2,s=i.map((function(e,t){return r.util.rightPad((t+1).toString(),o)+e})),u=0,c=0;c<s.length;c++)u=Math.max(s[c].length,u);var l=s.slice(0,a-1),d=s.slice(a-1,a),p=s.slice(a);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(r.util.rightPad(d[0],u)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(p.join("\n"))}function mb(e,t){if(ob(e,(function(){return e.validateProgram(t)})),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function vb(e,t,n,r,a,i,o){var s=e.getAttribLocation(t,n);return-1!==s&&(ob(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),ob(e,(function(){return e.vertexAttribPointer(s,a,e.FLOAT,!1,i,o)})),ob(e,(function(){return e.enableVertexAttribArray(s)})),!0)}function bb(e,t,n){return wb(e,(function(){return e.getUniformLocation(t,n)}),'uniform "'+n+'" not present in program.')}function gb(e,t,n){return e.getUniformLocation(t,n)}function yb(e,t,n,r){ob(e,(function(){return function(e,t,n){Ob(e,n),ob(e,(function(){return e.activeTexture(e.TEXTURE0+n)})),ob(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)}))}(e,t,r)})),ob(e,(function(){return e.uniform1i(n,r)}))}function _b(e,t,n){ob(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),ob(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}))}function xb(e,t){ob(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)})),ob(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function kb(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}(e,t))}function wb(e,t,n){var r=ob(e,(function(){return t()}));if(null==r)throw new Error(n);return r}function Ob(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){var a="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(a,"."))}}function jb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return r.util.sizeFromShape(e.slice(0,e.length-t))}function Sb(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function Cb(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[jb(e)].concat(Object(Gn.a)(Sb(e)))),t}function Tb(e){return e%2===0}function Nb(e,t){if(e=e.slice(-2),t=t.slice(-2),r.util.arraysEqual(e,t))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e[e.length-1],a=t[t.length-1];if(n===a)return!0;if(Tb(n)&&Tb(a)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&Tb(e[0])&&Tb(t[0])}function Eb(e,t){return null!=e.getExtension(t)}function Ib(e){try{if(null!=tb(e))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function Ab(e){if(0===e)return!1;var t=tb(e);if(1!==e){if(Eb(t,"EXT_color_buffer_float"))return Rb(t);if(Eb(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(e,t){var n=ib(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(a),i}(t,n)}return!1}return!!Eb(t,"OES_texture_float")&&(!!Eb(t,"WEBGL_color_buffer_float")&&Rb(t))}function Rb(e){var t=ib(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function Db(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&r.util.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."}))}))}var Mb=Object(r.env)();function Fb(){var e,t,n,a,i,o,s,u,c,l;return 2===Object(r.env)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",a="in",i="texture",o="outputColor",s="out vec4 outputColor;",u=Object(r.env)().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",c="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",a="varying",i="texture2D",o="gl_FragColor",s="",u="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",c="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:a,texture2D:i,output:o,defineOutput:s,defineSpecialNaN:u,defineSpecialInf:c,defineRound:l}}function Lb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",a=r.util.computeStrides(t);return a.map((function(t,r){var i="int ".concat(e[r]," = ").concat(n," / ").concat(t),o=r===a.length-1?"int ".concat(e[r+1]," = ").concat(n," - ").concat(e[r]," * ").concat(t):"index -= ".concat(e[r]," * ").concat(t);return"".concat(i,"; ").concat(o,";")})).join("")}function Pb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",a=r.util.computeStrides(t);return a.map((function(t,r){var i="int ".concat(e[r]," = ").concat(n," / outShapeStrides[").concat(r,"]"),o=r===a.length-1?"int ".concat(e[r+1]," = ").concat(n," - ").concat(e[r]," * outShapeStrides[").concat(r,"]"):"index -= ".concat(e[r]," * outShapeStrides[").concat(r,"]");return"".concat(i,"; ").concat(o,";")})).join("")}function zb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=function(e,t){var n=e.length,r=e.map((function(e){return"".concat(t,"[").concat(e,"]")})),a=new Array(n-1);a[n-2]=r[n-1];for(var i=n-3;i>=0;--i)a[i]="(".concat(a[i+1]," * ").concat(r[i+1],")");return a}(e.map((function(e,t){return t})),t);return r.map((function(t,a){var i="int ".concat(e[a]," = ").concat(n," / ").concat(r[a]),o=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * ").concat(r[a]):"index -= ".concat(e[a]," * ").concat(r[a]);return"".concat(i,"; ").concat(o,";")})).join("")}function Bb(e){var t=r.util.computeStrides(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}Mb.registerFlag("HAS_WEBGL",(function(){return Mb.getNumber("WEBGL_VERSION")>0})),Mb.registerFlag("WEBGL_VERSION",(function(){return Ib(2)?2:Ib(1)?1:0})),Mb.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(function(){return!1})),Mb.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===Mb.get("WEBGL_VERSION")})),Mb.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),Mb.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),Mb.registerFlag("WEBGL_PACK",(function(){return Mb.getBool("HAS_WEBGL")})),Mb.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return Mb.getBool("WEBGL_PACK")})),Mb.registerFlag("WEBGL_PACK_CLIP",(function(){return Mb.getBool("WEBGL_PACK")})),Mb.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return Mb.getBool("WEBGL_PACK")})),Mb.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return Mb.getBool("WEBGL_PACK")})),Mb.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return Mb.getBool("WEBGL_PACK")})),Mb.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return Mb.getBool("WEBGL_PACK")})),Mb.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return Mb.getBool("WEBGL_PACK")})),Mb.registerFlag("WEBGL_PACK_REDUCE",(function(){return Mb.getBool("WEBGL_PACK")})),Mb.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return Mb.getBool("WEBGL_PACK")})),Mb.registerFlag("WEBGL_CONV_IM2COL",(function(){return Mb.getBool("WEBGL_PACK")})),Mb.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return function(e){if(null==db){var t=tb(e);db=t.getParameter(t.MAX_TEXTURE_SIZE)}return db}(Mb.getNumber("WEBGL_VERSION"))})),Mb.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return function(e){if(null==pb){var t=tb(e);pb=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,pb)}(Mb.getNumber("WEBGL_VERSION"))})),Mb.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=Mb.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;var t=tb(e);return Eb(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:Eb(t,"EXT_disjoint_timer_query")?1:0}(e)})),Mb.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return Mb.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!r.device_util.isMobile()})),Mb.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return function(e){if(0===e)return!1;var t=tb(e);if(1===e){if(!Eb(t,"OES_texture_float"))return!1}else if(!Eb(t,"EXT_color_buffer_float"))return!1;return Rb(t)}(Mb.getNumber("WEBGL_VERSION"))})),Mb.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!Mb.getBool("WEBGL_FORCE_F16_TEXTURES")&&Mb.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),Mb.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return Ab(Mb.getNumber("WEBGL_VERSION"))})),Mb.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return 2===(e=Mb.getNumber("WEBGL_VERSION"))&&null!=tb(e).fenceSync;var e})),Mb.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return Mb.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),Mb.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(function(){return-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))})),Mb.registerFlag("WEBGL_FLUSH_THRESHOLD",(function(){return r.device_util.isMobile()?1:-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))})),Mb.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 128})),Mb.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(function(){return!1})),Mb.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 1e5})),Mb.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(function(){return 128})),Mb.registerFlag("WEBGL_EXP_CONV",(function(){return!1})),Mb.registerFlag("SOFTWARE_WEBGL_ENABLED",(function(){return Mb.getBool("IS_TEST")})),Mb.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",(function(){return 1/0})),Mb.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",(function(){return!1})),Mb.registerFlag("WEBGL2_ISNAN_CUSTOM",(function(){return!1})),Mb.registerFlag("ENGINE_COMPILE_ONLY",(function(){return!1}));var Vb="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",Ub=r.backend_util.getBroadcastDims;function Wb(e,t,n){var a=[];if(e.forEach((function(e){var t=r.util.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?a.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(a.push("uniform sampler2D ".concat(e.name,";")),a.push("uniform int offset".concat(e.name,";"))),n.enableShapeUniforms){switch(Jb(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape).uniformShape.length){case 1:a.push("uniform int ".concat(e.name,"Shape;"));break;case 2:a.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:a.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:a.push("uniform ivec4 ".concat(e.name,"Shape;"))}a.push("uniform ivec2 ".concat(e.name,"TexShape;"))}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:a.push("uniform int outShape;");break;case 2:a.push("uniform ivec2 outShape;"),a.push("uniform int outShapeStrides;");break;case 3:a.push("uniform ivec3 outShape;"),a.push("uniform ivec2 outShapeStrides;");break;case 4:a.push("uniform ivec4 outShape;"),a.push("uniform ivec3 outShapeStrides;")}a.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((function(e){a.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))}));var i,o,s=a.join("\n"),u=e.map((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,i="";i+=n?Gb(e,a):Hb(e,a);var o=e.shapeInfo.logicalShape,s=t.logicalShape;o.length<=s.length&&(i+=n?function(e,t){var n,a=e.name,i=a.charAt(0).toUpperCase()+a.slice(1),o="get"+i+"AtOutCoords",s=e.shapeInfo.logicalShape.length,u=t.logicalShape.length,c=Ub(e.shapeInfo.logicalShape,t.logicalShape),l=Qb(u),d=u-s,p=["x","y","z","w","u","v"];n=0===s?"":u<2&&c.length>=1?"coords = 0;":c.map((function(e){return"coords.".concat(p[e+d]," = 0;")})).join("\n");var f="";f=u<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(p[t+d])})).join(", ");var h="return outputValue;",m=1===r.util.sizeFromShape(e.shapeInfo.logicalShape),v=1===r.util.sizeFromShape(t.logicalShape);if(1!==s||m||v){if(m&&!v)h=1===u?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(c.length){var b=s-2,g=s-1;c.indexOf(b)>-1&&c.indexOf(g)>-1?h="return vec4(outputValue.x);":c.indexOf(b)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":c.indexOf(g)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(o,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(n,"\n      vec4 outputValue = get").concat(i,"(").concat(f,");\n      ").concat(h,"\n    }\n  ")}(e,t):function(e,t){var n=e.name,a=n.charAt(0).toUpperCase()+n.slice(1),i="get"+a+"AtOutCoords",o=t.texShape,s=e.shapeInfo.texShape,u=e.shapeInfo.logicalShape.length,c=t.logicalShape.length;if(!e.shapeInfo.isUniform&&u===c&&null==e.shapeInfo.flatOffset&&r.util.arraysEqual(s,o))return"\n      float ".concat(i,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");var l,d=Qb(c),p=Ub(e.shapeInfo.logicalShape,t.logicalShape),f=c-u,h=["x","y","z","w","u","v"];l=0===u?"":c<2&&p.length>=1?"coords = 0;":p.map((function(e){return"coords.".concat(h[e+f]," = 0;")})).join("\n");var m="";m=c<2&&u>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(h[t+f])})).join(", ");return"\n    float ".concat(i,"() {\n      ").concat(d," coords = getOutputCoords();\n      ").concat(l,"\n      return get").concat(a,"(").concat(m,");\n    }\n  ")}(e,t));return i}(e,t,n.packedInputs,n.enableShapeUniforms)})).join("\n"),c=t.texShape,l=Fb(),d=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(l),p=function(e){return"".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat($b,"\n    ").concat(qb,"\n    ").concat(Kb,"\n  ")}(l);return t.isPacked?(i=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(r[1],".0);\n      }\n    ");if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(r[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      return 2 * (resTexRC.x * ").concat(r[1]," + resTexRC.y);\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){var a=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(r.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(a[0],", ").concat(a[1],"));\n      }\n    ");var i=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(a[0],", ").concat(a[1],"));\n\n      int index = resTexRC.x * ").concat(a[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(i,");\n      int c = imod(index, ").concat(i,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[2]/2),i=a*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      int b = index / ").concat(i,";\n      index -= b * ").concat(i,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";for(var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),i=a*Math.ceil(e[e.length-2]/2),o=i,s="",u="b, r, c",c=2;c<e.length-1;c++)o*=e[e.length-c-1],s="\n      int b".concat(c," = index / ").concat(o,";\n      index -= b").concat(c," * ").concat(o,";\n    ")+s,u="b".concat(c,", ")+u;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      ").concat(s,"\n\n      int b = index / ").concat(i,";\n      index -= b * ").concat(i,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec").concat(e.length,"(").concat(u,");\n    }\n  ")}(e,t,n)}}(t.logicalShape,c,n.enableShapeUniforms),o=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(l)):(i=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    ");if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){if(r.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    ");if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n){var r=Pb(["r","c","d"],e);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(r,"\n    return ivec3(r, c, d);\n  }\n")}var a=Lb(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t,n);case 4:return function(e,t,n){if(n){var r=Pb(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(r,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}var a=Lb(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t,n);case 5:return function(e,t){var n=Lb(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){var n=Lb(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,c,n.enableShapeUniforms),o=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(l)),n.packedInputs&&(p+=Xb),[p,d,o,s,i,u,n.userCode].join("\n")}function Hb(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(r,"() {return ").concat(n,";}");var i=Object(a.a)(e.shapeInfo.texShape,2),o=i[0],s=i[1];if(1===o&&1===s)return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var u=Yb(n);if(t)return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(u,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");var c=Object(a.a)(e.shapeInfo.texShape,2),l=c[0],d=c[1];return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(l,", ").concat(d,", ").concat(u,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int index) {\n        ").concat(Zb(e),"\n      }\n    ");var a=e.shapeInfo.texShape,i=a[0],o=a[1];if(1===o&&1===i)return"\n      float ".concat(r,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=Yb(n);if(1===o)return t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / ").concat(i,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(1===i)return t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / ").concat(o,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(t)return"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");return"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(i,", ").concat(o,", index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,a=e.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=e.shapeInfo.texShape;if(null!=o&&r.util.arraysEqual(n,o)){if(t)return"\n      float ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n        return sampleTexture(").concat(a,", uv);\n      }\n    ");var s=o[0],u=o[1];return"\n    float ".concat(i,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(u,".0, ").concat(s,".0);\n      return sampleTexture(").concat(a,", uv);\n    }\n  ")}var c=r.util.squeezeShape(n),l=c.newShape,d=c.keptDims,p=l;if(p.length<n.length){var f=eg(e,p);return"\n      ".concat(Hb(f,t),"\n      float ").concat(i,"(int row, int col) {\n        return ").concat(i,"(").concat(tg(["row","col"],d),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(Zb(e),"\n      }\n    ");var h=o[0],m=o[1],v=Yb(a);if(1===m)return t?"\n      float ".concat(i,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(a,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(a,"TexShape[0]));\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(h,".0);\n      return sampleTexture(").concat(a,", uv);\n    }\n  ");if(1===h)return t?"\n      float ".concat(i,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(a,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(a,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(m,".0, 0.5);\n      return sampleTexture(").concat(a,", uv);\n    }\n  ");if(t)return"\n      float ".concat(i,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(a,"Shape[1] + col + ").concat(v,";\n        vec2 uv = uvFromFlat(").concat(a,"TexShape[0], ").concat(a,"TexShape[1], index);\n        return sampleTexture(").concat(a,", uv);\n      }\n    ");return"\n  float ".concat(i,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(v,";\n    vec2 uv = uvFromFlat(").concat(h,", ").concat(m,", index);\n    return sampleTexture(").concat(a,", uv);\n  }\n")}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,a=e.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=n[1]*n[2],s=n[2],u=r.util.squeezeShape(n),c=u.newShape,l=u.keptDims,d=c;if(d.length<n.length){var p=eg(e,d);return"\n        ".concat(Hb(p,t),"\n        float ").concat(i,"(int row, int col, int depth) {\n          return ").concat(i,"(").concat(tg(["row","col","depth"],l),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(o,", ").concat(s,", 1)));\n        ").concat(Zb(e),"\n      }\n    ");var f=e.shapeInfo.texShape,h=f[0],m=f[1],v=e.shapeInfo.flatOffset;if(m===o&&null==v)return t?"\n      float ".concat(i,"(int row, int col, int depth) {\n        int stride1 = ").concat(a,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n        float ".concat(i,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(s,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(m,".0, ").concat(h,".0);\n          return sampleTexture(").concat(a,", uv);\n        }\n      ");if(m===s&&null==v)return t?"\n      float ".concat(i,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(a,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(m,".0, ").concat(h,".0);\n      return sampleTexture(").concat(a,", uv);\n    }\n  ");var b=Yb(a);if(t)return"\n    float ".concat(i,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(a,"Shape[1] * ").concat(a,"Shape[2];\n      int stride1 = ").concat(a,"Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ").concat(b,";\n      vec2 uv = uvFromFlat(").concat(a,"TexShape[0], ").concat(a,"TexShape[1], index);\n      return sampleTexture(").concat(a,", uv);\n    }\n    ");return"\n      float ".concat(i,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(o," + col * ").concat(s," + depth + ").concat(b,";\n        vec2 uv = uvFromFlat(").concat(h,", ").concat(m,", index);\n        return sampleTexture(").concat(a,", uv);\n      }\n  ")}(e,t);case 4:return function(e,t){var n=e.shapeInfo.logicalShape,a=e.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=n[3],s=n[2]*o,u=n[1]*s,c=r.util.squeezeShape(n),l=c.newShape,d=c.keptDims;if(l.length<n.length){var p=eg(e,l);return"\n      ".concat(Hb(p,t),"\n      float ").concat(i,"(int row, int col, int depth, int depth2) {\n        return ").concat(i,"(").concat(tg(["row","col","depth","depth2"],d),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(u,", ").concat(s,", ").concat(o,", 1)));\n        ").concat(Zb(e),"\n      }\n    ");var f=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,m=h[0],v=h[1],b="int stride2 = ".concat(a,"Shape[3];"),g="int stride1 = ".concat(a,"Shape[2] * stride2;"),y="int stride0 = ".concat(a,"Shape[1] * stride1;");if(v===u&&null==f)return t?"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        ").concat(b,"\n        ").concat(g,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(s,", ").concat(o,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(a,", uv);\n      }\n    ");if(v===o&&null==f)return t?"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(a,"Shape[1] * ").concat(a,"Shape[2], ").concat(a,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(a,", uv);\n      }\n    ");var _=Yb(a);if(t)return"\n    float ".concat(i,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(b,"\n      ").concat(g,"\n      ").concat(y,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(a,"TexShape[0], ").concat(a,"TexShape[1], index + ").concat(_,");\n      return sampleTexture(").concat(a,", uv);\n    }\n  ");return"\n    float ".concat(i,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(u," + col * ").concat(s," +\n          depth * ").concat(o," + depth2;\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(v,", index + ").concat(_,");\n      return sampleTexture(").concat(a,", uv);\n    }\n  ")}(e,t);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[4],o=t[3]*i,s=t[2]*o,u=t[1]*s,c=r.util.squeezeShape(t),l=c.newShape,d=c.keptDims;if(l.length<t.length){var p=eg(e,l);return"\n      ".concat(Hb(p),"\n      float ").concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(a,"(").concat(tg(["row","col","depth","depth2","depth3"],d),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(u,", ").concat(s,", ").concat(o,", ").concat(i,")) +\n          depth3;\n        ").concat(Zb(e),"\n      }\n    ");var f=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,m=h[0],v=h[1];if(v===u&&null==f)return"\n      float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(s,", ").concat(o,", ").concat(i,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(v===i&&null==f)return"\n      float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(v,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var b=Yb(n);return"\n    float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(u," + col * ").concat(s," + depth * ").concat(o," +\n          depth2 * ").concat(i," + depth3 + ").concat(b,";\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(v,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),i=r.util.squeezeShape(t),o=i.newShape,s=i.keptDims;if(o.length<t.length){var u=eg(e,o);return"\n      ".concat(Hb(u),"\n      float ").concat(a,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(a,"(").concat(tg(["row","col","depth","depth2","depth3","depth4"],s),");\n      }\n    ")}var c=t[5],l=t[4]*c,d=t[3]*l,p=t[2]*d,f=t[1]*p;if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(f,", ").concat(p,", ").concat(d,", ").concat(l,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(c,", 1)));\n        ").concat(Zb(e),"\n      }\n    ");var h=e.shapeInfo.flatOffset,m=e.shapeInfo.texShape,v=m[0],b=m[1];if(b===f&&null==h)return"\n      float ".concat(a,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(p,", ").concat(d,", ").concat(l,", ").concat(c,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(b,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(b===c&&null==h)return"\n      float ".concat(a,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(b,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var g=Yb(n);return"\n    float ".concat(a,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(f," + col * ").concat(p," + depth * ").concat(d," +\n          depth2 * ").concat(l," + depth3 * ").concat(c," + depth4 + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(v,", ").concat(b,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function Gb(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=Fb();return"\n    vec4 ".concat(n,"() {\n      return ").concat(r.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,i=Fb();if(t)return"\n    vec4 ".concat(r,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ");var o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return"\n    vec4 ".concat(r,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(o[0],", ").concat(o[1],", index);\n      return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,a=e.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),o=e.shapeInfo.texShape,s=o[0],u=o[1],c=Fb();if(null!=o&&r.util.arraysEqual(n,o))return t?"\n      vec4 ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n\n        return ").concat(c.texture2D,"(").concat(a,", uv);\n      }\n    "):"\n      vec4 ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(u,".0, ").concat(s,".0);\n\n        return ").concat(c.texture2D,"(").concat(a,", uv);\n      }\n    ");if(t)return"\n    vec4 ".concat(i,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(a,"TexShape[0]) / 2.0), ceil(float(").concat(a,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(a,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(c.texture2D,"(").concat(a,", uv);\n    }\n  ");var l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],d=Math.ceil(n[1]/2);return"\n    vec4 ".concat(i,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(d,", ").concat(l[0],", ").concat(l[1],", row, col);\n      return ").concat(c.texture2D,"(").concat(a,", uv);\n    }\n  ")}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===n[0]){var s=n.slice(1),u=eg(e,s);return"\n        ".concat(Gb(u,t),"\n        vec4 ").concat(a,"(int b, int row, int col) {\n          return ").concat(a,"(").concat(tg(["b","row","col"],[1,2]),");\n        }\n      ")}var c=Fb();if(t)return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ");var l=o[0],d=o[1],p=Math.ceil(n[2]/2),f=p*Math.ceil(n[1]/2);return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(l,", ").concat(d,", ").concat(f,", ").concat(p,", b, row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);default:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=Fb();if(t)return"\n    vec4 ".concat(r,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ");for(var i=e.shapeInfo.logicalShape,o=i.length,s=e.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],c=u[0],l=u[1],d=Math.ceil(i[o-1]/2),p=d*Math.ceil(i[o-2]/2),f="int b, int row, int col",h="b * ".concat(p," + (row / 2) * ").concat(d," + (col / 2)"),m=2;m<o-1;m++)f="int b".concat(m,", ")+f,p*=i[o-m-1],h="b".concat(m," * ").concat(p," + ")+h;return"\n    vec4 ".concat(r,"(").concat(f,") {\n      int index = ").concat(h,";\n      int texR = index / ").concat(l,";\n      int texC = index - texR * ").concat(l,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(l,", ").concat(c,");\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t)}}var $b="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",qb="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Kb="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Xb="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Yb(e){return"offset".concat(e)}function Zb(e){var t=e.name,n=r.util.sizeFromShape(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function Qb(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function Jb(e,t,n){var a=r.util.squeezeShape(t),i=a.newShape,o=a.keptDims,s=t.length,u=e&&3===s&&1===t[0],c=u?t.slice(1):i,l=!e&&s>1&&!r.util.arraysEqual(t,n)&&i.length<s||u;return{useSqueezeShape:l,uniformShape:l?c:t,keptDims:o}}function eg(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function tg(e,t){return t.map((function(t){return e[t]})).join(", ")}function ng(e,t,n,a){var i=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),o=i.map((function(e){return e.shapeInfo})),s={logicalShape:a.shape,texShape:a.texData.texShape,isUniform:!1,isPacked:a.texData.isPacked,flatOffset:null},u=Wb(i,s,t),c=function(e,t){var n=wb(e,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(ob(e,(function(){return e.shaderSource(n,t)})),ob(e,(function(){return e.compileShader(n)})),Object(r.env)().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw hb(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,u),l=e.createProgram(c);return Object(r.env)().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:c,source:u,webGLProgram:l,inShapeInfos:o,outShapeInfo:s,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:t,fragmentShader:c,source:u,webGLProgram:l,inShapeInfos:o,outShapeInfo:s},rg(e,t,l))}function rg(e,t,n){var a,i,o,s,u=[],c=[],l=null;s=e.getUniformLocation(n,"NAN",!1),1===Object(r.env)().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(n,"INFINITY",!1));var d=!0,p=!1,f=void 0;try{for(var h,m=t.variableNames[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var v=h.value,b={name:v,uniform:e.getUniformLocation(n,v,!1),offset:e.getUniformLocation(n,"offset".concat(v),!1)};t.enableShapeUniforms&&(b.shape=e.getUniformLocation(n,"".concat(v,"Shape"),!1),b.texShape=e.getUniformLocation(n,"".concat(v,"TexShape"),!1)),u.push(b)}}catch(O){p=!0,f=O}finally{try{d||null==m.return||m.return()}finally{if(p)throw f}}if(t.enableShapeUniforms&&(a=e.getUniformLocation(n,"outShape",!1),o=e.getUniformLocation(n,"outShapeStrides",!1),i=e.getUniformLocation(n,"outTexShape",!1)),t.customUniforms){var g=!0,y=!1,_=void 0;try{for(var x,k=t.customUniforms[Symbol.iterator]();!(g=(x=k.next()).done);g=!0){var w=x.value;c.push(e.getUniformLocation(n,w.name,!1))}}catch(O){y=!0,_=O}finally{try{g||null==k.return||k.return()}finally{if(y)throw _}}}return{variablesLocations:u,customUniformLocations:c,infLoc:l,nanLoc:s,outShapeLocation:a,outShapeStridesLocation:o,outTexShapeLocation:i}}function ag(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach((function(e,n){var a=e.logicalShape,i=t[n],o=i.shape;if(!r.util.arraysEqual(a,o))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(a," and ").concat(o," must match"));if(!e.isUniform||!i.isUniform){var s=e.texShape,u=i.isUniform?null:i.texData.texShape;if(!r.util.arraysEqual(s,u))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(s," and ").concat(u," must match"))}}))}function ig(e,t,n,a,i){t.program.enableShapeUniforms||(ag(t.inShapeInfos,n),ag([t.outShapeInfo],[a]));var o=a.texData.texture,s=a.texData.texShape;a.texData.isPacked?e.setOutputPackedMatrixTexture(o.texture,s[0],s[1]):e.setOutputMatrixTexture(o.texture,s[0],s[1]),e.setProgram(t.webGLProgram),1===Object(r.env)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(var u=0;u<n.length;++u){var c=n[u],l=t.variablesLocations[u],d=l.uniform,p=l.offset,f=l.shape,h=l.texShape;if(f){var m=Jb(t.program.packedInputs,c.shape,c.texData.texShape).uniformShape;switch(m.length){case 1:e.gl.uniform1iv(f,new Int32Array(m));break;case 2:e.gl.uniform2iv(f,new Int32Array(m));break;case 3:e.gl.uniform3iv(f,new Int32Array(m));break;case 4:e.gl.uniform4iv(f,new Int32Array(m))}}if(h&&e.gl.uniform2i(h,c.texData.texShape[0],c.texData.texShape[1]),null!=d)if(c.isUniform)if(r.util.sizeFromShape(c.shape)<2)e.gl.uniform1f(d,c.uniformValues[0]);else{var v=c.uniformValues;v instanceof Float32Array||(v=new Float32Array(v)),e.gl.uniform1fv(d,v)}else null!=c.texData.slice&&null!=p&&e.gl.uniform1i(p,c.texData.slice.flatOffset),e.setInputMatrixTexture(c.texData.texture.texture,d,u)}var b=t.outShapeLocation;if(b)switch(a.shape.length){case 1:e.gl.uniform1iv(b,new Int32Array(a.shape));break;case 2:e.gl.uniform2iv(b,new Int32Array(a.shape));break;case 3:e.gl.uniform3iv(b,new Int32Array(a.shape));break;case 4:e.gl.uniform4iv(b,new Int32Array(a.shape))}if(t.outShapeStridesLocation){var g=r.util.computeStrides(a.shape);switch(a.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(g));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(g));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(g))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,a.texData.texShape[0],a.texData.texShape[1]),t.program.customUniforms&&i)for(var y=0;y<t.program.customUniforms.length;++y){var _=t.program.customUniforms[y],x=t.customUniformLocations[y],k=i[y];if("float"===_.type)e.gl.uniform1fv(x,k);else if("vec2"===_.type)e.gl.uniform2fv(x,k);else if("vec3"===_.type)e.gl.uniform3fv(x,k);else if("vec4"===_.type)e.gl.uniform4fv(x,k);else if("int"===_.type)e.gl.uniform1iv(x,k);else if("ivec2"===_.type)e.gl.uniform2iv(x,k);else if("ivec3"===_.type)e.gl.uniform3iv(x,k);else{if("ivec4"!==_.type)throw Error("uniform type ".concat(_.type," is not supported yet."));e.gl.uniform4iv(x,k)}}e.executeProgram()}function og(e,t,n){var a="";t.concat(n).forEach((function(t){var i=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){var o=t.texData.texShape,s=Jb(e.packedInputs,t.shape,o),u=s.useSqueezeShape,c=s.uniformShape,l=s.keptDims,d="",p="",f="";if(1===c.length&&e.packedInputs){var h=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];d="".concat(h[0]>1,"_").concat(h[1]>1)}else if(2!==c.length||e.packedInputs){if(c.length>2&&!e.packedInputs){var m=r.util.computeStrides(c);f="".concat(m[0]===o[1],"_").concat(m[m.length-1]===o[1])}}else p="".concat(c[0]>1,"_").concat(c[1]>1);var v=t.shape.length,b=2===c.length&&r.util.arraysEqual(t.shape,o),g=1===r.util.sizeFromShape(t.shape),y=r.backend_util.getBroadcastDims(t.shape,n.shape),_=!e.packedInputs&&v===n.shape.length&&r.util.arraysEqual(o,n.texData.texShape),x=e.packedInputs||c.length>2?"":"".concat(o[0]>1,"_").concat(o[1]>1);a+="".concat(v,"_").concat(_,"_").concat(u?l:"","_").concat(c.length,"_").concat(g,"_").concat(y,"_").concat(b,"_").concat(d,"_").concat(p,"_").concat(f,"_").concat(x,"_").concat(i)}else{var k=t.isUniform?"uniform":t.texData.texShape;a+="".concat(t.shape,"_").concat(k,"_").concat(i)}}));var i=e.userCode,o=e.constructor.name;return o+="_"+a+"_"+i+"".concat(Object(r.env)().getNumber("WEBGL_VERSION"))}function sg(e){return Object(r.env)().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}var ug=function e(t){Object(Zr.a)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Yv.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=Fb();this.outputShape=t,this.enableShapeUniforms=sg(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?Pb(["r","c","d"],t):Lb(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")},cg=function e(t){Object(Zr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Yv.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=Fb();this.outputShape=t,this.enableShapeUniforms=sg(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?Pb(["r","c","d"],t):Lb(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")},lg=function e(t){Object(Zr.a)(this,e),this.variableNames=["A"],this.outTexUsage=Zv.DOWNLOAD;var n=Fb();this.outputShape=t,this.userCode="\n      ".concat(Vb,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(n.output," = encode_float(x);\n      }\n    ")},dg=function e(t){Object(Zr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Zv.DOWNLOAD;var n=Fb();this.outputShape=t,this.userCode="\n      ".concat(Vb,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(n.output," = encode_float(x);\n      }\n    ")},pg={R:0,G:1,B:2,A:3},fg=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"RGBA";Object(Zr.a)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];var a=Fb();this.outputShape=t,this.enableShapeUniforms=sg(this.outputShape.length);var i="result";n&&(i="floor(result * 255. + 0.5)");for(var o="",s=0;s<r.length;s++){var u=r[s];o+="\n          if(offset == ".concat(s,") {\n            result = values[").concat(pg[u],"];\n          }")}this.userCode="\n      ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Bb(t),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ").concat(r.length,");\n\n        flatIndex = idiv(flatIndex, ").concat(r.length,", 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ").concat(a.texture2D,"(A, uv);\n          ").concat(o,"\n        }\n        ").concat(a.output," = vec4(").concat(i,", 0., 0., 0.);\n      }\n    ")},hg=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(Zr.a)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=Fb();this.outputShape=t,this.enableShapeUniforms=sg(this.outputShape.length);var a="",i="result";n&&(i="floor(result * 255. + 0.5)");for(var o=0;o<=1;o++)for(var s=0;s<=1;s++){var u=2*o+s;a+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(s," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(t[2]),") {\n          localCoords[2] += ").concat(s,";\n          if (localCoords[1] + ").concat(o," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(t[1]),") {\n            localCoords[1] += ").concat(o,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(r.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(u,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(u,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(u,"] = values[2];\n            } else {\n              result[").concat(u,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Bb(t),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(a,"\n\n          ").concat(r.output," = ").concat(i,";\n        }\n    ")};function mg(e){var t=Fb();return function(e,t){var n=wb(e,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(ob(e,(function(){return e.shaderSource(n,t)})),ob(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function vg(e){return function(e,t){var n=wb(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return ob(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),ob(e,(function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function bg(e){return function(e,t){var n=wb(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return ob(e,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)})),ob(e,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}(e,new Uint16Array([0,1,2,2,1,3]))}function gg(e,t,n,a,i,o){!function(e,t){var n=Object(r.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var a="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+a+" is invalid.")}if(e>n||t>n){var i="[".concat(e,"x").concat(t,"]"),o="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+i+" greater than WebGL maximum on this browser / GPU "+o+".")}}(t,n);var s=function(e){return wb(e,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}(e),u=e.TEXTURE_2D;return ob(e,(function(){return e.bindTexture(u,s)})),ob(e,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),ob(e,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),ob(e,(function(){return e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)})),ob(e,(function(){return e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)})),1===Object(r.env)().getNumber("WEBGL_VERSION")?ob(e,(function(){return e.texImage2D(u,0,a,t,n,0,i,o,null)})):ob(e,(function(){return e.texStorage2D(u,1,a,t,n)})),ob(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),{texture:s,texShape:[n,t]}}function yg(e){return e.internalFormatFloat}function _g(e){return e.internalFormatHalfFloat}function xg(e){return e.downloadTextureFormat}function kg(e){return e.internalFormatPackedFloat}function wg(e){return e.internalFormatPackedHalfFloat}function Og(e,t,n,r,i,o,s,u){var c=e,l=new Float32Array(function(e,t){var n=ab(e,t),r=Object(a.a)(n,2);return r[0]*r[1]*4}(o,s));return c.bindBuffer(c.PIXEL_PACK_BUFFER,t),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,l),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),l}var jg=function(){function e(t){Object(Zr.a)(this,e),this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];var n=Object(r.env)().getNumber("WEBGL_VERSION");if(null!=t?(this.gl=t,function(e,t){Jv[e]=t}(n,t)):this.gl=tb(n),t=this.gl,2===Object(r.env)().getNumber("WEBGL_VERSION")){var a=t;this.createVertexArray=function(){return ob(a,(function(){return a.createVertexArray()}))},this.bindVertexArray=function(e){return ob(a,(function(){return a.bindVertexArray(e)}))},this.deleteVertexArray=function(e){return ob(a,(function(){return a.deleteVertexArray(e)}))},this.getVertexArray=function(){return ob(a,(function(){return a.getParameter(a.VERTEX_ARRAY_BINDING)}))}}else if(null!=t){var i=t.getExtension("OES_vertex_array_object");if(null==i)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=function(){return ob(t,(function(){return i.createVertexArrayOES()}))},this.bindVertexArray=function(e){return ob(t,(function(){return i.bindVertexArrayOES(e)}))},this.deleteVertexArray=function(e){return ob(t,(function(){return i.deleteVertexArrayOES(e)}))},this.getVertexArray=function(){return ob(t,(function(){return t.getParameter(i.VERTEX_ARRAY_BINDING_OES)}))}}var o="WEBGL_color_buffer_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===Object(r.env)().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=lb(this.gl,"OES_texture_float"),Eb(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=lb(this.gl,"OES_texture_half_float");else if(Object(r.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(o),Eb(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=lb(this.gl,"EXT_color_buffer_half_float");else if(Object(r.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(o="EXT_color_buffer_float",Eb(this.gl,o))this.colorBufferFloatExtension=this.gl.getExtension(o);else{if(!Eb(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=vg(this.gl),this.indexBuffer=bg(this.gl),this.framebuffer=function(e){return wb(e,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=ib(this.gl,this.textureHalfFloatExtension)}return Object(Qr.a)(e,[{key:"dispose",value:function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;ob(t,(function(){return t.finish()})),ob(t,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),ob(t,(function(){return t.deleteFramebuffer(e.framebuffer)})),ob(t,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),ob(t,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),ob(t,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}}},{key:"createFloat32MatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var i=nb(t,n),o=Object(a.a)(i,2);return gg(e,o[0],o[1],yg(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}},{key:"createFloat16MatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var i=nb(t,n),o=Object(a.a)(i,2);return gg(e,o[0],o[1],_g(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}},{key:"createUnsignedBytesMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var i=nb(t,n),o=Object(a.a)(i,2);return gg(e,o[0],o[1],xg(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}},{key:"uploadPixelDataToTexture",value:function(e,t){this.throwIfDisposed(),function(e,t,n){ob(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),n.data instanceof Uint8Array?2===Object(r.env)().getNumber("WEBGL_VERSION")?ob(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)})):ob(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)})):2===Object(r.env)().getNumber("WEBGL_VERSION")?ob(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)})):ob(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)})),ob(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}(this.gl,e,t)}},{key:"uploadDenseMatrixToTexture",value:function(e,t,n,a){this.throwIfDisposed(),function(e,t,n,a,i,o){var s,u,c;ob(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),i instanceof Uint8Array?(s=new Uint8Array(n*a*4),u=e.UNSIGNED_BYTE,c=e.RGBA):(s=new Float32Array(n*a*4),u=e.FLOAT,c=o.internalFormatPackedFloat),s.set(i),2===Object(r.env)().getNumber("WEBGL_VERSION")?ob(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,a,e.RGBA,u,s)})):ob(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,c,n,a,0,e.RGBA,u,s)})),ob(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}(this.gl,e,t,n,a,this.textureConfig)}},{key:"createFloat16PackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var i=ab(t,n),o=Object(a.a)(i,2);return gg(e,o[0],o[1],wg(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}},{key:"createPackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var i=ab(t,n),o=Object(a.a)(i,2);return gg(e,o[0],o[1],kg(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}},{key:"deleteMatrixTexture",value:function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(xb(this.gl,this.framebuffer),this.outputTexture=null),ob(this.gl,(function(){return t.gl.deleteTexture(e)}))}},{key:"downloadByteEncodedFloatMatrixFromOutputTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return function(e,t,n,r){var i=nb(t,n),o=Object(a.a)(i,2),s=o[0],u=o[1],c=new Uint8Array(t*n*4);return ob(e,(function(){return e.readPixels(0,0,s,u,r.downloadTextureFormat,e.UNSIGNED_BYTE,c)})),new Float32Array(c.buffer)}(r.gl,t,n,r.textureConfig)}))}},{key:"downloadPackedMatrixFromBuffer",value:function(e,t,n,r,a,i){return Og(this.gl,e,0,0,0,a,i,this.textureConfig)}},{key:"downloadFloat32MatrixFromBuffer",value:function(e,t){return function(e,t,n){var r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}(this.gl,e,t)}},{key:"createBufferFromTexture",value:function(e,t,n){this.bindTextureToFrameBuffer(e);var r=function(e,t,n,r){var a=e.createBuffer();ob(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)}));var i=16*t*n;return ob(e,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ)})),ob(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)})),ob(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),a}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}},{key:"createAndWaitForFence",value:function(){var e=this.createFence(this.gl);return this.pollFence(e)}},{key:"createFence",value:function(e){var t,n,a=this;if(Object(r.env)().getBool("WEBGL_FENCE_API_ENABLED")){var i=e,o=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=i.clientWaitSync(o,0,0);return e===i.ALREADY_SIGNALED||e===i.CONDITION_SATISFIED},t=o}else Object(r.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return a.isQueryAvailable(t,Object(r.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}}},{key:"downloadMatrixFromPackedTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return function(e,t,n){var r=new Float32Array(t*n*4);return ob(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)})),r}(r.gl,t,n)}))}},{key:"createProgram",value:function(e){var t=this;this.throwIfDisposed();var n=this.gl;null==this.vertexShader&&(this.vertexShader=mg(n));var a,i=function(e){return wb(e,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}(n);return ob(n,(function(){return n.attachShader(i,t.vertexShader)})),ob(n,(function(){return n.attachShader(i,e)})),function(e,t){if(ob(e,(function(){return e.linkProgram(t)})),!Object(r.env)().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(n,i),a=Object.assign(i,{vao:this.createVertexArray()}),this.bindVertexArray(a.vao),ob(n,(function(){return n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.indexBuffer)})),console.assert(function(e,t,n){return ob(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),vb(e,t,"clipSpacePos",n,3,20,0)&&vb(e,t,"uv",n,2,20,12)}(n,a,this.vertexBuffer),"gpgpu_util.bindVertexProgramAttributeStreams not fully successful."),this.debug&&mb(n,a),this.setProgram(a),a}},{key:"deleteProgram",value:function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(ob(this.gl,(function(){return t.gl.deleteProgram(e)})),this.deleteVertexArray(e.vao))}},{key:"setProgram",value:function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&(this.bindVertexArray(this.program.vao),this.debug&&mb(this.gl,this.program)),ob(this.gl,(function(){return t.gl.useProgram(e)}))}},{key:"getUniformLocation",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?bb(this.gl,e,t):gb(this.gl,e,t)}},{key:"getAttributeLocation",value:function(e,t){var n=this;return this.throwIfDisposed(),ob(this.gl,(function(){return n.gl.getAttribLocation(e,t)}))}},{key:"getUniformLocationNoThrow",value:function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}},{key:"setInputMatrixTexture",value:function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),yb(this.gl,e,t,n)}},{key:"setOutputMatrixTexture",value:function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}},{key:"setOutputPackedMatrixTexture",value:function(e,t,n){this.throwIfDisposed();var r=ab(t,n),i=Object(a.a)(r,2),o=i[0],s=i[1];this.setOutputMatrixTextureDriver(e,o,s)}},{key:"setOutputMatrixWriteRegion",value:function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}},{key:"setOutputPackedMatrixWriteRegion",value:function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}},{key:"debugValidate",value:function(){null!=this.program&&mb(this.gl,this.program),kb(this.gl)}},{key:"executeProgram",value:function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;if(this.debug){var t=this.getVertexArray();console.assert(t===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}ob(e,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))}},{key:"blockUntilAllProgramsCompleted",value:function(){var e=this;this.throwIfDisposed(),ob(this.gl,(function(){return e.gl.finish()}))}},{key:"getQueryTimerExtension",value:function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=lb(this.gl,2===Object(r.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}},{key:"getQueryTimerExtensionWebGL2",value:function(){return this.getQueryTimerExtension()}},{key:"getQueryTimerExtensionWebGL1",value:function(){return this.getQueryTimerExtension()}},{key:"beginQuery",value:function(){if(2===Object(r.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var a=this.getQueryTimerExtensionWebGL1(),i=a.createQueryEXT();return a.beginQueryEXT(a.TIME_ELAPSED_EXT,i),i}},{key:"endQuery",value:function(){if(2!==Object(r.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}}},{key:"waitForQueryAndGetTime",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t){var n=this;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.util.repeatedTry((function(){return n.disposed||n.isQueryAvailable(t,Object(r.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}));case 2:return e.abrupt("return",this.getQueryTime(t,Object(r.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryTime",value:function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}},{key:"isQueryAvailable",value:function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}var i=this.getQueryTimerExtensionWebGL1(),o=i.getQueryObjectEXT(e,i.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),o&&!this.disjoint}},{key:"pollFence",value:function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))}},{key:"pollItems",value:function(){for(var e=function(e){for(var t=0;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t){(0,this.itemsToPoll[t].resolveFn)()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}},{key:"addItemToPoll",value:function(e,t){var n=this;if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),!(this.itemsToPoll.length>1)){var a=void 0;"setTimeoutCustom"in Object(r.env)().platform&&(a=Object(r.env)().platform.setTimeoutCustom.bind(Object(r.env)().platform)),r.util.repeatedTry((function(){return n.pollItems(),0===n.itemsToPoll.length}),(function(){return 0}),null,a)}}},{key:"bindTextureToFrameBuffer",value:function(e){this.throwIfDisposed(),_b(this.gl,e,this.framebuffer),this.debug&&kb(this.gl)}},{key:"unbindTextureToFrameBuffer",value:function(){null!=this.outputTexture?(_b(this.gl,this.outputTexture,this.framebuffer),this.debug&&kb(this.gl)):xb(this.gl,this.framebuffer)}},{key:"downloadMatrixDriver",value:function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n}},{key:"setOutputMatrixTextureDriver",value:function(e,t,n){this.throwIfDisposed();var r=this.gl;_b(r,e,this.framebuffer),this.debug&&kb(r),this.outputTexture=e,ob(r,(function(){return r.viewport(0,0,t,n)})),ob(r,(function(){return r.scissor(0,0,t,n)}))}},{key:"setOutputMatrixWriteRegionDriver",value:function(e,t,n,r){var a=this;this.throwIfDisposed(),ob(this.gl,(function(){return a.gl.scissor(e,t,n,r)}))}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}},{key:"throwIfNoProgram",value:function(){if(null==this.program)throw new Error("No GPU program is currently set.")}},{key:"debug",get:function(){return Object(r.env)().getBool("DEBUG")}}]),e}();var Sg=Ql,Cg=Hd,Tg=Gd,Ng=ql,Eg=Kd,Ig=ep,Ag=Lp,Rg=Kp,Dg=Jp,Mg=vf,Fg=Of,Lg=Sf,Pg=Tf,zg=If,Bg=Vf,Vg=Hf,Ug=qf,Wg=Xf,Hg=lh,Gg=fh,$g=wh,qg=Np,Kg=Rh,Xg=Vh,Yg=em,Zg=im,Qg=um,Jg=hm,ey=vm,ty=Tm,ny=Im,ry=Pl,ay=sd,iy=Bd,oy=Zm,sy=Jm,uy=tv,cy=ov,ly=fv,dy=gv,py=xv,fy=Ov,hy=Sv,my=of,vy=Rv,by=Fv,gy=hd,yy=Wv;function _y(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return"".concat(e,".").concat(t)}))}function xy(e,t){return 1===t?[e]:_y(e,t)}var ky=function(){function e(t){if(Object(Zr.a)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=sg(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=xy("rc",this.rank),r=Qb(this.rank),a=this.getOutOfBoundsCondition(n),i=this.getSetup(n),o=this.getOutput(n);this.userCode="\n        void main() {\n          ".concat(r," rc = getOutputCoords();\n\n          if(").concat(a,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(i,"\n\n            setOutput(vec4(").concat(o,"));\n          }\n        }\n      ")}}return Object(Qr.a)(e,[{key:"getSourceCoordsArr",value:function(e){for(var t=[],n=0;n<=1;n++)for(var r=0;r<=1;r++){for(var a="".concat(0===n?"r":"rp1",", ").concat(0===r?"c":"cp1"),i=2;i<this.rank;i++)a="".concat(e[e.length-1-i],",")+a;t.push(a)}return t}},{key:"getOutOfBoundsCondition",value:function(e){if(1===this.rank)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);for(var t="",n=this.rank-2;n<this.rank;n++)t+="".concat(e[n]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(n,"]"):this.outputShape[n]),n<this.rank-1&&(t+="||");return t}},{key:"getSetup",value:function(e){if(1===this.rank)return"";var t=e.slice(-2),n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(t[0],";\n      int c = ").concat(t[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(n,";\n      bool rEdge = rp1 >= ").concat(r,";\n    ")}},{key:"getOutput",value:function(e){var t=this.getSourceCoordsArr(e);if(1===this.rank){var n=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(n," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(t[0],"),\n            cEdge ? 0. : getA(").concat(t[1],"),\n            rEdge ? 0. : getA(").concat(t[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}]),e}(),wy=function e(t,n){Object(Zr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=sg(this.outputShape.length);for(var r="",a=0;a<4;a++){var i="thisRC = rc;";a%2===1&&(i+="thisRC.z += 1;"),a>1&&(i+="thisRC.y += 1;"),r+="\n        ".concat(i,"\n        ").concat(a>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(a,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(a>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e,t){var n=t?zb(["r","c","d"],"inputShape"):Lb(["r","c","d"],e);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(n,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Bb(t),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":t[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":t[2],";\n\n        ").concat(r,"\n\n        setOutput(result);\n      }\n    ")};var Oy=function(){function e(t){Object(Zr.a)(this,e),this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}return Object(Qr.a)(e,[{key:"acquireTexture",value:function(e,t,n){var r=Sy(t,n),a=Cy(e,r,n);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);var i,o=jy(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();var s=this.freeTextures[a].pop();return this.usedTextures[a].push(s),s}return r===Qv.PACKED_2X2_FLOAT32?i=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===Qv.PACKED_2X2_FLOAT16?i=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===Qv.UNPACKED_FLOAT32?i=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===Qv.UNPACKED_FLOAT16?i=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===Qv.PACKED_4X1_UNSIGNED_BYTE&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(i),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),i}},{key:"releaseTexture",value:function(e,t,n,a){if(null!=this.freeTextures){var i=Sy(n,a),o=Cy(t,i,a);o in this.freeTextures||(this.freeTextures[o]=[]);var s=jy(t,i,this.gpgpu.gl,this.gpgpu.textureConfig,a),u=Object(r.env)().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==u&&this._numBytesAllocated>u?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=s):(this.freeTextures[o].push(e),this.numFreeTextures++,this._numBytesFree+=s),this.numUsedTextures--;var c=this.usedTextures[o],l=c&&c.indexOf(e);if(null==l||l<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c[l]=c[c.length-1],c.pop(),this.log()}}},{key:"log",value:function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));var t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));for(var n in this.usedTextures)this.usedTextures[n].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}},{key:"numBytesAllocated",get:function(){return this._numBytesAllocated}},{key:"numBytesFree",get:function(){return this._numBytesFree}}]),e}();function jy(e,t,n,r,i){var o,s=function(e,t){switch(e){case Qv.PACKED_2X2_FLOAT32:return kg(t);case Qv.PACKED_2X2_FLOAT16:return wg(t);case Qv.UNPACKED_FLOAT32:return yg(t);case Qv.UNPACKED_FLOAT16:return _g(t);case Qv.PACKED_4X1_UNSIGNED_BYTE:return xg(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,r);if(i){var u=ab(e[0],e[1]),c=Object(a.a)(u,2);o=c[0]*c[1]}else{var l=nb(e[0],e[1]),d=Object(a.a)(l,2);o=d[0]*d[1]}return o*function(e,t){var n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(t))}(n,s)}function Sy(e,t){if(e===Zv.UPLOAD)return Qv.PACKED_2X2_FLOAT32;if(e===Zv.RENDER||null==e)return function(e){return Object(r.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?Qv.PACKED_2X2_FLOAT32:Qv.UNPACKED_FLOAT32:e?Qv.PACKED_2X2_FLOAT16:Qv.UNPACKED_FLOAT16}(t);if(e===Zv.DOWNLOAD||e===Zv.PIXELS)return Qv.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(e))}function Cy(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}var Ty=function e(t,n){Object(Zr.a)(this,e),this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=sg(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")},Ny="if (isnan(x)) return x;",Ey="return x;",Iy="return abs(x);";var Ay="return (x >= 0.0) ? x : (exp(x) - 1.0);",Ry=Ny+"\n  return (x < 0.0) ? 0.0 : x;\n",Dy=Ny+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",My="return x;",Fy="return 1.0 / (1.0 + exp(-1.0 * x));",Ly="return x;",Py="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",zy="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",By="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Vy="return 1.0 / (1.0 + exp(-1.0 * x));",Uy=function e(t,n){Object(Zr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=sg(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")},Wy=function e(t){Object(Zr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=sg(this.outputShape.length);var n=t.length,r=xy("rc",n),a=Qb(n),i=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,r),o=r.slice(-2),s=n<=1?"rc":"vec2(".concat(o.join(","),")");this.userCode="\n      void main() {\n        ".concat(a," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(i,");\n\n        setOutput(getChannel(packedInput, ").concat(s,"));\n      }\n    ")},Hy=r.kernel_impls.whereImpl,Gy={};var $y=Object(r.env)().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),qy=600;var Ky=function(e){function t(e){var n,a,i;if(Object(Zr.a)(this,t),(n=Object(Jr.a)(this,Object(ea.a)(t).call(this))).pendingRead=new WeakMap,n.pendingDisposal=new WeakSet,n.dataRefCount=new WeakMap,n.numBytesInGPU=0,n.uploadWaitMs=0,n.downloadWaitMs=0,n.lastGlFlushTime=0,n.warnedAboutMemory=!1,n.pendingDeletes=0,n.disposed=!1,!Object(r.env)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null!=e){if(e instanceof jg)a=e;else{var o=tb(Object(r.env)().getNumber("WEBGL_VERSION"),e);a=new jg(o)}n.binaryCache={},n.gpgpuCreatedLocally=!1}else{var s=tb(Object(r.env)().getNumber("WEBGL_VERSION"));a=new jg(s),n.binaryCache=(i=Object(r.env)().getNumber("WEBGL_VERSION"))in Gy?Gy[i]:(Gy[i]={},Gy[i]),n.gpgpuCreatedLocally=!0}return n.gpgpu=a,n.canvas=n.gpgpu.gl.canvas,n.textureManager=new Oy(n.gpgpu),n.numMBBeforeWarning=null==Object(r.env)().global.screen?1024:Object(r.env)().global.screen.height*Object(r.env)().global.screen.width*window.devicePixelRatio*qy/1024/1024,n.texData=new r.DataStorage(Object(ta.a)(n),Object(r.engine)()),n}return Object(na.a)(t,e),Object(Qr.a)(t,[{key:"nextDataId",value:function(){return t.nextDataId++}}]),Object(Qr.a)(t,[{key:"numDataIds",value:function(){return this.texData.numDataIds()-this.pendingDeletes}},{key:"writeTexture",value:function(e,t,n,r,a,i){var o=this.makeTensorInfo(t,n),s=this.texData.get(o.dataId);s.isPacked=!1,s.texture={texture:e,texShape:[r,a]},s.texShape=[r,a];var u=Cb(t),c=new fg(u,!1,i),l=this.runWebGLProgram(c,[o],n,[[r,a]]);return l.shape=t,s.texture=null,this.disposeIntermediateTensorInfo(o),l.dataId}},{key:"write",value:function(e,t,n){if((Object(r.env)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Object(r.env)().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var a={id:this.nextDataId()};return this.texData.set(a,{shape:t,dtype:n,values:e,usage:Zv.UPLOAD,refCount:1}),a}},{key:"refCount",value:function(e){return this.texData.has(e)?this.texData.get(e).refCount:0}},{key:"incRef",value:function(e){this.texData.get(e).refCount++}},{key:"decRef",value:function(e){this.texData.has(e)&&this.texData.get(e).refCount--}},{key:"move",value:function(e,t,n,a,i){if(Object(r.env)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===a)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:a,values:t,usage:Zv.UPLOAD,refCount:i})}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"readSync",value:function(e){var t=this.texData.get(e),n=t.values,a=t.dtype,i=t.complexTensorInfos,o=t.slice,s=t.shape,u=t.isPacked;if(null!=o){var c;c=u?new Uy(s,My):new Ty(s,My);var l=this.runWebGLProgram(c,[{dataId:e,shape:s,dtype:a}],a),d=this.readSync(l.dataId);return this.disposeIntermediateTensorInfo(l),d}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===a)return n;var p,f,h=null!=this.activeTimers;if(h&&(p=r.util.now()),"complex64"===a){var m=this.readSync(i.real.dataId),v=this.readSync(i.imag.dataId);f=r.backend_util.mergeRealAndImagArrays(m,v)}else f=this.getValuesFromTexture(e);return h&&(this.downloadWaitMs+=r.util.now()-p),this.convertAndCacheOnCPU(e,f)}},{key:"read",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t){var n,a,i,o,s,u,c,l,d,p,f,h,m,v,b,g,y,_,x,k,w,O,j;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pendingRead.has(t)){e.next=3;break}return n=this.pendingRead.get(t),e.abrupt("return",new Promise((function(e){return n.push(e)})));case 3:if(a=this.texData.get(t),i=a.values,o=a.shape,s=a.slice,u=a.dtype,c=a.complexTensorInfos,l=a.isPacked,null==s){e.next=11;break}return d=l?new Uy(o,My):new Ty(o,My),p=this.runWebGLProgram(d,[{dataId:t,shape:o,dtype:u}],u),f=this.read(p.dataId),this.disposeIntermediateTensorInfo(p),e.abrupt("return",f);case 11:if(null==i){e.next=13;break}return e.abrupt("return",this.convertAndCacheOnCPU(t));case 13:if(!Object(r.env)().getBool("DEBUG")){e.next=16;break}if(Object(r.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")||2!==Object(r.env)().getNumber("WEBGL_VERSION")){e.next=16;break}throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");case 16:if(h=null,"complex64"!==u&&Object(r.env)().get("WEBGL_BUFFER_SUPPORTED")&&(m=this.decode(t),b=this.texData.get(m.dataId),h=(v=this.gpgpu).createBufferFromTexture.apply(v,[b.texture.texture].concat(Object(Gn.a)(rb(o))))),this.pendingRead.set(t,[]),"complex64"===u){e.next=22;break}return e.next=22,this.gpgpu.createAndWaitForFence();case 22:if("complex64"!==u){e.next=31;break}return e.next=25,Promise.all([this.read(c.real.dataId),this.read(c.imag.dataId)]);case 25:y=e.sent,_=y[0],x=y[1],g=r.backend_util.mergeRealAndImagArrays(_,x),e.next=32;break;case 31:null==h?g=this.getValuesFromTexture(t):(k=r.util.sizeFromShape(o),g=this.gpgpu.downloadFloat32MatrixFromBuffer(h,k));case 32:return null!=m&&this.disposeIntermediateTensorInfo(m),null!=h&&ob(w=this.gpgpu.gl,(function(){return w.deleteBuffer(h)})),O=this.convertAndCacheOnCPU(t,g),j=this.pendingRead.get(t),this.pendingRead.delete(t),j.forEach((function(e){return e(O)})),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&Object(r.engine)().removeDataId(t,this),this.pendingDeletes--),e.abrupt("return",O);case 40:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readToGPU",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.texData.get(e),a=n.values,i=n.shape,o=n.slice,s=n.dtype,u=n.isPacked,c=n.texture;if("complex64"===s)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=o){var l;l=u?new Uy(i,My):new Ty(i,My);var d=this.runWebGLProgram(l,[{dataId:e,shape:i,dtype:s}],s),p=this.readToGPU(d,t);return this.disposeIntermediateTensorInfo(d),p}if(null==c)throw null!=a?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");var f=this.decode(e,t.customTexShape),h=Object(r.engine)().makeTensorFromTensorInfo(f),m=this.texData.get(f.dataId);return Object.assign({tensorRef:h},m.texture)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map((function(e){return r.util.decodeString(e)}));return Object(r.buffer)(e.shape,e.dtype,n)}catch(a){throw new Error("Failed to decode encoded string bytes into utf-8")}return Object(r.buffer)(e.shape,e.dtype,t)}},{key:"checkNumericalProblems",value:function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!cb(n)){if(Object(r.env)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}},{key:"getValuesFromTexture",value:function(e){var t=this.texData.get(e),n=t.shape,a=t.dtype,i=t.isPacked,o=r.util.sizeFromShape(n);if(Object(r.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s,u=this.decode(e),c=this.texData.get(u.dataId),l=(s=this.gpgpu).downloadMatrixFromPackedTexture.apply(s,[c.texture.texture].concat(Object(Gn.a)(rb(n)))).subarray(0,o);return this.disposeIntermediateTensorInfo(u),l}var d=Object(r.env)().getBool("WEBGL_PACK")&&!0===i,p=d?Cb(n):n,f=d?new dg(p):new lg(p),h=this.runWebGLProgram(f,[{shape:p,dtype:a,dataId:e}],"float32"),m=this.texData.get(h.dataId),v=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(m.texture.texture,m.texShape[0],m.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(h),v}},{key:"timerAvailable",value:function(){return Object(r.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}},{key:"time",value:function(e){var t=this,n=this.activeTimers,a=[],i=!1;null==this.programTimersStack?(this.programTimersStack=a,i=!0):this.activeTimers.push(a),this.activeTimers=a,e();var o=r.util.flatten(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),s=r.util.flatten(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e}));this.activeTimers=n,i&&(this.programTimersStack=null);var u={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return Object(Oo.a)(wo.a.mark((function e(){var n;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object(r.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=8;break}return e.next=3,Promise.all(o);case 3:n=e.sent,u.kernelMs=r.util.sum(n),u.getExtraProfileInfo=function(){return n.map((function(e,t){return{name:s[t],ms:e}})).map((function(e){return"".concat(e.name,": ").concat(e.ms)})).join(", ")},e.next=9;break;case 8:u.kernelMs={error:"WebGL query timers are not supported in this environment."};case 9:return t.uploadWaitMs=0,t.downloadWaitMs=0,e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})))()}},{key:"memory",value:function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}},{key:"startTimer",value:function(){return Object(r.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:r.util.now(),endMs:null}}},{key:"endTimer",value:function(e){return Object(r.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=r.util.now(),e)}},{key:"getQueryTime",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t){var n;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object(r.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=2;break}return e.abrupt("return",this.gpgpu.waitForQueryAndGetTime(t));case 2:return n=t,e.abrupt("return",n.endMs-n.startMs);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);var n=this.texData.get(e),r=n.complexTensorInfos;return null!=r&&(this.disposeData(r.real.dataId,t),this.disposeData(r.imag.dataId,t)),this.texData.delete(e),!0}},{key:"releaseGPUData",value:function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,a=t.texShape,i=t.usage,o=t.isPacked,s=t.slice,u=s&&s.origDataId||e,c=this.dataRefCount.get(u);c>1?this.dataRefCount.set(u,c-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,i,o)));var l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null}},{key:"getTexture",value:function(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}},{key:"getDataInfo",value:function(e){return this.texData.get(e)}},{key:"shouldExecuteOnCPU",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$y;return Object(r.env)().getBool("WEBGL_CPU_FORWARD")&&e.every((function(e){return null==t.texData.get(e.dataId).texture&&r.util.sizeFromShape(e.shape)<n}))}},{key:"getGPGPUContext",value:function(){return this.gpgpu}},{key:"where",value:function(e){r.backend_util.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return Hy(e.shape,t)}},{key:"packedUnaryOp",value:function(e,t,n){var a=new Uy(e.shape,t),i=this.compileAndRun(a,[e],n);return Object(r.engine)().makeTensorFromTensorInfo(i)}},{key:"abs",value:function(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){var t=ay(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(Object(r.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Iy,e.dtype);var n=new Ty(e.shape,Iy),a=this.compileAndRun(n,[e]);return Object(r.engine)().makeTensorFromTensorInfo(a)}},{key:"makeTensorInfo",value:function(e,t,n){var a;if("string"===t&&null!=n&&n.length>0&&r.util.isString(n[0])){var i=n.map((function(e){return r.util.encodeString(e)}));a=this.write(i,e,t)}else a=this.write(n,e,t);return this.texData.get(a).usage=null,{dataId:a,shape:e,dtype:t}}},{key:"makeOutput",value:function(e,t,n){return Object(r.engine)().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}},{key:"unpackTensor",value:function(e){var t=new Wy(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}},{key:"packTensor",value:function(e){var t=new ky(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}},{key:"packedReshape",value:function(e,t){var n=[jb(e.shape)].concat(Object(Gn.a)(Sb(e.shape))),r={dtype:e.dtype,shape:n,dataId:e.dataId},a=[jb(t)].concat(Object(Gn.a)(Sb(t))),i=new wy(a,n),o=[n],s=this.runWebGLProgram(i,[r],e.dtype,o,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}},{key:"decode",value:function(e,t){var n=this.texData.get(e),a=n.isPacked,i=n.shape,o=n.dtype;if(null!=t){var s=r.util.sizeFromShape(i),u=t[0]*t[1]*4;r.util.assert(s<=u,(function(){return"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."}))}var c,l=Cb(i);c=a?new cg(l):new ug(l);var d=[null!=t?t:rb(l)];return{dtype:o,shape:i,dataId:this.runWebGLProgram(c,[{shape:l,dtype:o,dataId:e}],o,d,!0,t).dataId}}},{key:"runWebGLProgram",value:function(e,t,n,a){var i=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5?arguments[5]:void 0,u=this.makeTensorInfo(e.outputShape,n),c=this.texData.get(u.dataId);if(e.packedOutput&&(c.isPacked=!0),e.outPackingScheme===Yv.DENSE){var l=null!=s?s:rb(e.outputShape);c.texShape=l.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(c.usage=e.outTexUsage),0===r.util.sizeFromShape(u.shape))return c.values=r.util.getTypedArrayFromDType(u.dtype,0),u;var d=[],p=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=i.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&r.util.sizeFromShape(t.shape)<=Object(r.env)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(i.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?i.unpackTensor(t):i.packTensor(t),d.push(t),n=i.texData.get(t.dataId);else if(n.isPacked&&!Nb(n.shape,t.shape)){var a=t,o=t.shape;t.shape=n.shape,t=i.packedReshape(t,o),d.push(t),n=i.texData.get(t.dataId),a.shape=o}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(u.dataId);var f,h={shape:u.shape,texData:c,isUniform:!1},m=og(e,p,h),v=this.getAndSaveBinary(m,(function(){return ng(i.gpgpu,e,p,h)})),b=null!=this.activeTimers;b&&(f=this.startTimer()),Object(r.env)().get("ENGINE_COMPILE_ONLY")||ig(this.gpgpu,v,p,h,a),d.forEach((function(e){return i.disposeIntermediateTensorInfo(e)})),b&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)}));var g=Object(r.env)().get("WEBGL_FLUSH_THRESHOLD");if(g>0){var y=r.util.now();y-this.lastGlFlushTime>g&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=y)}if(!Object(r.env)().getBool("WEBGL_LAZILY_UNPACK")&&c.isPacked&&!1===o){var _=this.unpackTensor(u);return this.disposeIntermediateTensorInfo(u),_}return u}},{key:"compileAndRun",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;var i=this.runWebGLProgram(e,t,n,r,a);return i}},{key:"getAndSaveBinary",value:function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"dispose",value:function(){var e=this;if(!this.disposed){if(!Object(r.env)().getBool("IS_TEST"))Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}));this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}},{key:"floatPrecision",value:function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Object(r.tidy)((function(){if(!Object(r.env)().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=Object(r.env)().getBool("DEBUG");Object(r.env)().set("DEBUG",!1);var n=e.abs(Object(r.scalar)(1e-8)).dataSync()[0];if(Object(r.env)().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"uploadToGPU",value:function(e){var t=this.texData.get(e),n=t.shape,i=t.dtype,o=t.values,s=t.texture,u=t.usage,c=t.isPacked;if(null==s){var l,d=null!=this.activeTimers;d&&(l=r.util.now());var p=t.texShape;if(null==p&&(p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(r.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE"),i=Object(r.env)().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(i===1/0&&Object(r.env)().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(i=n/2),t&&(n*=2,i*=2,1===(e=e.map((function(t,n){return n>=e.length-2?r.util.nearestLargerEven(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var o=r.util.squeezeShape(e);e=o.newShape}var s=r.util.sizeFromShape(e),u=null;e.length<=1&&s<=n?u=[1,s]:2===e.length&&e[0]<=n&&e[1]<=n?u=e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?u=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?u=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?u=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(u=[e[0],e[1]*e[2]*e[3]]);var c=null!=u&&Math.max.apply(Math,Object(Gn.a)(u))>i&&Math.min.apply(Math,Object(Gn.a)(u))<=(t?2:1)&&Math.min.apply(Math,Object(Gn.a)(u))>0;if(null==u||c)if(t){var l=jb(e),d=2,p=2;if(e.length){var f=Sb(e),h=Object(a.a)(f,2);d=h[0],p=h[1]}s=l*(d/2)*(p/2),u=r.util.sizeToSquarishShape(s).map((function(e){return 2*e}))}else u=r.util.sizeToSquarishShape(s);return u}(n,c),t.texShape=p),null!=o){var f,h=Cb(n),m=p[1],v=p[0],b=o instanceof Uint8Array||o instanceof Uint8ClampedArray;if(c||!b){var g=ab(p[0],p[1]),y=Object(a.a)(g,2);m=y[0],v=y[1]}f=c?new hg(h,b):new fg(h,b);var _=b?[v,m]:p,x=this.makeTensorInfo(_,i),k=this.texData.get(x.dataId);k.usage=b?Zv.PIXELS:Zv.UPLOAD,k.texShape=_,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(x.dataId),m,v,o);var w=[[v,m]],O=this.runWebGLProgram(f,[x],i,w,!0),j=this.texData.get(O.dataId);t.texShape=j.texShape,t.isPacked=j.isPacked,t.usage=j.usage,Object(r.env)().get("ENGINE_COMPILE_ONLY")?this.disposeData(O.dataId):(t.texture=j.texture,t.values=null,this.texData.delete(O.dataId)),this.disposeIntermediateTensorInfo(x),d&&(this.uploadWaitMs+=r.util.now()-l)}else{var S=this.acquireTexture(p,u,i,c);t.texture=S}}}},{key:"convertAndCacheOnCPU",value:function(e,t){var n=this.texData.get(e),r=n.dtype;return null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype ".concat(t))}(t,r)),n.values}},{key:"acquireTexture",value:function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(a," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)}},{key:"computeBytes",value:function(e,t){return e[0]*e[1]*r.util.bytesPerElement(t)}},{key:"checkCompileCompletion",value:function(){for(var e=0,t=Object.entries(this.binaryCache);e<t.length;e++){var n=t[e],r=Object(a.a)(n,2)[1];this.checkCompletion_(r)}}},{key:"checkCompileCompletionAsync",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(){var t,n,r,i,o,s,u,c,l,d=this;return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!this.gpgpu.parallelCompilationExtension){e.next=6;break}for(n=0,r=Object.entries(this.binaryCache);n<r.length;n++)i=r[n],o=Object(a.a)(i,2),s=o[1],t.push(this.checkCompletionAsync_(s));return e.abrupt("return",Promise.all(t));case 6:for(u=function(){var e=l[c],n=Object(a.a)(e,2)[1],r=new Promise((function(e){try{d.checkCompletion_(n),e(!0)}catch(t){throw t}}));t.push(r)},c=0,l=Object.entries(this.binaryCache);c<l.length;c++)u();return e.abrupt("return",Promise.all(t));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkCompletionAsync_",value:function(){var e=Object(Oo.a)(wo.a.mark((function e(t){return wo.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)){e.next=4;break}return e.abrupt("return",this.checkCompletion_(t));case 4:return e.next=6,Object(r.nextFrame)();case 6:return e.abrupt("return",this.checkCompletionAsync_(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkCompletion_",value:function(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw hb(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}},{key:"getUniformLocations",value:function(){for(var e=0,t=Object.values(this.binaryCache);e<t.length;e++){var n=t[e],r=rg(this.gpgpu,n.program,n.webGLProgram),a=r.variablesLocations,i=r.customUniformLocations,o=r.infLoc,s=r.nanLoc,u=r.outShapeLocation,c=r.outShapeStridesLocation,l=r.outTexShapeLocation;n.variablesLocations=a,n.customUniformLocations=i,n.infLoc=o,n.nanLoc=s,n.outShapeLocation=u,n.outShapeStridesLocation=c,n.outTexShapeLocation=l}}},{key:"createTensorFromGPUData",value:function(e,t,n){e.channels=e.channels||"RGBA";var a=e.texture,i=e.height,o=e.width,s=e.channels,u=Object(r.engine)().backend;if(!u.gpgpu.gl.isTexture(a))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");var c=u.writeTexture(a,t,n,i,o,s);return Object(r.engine)().makeTensorFromDataId(c,t,n,u)}}]),t}(r.KernelBackend);Ky.nextDataId=0;r.device_util.isBrowser()&&Object(r.registerBackend)("webgl",(function(){return new Ky}),2);var Xy=function e(t,n,a){Object(Zr.a)(this,e),this.variableNames=["A","B"],this.outputShape=r.backend_util.assertAndGetBroadcastShape(n,a),this.enableShapeUniforms=sg(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")},Yy="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n",Zy=function e(t,n,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(Zr.a)(this,e),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r.backend_util.assertAndGetBroadcastShape(n,a);var o=this.outputShape.length;this.enableShapeUniforms=sg(o);var s="";if(i)if(0===o||1===r.util.sizeFromShape(this.outputShape))s="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{var u=Qb(o);if(s="\n          ".concat(u," coords = getOutputCoords();\n        "),1===o)this.enableShapeUniforms?s+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":s+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{var c=xy("coords",o);this.enableShapeUniforms?s+="\n            bool nextRowOutOfBounds =\n              (".concat(c[o-2]," + 1) >= outShape[").concat(o," - 2];\n            bool nextColOutOfBounds =\n              (").concat(c[o-1]," + 1) >= outShape[").concat(o," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):s+="\n            bool nextRowOutOfBounds =\n              (".concat(c[o-2]," + 1) >= ").concat(this.outputShape[o-2],";\n            bool nextColOutOfBounds =\n              (").concat(c[o-1]," + 1) >= ").concat(this.outputShape[o-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(s,"\n\n        setOutput(result);\n      }\n    ")};function Qy(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var Jy={kernelName:r.Identity,backendName:"webgl",kernelFunc:Qy};function e_(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,i=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(i.dataId),s=Qy({inputs:{x:r},backend:n}),u=Qy({inputs:{x:a},backend:n});return o.complexTensorInfos={real:s,imag:u},i}var t_={kernelName:r.Complex,backendName:"webgl",kernelFunc:e_},n_="return (a < 0.) ? b * a : a;",r_="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var a_={kernelName:r.LeakyRelu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.alpha,s=n.makeTensorInfo([],"float32",r.util.createScalarValue(o,"float32")),u=Object(r.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Zy(r_,i.shape,s.shape):new Xy(n_,i.shape,s.shape),c=n.runWebGLProgram(u,[i,s],"float32");return n.disposeIntermediateTensorInfo(s),c}},i_="return (a < 0.) ? b * a : a;",o_="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var s_={kernelName:r.Prelu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=t.x,i=t.alpha,o=Object(r.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Zy(o_,a.shape,i.shape):new Xy(i_,a.shape,i.shape);return n.runWebGLProgram(o,[a,i],"float32")}};function u_(e){var t=e.opSnippet,n=e.packedOpSnippet,a=e.cpuKernelImpl,i=e.dtype;return function(e){var o,s=e.inputs,u=e.backend,c=s.x,l=u,d=i||c.dtype;if(l.shouldExecuteOnCPU([c])&&null!=a){var p=l.texData.get(c.dataId),f=a(p.values,d);return l.makeTensorInfo(c.shape,d,f)}return o=Object(r.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new Uy(c.shape,n):new Ty(c.shape,t),l.runWebGLProgram(o,[c],d)}}function c_(e){var t=e.opSnippet,n=e.packedOpSnippet,i=e.checkOutOfBounds,o=void 0!==i&&i,s=e.supportsComplex,u=void 0!==s&&s,c=e.cpuKernelImpl,l=e.dtype;return function(e){var i=e.inputs,s=e.backend,d=i.a,p=i.b,f=s;if(u&&"complex64"===d.dtype){var h=f.texData.get(d.dataId),m=f.texData.get(p.dataId),v=[[h.complexTensorInfos.real,m.complexTensorInfos.real],[h.complexTensorInfos.imag,m.complexTensorInfos.imag]].map((function(e){var n=Object(a.a)(e,2),i=n[0],o=n[1],s={dataId:i.dataId,dtype:i.dtype,shape:d.shape},u={dataId:o.dataId,dtype:o.dtype,shape:p.shape},c=new Xy(t,d.shape,p.shape);return f.runWebGLProgram(c,[s,u],Object(r.upcastType)(i.dtype,o.dtype))})),b=Object(a.a)(v,2),g=b[0],y=b[1],_=e_({inputs:{real:g,imag:y},backend:f});return f.disposeIntermediateTensorInfo(g),f.disposeIntermediateTensorInfo(y),_}var x,k=l||Object(r.upcastType)(d.dtype,p.dtype);if(("string"===d.dtype||"string"===p.dtype||f.shouldExecuteOnCPU([d,p]))&&null!=c){var w=f.texData.get(d.dataId).values,O=f.texData.get(p.dataId).values,j="string"===d.dtype?r.backend_util.fromUint8ToStringArray(w):w,S="string"===d.dtype?r.backend_util.fromUint8ToStringArray(O):O,C=c(d.shape,p.shape,j,S,k),T=Object(a.a)(C,2),N=T[0],E=T[1],I=f.makeTensorInfo(E,k);return f.texData.get(I.dataId).values=N,I}return x=Object(r.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new Zy(n,d.shape,p.shape,o):new Xy(t,d.shape,p.shape),f.runWebGLProgram(x,[d,p],k)}}function l_(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?Ly:Ey;if("relu"===e)return t?zy:Ry;if("elu"===e)return t?Py:Ay;if("relu6"===e)return t?By:Dy;if("prelu"===e)return t?o_:i_;if("leakyrelu"===e)return t?r_:n_;if("sigmoid"===e)return t?Vy:Fy;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}var d_=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];Object(Zr.a)(this,e),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=sg(this.outputShape.length);var l=a?t[1]:t[2],d=Math.ceil(l/2),p=a?"i * 2, rc.y":"rc.y, i * 2",f=i?"rc.z, i * 2":"i * 2, rc.z",h=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],v="",b="";s&&(v=u?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(s,"\n        }"):c?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(s,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(s,"\n        }"),b="result = activation(result);");var g=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),u&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");var y="rc.x",_="rc.x";t[0]<n[0]?y="imod(rc.x, ".concat(t[0],")"):n[0]<t[0]&&(_="imod(rc.x, ".concat(n[0],")")),this.userCode="\n      ".concat(v,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(d,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ").concat(y,";\n        int batchB = ").concat(_,";\n        for (int i = 0; i < ").concat(d,"; i++) {\n          vec4 a = getMatrixA(batchA, ").concat(p,");\n          vec4 b = getMatrixB(batchB, ").concat(f,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(h[0]," * ").concat(m[0],");\n          result += (").concat(h[1]," * ").concat(m[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(g,"\n\n        ").concat(b,"\n\n        setOutput(result);\n      }\n    ")},p_={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"},f_=function e(t,n,a){Object(Zr.a)(this,e),this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=r.backend_util.assertAndGetBroadcastShape(n,a),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")},h_="return a * b;";function m_(e){var t,n=e.inputs,i=e.backend,o=n.a,s=n.b,u=r.backend_util.upcastType(o.dtype,s.dtype);if("complex64"===o.dtype){var c=i.texData.get(o.dataId),l=i.texData.get(s.dataId),d=new f_(p_.REAL,o.shape,s.shape),p=new f_(p_.IMAG,o.shape,s.shape),f=[{dataId:c.complexTensorInfos.real.dataId,dtype:c.complexTensorInfos.real.dtype,shape:o.shape},{dataId:c.complexTensorInfos.imag.dataId,dtype:c.complexTensorInfos.imag.dtype,shape:o.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:s.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:s.shape}],h=i.runWebGLProgram(d,f,"float32"),m=i.runWebGLProgram(p,f,"float32"),v=e_({inputs:{real:h,imag:m},backend:i});return i.disposeIntermediateTensorInfo(h),i.disposeIntermediateTensorInfo(m),v}if(i.shouldExecuteOnCPU([o,s])){var b=i.texData.get(o.dataId),g=i.texData.get(s.dataId),y=qg(o.shape,s.shape,b.values,g.values,u),_=Object(a.a)(y,2),x=_[0],k=_[1],w=i.makeTensorInfo(k,u);return i.texData.get(w.dataId).values=x,w}return t=Object(r.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Zy(h_,o.shape,s.shape):new Xy(h_,o.shape,s.shape),i.runWebGLProgram(t,[o,s],u)}var v_={kernelName:r.Multiply,backendName:"webgl",kernelFunc:m_};function b_(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.shape,s=n,u=r.util.sizeFromShape(i.shape),c=r.util.inferFromImplicitShape(o,u),l=r.util.sizeFromShape(c);r.util.assert(u===l,(function(){return"The new shape (".concat(c,") has ").concat(l," elements and the old ")+"shape (".concat(i.shape,") has ").concat(u," elements. The new shape and old ")+"shape must have the same number of elements."}));var d=s.texData.get(i.dataId);return!d.isPacked||Nb(i.shape,c)||null!==d.texture&&Nb(d.shape,c)?(s.incRef(i.dataId),{dataId:i.dataId,shape:c,dtype:i.dtype}):function(e,t,n){var r=[jb(e.shape)].concat(Object(Gn.a)(Sb(e.shape))),a={dtype:e.dtype,shape:r,dataId:e.dataId},i=[jb(t)].concat(Object(Gn.a)(Sb(t))),o=new wy(i,r),s=[r],u=n.runWebGLProgram(o,[a],e.dtype,s,!0);return{dataId:u.dataId,shape:t,dtype:u.dtype}}(i,c,s)}var g_={kernelName:r.Reshape,backendName:"webgl",kernelFunc:b_},y_=function e(t,n){Object(Zr.a)(this,e),this.variableNames=["x"];var a=t.windowSize,i=t.batchSize,o=t.inSize,s=t.outSize;this.outputShape=[i,s];var u=4*Math.floor(a/4),c=a%4,l="sumValue += dot(values, ones);";if(null!=n){var d=1/n;l="sumValue += dot(values * ".concat(r.util.isInt(d)?d.toPrecision(2):d,", ones);")}var p="";o%a>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(p,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(a,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(l,"\n        }\n        setOutput(sumValue);\n      }\n    ")},__=function e(t,n){Object(Zr.a)(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.outSize;this.outputShape=[a,o];var s="0.0",u="";"prod"===n?s="1.0":"min"===n?(s="1.0 / 1e-20",u="min"):"max"===n&&(s="-1.0 / 1e-20",u="max");var c="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===n?c="sumValue":"prod"===n?c="prodValue":"all"===n?c="allValue":"any"===n&&(c="anyValue");var l=4*Math.floor(r/4),d=r%4,p="\n      if (".concat("sum"===n,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===n,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(u,"(values, minMaxValue);\n        if (").concat("min"===n," || ").concat("max"===n,") {\n          minMaxValue = ").concat(u,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),f="vec4";"all"===n?(s="1.0",p="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",f="bvec4"):"any"===n&&(s="0.0",p="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",f="bvec4");var h="";i%r>0&&(h="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(s,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(h,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        vec4 minMaxValue = vec4(").concat(s,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(l,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(p,"\n        }\n\n        int inIdx = inOffset + ").concat(l,";\n        if (").concat(1===d,") {\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(p,"\n        } else if (").concat(2===d,") {\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(p,"\n        } else if (").concat(3===d,") {\n          ").concat(f," values = ").concat(f,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(p,"\n        }\n        setOutput(").concat(c,");\n      }\n    ")};function x_(e,t,n,a){for(var i=function(e){for(var t=[];0===t.length||1!==t[t.length-1].outSize;){var n=t.length?t[t.length-1].outSize:e[1],a=r.backend_util.computeOptimalWindowSize(n);t.push({inSize:n,windowSize:a,outSize:Math.ceil(n/a)})}return t}(e.shape),o=e,s=0;s<i.length;s++){var u,c=i[s],l=c.inSize,d=c.windowSize,p=c.outSize,f=void 0;f="mean"===n?0===s?new y_({windowSize:d,inSize:l,batchSize:e.shape[0],outSize:p},l):new y_({windowSize:d,inSize:l,batchSize:e.shape[0],outSize:p}):new __({windowSize:d,inSize:l,batchSize:e.shape[0],outSize:p},n),u=o,o=a.runWebGLProgram(f,[o],t),u.dataId!==e.dataId&&a.disposeIntermediateTensorInfo(u)}return o}var k_=function e(t,n){Object(Zr.a)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];this.outputShape=r,this.rank=r.length;var i=Qb(this.rank),o=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}(n);this.userCode="\n    void main() {\n      ".concat(i," resRC = getOutputCoords();\n      setOutput(getA(").concat(o,"));\n    }\n    ")};var w_=function e(t,n){Object(Zr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));for(var i=Qb(this.rank),o=_y("rc",this.rank),s=new Array(this.rank),u=0;u<n.length;u++)s[n[u]]=o[u];var c="vec2(".concat(s.slice(-2).join(),")"),l="++".concat(o[this.rank-1]," < ").concat(r[this.rank-1]),d="getChannel(getA(".concat(s.join(),"), ").concat(c,")");this.userCode="\n    void main() {\n      ".concat(i," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(d,";\n      if(").concat(l,") {\n        result[1] = ").concat(d,";\n      }\n      --").concat(o[this.rank-1],";\n      if(++").concat(o[this.rank-2]," < ").concat(r[this.rank-2],") {\n        result[2] = ").concat(d,";\n        if(").concat(l,") {\n          result[3] = ").concat(d,";\n        }\n      }\n      setOutput(result);\n    }\n    ")};function O_(e,t,n){var a=Object(r.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new w_(e.shape,t):new k_(e.shape,t);return n.runWebGLProgram(a,[e],e.dtype)}function j_(e){var t=e.inputs,n=e.backend,i=e.attrs;return function(e,t,n,i){var o=t,s=e.shape.length,u=r.util.parseAxisParam(o,e.shape),c=u,l=r.backend_util.getAxesPermutation(c,s),d=null!=l,p=e;d&&(p=O_(e,l,i),c=r.backend_util.getInnerMostAxes(c.length,s)),r.backend_util.assertAxesAreInnerMostDims("sum",c,s);var f=r.backend_util.computeOutAndReduceShapes(p.shape,c),h=Object(a.a)(f,2),m=h[0],v=h[1],b=m;n&&(b=r.backend_util.expandShapeToKeepDim(m,u));var g=r.util.sizeFromShape(v),y=b_({inputs:{x:p},attrs:{shape:[r.util.sizeFromShape(e.shape)/g,g]},backend:i}),_=x_(y,Object(r.sumOutType)(e.dtype),"sum",i),x=b_({inputs:{x:_},attrs:{shape:b},backend:i});return i.disposeIntermediateTensorInfo(y),i.disposeIntermediateTensorInfo(_),d&&i.disposeIntermediateTensorInfo(p),x}(t.x,i.axis,i.keepDims,n)}var S_={kernelName:r.Sum,backendName:"webgl",kernelFunc:j_};function C_(e){for(var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.perm,s=r,u=i.shape.length,c=new Array(u),l=0;l<c.length;l++)c[l]=i.shape[o[l]];if(s.shouldExecuteOnCPU([i])){var d=s.texData.get(i.dataId).values,p=gy(d,i.shape,i.dtype,o,c);t=s.makeTensorInfo(c,i.dtype),s.texData.get(t.dataId).values=p}else t=O_(i,o,s);return t}var T_={kernelName:r.Transpose,backendName:"webgl",kernelFunc:C_},N_=1e3;function E_(e){var t=e.a,n=e.b,a=e.transposeA,i=e.transposeB,o=e.backend,s=e.bias,u=void 0===s?null:s,c=e.preluActivationWeights,l=void 0===c?null:c,d=e.leakyreluAlpha,p=void 0===d?0:d,f=e.activation,h=void 0===f?null:f,m=t.shape.length,v=n.shape.length,b=a?t.shape[m-2]:t.shape[m-1],g=i?n.shape[v-1]:n.shape[v-2],y=a?t.shape[m-1]:t.shape[m-2],_=i?n.shape[v-2]:n.shape[v-1],x=t.shape.slice(0,-2),k=n.shape.slice(0,-2),w=r.util.sizeFromShape(x),O=r.util.sizeFromShape(k),j=r.broadcast_util.assertAndGetBroadcastShape(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([y,_]);r.util.assert(b===g,(function(){return"Error in matMul: inner shapes (".concat(b,") and (")+"".concat(g,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(n.shape," and transposeA=").concat(a)+" and transposeB=".concat(i," must match.")}));var S,C=a?[w,b,y]:[w,y,b],T=i?[O,_,g]:[O,g,_],N=b_({inputs:{x:t},backend:o,attrs:{shape:C}}),E=b_({inputs:{x:n},backend:o,attrs:{shape:T}}),I=[N,E],A=Math.max(w,O),R=a?N.shape[1]:N.shape[2],D=null!=u,M=null!=l,F="leakyrelu"===h,L=null!=h?l_(h,!0):null;if((1===y||1===_)&&R>N_&&!1===(D||M||F||null!=L)){var P=N,z=E;a&&(P=C_({inputs:{x:N},backend:o,attrs:{perm:[0,2,1]}}),I.push(P)),i&&(z=C_({inputs:{x:E},backend:o,attrs:{perm:[0,2,1]}}),I.push(z));var B=1===_,V=P;1!==_&&(V=b_({inputs:{x:P},backend:o,attrs:{shape:[A,R,1]}}),I.push(V));var U=1===_?2:1,W=z;B&&(W=b_({inputs:{x:z},backend:o,attrs:{shape:[A,1,R]}}),I.push(W));var H=m_({inputs:{a:V,b:W},backend:o});S=j_({inputs:{x:H},backend:o,attrs:{axis:U,keepDims:!0}}),I.push(H)}else{var G=Object(r.upcastType)(t.dtype,n.dtype),$=new d_(C,T,[A,y,_],a,i,D,L,M,F),q=[N,E];if(null!=u&&q.push(u),M&&q.push(l),F){var K=o.makeTensorInfo([],"float32",r.util.createScalarValue(p,"float32"));q.push(K),I.push(K)}S=o.runWebGLProgram($,q,G)}var X=b_({inputs:{x:S},backend:o,attrs:{shape:j}});I.push(S);for(var Y=0,Z=I;Y<Z.length;Y++){var Q=Z[Y];o.disposeIntermediateTensorInfo(Q)}return X}var I_={kernelName:r._FusedMatMul,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,i=t.b,o=t.bias,s=t.preluActivationWeights,u=r.transposeA,c=r.transposeB,l=r.activation;return E_({a:a,b:i,transposeA:u,transposeB:c,backend:n,bias:o,preluActivationWeights:s,leakyreluAlpha:r.leakyreluAlpha,activation:l})}},A_="return abs(x);";var R_={kernelName:r.Abs,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,a=e.backend,i=n.x;if(a.shouldExecuteOnCPU([i])&&"complex64"!==i.dtype){var o=a.texData.get(i.dataId),s=ay(o.values);return a.makeTensorInfo(i.shape,i.dtype,s)}return t=Object(r.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Uy(i.shape,A_):new Ty(i.shape,A_),a.runWebGLProgram(t,[i],i.dtype)}},D_=u_({opSnippet:Ny+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),M_={kernelName:r.Acos,backendName:"webgl",kernelFunc:D_},F_=u_({opSnippet:Ny+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),L_={kernelName:r.Acosh,backendName:"webgl",kernelFunc:F_},P_="return a + b;",z_=c_({opSnippet:P_,packedOpSnippet:P_,supportsComplex:!0,cpuKernelImpl:Sg}),B_={kernelName:r.Add,backendName:"webgl",kernelFunc:z_},V_=function e(t,n){Object(Zr.a)(this,e),this.outputShape=[],this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))}));var a=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        float result = ").concat(a,";\n        setOutput(result);\n      }\n    ")},U_=function e(t,n){Object(Zr.a)(this,e),this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))}));var a=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        vec4 result = ").concat(a,";\n        setOutput(result);\n      }\n    ")};var W_={kernelName:r.AddN,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,a=t.backend,i=n;if(1===i.length)return Qy({inputs:{x:i[0]},backend:a});if(i.length>Object(r.env)().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var o=Math.floor(i.length/2),s=e({inputs:i.slice(0,o),backend:a}),u=e({inputs:i.slice(o),backend:a});return e({inputs:[s,u],backend:a})}var c=i.map((function(e){return e.dtype})).reduce((function(e,t){return Object(r.upcastType)(e,t)})),l=i.map((function(e){return e.shape})),d=Object(r.env)().getBool("WEBGL_PACK")?new U_(i[0].shape,l):new V_(i[0].shape,l);return a.runWebGLProgram(d,i,c)}};var H_={kernelName:r.All,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.x,s=i.axis,u=i.keepDims,c=o.shape.length,l=r.util.parseAxisParam(s,o.shape),d=l,p=r.backend_util.getAxesPermutation(d,c),f=o;null!=p&&(f=C_({inputs:{x:o},backend:n,attrs:{perm:p}}),d=r.backend_util.getInnerMostAxes(d.length,c)),r.backend_util.assertAxesAreInnerMostDims("all",d,c);var h,m=r.backend_util.computeOutAndReduceShapes(f.shape,d),v=Object(a.a)(m,2),b=v[0],g=v[1],y=b_({inputs:{x:f},backend:n,attrs:{shape:[-1,r.util.sizeFromShape(g)]}}),_=x_(y,y.dtype,"all",n);return h=b_(u?{inputs:{x:_},backend:n,attrs:{shape:r.backend_util.expandShapeToKeepDim(b,l)}}:{inputs:{x:_},backend:n,attrs:{shape:b}}),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(_),null!=p&&n.disposeIntermediateTensorInfo(f),h}};var G_={kernelName:r.Any,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.x,s=i.axis,u=i.keepDims,c=o.shape.length,l=r.util.parseAxisParam(s,o.shape),d=l,p=r.backend_util.getAxesPermutation(d,c),f=o;null!=p&&(f=C_({inputs:{x:o},backend:n,attrs:{perm:p}}),d=r.backend_util.getInnerMostAxes(d.length,c)),r.backend_util.assertAxesAreInnerMostDims("any",d,c);var h,m=r.backend_util.computeOutAndReduceShapes(f.shape,d),v=Object(a.a)(m,2),b=v[0],g=v[1],y=b_({inputs:{x:f},backend:n,attrs:{shape:[-1,r.util.sizeFromShape(g)]}}),_=x_(y,y.dtype,"any",n);return h=b_(u?{inputs:{x:_},backend:n,attrs:{shape:r.backend_util.expandShapeToKeepDim(b,l)}}:{inputs:{x:_},backend:n,attrs:{shape:b}}),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(_),null!=p&&n.disposeIntermediateTensorInfo(f),h}},$_=function e(t,n,r){Object(Zr.a)(this,e),this.variableNames=["A"];var a=t.windowSize,i=t.batchSize,o=t.outSize;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];var s="max"===n?">":"<",u=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(a,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          int inIdx = ").concat(u,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(s," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")},q_=function e(t,n,a,i){Object(Zr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,r.util.assert(t.length>2,(function(){return"Packed arg".concat(a.charAt(0).toUpperCase()+a.slice(1)," supports only inputs with rank above 2.")}));var o=t[t.length-1],s=Math.ceil(o/n);this.outputShape=t.slice(0,-1),s>1&&this.outputShape.push(s),i||this.variableNames.push("bestIndicesA");var u,c,l=this.outputShape,d=l.length,p=Qb(d),f=xy("coords",d);if(1===s){var h=Qb(c=d+1);u="\n        ".concat(h," sourceLocR = ").concat(h,"(").concat(f.join(),", 0);\n        ++").concat(f[d-1],";\n        ").concat(h," sourceLocG = ").concat(h,"(").concat(f.join(),", 0);\n        ++").concat(f[d-2],";\n        ").concat(h," sourceLocA = ").concat(h,"(").concat(f.join(),", 0);\n        --").concat(f[d-1],";\n        ").concat(h," sourceLocB = ").concat(h,"(").concat(f.join(),", 0);\n        --").concat(f[d-2],";")}else c=d,u="\n        ".concat(p," sourceLocR = coords;\n        ++").concat(f[d-1],";\n        ").concat(p," sourceLocG = coords;\n        ++").concat(f[d-2],";\n        ").concat(p," sourceLocA = coords;\n        --").concat(f[d-1],";\n        ").concat(p," sourceLocB = coords;\n        --").concat(f[d-2],";");var m=["x","y","z","w","u","v"].slice(0,c),v="."+m[c-1],b=m.map((function(e){return"int "+e})),g=xy("sourceLocR",c-1).concat("inIdx.r"),y=xy("sourceLocG",c-1).concat("inIdx.g"),_=xy("sourceLocB",c-1).concat("inIdx.b"),x=xy("sourceLocA",c-1).concat("inIdx.a"),k="max"===a?"greaterThan":"lessThan",w=i?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(g.join(),"),\n                             getBestIndicesAChannel(").concat(y.join(),"),\n                             getBestIndicesAChannel(").concat(_.join(),"),\n                             getBestIndicesAChannel(").concat(x.join(),")));"),O="vec4(\n            getAChannel(".concat(g.join(),"),\n            hasNextCol ? getAChannel(").concat(y.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(_.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(x.join(),") : 0.)"),j=i?"":"\n      float getBestIndicesAChannel(".concat(b.join(),") {\n        return getChannel(getBestIndicesA(").concat(m.join(),"),\n                                          vec2(").concat(m.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(b.join(),") {\n        return getChannel(getA(").concat(m.join(),"),\n                               vec2(").concat(m.slice(-2).join(),"));\n      }\n      ").concat(j,"\n      void main() {\n        ").concat(p," coords = getOutputCoords();\n        bool hasNextCol = ").concat(f[d-1]," < ").concat(l[d-1]-1,";\n        bool hasNextRow = ").concat(f[d-2]," < ").concat(l[d-2]-1,";\n        ").concat(u,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(v,", sourceLocG").concat(v,",\n          sourceLocB").concat(v,", sourceLocA").concat(v,") * ").concat(n,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(O,";\n\n        for (int i = 0; i < ").concat(n,"; i++) {\n          inIdx = srcIdx;\n          ").concat(w,"\n          vec4 candidate = ").concat(O,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(k,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")};function K_(e,t,n,i){var o=[n];if(r.backend_util.assertAxesAreInnerMostDims("arg"+i.charAt(0).toUpperCase()+i.slice(1),o,t.shape.length),!Object(r.env)().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){var s=[],u=e.texData.get(t.dataId),c=t;null!==u&&u.isPacked&&(c=e.unpackTensor(t),s.push(c));var l=r.backend_util.computeOutAndReduceShapes(c.shape,o),d=Object(a.a)(l,2),p=d[0],f=d[1],h=r.util.sizeFromShape(f),m=b_({inputs:{x:c},backend:e,attrs:{shape:[-1,h]}});s.push(m);var v=function e(t,n,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=n.shape[0],s=n.shape[1];null!=i&&(o=i.shape[0],s=i.shape[1]);var u=r.backend_util.computeOptimalWindowSize(s),c={windowSize:u,inSize:s,batchSize:o,outSize:Math.ceil(s/u)},l=new $_(c,a,null==i),d=[n];null!=i&&d.push(i);var p=t.runWebGLProgram(l,d,"int32");if(1===p.shape[1])return p;var f=e(t,n,a,p);return t.disposeIntermediateTensorInfo(p),f}(e,m,i);s.push(v);var b=b_({inputs:{x:v},backend:e,attrs:{shape:p}});return s.forEach((function(t){return e.disposeIntermediateTensorInfo(t)})),b}return function e(t,n,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=null!=i?i.shape:n.shape,s=o[o.length-1],u=r.backend_util.computeOptimalWindowSize(s),c=new q_(o,u,a,null==i),l=null==i?[n]:[n,i],d=t.runWebGLProgram(c,l,"int32");if(d.shape.length===n.shape.length){var p=e(t,n,a,d);return t.disposeIntermediateTensorInfo(d),p}return d}(e,t,i)}var X_={kernelName:r.ArgMax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.axis,s=r.util.parseAxisParam(o,i.shape),u=r.backend_util.getAxesPermutation(s,i.shape.length),c=i,l=[];null!=u&&(c=C_({inputs:{x:i},backend:n,attrs:{perm:u}}),l.push(c),s=r.backend_util.getInnerMostAxes(s.length,c.shape.length)),r.backend_util.assertAxesAreInnerMostDims("argMax",[s[0]],c.shape.length);var d=K_(n,c,s[0],"max");return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),d}};var Y_={kernelName:r.ArgMin,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.axis,s=r.util.parseAxisParam(o,i.shape),u=r.backend_util.getAxesPermutation(s,i.shape.length),c=i,l=[];null!=u&&(c=C_({inputs:{x:i},backend:n,attrs:{perm:u}}),l.push(c),s=r.backend_util.getInnerMostAxes(s.length,c.shape.length)),r.backend_util.assertAxesAreInnerMostDims("argMin",[s[0]],c.shape.length);var d=K_(n,c,s[0],"min");return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),d}},Z_=u_({opSnippet:Ny+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),Q_={kernelName:r.Asin,backendName:"webgl",kernelFunc:Z_},J_=u_({opSnippet:Ny+"return log(x + sqrt(x * x + 1.0));"}),ex={kernelName:r.Asinh,backendName:"webgl",kernelFunc:J_},tx=u_({opSnippet:Ny+"\n  return atan(x);\n"}),nx={kernelName:r.Atan,backendName:"webgl",kernelFunc:tx},rx=c_({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  \n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n\n  return result;\n"}),ax={kernelName:r.Atan2,backendName:"webgl",kernelFunc:rx},ix=u_({opSnippet:Ny+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),ox={kernelName:r.Atanh,backendName:"webgl",kernelFunc:ix},sx=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Object(Zr.a)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideHeight,u=t.strideWidth,c=t.dilationHeight,l=t.dilationWidth,d=t.effectiveFilterHeight,p=t.effectiveFilterWidth,f=t.padInfo.top,h=t.padInfo.left;this.outputShape=t.outShape;var m="avg"===n,v="((batch  * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),b="(xR * ".concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),g="0.0";if(m||(g="-1.0 / 1e-20"),r){var y=">=";this.userCode="\n        const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n        const ivec2 pads = ivec2(").concat(f,", ").concat(h,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(c,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(p,";\n                wC += ").concat(l,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(y," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(a?i?v:b:"wR * ".concat(p," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var _="max",x="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(x="avgValue / max(count, 1.0)");var k=4*Math.floor(o/4),w=o%4,O="\n      if (".concat(m,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(_,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n      const ivec2 pads = ivec2(").concat(f,", ").concat(h,");\n      const float initializationValue = ").concat(g,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(g,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(d,";\n            wR += ").concat(c,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(k,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(l,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              getValue(batch, xR, xC + 3 * ").concat(l,", d)\n            );\n\n            ").concat(O,"\n          }\n\n          int xC = xCCorner + ").concat(k,";\n          if (").concat(1===w,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(O,"\n          } else if (").concat(2===w,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(O,"\n          } else if (").concat(3===w,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              initializationValue\n            );\n\n            ").concat(O,"\n          }\n        }\n        setOutput(").concat(x,");\n      }\n    ")}},ux=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Object(Zr.a)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideDepth,u=t.strideHeight,c=t.strideWidth,l=t.dilationDepth,d=t.dilationHeight,p=t.dilationWidth,f=t.effectiveFilterDepth,h=t.effectiveFilterHeight,m=t.effectiveFilterWidth,v=t.padInfo.front,b=t.padInfo.top,g=t.padInfo.left;this.outputShape=t.outShape;var y="avg"===n,_="0.0";if(y||(_="-1.0 / 1e-20"),r){var x=">=";this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(s,", ").concat(u,", ").concat(c,");\n        const ivec3 pads = ivec3(").concat(v,", ").concat(b,", ").concat(g,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(f,";\n              wD += ").concat(l,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(h,";\n                wR += ").concat(d,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(m,";\n                  wC += ").concat(p,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(x," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(a?i?"(((batch * ".concat(t.inDepth," + xD) * ").concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"((xD * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"wD * ".concat(h," * ").concat(m," +\n                      wR * ").concat(m," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var k="max",w="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(w="avgValue / max(count, 1.0)");var O=4*Math.floor(o/4),j=o%4,S="\n      if (".concat(y,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(k,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(s,", ").concat(u,", ").concat(c,");\n      const ivec3 pads = ivec3(").concat(v,", ").concat(b,", ").concat(g,");\n      const float initializationValue = ").concat(_,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(_,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(f,";\n            wD += ").concat(l,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(h,";\n            wR += ").concat(d,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(O,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(p,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(p,", ch)\n              );\n\n              ").concat(S,"\n            }\n\n            int xC = xCCorner + ").concat(O,";\n            if (").concat(1===j,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(S,"\n            } else if (").concat(2===j,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(S,"\n            } else if (").concat(3===j,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(p,", ch),\n                initializationValue\n              );\n\n              ").concat(S,"\n            }\n          }\n        }\n        setOutput(").concat(w,");\n      }\n    ")}};var cx={kernelName:r.AvgPool,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x;Db(i,"avgPool");var o=a.filterSize,s=a.strides,u=a.pad,c=a.dimRoundingMode;r.util.assert(r.backend_util.eitherStridesOrDilationsAreOne(s,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")}));var l=r.backend_util.computePool2DInfo(i.shape,o,s,1,u,c);if(1===l.filterWidth&&1===l.filterHeight&&r.util.arraysEqual(l.inShape,l.outShape))return Qy({inputs:{x:i},backend:n});var d=new sx(l,"avg",!1);return n.runWebGLProgram(d,[i],"float32")}};var lx={kernelName:r.AvgPool3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.filterSize,s=a.strides,u=a.pad,c=a.dimRoundingMode,l=a.dataFormat,d=r.backend_util.computePool3DInfo(i.shape,o,s,[1,1,1],u,c,l),p=new ux(d,"avg",!1);return n.runWebGLProgram(p,[i],"float32")}},dx=function e(t){Object(Zr.a)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,l=u-1-t.padInfo.top,d=c-1-t.padInfo.left,p=1/(n*r);this.userCode="\n      const ivec2 pads = ivec2(".concat(l,", ").concat(d,");\n      const float avgMultiplier = float(").concat(p,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(u,";\n            wR += ").concat(o,") {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(c,";\n            wC+= ").concat(s,") {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},px=function e(t){Object(Zr.a)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,d=t.effectiveFilterDepth,p=t.effectiveFilterHeight,f=t.effectiveFilterWidth,h=d-1-t.padInfo.front,m=p-1-t.padInfo.top,v=f-1-t.padInfo.left,b=1/(n*r*a);this.userCode="\n      const ivec3 pads = ivec3(".concat(h,", ").concat(m,", ").concat(v,");\n      const float avgMultiplier = float(").concat(b,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(d,";\n            wD += ").concat(u,") {\n          float dyD = float(dyDCorner + wD) / ").concat(i,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(p,";\n              wR += ").concat(c,") {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(f,";\n                wC += ").concat(l,") {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")};var fx={kernelName:r.AvgPool3DGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.dy,o=t.input,s=a.filterSize,u=a.strides,c=a.pad,l=a.dimRoundingMode,d=r.backend_util.computePool3DInfo(o.shape,s,u,[1,1,1],c,l),p=new px(d);return n.runWebGLProgram(p,[i],o.dtype)}};var hx={kernelName:r.AvgPoolGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.dy,o=t.input,s=o;Db([i,o],"avgPoolGrad");var u=a.filterSize,c=a.strides,l=a.pad,d=r.backend_util.computePool2DInfo(s.shape,u,c,1,l),p=new dx(d);return n.runWebGLProgram(p,[i],s.dtype)}};var mx={kernelName:r.BatchMatMul,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return E_({a:t.a,b:t.b,transposeA:r.transposeA,transposeB:r.transposeB,backend:n})}},vx=function e(t,n,a,i,o,s){Object(Zr.a)(this,e),this.outputShape=[],this.variableNames=["x","mean","variance"],r.backend_util.assertAndGetBroadcastShape(t,n),r.backend_util.assertAndGetBroadcastShape(t,a);var u="0.0";null!=i&&(r.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");var c="1.0";null!=o&&(r.backend_util.assertAndGetBroadcastShape(t,o),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(u,";\n        float scale = ").concat(c,";\n        float inv = scale * inversesqrt(variance + float(").concat(s,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")},bx=function e(t,n,a,i,o,s){Object(Zr.a)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],r.backend_util.assertAndGetBroadcastShape(t,n),r.backend_util.assertAndGetBroadcastShape(t,a);var u="vec4(0.0)";null!=i&&(r.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("offset"),u="getOffsetAtOutCoords()");var c="vec4(1.0)";null!=o&&(r.backend_util.assertAndGetBroadcastShape(t,o),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        vec4 offset = ".concat(u,";\n        vec4 scale = ").concat(c,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(s,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")},gx={kernelName:r.FusedBatchNorm,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.mean,s=t.variance,u=t.offset,c=t.scale;r.util.assert(o.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),r.util.assert(null==u||o.shape.length===u.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),r.util.assert(null==c||o.shape.length===c.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var l=a.varianceEpsilon;null==l&&(l=.001);var d=[i,o,s],p=null;null!=u&&(p=u.shape,d.push(u));var f=null;null!=c&&(f=c.shape,d.push(c));var h=Object(r.env)().getBool("WEBGL_PACK_NORMALIZATION")?new bx(i.shape,o.shape,s.shape,p,f,l):new vx(i.shape,o.shape,s.shape,p,f,l);return n.runWebGLProgram(h,d,d[0].dtype)}},yx=function e(t){Object(Zr.a)(this,e),this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n=Qb(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var r,a=function(e){if(1===e)return"sourceLoc";if(e<=6)return _x.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank),i=t.map((function(e,t){return"sourceLoc.".concat(_x[t]," = start[").concat(t,"] + coords.").concat(_x[t],";")}));r="\n        ".concat(n," sourceLoc;\n        ").concat(n," coords = getOutputCoords();\n        ").concat(i.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(r,"\n        setOutput(getSource(").concat(a,"));\n      }\n    ")},_x=["x","y","z","w","u","v"];var xx=function e(t){Object(Zr.a)(this,e),this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var n=Qb(this.rank),r=xy("coords",this.rank),a=xy("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":"vec2(".concat(a.slice(-2).join(),")"),o="getChannel(getSource(".concat(a.join(),"), ").concat(i,")"),s="\n      result.x = ".concat(o,";\n      if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n        ++").concat(a[this.rank-1],";\n        result.y = ").concat(o,";\n        --").concat(a[this.rank-1],";\n      }\n    "),u=1===this.rank?"":"\n      --".concat(r[this.rank-1],";\n      if (++").concat(r[this.rank-2]," < ").concat(t[this.rank-2],") {\n        ++").concat(a[this.rank-2],";\n        result.z = ").concat(o,";\n        if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n          ++").concat(a[this.rank-1],";\n          result.w = ").concat(o,";\n        }\n      }\n    "),c=this.rank<=4?"sourceLoc = coords +\n            ".concat(n,"(").concat(t.map((function(e,t){return"start[".concat(t,"]")})).join(),");"):t.map((function(e,t){return"".concat(a[t]," = ").concat(r[t]," + start[").concat(t,"];")})).join("\n");this.userCode="\n      void main() {\n        ".concat(n," coords = getOutputCoords();\n        ").concat(n," sourceLoc;\n        ").concat(c,"\n        vec4 result = vec4(0.);\n        ").concat(s,"\n        ").concat(u,"\n        setOutput(result);\n      }\n    ")};function kx(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.x,s=i.begin,u=i.size,c=r.slice_util.parseSliceParams(o,s,u),l=Object(a.a)(c,2),d=l[0],p=l[1];if(r.slice_util.assertParamsValid(o,d,p),0===r.util.sizeFromShape(p))return n.makeTensorInfo(p,o.dtype,[]);if(n.shouldExecuteOnCPU([o])||"string"===o.dtype){var f=n.texData.get(o.dataId),h=iy(f.values,d,p,o.shape,o.dtype);return n.makeTensorInfo(p,o.dtype,h)}var m=n.texData.get(o.dataId).isPacked,v=r.slice_util.isSliceContinous(o.shape,d,p);if(m||!v){var b=Object(r.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new xx(p):new yx(p),g=[d];return n.runWebGLProgram(b,[o],o.dtype,g)}return n.uploadToGPU(o.dataId),function(e,t,n,a){var i=a.texData.get(e.dataId),o=a.makeTensorInfo(n,e.dtype),s=a.texData.get(o.dataId);Object.assign(s,i),s.refCount=1,s.shape=n,s.dtype=e.dtype;var u=r.slice_util.computeFlatOffset(t,r.util.computeStrides(e.shape));i.slice&&(u+=i.slice.flatOffset),s.slice={flatOffset:u,origDataId:i.slice&&i.slice.origDataId||e.dataId};var c=a.dataRefCount.get(s.slice.origDataId)||1;return a.dataRefCount.set(s.slice.origDataId,c+1),o}(o,d,p,n)}var wx={kernelName:r.Slice,backendName:"webgl",kernelFunc:kx},Ox={kernelName:r.BatchToSpaceND,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.blockShape,s=a.crops;r.util.assert(i.shape.length<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var u=o.reduce((function(e,t){return e*t})),c=r.backend_util.getReshaped(i.shape,o,u),l=r.backend_util.getPermuted(c.length,o.length),d=r.backend_util.getReshapedPermuted(i.shape,o,u),p=r.backend_util.getSliceBeginCoords(s,o.length),f=r.backend_util.getSliceSize(d,s,o.length),h=[],m=b_({inputs:{x:i},backend:n,attrs:{shape:c}}),v=C_({inputs:{x:m},backend:n,attrs:{perm:l}}),b=b_({inputs:{x:v},backend:n,attrs:{shape:d}}),g=kx({inputs:{x:b},backend:n,attrs:{begin:p,size:f}});return h.push(m),h.push(v),h.push(b),h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}};var jx={kernelName:r.Bincount,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=n.readSync(a.dataId),u=n.readSync(i.dataId),c=Cg(s,u,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}};var Sx={kernelName:r.BroadcastArgs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=t.s0,i=t.s1,o=n.readSync(a.dataId),s=n.readSync(i.dataId),u=r.backend_util.assertAndGetBroadcastShape(Array.from(o),Array.from(s));return n.makeTensorInfo([u.length],"int32",Int32Array.from(u))}},Cx=c_({opSnippet:"return float(a != b);",cpuKernelImpl:Xg,dtype:"bool"}),Tx={kernelName:r.NotEqual,backendName:"webgl",kernelFunc:Cx};function Nx(e){var t=e.inputs,n=e.backend,r=t.input;return Qy({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}var Ex={kernelName:r.Real,backendName:"webgl",kernelFunc:Nx},Ix="return float(int(x));";var Ax={kernelName:r.Cast,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,i=t.backend,o=t.attrs,s=n.x,u=o.dtype;if("complex64"===u){if("complex64"===s.dtype)return Qy({inputs:{x:s},backend:i});var c=r.zeros(s.shape),l=e({inputs:{x:s},backend:i,attrs:{dtype:"float32"}}),d=e_({inputs:{real:l,imag:c},backend:i});return c.dispose(),i.disposeIntermediateTensorInfo(l),d}if("complex64"===s.dtype){var p=Nx({inputs:{input:s},backend:i}),f=e({inputs:{x:p},backend:i,attrs:{dtype:u}});return i.disposeIntermediateTensorInfo(p),f}if(!r.util.hasEncodingLoss(s.dtype,u)){var h=Qy({inputs:{x:s},backend:i});return{dataId:h.dataId,shape:h.shape,dtype:u}}if(i.shouldExecuteOnCPU([s])){var m=i.texData.get(s.dataId).values,v=Ng(m,s.shape,s.dtype,u),b=Object(a.a)(v,3),g=b[0],y=b[1],_=b[2];return i.makeTensorInfo(g,y,_)}if("int32"===u)return function(e,t){var n=new Ty(e.shape,Ix),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(s,i);if("bool"===u){var x=i.makeTensorInfo([],"bool",r.util.getTypedArrayFromDType("bool",1)),k=Cx({inputs:{a:s,b:x},backend:i});return i.disposeIntermediateTensorInfo(x),k}throw new Error("Error in Cast: failed to cast ".concat(s.dtype," to ").concat(u))}},Rx="return ceil(x);",Dx=u_({opSnippet:Rx,packedOpSnippet:Rx,cpuKernelImpl:Eg}),Mx={kernelName:r.Ceil,backendName:"webgl",kernelFunc:Dx},Fx=function e(t){Object(Zr.a)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "},Lx=function e(t){Object(Zr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "};var Px={kernelName:r.ClipByValue,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,a=e.backend,i=e.attrs,o=n.x,s=i.clipValueMin,u=i.clipValueMax;t=Object(r.env)().getBool("WEBGL_PACK_CLIP")?new Lx(o.shape):new Fx(o.shape);var c=[[s],[u]];return a.runWebGLProgram(t,[o],o.dtype,c)}},zx=function e(t){Object(Zr.a)(this,e),this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "};function Bx(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}var Vx={kernelName:r.ComplexAbs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n.texData.get(r.dataId),i=new zx(r.shape),o=[Bx(r,a.complexTensorInfos.real),Bx(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(i,o,o[0].dtype)}},Ux=function e(t){Object(Zr.a)(this,e),this.outputShape=[],this.outputShape=r.backend_util.computeOutShape(t,1),this.variableNames=t.map((function(e,t){return"T".concat(t)}));var n=new Array(t.length-1);n[0]=t[0][1];for(var a=1;a<n.length;a++)n[a]=n[a-1]+t[a][1];for(var i=["if (yC < ".concat(n[0],") setOutput(getT0(yR, yC));")],o=1;o<n.length;o++){var s=n[o-1];i.push("else if (yC < ".concat(n[o],") ")+"setOutput(getT".concat(o,"(yR, yC-").concat(s,"));"))}var u=n.length,c=n[n.length-1];i.push("else setOutput(getT".concat(u,"(yR, yC-").concat(c,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(i.join("\n        "),"\n      }\n    ")},Wx=function e(t,n){Object(Zr.a)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=r.backend_util.computeOutShape(t,n);var a=this.outputShape,i=a.length,o=Qb(i),s=xy("coords",i),u=["x","y","z","w","u","v"].slice(0,i);this.variableNames=t.map((function(e,t){return"T".concat(t)}));var c=new Array(t.length-1);c[0]=t[0][n];for(var l=1;l<c.length;l++)c[l]=c[l-1]+t[l][n];for(var d=u[n],p=u.slice(-2),f=u.join(),h="if (".concat(d," < ").concat(c[0],") {\n        return getChannel(\n            getT0(").concat(f,"), vec2(").concat(p.join(),"));\n        }"),m=1;m<c.length;m++){var v=c[m-1];h+="\n        if (".concat(d," < ").concat(c[m],"  && ").concat(d," >= ").concat(c[m-1],") {\n          return getChannel(\n            getT").concat(m,"(").concat(Hx(u,d,v),"),\n            vec2(").concat(Hx(p,d,v),"));\n        }")}var b=c.length,g=c[c.length-1];h+="\n        return getChannel(\n          getT".concat(b,"(").concat(Hx(u,d,g),"),\n          vec2(").concat(Hx(p,d,g),"));"),this.userCode="\n      float getValue(".concat(u.map((function(e){return"int "+e})),") {\n        ").concat(h,"\n      }\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(s,"), 0., 0., 0.);\n\n        ").concat(s[i-1]," = ").concat(s[i-1]," + 1;\n        if (").concat(s[i-1]," < ").concat(a[i-1],") {\n          result.g = getValue(").concat(s,");\n        }\n\n        ").concat(s[i-2]," = ").concat(s[i-2]," + 1;\n        if (").concat(s[i-2]," < ").concat(a[i-2],") {\n          result.a = getValue(").concat(s,");\n        }\n\n        ").concat(s[i-1]," = ").concat(s[i-1]," - 1;\n        if (").concat(s[i-2]," < ").concat(a[i-2]," &&\n            ").concat(s[i-1]," < ").concat(a[i-1],") {\n          result.b = getValue(").concat(s,");\n        }\n        setOutput(result);\n      }\n    ")};function Hx(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?"".concat(e," - ").concat(n):e})).join()}function Gx(e){var t=e.inputs,n=e.backend,r=t.input;return Qy({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}var $x={kernelName:r.Imag,backendName:"webgl",kernelFunc:Gx};function qx(e,t,n){var a=e[0].dtype;if("complex64"===a){var i=e.map((function(e){return Nx({inputs:{input:e},backend:n})})),o=e.map((function(e){return Gx({inputs:{input:e},backend:n})})),s=qx(i,t,n),u=qx(o,t,n),c=e_({inputs:{real:s,imag:u},backend:n});return i.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),o.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),c}var l=n.shouldExecuteOnCPU(e);if("string"===a&&(l=!0),l){var d=e.map((function(e){var a=r.util.sizeFromShape(e.shape.slice(t));return b_({inputs:{x:e},backend:n,attrs:{shape:[-1,a]}})})),p=d.map((function(e){return{vals:n.readSync(e.dataId),shape:e.shape}})),f=r.backend_util.computeOutShape(d.map((function(e){return e.shape})),1),h=1===d[0].shape[0],m=Ig(p,f,a,h),v=r.backend_util.computeOutShape(e.map((function(e){return e.shape})),t),b=n.makeTensorInfo(v,a,m);return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),b}var g=e.filter((function(e){return r.util.sizeFromShape(e.shape)>0})),y=Object(r.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&g[0].shape.length>1;if(1===g.length){var _=y?new Ty(e[0].shape,My):new Uy(e[0].shape,My);return n.runWebGLProgram(_,e,a)}var x=Object(r.env)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(g.length>x){for(var k=[],w=0;w<g.length;w+=x){var O=g.slice(w,w+x);k.push(qx(O,t,n))}for(var j=qx(k,t,n),S=0,C=k;S<C.length;S++){var T=C[S];n.disposeIntermediateTensorInfo(T)}return j}if(y){var N=new Wx(g.map((function(e){return e.shape})),t);return n.runWebGLProgram(N,g,a)}var E=function(e,t,n){var a=r.backend_util.computeOutShape(e.map((function(e){return e.shape})),t);return{tensors2D:e.map((function(e){return b_({inputs:{x:e},attrs:{shape:[-1,r.util.sizeFromShape(e.shape.slice(t))]},backend:n})})),outShape:a}}(g,t,n),I=E.tensors2D,A=E.outShape,R=new Ux(I.map((function(e){return e.shape}))),D=n.runWebGLProgram(R,I,a);I.forEach((function(e){return n.disposeIntermediateTensorInfo(e)}));var M=b_({inputs:{x:D},attrs:{shape:A},backend:n});return n.disposeIntermediateTensorInfo(D),M}function Kx(e){var t=e.inputs,n=e.backend,a=e.attrs.axis,i=r.util.parseAxisParam(a,t[0].shape)[0],o=t.map((function(e){return e.shape}));r.backend_util.assertParamsConsistent(o,i);var s=r.backend_util.computeOutShape(t.map((function(e){return e.shape})),i);if(0===r.util.sizeFromShape(s))return n.makeTensorInfo(s,t[0].dtype,[]);var u=t.filter((function(e){return r.util.sizeFromShape(e.shape)>0}));return 1===u.length?Qy({inputs:{x:u[0]},backend:n}):qx(u,i,n)}var Xx={kernelName:r.Concat,backendName:"webgl",kernelFunc:Kx},Yx=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(Zr.a)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var o=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,c=t.strideWidth,l=t.dilationHeight,d=t.dilationWidth,p=t.filterHeight,f=t.filterWidth,h=4*Math.floor(t.inChannels/4),m=t.inChannels%4,v="channelsLast"===t.dataFormat,b=v?1:2,g=v?2:3,y=v?3:1,_="",x="";r&&(_=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):i?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),x="result = activation(result);");var k=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(_,"\n\n      const ivec2 strides = ivec2(").concat(u,", ").concat(c,");\n      const ivec2 pads = ivec2(").concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(y,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(b,"], coords[").concat(g,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(p,"; wR++) {\n          int xR = xRCorner + wR * ").concat(l,";\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(f,"; wC++) {\n            int xC = xCCorner + wC * ").concat(d,";\n\n            if (xC < 0 || xC >= ").concat(t.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(h,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(v,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===m,") {\n\n              if (").concat(v,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(h,") *\n                    getW(wR, wC, ").concat(h,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(h,", xR, xC) *\n                    getW(wR, wC, ").concat(h,", d2);\n              }\n\n            } else if (").concat(2===m,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(h,", d2),\n                getW(wR, wC, ").concat(h," + 1, d2)\n              );\n\n              if (").concat(v,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(h,"),\n                  getX(batch, xR, xC, ").concat(h," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(h,", xR, xC),\n                  getX(batch, ").concat(h," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===m,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(h,", d2),\n                getW(wR, wC, ").concat(h," + 1, d2),\n                getW(wR, wC, ").concat(h," + 2, d2)\n              );\n\n              if (").concat(v,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(h,"),\n                  getX(batch, xR, xC, ").concat(h," + 1),\n                  getX(batch, xR, xC, ").concat(h," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(h,", xR, xC),\n                  getX(batch, ").concat(h," + 1, xR, xC),\n                  getX(batch, ").concat(h," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(k,"\n        ").concat(x,"\n        setOutput(result);\n      }\n    ")},Zx=function e(t){Object(Zr.a)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.padInfo.front,r=t.padInfo.top,a=t.padInfo.left,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,d=t.filterDepth,p=t.filterHeight,f=t.filterWidth,h=4*Math.floor(t.inChannels/4),m=t.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(i,", ").concat(o,", ").concat(s,");\n      const ivec3 pads = ivec3(").concat(n,", ").concat(r,", ").concat(a,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(d,"; wF++) {\n          int xF = xFCorner + wF * ").concat(u,";\n\n          if (xF < 0 || xF >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(p,"; wR++) {\n            int xR = xRCorner + wR * ").concat(c,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(f,"; wC++) {\n              int xC = xCCorner + wC * ").concat(l,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(h,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===m,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(h,") *\n                  getW(wF, wR, wC, ").concat(h,", d2);\n              } else if (").concat(2===m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(h,"),\n                  getX(batch, xF, xR, xC, ").concat(h," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(h,", d2),\n                  getW(wF, wR, wC, ").concat(h," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(h,"),\n                  getX(batch, xF, xR, xC, ").concat(h," + 1),\n                  getX(batch, xF, xR, xC, ").concat(h," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(h,", d2),\n                  getW(wF, wR, wC, ").concat(h," + 1, d2),\n                  getW(wF, wR, wC, ").concat(h," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},Qx=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(Zr.a)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=sg(this.outputShape.length);for(var s=t.padInfo.left,u=t.strideWidth,c=t.dilationWidth,l=t.filterHeight,d=t.filterWidth,p=d,f="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;",h=0;h<d;h++)f+="\n           vec4 xTexelC".concat(2*h,";\n           int xTexelC").concat(2*h,"Ready;\n           vec4 xTexelC").concat(2*h+1,";\n           int xTexelC").concat(2*h+1,"Ready;\n           vec4 xC").concat(h,";");f+="\n     for (int r = 0; r < ".concat(l,"; r++) {\n      for (int d1 = 0; d1 < ").concat(t.inChannels,"; d1 += 2) {\n       ");for(var m=0;m<d;m++)f+="\n           xTexelC".concat(2*m," = vec4(0.0);\n           xTexelC").concat(2*m,"Ready = 0;\n           xTexelC").concat(2*m+1," = vec4(0.0);\n           xTexelC").concat(2*m+1,"Ready = 0;\n           xC").concat(m," = vec4(0.0);");f+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(var v=0;v<(p+1)/2;v++){var b=2*v;if(f+="\n           xC = xCCorner + ".concat(b*c,";\n           "),1===u){if(b<d&&(s%2===1?(f+="\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                   xTexelC").concat(b," = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(b,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(b,"Ready = 1;\n                 }\n               "),f+=1===c&&b>0?"\n                 xC".concat(b," = vec4(xTexelC").concat(b-2,".zw, xTexelC").concat(b,".xy);\n                 "):"\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC".concat(b," = vec4(previous.zw, xTexelC").concat(b,".xy);\n                   } else {\n                     xC").concat(b," = vec4(0.0, 0.0, xTexelC").concat(b,".xy);\n                   }\n                   ")):f+="\n                 if (xC >= 0 && xC < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                   xTexelC").concat(b," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(b,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(b,"Ready = 1;\n                 }\n\n                 xC").concat(b," = xTexelC").concat(b,";\n                 "),b+1<d)){var g=s%2===0?r.util.nearestLargerEven(c):c;c%2===0&&s%2===1||c%2!==0&&s%2!==1?(f+="\n                   xCOffset = xC + imod(pads[1], 2) + ".concat(g,";\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                     xTexelC").concat(b+1," = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC").concat(b+1,".zw = vec2(0.0);\n                     }\n                     xTexelC").concat(b+1,"Ready = 1;\n                   }\n                   "),f+=c>1?"\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC".concat(b+1," = vec4(previous.zw, xTexelC").concat(b+1,".xy);\n                     } else {\n                      xC").concat(b+1," = vec4(0.0, 0.0, xTexelC").concat(b+1,".xy);\n                     }\n                     "):"\n                     xC".concat(b+1," = vec4(xTexelC").concat(b,".zw, xTexelC").concat(b+1,".xy);\n                     ")):f+=1===g?"\n                     xC".concat(b+1," = xTexelC").concat(b,";\n                     "):"\n                     xCOffset = xC + ".concat(g,";\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                       xTexelC").concat(b+1," = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC").concat(b+1,".zw = vec2(0.0);\n                       }\n                       xTexelC").concat(b+1,"Ready = 1;\n                     }\n\n                     xC").concat(b+1," = xTexelC").concat(b+1,";\n                     ")}}else b<d&&(s%2===1?(f+="\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                   xTexelC").concat(b," = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(b,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(b,"Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                   xTexelC").concat(b+1," = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC").concat(b+1,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(b+1,"Ready = 1;\n                 }\n\n                 xC").concat(b," = vec4(xTexelC").concat(b,".zw, xTexelC").concat(b+1,".zw);\n               "),b+1<d&&(f+="\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC".concat(b+1," = vec4(xTexelC").concat(b+1,".xy, final.xy);\n                 "))):(f+="\n                 if(xC >= 0 && xC < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                   xTexelC").concat(b," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(b,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(b,"Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                   xTexelC").concat(b+1," = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(b+1,".zw = vec2(0.);\n                   }\n                   xTexelC").concat(b+1,"Ready = 1;\n                 }\n\n                 xC").concat(b," = vec4(\n                   xTexelC").concat(b,".xy, xTexelC").concat(b+1,".xy);\n               "),b+1<d&&(f+="\n                   xC".concat(b+1," = vec4(xTexelC").concat(b,".zw, xTexelC").concat(b+1,".zw);\n                 "))));b<d&&(f+="\n             wTexel = getW(r, ".concat(b,", d1, d2);\n             dotProd += xC").concat(b,".xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ").concat(t.inChannels,") {\n               dotProd += xC").concat(b,".yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           "),b+1<d&&(f+="\n               wTexel = getW(r, ".concat(b+1,", d1, d2);\n               dotProd += xC").concat(b+1,".xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ").concat(t.inChannels,") {\n                 dotProd += xC").concat(b+1,".yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             ")))}f+="\n     }\n   ",f+="\n     }\n   ",f+="\n     }\n   ";var y="",_="";a&&(y=i?"vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ".concat(a,"\n         }"):o?"vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ".concat(a,"\n         }"):"vec4 activation(vec4 x) {\n           ".concat(a,"\n         }"),_="result = activation(result);");var x=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n       ".concat(y,"\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ").concat(f,"\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ").concat(x,"\n         ").concat(_,"\n         setOutput(result);\n       }\n     ")},Jx=function e(t,n){Object(Zr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=sg(this.outputShape.length);for(var r=n.dataFormat,a=Fb(),i="channelsLast"===r,o=i?1:2,s=i?2:3,u=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":"if(blockIndex < ".concat(t[2]," && pos < ").concat(t[1],") {"),c="",l=0;l<=1;l++)for(var d=0;d<=1;d++)c+="\n          blockIndex = rc.z + ".concat(d,";\n          pos = rc.y + ").concat(l,";\n\n          ").concat(u,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(o,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(s,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(i,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*l+d,"] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*l+d,"] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(c,"\n\n        ").concat(a.output," = result;\n      }\n    ")};function ek(e,t){var n=e.length;return n>=3?[].concat(Object(Gn.a)(e.slice(0,-3)),t?[e[n-3]*e[n-2],e[n-1]]:[e[n-3],e[n-2]*e[n-1]]):!t&&1===n&&e[0]>1?[e[0],1]:null}function tk(e){var t,n=e.x,a=e.filter,i=e.convInfo,o=e.backend,s=e.bias,u=void 0===s?null:s,c=e.preluActivationWeights,l=void 0===c?null:c,d=e.leakyreluAlpha,p=void 0===d?0:d,f=e.activation,h=void 0===f?null:f,m=n.shape,v=o.texData.get(n.dataId),b=i.inChannels,g=m[0]*m[1]*m[2],y=i.outChannels,_="channelsLast"===i.dataFormat,x=[];if(null!=l){var k=ek(l.shape,_);null!=k&&(l=b_({inputs:{x:l},backend:o,attrs:{shape:k}}),x.push(l))}if(null!=u){var w=ek(u.shape,_);null!=w&&(u=b_({inputs:{x:u},backend:o,attrs:{shape:w}}),x.push(u))}if(!((1===g||1===y)&&b>N_)&&v.isPacked&&_&&null!=v.texture&&m[2]%2!==0&&r.util.arraysEqual(v.shape.slice(-3),m.slice(-3))){var O=m[0]*m[1]*(m[2]+1),j={dataId:n.dataId,shape:[1,O,i.inChannels],dtype:n.dtype},S=v.shape;v.shape=v.shape.slice(),v.shape[v.shape.length-2]++,r.util.assert(Nb(v.shape,j.shape),(function(){return"packed reshape ".concat(v.shape," to ").concat(j.shape," isn't free")}));var C=b_({inputs:{x:a},backend:o,attrs:{shape:[1,i.inChannels,i.outChannels]}});x.push(C);var T=E_({a:j,b:C,backend:o,transposeA:!1,transposeB:!1,bias:u,activation:h,preluActivationWeights:l,leakyreluAlpha:p}),N=o.texData.get(T.dataId);r.util.assert(N.isPacked,(function(){return"batchMatMul result is expected to be packed"})),v.shape=S,N.shape=i.outShape,(t=Qy({inputs:{x:T},backend:o})).shape=i.outShape,x.push(T)}else{var E=i.outHeight*i.outWidth,I=b_({inputs:{x:n},backend:o,attrs:{shape:_?[i.batchSize,E,i.inChannels]:[i.batchSize,i.inChannels,E]}}),A=b_({inputs:{x:a},backend:o,attrs:{shape:[1,i.inChannels,i.outChannels]}}),R=E_({a:_?I:A,b:_?A:I,transposeA:!_,transposeB:!1,backend:o,bias:u,activation:h,preluActivationWeights:l,leakyreluAlpha:p});t=b_({inputs:{x:R},backend:o,attrs:{shape:i.outShape}}),x.push(I),x.push(A),x.push(R)}for(var D=0,M=x;D<M.length;D++){var F=M[D];o.disposeIntermediateTensorInfo(F)}return t}function nk(e){var t=e.x,n=e.filter,a=e.convInfo,i=e.backend,o=e.bias,s=void 0===o?null:o,u=e.preluActivationWeights,c=void 0===u?null:u,l=e.leakyreluAlpha,d=void 0===l?0:l,p=e.activation,f=void 0===p?null:p,h=a.filterWidth,m=a.filterHeight,v=a.inChannels,b=a.outWidth,g=a.outHeight,y="channelsLast"===a.dataFormat,_=h*m*v,x=g*b,k=[a.batchSize,_,x],w=[];if(null!=c){var O=ek(c.shape,y);null!=O&&(c=b_({inputs:{x:c},backend:i,attrs:{shape:O}}),w.push(c))}if(null!=s){var j=ek(s.shape,y);null!=j&&(s=b_({inputs:{x:s},backend:i,attrs:{shape:j}}),w.push(s))}var S=b_({inputs:{x:n},backend:i,attrs:{shape:[1,_,r.util.sizeFromShape(n.shape)/_]}});w.push(S);var C=new Jx(k,a),T=[t.shape,[a.padInfo.top,a.padInfo.left],[a.strideHeight,a.strideWidth],[a.dilationHeight,a.dilationWidth],[a.inChannels],[a.filterWidth*a.inChannels],[a.outWidth]],N=i.runWebGLProgram(C,[t],"float32",T),E=b_({inputs:{x:N},backend:i,attrs:{shape:k}});w.push(N),w.push(E);var I=null!=s,A=null!=c,R="leakyrelu"===f,D=f?l_(f,!0):null,M=new d_(y?E.shape:S.shape,y?S.shape:E.shape,y?[a.batchSize,x,a.outChannels]:[a.batchSize,a.outChannels,x],!0,!1,I,D,A,R),F=y?[E,S]:[S,E];if(s&&F.push(s),A&&F.push(c),R){var L=i.makeTensorInfo([],"float32",r.util.createScalarValue(d,"float32"));F.push(L),w.push(L)}var P=i.runWebGLProgram(M,F,"float32"),z=b_({inputs:{x:P},backend:i,attrs:{shape:a.outShape}});w.push(P);for(var B=0,V=w;B<V.length;B++){var U=V[B];i.disposeIntermediateTensorInfo(U)}return z}var rk={kernelName:r.Conv2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,a=e.backend,i=e.attrs,o=n.x,s=n.filter,u=i.strides,c=i.pad,l=i.dataFormat,d=i.dilations,p=i.dimRoundingMode,f=r.backend_util.convertConv2DDataFormat(l),h=r.backend_util.computeConv2DInfo(o.shape,s.shape,u,d,c,p,!1,f);if(1!==h.filterHeight||1!==h.filterWidth||1!==h.dilationHeight||1!==h.dilationWidth||1!==h.strideHeight||1!==h.strideWidth||"SAME"!==h.padInfo.type&&"VALID"!==h.padInfo.type)if(h.strideWidth<=2&&"channelsLast"===f&&Object(r.env)().getBool("WEBGL_EXP_CONV")){var m=new Qx(h),v=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];t=a.runWebGLProgram(m,[o,s],"float32",v)}else if(Object(r.env)().getBool("WEBGL_CONV_IM2COL"))t=nk({x:o,filter:s,convInfo:h,backend:a});else{var b=new Yx(h);t=a.runWebGLProgram(b,[o,s],"float32")}else t=tk({x:o,filter:s,convInfo:h,backend:a});var g=b_({inputs:{x:t},backend:a,attrs:{shape:h.outShape}});return a.disposeIntermediateTensorInfo(t),g}},ak=function e(t){Object(Zr.a)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o="channelsLast"===t.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(i,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              ").concat(o?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);","\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},ik=function e(t){Object(Zr.a)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o="channelsLast"===t.dataFormat,s=n-1-t.padInfo.top,u=r-1-t.padInfo.left,c=o?1:2,l=o?2:3,d=o?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(d,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(c,"], coords[").concat(l,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n\n              if (").concat(o,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},ok=function e(t){Object(Zr.a)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.padInfo.front,o=t.padInfo.top,s=t.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(t.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(n," - ").concat(i,";\n\n            if (xF < 0 || xF >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(r," - ").concat(o,";\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(a," - ").concat(s,";\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},sk=function e(t){Object(Zr.a)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=n-1-t.padInfo.front,c=r-1-t.padInfo.top,l=a-1-t.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(u,", ").concat(c,", ").concat(l,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(n,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(i,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(t.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(n," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(r,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(r," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(a,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(a," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")};var uk={kernelName:r.Conv2DBackpropFilter,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.dy,s=a.strides,u=a.pad,c=a.dataFormat,l=a.dimRoundingMode,d=a.filterShape,p=r.backend_util.convertConv2DDataFormat(c),f=r.backend_util.computeConv2DInfo(i.shape,d,s,1,u,l,!1,p),h=new ak(f);return n.runWebGLProgram(h,[i,o],"float32")}},ck=function e(t){Object(Zr.a)(this,e),this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=t.inShape,this.enableShapeUniforms=sg(this.outputShape.length);var n=t.filterHeight,r=t.filterWidth,a=n-1-t.padInfo.top,i=r-1-t.padInfo.left;this.userCode="\n      const ivec2 pads = ivec2(".concat(a,", ").concat(i,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ").concat(t.outWidth,".0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ").concat(t.outWidth,".0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    ")};var lk={kernelName:r.Conv2DBackpropInput,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.dy,o=t.filter,s=a.inputShape,u=a.strides,c=a.pad,l=a.dataFormat,d=a.dimRoundingMode,p=r.backend_util.convertConv2DDataFormat(l),f=r.backend_util.computeConv2DInfo(s,o.shape,u,1,c,d,!1,p);if(Object(r.env)().getBool("WEBGL_PACK")&&"channelsLast"===p){var h=[[f.strideHeight,f.strideWidth]],m=new ck(f);return n.runWebGLProgram(m,[i,o],"float32",h)}var v=new ik(f);return n.runWebGLProgram(v,[i,o],"float32")}};var dk={kernelName:r.Conv3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.filter,s=a.strides,u=a.pad,c=a.dilations,l=r.backend_util.computeConv3DInfo(i.shape,o.shape,s,c,u),d=new Zx(l);return n.runWebGLProgram(d,[i,o],"float32")}};var pk={kernelName:r.Conv3DBackpropFilterV2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.dy,s=a.strides,u=a.pad,c=a.filterShape,l=r.backend_util.computeConv3DInfo(i.shape,c,s,1,u),d=new ok(l);return n.runWebGLProgram(d,[i,o],"float32")}};var fk,hk={kernelName:r.Conv3DBackpropInputV2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.dy,o=t.filter,s=a.pad,u=a.strides,c=a.inputShape,l=r.backend_util.computeConv3DInfo(c,o.shape,u,1,s),d=new sk(l);return n.runWebGLProgram(d,[i,o],"float32")}},mk=u_({opSnippet:"if (isnan(x)) return x;\n  return cos(x);\n",packedOpSnippet:"\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(Yy,"\n  return result;\n")}),vk={kernelName:r.Cos,backendName:"webgl",kernelFunc:mk},bk=u_({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),gk={kernelName:r.Cosh,backendName:"webgl",kernelFunc:bk},yk=function e(t,n,r,i,o){Object(Zr.a)(this,e),this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var s=Object(a.a)(t,4),u=s[0],c=s[1],l=s[2],d=s[3],p=Object(a.a)(n,1)[0],f=Object(a.a)(r,2),h=f[0],m=f[1];this.outputShape=[p,h,m,d];var v="bilinear"===i?1:0,b="".concat(c-1,".0"),g="".concat(l-1,".0"),y=h>1?["".concat((c-1)/(h-1)),"(y2-y1) * height_ratio","y1*".concat(b," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(b)],_=Object(a.a)(y,3),x=_[0],k=_[1],w=_[2],O=m>1?["".concat((l-1)/(m-1)),"(x2-x1) * width_ratio","x1*".concat(g," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(g)],j=Object(a.a)(O,3),S=j[0],C=j[1],T=j[2];this.userCode="\n      const float height_ratio = float(".concat(x,");\n      const float width_ratio = float(").concat(S,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(u,") {\n          return;\n        }\n\n        float height_scale = ").concat(k,";\n        float width_scale = ").concat(C,";\n\n        float in_y = ").concat(w,";\n        if( in_y < 0.0 || in_y > ").concat(b," ) {\n          setOutput(float(").concat(o,"));\n          return;\n        }\n        float in_x = ").concat(T,";\n        if( in_x < 0.0 || in_x > ").concat(g," ) {\n          setOutput(float(").concat(o,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(v," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")},_k={kernelName:r.CropAndResize,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.boxes,o=t.boxInd,s=r.cropSize,u=r.method,c=r.extrapolationValue,l=new yk(a.shape,i.shape,s,u,c);return n.runWebGLProgram(l,[a,i,o],"float32")}};!function(e){e.Prod="*",e.Sum="+"}(fk||(fk={}));var xk=function e(t,n,r,a){Object(Zr.a)(this,e),this.op=t,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];var i=this.outputShape.length,o=this.op===fk.Prod?"1.0":"0.0",s=r?o:"getX(".concat(kk(i,"coords",this.op),")"),u=this.outputShape[this.outputShape.length-1],c="",l="";r?(c=a?"end != ".concat(u-1):"end != 0",l=a?"end + 1":"end - 1"):(c=a?"end + pow2 < ".concat(u):"end >= pow2",l=a?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(Qb(i)," coords = getOutputCoords();\n        int end = ").concat(wk(i,"coords",this.op),";\n        float val = ").concat(s,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(c,") {\n          int idx = ").concat(l,";\n          ").concat(wk(i,"coords",this.op)," = idx;\n          val ").concat(this.op,"= getX(").concat(kk(i,"coords",this.op),");\n        }\n        setOutput(val);\n      }\n    ")};function kk(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function wk(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function Ok(e,t,n,a,i,o){var s=t.shape.length,u=r.backend_util.getAxesPermutation([a],s),c=t;null!=u&&(c=C_({inputs:{x:t},backend:n,attrs:{perm:u}}));var l=r.backend_util.getInnerMostAxes(1,s)[0];if(l!==s-1)throw new Error("WebGL cumprod shader expects an inner-most axis=".concat(t.shape.length-1," ")+"but got axis=".concat(a));for(var d=c.shape[l],p=Qy({inputs:{x:c},backend:n}),f=0;f<=Math.ceil(Math.log2(d))-1;f++){var h=new xk(e,c.shape,!1,o),m=[[f]],v=p;p=n.runWebGLProgram(h,[p],p.dtype,m),n.disposeIntermediateTensorInfo(v)}if(i){var b=new xk(e,c.shape,i,o),g=p;p=n.runWebGLProgram(b,[p],p.dtype),n.disposeIntermediateTensorInfo(g)}if(null!=u){var y=C_({inputs:{x:p},backend:n,attrs:{perm:r.backend_util.getUndoAxesPermutation(u)}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(c),y}return p}var jk={kernelName:r.Cumprod,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.exclusive,s=r.reverse;return Ok(fk.Prod,a,n,i,o,s)}};var Sk={kernelName:r.Cumsum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.exclusive,s=r.reverse;return Ok(fk.Sum,a,n,i,o,s)}};var Ck={kernelName:r.DenseBincount,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=r.binaryOutput;if(1===a.shape.length){var u=n.readSync(a.dataId),c=n.readSync(i.dataId),l=Cg(u,c,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,l)}if(2===a.shape.length){var d=n.bufferSync(a),p=n.bufferSync(i),f=Tg(d,p,o,s);return n.makeTensorInfo(f.shape,i.dtype,f.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}},Tk=function(){function e(t,n,r){Object(Zr.a)(this,e),this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(n,";\n      int offset_h = imod(h, ").concat(n,");\n      int in_w = w / ").concat(n,";\n      int offset_w = imod(w, ").concat(n,");\n      int offset_d = (offset_h * ").concat(n," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}return Object(Qr.a)(e,[{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),e}();var Nk={kernelName:r.DepthToSpace,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockSize,o=r.dataFormat,s=a.shape[0],u=("NHWC"===o?a.shape[1]:a.shape[2])*i,c=("NHWC"===o?a.shape[2]:a.shape[3])*i,l=("NHWC"===o?a.shape[3]:a.shape[1])/(i*i),d=new Tk("NHWC"===o?[s,u,c,l]:[s,l,u,c],i,o);return n.runWebGLProgram(d,[a],a.dtype)}},Ek=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(Zr.a)(this,e),this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=sg(this.outputShape.length);var o=t.filterHeight,s=t.filterWidth,u=t.outChannels/t.inChannels,c="",l="";r&&(c=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):i?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),l="result = activation(result);");var d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(c,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(u,";\n        int q = d2 - d1 * ").concat(u,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(o,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(s,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(d,"\n        ").concat(l,"\n        setOutput(result);\n      }\n    ")},Ik=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(Zr.a)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=sg(this.outputShape.length);for(var s=t.outChannels/t.inChannels,u=t.padInfo.left,c=t.strideWidth,l=t.dilationWidth,d=t.filterHeight,p=t.filterWidth,f=p,h="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;",m=0;m<p;m++)h+="\n          vec4 xTexelC".concat(2*m,";\n          int xTexelC").concat(2*m,"Ready;\n          vec4 xTexelC").concat(2*m+1,";\n          int xTexelC").concat(2*m+1,"Ready;\n          vec4 xC").concat(m,";");h+="\n    for (int r = 0; r < ".concat(d,"; r++) {\n      ");for(var v=0;v<p;v++)h+="\n          xTexelC".concat(2*v," = vec4(0.0);\n          xTexelC").concat(2*v,"Ready = 0;\n          xTexelC").concat(2*v+1," = vec4(0.0);\n          xTexelC").concat(2*v+1,"Ready = 0;\n          xC").concat(v," = vec4(0.0);");h+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(var b=0;b<(f+1)/2;b++){var g=2*b;if(h+="\n          xC = xCCorner + ".concat(g*l,";\n          "),1===c){if(g<p&&(u%2===1?(h+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                  xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(g,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g,"Ready = 1;\n                }\n              "),h+=1===l&&g>0?"\n                xC".concat(g," = vec4(xTexelC").concat(g-2,".zw, xTexelC").concat(g,".xy);\n                "):"\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(g," = vec4(previous.zw, xTexelC").concat(g,".xy);\n                  } else {\n                    xC").concat(g," = vec4(0.0, 0.0, xTexelC").concat(g,".xy);\n                  }\n                  ")):h+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                  xTexelC").concat(g," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(g,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g,"Ready = 1;\n                }\n\n                xC").concat(g," = xTexelC").concat(g,";\n                "),g+1<p)){var y=u%2===0?r.util.nearestLargerEven(l):l;l%2===0&&u%2===1||l%2!==0&&u%2!==1?(h+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(y,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                    xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(g+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(g+1,"Ready = 1;\n                  }\n                  "),h+=l>1?"\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC".concat(g+1," = vec4(previous.zw, xTexelC").concat(g+1,".xy);\n                    } else {\n                     xC").concat(g+1," = vec4(0.0, 0.0, xTexelC").concat(g+1,".xy);\n                    }\n                    "):"\n                    xC".concat(g+1," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".xy);\n                    ")):h+=1===y?"\n                    xC".concat(g+1," = xTexelC").concat(g,";\n                    "):"\n                    xCOffset = xC + ".concat(y,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                      xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(g+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(g+1,"Ready = 1;\n                    }\n\n                    xC").concat(g+1," = xTexelC").concat(g+1,";\n                    ")}}else g<p&&(u%2===1?(h+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                  xTexelC").concat(g," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(g,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                  xTexelC").concat(g+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(g+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g+1,"Ready = 1;\n                }\n\n                xC").concat(g," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".zw);\n              "),g+1<p&&(h+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(g+1," = vec4(xTexelC").concat(g+1,".xy, final.xy);\n                "))):(h+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(g,"Ready == 0) {\n                  xTexelC").concat(g," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(g,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(g,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(g+1,"Ready == 0) {\n                  xTexelC").concat(g+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(g+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(g+1,"Ready = 1;\n                }\n\n                xC").concat(g," = vec4(\n                  xTexelC").concat(g,".xy, xTexelC").concat(g+1,".xy);\n              "),g+1<p&&(h+="\n                  xC".concat(g+1," = vec4(xTexelC").concat(g,".zw, xTexelC").concat(g+1,".zw);\n                "))));g<p&&(h+="\n            wTexel = getW(r, ".concat(g,", d1, q);\n            dotProd += xC").concat(g," * vec4(wTexel.xz, wTexel.xz);\n          "),g+1<p&&(h+="\n              wTexel = getW(r, ".concat(g+1,", d1, q);\n              dotProd += xC").concat(g+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}h+="\n    }\n  ",h+="\n      }\n    ";var _="",x="";a&&(_=i?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(a,"\n        }"):o?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(a,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(a,"\n        }"),x="result = activation(result);");var k=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(_,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(s,";\n        int q = d2 - d1 * ").concat(s,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(h,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(k,"\n        ").concat(x,"\n        setOutput(result);\n      }\n    ")};var Ak={kernelName:r.DepthwiseConv2dNative,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.filter,s=a.strides,u=a.pad,c=a.dilations,l=a.dimRoundingMode,d=c;null==d&&(d=[1,1]),r.util.assert(r.backend_util.eitherStridesOrDilationsAreOne(s,d),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(s," and dilations '").concat(d,"'")}));var p,f=r.backend_util.computeConv2DInfo(i.shape,o.shape,s,d,u,l,!0);p=Object(r.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&f.strideWidth<=2&&f.outChannels/f.inChannels===1?new Ik(f):new Ek(f);var h=[[f.padInfo.top,f.padInfo.left],[f.strideHeight,f.strideWidth],[f.dilationHeight,f.dilationWidth],[f.inHeight,f.inWidth]];return n.runWebGLProgram(p,[i,o],"float32",h)}},Rk=function e(t){Object(Zr.a)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o=t.outChannels/t.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(o," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(i,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},Dk=function e(t){Object(Zr.a)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=n-1-t.padInfo.top,s=r-1-t.padInfo.left,u=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(u,"; dm++) {\n              int d2 = d1 * ").concat(u," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")};var Mk={kernelName:r.DepthwiseConv2dNativeBackpropFilter,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.dy,s=a.strides,u=a.dilations,c=a.pad,l=a.dimRoundingMode,d=a.filterShape,p=r.backend_util.computeConv2DInfo(i.shape,d,s,u,c,l,!0),f=new Rk(p);return n.runWebGLProgram(f,[i,o],"float32")}};var Fk={kernelName:r.DepthwiseConv2dNativeBackpropInput,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.dy,o=t.filter,s=a.strides,u=a.dilations,c=a.pad,l=a.dimRoundingMode,d=a.inputShape,p=r.backend_util.computeConv2DInfo(d,o.shape,s,u,c,l,!0),f=new Dk(p);return n.runWebGLProgram(f,[i,o],"float32")}},Lk=function e(t){Object(Zr.a)(this,e),this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "};var Pk={kernelName:r.Diag,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=t.x,i=[].concat(Object(Gn.a)(a.shape),Object(Gn.a)(a.shape)),o=r.util.sizeFromShape(a.shape),s=b_({inputs:{x:a},backend:n,attrs:{shape:[o]}}),u=new Lk(o),c=n.runWebGLProgram(u,[s],s.dtype),l=b_({inputs:{x:c},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(c),l}},zk=function e(t){Object(Zr.a)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.inHeight,r=t.inWidth,a=t.padInfo,i=t.strideHeight,o=t.strideWidth,s=t.filterHeight,u=t.filterWidth,c=t.dilationHeight,l=t.dilationWidth,d=a.top,p=a.left;this.userCode="\n      const ivec2 strides = ivec2(".concat(i,", ").concat(o,");\n      const ivec2 pads = ivec2(").concat(d,", ").concat(p,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(s,"; h++) {\n          int hIn = hBeg + h * ").concat(c,";\n\n          if (hIn >= 0 && hIn < ").concat(n,") {\n            for (int w = 0; w < ").concat(u,"; w++) {\n              int wIn = wBeg + w * ").concat(l,";\n\n              if (wIn >= 0 && wIn < ").concat(r,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")};var Bk={kernelName:r.Dilation2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,a=e.backend,i=e.attrs,o=n.x,s=n.filter,u=i.strides,c=i.pad,l=i.dilations,d=r.backend_util.computeDilation2DInfo(o.shape,s.shape,u,c,"NHWC",l),p=new zk(d),f=b_({inputs:{x:t=a.runWebGLProgram(p,[o,s],"float32")},backend:a,attrs:{shape:d.outShape}});return a.disposeIntermediateTensorInfo(t),f}};var Vk={kernelName:r.Einsum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs.equation,i=t,o=r.backend_util.decodeEinsumEquation(a,i.length),s=o.allDims,u=o.summedDims,c=o.idDims;r.backend_util.checkEinsumDimSizes(s.length,c,i);for(var l=r.backend_util.getEinsumComputePath(u,c),d=l.path,p=l.steps,f=p.length,h=null,m=s.length,v=[],b=0;b<f;++b){var g=!0,y=!1,_=void 0;try{for(var x,k=p[b][Symbol.iterator]();!(g=(x=k.next()).done);g=!0){var w=x.value,O=r.backend_util.getEinsumPermutation(m,c[w]),j=O.permutationIndices,S=O.expandDims,C=void 0;r.backend_util.isIdentityPermutation(j)?C=i[w]:(C=C_({inputs:{x:i[w]},backend:n,attrs:{perm:j}}),v.push(C));for(var T=C.shape.slice(),N=0;N<S.length;++N)T.splice(S[N],0,1);r.util.arraysEqual(C.shape,T)||(C=b_({inputs:{x:C},backend:n,attrs:{shape:T}}),v.push(C)),null===h?h=C:(h=m_({inputs:{a:C,b:h},backend:n}),v.push(h))}}catch(R){y=!0,_=R}finally{try{g||null==k.return||k.return()}finally{if(y)throw _}}b<f-1&&(d[b]>=0&&(h=j_({inputs:{x:h},backend:n,attrs:{axis:d[b]-(s.length-m),keepDims:!1}}),v.push(h)),m--)}for(var E=0,I=v;E<I.length;E++){var A=I[E];A!==h&&n.disposeIntermediateTensorInfo(A)}return h}},Uk=u_({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),Wk={kernelName:r.Elu,backendName:"webgl",kernelFunc:Uk},Hk={kernelName:r.EluGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=t.dy,i=t.y,o=Object(r.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Zy("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",a.shape,i.shape):new Xy("return (b >= 0.0) ? a : a * (b + 1.0);",a.shape,i.shape);return n.runWebGLProgram(o,[a,i],a.dtype)}},Gk=c_({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:Ag}),$k={kernelName:r.Equal,backendName:"webgl",kernelFunc:Gk},qk=u_({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(r.backend_util.ERF_P,";\n  float a1 = ").concat(r.backend_util.ERF_A1,";\n  float a2 = ").concat(r.backend_util.ERF_A2,";\n  float a3 = ").concat(r.backend_util.ERF_A3,";\n  float a4 = ").concat(r.backend_util.ERF_A4,";\n  float a5 = ").concat(r.backend_util.ERF_A5,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")}),Kk={kernelName:r.Erf,backendName:"webgl",kernelFunc:qk},Xk=u_({opSnippet:"if (isnan(x)) return x;\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:Rg,dtype:"float32"}),Yk={kernelName:r.Exp,backendName:"webgl",kernelFunc:Xk};function Zk(e){var t=e.inputs,n=e.attrs,a=e.backend,i=n.dim,o=t.input,s=o.shape.length,u=o.shape.slice(),c=i;return i<0&&(r.util.assert(-(s+1)<=i,(function(){return"Axis must be in the interval [".concat(-(s+1),", ").concat(s,"]")})),c=s+i+1),u.splice(c,0,1),b_({inputs:{x:o},backend:a,attrs:{shape:u}})}var Qk={kernelName:r.ExpandDims,backendName:"webgl",kernelFunc:Zk},Jk="return exp(x) - 1.0;",ew=u_({opSnippet:Jk,packedOpSnippet:Jk,cpuKernelImpl:Dg}),tw={kernelName:r.Expm1,backendName:"webgl",kernelFunc:ew},nw=function e(t,n,r){Object(Zr.a)(this,e),this.variableNames=["real","imag"];var a=n[1];this.outputShape=n;var i,o=r?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),s=r?"".concat(a,".0"):"1.0";if("real"===t)i="return real * expR - imag * expI;";else{if("imag"!==t)throw new Error('FFT component must be either "real" or "imag", got '.concat(t,"."));i="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(o,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(i,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(a,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(s,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")};function rw(e,t,n){var a=n.texData.get(e.dataId),i=r.util.sizeFromShape(e.shape),o=e.shape[e.shape.length-1],s=b_({inputs:{x:e},backend:n,attrs:{shape:[i/o,o]}}),u=s.shape,c=new nw("real",u,t),l=new nw("imag",u,t),d=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:u},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:u}],p=n.runWebGLProgram(c,d,"float32"),f=n.runWebGLProgram(l,d,"float32"),h=e_({inputs:{real:p,imag:f},backend:n});n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f);var m=b_({inputs:{x:h},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(h),m}var aw={kernelName:r.FFT,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return rw(t.input,!1,n)}},iw=function e(t,n){Object(Zr.a)(this,e),this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "};function ow(e){var t=e.backend,n=e.attrs,a=n.shape,i=n.value,o=n.dtype;if("string"===(o=o||r.util.inferDtype(i))){var s=r.util.getArrayFromDType(o,r.util.sizeFromShape(a));return s.fill(i),t.makeTensorInfo(a,o,s)}var u=new iw(a,i),c=[[i]];return t.runWebGLProgram(u,[],o,c)}var sw,uw={kernelName:r.Fill,backendName:"webgl",kernelFunc:ow},cw=function e(t){Object(Zr.a)(this,e),this.variableNames=["Image"],this.outputShape=[];var n=t[2];this.outputShape=t,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(n," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(n,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")},lw={kernelName:r.FlipLeftRight,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.image,a=n,i=new cw(r.shape);return a.runWebGLProgram(i,[r],r.dtype)}},dw="return floor(x);",pw=u_({opSnippet:dw,packedOpSnippet:dw,cpuKernelImpl:Mg}),fw={kernelName:r.Floor,backendName:"webgl",kernelFunc:pw},hw=c_({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),mw={kernelName:r.FloorDiv,backendName:"webgl",kernelFunc:hw},vw=function e(t){Object(Zr.a)(this,e),this.variableNames=["A"];var n=Fb(),r=Object(a.a)(t,2),i=r[0],o=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(o,".0, ").concat(i,".0);\n\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")},bw=function e(t){Object(Zr.a)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=Fb(),r=Object(a.a)(t,2),i=r[0],o=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(o,".0, ").concat(i,".0);\n            vec4 values = ").concat(n.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")},gw={kernelName:r.FromPixels,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.pixels,s=i.numChannels,u="undefined"!==typeof HTMLVideoElement&&o instanceof HTMLVideoElement,c="undefined"!==typeof HTMLImageElement&&o instanceof HTMLImageElement,l=u?[o.videoWidth,o.videoHeight]:[o.width,o.height],d=Object(a.a)(l,2),p=d[0],f=d[1],h=[f,p],m=[f,p,s];if(c||u){var v=Object(r.env)().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=sw&&v===yw||(yw=v,sw=document.createElement("canvas").getContext("2d",{willReadFrequently:yw})),sw.canvas.width=p,sw.canvas.height=f,sw.drawImage(o,0,0,p,f),o=sw.canvas}var b=n.makeTensorInfo(h,"int32");n.texData.get(b.dataId).usage=Zv.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(b.dataId),o);var g=Object(r.env)().getBool("WEBGL_PACK")?new bw(m):new vw(m),y=n.runWebGLProgram(g,[b],"int32");return n.disposeData(b.dataId),y}},yw=Object(r.env)().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");var _w={kernelName:r.FusedConv2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,a=e.backend,i=e.attrs,o=n.x,s=n.filter,u=n.bias,c=n.preluActivationWeights,l=i.strides,d=i.pad,p=i.dataFormat,f=i.dilations,h=i.dimRoundingMode,m=i.activation,v=i.leakyreluAlpha,b=r.backend_util.convertConv2DDataFormat(p),g=r.backend_util.computeConv2DInfo(o.shape,s.shape,l,f,d,h,!1,b),y=[],_=null!=u,x=null!=c,k="leakyrelu"===m,w=function(){var e=[o,s],t=function(e,t){if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){var n=b_({inputs:{x:e},backend:a,attrs:{shape:[e.shape[0],1,1]}});return y.push(n),n}return e};if(_&&e.push(t(u,p)),x&&e.push(t(c,p)),k){var n=a.makeTensorInfo([],"float32",r.util.createScalarValue(v,"float32"));e.push(n),y.push(n)}return e};if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(g.strideWidth<=2&&"channelsLast"===b&&Object(r.env)().getBool("WEBGL_EXP_CONV")){var O=m?l_(m,!0):null,j=new Qx(g,_,O,x,k),S=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],C=w();t=a.runWebGLProgram(j,C,"float32",S)}else if(Object(r.env)().getBool("WEBGL_CONV_IM2COL"))t=nk({x:o,filter:s,convInfo:g,backend:a,bias:u,activation:m,preluActivationWeights:c,leakyreluAlpha:v});else{var T=m?l_(m,!1):null,N=new Yx(g,_,T,x,k),E=w();t=a.runWebGLProgram(N,E,"float32")}else t=tk({x:o,filter:s,convInfo:g,backend:a,bias:u,activation:m,preluActivationWeights:c,leakyreluAlpha:v});var I=b_({inputs:{x:t},backend:a,attrs:{shape:g.outShape}});return y.push(t),y.forEach((function(e){return a.disposeIntermediateTensorInfo(e)})),I}};var xw={kernelName:r.FusedDepthwiseConv2D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.filter,s=t.bias,u=t.preluActivationWeights,c=a.strides,l=a.pad,d=a.dilations,p=a.dimRoundingMode,f=a.activation,h=a.leakyreluAlpha,m=[],v=d;null==v&&(v=[1,1]),r.util.assert(r.backend_util.eitherStridesOrDilationsAreOne(c,v),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(c," and dilations '").concat(v,"'")}));var b,g=r.backend_util.computeConv2DInfo(i.shape,o.shape,c,v,l,p,!0),y=Object(r.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,_=f?l_(f,y):null,x=[i,o],k=null!=s,w=null!=u,O="leakyrelu"===f;if(k&&x.push(s),w&&x.push(u),O){var j=n.makeTensorInfo([],"float32",r.util.createScalarValue(h,"float32"));x.push(j),m.push(j)}b=y?new Ik(g,k,_,w,O):new Ek(g,k,_,w,O);var S=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],C=n.runWebGLProgram(b,x,"float32",S);return m.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),C}},kw=function e(t,n,r,a){Object(Zr.a)(this,e),this.sliceDim=t,this.strides=n,this.paramsShape=a,this.variableNames=["x","indices"],this.outputShape=r;for(var i=Qb(r.length),o="\n    int index;",s=0;s<this.sliceDim;s++)o+="\n          index = round(getIndices(coords[0], ".concat(s,"));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ").concat(this.paramsShape[s],";\n          flattenIndex += index * ").concat(this.strides[s],";");this.userCode="\n         void main() {\n          ".concat(i," coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ").concat(o,"\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      ")};var ww={kernelName:r.GatherNd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=t.params,o=t.indices,s=o.shape,u=s[s.length-1],c=r.util.sizeFromShape(i.shape),l=r.backend_util.prepareAndValidate(i,o),d=Object(a.a)(l,4),p=d[0],f=d[1],h=d[2],m=d[3],v=b_({inputs:{x:o},backend:n,attrs:{shape:[f,u]}}),b=b_({inputs:{x:i},backend:n,attrs:{shape:[r.util.sizeFromShape(i.shape)/h,h]}});if(n.shouldExecuteOnCPU([i,o])||"string"===i.dtype){var g=n.readSync(o.dataId),y=n.bufferSync(i),_=Fg(g,y,i.dtype,f,u,h,m,i.shape,c);return n.makeTensorInfo(p,i.dtype,_.values)}var x=new kw(u,m,[f,h],i.shape),k=n.runWebGLProgram(x,[b,v],b.dtype),w=b_({inputs:{x:k},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(k),w}},Ow=function e(t,n){Object(Zr.a)(this,e),this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;var r=Qb(this.rank),a=function(e,t){for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],a=0;a<e.length;a++)2===a?r.push("index"):r.push("".concat(n[a]));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(t[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(a,"));\n      }\n    ")};function jw(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.indices,s=a.axis,u=a.batchDims,c=r.util.parseAxisParam(s,i.shape)[0];Object(r.env)().get("DEBUG")&&function(){for(var e=n.readSync(o.dataId),t=i.shape[c],a=function(n){var a=e[n];r.util.assert(a<=t-1&&a>=0,(function(){return"GatherV2: the index value ".concat(a," is not in [0, ").concat(t-1,"]")}))},s=0;s<e.length;++s)a(s)}();var l=r.backend_util.segment_util.collectGatherOpShapeInfo(i,o,c,u),d=r.util.sizeFromShape(o.shape),p=[],f=b_({inputs:{x:i},backend:n,attrs:{shape:[l.batchSize,l.outerSize,l.dimSize,l.sliceSize]}}),h=b_({inputs:{x:o},backend:n,attrs:{shape:[l.batchSize,d/l.batchSize]}});p.push(f),p.push(h);var m=[l.batchSize,l.outerSize,d/l.batchSize,l.sliceSize];if(n.shouldExecuteOnCPU([i,o])||"string"===i.dtype){var v=n.bufferSync(h),b=n.bufferSync(f),g=Lg(b,v,m);return p.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(l.outputShape,g.dtype,g.values)}var y=new Ow(f.shape,m),_=n.runWebGLProgram(y,[f,h],f.dtype);p.push(_);var x=b_({inputs:{x:_},backend:n,attrs:{shape:l.outputShape}});return p.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),x}var Sw={kernelName:r.GatherV2,backendName:"webgl",kernelFunc:jw},Cw=c_({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:Pg,dtype:"bool"}),Tw={kernelName:r.Greater,backendName:"webgl",kernelFunc:Cw},Nw=c_({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:zg}),Ew={kernelName:r.GreaterEqual,backendName:"webgl",kernelFunc:Nw};var Iw={kernelName:r.IFFT,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return rw(t.input,!0,n)}},Aw=u_({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),Rw={kernelName:r.IsFinite,backendName:"webgl",kernelFunc:Aw},Dw=u_({opSnippet:"return float(isinf(x));",dtype:"bool"}),Mw={kernelName:r.IsInf,backendName:"webgl",kernelFunc:Dw},Fw=u_({opSnippet:"return float(isnan(x));",dtype:"bool"}),Lw={kernelName:r.IsNan,backendName:"webgl",kernelFunc:Fw},Pw=c_({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:Bg,dtype:"bool"}),zw={kernelName:r.Less,backendName:"webgl",kernelFunc:Pw},Bw=c_({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:Vg,dtype:"bool"}),Vw={kernelName:r.LessEqual,backendName:"webgl",kernelFunc:Bw};var Uw={kernelName:r.LinSpace,backendName:"webgl",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.num,o=Ug(r,a,i);return t.makeTensorInfo([o.length],"float32",o)}},Ww=u_({opSnippet:"if (isnan(x)) return x;\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:Wg}),Hw={kernelName:r.Log,backendName:"webgl",kernelFunc:Ww},Gw=u_({opSnippet:"if (isnan(x)) return x;\n  return log(1.0 + x);\n"}),$w={kernelName:r.Log1p,backendName:"webgl",kernelFunc:Gw},qw=c_({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),Kw={kernelName:r.LogicalAnd,backendName:"webgl",kernelFunc:qw},Xw=u_({opSnippet:"return float(!(x >= 1.0));"}),Yw={kernelName:r.LogicalNot,backendName:"webgl",kernelFunc:Xw},Zw=c_({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),Qw={kernelName:r.LogicalOr,backendName:"webgl",kernelFunc:Zw},Jw=function e(t,n,r,a,i){Object(Zr.a)(this,e),this.variableNames=["x"],this.outputShape=[];var o,s=n,u=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(a,") * sum");o=.5===i?"inversesqrt(".concat(c,")"):1===i?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(i,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(s,"; j <= ").concat(s,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(u,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(o,";\n        setOutput(val);\n      }\n    ")},eO=function e(t,n,r,a,i){Object(Zr.a)(this,e),this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,s=n,u=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(a,") * sum");o=.5===i?"inversesqrt(".concat(c,")"):1===i?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(i,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(s,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(s,"; j <= ").concat(s,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(u,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(o,";\n        setOutput(result);\n      }\n    ")},tO={kernelName:r.LRN,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.depthRadius,s=a.bias,u=a.alpha,c=a.beta,l=Object(r.env)().getBool("WEBGL_PACK_NORMALIZATION")?new eO(i.shape,o,s,u,c):new Jw(i.shape,o,s,u,c);return n.runWebGLProgram(l,[i],i.dtype)}},nO=function e(t,n,r,a,i){Object(Zr.a)(this,e),this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=a,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(n,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(n," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(a,") * norm + float(").concat(r,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(a,")\n                * float(").concat(i,")\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(i,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")},rO={kernelName:r.LRNGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.y,o=t.dy,s=r.depthRadius,u=r.bias,c=r.alpha,l=r.beta,d=new nO(a.shape,s,u,c,l);return n.runWebGLProgram(d,[a,i,o],a.dtype)}};function aO(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.x,s=i.reductionIndices,u=i.keepDims,c=o.shape.length,l=r.util.parseAxisParam(s,o.shape),d=l,p=r.backend_util.getAxesPermutation(d,c),f=null!=p,h=n.shouldExecuteOnCPU([o]),m=o;if(f){if(h){for(var v=n.texData.get(m.dataId).values,b=new Array(c),g=0;g<b.length;g++)b[g]=o.shape[p[g]];var y=gy(v,o.shape,o.dtype,p,b);m=n.makeTensorInfo(b,o.dtype),n.texData.get(m.dataId).values=y}else m=O_(o,p,n);d=r.backend_util.getInnerMostAxes(d.length,c)}r.backend_util.assertAxesAreInnerMostDims("max",d,c);var _,x=r.backend_util.computeOutAndReduceShapes(m.shape,d),k=Object(a.a)(x,2),w=k[0],O=k[1],j=w;if(u&&(j=r.backend_util.expandShapeToKeepDim(w,l)),h){var S=n.texData.get(m.dataId).values,C=Hg(S,r.util.sizeFromShape(O),j,o.dtype);_=n.makeTensorInfo(j,o.dtype),n.texData.get(_.dataId).values=C}else _=function(e,t,n,a){var i=r.util.sizeFromShape(t),o=b_({inputs:{x:e},attrs:{shape:[r.util.sizeFromShape(e.shape)/i,i]},backend:a}),s=x_(o,e.dtype,"max",a),u=b_({inputs:{x:s},attrs:{shape:n},backend:a});return a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(s),u}(m,O,j,n);return f&&n.disposeIntermediateTensorInfo(m),_}var iO={kernelName:r.Max,backendName:"webgl",kernelFunc:aO},oO=c_({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  \n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:Gg}),sO={kernelName:r.Maximum,backendName:"webgl",kernelFunc:oO};var uO={kernelName:r.MaxPool,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x;Db(i,"maxPool");var o=a.filterSize,s=a.strides,u=a.pad,c=a.dimRoundingMode;r.util.assert(r.backend_util.eitherStridesOrDilationsAreOne(s,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")}));var l=r.backend_util.computePool2DInfo(i.shape,o,s,1,u,c);if(1===l.filterWidth&&1===l.filterHeight&&r.util.arraysEqual(l.inShape,l.outShape))return Qy({inputs:{x:i},backend:n});var d=new sx(l,"max",!1);return n.runWebGLProgram(d,[i],i.dtype)}};var cO={kernelName:r.MaxPool3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.filterSize,s=a.strides,u=a.pad,c=a.dataFormat,l=a.dimRoundingMode,d=r.backend_util.computePool3DInfo(i.shape,o,s,[1,1,1],u,l,c),p=new ux(d,"max",!1);return n.runWebGLProgram(p,[i],i.dtype)}},lO=function e(t){Object(Zr.a)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideHeight,r=t.strideWidth,a=t.dilationHeight,i=t.effectiveFilterHeight,o=t.effectiveFilterWidth,s=i-1-t.padInfo.top,u=o-1-t.padInfo.left,c=i*o-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(i,";\n          wR += ").concat(a,") {\n          float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(o,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(c," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(o," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},dO=function e(t){Object(Zr.a)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.dilationDepth,o=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,l=t.effectiveFilterWidth,d=u-1-t.padInfo.front,p=c-1-t.padInfo.top,f=l-1-t.padInfo.left,h=u*c*l-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(d,", ").concat(p,", ").concat(f,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(u,";\n           wD += ").concat(i,") {\n          float dyD = float(dyDCorner + wD) / ").concat(n,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(c,";\n              wR += ").concat(o,") {\n            float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(l,";\n                wC += ").concat(s,") {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(h," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(c," * ").concat(l," +\n                  wR * ").concat(l," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")};var pO={kernelName:r.MaxPool3DGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.dy,o=t.input,s=a.filterSize,u=a.strides,c=a.pad,l=a.dimRoundingMode,d=r.backend_util.computePool3DInfo(o.shape,s,u,[1,1,1],c,l),p=new ux(d,"max",!0),f=n.runWebGLProgram(p,[o],o.dtype),h=new dO(d),m=n.runWebGLProgram(h,[i,f],o.dtype);return n.disposeIntermediateTensorInfo(f),m}};var fO={kernelName:r.MaxPoolGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.dy,o=t.input,s=o;Db([o,t.output],"maxPoolGrad");var u=a.filterSize,c=a.strides,l=a.pad,d=a.dimRoundingMode,p=r.backend_util.computePool2DInfo(s.shape,u,c,1,l,d),f=new sx(p,"max",!0),h=n.runWebGLProgram(f,[s],s.dtype),m=new lO(p),v=n.runWebGLProgram(m,[i,h],s.dtype);return n.disposeIntermediateTensorInfo(h),v}};var hO={kernelName:r.MaxPoolWithArgmax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,i=e.backend,o=t.x,s=n.filterSize,u=n.strides,c=n.pad,l=n.includeBatchInIndex,d=i;r.util.assert(4===o.shape.length,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(o.shape.length,".")}));var p=[1,1];r.util.assert(r.backend_util.eitherStridesOrDilationsAreOne(u,p),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(u," and dilations '").concat(p,"'")}));var f=r.backend_util.computePool2DInfo(o.shape,s,u,p,c),h=function(e,t,n,r){var a=new sx(n,"max",!1),i=r.runWebGLProgram(a,[e],"float32");return a=new sx(n,"max",!0,!0,t),[i,r.runWebGLProgram(a,[e],"float32")]}(o,l,f,d),m=Object(a.a)(h,2);return[m[0],m[1]]}};var mO={kernelName:r.Mean,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,i=e.backend,o=t.x,s=n.keepDims,u=n.axis,c=i,l=o.shape.length,d=r.util.parseAxisParam(u,o.shape),p=d,f=r.backend_util.getAxesPermutation(p,l),h=null!=f,m=c.shouldExecuteOnCPU([o]),v=[],b=o;if(h){if(m){for(var g=c.texData.get(b.dataId).values,y=new Array(l),_=0;_<y.length;_++)y[_]=o.shape[f[_]];var x=gy(g,o.shape,o.dtype,f,y);b=c.makeTensorInfo(y,o.dtype),c.texData.get(b.dataId).values=x}else b=O_(o,f,c);v.push(b),p=r.backend_util.getInnerMostAxes(p.length,l)}r.backend_util.assertAxesAreInnerMostDims("sum",p,l);var k=r.backend_util.computeOutAndReduceShapes(b.shape,p),w=Object(a.a)(k,2),O=w[0],j=w[1],S=O;s&&(S=r.backend_util.expandShapeToKeepDim(O,d));for(var C=function(e,t,n,a){var i=r.util.sizeFromShape(t),o=b_({inputs:{x:e},attrs:{shape:[r.util.sizeFromShape(e.shape)/i,i]},backend:a}),s=x_(o,"float32","mean",a),u=b_({inputs:{x:s},attrs:{shape:n},backend:a});return a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(s),u}(b,j,S,c),T=0,N=v;T<N.length;T++){var E=N[T];c.disposeIntermediateTensorInfo(E)}return C}};var vO={kernelName:r.Min,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.x,s=i.axis,u=i.keepDims,c=o.shape.length,l=r.util.parseAxisParam(s,o.shape),d=l,p=r.backend_util.getAxesPermutation(d,c),f=o;null!=p&&(f=C_({inputs:{x:o},backend:n,attrs:{perm:p}}),d=r.backend_util.getInnerMostAxes(d.length,o.shape.length)),r.backend_util.assertAxesAreInnerMostDims("min",d,c);var h,m=r.backend_util.computeOutAndReduceShapes(f.shape,d),v=Object(a.a)(m,2),b=v[0],g=v[1],y=b_({inputs:{x:f},backend:n,attrs:{shape:[-1,r.util.sizeFromShape(g)]}}),_=x_(y,y.dtype,"min",n);return h=b_(u?{inputs:{x:_},backend:n,attrs:{shape:r.backend_util.expandShapeToKeepDim(b,l)}}:{inputs:{x:_},backend:n,attrs:{shape:b}}),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(_),null!=p&&n.disposeIntermediateTensorInfo(f),h}},bO=c_({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  \n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:$g}),gO={kernelName:r.Minimum,backendName:"webgl",kernelFunc:bO},yO=function e(t,n,r){Object(Zr.a)(this,e),this.variableNames=["x"],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=Qb(a),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),c="reflect"===r?0:1;this.userCode=1!==a?"\n      ".concat(i," start = ").concat(i,"(").concat(o,");\n      ").concat(i," end = ").concat(i,"(").concat(s,");\n\n      void main() {\n        ").concat(i," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(a,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(c,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(c,";\n          }\n        }\n        ").concat(i," coords = outC - start;\n        setOutput(getX(").concat(u,"));\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(c,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(c,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")},_O=function e(t,n,r){Object(Zr.a)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=Qb(a),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=xy("rc",a),c=xy("source",a),l="".concat(u[a-1]," < ").concat(this.outputShape[a-1]),d=1===a?"source":"vec2(".concat(c.slice(-2).join(),")"),p="reflect"===r?0:1,f="";if(1===a){var h="\n        ".concat(i," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(p,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(p,";\n        }\n        source -= start;\n      ");f="\n        ".concat(i," rc = outputLoc;\n        ").concat(h,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        ").concat(u[a-1]," += 1;\n        if(").concat(l,") {\n          ").concat(h,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n      ")}else{var m="\n        ".concat(i," source = rc;\n        ").concat(i," lt = ").concat(i,"(lessThan(source, start));\n        ").concat(i," gte = ").concat(i,"(greaterThanEqual(source, end));\n        ").concat(i," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(p,") +\n                gte * ((end - 1) * 2 - source + ").concat(p,");\n        source -= start;\n      ");f="\n        ".concat(i," rc = outputLoc;\n        ").concat(m,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        ").concat(u[a-1]," += 1;\n        if(").concat(l,") {\n          ").concat(m,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n        rc = outputLoc;\n        ").concat(u[a-2]," += 1;\n        if(").concat(u[a-2]," < ").concat(this.outputShape[a-2],") {\n          ").concat(m,"\n          result[2] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n          ").concat(u[a-1]," += 1;\n          if(").concat(l,") {\n            ").concat(m,"\n            result[3] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(i," start = ").concat(i,"(").concat(o,");\n      const ").concat(i," end = ").concat(i,"(").concat(s,");\n\n      void main() {\n        ").concat(i," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(f,"\n        setOutput(result);\n      }\n    ")},xO={kernelName:r.MirrorPad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.paddings,s=a.mode,u=Object(r.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new _O(i.shape,o,s):new yO(i.shape,o,s);return n.runWebGLProgram(u,[i],i.dtype)}},kO=c_({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  \n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n\n  return result;\n"}),wO={kernelName:r.Mod,backendName:"webgl",kernelFunc:kO},OO=function e(t,n,r){Object(Zr.a)(this,e),this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(n-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(n-1,"));\n      }\n    ")},jO=c_({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),SO={kernelName:r.RealDiv,backendName:"webgl",kernelFunc:jO},CO="return a - b;",TO=c_({opSnippet:CO,packedOpSnippet:CO,supportsComplex:!0,cpuKernelImpl:my}),NO={kernelName:r.Sub,backendName:"webgl",kernelFunc:TO};function EO(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.logits,o=a.dim,s=r.util.parseAxisParam([o],i.shape),u=aO({inputs:{x:i},backend:n,attrs:{reductionIndices:s,keepDims:!1}}),c=r.backend_util.expandShapeToKeepDim(u.shape,s),l=b_({inputs:{x:u},backend:n,attrs:{shape:c}}),d=TO({inputs:{a:i,b:l},backend:n}),p=Xk({inputs:{x:d},backend:n}),f=j_({inputs:{x:p},backend:n,attrs:{axis:s,keepDims:!1}}),h=b_({inputs:{x:f},backend:n,attrs:{shape:c}}),m=jO({inputs:{a:p,b:h},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),m}var IO={kernelName:r.Softmax,backendName:"webgl",kernelFunc:EO};var AO={kernelName:r.Multinomial,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.numSamples,o=r.seed,s=r.normalized,u=s?a:EO({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),c=u.shape[0],l=u.shape[1],d=new OO(c,l,i),p=[[o]],f=n.runWebGLProgram(d,[u],"int32",p);return s||n.disposeIntermediateTensorInfo(u),f}},RO=Ny+"\n  return -x;\n",DO="\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n";var MO={kernelName:r.Neg,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,i=e.backend,o=n.x;if(i.shouldExecuteOnCPU([o])){var s=i.texData.get(o.dataId),u=Kg(s.values,o.shape,o.dtype),c=Object(a.a)(u,2),l=c[0],d=c[1];return i.makeTensorInfo(d,o.dtype,l)}return t=Object(r.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Uy(o.shape,DO):new Ty(o.shape,RO),i.runWebGLProgram(t,[o],o.dtype)}},FO=r.kernel_impls.nonMaxSuppressionV3Impl;var LO={kernelName:r.NonMaxSuppressionV3,backendName:"webgl",kernelFunc:function(e){r.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,a=e.attrs,i=t.boxes,o=t.scores,s=a.maxOutputSize,u=a.iouThreshold,c=a.scoreThreshold,l=n.readSync(i.dataId),d=n.readSync(o.dataId),p=FO(l,d,s,u,c).selectedIndices;return n.makeTensorInfo([p.length],"int32",new Int32Array(p))}},PO=r.kernel_impls.nonMaxSuppressionV4Impl;var zO={kernelName:r.NonMaxSuppressionV4,backendName:"webgl",kernelFunc:function(e){r.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,a=e.attrs,i=t.boxes,o=t.scores,s=a.maxOutputSize,u=a.iouThreshold,c=a.scoreThreshold,l=a.padToMaxOutputSize,d=n.readSync(i.dataId),p=n.readSync(o.dataId),f=PO(d,p,s,u,c,l),h=f.selectedIndices,m=f.validOutputs;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}},BO=r.kernel_impls.nonMaxSuppressionV5Impl;var VO={kernelName:r.NonMaxSuppressionV5,backendName:"webgl",kernelFunc:function(e){r.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,a=e.attrs,i=t.boxes,o=t.scores,s=a.maxOutputSize,u=a.iouThreshold,c=a.scoreThreshold,l=a.softNmsSigma,d=n.readSync(i.dataId),p=n.readSync(o.dataId),f=BO(d,p,s,u,c,l),h=f.selectedIndices,m=f.selectedScores;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([m.length],"float32",new Float32Array(m))]}},UO=function e(t,n,r,a){Object(Zr.a)(this,e),this.variableNames=["indices"],this.outputShape=[t,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(a,"), float(").concat(r,"),\n                      float(index == coords.y)));\n      }\n    ")},WO={kernelName:r.OneHot,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.indices,o=a.dtype,s=a.depth,u=a.onValue,c=a.offValue,l=r.util.sizeFromShape(i.shape),d=new UO(l,s,u,c),p=b_({inputs:{x:i},backend:n,attrs:{shape:[l]}}),f=n.runWebGLProgram(d,[p],o);n.disposeIntermediateTensorInfo(p);var h=b_({inputs:{x:f},backend:n,attrs:{shape:[].concat(Object(Gn.a)(i.shape),[s])}});return n.disposeIntermediateTensorInfo(f),h}};function HO(e){var t=e.inputs,n=e.backend,r=t.x;if("complex64"===r.dtype){var a=Nx({inputs:{input:r},backend:n}),i=HO({inputs:{x:a},backend:n}),o=Gx({inputs:{input:r},backend:n}),s=HO({inputs:{x:o},backend:n}),u=e_({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}return ow({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}var GO={kernelName:r.ZerosLike,backendName:"webgl",kernelFunc:HO};var $O={kernelName:r.OnesLike,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===a.dtype){var i=Nx({inputs:{input:a},backend:r}),o=e({inputs:{x:i},backend:r}),s=Gx({inputs:{input:a},backend:r}),u=HO({inputs:{x:s},backend:r}),c=e_({inputs:{real:o,imag:u},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),c}return ow({attrs:{shape:a.shape,dtype:a.dtype,value:1},backend:r})}};var qO={kernelName:r.Pack,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs.axis;if(1===t.length)return Zk({inputs:{input:t[0]},backend:n,attrs:{dim:a}});var i=t[0].shape,o=t[0].dtype;t.forEach((function(e){r.util.assertShapesMatch(i,e.shape,"All tensors passed to stack must have matching shapes"),r.util.assert(o===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var s=[],u=Kx({inputs:t.map((function(e){var t=Zk({inputs:{input:e},backend:n,attrs:{dim:a}});return s.push(t),t})),backend:n,attrs:{axis:a}});return s.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),u}},KO=function e(t,n,r){Object(Zr.a)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=Qb(a),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);this.userCode=1!==a?"\n      ".concat(i," start = ").concat(i,"(").concat(o,");\n      ").concat(i," end = ").concat(i,"(").concat(s,");\n\n      void main() {\n        ").concat(i," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(i," coords = outC - start;\n          setOutput(getX(").concat(u,"));\n        }\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")},XO=function e(t,n,r){Object(Zr.a)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));for(var a=t.length,i=Qb(a),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=xy("rc",a),c=xy("source",a),l="".concat(u[a-1]," < ").concat(this.outputShape[a-1]),d=1===a?"source":"vec2(".concat(c.slice(-2).join(),")"),p=["".concat(i," rc = outputLoc;"),"".concat(u[a-1]," += 1;\n       if(").concat(l,") {\n      "),1===a?"":"}\n       rc = outputLoc;\n       ".concat(u[a-2]," += 1;\n       if(").concat(u[a-2]," < ").concat(this.outputShape[a-2],") {"),1===a?"":"  ".concat(u[a-1]," += 1;\n         if(").concat(l,") {")],f=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",h="",m=0,v=1===a?2:4;m<v;m++)h+="\n        ".concat(p[m],"\n        if (").concat(f,") {\n          result[").concat(m,"] = float(value);\n        } else {\n          ").concat(i," source = rc - start;\n          result[").concat(m,"] = getChannel(getX(").concat(c.join(),"), ").concat(d,");\n        }\n      ");h+=1===a?"} ":"}}",this.userCode="\n      const ".concat(i," start = ").concat(i,"(").concat(o,");\n      const ").concat(i," end = ").concat(i,"(").concat(s,");\n\n      void main() {\n        ").concat(i," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(h,"\n        setOutput(result);\n      }\n    ")},YO=function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.paddings,s=a.constantValue;if(0===r.util.sizeFromShape(i.shape))return ow({backend:n,attrs:{shape:o.map((function(e,t){return e[0]+i.shape[t]+e[1]})),value:s,dtype:i.dtype}});var u=Object(r.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new XO(i.shape,o,s):new KO(i.shape,o,s),c=[[s]];return n.runWebGLProgram(u,[i],i.dtype,c)},ZO={kernelName:r.PadV2,backendName:"webgl",kernelFunc:YO},QO=c_({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  \n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n\n  return result;\n"}),JO={kernelName:r.Pow,backendName:"webgl",kernelFunc:QO};var ej={kernelName:r.Prod,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,i=e.backend,o=e.attrs,s=n.x,u=o.axis,c=o.keepDims,l=s.shape.length,d=[],p=r.util.parseAxisParam(u,s.shape),f=p,h=r.backend_util.getAxesPermutation(f,l),m=s;if(null!=h&&(m=C_({inputs:{x:s},backend:i,attrs:{perm:h}}),f=r.backend_util.getInnerMostAxes(f.length,l),d.push(m)),r.backend_util.assertAxesAreInnerMostDims("prod",f,l),i.shouldExecuteOnCPU([m])){var v=i.texData.get(m.dataId).values,b=Yg(m.shape,m.dtype,v,f),g=b.outVals,y=b.outShape,_=b.outDtype;t=i.makeTensorInfo(y,_,g)}else{var x=r.backend_util.computeOutAndReduceShapes(m.shape,f),k=Object(a.a)(x,2),w=k[0],O=k[1],j=r.util.sizeFromShape(O),S=b_({inputs:{x:m},backend:i,attrs:{shape:[-1,j]}}),C=x_(S,Object(r.sumOutType)(s.dtype),"prod",i);t=b_({inputs:{x:C},backend:i,attrs:{shape:w}}),d.push(S),d.push(C)}if(c){d.push(t);var T=r.backend_util.expandShapeToKeepDim(t.shape,p);t=b_({inputs:{x:t},backend:i,attrs:{shape:T}})}return d.forEach((function(e){return i.disposeIntermediateTensorInfo(e)})),t}};var tj={kernelName:r.RaggedGather,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.paramsNestedSplits,o=t.paramsDenseValues,s=t.indices,u=r.outputRaggedRank,c=i.map((function(e){return n.readSync(e.dataId)})),l=i.map((function(e){return e.shape})),d=n.readSync(o.dataId),p=n.readSync(s.dataId),f=Zg(c,l,d,o.shape,o.dtype,p,s.shape,u),h=Object(a.a)(f,3),m=h[0],v=h[1],b=h[2],g=m.map((function(e){return n.makeTensorInfo([e.length],"int32",e)})),y=n.makeTensorInfo(b,o.dtype,v);return g.concat([y])}};var nj={kernelName:r.RaggedRange,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.starts,i=t.limits,o=t.deltas,s=n.readSync(r.dataId),u=n.readSync(i.dataId),c=n.readSync(o.dataId),l=Qg(s,r.shape,r.dtype,u,i.shape,c,o.shape),d=Object(a.a)(l,2),p=d[0],f=d[1];return[n.makeTensorInfo([p.length],"int32",p),n.makeTensorInfo([f.length],r.dtype,f)]}};var rj={kernelName:r.RaggedTensorToTensor,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.shape,o=t.values,s=t.defaultValue,u=t.rowPartitionTensors,c=r.rowPartitionTypes,l=n.readSync(i.dataId),d=n.readSync(o.dataId),p=n.readSync(s.dataId),f=u.map((function(e){return n.readSync(e.dataId)})),h=u.map((function(e){return e.shape})),m=Jg(l,i.shape,d,o.shape,o.dtype,p,s.shape,f,h,c),v=Object(a.a)(m,2),b=v[0],g=v[1];return n.makeTensorInfo(b,o.dtype,g)}},aj=function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.step,o=n.dtype,s=ey(r,a,i,o);return t.makeTensorInfo([s.length],o,s)},ij={kernelName:r.Range,backendName:"webgl",kernelFunc:aj},oj=u_({opSnippet:"return 1.0 / x;"}),sj={kernelName:r.Reciprocal,backendName:"webgl",kernelFunc:oj},uj=u_({opSnippet:Ny+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),cj={kernelName:r.Relu,backendName:"webgl",kernelFunc:uj},lj=u_({opSnippet:Ny+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),dj={kernelName:r.Relu6,backendName:"webgl",kernelFunc:lj},pj=function e(t,n,r,i,o){Object(Zr.a)(this,e),this.variableNames=["A"],this.outputShape=[];var s=Object(a.a)(t,4),u=s[0],c=s[1],l=s[2],d=s[3];this.outputShape=[u,n,r,d];var p,f=[i&&n>1?c-1:c,i&&r>1?l-1:l],h=[i&&n>1?n-1:n,i&&r>1?r-1:r];p=o?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(f[0]/h[0],",\n          ").concat(f[1]/h[1],");\n      const vec2 inputShapeRC = vec2(").concat(c,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")},fj=function e(t,n,r,i,o){Object(Zr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var s=Object(a.a)(t,4),u=s[0],c=s[1],l=s[2],d=s[3];this.outputShape=[u,n,r,d];var p,f=[i&&n>1?c-1:c,i&&r>1?l-1:l],h=[i&&n>1?n-1:n,i&&r>1?r-1:r];p=o?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(f[0]/h[0],",\n          ").concat(f[1]/h[1],",\n          ").concat(f[1]/h[1],");\n      const vec3 inputShapeRC = vec3(").concat(c,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(d-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")};var hj={kernelName:r.ResizeBilinear,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.images,s=i.alignCorners,u=i.halfPixelCenters,c=i.size,l=Object(a.a)(c,2),d=l[0],p=l[1],f=Object(r.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new fj(o.shape,d,p,s,u):new pj(o.shape,d,p,s,u);return n.runWebGLProgram(f,[o],"float32")}},mj=function e(t,n,r){Object(Zr.a)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var i=Object(a.a)(n,3),o=i[1],s=i[2],u=Object(a.a)(t,3),c=u[1],l=u[2],d=[r&&c>1?o-1:o,r&&l>1?s-1:s],p=[r&&c>1?c-1:c,r&&l>1?l-1:l],f=d[0]/p[0],h=d[1]/p[1],m=1/f,v=1/h,b=2*Math.ceil(m)+2,g=2*Math.ceil(v)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(f,");\n        const float widthScale = float(").concat(h,");\n\n        const float invHeightScale = float(").concat(m,");\n        const float invWidthScale = float(").concat(v,");\n\n        const int winHeight = int(").concat(b,");\n        const int winWidth = int(").concat(g,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(c,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(o-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(s-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")};var vj={kernelName:r.ResizeBilinearGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,o=r.alignCorners,s=new mj(i.shape,a.shape,o);return n.runWebGLProgram(s,[i],i.dtype)}},bj=function e(t,n,r,i,o){Object(Zr.a)(this,e),this.variableNames=["A"],this.outputShape=[];var s=Object(a.a)(t,4),u=s[0],c=s[1],l=s[2],d=s[3];this.outputShape=[u,n,r,d];var p,f=[i&&n>1?c-1:c,i&&r>1?l-1:l],h=[i&&n>1?n-1:n,i&&r>1?r-1:r],m=i?"0.5":"0.0";p=o?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(f[0]/h[0],",\n          ").concat(f[1]/h[1],");\n      const vec2 inputShapeRC = vec2(").concat(c,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(m,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")},gj=function e(t,n,r,i,o){Object(Zr.a)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var s=Object(a.a)(t,4),u=s[0],c=s[1],l=s[2],d=s[3];this.outputShape=[u,n,r,d];var p,f=[i&&n>1?c-1:c,i&&r>1?l-1:l],h=[i&&n>1?n-1:n,i&&r>1?r-1:r],m=i?"0.5":"0.0";p=o?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(f[0]/h[0],",\n          ").concat(f[1]/h[1],",\n          ").concat(f[1]/h[1],");\n      const vec3 inputShapeRC = vec3(").concat(c,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(m,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(d-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")};var yj={kernelName:r.ResizeNearestNeighbor,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.images,s=i.alignCorners,u=i.halfPixelCenters,c=i.size,l=Object(a.a)(c,2),d=l[0],p=l[1],f=Object(r.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new gj(o.shape,d,p,s,u):new bj(o.shape,d,p,s,u);return n.runWebGLProgram(f,[o],o.dtype)}},_j=function e(t,n,r){Object(Zr.a)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var i=Object(a.a)(n,3),o=i[1],s=i[2],u=Object(a.a)(t,3),c=u[1],l=u[2],d=[r&&c>1?o-1:o,r&&l>1?s-1:s],p=[r&&c>1?c-1:c,r&&l>1?l-1:l],f=d[0]/p[0],h=d[1]/p[1],m=1/f,v=1/h,b=2*Math.ceil(m)+2,g=2*Math.ceil(v)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(f,");\n        const float widthScale = float(").concat(h,");\n\n        const float invHeightScale = float(").concat(m,");\n        const float invWidthScale = float(").concat(v,");\n\n        const int winHeight = int(").concat(b,");\n        const int winWidth = int(").concat(g,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(c,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(d[0],") *\n                (float(dyR) / float(").concat(p[0],"));\n\n            float sourceFracCol =\n                float(").concat(d[1],") *\n                  (float(dyC) / float(").concat(p[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(o,") - 1),\n                ").concat(r," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(s,") - 1),\n                ").concat(r," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")};var xj={kernelName:r.ResizeNearestNeighborGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,o=r.alignCorners,s=new _j(i.shape,a.shape,o);return n.runWebGLProgram(s,[i],i.dtype)}},kj=function e(t,n){Object(Zr.a)(this,e),this.variableNames=["x"];var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));if(this.outputShape=t,1!==r){var a=t.map((function(e,r){return function(e){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - coords[").concat(e,"] - 1"):"coords[".concat(e,"]")}(r)})).join(","),i=Qb(r);this.userCode="\n      void main() {\n        ".concat(i," coords = getOutputCoords();\n        setOutput(getX(").concat(a,"));\n      }\n    ")}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(t[0]," - coord - 1));\n        }\n      ")},wj=function e(t,n){Object(Zr.a)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));this.outputShape=t;var a=xy("rc",r),i="".concat(a[r-1]," + 1 < ").concat(this.outputShape[r-1]),o="".concat(a[r-2]," + 1 < ").concat(this.outputShape[r-2]),s=Qb(r);function u(e){var r=t.map((function(r,a){return function(e,r){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - ").concat(r[e]," - 1"):"".concat(r[e])}(a,e)})),a=r.join(","),i=r.slice(-2).join(",");return"getChannel(getX(".concat(a,"), vec2(").concat(i,"))")}this.userCode=1===r?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(t[0]," - rc - 1),\n            ").concat(t[0]," - rc - 1);\n          if(").concat(i,"){\n              result.g = getChannel(getX(").concat(t[0]," - (rc  + 1) - 1),\n                ").concat(t[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(s," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return u(e)}(a.slice()),";\n          if(").concat(i,"){\n            result.g = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",u(e)}(a.slice()),";\n          }\n          if(").concat(o,") {\n            result.b = ").concat(function(e){return e[r-2]="("+e[r-2]+" + 1)",u(e)}(a.slice()),";\n            if(").concat(i,") {\n              result.a = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",e[r-2]="("+e[r-2]+" + 1)",u(e)}(a.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")};var Oj={kernelName:r.Reverse,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.dims,s=i.shape.length,u=r.util.parseAxisParam(o,i.shape);if(0===s)return Qy({inputs:{x:i},backend:n});var c=Object(r.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new wj(i.shape,u):new kj(i.shape,u);return n.runWebGLProgram(c,[i],i.dtype)}},jj=function e(t,n){Object(Zr.a)(this,e),this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];var r=t[1],a=t[2];this.outputShape=t;var i="";i="number"===typeof n?"float outputValue = ".concat(n.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(n.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(i,"\n          if(coordX >= 0 && coordX < ").concat(a," && coordY >= 0 && coordY < ").concat(r,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")},Sj={kernelName:r.RotateWithOffset,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,i=e.backend,o=t.image,s=n.radians,u=n.fillValue,c=n.center,l=i,d=new jj(o.shape,u),p=r.backend_util.getImageCenter(c,o.shape[1],o.shape[2]),f=Object(a.a)(p,2),h=[[f[0],f[1],Math.sin(s),Math.cos(s)]];return l.runWebGLProgram(d,[o],o.dtype,h)}},Cj=u_({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),Tj={kernelName:r.Round,backendName:"webgl",kernelFunc:Cj},Nj=u_({opSnippet:"return inversesqrt(x);",cpuKernelImpl:ty}),Ej={kernelName:r.Rsqrt,backendName:"webgl",kernelFunc:Nj},Ij=function e(t,n,r,a,i,o){!(arguments.length>6&&void 0!==arguments[6])||arguments[6];var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Object(Zr.a)(this,e),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var u=Qb(i.length),c=Qb(o.length),l="";1===r?l="i":2===r&&(l="i, j");var d="getIndices(".concat(l,")"),p="";1===a?p="i":2===a&&(p="i, coords[1]");var f="getUpdates(".concat(p,")"),h="";s&&(h="coords[0], coords[1]");var m="getDefaultValue(".concat(h,")"),v=n>1?"strides[j]":"strides";this.userCode="\n        ".concat(u," strides = ").concat(u,"(").concat(i,");\n\n        void main() {\n          ").concat(c," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(t,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(n,"; j++) {\n              int index = round(").concat(d,");\n              flattenedIndex += index * ").concat(v,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(f,";\n              found = true;\n            }\n          }\n          setOutput(mix(").concat(m,", sum, float(found)));\n        }\n      ")},Aj=function e(t,n,r,a,i,o){!(arguments.length>6&&void 0!==arguments[6])||arguments[6];var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Object(Zr.a)(this,e),this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=o;var u=Qb(i.length),c=Qb(o.length),l="";1===r?l="i":2===r&&(l="i, j");var d="getIndices(".concat(l,")"),p="";1===a?p="i":2===a&&(p="i, coords[1]");var f="getUpdates(".concat(p,")"),h="";s&&(h="coords[0], coords[1]");var m="getDefaultValue(".concat(h,")"),v=n>1?"strides[j]":"strides",b=n>1?"strides[j + 1]":"strides";this.userCode="\n        ".concat(u," strides = ").concat(u,"(").concat(i,");\n\n        void main() {\n          ").concat(c," coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ").concat(t,"; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ").concat(n,"; j+=2) {\n              ivec4 index = round(").concat(d,");\n              flattenedIndex += index.xz * ").concat(v,";\n              if (j + 1 < ").concat(n,") {\n                flattenedIndex += index.yw * ").concat(b,";\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = ").concat(f,";\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(").concat(m,", sum, found));\n        }\n      ")};var Rj={kernelName:r.ScatterNd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.indices,o=t.updates,s=a.shape,u=r.backend_util.calculateShapes(o,i,s),c=u.sliceRank,l=u.numUpdates,d=u.sliceSize,p=u.strides,f=u.outputSize,h=[f/d,d];if(0===f)return n.makeTensorInfo(s,i.dtype);var m,v=b_({inputs:{x:i},backend:n,attrs:{shape:[l,c]}}),b=b_({inputs:{x:o},backend:n,attrs:{shape:[l,d]}}),g=n.makeTensorInfo([],"float32",new Float32Array([0]));m=Object(r.env)().getBool("WEBGL_PACK")?new Aj(l,c,v.shape.length,b.shape.length,p,h):new Ij(l,c,v.shape.length,b.shape.length,p,h);var y=n.runWebGLProgram(m,[b,v,g],b.dtype),_=b_({inputs:{x:y},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(g),_}},Dj=function e(t,n,a,i){Object(Zr.a)(this,e),this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,a];var o="for (int i = 0; i < ".concat(Math.ceil(Math.log2(n+1)),"; ++i) { if (left >= right) break;"),s=2===Object(r.env)().getNumber("WEBGL_VERSION")?"while (left < right) {":o,u="left"===i?"<":"<=";this.userCode="\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ".concat(s,"\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ").concat(u," value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     ")};var Mj={kernelName:r.SearchSorted,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sortedSequence,i=t.values,o=r.side,s=new Dj(a.shape[0],a.shape[1],i.shape[1],o),u=[[a.shape[1]]];return n.runWebGLProgram(s,[a,i],"int32",u)}},Fj=function e(t,n,r){var a,i;if(Object(Zr.a)(this,e),this.variableNames=["c","a","b"],this.outputShape=n,r>4)throw Error("Where for rank ".concat(r," is not yet supported"));if(1===r)i="resRC",a="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],u=[],c=0;c<n.length;c++)u.push("".concat(o[c])),c<t&&s.push("".concat(o[c]));a=s.join(),i=u.join()}var l=Qb(r);this.userCode="\n      void main() {\n        ".concat(l," resRC = getOutputCoords();\n        float cVal = getC(").concat(a,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(i,"));\n        } else {\n          setOutput(getB(").concat(i,"));\n        }\n      }\n    ")};var Lj={kernelName:r.Select,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=t.condition,i=t.t,o=t.e,s=new Fj(a.shape.length,i.shape,i.shape.length);return n.runWebGLProgram(s,[a,i,o],Object(r.upcastType)(i.dtype,o.dtype))}},Pj=u_({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(r.backend_util.SELU_SCALEALPHA,";\n  float scale = ").concat(r.backend_util.SELU_SCALE,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),zj={kernelName:r.Selu,backendName:"webgl",kernelFunc:Pj},Bj=u_({opSnippet:"if (isnan(x)) return x;\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:ry}),Vj={kernelName:r.Sigmoid,backendName:"webgl",kernelFunc:Bj},Uj=u_({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),Wj={kernelName:r.Sign,backendName:"webgl",kernelFunc:Uj},Hj=u_({opSnippet:"if (isnan(x)) return x;\n  return sin(x);\n",packedOpSnippet:"\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(Yy,"\n  return result;\n")}),Gj={kernelName:r.Sin,backendName:"webgl",kernelFunc:Hj},$j=u_({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),qj={kernelName:r.Sinh,backendName:"webgl",kernelFunc:$j},Kj=u_({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),Xj={kernelName:r.Softplus,backendName:"webgl",kernelFunc:Kj},Yj={kernelName:r.SpaceToBatchND,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.blockShape,s=a.paddings;r.util.assert(i.shape.length<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var u=o.reduce((function(e,t){return e*t})),c=[[0,0]];c.push.apply(c,Object(Gn.a)(s));for(var l=1+o.length;l<i.shape.length;++l)c.push([0,0]);var d=[],p=YO({inputs:{x:i},backend:n,attrs:{paddings:c,constantValue:0}}),f=r.backend_util.getReshaped(p.shape,o,u,!1),h=r.backend_util.getPermuted(f.length,o.length,!1),m=r.backend_util.getReshapedPermuted(p.shape,o,u,!1),v=b_({inputs:{x:p},backend:n,attrs:{shape:f}}),b=C_({inputs:{x:v},backend:n,attrs:{perm:h}}),g=b_({inputs:{x:b},backend:n,attrs:{shape:m}});return d.push(p),d.push(v),d.push(b),d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}};var Zj={kernelName:r.SparseFillEmptyRows,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,i=t.values,o=t.denseShape,s=t.defaultValue;if(1!==o.shape.length)throw new Error("Dense shape must be a vector, saw:\n         ".concat(o.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n         ".concat(r.shape));if(1!==i.shape.length)throw new Error("Values must be a vector, saw:\n         ".concat(i.shape));if(0!==s.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(s.shape));var u=n.readSync(r.dataId),c=n.readSync(i.dataId),l=n.readSync(o.dataId),d=n.readSync(s.dataId)[0],p=oy(u,r.shape,r.dtype,c,i.dtype,l,d),f=Object(a.a)(p,5),h=f[0],m=f[1],v=f[2],b=f[3],g=f[4];return[n.makeTensorInfo(m,r.dtype,h),n.makeTensorInfo([m[0]],i.dtype,v),n.makeTensorInfo([b.length],"bool",new Uint8Array(b.map((function(e){return Number(e)})))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}};var Qj={kernelName:r.SparseReshape,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,i=t.inputShape,o=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape ".concat(r.shape));if(1!==i.shape.length)throw new Error("Input shape should be a vector but received shape ".concat(i.shape));if(1!==o.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));var s=Array.from(n.readSync(i.dataId)),u=n.readSync(r.dataId),c=Array.from(n.readSync(o.dataId)),l=sy(u,r.shape,r.dtype,s,c),d=Object(a.a)(l,3),p=d[0],f=d[1],h=d[2];return[n.makeTensorInfo(f,r.dtype,p),n.makeTensorInfo([h.length],o.dtype,new Int32Array(h))]}};var Jj={kernelName:r.SparseSegmentMean,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,o=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n              ".concat(i.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n              ".concat(o.shape));var s=n.readSync(r.dataId),u=n.readSync(i.dataId),c=n.readSync(o.dataId),l=uy(s,r.shape,r.dtype,u,c,!0),d=Object(a.a)(l,2),p=d[0],f=d[1];return n.makeTensorInfo(f,r.dtype,p)}};var eS={kernelName:r.SparseSegmentSum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,o=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n             ".concat(i.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n             ".concat(o.shape));var s=n.readSync(r.dataId),u=n.readSync(i.dataId),c=n.readSync(o.dataId),l=uy(s,r.shape,r.dtype,u,c),d=Object(a.a)(l,2),p=d[0],f=d[1];return n.makeTensorInfo(f,r.dtype,p)}};var tS={kernelName:r.SparseToDense,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.sparseIndices,o=t.sparseValues,s=t.defaultValue,u=a.outputShape,c=r.backend_util.calculateShapes(o,i,u),l=c.sliceRank,d=c.numUpdates,p=c.sliceSize,f=c.strides,h=c.outputSize;if("string"===o.dtype){var m=n.bufferSync(i),v=n.bufferSync(o),b=r.util.decodeString(n.readSync(s.dataId)[0]),g=ny(m,v,u,h,p,d,l,f,b,!1);return n.makeTensorInfo(u,g.dtype,g.values)}var y=new Ij(d,l,i.shape.length,o.shape.length,f,[h,1],!1),_=n.runWebGLProgram(y,[o,i,s],o.dtype),x=b_({inputs:{x:_},backend:n,attrs:{shape:u}});return n.disposeIntermediateTensorInfo(_),x}};var nS={kernelName:r.SplitV,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.numOrSizeSplits,s=a.axis,u=r.util.parseAxisParam(s,i.shape)[0],c=r.backend_util.prepareSplitSize(i,o,u),l=i.shape.length,d=new Array(l).fill(0),p=i.shape.slice();return c.map((function(e){var t=Object(Gn.a)(p);t[u]=e;var r=kx({inputs:{x:i},backend:n,attrs:{begin:d,size:t}});return d[u]+=e,r}))}},rS="return sqrt(x);",aS=u_({opSnippet:rS,packedOpSnippet:rS,cpuKernelImpl:cy}),iS={kernelName:r.Sqrt,backendName:"webgl",kernelFunc:aS},oS=u_({opSnippet:"return x * x;"}),sS={kernelName:r.Square,backendName:"webgl",kernelFunc:oS},uS=c_({opSnippet:"return (a - b) * (a - b);",packedOpSnippet:"return (a - b) * (a - b);"}),cS={kernelName:r.SquaredDifference,backendName:"webgl",kernelFunc:uS};var lS={kernelName:r.StaticRegexReplace,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x;if("string"!==i.dtype)throw new Error("Input must be of datatype string");var o=n.readSync(i.dataId),s=r.backend_util.fromUint8ToStringArray(o),u=ly(s,"string",a);return n.makeTensorInfo(i.shape,"string",u)}};var dS={kernelName:r.Step,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=Ny+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),o=new Ty(a.shape,i);return r.runWebGLProgram(o,[a],a.dtype)}},pS=function e(t,n,r){Object(Zr.a)(this,e),this.variableNames=["x"],this.outputShape=r;var a=r.length,i=Qb(r.length),o=Qb(r.length),s="";if(1===a)s="coords * strides + begin";else{var u=0;s=r.map((function(e,t){return u++,1===r.length?"coords * strides[".concat(t,"] + begin[").concat(t,"]"):"coords[".concat(u-1,"] * strides[").concat(t,"] + begin[").concat(t,"]")})).join(",")}this.userCode="\n      ".concat(i," begin = ").concat(i,"(").concat(t,");\n      ").concat(i," strides = ").concat(i,"(").concat(n,");\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        setOutput(getX(").concat(s,"));\n      }\n    ")};var fS={kernelName:r.StridedSlice,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,a=e.backend,i=e.attrs,o=n.x,s=i.begin,u=i.end,c=i.strides,l=i.beginMask,d=i.endMask,p=i.ellipsisMask,f=i.newAxisMask,h=i.shrinkAxisMask,m=r.slice_util.sliceInfo(o.shape,s,u,c,l,d,p,f,h),v=m.finalShapeSparse,b=m.finalShape,g=m.isIdentity,y=m.sliceDim0,_=m.isSimpleSlice,x=m.begin,k=m.end,w=m.strides;if(g)t=b_({inputs:{x:o},backend:a,attrs:{shape:b}});else if(y||_){r.util.assert(o.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(o.shape.length)}));var O=r.slice_util.computeOutShape(x,k,w),j=kx({inputs:{x:o},backend:a,attrs:{begin:x,size:O}});t=b_({inputs:{x:j},backend:a,attrs:{shape:b}}),a.disposeIntermediateTensorInfo(j)}else{if(a.shouldExecuteOnCPU([o])){var S=a.readSync(o.dataId),C=Object(r.buffer)(o.shape,o.dtype,S),T=dy(v,C,w,x);t=a.makeTensorInfo(b,o.dtype,T.values)}else{var N=new pS(x,w,v);t=a.runWebGLProgram(N,[o],o.dtype)}}var E=b_({inputs:{x:t},backend:a,attrs:{shape:b}});return a.disposeIntermediateTensorInfo(t),E}};var hS={kernelName:r.StringNGrams,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=r.separator,o=r.nGramWidths,s=r.leftPad,u=r.rightPad,c=r.padWidth,l=r.preserveShortSequences,d=t.data,p=t.dataSplits,f=n.readSync(d.dataId),h=n.readSync(p.dataId),m=py(f,h,i,o,s,u,c,l),v=Object(a.a)(m,2),b=v[0],g=v[1];return[n.makeTensorInfo([b.length],"string",b),n.makeTensorInfo(p.shape,"int32",g)]}};var mS={kernelName:r.StringSplit,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,i=t.input,o=t.delimiter;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error("Input must be a vector, got shape: ".concat(i.shape));if(0!==o.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(o.shape));var s=n.readSync(i.dataId),u=n.readSync(o.dataId)[0],c=fy(s,u,r),l=Object(a.a)(c,3),d=l[0],p=l[1],f=l[2],h=p.length;return[n.makeTensorInfo([h,2],"int32",d),n.makeTensorInfo([h],"string",p),n.makeTensorInfo([2],"int32",new Int32Array(f))]}};var vS={kernelName:r.StringToHashBucketFast,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var i=n.readSync(a.dataId),o=hy(i,r);return n.makeTensorInfo(a.shape,"int32",o)}},bS=u_({opSnippet:"return tan(x);"}),gS={kernelName:r.Tan,backendName:"webgl",kernelFunc:bS},yS=u_({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),_S={kernelName:r.Tanh,backendName:"webgl",kernelFunc:yS};var xS={kernelName:r.TensorScatterUpdate,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.tensor,o=t.indices,s=t.updates;!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(a);var u=r.backend_util.calculateShapes(s,o,i.shape),c=u.sliceRank,l=u.numUpdates,d=u.sliceSize,p=u.strides,f=u.outputSize,h=[f/d,d];if(0===f)return n.makeTensorInfo(i.shape,o.dtype);var m=b_({inputs:{x:o},backend:n,attrs:{shape:[l,c]}}),v=b_({inputs:{x:s},backend:n,attrs:{shape:[l,d]}}),b=b_({inputs:{x:i},backend:n,attrs:{shape:h}}),g=new Ij(l,c,m.shape.length,v.shape.length,p,h,!1,!0),y=n.runWebGLProgram(g,[v,m,b],b.dtype),_=b_({inputs:{x:y},backend:n,attrs:{shape:i.shape}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(y),_}},kS=function e(t,n){Object(Zr.a)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[a]*n[a];this.outputShape=r,this.rank=r.length;var i=Qb(this.rank),o=function(e){var t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],a=0;a<e.length;a++)r.push("imod(".concat(n[a],", ").concat(e[a],")"));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(i," resRC = getOutputCoords();\n        setOutput(getA(").concat(o,"));\n      }\n    ")};function wS(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=a.reps;if("string"===i.dtype||i.shape.length>5){var s=n.readSync(i.dataId),u="string"===i.dtype?s.map((function(e){return r.util.decodeString(e)})):s,c=Object(r.buffer)(i.shape,i.dtype,u),l=vy(c,o);return n.makeTensorInfo(l.shape,l.dtype,l.values)}var d=new kS(i.shape,o);return n.runWebGLProgram(d,[i],i.dtype)}var OS={kernelName:r.Tile,backendName:"webgl",kernelFunc:wS},jS=function e(t){Object(Zr.a)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "},SS=function e(t){Object(Zr.a)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "};function CS(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function TS(e){for(var t=1;t<e;)t*=2;return t}var NS={kernelName:r.TopK,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=e.attrs,o=t.x,s=i.k,u=i.sorted,c=Object(r.env)().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=Object(r.env)().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),d=o.shape,p=d[d.length-1];if(n.shouldExecuteOnCPU([o])||p<c||s>l){var f=n.readSync(o.dataId),h=by(f,d,o.dtype,s,u),m=Object(a.a)(h,2),v=m[0],b=m[1];return[n.makeTensorInfo(v.shape,v.dtype,v.values),n.makeTensorInfo(b.shape,b.dtype,b.values)]}if(0===s)return d[d.length-1]=0,[n.makeTensorInfo(d,o.dtype,[]),n.makeTensorInfo(d,"int32",[])];if(1===p)return[o,ow({attrs:{shape:d,dtype:"int32",value:0},backend:n})];var g=n.texData.get(o.dataId),y=null!==g&&g.isPacked,_=y?n.unpackTensor(o):o,x=r.util.sizeFromShape(d)/p,k=b_({inputs:{x:_},attrs:{shape:[x,p]},backend:n});y&&CS(n,_);for(var w=TS(s),O=TS(p),j=null,S=function(){return null===j?[k,k]:[k,j]},C=function(e,t,r){var a=S(),i=new jS(r),o=[[p],[null===j?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=j;j=n.runWebGLProgram(i,a,"int32",o),CS(n,s)},T=1;T<w;T*=2)for(var N=2*T,E=T;E>=1;E/=2)C(N,E,[x,O]);for(var I=O;I>w;I/=2){var A=S(),R=new SS([x,I/2]),D=[[p],[null===j?1:0],[w]],M=j;j=n.runWebGLProgram(R,A,"int32",D),CS(n,M);for(var F=w/2,L=2*F,P=F;P>=1;P/=2)C(L,P,j.shape)}var z=j;j=kx({inputs:{x:j},backend:n,attrs:{begin:0,size:[x,s]}}),CS(n,z);var B=jw({inputs:{x:k,indices:j},backend:n,attrs:{axis:1,batchDims:1}});CS(n,k);var V=d.slice(0,-1);V.push(s),z=j,j=b_({inputs:{x:j},attrs:{shape:V},backend:n}),CS(n,z);var U=B;return B=b_({inputs:{x:B},attrs:{shape:V},backend:n}),CS(n,U),[B,j]}},ES=function e(t,n,r,a,i,o){Object(Zr.a)(this,e),this.variableNames=["Image","Transforms"],this.outputShape=o;var s,u="nearest"===r?1:2;switch(a){case"constant":s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4;break;default:s=1}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(s," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(t," && 0 <= coordX && coordX < ").concat(n,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(i,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(i,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(n,"));\n                float mapY = mapCoord(inY, float(").concat(t,"));\n\n                if (").concat(u," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")};var IS={kernelName:r.Transform,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.image,o=t.transforms,s=r.interpolation,u=r.fillMode,c=r.fillValue,l=r.outputShape,d=Object(a.a)(i.shape,4),p=d[0],f=d[1],h=d[2],m=d[3],v=null!=l?l:[f,h],b=Object(a.a)(v,2),g=b[0],y=b[1],_=new ES(f,h,s,u,c,[p,g,y,m]);return n.runWebGLProgram(_,[i,o],"float32")}};var AS={kernelName:r.Unique,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,i=t.x;Db(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");var o=r.readSync(i.dataId),s=yy(o,a,i.shape,i.dtype),u=s.outputValues,c=s.outputShape,l=s.indices;return[r.makeTensorInfo(c,i.dtype,u),r.makeTensorInfo([l.length],"int32",l)]}};var RS={kernelName:r.Unpack,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,i=r.axis;i<0&&(i+=a.shape.length);for(var o=a,s=o.shape.length,u=a.shape[i],c=new Array(s-1),l=0,d=0;d<s;d++)d!==i&&(c[l++]=o.shape[d]);var p=[],f=new Array(s).fill(0),h=o.shape.slice();h[i]=1;for(var m=new Array(u),v=0;v<m.length;v++){f[i]=v;var b=kx({inputs:{x:o},backend:n,attrs:{begin:f,size:h}}),g=b_({inputs:{x:b},backend:n,attrs:{shape:c}});m[v]=g,p.push(b)}return p.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),m}},DS=function e(t,n){Object(Zr.a)(this,e),this.variableNames=["x","segmentIds"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.numSegments,s=o*Math.ceil(i/r);this.outputShape=[a,s];var u=4*Math.floor(r/4),c=r%4,l="\n        sumValue += dot(values, segFilter);\n    ",d="";i%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return initializationValue;\n        }\n      "));var p="";i%r>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(d,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(p,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(o,")) * float(").concat(r,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(o,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(l,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")};for(var MS=0,FS=[I_,R_,M_,L_,B_,W_,H_,G_,X_,Y_,Q_,ex,nx,ax,ox,cx,lx,fx,hx,mx,gx,Ox,jx,Sx,Ax,Mx,Px,t_,Vx,Xx,rk,uk,lk,dk,pk,hk,vk,gk,_k,jk,Sk,Ck,Nk,Ak,Mk,Fk,Pk,Bk,Vk,Wk,Hk,$k,Kk,Yk,Qk,tw,aw,uw,lw,fw,mw,gw,_w,xw,ww,Sw,Tw,Ew,Jy,Iw,$x,Rw,Mw,Lw,a_,zw,Vw,Uw,Hw,$w,Kw,Yw,Qw,tO,rO,iO,sO,uO,cO,pO,fO,hO,mO,vO,gO,xO,wO,AO,v_,MO,LO,zO,VO,Tx,WO,$O,qO,ZO,JO,s_,ej,tj,nj,rj,ij,Ex,SO,sj,cj,dj,g_,hj,vj,yj,xj,Oj,Sj,Tj,Ej,Rj,Mj,Lj,zj,Vj,Wj,Gj,qj,wx,IO,Xj,Yj,Zj,Qj,Jj,eS,tS,nS,iS,sS,cS,lS,dS,fS,hS,mS,vS,NO,S_,gS,_S,xS,OS,NS,IS,T_,AS,RS,{kernelName:r.UnsortedSegmentSum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,a=e.attrs,i=t.x,o=t.segmentIds,s=a.numSegments,u=i.shape.length,c=[],l=0,d=r.backend_util.getAxesPermutation([l],u),p=i;null!=d&&(p=C_({inputs:{x:i},backend:n,attrs:{perm:d}}),c.push(p),l=r.backend_util.getInnerMostAxes(1,u)[0]);var f=r.backend_util.segment_util.computeOutShape(p.shape,l,s),h=r.util.sizeFromShape([p.shape[l]]),m=b_({inputs:{x:p},backend:n,attrs:{shape:[-1,h]}});c.push(m);var v=b_({inputs:{x:function e(t,a,i,o,s){var u=t.shape[0],l=t.shape[1],d=r.backend_util.segment_util.segOpComputeOptimalWindowSize(l,s),p=new DS({windowSize:d,inSize:l,batchSize:u,numSegments:s},a),f=n.compileAndRun(p,[t,i],o);if(c.push(f),f.shape[1]===s)return f;var h=aj({backend:n,attrs:{start:0,stop:s,step:1,dtype:"float32"}}),m=wS({inputs:{x:h},backend:n,attrs:{reps:[l/d]}});return c.push(h),c.push(m),e(f,a,m,o,s)}(m,"unsortedSegmentSum",o,Object(r.sumOutType)(i.dtype),s)},backend:n,attrs:{shape:f}}),b=v;if(null!=d){c.push(v);var g=r.backend_util.getUndoAxesPermutation(d);b=C_({inputs:{x:b},backend:n,attrs:{perm:g}})}return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),b}},GO];MS<FS.length;MS++){var LS=FS[MS];Object(r.registerKernel)(LS)}n.d(t,"a",(function(){return r.browser}));r.version_core},,function(e,t,n){"use strict";var r=n(51),a=n(107),i=n(59),o=n(322),s=n(168),u=n(323),c=n(169),l=n(325),d=n(60),p=n(155),f=n(109),h=n(77),m=n(517),v=n(293),b=n(518);e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),_=g?"set":"add",x=a[e],k=x&&x.prototype,w=x,O={},j=function(e){var t=i(k[e]);s(k,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!f(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return y&&!f(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(o(e,!d(x)||!(y||k.forEach&&!h((function(){(new x).entries().next()})))))w=n.getConstructor(t,e,g,_),u.enable();else if(o(e,!0)){var S=new w,C=S[_](y?{}:-0,1)!=S,T=h((function(){S.has(1)})),N=m((function(e){new x(e)})),E=!y&&h((function(){for(var e=new x,t=5;t--;)e[_](t,t);return!e.has(-0)}));N||((w=t((function(e,t){l(e,k);var n=b(new x,e,w);return p(t)||c(t,n[_],{that:n,AS_ENTRIES:g}),n}))).prototype=k,k.constructor=w),(T||E)&&(j("delete"),j("has"),g&&j("get")),(E||C)&&j(_),y&&k.clear&&delete k.clear}return O[e]=w,r({global:!0,constructor:!0,forced:w!=x},O),v(w,e),y||n.setStrong(w,e,g),w}},function(e,t,n){var r=n(108),a=n(65),i=n(495),o=n(218),s=n(166),u=n(280),c=n(111),l=n(315),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=u(t),l)try{return d(e,t)}catch(n){}if(c(e,t))return o(!a(i.f,e,t),e[t])}},function(e,t){var n="object"==typeof document&&document.all,r="undefined"==typeof n&&void 0!==n;e.exports={all:n,IS_HTMLDDA:r}},function(e,t,n){var r=n(167),a=n(60),i=n(281),o=n(311),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return a(t)&&i(t.prototype,s(e))}},function(e,t,n){var r=n(312);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(498),a=n(77);e.exports=!!Object.getOwnPropertySymbols&&!a((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(e,t,n){var r=n(220),a=n(283);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.29.1",mode:r?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e,t,n){var r=n(279),a=Object;e.exports=function(e){return a(r(e))}},function(e,t,n){var r=n(108),a=n(77),i=n(286);e.exports=!r&&!a((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(108),a=n(77);e.exports=r&&a((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(e,t,n){var r=n(59),a=n(77),i=n(60),o=n(111),s=n(108),u=n(318).CONFIGURABLE,c=n(319),l=n(222),d=l.enforce,p=l.get,f=String,h=Object.defineProperty,m=r("".slice),v=r("".replace),b=r([].join),g=s&&!a((function(){return 8!==h((function(){}),"length",{value:8}).length})),y=String(String).split("String"),_=e.exports=function(e,t,n){"Symbol("===m(f(t),0,7)&&(t="["+v(f(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||u&&e.name!==t)&&(s?h(e,"name",{value:t,configurable:!0}):e.name=t),g&&n&&o(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?s&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(a){}var r=d(e);return o(r,"source")||(r.source=b(y,"string"==typeof t?t:"")),e};Function.prototype.toString=_((function(){return i(this)&&p(this).source||c(this)}),"toString")},function(e,t,n){var r=n(108),a=n(111),i=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,s=a(i,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&o(i,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},function(e,t,n){var r=n(59),a=n(60),i=n(283),o=r(Function.toString);a(i.inspectSource)||(i.inspectSource=function(e){return o(e)}),e.exports=i.inspectSource},function(e,t,n){var r=n(59),a=n(111),i=n(166),o=n(504).indexOf,s=n(223),u=r([].push);e.exports=function(e,t){var n,r=i(e),c=0,l=[];for(n in r)!a(s,n)&&a(r,n)&&u(l,n);for(;t.length>c;)a(r,n=t[c++])&&(~o(l,n)||u(l,n));return l}},function(e,t,n){var r=n(224),a=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?a(n+t,0):i(n,t)}},function(e,t,n){var r=n(77),a=n(60),i=/#|\.prototype\./,o=function(e,t){var n=u[s(e)];return n==l||n!=c&&(a(t)?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},u=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},function(e,t,n){var r=n(51),a=n(59),i=n(223),o=n(109),s=n(111),u=n(117).f,c=n(288),l=n(508),d=n(511),p=n(285),f=n(513),h=!1,m=p("meta"),v=0,b=function(e){u(e,m,{value:{objectID:"O"+v++,weakData:{}}})},g=e.exports={enable:function(){g.enable=function(){},h=!0;var e=c.f,t=a([].splice),n={};n[m]=1,e(n).length&&(c.f=function(n){for(var r=e(n),a=0,i=r.length;a<i;a++)if(r[a]===m){t(r,a,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,m)){if(!d(e))return"F";if(!t)return"E";b(e)}return e[m].objectID},getWeakData:function(e,t){if(!s(e,m)){if(!d(e))return!0;if(!t)return!1;b(e)}return e[m].weakData},onFreeze:function(e){return f&&h&&d(e)&&!s(e,m)&&b(e),e}};i[m]=!0},function(e,t,n){var r=n(207),a=n(282),i=n(155),o=n(170),s=n(90)("iterator");e.exports=function(e){if(!i(e))return a(e,s)||a(e,"@@iterator")||o[r(e)]}},function(e,t,n){var r=n(281),a=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw a("Incorrect invocation")}},function(e,t,n){var r=n(327),a=n(134),i=n(519);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(o){}return function(n,r){return a(n),i(r),t?e(n,r):n.__proto__=r,n}}():void 0)},function(e,t,n){var r=n(59),a=n(110);e.exports=function(e,t,n){try{return r(a(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(i){}}},function(e,t,n){"use strict";var r=n(225),a=n(329),i=n(523),o=n(78),s=n(325),u=n(155),c=n(169),l=n(294),d=n(295),p=n(526),f=n(108),h=n(323).fastKey,m=n(222),v=m.set,b=m.getterFor;e.exports={getConstructor:function(e,t,n,l){var d=e((function(e,a){s(e,p),v(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),f||(e.size=0),u(a)||c(a,e[l],{that:e,AS_ENTRIES:n})})),p=d.prototype,m=b(t),g=function(e,t,n){var r,a,i=m(e),o=y(e,t);return o?o.value=n:(i.last=o={index:a=h(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=o),r&&(r.next=o),f?i.size++:e.size++,"F"!==a&&(i.index[a]=o)),e},y=function(e,t){var n,r=m(e),a=h(t);if("F"!==a)return r.index[a];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(p,{clear:function(){for(var e=m(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=m(this),n=y(this,e);if(n){var r=n.next,a=n.previous;delete t.index[n.index],n.removed=!0,a&&(a.next=r),r&&(r.previous=a),t.first==n&&(t.first=r),t.last==n&&(t.last=a),f?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=m(this),r=o(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),i(p,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),f&&a(p,"size",{configurable:!0,get:function(){return m(this).size}}),d},setStrong:function(e,t,n){var r=t+" Iterator",a=b(t),i=b(r);l(e,t,(function(e,t){v(this,{type:r,target:e,state:a(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?d("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,d(void 0,!0))}),n?"entries":"values",!n,!0),p(t)}}},function(e,t,n){var r=n(317),a=n(117);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),a.f(e,t,n)}},function(e,t,n){"use strict";var r,a,i,o=n(77),s=n(60),u=n(109),c=n(225),l=n(331),d=n(168),p=n(90),f=n(220),h=p("iterator"),m=!1;[].keys&&("next"in(i=[].keys())?(a=l(l(i)))!==Object.prototype&&(r=a):m=!0),!u(r)||o((function(){var e={};return r[h].call(e)!==e}))?r={}:f&&(r=c(r)),s(r[h])||d(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},function(e,t,n){var r=n(111),a=n(60),i=n(314),o=n(287),s=n(525),u=o("IE_PROTO"),c=Object,l=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=i(e);if(r(t,u))return t[u];var n=t.constructor;return a(n)&&t instanceof n?n.prototype:t instanceof c?l:null}},function(e,t,n){"use strict";var r=n(78),a=n(65),i=n(110),o=n(539),s=n(155),u=n(169),c=[].push;e.exports=function(e){var t,n,l,d,p=arguments.length,f=p>1?arguments[1]:void 0;return o(this),(t=void 0!==f)&&i(f),s(e)?new this:(n=[],t?(l=0,d=r(f,p>2?arguments[2]:void 0),u(e,(function(e){a(c,n,d(e,l++))}))):u(e,c,{that:n}),new this(n))}},function(e,t,n){"use strict";var r=n(550);e.exports=function(){return new this(r(arguments))}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,t){for(var n,s,u=o(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))a.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var d=0;d<s.length;d++)i.call(n,s[d])&&(u[s[d]]=n[s[d]])}}return u}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(61).default,a=n(597);e.exports=function(e){var t=a(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(92);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(a(t)+"="+a(e))})))})),i=o.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(92),a=n(612),i={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return"undefined"!==typeof XMLHttpRequest?e=n(342):"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t)&&(e=n(342)),e}(),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(i)})),e.exports=s}).call(this,n(171))},function(e,t,n){"use strict";var r=n(92),a=n(613),i=n(615),o=n(339),s=n(616),u=n(619),c=n(620),l=n(343);e.exports=function(e){return new Promise((function(t,n){var d=e.data,p=e.headers;r.isFormData(d)&&delete p["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(h+":"+m)}var v=s(e.baseURL,e.url);if(f.open(e.method.toUpperCase(),o(v,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in f?u(f.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f};a(t,n,i),f=null}},f.onabort=function(){f&&(n(l("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){n(l("Network Error",e,null,f)),f=null},f.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var b=(e.withCredentials||c(v))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;b&&(p[e.xsrfHeaderName]=b)}if("setRequestHeader"in f&&r.forEach(p,(function(e,t){"undefined"===typeof d&&"content-type"===t.toLowerCase()?delete p[t]:f.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),e.responseType)try{f.responseType=e.responseType}catch(g){if("json"!==e.responseType)throw g}"function"===typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),n(e),f=null)})),d||(d=null),f.send(d)}))}},function(e,t,n){"use strict";var r=n(614);e.exports=function(e,t,n,a,i){var o=new Error(e);return r(o,t,n,a,i)}},function(e,t,n){"use strict";var r=n(92);e.exports=function(e,t){t=t||{};var n={},a=["url","method","data"],i=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(a){r.isUndefined(t[a])?r.isUndefined(e[a])||(n[a]=u(void 0,e[a])):n[a]=u(e[a],t[a])}r.forEach(a,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(i,c),r.forEach(o,(function(a){r.isUndefined(t[a])?r.isUndefined(e[a])||(n[a]=u(void 0,e[a])):n[a]=u(void 0,t[a])})),r.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var l=a.concat(i).concat(o).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(d,c),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){var r,a;void 0===(a="function"===typeof(r=function(){var e={172351395:{name:"EBML",type:"Container"},646:{name:"EBMLVersion",type:"Uint"},759:{name:"EBMLReadVersion",type:"Uint"},754:{name:"EBMLMaxIDLength",type:"Uint"},755:{name:"EBMLMaxSizeLength",type:"Uint"},642:{name:"DocType",type:"String"},647:{name:"DocTypeVersion",type:"Uint"},645:{name:"DocTypeReadVersion",type:"Uint"},108:{name:"Void",type:"Binary"},63:{name:"CRC-32",type:"Binary"},190023271:{name:"SignatureSlot",type:"Container"},16010:{name:"SignatureAlgo",type:"Uint"},16026:{name:"SignatureHash",type:"Uint"},16037:{name:"SignaturePublicKey",type:"Binary"},16053:{name:"Signature",type:"Binary"},15963:{name:"SignatureElements",type:"Container"},15995:{name:"SignatureElementList",type:"Container"},9522:{name:"SignedElement",type:"Binary"},139690087:{name:"Segment",type:"Container"},21863284:{name:"SeekHead",type:"Container"},3515:{name:"Seek",type:"Container"},5035:{name:"SeekID",type:"Binary"},5036:{name:"SeekPosition",type:"Uint"},88713574:{name:"Info",type:"Container"},13220:{name:"SegmentUID",type:"Binary"},13188:{name:"SegmentFilename",type:"String"},1882403:{name:"PrevUID",type:"Binary"},1868715:{name:"PrevFilename",type:"String"},2013475:{name:"NextUID",type:"Binary"},1999803:{name:"NextFilename",type:"String"},1092:{name:"SegmentFamily",type:"Binary"},10532:{name:"ChapterTranslate",type:"Container"},10748:{name:"ChapterTranslateEditionUID",type:"Uint"},10687:{name:"ChapterTranslateCodec",type:"Uint"},10661:{name:"ChapterTranslateID",type:"Binary"},710577:{name:"TimecodeScale",type:"Uint"},1161:{name:"Duration",type:"Float"},1121:{name:"DateUTC",type:"Date"},15273:{name:"Title",type:"String"},3456:{name:"MuxingApp",type:"String"},5953:{name:"WritingApp",type:"String"},103:{name:"Timecode",type:"Uint"},6228:{name:"SilentTracks",type:"Container"},6359:{name:"SilentTrackNumber",type:"Uint"},39:{name:"Position",type:"Uint"},43:{name:"PrevSize",type:"Uint"},35:{name:"SimpleBlock",type:"Binary"},32:{name:"BlockGroup",type:"Container"},33:{name:"Block",type:"Binary"},34:{name:"BlockVirtual",type:"Binary"},13729:{name:"BlockAdditions",type:"Container"},38:{name:"BlockMore",type:"Container"},110:{name:"BlockAddID",type:"Uint"},37:{name:"BlockAdditional",type:"Binary"},27:{name:"BlockDuration",type:"Uint"},122:{name:"ReferencePriority",type:"Uint"},123:{name:"ReferenceBlock",type:"Int"},125:{name:"ReferenceVirtual",type:"Int"},36:{name:"CodecState",type:"Binary"},13730:{name:"DiscardPadding",type:"Int"},14:{name:"Slices",type:"Container"},104:{name:"TimeSlice",type:"Container"},76:{name:"LaceNumber",type:"Uint"},77:{name:"FrameNumber",type:"Uint"},75:{name:"BlockAdditionID",type:"Uint"},78:{name:"Delay",type:"Uint"},79:{name:"SliceDuration",type:"Uint"},72:{name:"ReferenceFrame",type:"Container"},73:{name:"ReferenceOffset",type:"Uint"},74:{name:"ReferenceTimeCode",type:"Uint"},47:{name:"EncryptedBlock",type:"Binary"},106212971:{name:"Tracks",type:"Container"},46:{name:"TrackEntry",type:"Container"},87:{name:"TrackNumber",type:"Uint"},13253:{name:"TrackUID",type:"Uint"},3:{name:"TrackType",type:"Uint"},57:{name:"FlagEnabled",type:"Uint"},8:{name:"FlagDefault",type:"Uint"},5546:{name:"FlagForced",type:"Uint"},28:{name:"FlagLacing",type:"Uint"},11751:{name:"MinCache",type:"Uint"},11768:{name:"MaxCache",type:"Uint"},254851:{name:"DefaultDuration",type:"Uint"},216698:{name:"DefaultDecodedFieldDuration",type:"Uint"},209231:{name:"TrackTimecodeScale",type:"Float"},4991:{name:"TrackOffset",type:"Int"},5614:{name:"MaxBlockAdditionID",type:"Uint"},4974:{name:"Name",type:"String"},177564:{name:"Language",type:"String"},6:{name:"CodecID",type:"String"},9122:{name:"CodecPrivate",type:"Binary"},362120:{name:"CodecName",type:"String"},13382:{name:"AttachmentLink",type:"Uint"},1742487:{name:"CodecSettings",type:"String"},1785920:{name:"CodecInfoURL",type:"String"},438848:{name:"CodecDownloadURL",type:"String"},42:{name:"CodecDecodeAll",type:"Uint"},12203:{name:"TrackOverlay",type:"Uint"},5802:{name:"CodecDelay",type:"Uint"},5819:{name:"SeekPreRoll",type:"Uint"},9764:{name:"TrackTranslate",type:"Container"},9980:{name:"TrackTranslateEditionUID",type:"Uint"},9919:{name:"TrackTranslateCodec",type:"Uint"},9893:{name:"TrackTranslateTrackID",type:"Binary"},96:{name:"Video",type:"Container"},26:{name:"FlagInterlaced",type:"Uint"},5048:{name:"StereoMode",type:"Uint"},5056:{name:"AlphaMode",type:"Uint"},5049:{name:"OldStereoMode",type:"Uint"},48:{name:"PixelWidth",type:"Uint"},58:{name:"PixelHeight",type:"Uint"},5290:{name:"PixelCropBottom",type:"Uint"},5307:{name:"PixelCropTop",type:"Uint"},5324:{name:"PixelCropLeft",type:"Uint"},5341:{name:"PixelCropRight",type:"Uint"},5296:{name:"DisplayWidth",type:"Uint"},5306:{name:"DisplayHeight",type:"Uint"},5298:{name:"DisplayUnit",type:"Uint"},5299:{name:"AspectRatioType",type:"Uint"},963876:{name:"ColourSpace",type:"Binary"},1029411:{name:"GammaValue",type:"Float"},230371:{name:"FrameRate",type:"Float"},97:{name:"Audio",type:"Container"},53:{name:"SamplingFrequency",type:"Float"},14517:{name:"OutputSamplingFrequency",type:"Float"},31:{name:"Channels",type:"Uint"},15739:{name:"ChannelPositions",type:"Binary"},8804:{name:"BitDepth",type:"Uint"},98:{name:"TrackOperation",type:"Container"},99:{name:"TrackCombinePlanes",type:"Container"},100:{name:"TrackPlane",type:"Container"},101:{name:"TrackPlaneUID",type:"Uint"},102:{name:"TrackPlaneType",type:"Uint"},105:{name:"TrackJoinBlocks",type:"Container"},109:{name:"TrackJoinUID",type:"Uint"},64:{name:"TrickTrackUID",type:"Uint"},65:{name:"TrickTrackSegmentUID",type:"Binary"},70:{name:"TrickTrackFlag",type:"Uint"},71:{name:"TrickMasterTrackUID",type:"Uint"},68:{name:"TrickMasterTrackSegmentUID",type:"Binary"},11648:{name:"ContentEncodings",type:"Container"},8768:{name:"ContentEncoding",type:"Container"},4145:{name:"ContentEncodingOrder",type:"Uint"},4146:{name:"ContentEncodingScope",type:"Uint"},4147:{name:"ContentEncodingType",type:"Uint"},4148:{name:"ContentCompression",type:"Container"},596:{name:"ContentCompAlgo",type:"Uint"},597:{name:"ContentCompSettings",type:"Binary"},4149:{name:"ContentEncryption",type:"Container"},2017:{name:"ContentEncAlgo",type:"Uint"},2018:{name:"ContentEncKeyID",type:"Binary"},2019:{name:"ContentSignature",type:"Binary"},2020:{name:"ContentSigKeyID",type:"Binary"},2021:{name:"ContentSigAlgo",type:"Uint"},2022:{name:"ContentSigHashAlgo",type:"Uint"},206814059:{name:"Cues",type:"Container"},59:{name:"CuePoint",type:"Container"},51:{name:"CueTime",type:"Uint"},55:{name:"CueTrackPositions",type:"Container"},119:{name:"CueTrack",type:"Uint"},113:{name:"CueClusterPosition",type:"Uint"},112:{name:"CueRelativePosition",type:"Uint"},50:{name:"CueDuration",type:"Uint"},4984:{name:"CueBlockNumber",type:"Uint"},106:{name:"CueCodecState",type:"Uint"},91:{name:"CueReference",type:"Container"},22:{name:"CueRefTime",type:"Uint"},23:{name:"CueRefCluster",type:"Uint"},4959:{name:"CueRefNumber",type:"Uint"},107:{name:"CueRefCodecState",type:"Uint"},155296873:{name:"Attachments",type:"Container"},8615:{name:"AttachedFile",type:"Container"},1662:{name:"FileDescription",type:"String"},1646:{name:"FileName",type:"String"},1632:{name:"FileMimeType",type:"String"},1628:{name:"FileData",type:"Binary"},1710:{name:"FileUID",type:"Uint"},1653:{name:"FileReferral",type:"Binary"},1633:{name:"FileUsedStartTime",type:"Uint"},1634:{name:"FileUsedEndTime",type:"Uint"},4433776:{name:"Chapters",type:"Container"},1465:{name:"EditionEntry",type:"Container"},1468:{name:"EditionUID",type:"Uint"},1469:{name:"EditionFlagHidden",type:"Uint"},1499:{name:"EditionFlagDefault",type:"Uint"},1501:{name:"EditionFlagOrdered",type:"Uint"},54:{name:"ChapterAtom",type:"Container"},13252:{name:"ChapterUID",type:"Uint"},5716:{name:"ChapterStringUID",type:"String"},17:{name:"ChapterTimeStart",type:"Uint"},18:{name:"ChapterTimeEnd",type:"Uint"},24:{name:"ChapterFlagHidden",type:"Uint"},1432:{name:"ChapterFlagEnabled",type:"Uint"},11879:{name:"ChapterSegmentUID",type:"Binary"},11964:{name:"ChapterSegmentEditionUID",type:"Uint"},9155:{name:"ChapterPhysicalEquiv",type:"Uint"},15:{name:"ChapterTrack",type:"Container"},9:{name:"ChapterTrackNumber",type:"Uint"},0:{name:"ChapterDisplay",type:"Container"},5:{name:"ChapString",type:"String"},892:{name:"ChapLanguage",type:"String"},894:{name:"ChapCountry",type:"String"},10564:{name:"ChapProcess",type:"Container"},10581:{name:"ChapProcessCodecID",type:"Uint"},1293:{name:"ChapProcessPrivate",type:"Binary"},10513:{name:"ChapProcessCommand",type:"Container"},10530:{name:"ChapProcessTime",type:"Uint"},10547:{name:"ChapProcessData",type:"Binary"},39109479:{name:"Tags",type:"Container"},13171:{name:"Tag",type:"Container"},9152:{name:"Targets",type:"Container"},10442:{name:"TargetTypeValue",type:"Uint"},9162:{name:"TargetType",type:"String"},9157:{name:"TagTrackUID",type:"Uint"},9161:{name:"TagEditionUID",type:"Uint"},9156:{name:"TagChapterUID",type:"Uint"},9158:{name:"TagAttachmentUID",type:"Uint"},10184:{name:"SimpleTag",type:"Container"},1443:{name:"TagName",type:"String"},1146:{name:"TagLanguage",type:"String"},1156:{name:"TagDefault",type:"Uint"},1159:{name:"TagString",type:"String"},1157:{name:"TagBinary",type:"Binary"}};function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e}function n(e,t){this.name=e||"Unknown",this.type=t||"Unknown"}function r(e,t){n.call(this,e,t||"Uint")}function a(e){return e.length%2===1?"0"+e:e}function i(e,t){n.call(this,e,t||"Float")}function o(e,t){n.call(this,e,t||"Container")}function s(e){o.call(this,"File","File"),this.setSource(e)}function u(e,t,n,r){if("object"===typeof n&&(r=n,n=void 0),!n)return new Promise((function(n){u(e,t,n,r)}));try{var a=new FileReader;a.onloadend=function(){try{var i=new s(new Uint8Array(a.result));i.fixDuration(t,r)&&(e=i.toBlob(e.type))}catch(o){}n(e)},a.readAsArrayBuffer(e)}catch(i){n(e)}}return n.prototype.updateBySource=function(){},n.prototype.setSource=function(e){this.source=e,this.updateBySource()},n.prototype.updateByData=function(){},n.prototype.setData=function(e){this.data=e,this.updateByData()},t(r,n),r.prototype.updateBySource=function(){this.data="";for(var e=0;e<this.source.length;e++){var t=this.source[e].toString(16);this.data+=a(t)}},r.prototype.updateByData=function(){var e=this.data.length/2;this.source=new Uint8Array(e);for(var t=0;t<e;t++){var n=this.data.substr(2*t,2);this.source[t]=parseInt(n,16)}},r.prototype.getValue=function(){return parseInt(this.data,16)},r.prototype.setValue=function(e){this.setData(a(e.toString(16)))},t(i,n),i.prototype.getFloatArrayType=function(){return this.source&&4===this.source.length?Float32Array:Float64Array},i.prototype.updateBySource=function(){var e=this.source.reverse(),t=new(this.getFloatArrayType())(e.buffer);this.data=t[0]},i.prototype.updateByData=function(){var e=new(this.getFloatArrayType())([this.data]),t=new Uint8Array(e.buffer);this.source=t.reverse()},i.prototype.getValue=function(){return this.data},i.prototype.setValue=function(e){this.setData(e)},t(o,n),o.prototype.readByte=function(){return this.source[this.offset++]},o.prototype.readUint=function(){for(var e=this.readByte(),t=8-e.toString(2).length,n=e-(1<<7-t),r=0;r<t;r++)n*=256,n+=this.readByte();return n},o.prototype.updateBySource=function(){for(this.data=[],this.offset=0;this.offset<this.source.length;this.offset=s){var t=this.readUint(),a=this.readUint(),s=Math.min(this.offset+a,this.source.length),u=this.source.slice(this.offset,s),c=e[t]||{name:"Unknown",type:"Unknown"},l=n;switch(c.type){case"Container":l=o;break;case"Uint":l=r;break;case"Float":l=i}var d=new l(c.name,c.type);d.setSource(u),this.data.push({id:t,idHex:t.toString(16),data:d})}},o.prototype.writeUint=function(e,t){for(var n=1,r=128;e>=r&&n<8;n++,r*=128);if(!t)for(var a=r+e,i=n-1;i>=0;i--){var o=a%256;this.source[this.offset+i]=o,a=(a-o)/256}this.offset+=n},o.prototype.writeSections=function(e){this.offset=0;for(var t=0;t<this.data.length;t++){var n=this.data[t],r=n.data.source,a=r.length;this.writeUint(n.id,e),this.writeUint(a,e),e||this.source.set(r,this.offset),this.offset+=a}return this.offset},o.prototype.updateByData=function(){var e=this.writeSections("draft");this.source=new Uint8Array(e),this.writeSections()},o.prototype.getSectionById=function(e){for(var t=0;t<this.data.length;t++){var n=this.data[t];if(n.id===e)return n.data}return null},t(s,o),s.prototype.fixDuration=function(e,t){var n=t&&t.logger;void 0===n?n=function(e){console.log(e)}:n||(n=function(){});var r=this.getSectionById(139690087);if(!r)return n("[fix-webm-duration] Segment section is missing"),!1;var a=r.getSectionById(88713574);if(!a)return n("[fix-webm-duration] Info section is missing"),!1;var o=a.getSectionById(710577);if(!o)return n("[fix-webm-duration] TimecodeScale section is missing"),!1;var s=a.getSectionById(1161);if(s){if(!(s.getValue()<=0))return n("[fix-webm-duration] Duration section is present"),!1;n("[fix-webm-duration] Duration section is present, but the value is empty"),s.setValue(e)}else n("[fix-webm-duration] Duration section is missing"),(s=new i("Duration","Float")).setValue(e),a.data.push({id:1161,data:s});return o.setValue(1e6),a.updateByData(),r.updateByData(),this.updateByData(),!0},s.prototype.toBlob=function(e){return new Blob([this.source.buffer],{type:e||"video/webm"})},u.default=u,u})?r.call(t,n,t,e):r)||(e.exports=a)},,function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,a=e.indexOf("["),i=e.indexOf("]");-1!=a&&-1!=i&&(e=e.substring(0,a)+e.substring(a,i).replace(/:/g,";")+e.substring(i,e.length));for(var o=n.exec(e||""),s={},u=14;u--;)s[r[u]]=o[u]||"";return-1!=a&&-1!=i&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){var n=t.replace(/\/{2,9}/g,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||n.splice(0,1);"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1);return n}(0,s.path),s.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,s.query),s}},function(e,t,n){"use strict";var r=n(121),a=n(122),i=n(123),o=n(112),s=n(124);Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;var u=n(693),c=n(357),l=n(301),d=n(359),p=n(708),f=n(360),h=n(120)("socket.io-client:manager"),m=function(e){function t(e,n){var a;r(this,t),(a=i(this,o(t).call(this))).nsps={},a.subs=[],e&&"object"===typeof e&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",a.opts=n,a.reconnection(!1!==n.reconnection),a.reconnectionAttempts(n.reconnectionAttempts||1/0),a.reconnectionDelay(n.reconnectionDelay||1e3),a.reconnectionDelayMax(n.reconnectionDelayMax||5e3),a.randomizationFactor(n.randomizationFactor||.5),a.backoff=new p({min:a.reconnectionDelay(),max:a.reconnectionDelayMax(),jitter:a.randomizationFactor()}),a.timeout(null==n.timeout?2e4:n.timeout),a._readyState="closed",a.uri=e;var s=n.parser||l;return a.encoder=new s.Encoder,a.decoder=new s.Decoder,a._autoConnect=!1!==n.autoConnect,a._autoConnect&&a.open(),a}return s(t,e),a(t,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(h("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;h("opening %s",this.uri),this.engine=u(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var a=d.on(n,"open",(function(){r.onopen(),e&&e()})),i=d.on(n,"error",(function(n){h("error"),r.cleanup(),r._readyState="closed",t.emitReserved("error",n),e?e(n):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var o=this._timeout;h("connect attempt will timeout after %d",o),0===o&&a();var s=setTimeout((function(){h("connect attempt timed out after %d",o),a(),n.close(),n.emit("error",new Error("timeout"))}),o);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}return this.subs.push(a),this.subs.push(i),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){h("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(d.on(e,"ping",this.onping.bind(this)),d.on(e,"data",this.ondata.bind(this)),d.on(e,"error",this.onerror.bind(this)),d.on(e,"close",this.onclose.bind(this)),d.on(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){this.decoder.add(e)}},{key:"ondecoded",value:function(e){this.emitReserved("packet",e)}},{key:"onerror",value:function(e){h("error",e),this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n||(n=new c.Socket(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var r=n[t];if(this.nsps[r].active)return void h("socket %s is still active, skipping close",r)}this._close()}},{key:"_packet",value:function(e){h("writing packet %j",e);for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){h("cleanup"),this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){h("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e){h("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)h("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();h("will wait %dms before reconnect attempt",n),this._reconnecting=!0;var r=setTimeout((function(){t.skipReconnect||(h("attempting reconnect"),e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(h("reconnect attempt error"),t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):(h("reconnect success"),t.onreconnect())})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),t}(f.StrictEventEmitter);t.Manager=m},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){var r=n(352),a=n(696),i=n(700),o=n(702);t.polling=function(e){var t=!1,n=!1,o=!1!==e.jsonp;if("undefined"!==typeof location){var s="https:"===location.protocol,u=location.port;u||(u=s?443:80),t=e.hostname!==location.hostname||u!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new a(e);if(!o)throw new Error("JSONP disabled");return new i(e)},t.websocket=o},function(e,t,n){var r=n(695),a=n(226);e.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!==typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(o){}try{if("undefined"!==typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(o){}if(!t)try{return new(a[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(o){}}},function(e,t,n){var r=n(121),a=n(122),i=n(123),o=n(112),s=n(124),u=n(299),c=n(300),l=n(209),d=n(355),p=n(120)("engine.io-client:polling"),f=function(e){"use strict";function t(){return r(this,t),i(this,o(t).apply(this,arguments))}return s(t,e),a(t,[{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){p("paused"),t.readyState="paused",e()};if(this.polling||!this.writable){var r=0;this.polling&&(p("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){p("pre-pause polling complete"),--r||n()}))),this.writable||(p("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){p("pre-pause writing complete"),--r||n()})))}else n()}},{key:"poll",value:function(){p("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(e){var t=this;p("polling got data %s",e);l.decodePayload(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():p('ignoring poll - transport state "%s"',this.readyState))}},{key:"doClose",value:function(){var e=this,t=function(){p("writing close packet"),e.write([{type:"close"}])};"open"===this.readyState?(p("transport open - closing"),t()):(p("transport not open - deferring close"),this.once("open",t))}},{key:"write",value:function(e){var t=this;this.writable=!1,l.encodePayload(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emit("drain")}))}))}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=d()),this.supportsBinary||e.sid||(e.b64=1),e=c.encode(e),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),e.length&&(e="?"+e),t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}},{key:"name",get:function(){return"polling"}}]),t}(u);e.exports=f},function(e,t){var n=Object.create(null);n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";var r=Object.create(null);Object.keys(n).forEach((function(e){r[n[e]]=e}));e.exports={PACKET_TYPES:n,PACKET_TYPES_REVERSE:r,ERROR_PACKET:{type:"error",data:"parser error"}}},function(e,t,n){"use strict";var r,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,o={},s=0,u=0;function c(e){var t="";do{t=a[e%i]+t,e=Math.floor(e/i)}while(e>0);return t}function l(){var e=c(+new Date);return e!==r?(s=0,r=e):e+"."+c(s++)}for(;u<i;u++)o[a[u]]=u;l.encode=c,l.decode=function(e){var t=0;for(u=0;u<e.length;u++)t=t*i+o[e.charAt(u)];return t},e.exports=l},function(e,t){e.exports.pick=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}},function(e,t,n){"use strict";var r=n(121),a=n(122),i=n(123),o=n(112),s=n(227),u=n(124);Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;var c=n(301),l=n(359),d=n(360),p=n(120)("socket.io-client:socket"),f=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),h=function(e){function t(e,n,a){var s;return r(this,t),(s=i(this,o(t).call(this))).receiveBuffer=[],s.sendBuffer=[],s.ids=0,s.acks={},s.flags={},s.io=e,s.nsp=n,s.ids=0,s.acks={},s.receiveBuffer=[],s.sendBuffer=[],s.connected=!1,s.disconnected=!0,s.flags={},a&&a.auth&&(s.auth=a.auth),s.io._autoConnect&&s.open(),s}return u(t,e),a(t,[{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[l.on(e,"open",this.onopen.bind(this)),l.on(e,"packet",this.onpacket.bind(this)),l.on(e,"error",this.onerror.bind(this)),l.on(e,"close",this.onclose.bind(this))]}}},{key:"connect",value:function(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen(),this)}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(f.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.unshift(e);var a={type:c.PacketType.EVENT,data:n,options:{}};a.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]&&(p("emitting packet with ack id %d",this.ids),this.acks[this.ids]=n.pop(),a.id=this.ids++);var i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,o=this.flags.volatile&&(!i||!this.connected);return o?p("discard packet as the transport is not currently writable"):this.connected?this.packet(a):this.sendBuffer.push(a),this.flags={},this}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;p("transport is open - connecting"),"function"==typeof this.auth?this.auth((function(t){e.packet({type:c.PacketType.CONNECT,data:t})})):this.packet({type:c.PacketType.CONNECT,data:this.auth})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e){p("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case c.PacketType.CONNECT:if(e.data&&e.data.sid){var t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case c.PacketType.EVENT:case c.PacketType.BINARY_EVENT:this.onevent(e);break;case c.PacketType.ACK:case c.PacketType.BINARY_ACK:this.onack(e);break;case c.PacketType.DISCONNECT:this.ondisconnect();break;case c.PacketType.CONNECT_ERROR:var n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(e){var t=e.data||[];p("emitting event %j",t),null!=e.id&&(p("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var n=this._anyListeners.slice(),r=!0,a=!1,i=void 0;try{for(var u,c=n[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){u.value.apply(this,e)}}catch(l){a=!0,i=l}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}}s(o(t.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];p("sending ack %j",a),t.packet({type:c.PacketType.ACK,id:e,data:a})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t?(p("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):p("bad ack %s",e.id)}},{key:"onconnect",value:function(e){p("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){return e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){p("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&(p("performing disconnect (%s)",this.nsp),this.packet({type:c.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"active",get:function(){return!!this.subs}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}}]),t}(d.StrictEventEmitter);t.Socket=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;var r="function"===typeof ArrayBuffer,a=function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer},i=Object.prototype.toString,o="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===i.call(File);function u(e){return r&&(e instanceof ArrayBuffer||a(e))||o&&e instanceof Blob||s&&e instanceof File}t.isBinary=u,t.hasBinary=function e(t,n){if(!t||"object"!==typeof t)return!1;if(Array.isArray(t)){for(var r=0,a=t.length;r<a;r++)if(e(t[r]))return!0;return!1}if(u(t))return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e(t[i]))return!0;return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,n){return e.on(t,n),function(){e.off(t,n)}}},function(e,t,n){"use strict";var r=n(121),a=n(122),i=n(123),o=n(112),s=n(227),u=n(124);Object.defineProperty(t,"__esModule",{value:!0}),t.StrictEventEmitter=void 0;var c=function(e){function t(){return r(this,t),i(this,o(t).apply(this,arguments))}return u(t,e),a(t,[{key:"on",value:function(e,n){return s(o(t.prototype),"on",this).call(this,e,n),this}},{key:"once",value:function(e,n){return s(o(t.prototype),"once",this).call(this,e,n),this}},{key:"emit",value:function(e){for(var n,r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return(n=s(o(t.prototype),"emit",this)).call.apply(n,[this,e].concat(a)),this}},{key:"emitReserved",value:function(e){for(var n,r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return(n=s(o(t.prototype),"emit",this)).call.apply(n,[this,e].concat(a)),this}},{key:"listeners",value:function(e){return s(o(t.prototype),"listeners",this).call(this,e)}}]),t}(n(210));t.StrictEventEmitter=c},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({acos_:function(e){var t={x:Object(i.a)(e,"x","acos")};return r.a.runKernel(a.b,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({acosh_:function(e){var t={x:Object(i.a)(e,"x","acosh")};return r.a.runKernel(a.c,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({asin_:function(e){var t={x:Object(i.a)(e,"x","asin")};return r.a.runKernel(a.j,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({asinh_:function(e){var t={x:Object(i.a)(e,"x","asinh")};return r.a.runKernel(a.k,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({atan_:function(e){var t={x:Object(i.a)(e,"x","atan")};return r.a.runKernel(a.l,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({atanh_:function(e){var t={x:Object(i.a)(e,"x","atanh")};return r.a.runKernel(a.n,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({ceil_:function(e){var t={x:Object(i.a)(e,"x","ceil","float32")};return r.a.runKernel(a.y,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(126),u=n(10);var c=Object(u.b)({clipByValue_:function(e,t,n){var u=Object(i.a)(e,"x","clipByValue");if(o.b(t<=n,(function(){return"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,").")})),t===n)return Object(s.a)(u.shape,t,u.dtype);var c={x:u},l={clipValueMin:t,clipValueMax:n};return r.a.runKernel(a.z,c,l)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(8),i=n(6),o=n(21),s=n(28),u=n(10);var c=Object(u.b)({erf_:function(e){var t=Object(i.a)(e,"x","erf");o.b("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=Object(s.a)(t,"float32"));var n={x:t};return r.a.runKernel(a.bb,n)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({expm1_:function(e){var t={x:Object(i.a)(e,"x","expm1")};return r.a.runKernel(a.eb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({isFinite_:function(e){var t={x:Object(i.a)(e,"x","isFinite")};return r.a.runKernel(a.vb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({isInf_:function(e){var t={x:Object(i.a)(e,"x","isInf")};return r.a.runKernel(a.wb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({isNaN_:function(e){var t={x:Object(i.a)(e,"x","isNaN")};return r.a.runKernel(a.xb,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(56),a=n(6),i=n(22),o=n(50),s=n(10),u=n(103),c=n(245);var l=Object(s.b)({logSigmoid_:function(e){var t=Object(a.a)(e,"x","logSigmoid");return Object(r.a)((function(e){return{value:Object(o.a)(Object(c.a)(Object(o.a)(e))),gradFunc:function(t){return Object(i.a)(t,Object(u.a)(Object(o.a)(e)))}}}))(t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(9),a=n(56),i=n(6),o=n(28),s=n(63),u=n(113),c=n(104),l=n(22),d=n(10),p=n(32),f=n(35);var h=Object(d.b)({logSoftmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=Object(i.a)(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));return Object(a.a)((function(e,n){var a=Object(c.a)(e,t,!0),i=Object(p.a)(e,a),d=Object(p.a)(Object(o.a)(i,"float32"),Object(u.a)(Object(f.a)(Object(s.a)(i),t,!0)));n([d]);return{value:d,gradFunc:function(e,n){var a=Object(r.a)(n,1)[0],i=Object(s.a)(a);return Object(p.a)(e,Object(l.a)(Object(f.a)(e,t,!0),i))}}}))(n)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({onesLike_:function(e){var t={x:Object(i.a)(e,"x","onesLike")};return r.a.runKernel(a.hc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({reciprocal_:function(e){var t={x:Object(i.a)(e,"x","reciprocal")};return r.a.runKernel(a.uc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({sign_:function(e){var t={x:Object(i.a)(e,"x","sign")};return r.a.runKernel(a.Lc,t)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({softmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=Object(i.a)(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));var o={logits:n},s={dim:t};return r.a.runKernel(a.Pc,o,s)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({stridedSlice_:function(e,t,n,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,p={x:Object(i.a)(e,"x","stridedSlice","string_or_numeric")},f={begin:t,end:n,strides:o,beginMask:s,endMask:u,ellipsisMask:c,newAxisMask:l,shrinkAxisMask:d};return r.a.runKernel(a.dd,p,f)}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(12),a=n(8),i=n(6),o=n(10);var s=Object(o.b)({tan_:function(e){var t={x:Object(i.a)(e,"x","tan","float32")};return r.a.runKernel(a.jd,t)}})},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof e?e:function(e){return e()};function a(){return new Promise((function(e){return r((function(){return e()}))}))}}).call(this,n(720).setImmediate)},function(e,t,n){(function(t){var n;n=function(){"use strict";var e=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};function n(e,t){return e(t={exports:{}},t.exports),t.exports}e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))},"undefined"!==typeof window?window:"undefined"!==typeof t||"undefined"!==typeof self&&self;var r=n((function(e,t){e.exports=function(){function e(e){return e&&"object"===typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var a;return n&&!0===n.clone&&e(t)?r((a=t,Array.isArray(a)?[]:{}),t,n):t}function n(n,a,i){var o=n.slice();return a.forEach((function(a,s){"undefined"===typeof o[s]?o[s]=t(a,i):e(a)?o[s]=r(n[s],a,i):-1===n.indexOf(a)&&o.push(t(a,i))})),o}function r(a,i,o){var s=Array.isArray(i),u=(o||{arrayMerge:n}).arrayMerge||n;return s?Array.isArray(a)?u(a,i,o):t(i,o):function(n,a,i){var o={};return e(n)&&Object.keys(n).forEach((function(e){o[e]=t(n[e],i)})),Object.keys(a).forEach((function(s){e(a[s])&&n[s]?o[s]=r(n[s],a[s],i):o[s]=t(a[s],i)})),o}(a,i,o)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return r(e,n,t)}))},r}()})),a=n((function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default})),i=a.svg,o=a.xlink,s={};s[i.name]=i.uri,s[o.name]=o.uri;var u=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(r(s,t||{}))+">"+e+"</svg>"};return function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"===typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(u(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(e)},e.exports=n()}).call(this,n(154))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(1),a=n.n(r);function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=a.a.createContext({}),s=function(e){var t=e.children,n=i(e,["children"]),r=a.a.useMemo((function(){return n}),[n.classPrefix,n.globalClasses]);return a.a.createElement(o.Provider,{value:r},t)}},function(e,t,n){(function(t){var n;n=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!==typeof window?window:"undefined"!==typeof t||"undefined"!==typeof self&&self;var n=e((function(e,t){e.exports=function(){function e(e){return e&&"object"===typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var a;return n&&!0===n.clone&&e(t)?r((a=t,Array.isArray(a)?[]:{}),t,n):t}function n(n,a,i){var o=n.slice();return a.forEach((function(a,s){"undefined"===typeof o[s]?o[s]=t(a,i):e(a)?o[s]=r(n[s],a,i):-1===n.indexOf(a)&&o.push(t(a,i))})),o}function r(a,i,o){var s=Array.isArray(i),u=(o||{arrayMerge:n}).arrayMerge||n;return s?Array.isArray(a)?u(a,i,o):t(i,o):function(n,a,i){var o={};return e(n)&&Object.keys(n).forEach((function(e){o[e]=t(n[e],i)})),Object.keys(a).forEach((function(s){e(a[s])&&n[s]?o[s]=r(n[s],a[s],i):o[s]=t(a[s],i)})),o}(a,i,o)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return r(e,n,t)}))},r}()})),r=e((function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default})),a=r.svg,i=r.xlink,o={};o[a.name]=a.uri,o[i.name]=i.uri;var s,u=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(n(o,t||{}))+">"+e+"</svg>"},c=r.svg,l=r.xlink,d={attrs:(s={style:["position: absolute","width: 0","height: 0"].join("; "),"aria-hidden":"true"},s[c.name]=c.uri,s[l.name]=l.uri,s)},p=function(e){this.config=n(d,e||{}),this.symbols=[]};p.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},p.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},p.prototype.find=function(e){return this.symbols.filter((function(t){return t.id===e}))[0]||null},p.prototype.has=function(e){return null!==this.find(e)},p.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map((function(e){return e.stringify()})).join("");return u(t,e)},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){this.symbols.forEach((function(e){return e.destroy()}))};var f=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};f.prototype.stringify=function(){return this.content},f.prototype.toString=function(){return this.stringify()},f.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(t){return delete e[t]}))};var h=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},m=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"===typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return h(u(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(f),v={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},b=function(e){return Array.prototype.slice.call(e,0)},g={isChrome:function(){return/chrome/i.test(navigator.userAgent)},isFirefox:function(){return/firefox/i.test(navigator.userAgent)},isIE:function(){return/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)},isEdge:function(){return/edge/i.test(navigator.userAgent)}},y=function(e){var t=[];return b(e.querySelectorAll("style")).forEach((function(e){e.textContent+="",t.push(e)})),t},_=function(e){return(e||window.location.href).split("#")[0]},x=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",(function(t,n,r){!function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!1,!1,t),window.dispatchEvent(n)}(e,{oldUrl:r,newUrl:n})}))}])},k=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern, mask, clipPath"),b(e.querySelectorAll("symbol")).forEach((function(e){b(e.querySelectorAll(t)).forEach((function(t){e.parentNode.insertBefore(t,e)}))})),e},w=r.xlink.uri,O="xlink:href",j=/[{}|\\\^\[\]`"<>]/g;function S(e){return e.replace(j,(function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()}))}var C=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],T=C.map((function(e){return"["+e+"]"})).join(","),N=function(e,t,n,r){var a=S(n),i=S(r);(function(e,t){return b(e).reduce((function(e,n){if(!n.attributes)return e;var r=b(n.attributes),a=t?r.filter(t):r;return e.concat(a)}),[])})(e.querySelectorAll(T),(function(e){var t=e.localName,n=e.value;return-1!==C.indexOf(t)&&-1!==n.indexOf("url("+a)})).forEach((function(e){return e.value=e.value.replace(new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),i)})),function(e,t,n){b(e).forEach((function(e){var r=e.getAttribute(O);if(r&&0===r.indexOf(t)){var a=r.replace(t,n);e.setAttributeNS(w,O,a)}}))}(t,a,i)},E={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"};return function(e){function t(t){var r=this;void 0===t&&(t={}),e.call(this,n(v,t));var a,i=(a=a||Object.create(null),{on:function(e,t){(a[e]||(a[e]=[])).push(t)},off:function(e,t){a[e]&&a[e].splice(a[e].indexOf(t)>>>0,1)},emit:function(e,t){(a[e]||[]).map((function(e){e(t)})),(a["*"]||[]).map((function(n){n(e,t)}))}});this._emitter=i,this.node=null;var o=this.config;if(o.autoConfigure&&this._autoConfigure(t),o.syncUrlsWithBaseTag){var s=document.getElementsByTagName("base")[0].getAttribute("href");i.on(E.MOUNT,(function(){return r.updateUrls("#",s)}))}var u=this._handleLocationChange.bind(this);this._handleLocationChange=u,o.listenLocationChangeEvent&&window.addEventListener(o.locationChangeEvent,u),o.locationChangeAngularEmitter&&x(o.locationChangeEvent),i.on(E.MOUNT,(function(e){o.moveGradientsOutsideSymbol&&k(e)})),i.on(E.SYMBOL_MOUNT,(function(e){o.moveGradientsOutsideSymbol&&k(e.parentNode),(g.isIE()||g.isEdge())&&y(e)}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.prototype._autoConfigure=function(e){var t=this.config;"undefined"===typeof e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag="undefined"!==typeof document.getElementsByTagName("base")[0]),"undefined"===typeof e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter="undefined"!==typeof window.angular),"undefined"===typeof e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=g.isFirefox())},t.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},t.prototype.add=function(t){var n=e.prototype.add.call(this,t);return this.isMounted&&n&&(t.mount(this.node),this._emitter.emit(E.SYMBOL_MOUNT,t.node)),n},t.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"===typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach((function(e){e.mount(n.node),t._emitter.emit(E.SYMBOL_MOUNT,e.node)})),b(r.querySelectorAll("symbol")).forEach((function(e){var t=m.createFromExistingNode(e);t.node=e,n.add(t)})),this._emitter.emit(E.MOUNT,r),r},t.prototype.destroy=function(){var e=this.config,t=this.symbols,n=this._emitter;t.forEach((function(e){return e.destroy()})),n.off("*"),window.removeEventListener(e.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},t.prototype.mount=function(e,t){if(void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1),this.isMounted)return this.node;var n="string"===typeof e?document.querySelector(e):e,r=this.render();return this.node=r,t&&n.childNodes[0]?n.insertBefore(r,n.childNodes[0]):n.appendChild(r),this._emitter.emit(E.MOUNT,r),r},t.prototype.render=function(){return h(this.stringify())},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},t.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return N(this.node,n,_(e)+"#",_(t)+"#"),!0},Object.defineProperties(t.prototype,r),t}(p)},e.exports=n()}).call(this,n(154))},function(e,t){var n="undefined"!==typeof Element,r="function"===typeof Map,a="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,t){try{return function e(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){if(t.constructor!==o.constructor)return!1;var s,u,c,l;if(Array.isArray(t)){if((s=t.length)!=o.length)return!1;for(u=s;0!==u--;)if(!e(t[u],o[u]))return!1;return!0}if(r&&t instanceof Map&&o instanceof Map){if(t.size!==o.size)return!1;for(l=t.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;for(l=t.entries();!(u=l.next()).done;)if(!e(u.value[1],o.get(u.value[0])))return!1;return!0}if(a&&t instanceof Set&&o instanceof Set){if(t.size!==o.size)return!1;for(l=t.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(o)){if((s=t.length)!=o.length)return!1;for(u=s;0!==u--;)if(t[u]!==o[u])return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===o.toString();if((s=(c=Object.keys(t)).length)!==Object.keys(o).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(o,c[u]))return!1;if(n&&t instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!t.$$typeof)&&!e(t[c[u]],o[c[u]]))return!1;return!0}return t!==t&&o!==o}(e,t)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.io=t.Socket=t.Manager=t.protocol=void 0;var r=n(684),a=n(349),i=n(120)("socket.io-client");e.exports=t=s;var o=t.managers={};function s(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,s=r.url(e,t.path||"/socket.io"),u=s.source,c=s.id,l=s.path,d=o[c]&&l in o[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(i("ignoring socket cache for %s",u),n=new a.Manager(u,t)):(o[c]||(i("new io instance for %s",u),o[c]=new a.Manager(u,t)),n=o[c]),s.query&&!t.query&&(t.query=s.queryKey),n.socket(s.path,t)}t.io=s;var u=n(301);Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return u.protocol}}),t.connect=s;var c=n(349);Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return c.Manager}});var l=n(357);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return l.Socket}}),t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}]},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(2),a=n.n(r),i=n(7),o=n(4),s=n(11),u=n(17),c=n(13),l=n(16),d=n(0),p=n(71),f=n(409),h=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"decodeUTF8",value:function(){return new m(this)}}]),t}(p.a),m=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this))).upstream=e,n.impl=new v(e),n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.impl.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(f.a),v=function(t){function r(e){var t;if(Object(o.a)(this,r),(t=Object(u.a)(this,Object(c.a)(r).call(this))).upstream=e,Object(d.env)().get("IS_BROWSER"))t.decoder=new TextDecoder("utf-8");else{var a=n(723).StringDecoder;t.decoder=new a("utf8")}return t}return Object(l.a)(r,t),Object(s.a)(r,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Utf8")}},{key:"pump",value:function(){var t=Object(i.a)(a.a.mark((function t(){var n,r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.upstream.next();case 2:if(!(n=t.sent).done){t.next=7;break}return t.abrupt("return",!1);case 7:r=n.value;case 8:return i=Object(d.env)().get("IS_BROWSER")?this.decoder.decode(r,{stream:!0}):this.decoder.write(e.from(r.buffer)),this.outputQueue.push(i),t.abrupt("return",!0);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(p.b)}).call(this,n(211).Buffer)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(2),a=n.n(r),i=n(7),o=n(4),s=n(11),u=n(17),c=n(13),l=n(16),d=n(71),p=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"split",value:function(e){return new f(this,e)}}]),t}(d.a),f=function(e){function t(e,n){var r;return Object(o.a)(this,t),(r=Object(u.a)(this,Object(c.a)(t).call(this))).upstream=e,r.impl=new h(e,n),r}return Object(l.a)(t,e),Object(s.a)(t,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.impl.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(p),h=function(e){function t(e,n){var r;return Object(o.a)(this,t),(r=Object(u.a)(this,Object(c.a)(t).call(this))).upstream=e,r.separator=n,r.carryover="",r}return Object(l.a)(t,e),Object(s.a)(t,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Split('").concat(this.separator,"')")}},{key:"pump",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,r,i,o,s,u,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=9;break}if(""!==this.carryover){e.next=6;break}return e.abrupt("return",!1);case 6:return this.outputQueue.push(this.carryover),this.carryover="",e.abrupt("return",!0);case 9:for((n=t.value.split(this.separator))[0]=this.carryover+n[0],r=!0,i=!1,o=void 0,e.prev=14,s=n.slice(0,-1)[Symbol.iterator]();!(r=(u=s.next()).done);r=!0)c=u.value,this.outputQueue.push(c);e.next=22;break;case 18:e.prev=18,e.t0=e.catch(14),i=!0,o=e.t0;case 22:e.prev=22,e.prev=23,r||null==s.return||s.return();case 25:if(e.prev=25,!i){e.next=28;break}throw o;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return this.carryover=n[n.length-1],e.abrupt("return",!0);case 32:case"end":return e.stop()}}),e,this,[[14,18,22,30],[23,,25,29]])})));return function(){return e.apply(this,arguments)}}()}]),t}(d.b)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0);function a(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(s){i=[6,s],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function o(e,t){for(var n=[],r=0;r<e.length;r++)n.push({value:e[r],index:r});n.sort((function(e,t){return t.value-e.value}));var a=new Float32Array(t),i=new Int32Array(t);for(r=0;r<t;r++)a[r]=n[r].value,i[r]=n[r].index;return{values:a,indices:i}}var s=function(){function e(){this.classDatasetMatrices={},this.classExampleCount={},this.labelToClassId={},this.nextClassId=0}return e.prototype.addExample=function(e,t){var n=this;if(null==this.exampleShape&&(this.exampleShape=e.shape),!r.util.arraysEqual(this.exampleShape,e.shape))throw new Error("Example shape provided, "+e.shape+" does not match previously provided example shapes "+this.exampleShape+".");this.clearTrainDatasetMatrix(),t in this.labelToClassId||(this.labelToClassId[t]=this.nextClassId++),Object(r.tidy)((function(){var a=n.normalizeVectorToUnitLength(Object(r.reshape)(e,[e.size])),i=a.shape[0];if(null==n.classDatasetMatrices[t])n.classDatasetMatrices[t]=Object(r.reshape)(a,[1,i]);else{var o=Object(r.concat)([Object(r.reshape)(n.classDatasetMatrices[t],[n.classExampleCount[t],i]),Object(r.reshape)(a,[1,i])],0);n.classDatasetMatrices[t].dispose(),n.classDatasetMatrices[t]=o}Object(r.keep)(n.classDatasetMatrices[t]),null==n.classExampleCount[t]&&(n.classExampleCount[t]=0),n.classExampleCount[t]++}))},e.prototype.similarities=function(e){var t=this;return Object(r.tidy)((function(){var n,a,i=t.normalizeVectorToUnitLength(Object(r.reshape)(e,[e.size])),o=i.shape[0];if(null==t.trainDatasetMatrix){var s=null;for(var u in t.classDatasetMatrices)n=s,a=t.classDatasetMatrices[u],s=null==n&&null==a?null:null==n?a.clone():null===a?n.clone():Object(r.concat)([n,a],0);t.trainDatasetMatrix=s}if(null==t.trainDatasetMatrix)return console.warn("Cannot predict without providing training examples."),null;Object(r.keep)(t.trainDatasetMatrix);var c=t.getNumExamples();return Object(r.reshape)(Object(r.matMul)(Object(r.reshape)(t.trainDatasetMatrix,[c,o]),Object(r.reshape)(i,[o,1])),[c])}))},e.prototype.predictClass=function(e,t){return void 0===t&&(t=3),a(this,void 0,void 0,(function(){var n,a,s,u,c=this;return i(this,(function(i){switch(i.label){case 0:if(t<1)throw new Error("Please provide a positive integer k value to predictClass.");if(0===this.getNumExamples())throw new Error("You have not added any examples to the KNN classifier. Please add examples before calling predictClass.");return n=Object(r.tidy)((function(){return Object(r.cast)(c.similarities(e),"float32")})),a=Math.min(t,this.getNumExamples()),u=o,[4,n.data()];case 1:return s=u.apply(void 0,[i.sent(),a]).indices,n.dispose(),[2,this.calculateTopClass(s,a)]}}))}))},e.prototype.clearClass=function(e){if(null==this.classDatasetMatrices[e])throw new Error("Cannot clear invalid class "+e);this.classDatasetMatrices[e].dispose(),delete this.classDatasetMatrices[e],delete this.classExampleCount[e],this.clearTrainDatasetMatrix()},e.prototype.clearAllClasses=function(){for(var e in this.classDatasetMatrices)this.clearClass(e)},e.prototype.getClassExampleCount=function(){return this.classExampleCount},e.prototype.getClassifierDataset=function(){return this.classDatasetMatrices},e.prototype.getNumClasses=function(){return Object.keys(this.classExampleCount).length},e.prototype.setClassifierDataset=function(e){for(var t in this.clearTrainDatasetMatrix(),this.classDatasetMatrices=e,e)this.classExampleCount[t]=e[t].shape[0]},e.prototype.calculateTopClass=function(e,t){var n,r={};if(null==e)return{classIndex:this.labelToClassId[n],label:n,confidences:r};var a={},i=0;for(var o in this.classDatasetMatrices)i+=this.classExampleCount[o],a[o]=i;var s={};for(var o in this.classDatasetMatrices)s[o]=0;for(var u=0;u<e.length;u++){var c=e[u];for(var o in this.classDatasetMatrices)if(c<a[o]){s[o]++;break}}var l=0;for(var o in this.classDatasetMatrices){var d=s[o]/t;d>l&&(l=d,n=o),r[o]=d}return{classIndex:this.labelToClassId[n],label:n,confidences:r}},e.prototype.clearTrainDatasetMatrix=function(){null!=this.trainDatasetMatrix&&(this.trainDatasetMatrix.dispose(),this.trainDatasetMatrix=null)},e.prototype.normalizeVectorToUnitLength=function(e){return Object(r.tidy)((function(){var t=Object(r.norm)(e);return Object(r.div)(e,t)}))},e.prototype.getNumExamples=function(){var e=0;for(var t in this.classDatasetMatrices)e+=this.classExampleCount[t];return e},e.prototype.dispose=function(){for(var e in this.clearTrainDatasetMatrix(),this.classDatasetMatrices)this.classDatasetMatrices[e].dispose()},e}();function u(){return new s}},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",(function(){return r}));var r=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}]},function(e,t,n){"use strict";var r=n(0);Object(r.env)().registerFlag("KEEP_INTERMEDIATE_TENSORS",(function(){return!1}),(function(e){e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")}));var a=n(9),i=n(2),o=n.n(i),s=n(7),u=n(4),c=n(11),l=n(89),d=n(18),p=n(5),f=function(){function e(t,n,r){var a=this;Object(u.a)(this,e),this.node=t,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map((function(e){return a.getInput(e)})),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce((function(e,t){return e[t]=a.getAttr(t),e}),{}))}return Object(c.a)(e,[{key:"getInput",value:function(e){return Object(p.e)(e,this.tensorMap,this.context)}},{key:"getAttr",value:function(e,t){var n=this.node.rawAttrs[e];if(null!=n.tensor)return Object(p.e)(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return Object(l.f)(this.node.rawAttrs,e,t);if(null!=n.s)return Object(l.i)(this.node.rawAttrs,e,t);if(null!=n.b)return Object(l.c)(this.node.rawAttrs,e,t);if(null!=n.shape)return Object(l.k)(this.node.rawAttrs,e,t);if(null!=n.type)return Object(l.e)(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return Object(l.g)(this.node.rawAttrs,e,t);if(null!=n.list.s)return Object(l.h)(this.node.rawAttrs,e,t);if(null!=n.list.shape)return Object(l.j)(this.node.rawAttrs,e,t);if(null!=n.list.b)return Object(l.b)(this.node.rawAttrs,e,t);if(null!=n.list.type)return Object(l.d)(this.node.rawAttrs,e,t)}return t}}]),e}(),h=n(159),m=n(36),v=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"AddN":return[r.addN(Object(p.d)("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"Mul":return[r.mul(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"RealDiv":case"Div":return[r.div(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"DivNoNan":return[r.divNoNan(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"FloorDiv":return[r.floorDiv(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"Sub":return[r.sub(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"Minimum":return[r.minimum(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"Maximum":return[r.maximum(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"Pow":return[r.pow(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},b=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(Object(p.d)("x",e,t,n))];case"Acos":return[r.acos(Object(p.d)("x",e,t,n))];case"Acosh":return[r.acosh(Object(p.d)("x",e,t,n))];case"Asin":return[r.asin(Object(p.d)("x",e,t,n))];case"Asinh":return[r.asinh(Object(p.d)("x",e,t,n))];case"Atan":return[r.atan(Object(p.d)("x",e,t,n))];case"Atan2":return[r.atan2(Object(p.d)("x",e,t,n),Object(p.d)("y",e,t,n))];case"Atanh":return[r.atanh(Object(p.d)("x",e,t,n))];case"Ceil":return[r.ceil(Object(p.d)("x",e,t,n))];case"Complex":return[r.complex(Object(p.d)("real",e,t,n),Object(p.d)("imag",e,t,n))];case"Cos":return[r.cos(Object(p.d)("x",e,t,n))];case"Cosh":return[r.cosh(Object(p.d)("x",e,t,n))];case"Elu":return[r.elu(Object(p.d)("x",e,t,n))];case"Erf":return[r.erf(Object(p.d)("x",e,t,n))];case"Exp":return[r.exp(Object(p.d)("x",e,t,n))];case"Expm1":return[r.expm1(Object(p.d)("x",e,t,n))];case"Floor":return[r.floor(Object(p.d)("x",e,t,n))];case"Log":return[r.log(Object(p.d)("x",e,t,n))];case"Log1p":return[r.log1p(Object(p.d)("x",e,t,n))];case"Imag":return[r.imag(Object(p.d)("x",e,t,n))];case"Neg":return[r.neg(Object(p.d)("x",e,t,n))];case"Reciprocal":return[r.reciprocal(Object(p.d)("x",e,t,n))];case"Real":return[r.real(Object(p.d)("x",e,t,n))];case"Relu":return[r.relu(Object(p.d)("x",e,t,n))];case"Round":return[r.round(Object(p.d)("x",e,t,n))];case"Selu":return[r.selu(Object(p.d)("x",e,t,n))];case"Sigmoid":return[r.sigmoid(Object(p.d)("x",e,t,n))];case"Sin":return[r.sin(Object(p.d)("x",e,t,n))];case"Sign":return[r.sign(Object(p.d)("x",e,t,n))];case"Sinh":return[r.sinh(Object(p.d)("x",e,t,n))];case"Softplus":return[r.softplus(Object(p.d)("x",e,t,n))];case"Sqrt":return[r.sqrt(Object(p.d)("x",e,t,n))];case"Square":return[r.square(Object(p.d)("x",e,t,n))];case"Tanh":return[r.tanh(Object(p.d)("x",e,t,n))];case"Tan":return[r.tan(Object(p.d)("x",e,t,n))];case"ClipByValue":return[r.clipByValue(Object(p.d)("x",e,t,n),Object(p.d)("clipValueMin",e,t,n),Object(p.d)("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(Object(p.d)("x",e,t,n))];case"Rsqrt":return[r.rsqrt(Object(p.e)(e.inputNames[0],t,n))];case"Prod":return[r.prod(Object(p.d)("x",e,t,n),Object(p.d)("axes",e,t,n))];case"LeakyRelu":return[r.leakyRelu(Object(p.d)("x",e,t,n),Object(p.d)("alpha",e,t,n))];case"Prelu":return[r.prelu(Object(p.d)("x",e,t,n),Object(p.d)("alpha",e,t,n))];case"IsNan":return[r.isNaN(Object(p.e)(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}};function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){r.util.assert(e.length===t.length,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}));for(var a=0;a<e.length;a++){var i=e[a],o=t[a];r.util.assert(i<0||o<0||i===o,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}}}function y(e){return"number"!==typeof e&&!e.some((function(e){return e<0}))}function _(e,t,n){var r=x(e,n),a=!y(r);if(a&&0===t.length)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(r));if(a&&t.forEach((function(e){r=x(e.shape,r)})),!y(r))throw new Error("Non-fully-defined elementShape: ".concat(r));return r}function x(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));for(var n=[],r=0;r<e.length;++r){var a=e[r],i=t[r];if(a>=0&&i>=0&&a!==i)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[r]=a>=0?a:i}return n}var k=function(){function e(t,n,a,i,o,s,c){Object(u.a)(this,e),this.name=t,this.dtype=n,this.maxSize=a,this.elementShape=i,this.identicalElementShapes=o,this.dynamicSize=s,this.clearAfterRead=c,this.tensors=[],this.closed_=!1,this.idTensor=Object(r.scalar)(0),Object(r.keep)(this.idTensor)}return Object(c.a)(e,[{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"read",value:function(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}},{key:"readMany",value:function(e){var t=this;return e.map((function(e){return t.read(e)}))}},{key:"write",value:function(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));var n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),g(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,Object(r.keep)(t),n.written=!0,this.tensors[e]=n}},{key:"writeMany",value:function(e,t){var n=this;if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach((function(e,r){return n.write(e,t[r])}))}},{key:"gather",value:function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(var n=0;n<this.size();n++)e.push(n)}if(0===e.length)return Object(r.tensor)([],[0].concat(this.elementShape));var a=this.readMany(e);return g(this.elementShape,a[0].shape,"TensorArray shape mismatch: "),Object(r.stack)(a,0)}},{key:"concat",value:function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return Object(r.tensor)([],[0].concat(this.elementShape));for(var t=[],n=0;n<this.size();n++)t.push(n);var a=this.readMany(t);return g(this.elementShape,a[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(a[0].shape,")")),Object(r.concat)(a,0)}},{key:"scatter",value:function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));var n=Math.max.apply(Math,Object(d.a)(e));if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,Object(r.unstack)(t,0))}},{key:"split",value:function(e,t){var n=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));var a=0,i=e.map((function(e){return a+=e}));if(a!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(a,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");var o=0===a?0:t.size/a,s=[];Object(r.tidy)((function(){t=Object(r.reshape)(t,[1,a,o]);for(var u=0;u<e.length;++u){var c=[0,0===u?0:i[u-1],0],l=[1,e[u],o];s[u]=Object(r.reshape)(Object(r.slice)(t,c,l),n.elementShape)}return s}));for(var u=[],c=0;c<e.length;c++)u[c]=c;this.writeMany(u,s)}},{key:"id",get:function(){return this.idTensor.id}},{key:"closed",get:function(){return this.closed_}}]),e}(),w=function(){function e(t,n,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;Object(u.a)(this,e),this.tensors=t,this.elementShape=n,this.elementDtype=a,null!=t&&t.forEach((function(e){if(a!==e.dtype)throw new Error("Invalid data types; op elements ".concat(a,", but list elements ").concat(e.dtype));g(n,e.shape,"TensorList shape mismatch: "),Object(r.keep)(e)})),this.idTensor=Object(r.scalar)(0),this.maxNumElements=i,Object(r.keep)(this.idTensor)}return Object(c.a)(e,[{key:"copy",value:function(){return new e(Object(d.a)(this.tensors),this.elementShape,this.elementDtype)}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"stack",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==a&&this.tensors.length!==a)throw new Error("Operation expected a list with ".concat(a," elements but got a list with ").concat(this.tensors.length," elements."));g(e,this.elementShape,"TensorList shape mismatch: ");var i=_(this.elementShape,this.tensors,e);return Object(r.tidy)((function(){var e=n.tensors.map((function(e){return Object(r.reshape)(e,i)}));return Object(r.stack)(e,0)}))}},{key:"popBack",value:function(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");var n=_(this.elementShape,this.tensors,e),a=this.tensors.pop();return a.kept=!1,g(a.shape,e,"TensorList shape mismatch: "),Object(r.reshape)(a,n)}},{key:"pushBack",value:function(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(g(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Object(r.keep)(e),this.tensors.push(e)}},{key:"resize",value:function(t){if(t<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(t));if(-1!==this.maxNumElements&&t>this.maxNumElements)throw new Error("TensorListResize input size ".concat(t," is greater maxNumElement ").concat(this.maxNumElements,"."));var n=new e([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=t;for(var r=0;r<Math.min(this.tensors.length,t);++r)n.tensors[r]=this.tensors[r];return n}},{key:"getItem",value:function(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));g(this.tensors[e].shape,t,"TensorList shape mismatch: ");var a=_(this.elementShape,this.tensors,t);return Object(r.reshape)(this.tensors[e],a)}},{key:"setItem",value:function(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));g(this.elementShape,t.shape,"TensorList shape mismatch: "),Object(r.keep)(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}},{key:"gather",value:function(e,t,n){var a=this;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));g(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());var i=_(this.elementShape,this.tensors,n);return 0===e.length?Object(r.tensor)([],[0].concat(i)):Object(r.tidy)((function(){var t=e.map((function(e){return Object(r.reshape)(a.tensors[e],i)}));return Object(r.stack)(t,0)}))}},{key:"concat",value:function(e,t){var n=this;if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));g(this.elementShape,t,"TensorList shape mismatch: ");var a=_(this.elementShape,this.tensors,t);return 0===this.size()?Object(r.tensor)([],[0].concat(a)):Object(r.tidy)((function(){var e=n.tensors.map((function(e){return Object(r.reshape)(e,a)}));return Object(r.concat)(e,0)}))}},{key:"id",get:function(){return this.idTensor.id}}]),e}();function O(e,t,n){var a=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));g(e.shape.slice(1),t,"TensorList shape mismatch: ");var i=Object(r.unstack)(e);return new w(i,t,a)}function j(e,t,n,r){return new w([],e,t,r)}function S(e,t,n,a){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));var i=Math.max.apply(Math,Object(d.a)(t));if(null!=a&&-1!==a&&i>=a)throw new Error("Max index must be < array size (".concat(i,"  vs. ").concat(a,")"));var o=new w([],n,e.dtype,a),s=Object(r.unstack)(e,0);return t.forEach((function(e,t){o.setItem(e,s[t])})),o}function C(e,t,n){var a=0,i=t.map((function(e){return a+=e}));if(a!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(a,", and tensor's shape is: ").concat(e.shape));for(var o=x(e.shape.slice(1),n),s=0===a?0:e.size/a,u=Object(r.tidy)((function(){var n=[];e=Object(r.reshape)(e,[1,a,s]);for(var u=0;u<t.length;++u){var c=[0,0===u?0:i[u-1],0],l=[1,t[u],s];n[u]=Object(r.reshape)(Object(r.slice)(e,c,l),o)}return e.dispose(),n})),c=new w([],n,e.dtype,t.length),l=0;l<u.length;l++)c.setItem(l,u[l]);return c}var T=function(){var e=Object(s.a)(o.a.mark((function e(t,n,a){var i,s,u,c,l,d,f,h,m,v,b,g,y,_,x,w,T,N,E,I,A,R,D,M,F,L,P,z,B,V,U,W,H,G,$,q,K,X,Y,Z,Q,J,ee,te,ne,re,ae,ie,oe,se,ue,ce,le,de,pe,fe,he,me,ve,be,ge,ye,_e,xe,ke,we,Oe,je,Se,Ce,Te,Ne,Ee,Ie,Ae,Re,De,Me,Fe,Le,Pe,ze,Be,Ve,Ue,We,He,Ge,$e,qe,Ke,Xe,Ye,Ze,Qe,Je,et,tt,nt,rt,at,it,ot;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="If"===e.t0?3:"StatelessIf"===e.t0?3:"While"===e.t0?15:"StatelessWhile"===e.t0?15:"LoopCond"===e.t0?19:"Switch"===e.t0?21:"Merge"===e.t0?32:"Enter"===e.t0?37:"Exit"===e.t0?41:"NextIteration"===e.t0?44:"TensorArrayV3"===e.t0?47:"TensorArrayWriteV3"===e.t0?57:"TensorArrayReadV3"===e.t0?63:"TensorArrayGatherV3"===e.t0?67:"TensorArrayScatterV3"===e.t0?72:"TensorArrayConcatV3"===e.t0?78:"TensorArraySplitV3"===e.t0?82:"TensorArraySizeV3"===e.t0?88:"TensorArrayCloseV3"===e.t0?91:"TensorListSetItem"===e.t0?95:"TensorListGetItem"===e.t0?101:"TensorListScatterV2"===e.t0?107:"TensorListScatter"===e.t0?107:"TensorListReserve"===e.t0?114:"EmptyTensorList"===e.t0?114:"TensorListGather"===e.t0?122:"TensorListStack"===e.t0?128:"TensorListFromTensor"===e.t0?134:"TensorListConcat"===e.t0?140:"TensorListConcatV2"===e.t0?140:"TensorListPushBack"===e.t0?145:"TensorListPopBack"===e.t0?150:"TensorListSplit"===e.t0?155:"TensorListLength"===e.t0?161:"TensorListResize"===e.t0?164:170;break;case 3:return i=Object(p.d)("thenBranch",t,n,a),s=Object(p.d)("elseBranch",t,n,a),u=Object(p.d)("cond",t,n,a),c=Object(p.d)("args",t,n,a),e.next=9,u.data();case 9:if(!e.sent[0]){e.next=14;break}return e.abrupt("return",a.functionMap[i].executeFunctionAsync(c,a.tensorArrayMap,a.tensorListMap));case 14:return e.abrupt("return",a.functionMap[s].executeFunctionAsync(c,a.tensorArrayMap,a.tensorListMap));case 15:return e.delegateYield(o.a.mark((function e(){var r,i,s,u,c,l,d,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(p.d)("body",t,n,a),i=Object(p.d)("cond",t,n,a),s=Object(p.d)("args",t,n,a),e.next=5,a.functionMap[i].executeFunctionAsync(s,a.tensorArrayMap,a.tensorListMap);case 5:return u=e.sent,c=s.map((function(e){return e.id})),e.next=9,u[0].data();case 9:l=e.sent,u.forEach((function(e){e.kept||-1!==c.indexOf(e.id)||e.dispose()})),d=s,f=o.a.mark((function e(){var t,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d,e.next=3,a.functionMap[r].executeFunctionAsync(d,a.tensorArrayMap,a.tensorListMap);case 3:return d=e.sent,n=d.map((function(e){return e.id})),t.forEach((function(e){e.kept||-1!==c.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()})),e.next=8,a.functionMap[i].executeFunctionAsync(d,a.tensorArrayMap,a.tensorListMap);case 8:return s=e.sent,e.next=11,s[0].data();case 11:l=e.sent,s.forEach((function(e){e.kept||-1!==c.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()}));case 13:case"end":return e.stop()}}),e)}));case 13:if(!l[0]){e.next=17;break}return e.delegateYield(f(),"t0",15);case 15:e.next=13;break;case 17:return e.abrupt("return",{v:d});case 18:case"end":return e.stop()}}),e)}))(),"t1",16);case 16:if("object"!==typeof(l=e.t1)){e.next=19;break}return e.abrupt("return",l.v);case 19:return d=Object(p.d)("pred",t,n,a),e.abrupt("return",[Object(p.a)(d)]);case 21:return f=Object(p.d)("pred",t,n,a),(h=Object(p.d)("data",t,n,a)).kept||(h=Object(p.a)(h)),e.next=26,f.data();case 26:if(!e.sent[0]){e.next=30;break}e.t2=[void 0,h],e.next=31;break;case 30:e.t2=[h,void 0];case 31:return e.abrupt("return",e.t2);case 32:if(!(m=t.inputNames.find((function(e){return void 0!==Object(p.e)(e,n,a)})))){e.next=36;break}return v=Object(p.e)(m,n,a),e.abrupt("return",[Object(p.a)(v)]);case 36:return e.abrupt("return",void 0);case 37:return b=Object(p.d)("frameName",t,n,a),g=Object(p.d)("tensor",t,n,a),a.enterFrame(b),e.abrupt("return",[Object(p.a)(g)]);case 41:return y=Object(p.d)("tensor",t,n,a),a.exitFrame(),e.abrupt("return",[Object(p.a)(y)]);case 44:return _=Object(p.d)("tensor",t,n,a),a.nextIteration(),e.abrupt("return",[Object(p.a)(_)]);case 47:return x=Object(p.d)("size",t,n,a),w=Object(p.d)("dtype",t,n,a),T=Object(p.d)("elementShape",t,n,a),N=Object(p.d)("dynamicSize",t,n,a),E=Object(p.d)("clearAfterRead",t,n,a),I=Object(p.d)("identicalElementShapes",t,n,a),A=Object(p.d)("name",t,n,a),R=new k(A,w,x,T,I,N,E),a.addTensorArray(R),e.abrupt("return",[R.idTensor,Object(r.scalar)(1)]);case 57:return D=Object(p.d)("tensorArrayId",t,n,a),M=Object(p.d)("index",t,n,a),F=Object(p.d)("tensor",t,n,a),(L=a.getTensorArray(D.id)).write(M,F),e.abrupt("return",[L.idTensor]);case 63:return P=Object(p.d)("tensorArrayId",t,n,a),z=Object(p.d)("index",t,n,a),B=a.getTensorArray(P.id),e.abrupt("return",[B.read(z)]);case 67:return V=Object(p.d)("tensorArrayId",t,n,a),U=Object(p.d)("indices",t,n,a),W=Object(p.d)("dtype",t,n,a),H=a.getTensorArray(V.id),e.abrupt("return",[H.gather(U,W)]);case 72:return G=Object(p.d)("tensorArrayId",t,n,a),$=Object(p.d)("indices",t,n,a),q=Object(p.d)("tensor",t,n,a),(K=a.getTensorArray(G.id)).scatter($,q),e.abrupt("return",[K.idTensor]);case 78:return X=Object(p.d)("tensorArrayId",t,n,a),Y=a.getTensorArray(X.id),Z=Object(p.d)("dtype",t,n,a),e.abrupt("return",[Y.concat(Z)]);case 82:return Q=Object(p.d)("tensorArrayId",t,n,a),J=Object(p.d)("tensor",t,n,a),ee=Object(p.d)("lengths",t,n,a),(te=a.getTensorArray(Q.id)).split(ee,J),e.abrupt("return",[te.idTensor]);case 88:return ne=Object(p.d)("tensorArrayId",t,n,a),re=a.getTensorArray(ne.id),e.abrupt("return",[Object(r.scalar)(re.size(),"int32")]);case 91:return ae=Object(p.d)("tensorArrayId",t,n,a),(ie=a.getTensorArray(ae.id)).clearAndClose(),e.abrupt("return",[ie.idTensor]);case 95:return oe=Object(p.d)("tensorListId",t,n,a),se=Object(p.d)("index",t,n,a),ue=Object(p.d)("tensor",t,n,a),(ce=a.getTensorList(oe.id)).setItem(se,ue),e.abrupt("return",[ce.idTensor]);case 101:return le=Object(p.d)("tensorListId",t,n,a),de=Object(p.d)("index",t,n,a),pe=Object(p.d)("elementShape",t,n,a),fe=Object(p.d)("elementDType",t,n,a),he=a.getTensorList(le.id),e.abrupt("return",[he.getItem(de,pe,fe)]);case 107:return me=Object(p.d)("indices",t,n,a),ve=Object(p.d)("tensor",t,n,a),be=Object(p.d)("elementShape",t,n,a),ge=Object(p.d)("numElements",t,n,a),ye=S(ve,me,be,ge),a.addTensorList(ye),e.abrupt("return",[ye.idTensor]);case 114:return _e=Object(p.d)("elementShape",t,n,a),xe=Object(p.d)("elementDType",t,n,a),ke="TensorListReserve"===t.op?"numElements":"maxNumElements",we=Object(p.d)(ke,t,n,a),Oe="TensorListReserve"===t.op?-1:we,je=j(_e,xe,0,Oe),a.addTensorList(je),e.abrupt("return",[je.idTensor]);case 122:return Se=Object(p.d)("tensorListId",t,n,a),Ce=Object(p.d)("indices",t,n,a),Te=Object(p.d)("elementShape",t,n,a),Ne=Object(p.d)("elementDType",t,n,a),Ee=a.getTensorList(Se.id),e.abrupt("return",[Ee.gather(Ce,Ne,Te)]);case 128:return Ie=Object(p.d)("tensorListId",t,n,a),Ae=Object(p.d)("elementShape",t,n,a),Re=Object(p.d)("elementDType",t,n,a),De=Object(p.d)("numElements",t,n,a),Me=a.getTensorList(Ie.id),e.abrupt("return",[Me.stack(Ae,Re,De)]);case 134:return Fe=Object(p.d)("tensor",t,n,a),Le=Object(p.d)("elementShape",t,n,a),Pe=Object(p.d)("elementDType",t,n,a),ze=O(Fe,Le,Pe),a.addTensorList(ze),e.abrupt("return",[ze.idTensor]);case 140:return Be=Object(p.d)("tensorListId",t,n,a),Ve=a.getTensorList(Be.id),Ue=Object(p.d)("dtype",t,n,a),We=Object(p.d)("elementShape",t,n,a),e.abrupt("return",[Ve.concat(Ue,We)]);case 145:return He=Object(p.d)("tensorListId",t,n,a),Ge=Object(p.d)("tensor",t,n,a),($e=a.getTensorList(He.id)).pushBack(Ge),e.abrupt("return",[$e.idTensor]);case 150:return qe=Object(p.d)("tensorListId",t,n,a),Ke=Object(p.d)("elementShape",t,n,a),Xe=Object(p.d)("elementDType",t,n,a),Ye=a.getTensorList(qe.id),e.abrupt("return",[Ye.popBack(Ke,Xe)]);case 155:return Ze=Object(p.d)("tensor",t,n,a),Qe=Object(p.d)("elementShape",t,n,a),Je=Object(p.d)("lengths",t,n,a),et=C(Ze,Je,Qe),a.addTensorList(et),e.abrupt("return",[et.idTensor]);case 161:return tt=Object(p.d)("tensorListId",t,n,a),nt=a.getTensorList(tt.id),e.abrupt("return",[Object(r.scalar)(nt.size(),"int32")]);case 164:return rt=Object(p.d)("tensorListId",t,n,a),at=Object(p.d)("size",t,n,a),it=a.getTensorList(rt.id),ot=it.resize(at),a.addTensorList(ot),e.abrupt("return",[ot.idTensor]);case 170:throw TypeError("Node type ".concat(t.op," is not implemented"));case 171:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function N(e,t,n){var r=Object(p.d)("fusedOps",e,t,n),i=Object(a.a)(r,2),o=i[0],s=i[1],u="biasadd"===o,c=!u,l="prelu"===s,d="fusedbatchnorm"===o,f=Object(p.d)("numArgs",e,t,n);if(u){if(l&&2!==f)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!l&&u&&1!==f)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(d)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");var h=Object(p.d)("strides",e,t,n),m=Object(p.c)(e,t,n),v=Object(p.d)("dataFormat",e,t,n).toUpperCase(),b=Object(p.d)("dilations",e,t,n),g=Object(p.d)("args",e,t,n),y=Object(a.a)(g,2),_=y[0],x=y[1];return c&&(x=_,_=void 0),{stride:h,pad:m,dataFormat:v,dilations:b,biasArg:_,preluArg:x,activationFunc:s,leakyreluAlpha:Object(p.d)("leakyreluAlpha",e,t,n)}}var E=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;switch(e.op){case"Conv1D":var a=Object(p.d)("stride",e,t,n),i=Object(p.d)("pad",e,t,n),o=Object(p.d)("dataFormat",e,t,n).toUpperCase(),s=Object(p.d)("dilation",e,t,n);return[r.conv1d(Object(p.d)("x",e,t,n),Object(p.d)("filter",e,t,n),a,i,o,s)];case"Conv2D":var u=Object(p.d)("strides",e,t,n),c=Object(p.c)(e,t,n),l=Object(p.d)("dataFormat",e,t,n).toUpperCase(),d=Object(p.d)("dilations",e,t,n);return[r.conv2d(Object(p.d)("x",e,t,n),Object(p.d)("filter",e,t,n),[u[1],u[2]],c,l,[d[1],d[2]])];case"_FusedConv2D":var f=N(e,t,n),h=f.stride,v=f.pad,b=f.dataFormat,g=f.dilations,y=f.biasArg,_=f.preluArg,x=f.activationFunc,k=f.leakyreluAlpha;return[r.fused.conv2d({x:Object(p.d)("x",e,t,n),filter:Object(p.d)("filter",e,t,n),strides:[h[1],h[2]],pad:v,dataFormat:b,dilations:[g[1],g[2]],bias:y,activation:x,preluActivationWeights:_,leakyreluAlpha:k})];case"FusedDepthwiseConv2dNative":var w=N(e,t,n),O=w.stride,j=w.pad,S=w.dataFormat,C=w.dilations,T=w.biasArg,E=w.preluArg,I=w.activationFunc,A=w.leakyreluAlpha;return[r.fused.depthwiseConv2d({x:Object(p.d)("x",e,t,n),filter:Object(p.d)("filter",e,t,n),strides:[O[1],O[2]],pad:j,dataFormat:S,dilations:[C[1],C[2]],bias:T,activation:I,preluActivationWeights:E,leakyreluAlpha:A})];case"Conv2DBackpropInput":case"Conv2dTranspose":var R=Object(p.d)("outputShape",e,t,n),D=Object(p.d)("strides",e,t,n),M=Object(p.c)(e,t,n);return[r.conv2dTranspose(Object(p.d)("x",e,t,n),Object(p.d)("filter",e,t,n),R,[D[1],D[2]],M)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":var F=Object(p.d)("strides",e,t,n),L=Object(p.c)(e,t,n),P=Object(p.d)("dilations",e,t,n),z=Object(p.d)("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(Object(p.d)("input",e,t,n),Object(p.d)("filter",e,t,n),[F[1],F[2]],L,z,[P[1],P[2]])];case"Conv3D":var B=Object(p.d)("strides",e,t,n),V=Object(p.d)("pad",e,t,n),U=Object(p.d)("dataFormat",e,t,n).toUpperCase(),W=Object(p.d)("dilations",e,t,n);return[r.conv3d(Object(p.d)("x",e,t,n),Object(p.d)("filter",e,t,n),[B[1],B[2],B[3]],V,U,[W[1],W[2],W[3]])];case"AvgPool":var H=Object(p.d)("strides",e,t,n),G=Object(p.d)("pad",e,t,n),$=Object(p.d)("kernelSize",e,t,n);return[r.avgPool(Object(p.d)("x",e,t,n),[$[1],$[2]],[H[1],H[2]],G)];case"MaxPool":var q=Object(p.d)("strides",e,t,n),K=Object(p.d)("pad",e,t,n),X=Object(p.d)("kernelSize",e,t,n);return[r.maxPool(Object(p.d)("x",e,t,n),[X[1],X[2]],[q[1],q[2]],K)];case"MaxPoolWithArgmax":var Y=Object(p.d)("strides",e,t,n),Z=Object(p.d)("pad",e,t,n),Q=Object(p.d)("kernelSize",e,t,n),J=Object(p.d)("includeBatchInIndex",e,t,n),ee=r.maxPoolWithArgmax(Object(p.d)("x",e,t,n),[Q[1],Q[2]],[Y[1],Y[2]],Z,J),te=ee.result,ne=ee.indexes;return[te,ne];case"AvgPool3D":var re=Object(p.d)("strides",e,t,n),ae=Object(p.d)("pad",e,t,n),ie=Object(p.d)("kernelSize",e,t,n);return[r.avgPool3d(Object(p.d)("x",e,t,n),[ie[1],ie[2],ie[3]],[re[1],re[2],re[3]],ae)];case"MaxPool3D":var oe=Object(p.d)("strides",e,t,n),se=Object(p.d)("pad",e,t,n),ue=Object(p.d)("kernelSize",e,t,n);return[r.maxPool3d(Object(p.d)("x",e,t,n),[ue[1],ue[2],ue[3]],[oe[1],oe[2],oe[3]],se)];case"Dilation2D":var ce=Object(p.d)("strides",e,t,n),le=Object(p.d)("pad",e,t,n),de=Object(p.d)("dilations",e,t,n),pe=ce[1],fe=ce[2],he=de[1],me=de[2];return[r.dilation2d(Object(p.d)("x",e,t,n),Object(p.d)("filter",e,t,n),[pe,fe],le,[he,me],"NHWC")];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},I=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;switch(e.op){case"Fill":var a=Object(p.d)("shape",e,t,n),i=Object(p.d)("dtype",e,t,n),o=Object(p.d)("value",e,t,n);return[r.fill(a,o,i)];case"LinSpace":var s=Object(p.d)("start",e,t,n),u=Object(p.d)("stop",e,t,n),c=Object(p.d)("num",e,t,n);return[r.linspace(s,u,c)];case"Multinomial":var l=Object(p.d)("logits",e,t,n),d=Object(p.d)("numSamples",e,t,n),f=Object(p.d)("seed",e,t,n);return[r.multinomial(l,d,f)];case"OneHot":var h=Object(p.d)("indices",e,t,n),v=Object(p.d)("depth",e,t,n),b=Object(p.d)("onValue",e,t,n),g=Object(p.d)("offValue",e,t,n),y=Object(p.d)("dtype",e,t,n);return[r.oneHot(h,v,b,g,y)];case"Ones":return[r.ones(Object(p.d)("shape",e,t,n),Object(p.d)("dtype",e,t,n))];case"OnesLike":return[r.onesLike(Object(p.d)("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(Object(p.d)("shape",e,t,n),Object(p.d)("dtype",e,t,n),Object(p.d)("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(Object(p.d)("shape",e,t,n),Object(p.d)("minval",e,t,n),Object(p.d)("maxval",e,t,n),Object(p.d)("dtype",e,t,n))];case"Range":var _=Object(p.d)("start",e,t,n),x=Object(p.d)("stop",e,t,n),k=Object(p.d)("step",e,t,n);return[r.range(_,x,k,Object(p.d)("dtype",e,t,n))];case"TruncatedNormal":var w=Object(p.d)("shape",e,t,n),O=Object(p.d)("mean",e,t,n),j=Object(p.d)("stdDev",e,t,n),S=Object(p.d)("seed",e,t,n);return[r.truncatedNormal(w,O,j,Object(p.d)("dtype",e,t,n),S)];case"Zeros":return[r.zeros(Object(p.d)("shape",e,t,n),Object(p.d)("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(Object(p.d)("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}};function A(e,t,n){return{boxes:Object(p.d)("boxes",e,t,n),scores:Object(p.d)("scores",e,t,n),maxOutputSize:Object(p.d)("maxOutputSize",e,t,n),iouThreshold:Object(p.d)("iouThreshold",e,t,n),scoreThreshold:Object(p.d)("scoreThreshold",e,t,n),softNmsSigma:Object(p.d)("softNmsSigma",e,t,n)}}var R=function(){var e=Object(s.a)(o.a.mark((function e(t,n,r,a){var i,s,u,c,l,d,f,h,v,b,g,y,_,x,k,w,O,j,S,C,T,N,E,I,R,D=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=D.length>4&&void 0!==D[4]?D[4]:m,e.t0=t.op,e.next="NonMaxSuppressionV5"===e.t0?4:"NonMaxSuppressionV4"===e.t0?9:"NonMaxSuppressionV3"===e.t0?15:"NonMaxSuppressionV2"===e.t0?15:"Where"===e.t0?20:"ListDiff"===e.t0?27:28;break;case 4:return s=A(t,n,r),u=s.boxes,c=s.scores,l=s.maxOutputSize,d=s.iouThreshold,f=s.scoreThreshold,h=s.softNmsSigma,e.next=7,i.image.nonMaxSuppressionWithScoreAsync(u,c,l,d,f,h);case 7:return v=e.sent,e.abrupt("return",[v.selectedIndices,v.selectedScores]);case 9:return b=A(t,n,r),g=b.boxes,y=b.scores,_=b.maxOutputSize,x=b.iouThreshold,k=b.scoreThreshold,w=Object(p.d)("padToMaxOutputSize",t,n,r),e.next=13,i.image.nonMaxSuppressionPaddedAsync(g,y,_,x,k,w);case 13:return O=e.sent,e.abrupt("return",[O.selectedIndices,O.validOutputs]);case 15:return j=A(t,n,r),S=j.boxes,C=j.scores,T=j.maxOutputSize,N=j.iouThreshold,E=j.scoreThreshold,e.next=18,i.image.nonMaxSuppressionAsync(S,C,T,N,E);case 18:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 20:return I=i.cast(Object(p.d)("condition",t,n,r),"bool"),e.next=23,i.whereAsync(I);case 23:return e.t2=e.sent,R=[e.t2],I.dispose(),e.abrupt("return",R);case 27:return e.abrupt("return",i.setdiff1dAsync(Object(p.d)("x",t,n,r),Object(p.d)("y",t,n,r)));case 28:throw TypeError("Node type ".concat(t.op," is not implemented"));case 29:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),D=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;switch(e.op){case"LowerBound":var a=Object(p.d)("sortedSequence",e,t,n),i=Object(p.d)("values",e,t,n);return[r.lowerBound(a,i)];case"TopKV2":var o=Object(p.d)("x",e,t,n),s=Object(p.d)("k",e,t,n),u=Object(p.d)("sorted",e,t,n),c=r.topk(o,s,u);return[c.values,c.indices];case"UpperBound":var l=Object(p.d)("sortedSequence",e,t,n),d=Object(p.d)("values",e,t,n);return[r.upperBound(l,d)];case"Unique":var f=Object(p.d)("x",e,t,n),h=r.unique(f);return[h.values,h.indices];case"UniqueV2":var v=Object(p.d)("x",e,t,n),b=Object(p.d)("axis",e,t,n),g=r.unique(v,b);return[g.values,g.indices];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},M=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var a=Object(p.d)("default",e,t,n);return[Object(p.e)(e.name,t,n)||a];case"Placeholder":return[Object(p.e)(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":var i=Object(p.d)("x",e,t,n);return[Object(p.a)(i)];case"IdentityN":return Object(p.d)("x",e,t,n).map((function(e){return Object(p.a)(e)}));case"Snapshot":var o=Object(p.d)("x",e,t,n);return[Object(p.a)(o)];case"Shape":return[r.tensor1d(Object(p.d)("x",e,t,n).shape,"int32")];case"ShapeN":return Object(p.d)("x",e,t,n).map((function(e){return r.tensor1d(e.shape)}));case"Size":return[r.scalar(Object(p.d)("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(Object(p.d)("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":var s=Object(p.d)("x",e,t,n),u=Object(p.d)("data",e,t,n),c=Object(p.d)("message",e,t,n),l=Object(p.d)("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(c);for(var d=0;d<u.length;d++)console.log(Array.prototype.slice.call(u[d].dataSync()).slice(0,l));return[s];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},F=n(37),L=function(){function e(t,n){Object(u.a)(this,e),this.keyDType=t,this.valueDType=n,this.handle=Object(r.scalar)(0),this.tensorMap=new Map,Object(r.keep)(this.handle)}return Object(c.a)(e,[{key:"clearAndClose",value:function(){this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),this.handle.dispose()}},{key:"size",value:function(){return this.tensorMap.size}},{key:"tensorSize",value:function(){return F.a(this.size(),"int32")}},{key:"import",value:function(){var e=Object(s.a)(o.a.mark((function e(t,n){var a,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return a=e.sent,this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),e.abrupt("return",Object(r.tidy)((function(){var e=Object(r.unstack)(n),t=a.length,o=e.length;r.util.assert(t===o,(function(){return"The number of elements doesn't match, keys has "+"".concat(t," elements, the values has ").concat(o," ")+"elements."}));for(var s=0;s<t;s++){var u=a[s],c=e[s];Object(r.keep)(c),i.tensorMap.set(u,c)}return i.handle})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=Object(s.a)(o.a.mark((function e(t,n){var a,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return a=e.sent,e.abrupt("return",Object(r.tidy)((function(){for(var e=[],t=0;t<a.length;t++){var o=a[t],s=i.findWithDefault(o,n);e.push(s)}return Object(r.stack)(e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findWithDefault",value:function(e,t){var n=this.tensorMap.get(e);return null!=n?n:t}},{key:"checkKeyAndValueTensor",value:function(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}},{key:"id",get:function(){return this.handle.id}}]),e}(),P=function(){var e=Object(s.a)(o.a.mark((function e(t,n,r,a){var i,s,u,c,l,d,f,h,m,v,b,g,y;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="HashTable"===e.t0?3:"HashTableV2"===e.t0?3:"LookupTableImport"===e.t0?8:"LookupTableImportV2"===e.t0?8:"LookupTableFind"===e.t0?16:"LookupTableFindV2"===e.t0?16:"LookupTableSize"===e.t0?24:"LookupTableSizeV2"===e.t0?24:27;break;case 3:return i=Object(p.d)("keyDType",t,n,r),s=Object(p.d)("valueDType",t,n,r),u=new L(i,s),a.addHashTable(t.name,u),e.abrupt("return",[u.handle]);case 8:return c=Object(p.d)("tableHandle",t,n,r,a),l=Object(p.d)("keys",t,n,r),d=Object(p.d)("values",t,n,r),f=a.getHashTableById(c.id),e.next=14,f.import(l,d);case 14:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 16:return h=Object(p.d)("tableHandle",t,n,r,a),m=Object(p.d)("keys",t,n,r),v=Object(p.d)("defaultValue",t,n,r),b=a.getHashTableById(h.id),e.next=22,b.find(m,v);case 22:return e.t2=e.sent,e.abrupt("return",[e.t2]);case 24:return g=Object(p.d)("tableHandle",t,n,r,a),y=a.getHashTableById(g.id),e.abrupt("return",[y.tensorSize()]);case 27:throw TypeError("Node type ".concat(t.op," is not implemented"));case 28:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),z=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;switch(e.op){case"ResizeBilinear":var a=Object(p.d)("images",e,t,n),i=Object(p.d)("size",e,t,n),o=Object(p.d)("alignCorners",e,t,n),s=Object(p.d)("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(a,[i[0],i[1]],o,s)];case"ResizeNearestNeighbor":var u=Object(p.d)("images",e,t,n),c=Object(p.d)("size",e,t,n),l=Object(p.d)("alignCorners",e,t,n),d=Object(p.d)("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(u,[c[0],c[1]],l,d)];case"CropAndResize":var f=Object(p.d)("image",e,t,n),h=Object(p.d)("boxes",e,t,n),v=Object(p.d)("boxInd",e,t,n),b=Object(p.d)("cropSize",e,t,n),g=Object(p.d)("method",e,t,n),y=Object(p.d)("extrapolationValue",e,t,n);return[r.image.cropAndResize(f,h,v,b,g,y)];case"ImageProjectiveTransformV3":var _=Object(p.d)("images",e,t,n),x=Object(p.d)("transforms",e,t,n),k=Object(p.d)("outputShape",e,t,n),w=Object(p.d)("fillValue",e,t,n),O=Object(p.d)("interpolation",e,t,n),j=Object(p.d)("fillMode",e,t,n);return[r.image.transform(_,x,O.toLowerCase(),j.toLowerCase(),w,k)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},B=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;switch(e.op){case"Equal":return[r.equal(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"NotEqual":return[r.notEqual(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"Greater":return[r.greater(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"Less":return[r.less(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"LessEqual":return[r.lessEqual(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"LogicalNot":return[r.logicalNot(Object(p.d)("a",e,t,n))];case"LogicalOr":return[r.logicalOr(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];case"Select":case"SelectV2":return[r.where(Object(p.d)("condition",e,t,n),Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},V=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(Object(p.d)("a",e,t,n),Object(p.d)("b",e,t,n),Object(p.d)("transposeA",e,t,n),Object(p.d)("transposeB",e,t,n))];case"Einsum":return[r.einsum.apply(r,[Object(p.d)("equation",e,t,n)].concat(Object(d.a)(Object(p.d)("tensors",e,t,n))))];case"Transpose":return[r.transpose(Object(p.d)("x",e,t,n),Object(p.d)("perm",e,t,n))];case"_FusedMatMul":var i=Object(p.d)("fusedOps",e,t,n),o=Object(a.a)(i,2),s=o[0],u=o[1],c="biasadd"===s,l="prelu"===u,f=Object(p.d)("numArgs",e,t,n),h=Object(p.d)("leakyreluAlpha",e,t,n);if(c){if(l&&2!==f)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!l&&1!==f)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var v=Object(p.d)("args",e,t,n),b=Object(a.a)(v,2),g=b[0],y=b[1];return[r.fused.matMul({a:Object(p.d)("a",e,t,n),b:Object(p.d)("b",e,t,n),transposeA:Object(p.d)("transposeA",e,t,n),transposeB:Object(p.d)("transposeB",e,t,n),bias:g,activation:u,preluActivationWeights:y,leakyreluAlpha:h})];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},U=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(Object(p.d)("x",e,t,n),Object(p.d)("axis",e,t,n),Object(p.d)("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[r.batchNorm(Object(p.d)("x",e,t,n),Object(p.d)("mean",e,t,n),Object(p.d)("variance",e,t,n),Object(p.d)("offset",e,t,n),Object(p.d)("scale",e,t,n),Object(p.d)("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(Object(p.d)("x",e,t,n),Object(p.d)("radius",e,t,n),Object(p.d)("bias",e,t,n),Object(p.d)("alpha",e,t,n),Object(p.d)("beta",e,t,n))];case"Softmax":return[r.softmax(Object(p.d)("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(Object(p.d)("x",e,t,n))];case"SparseToDense":return[r.sparseToDense(Object(p.d)("sparseIndices",e,t,n),Object(p.d)("outputShape",e,t,n),Object(p.d)("sparseValues",e,t,n),Object(p.d)("defaultValue",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},W=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;switch(e.op){case"Max":var a=Object(p.d)("axis",e,t,n),i=Object(p.d)("keepDims",e,t,n);return[r.max(Object(p.d)("x",e,t,n),a,i)];case"Mean":var o=Object(p.d)("axis",e,t,n),s=Object(p.d)("keepDims",e,t,n);return[r.mean(Object(p.d)("x",e,t,n),o,s)];case"Min":var u=Object(p.d)("axis",e,t,n),c=Object(p.d)("keepDims",e,t,n);return[r.min(Object(p.d)("x",e,t,n),u,c)];case"Sum":var l=Object(p.d)("axis",e,t,n),d=Object(p.d)("keepDims",e,t,n);return[r.sum(Object(p.d)("x",e,t,n),l,d)];case"All":var f=Object(p.d)("axis",e,t,n),h=Object(p.d)("keepDims",e,t,n);return[r.all(Object(p.d)("x",e,t,n),f,h)];case"Any":var v=Object(p.d)("axis",e,t,n),b=Object(p.d)("keepDims",e,t,n);return[r.any(Object(p.d)("x",e,t,n),v,b)];case"ArgMax":var g=Object(p.d)("axis",e,t,n);return[r.argMax(Object(p.d)("x",e,t,n),g)];case"ArgMin":var y=Object(p.d)("axis",e,t,n);return[r.argMin(Object(p.d)("x",e,t,n),y)];case"Prod":var _=Object(p.d)("axis",e,t,n),x=Object(p.d)("keepDims",e,t,n);return[r.prod(Object(p.d)("x",e,t,n),_,x)];case"Cumprod":var k=Object(p.d)("axis",e,t,n),w=Object(p.d)("exclusive",e,t,n),O=Object(p.d)("reverse",e,t,n);return[r.cumprod(Object(p.d)("x",e,t,n),k,w,O)];case"Cumsum":var j=Object(p.d)("axis",e,t,n),S=Object(p.d)("exclusive",e,t,n),C=Object(p.d)("reverse",e,t,n);return[r.cumsum(Object(p.d)("x",e,t,n),j,S,C)];case"Bincount":var T=Object(p.d)("x",e,t,n),N=Object(p.d)("weights",e,t,n),E=Object(p.d)("size",e,t,n);return[r.bincount(T,N,E)];case"DenseBincount":var I=Object(p.d)("x",e,t,n),A=Object(p.d)("weights",e,t,n),R=Object(p.d)("size",e,t,n),D=Object(p.d)("binaryOutput",e,t,n);return[r.denseBincount(I,A,R,D)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},H=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;switch(e.op){case"ConcatV2":case"Concat":var i=Object(p.d)("n",e,t,n),o=Object(p.d)("axis",e,t,n),s=Object(p.d)("tensors",e,t,n);return s=s.slice(0,i),[a.concat(s,o)];case"Gather":var u=Object(p.d)("x",e,t,n),c=Object(p.d)("indices",e,t,n);return[a.gather(u,a.cast(c,"int32"),0)];case"GatherV2":var l=Object(p.d)("axis",e,t,n),d=Object(p.d)("batchDims",e,t,n),f=Object(p.d)("x",e,t,n),h=Object(p.d)("indices",e,t,n);return[a.gather(f,a.cast(h,"int32"),l,d)];case"Reverse":for(var v=Object(p.d)("dims",e,t,n),b=[],g=0;g<v.length;g++)v[g]&&b.push(g);var y=Object(p.d)("x",e,t,n);return[a.reverse(y,b)];case"ReverseV2":var _=Object(p.d)("axis",e,t,n),x=Object(p.d)("x",e,t,n);return[a.reverse(x,_)];case"Slice":var k=Object(p.d)("begin",e,t,n),w=Object(p.d)("size",e,t,n);return[a.slice(Object(p.d)("x",e,t,n),k,w)];case"StridedSlice":var O=Object(p.d)("begin",e,t,n),j=Object(p.d)("end",e,t,n),S=Object(p.d)("strides",e,t,n),C=Object(p.d)("beginMask",e,t,n),T=Object(p.d)("endMask",e,t,n),N=Object(p.d)("ellipsisMask",e,t,n),E=Object(p.d)("newAxisMask",e,t,n),I=Object(p.d)("shrinkAxisMask",e,t,n),A=Object(p.d)("x",e,t,n);return[a.stridedSlice(A,O,j,S,C,T,N,E,I)];case"Pack":return Object(r.tidy)((function(){var i=Object(p.d)("axis",e,t,n),o=Object(p.d)("tensors",e,t,n),s=o[0].shape,u=a.squeeze(o[0]).shape,c=o.map((function(e){var t=r.util.arraysEqual(e.shape,s);if(!t&&!r.util.arraysEqual(a.squeeze(e).shape,u))throw new Error("the input tensors shape does not match");return t?e:a.reshape(e,s)}));return[a.stack(c,i)]}));case"Unpack":var R=Object(p.d)("axis",e,t,n),D=Object(p.d)("tensor",e,t,n);return a.unstack(D,R);case"Tile":var M=Object(p.d)("reps",e,t,n);return[a.tile(Object(p.d)("x",e,t,n),M)];case"Split":case"SplitV":var F=Object(p.d)("axis",e,t,n),L=Object(p.d)("numOrSizeSplits",e,t,n),P=Object(p.d)("x",e,t,n);return a.split(P,L,F);case"ScatterNd":var z=Object(p.d)("indices",e,t,n),B=Object(p.d)("values",e,t,n),V=Object(p.d)("shape",e,t,n);return[a.scatterND(z,B,V)];case"GatherNd":var U=Object(p.d)("x",e,t,n),W=Object(p.d)("indices",e,t,n);return[a.gatherND(U,W)];case"SparseToDense":var H=Object(p.d)("sparseIndices",e,t,n),G=Object(p.d)("outputShape",e,t,n),$=Object(p.d)("sparseValues",e,t,n),q=Object(p.d)("defaultValue",e,t,n);return[a.sparseToDense(H,$,G,$.dtype===q.dtype?q:a.cast(q,$.dtype))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},G=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;switch(e.op){case"SparseFillEmptyRows":var a=r.sparse.sparseFillEmptyRows(Object(p.d)("indices",e,t,n),Object(p.d)("values",e,t,n),Object(p.d)("denseShape",e,t,n),Object(p.d)("defaultValue",e,t,n)),i=a.outputIndices,o=a.outputValues,s=a.emptyRowIndicator,u=a.reverseIndexMap;return[i,o,s,u];case"SparseReshape":var c=r.sparse.sparseReshape(Object(p.d)("inputIndices",e,t,n),Object(p.d)("inputShape",e,t,n),Object(p.d)("newShape",e,t,n)),l=c.outputIndices,d=c.outputShape;return[l,d];case"SparseSegmentMean":var f=r.sparse.sparseSegmentMean(Object(p.d)("data",e,t,n),Object(p.d)("indices",e,t,n),Object(p.d)("segmentIds",e,t,n));return[f];case"SparseSegmentSum":var h=r.sparse.sparseSegmentSum(Object(p.d)("data",e,t,n),Object(p.d)("indices",e,t,n),Object(p.d)("segmentIds",e,t,n));return[h];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},$=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;switch(e.op){case"FFT":return[r.fft(Object(p.d)("x",e,t,n))];case"IFFT":return[r.ifft(Object(p.d)("x",e,t,n))];case"RFFT":return[r.rfft(Object(p.d)("x",e,t,n))];case"IRFFT":return[r.irfft(Object(p.d)("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},q=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;switch(e.op){case"StringNGrams":var a=r.string.stringNGrams(Object(p.d)("data",e,t,n),Object(p.d)("dataSplits",e,t,n),Object(p.d)("separator",e,t,n),Object(p.d)("nGramWidths",e,t,n),Object(p.d)("leftPad",e,t,n),Object(p.d)("rightPad",e,t,n),Object(p.d)("padWidth",e,t,n),Object(p.d)("preserveShortSequences",e,t,n)),i=a.nGrams,o=a.nGramsSplits;return[i,o];case"StringSplit":var s=r.string.stringSplit(Object(p.d)("input",e,t,n),Object(p.d)("delimiter",e,t,n),Object(p.d)("skipEmpty",e,t,n)),u=s.indices,c=s.values,l=s.shape;return[u,c,l];case"StringToHashBucketFast":var d=r.string.stringToHashBucketFast(Object(p.d)("input",e,t,n),Object(p.d)("numBuckets",e,t,n));return[d];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}},K=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;switch(e.op){case"Cast":return[r.cast(Object(p.d)("x",e,t,n),Object(p.d)("dtype",e,t,n))];case"ExpandDims":var a=Object(p.d)("axis",e,t,n);return[r.expandDims(Object(p.d)("x",e,t,n),a)];case"Squeeze":var i=Object(p.d)("axis",e,t,n);return[r.squeeze(Object(p.d)("x",e,t,n),i)];case"Reshape":return[r.reshape(Object(p.d)("x",e,t,n),Object(p.d)("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(Object(p.d)("x",e,t,n),Object(p.d)("padding",e,t,n),Object(p.d)("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(Object(p.d)("x",e,t,n),Object(p.d)("padding",e,t,n),Object(p.d)("constantValue",e,t,n))];case"SpaceToBatchND":var o=Object(p.d)("blockShape",e,t,n),s=Object(p.d)("paddings",e,t,n);return[r.spaceToBatchND(Object(p.d)("x",e,t,n),o,s)];case"BatchToSpaceND":var u=Object(p.d)("blockShape",e,t,n),c=Object(p.d)("crops",e,t,n);return[r.batchToSpaceND(Object(p.d)("x",e,t,n),u,c)];case"DepthToSpace":var l=Object(p.d)("blockSize",e,t,n),d=Object(p.d)("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(Object(p.d)("x",e,t,n),l,d)];case"BroadcastTo":return[r.broadcastTo(Object(p.d)("x",e,t,n),Object(p.d)("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(Object(p.d)("s0",e,t,n),Object(p.d)("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}};function X(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.tidy,o=function(e,t,n){switch(e.category){case"arithmetic":return i((function(){return v(e,t,n)}));case"basic_math":return i((function(){return b(e,t,n)}));case"control":return T(e,t,n);case"convolution":return i((function(){return E(e,t,n)}));case"creation":return i((function(){return I(e,t,n)}));case"dynamic":return R(e,t,n);case"evaluation":return i((function(){return D(e,t,n)}));case"image":return i((function(){return z(e,t,n)}));case"graph":return i((function(){return M(e,t,n)}));case"logical":return i((function(){return B(e,t,n)}));case"matrices":return i((function(){return V(e,t,n)}));case"normalization":return i((function(){return U(e,t,n)}));case"reduction":return i((function(){return W(e,t,n)}));case"slice_join":return i((function(){return H(e,t,n)}));case"sparse":return i((function(){return G(e,t,n)}));case"spectral":return i((function(){return $(e,t,n)}));case"string":return i((function(){return q(e,t,n)}));case"transformation":return i((function(){return K(e,t,n)}));case"hash_table":return P(e,t,n,a);case"custom":var r=Object(h.a)(e.op);if(r&&r.customExecutor)return r.customExecutor(new f(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(e,t,n);return r.util.isPromise(o)?o.then((function(e){return[].concat(e)})):[].concat(o)}var Y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object(u.a)(this,e),this.weightMap=t,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return Object(c.a)(e,[{key:"newFrame",value:function(e,t){return{id:e,frameName:t,iterationId:0}}},{key:"generateCurrentContextIds",value:function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}},{key:"contextIdforContexts",value:function(e){return e?e.map((function(e){return 0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId)})).join("/"):""}},{key:"enterFrame",value:function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}},{key:"exitFrame",value:function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}},{key:"nextIteration",value:function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}},{key:"getWeight",value:function(e){return this.weightMap[e]}},{key:"addTensorArray",value:function(e){this.tensorArrayMap[e.id]=e}},{key:"getTensorArray",value:function(e){return this.tensorArrayMap[e]}},{key:"addTensorList",value:function(e){this.tensorListMap[e.id]=e}},{key:"getTensorList",value:function(e){return this.tensorListMap[e]}},{key:"dispose",value:function(e){for(var t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(var n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}},{key:"currentContext",set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())},get:function(){return this.contexts}},{key:"currentContextId",get:function(){return this._currentContextIds[0]}},{key:"currentContextIds",get:function(){return this._currentContextIds}}]),e}();function Z(e,t,n,r){var a=new Set,i=[],o=null,s=null,u=new Set,c=Object.keys(e).map((function(e){return Object(p.g)(e)[0]})),l=[];null!=r&&(l=r.map((function(e){return Object(p.g)(e.name)[0]})));for(var f=Object(d.a)(t);f.length>0;){var h=f.pop();(te(h)||ne(h)||re(h))&&null==o&&(s=(o=h).children.map((function(e){return e.name})).filter((function(e){return a.has(e)}))),a.add(h.name),null==n[h.name]&&(-1===c.indexOf(h.name)&&-1===l.indexOf(h.name)&&(0!==h.inputs.length?h.inputs.forEach((function(e){u.has(e.name)||(u.add(e.name),f.push(e))})):i.push(h.name)))}return{inputs:e,outputs:t,usedNodes:a,missingInputs:i,dynamicNode:o,syncInputs:s}}var Q=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],J=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],ee=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function te(e){return Q.indexOf(e.op)>=0}function ne(e){return J.indexOf(e.op)>=0}function re(e){return ee.indexOf(e.op)>=0}var ae=function(){function e(t,n){var r=this;Object(u.a)(this,e),this.graph=t,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,null!=t.functions&&Object.keys(t.functions).forEach((function(n){r._functionExecutorMap[n]=new e(t.functions[n],r)}))}return Object(c.a)(e,[{key:"getCompilationKey",value:function(e,t){var n=e.map((function(e){return e.name})).sort(),r=t.map((function(e){return e.name})).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}},{key:"compile",value:function(e,t){var n=Z(e,t,this.weightMap,this._initNodes),r=n.missingInputs,a=n.dynamicNode,i=n.syncInputs;if(null!=a)throw new Error("This execution contains the node '".concat(a.name,"', which has ")+"the dynamic op '".concat(a.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(i,"]"));if(r.length>0){var o=t.map((function(e){return e.name})),s=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(o,"] from the provided inputs ")+"[".concat(s,"]. Missing the following inputs: [").concat(r,"]"))}return function(e,t,n){var r=n.usedNodes,a=n.inputs,i=[],o=Object.keys(a).map((function(e){return Object(p.g)(e)[0]})).map((function(t){return e.nodes[t]})),s=e.initNodes;o.forEach((function(e){r.has(e.name)&&i.push(e)})),e.weights.forEach((function(e){r.has(e.name)&&i.push(e)})),null!=s&&s.forEach((function(e){r.has(e.name)&&i.push(e)}));for(var u=new Set,c=[];i.length>0;){var l=i.pop();u.add(l.name),t[l.name]||c.push(l),l.children.forEach((function(e){!u.has(e.name)&&r.has(e.name)&&e.inputs.every((function(e){return u.has(e.name)}))&&i.push(e)}))}return c}(this.graph,this.weightMap,n)}},{key:"execute",value:function(e,t){var n=this;e=this.mapInputs(e);var i=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var o=i.map((function(e){return n.graph.nodes[Object(p.g)(e)[0]]})),s=t.map((function(e){return Object(p.g)(e)[0]})),u=s.map((function(e){return n.graph.nodes[e]}));this.resetIntermediateTensors(),0===u.length&&(u=this._outputs);var c=this.getCompilationKey(o,u),l=this.compiledMap.get(c);null==l&&(l=this.compile(e,u),this.compiledMap.set(c,l));var d={},f={};return Object(r.tidy)((function(){var i=new Y(n.weightMap,d,f,n.functionExecutorMap),o=Object.assign({},n.weightMap);Object.keys(e).forEach((function(t){var n=Object(p.g)(t),r=Object(a.a)(n,2),i=r[0],s=[];s[r[1]]=e[t],o[i]=s}));for(var u=n.getFrozenTensorIds(o),c={},h=0;h<l.length;h++){var m=l[h];if(!o[m.name]){var v=X(m,o,i,n._resourceManager);if(r.util.isPromise(v))throw new Error("The execution of the op '".concat(m.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");o[m.name]=v,n.checkTensorForDisposal(m.name,m,o,i,u,s,c)}}return null==n.parent&&i.dispose(u),t.map((function(e){return Object(p.e)(e,o,i)}))}))}},{key:"getFrozenTensorIds",value:function(e){var t=[].concat.apply([],Object.keys(e).map((function(t){return e[t]})).map((function(e){return e.map((function(e){return e.id}))})));return new Set(t)}},{key:"checkTensorForDisposal",value:function(e,t,n,r,i,o,s){var u=this;"control"!==t.category&&-1===o.indexOf(e)&&(n[e].forEach((function(e){null!=e&&(s[e.id]=(s[e.id]||0)+t.children.length)})),t.inputs.forEach((function(e){if("control"!==e.category){var o=Object(p.f)(e.name,n,r);null!=o&&o.forEach((function(e){if(e&&!e.kept&&!i.has(e.id)){var n=s[e.id];if(1===n){if(u.keepTensorForDebug){var o=Object(p.b)(t.name,r),c=Object(a.a)(o,2),l=c[0],d=c[1];u.intermediateTensors[l]?u.intermediateTensors[l][d]=e:(u.intermediateTensors[l]=[],u.intermediateTensors[l][d]=e)}else e.dispose();delete s[e.id]}else null!=n&&s[e.id]--}}))}})))}},{key:"executeAsync",value:function(){var e=Object(s.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._executeAsync(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"disposeIntermediateTensors",value:function(){var e=this;this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((function(t){return e.intermediateTensors[t].forEach((function(e){return e.dispose()}))})),this.disposeTensorsMap())}},{key:"disposeTensorsMap",value:function(){var e=this;this.tensorsMap&&Object.keys(this.tensorsMap).forEach((function(t){e.tensorsMap[t].forEach((function(t){!t||t.kept||t.isDisposed||e.keepIds.has(t.id)||t.dispose()}))}))}},{key:"getIntermediateTensors",value:function(){return this.tensorsMap}},{key:"resetIntermediateTensors",value:function(){for(var e in this.intermediateTensors)this.intermediateTensors[e].forEach((function(e){return e.dispose()})),delete this.intermediateTensors[e]}},{key:"_executeAsync",value:function(){var e=Object(s.a)(o.a.mark((function e(t,n){var a,i,s,u,c,l,f,h=this,m=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=m.length>2&&void 0!==m[2]&&m[2],i=m.length>3&&void 0!==m[3]?m[3]:{},s=m.length>4&&void 0!==m[4]?m[4]:{},a||(t=this.mapInputs(t),this.checkInputs(t),this.checkInputShapeAndType(t),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepTensorForDebug=Object(r.env)().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(o){console.warn(o.message)}return this.resetIntermediateTensors(),u=new Y(this.weightMap,i,s,this.functionExecutorMap),e.next=9,this.executeWithControlFlow(t,u,n,a);case 9:return this.tensorsMap=e.sent,c=n.map((function(e){return Object(p.e)(e,h.tensorsMap,u)})),l=c.map((function(e){return e.id})),f=Object.keys(t).map((function(e){return t[e].id})),this.keepIds=new Set([].concat(Object(d.a)(l),Object(d.a)(f),Object(d.a)(this.weightIds))),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&u.dispose(this.keepIds),e.abrupt("return",c);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"executeFunctionAsync",value:function(){var e=Object(s.a)(o.a.mark((function e(t,n,r){var a,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.reduce((function(e,t,n){return e[i.inputs[n].name]=t,e}),{}),e.abrupt("return",this._executeAsync(a,this.outputNodes,!0,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"executeWithControlFlow",value:function(){var e=Object(s.a)(o.a.mark((function e(t,n,r,i){var s,u,c,l,f,h,m,v,b,g,y,_,x,k,w,O,j,S=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=Object.keys(t),u=s.map((function(e){return S.graph.nodes[Object(p.g)(e)[0]]})),c=r.map((function(e){return Object(p.g)(e)[0]})),0===(l=c.map((function(e){return S.graph.nodes[e]}))).length&&(l=this._outputs),f=Z(t,l,this.weightMap,this._initNodes),h=f.usedNodes,m=f.missingInputs,v=f.dynamicNode,b=f.syncInputs,g=[].concat(Object(d.a)(u),Object(d.a)(this.graph.weights),Object(d.a)(this._initNodes||[])).map((function(e){return{node:e,contexts:n.currentContext}})),y=Object.assign({},this.weightMap),Object.keys(t).forEach((function(e){var n=Object(p.g)(e),r=Object(a.a)(n,2),i=r[0],o=[];o[r[1]]=t[e],y[i]=o})),_={},x=this.getFrozenTensorIds(y),k={};case 12:if(!(g.length>0)){e.next=18;break}return w=this.processStack(u,g,n,y,k,x,c,_,h),e.next=16,Promise.all(w);case 16:e.next=12;break;case 18:if(null!=v||i||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),!((O=l.filter((function(e){return!te(e)&&!Object(p.e)(e.name,y,n)})).map((function(e){return e.name}))).length>0)){e.next=24;break}throw j="",null!=v&&(j="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(b,"]")),new Error("Cannot compute the outputs [".concat(O,"] from the provided ")+"inputs [".concat(s,"]. Consider providing the following inputs: ")+"[".concat(m,"]. ").concat(j));case 24:return e.abrupt("return",y);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"processStack",value:function(e,t,n,i,o,s,u,c,l){for(var d=this,f=[],h=function(){var e=t.pop();n.currentContext=e.contexts;var h="";if("Enter"===e.node.op&&Object(p.d)("isConstant",e.node,i,n)){var m=Object(p.b)(e.node.name,n),v=Object(a.a)(m,1);h=v[0]}if(null==i[e.node.name]){var b=X(e.node,i,n,d._resourceManager);if(!h){var g=Object(p.b)(e.node.name,n),y=Object(a.a)(g,1);h=y[0]}var _=n.currentContext;r.util.isPromise(b)?f.push(b.then((function(r){return i[h]=r,n.currentContext=_,d.checkTensorForDisposal(h,e.node,i,n,s,u,c),d.processChildNodes(e.node,t,n,i,o,l),r}))):(i[h]=b,d.checkTensorForDisposal(h,e.node,i,n,s,u,c),d.processChildNodes(e.node,t,n,i,o,l))}else d.processChildNodes(e.node,t,n,i,o,l)};t.length>0;)h();return f}},{key:"processChildNodes",value:function(e,t,n,r,i,o){e.children.forEach((function(e){var s=Object(p.b)(e.name,n),u=Object(a.a)(s,1)[0];!i[u]&&o.has(e.name)&&("Merge"===e.op?e.inputNames.some((function(e){return!!Object(p.e)(e,r,n)}))&&(i[u]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((function(e){return!!Object(p.e)(e,r,n)}))&&(i[u]=!0,t.push({contexts:n.currentContext,node:e})))}))}},{key:"dispose",value:function(){var e=this;Object.keys(this.weightMap).forEach((function(t){return e.weightMap[t].forEach((function(e){return e.dispose()}))}))}},{key:"checkInputShapeAndType",value:function(e){var t=this;Object.keys(e).forEach((function(n){var i=e[n],o=Object(p.g)(n),s=Object(a.a)(o,1)[0],u=t.graph.nodes[s];if(u.attrParams.shape&&u.attrParams.shape.value){var c=u.attrParams.shape.value,l=c.length===i.shape.length&&i.shape.every((function(e,t){return-1===c[t]||c[t]===e}));r.util.assert(l,(function(){return"The shape of dict['".concat(u.name,"'] provided in ")+"model.execute(dict) must be [".concat(c,"], but was ")+"[".concat(i.shape,"]")}))}u.attrParams.dtype&&u.attrParams.dtype.value&&r.util.assert(i.dtype===u.attrParams.dtype.value,(function(){return"The dtype of dict['".concat(u.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(u.attrParams.dtype.value,", but was ").concat(i.dtype)}))}))}},{key:"mapInputs",value:function(e){var t={};for(var n in e){if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n])t[this._signature.inputs[n].name]=e[n];else t[n]=e[n]}return t}},{key:"checkInputs",value:function(e){var t=this,n=Object.keys(e).filter((function(e){var n=Object(p.g)(e),r=Object(a.a)(n,1)[0];return null==t.graph.nodes[r]}));if(n.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(n,"] that are not part of graph"))}},{key:"mapOutputs",value:function(e){var t=this;return e.map((function(e){return null!=t._signature&&null!=t._signature.outputs&&null!=t._signature.outputs[e]?t._signature.outputs[e].name:e}),{})}},{key:"checkOutputs",value:function(e){var t=this;e.forEach((function(e){var n=Object(p.g)(e),r=Object(a.a)(n,1)[0];if(!t.graph.nodes[r])throw new Error("The output '".concat(e,"' is not found in the graph"))}))}},{key:"weightIds",get:function(){return this.parent?this.parent.weightIds:this._weightIds}},{key:"functionExecutorMap",get:function(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}},{key:"weightMap",get:function(){return this.parent?this.parent.weightMap:this._weightMap},set:function(e){var t,n=Object.keys(e).map((function(t){return e[t].map((function(e){return e.id}))}));this._weightIds=(t=[]).concat.apply(t,Object(d.a)(n)),this._weightMap=e}},{key:"resourceManager",set:function(e){this._resourceManager=e}},{key:"inputs",get:function(){return this._inputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"outputs",get:function(){return this._outputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"inputNodes",get:function(){return this._inputs.map((function(e){return e.signatureKey||e.name}))}},{key:"outputNodes",get:function(){return this._outputs.map((function(e){var t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t}))}},{key:"functions",get:function(){var e=this;return Object.keys(this._functions).reduce((function(t,n){return t[n]=e._functions[n].signature,t}),{})}}]),e}(),ie=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(u.a)(this,e),this.hashTableNameToHandle=t,this.hashTableMap=n}return Object(c.a)(e,[{key:"addHashTable",value:function(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}},{key:"getHashTableHandleByName",value:function(e){return this.hashTableNameToHandle[e]}},{key:"getHashTableById",value:function(e){return this.hashTableMap[e]}},{key:"dispose",value:function(){for(var e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(var t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}]),e}(),oe="?tfjs-format=file",se="model.json",ue=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.io;Object(u.a)(this,e),this.modelUrl=t,this.loadOptions=n,this.version="n/a",this.io=a,null==n&&(this.loadOptions={}),this.resourceManager=new ie}return Object(c.a)(e,[{key:"findIOHandler",value:function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{var t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}},{key:"load",value:function(){var e=this;if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");var t=this.handler.load();return r.util.isPromise(t)?t.then((function(t){return e.loadSync(t)})):this.loadSync(t)}},{key:"loadSync",value:function(e){this.artifacts=e;var t=this.artifacts.modelTopology,n=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){var r=this.artifacts.userDefinedMetadata;null!=r.signature&&(n=r.signature),null!=r.structuredOutputKeys&&(this.structuredOutputKeys=r.structuredOutputKeys)}this.signature=n,this.version="".concat(t.versions.producer,".").concat(t.versions.minConsumer);var a=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new ae(l.a.Instance.transformGraph(t,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(a),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){var i=l.a.Instance.transformGraph(e.modelInitializer);this.initializer=new ae(i),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}},{key:"save",value:function(){var e=Object(s.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=9;break}if(0!==(r=this.io.getSaveHandlers(t)).length){e.next=6;break}throw new Error("Cannot find any save handlers for URL '".concat(t,"'"));case 6:if(!(r.length>1)){e.next=8;break}throw new Error("Found more than one (".concat(r.length,") save handlers for ")+"URL '".concat(t,"'"));case 8:t=r[0];case 9:if(null!=t.save){e.next=11;break}throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return e.abrupt("return",t.save(this.artifacts));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e,t){var n=this,a=this.execute(e,this.outputNodes);if(this.structuredOutputKeys){var i=a instanceof r.Tensor?[a]:a,o={};return i.forEach((function(e,t){return o[n.structuredOutputKeys[t]]=e})),o}return a}},{key:"normalizeInputs",value:function(e){if(!(e instanceof r.Tensor)&&!Array.isArray(e))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,"+"the graph model has ".concat(this.inputNodes.length," placeholders, ")+"while there are ".concat(e.length," input tensors."));return this.inputNodes.reduce((function(t,n,r){return t[n]=e[r],t}),{})}},{key:"normalizeOutputs",value:function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}},{key:"execute",value:function(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var n=this.executor.execute(e,t);return n.length>1?n:n[0]}},{key:"executeAsync",value:function(){var e=Object(s.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.normalizeInputs(t),n=this.normalizeOutputs(n),e.next=4,this.executor.executeAsync(t,n);case 4:return r=e.sent,e.abrupt("return",r.length>1?r:r[0]);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getIntermediateTensors",value:function(){return this.executor.getIntermediateTensors()}},{key:"disposeIntermediateTensors",value:function(){this.executor.disposeIntermediateTensors()}},{key:"convertTensorMapToTensorsMap",value:function(e){return Object.keys(e).reduce((function(t,n){return t[n]=[e[n]],t}),{})}},{key:"dispose",value:function(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}},{key:"modelVersion",get:function(){return this.version}},{key:"inputNodes",get:function(){return this.executor.inputNodes}},{key:"outputNodes",get:function(){return this.executor.outputNodes}},{key:"inputs",get:function(){return this.executor.inputs}},{key:"outputs",get:function(){return this.executor.outputs}},{key:"weights",get:function(){return this.executor.weightMap}},{key:"metadata",get:function(){return this.artifacts.userDefinedMetadata}},{key:"modelSignature",get:function(){return this.signature}},{key:"modelStructuredOutputKeys",get:function(){return this.structuredOutputKeys}}]),e}();function ce(e){return le.apply(this,arguments)}function le(){return(le=Object(s.a)(o.a.mark((function e(t){var n,a,i,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:{},a=s.length>2&&void 0!==s[2]?s[2]:r.io,null!=t){e.next=4;break}throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");case 4:return null==n&&(n={}),n.fromTFHub&&"string"===typeof t&&(t=de(t)),i=new ue(t,n,a),e.next=9,i.load();case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){return e.endsWith("/")||(e+="/"),"".concat(e).concat(se).concat(oe)}function pe(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function fe(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}n.d(t,"a",(function(){return be}));var he={0:"tench, Tinca tinca",1:"goldfish, Carassius auratus",2:"great white shark, white shark, man-eater, man-eating shark, Carcharodon carcharias",3:"tiger shark, Galeocerdo cuvieri",4:"hammerhead, hammerhead shark",5:"electric ray, crampfish, numbfish, torpedo",6:"stingray",7:"cock",8:"hen",9:"ostrich, Struthio camelus",10:"brambling, Fringilla montifringilla",11:"goldfinch, Carduelis carduelis",12:"house finch, linnet, Carpodacus mexicanus",13:"junco, snowbird",14:"indigo bunting, indigo finch, indigo bird, Passerina cyanea",15:"robin, American robin, Turdus migratorius",16:"bulbul",17:"jay",18:"magpie",19:"chickadee",20:"water ouzel, dipper",21:"kite",22:"bald eagle, American eagle, Haliaeetus leucocephalus",23:"vulture",24:"great grey owl, great gray owl, Strix nebulosa",25:"European fire salamander, Salamandra salamandra",26:"common newt, Triturus vulgaris",27:"eft",28:"spotted salamander, Ambystoma maculatum",29:"axolotl, mud puppy, Ambystoma mexicanum",30:"bullfrog, Rana catesbeiana",31:"tree frog, tree-frog",32:"tailed frog, bell toad, ribbed toad, tailed toad, Ascaphus trui",33:"loggerhead, loggerhead turtle, Caretta caretta",34:"leatherback turtle, leatherback, leathery turtle, Dermochelys coriacea",35:"mud turtle",36:"terrapin",37:"box turtle, box tortoise",38:"banded gecko",39:"common iguana, iguana, Iguana iguana",40:"American chameleon, anole, Anolis carolinensis",41:"whiptail, whiptail lizard",42:"agama",43:"frilled lizard, Chlamydosaurus kingi",44:"alligator lizard",45:"Gila monster, Heloderma suspectum",46:"green lizard, Lacerta viridis",47:"African chameleon, Chamaeleo chamaeleon",48:"Komodo dragon, Komodo lizard, dragon lizard, giant lizard, Varanus komodoensis",49:"African crocodile, Nile crocodile, Crocodylus niloticus",50:"American alligator, Alligator mississipiensis",51:"triceratops",52:"thunder snake, worm snake, Carphophis amoenus",53:"ringneck snake, ring-necked snake, ring snake",54:"hognose snake, puff adder, sand viper",55:"green snake, grass snake",56:"king snake, kingsnake",57:"garter snake, grass snake",58:"water snake",59:"vine snake",60:"night snake, Hypsiglena torquata",61:"boa constrictor, Constrictor constrictor",62:"rock python, rock snake, Python sebae",63:"Indian cobra, Naja naja",64:"green mamba",65:"sea snake",66:"horned viper, cerastes, sand viper, horned asp, Cerastes cornutus",67:"diamondback, diamondback rattlesnake, Crotalus adamanteus",68:"sidewinder, horned rattlesnake, Crotalus cerastes",69:"trilobite",70:"harvestman, daddy longlegs, Phalangium opilio",71:"scorpion",72:"black and gold garden spider, Argiope aurantia",73:"barn spider, Araneus cavaticus",74:"garden spider, Aranea diademata",75:"black widow, Latrodectus mactans",76:"tarantula",77:"wolf spider, hunting spider",78:"tick",79:"centipede",80:"black grouse",81:"ptarmigan",82:"ruffed grouse, partridge, Bonasa umbellus",83:"prairie chicken, prairie grouse, prairie fowl",84:"peacock",85:"quail",86:"partridge",87:"African grey, African gray, Psittacus erithacus",88:"macaw",89:"sulphur-crested cockatoo, Kakatoe galerita, Cacatua galerita",90:"lorikeet",91:"coucal",92:"bee eater",93:"hornbill",94:"hummingbird",95:"jacamar",96:"toucan",97:"drake",98:"red-breasted merganser, Mergus serrator",99:"goose",100:"black swan, Cygnus atratus",101:"tusker",102:"echidna, spiny anteater, anteater",103:"platypus, duckbill, duckbilled platypus, duck-billed platypus, Ornithorhynchus anatinus",104:"wallaby, brush kangaroo",105:"koala, koala bear, kangaroo bear, native bear, Phascolarctos cinereus",106:"wombat",107:"jelly fish",108:"sea anemone, anemone",109:"brain coral",110:"flatworm, platyhelminth",111:"nematode, nematode worm, roundworm",112:"conch",113:"snail",114:"slug",115:"sea slug, nudibranch",116:"chiton, coat-of-mail shell, sea cradle, polyplacophore",117:"chambered nautilus, pearly nautilus, nautilus",118:"Dungeness crab, Cancer magister",119:"rock crab, Cancer irroratus",120:"fiddler crab",121:"king crab, Alaska crab, Alaskan king crab, Alaska king crab, Paralithodes camtschatica",122:"American lobster, Northern lobster, Maine lobster, Homarus americanus",123:"spiny lobster, langouste, rock lobster, crawfish, crayfish, sea crawfish",124:"crayfish, crawfish, crawdad, crawdaddy",125:"hermit crab",126:"isopod",127:"white stork, Ciconia ciconia",128:"black stork, Ciconia nigra",129:"spoonbill",130:"flamingo",131:"little blue heron, Egretta caerulea",132:"American egret, great white heron, Egretta albus",133:"bittern",134:"crane",135:"limpkin, Aramus pictus",136:"European gallinule, Porphyrio porphyrio",137:"American coot, marsh hen, mud hen, water hen, Fulica americana",138:"bustard",139:"ruddy turnstone, Arenaria interpres",140:"red-backed sandpiper, dunlin, Erolia alpina",141:"redshank, Tringa totanus",142:"dowitcher",143:"oystercatcher, oyster catcher",144:"pelican",145:"king penguin, Aptenodytes patagonica",146:"albatross, mollymawk",147:"grey whale, gray whale, devilfish, Eschrichtius gibbosus, Eschrichtius robustus",148:"killer whale, killer, orca, grampus, sea wolf, Orcinus orca",149:"dugong, Dugong dugon",150:"sea lion",151:"Chihuahua",152:"Japanese spaniel",153:"Maltese dog, Maltese terrier, Maltese",154:"Pekinese, Pekingese, Peke",155:"Shih-Tzu",156:"Blenheim spaniel",157:"papillon",158:"toy terrier",159:"Rhodesian ridgeback",160:"Afghan hound, Afghan",161:"basset, basset hound",162:"beagle",163:"bloodhound, sleuthhound",164:"bluetick",165:"black-and-tan coonhound",166:"Walker hound, Walker foxhound",167:"English foxhound",168:"redbone",169:"borzoi, Russian wolfhound",170:"Irish wolfhound",171:"Italian greyhound",172:"whippet",173:"Ibizan hound, Ibizan Podenco",174:"Norwegian elkhound, elkhound",175:"otterhound, otter hound",176:"Saluki, gazelle hound",177:"Scottish deerhound, deerhound",178:"Weimaraner",179:"Staffordshire bullterrier, Staffordshire bull terrier",180:"American Staffordshire terrier, Staffordshire terrier, American pit bull terrier, pit bull terrier",181:"Bedlington terrier",182:"Border terrier",183:"Kerry blue terrier",184:"Irish terrier",185:"Norfolk terrier",186:"Norwich terrier",187:"Yorkshire terrier",188:"wire-haired fox terrier",189:"Lakeland terrier",190:"Sealyham terrier, Sealyham",191:"Airedale, Airedale terrier",192:"cairn, cairn terrier",193:"Australian terrier",194:"Dandie Dinmont, Dandie Dinmont terrier",195:"Boston bull, Boston terrier",196:"miniature schnauzer",197:"giant schnauzer",198:"standard schnauzer",199:"Scotch terrier, Scottish terrier, Scottie",200:"Tibetan terrier, chrysanthemum dog",201:"silky terrier, Sydney silky",202:"soft-coated wheaten terrier",203:"West Highland white terrier",204:"Lhasa, Lhasa apso",205:"flat-coated retriever",206:"curly-coated retriever",207:"golden retriever",208:"Labrador retriever",209:"Chesapeake Bay retriever",210:"German short-haired pointer",211:"vizsla, Hungarian pointer",212:"English setter",213:"Irish setter, red setter",214:"Gordon setter",215:"Brittany spaniel",216:"clumber, clumber spaniel",217:"English springer, English springer spaniel",218:"Welsh springer spaniel",219:"cocker spaniel, English cocker spaniel, cocker",220:"Sussex spaniel",221:"Irish water spaniel",222:"kuvasz",223:"schipperke",224:"groenendael",225:"malinois",226:"briard",227:"kelpie",228:"komondor",229:"Old English sheepdog, bobtail",230:"Shetland sheepdog, Shetland sheep dog, Shetland",231:"collie",232:"Border collie",233:"Bouvier des Flandres, Bouviers des Flandres",234:"Rottweiler",235:"German shepherd, German shepherd dog, German police dog, alsatian",236:"Doberman, Doberman pinscher",237:"miniature pinscher",238:"Greater Swiss Mountain dog",239:"Bernese mountain dog",240:"Appenzeller",241:"EntleBucher",242:"boxer",243:"bull mastiff",244:"Tibetan mastiff",245:"French bulldog",246:"Great Dane",247:"Saint Bernard, St Bernard",248:"Eskimo dog, husky",249:"malamute, malemute, Alaskan malamute",250:"Siberian husky",251:"dalmatian, coach dog, carriage dog",252:"affenpinscher, monkey pinscher, monkey dog",253:"basenji",254:"pug, pug-dog",255:"Leonberg",256:"Newfoundland, Newfoundland dog",257:"Great Pyrenees",258:"Samoyed, Samoyede",259:"Pomeranian",260:"chow, chow chow",261:"keeshond",262:"Brabancon griffon",263:"Pembroke, Pembroke Welsh corgi",264:"Cardigan, Cardigan Welsh corgi",265:"toy poodle",266:"miniature poodle",267:"standard poodle",268:"Mexican hairless",269:"timber wolf, grey wolf, gray wolf, Canis lupus",270:"white wolf, Arctic wolf, Canis lupus tundrarum",271:"red wolf, maned wolf, Canis rufus, Canis niger",272:"coyote, prairie wolf, brush wolf, Canis latrans",273:"dingo, warrigal, warragal, Canis dingo",274:"dhole, Cuon alpinus",275:"African hunting dog, hyena dog, Cape hunting dog, Lycaon pictus",276:"hyena, hyaena",277:"red fox, Vulpes vulpes",278:"kit fox, Vulpes macrotis",279:"Arctic fox, white fox, Alopex lagopus",280:"grey fox, gray fox, Urocyon cinereoargenteus",281:"tabby, tabby cat",282:"tiger cat",283:"Persian cat",284:"Siamese cat, Siamese",285:"Egyptian cat",286:"cougar, puma, catamount, mountain lion, painter, panther, Felis concolor",287:"lynx, catamount",288:"leopard, Panthera pardus",289:"snow leopard, ounce, Panthera uncia",290:"jaguar, panther, Panthera onca, Felis onca",291:"lion, king of beasts, Panthera leo",292:"tiger, Panthera tigris",293:"cheetah, chetah, Acinonyx jubatus",294:"brown bear, bruin, Ursus arctos",295:"American black bear, black bear, Ursus americanus, Euarctos americanus",296:"ice bear, polar bear, Ursus Maritimus, Thalarctos maritimus",297:"sloth bear, Melursus ursinus, Ursus ursinus",298:"mongoose",299:"meerkat, mierkat",300:"tiger beetle",301:"ladybug, ladybeetle, lady beetle, ladybird, ladybird beetle",302:"ground beetle, carabid beetle",303:"long-horned beetle, longicorn, longicorn beetle",304:"leaf beetle, chrysomelid",305:"dung beetle",306:"rhinoceros beetle",307:"weevil",308:"fly",309:"bee",310:"ant, emmet, pismire",311:"grasshopper, hopper",312:"cricket",313:"walking stick, walkingstick, stick insect",314:"cockroach, roach",315:"mantis, mantid",316:"cicada, cicala",317:"leafhopper",318:"lacewing, lacewing fly",319:"dragonfly, darning needle, devil's darning needle, sewing needle, snake feeder, snake doctor, mosquito hawk, skeeter hawk",320:"damselfly",321:"admiral",322:"ringlet, ringlet butterfly",323:"monarch, monarch butterfly, milkweed butterfly, Danaus plexippus",324:"cabbage butterfly",325:"sulphur butterfly, sulfur butterfly",326:"lycaenid, lycaenid butterfly",327:"starfish, sea star",328:"sea urchin",329:"sea cucumber, holothurian",330:"wood rabbit, cottontail, cottontail rabbit",331:"hare",332:"Angora, Angora rabbit",333:"hamster",334:"porcupine, hedgehog",335:"fox squirrel, eastern fox squirrel, Sciurus niger",336:"marmot",337:"beaver",338:"guinea pig, Cavia cobaya",339:"sorrel",340:"zebra",341:"hog, pig, grunter, squealer, Sus scrofa",342:"wild boar, boar, Sus scrofa",343:"warthog",344:"hippopotamus, hippo, river horse, Hippopotamus amphibius",345:"ox",346:"water buffalo, water ox, Asiatic buffalo, Bubalus bubalis",347:"bison",348:"ram, tup",349:"bighorn, bighorn sheep, cimarron, Rocky Mountain bighorn, Rocky Mountain sheep, Ovis canadensis",350:"ibex, Capra ibex",351:"hartebeest",352:"impala, Aepyceros melampus",353:"gazelle",354:"Arabian camel, dromedary, Camelus dromedarius",355:"llama",356:"weasel",357:"mink",358:"polecat, fitch, foulmart, foumart, Mustela putorius",359:"black-footed ferret, ferret, Mustela nigripes",360:"otter",361:"skunk, polecat, wood pussy",362:"badger",363:"armadillo",364:"three-toed sloth, ai, Bradypus tridactylus",365:"orangutan, orang, orangutang, Pongo pygmaeus",366:"gorilla, Gorilla gorilla",367:"chimpanzee, chimp, Pan troglodytes",368:"gibbon, Hylobates lar",369:"siamang, Hylobates syndactylus, Symphalangus syndactylus",370:"guenon, guenon monkey",371:"patas, hussar monkey, Erythrocebus patas",372:"baboon",373:"macaque",374:"langur",375:"colobus, colobus monkey",376:"proboscis monkey, Nasalis larvatus",377:"marmoset",378:"capuchin, ringtail, Cebus capucinus",379:"howler monkey, howler",380:"titi, titi monkey",381:"spider monkey, Ateles geoffroyi",382:"squirrel monkey, Saimiri sciureus",383:"Madagascar cat, ring-tailed lemur, Lemur catta",384:"indri, indris, Indri indri, Indri brevicaudatus",385:"Indian elephant, Elephas maximus",386:"African elephant, Loxodonta africana",387:"lesser panda, red panda, panda, bear cat, cat bear, Ailurus fulgens",388:"giant panda, panda, panda bear, coon bear, Ailuropoda melanoleuca",389:"barracouta, snoek",390:"eel",391:"coho, cohoe, coho salmon, blue jack, silver salmon, Oncorhynchus kisutch",392:"rock beauty, Holocanthus tricolor",393:"anemone fish",394:"sturgeon",395:"gar, garfish, garpike, billfish, Lepisosteus osseus",396:"lionfish",397:"puffer, pufferfish, blowfish, globefish",398:"abacus",399:"abaya",400:"academic gown, academic robe, judge's robe",401:"accordion, piano accordion, squeeze box",402:"acoustic guitar",403:"aircraft carrier, carrier, flattop, attack aircraft carrier",404:"airliner",405:"airship, dirigible",406:"altar",407:"ambulance",408:"amphibian, amphibious vehicle",409:"analog clock",410:"apiary, bee house",411:"apron",412:"ashcan, trash can, garbage can, wastebin, ash bin, ash-bin, ashbin, dustbin, trash barrel, trash bin",413:"assault rifle, assault gun",414:"backpack, back pack, knapsack, packsack, rucksack, haversack",415:"bakery, bakeshop, bakehouse",416:"balance beam, beam",417:"balloon",418:"ballpoint, ballpoint pen, ballpen, Biro",419:"Band Aid",420:"banjo",421:"bannister, banister, balustrade, balusters, handrail",422:"barbell",423:"barber chair",424:"barbershop",425:"barn",426:"barometer",427:"barrel, cask",428:"barrow, garden cart, lawn cart, wheelbarrow",429:"baseball",430:"basketball",431:"bassinet",432:"bassoon",433:"bathing cap, swimming cap",434:"bath towel",435:"bathtub, bathing tub, bath, tub",436:"beach wagon, station wagon, wagon, estate car, beach waggon, station waggon, waggon",437:"beacon, lighthouse, beacon light, pharos",438:"beaker",439:"bearskin, busby, shako",440:"beer bottle",441:"beer glass",442:"bell cote, bell cot",443:"bib",444:"bicycle-built-for-two, tandem bicycle, tandem",445:"bikini, two-piece",446:"binder, ring-binder",447:"binoculars, field glasses, opera glasses",448:"birdhouse",449:"boathouse",450:"bobsled, bobsleigh, bob",451:"bolo tie, bolo, bola tie, bola",452:"bonnet, poke bonnet",453:"bookcase",454:"bookshop, bookstore, bookstall",455:"bottlecap",456:"bow",457:"bow tie, bow-tie, bowtie",458:"brass, memorial tablet, plaque",459:"brassiere, bra, bandeau",460:"breakwater, groin, groyne, mole, bulwark, seawall, jetty",461:"breastplate, aegis, egis",462:"broom",463:"bucket, pail",464:"buckle",465:"bulletproof vest",466:"bullet train, bullet",467:"butcher shop, meat market",468:"cab, hack, taxi, taxicab",469:"caldron, cauldron",470:"candle, taper, wax light",471:"cannon",472:"canoe",473:"can opener, tin opener",474:"cardigan",475:"car mirror",476:"carousel, carrousel, merry-go-round, roundabout, whirligig",477:"carpenter's kit, tool kit",478:"carton",479:"car wheel",480:"cash machine, cash dispenser, automated teller machine, automatic teller machine, automated teller, automatic teller, ATM",481:"cassette",482:"cassette player",483:"castle",484:"catamaran",485:"CD player",486:"cello, violoncello",487:"cellular telephone, cellular phone, cellphone, cell, mobile phone",488:"chain",489:"chainlink fence",490:"chain mail, ring mail, mail, chain armor, chain armour, ring armor, ring armour",491:"chain saw, chainsaw",492:"chest",493:"chiffonier, commode",494:"chime, bell, gong",495:"china cabinet, china closet",496:"Christmas stocking",497:"church, church building",498:"cinema, movie theater, movie theatre, movie house, picture palace",499:"cleaver, meat cleaver, chopper",500:"cliff dwelling",501:"cloak",502:"clog, geta, patten, sabot",503:"cocktail shaker",504:"coffee mug",505:"coffeepot",506:"coil, spiral, volute, whorl, helix",507:"combination lock",508:"computer keyboard, keypad",509:"confectionery, confectionary, candy store",510:"container ship, containership, container vessel",511:"convertible",512:"corkscrew, bottle screw",513:"cornet, horn, trumpet, trump",514:"cowboy boot",515:"cowboy hat, ten-gallon hat",516:"cradle",517:"crane",518:"crash helmet",519:"crate",520:"crib, cot",521:"Crock Pot",522:"croquet ball",523:"crutch",524:"cuirass",525:"dam, dike, dyke",526:"desk",527:"desktop computer",528:"dial telephone, dial phone",529:"diaper, nappy, napkin",530:"digital clock",531:"digital watch",532:"dining table, board",533:"dishrag, dishcloth",534:"dishwasher, dish washer, dishwashing machine",535:"disk brake, disc brake",536:"dock, dockage, docking facility",537:"dogsled, dog sled, dog sleigh",538:"dome",539:"doormat, welcome mat",540:"drilling platform, offshore rig",541:"drum, membranophone, tympan",542:"drumstick",543:"dumbbell",544:"Dutch oven",545:"electric fan, blower",546:"electric guitar",547:"electric locomotive",548:"entertainment center",549:"envelope",550:"espresso maker",551:"face powder",552:"feather boa, boa",553:"file, file cabinet, filing cabinet",554:"fireboat",555:"fire engine, fire truck",556:"fire screen, fireguard",557:"flagpole, flagstaff",558:"flute, transverse flute",559:"folding chair",560:"football helmet",561:"forklift",562:"fountain",563:"fountain pen",564:"four-poster",565:"freight car",566:"French horn, horn",567:"frying pan, frypan, skillet",568:"fur coat",569:"garbage truck, dustcart",570:"gasmask, respirator, gas helmet",571:"gas pump, gasoline pump, petrol pump, island dispenser",572:"goblet",573:"go-kart",574:"golf ball",575:"golfcart, golf cart",576:"gondola",577:"gong, tam-tam",578:"gown",579:"grand piano, grand",580:"greenhouse, nursery, glasshouse",581:"grille, radiator grille",582:"grocery store, grocery, food market, market",583:"guillotine",584:"hair slide",585:"hair spray",586:"half track",587:"hammer",588:"hamper",589:"hand blower, blow dryer, blow drier, hair dryer, hair drier",590:"hand-held computer, hand-held microcomputer",591:"handkerchief, hankie, hanky, hankey",592:"hard disc, hard disk, fixed disk",593:"harmonica, mouth organ, harp, mouth harp",594:"harp",595:"harvester, reaper",596:"hatchet",597:"holster",598:"home theater, home theatre",599:"honeycomb",600:"hook, claw",601:"hoopskirt, crinoline",602:"horizontal bar, high bar",603:"horse cart, horse-cart",604:"hourglass",605:"iPod",606:"iron, smoothing iron",607:"jack-o'-lantern",608:"jean, blue jean, denim",609:"jeep, landrover",610:"jersey, T-shirt, tee shirt",611:"jigsaw puzzle",612:"jinrikisha, ricksha, rickshaw",613:"joystick",614:"kimono",615:"knee pad",616:"knot",617:"lab coat, laboratory coat",618:"ladle",619:"lampshade, lamp shade",620:"laptop, laptop computer",621:"lawn mower, mower",622:"lens cap, lens cover",623:"letter opener, paper knife, paperknife",624:"library",625:"lifeboat",626:"lighter, light, igniter, ignitor",627:"limousine, limo",628:"liner, ocean liner",629:"lipstick, lip rouge",630:"Loafer",631:"lotion",632:"loudspeaker, speaker, speaker unit, loudspeaker system, speaker system",633:"loupe, jeweler's loupe",634:"lumbermill, sawmill",635:"magnetic compass",636:"mailbag, postbag",637:"mailbox, letter box",638:"maillot",639:"maillot, tank suit",640:"manhole cover",641:"maraca",642:"marimba, xylophone",643:"mask",644:"matchstick",645:"maypole",646:"maze, labyrinth",647:"measuring cup",648:"medicine chest, medicine cabinet",649:"megalith, megalithic structure",650:"microphone, mike",651:"microwave, microwave oven",652:"military uniform",653:"milk can",654:"minibus",655:"miniskirt, mini",656:"minivan",657:"missile",658:"mitten",659:"mixing bowl",660:"mobile home, manufactured home",661:"Model T",662:"modem",663:"monastery",664:"monitor",665:"moped",666:"mortar",667:"mortarboard",668:"mosque",669:"mosquito net",670:"motor scooter, scooter",671:"mountain bike, all-terrain bike, off-roader",672:"mountain tent",673:"mouse, computer mouse",674:"mousetrap",675:"moving van",676:"muzzle",677:"nail",678:"neck brace",679:"necklace",680:"nipple",681:"notebook, notebook computer",682:"obelisk",683:"oboe, hautboy, hautbois",684:"ocarina, sweet potato",685:"odometer, hodometer, mileometer, milometer",686:"oil filter",687:"organ, pipe organ",688:"oscilloscope, scope, cathode-ray oscilloscope, CRO",689:"overskirt",690:"oxcart",691:"oxygen mask",692:"packet",693:"paddle, boat paddle",694:"paddlewheel, paddle wheel",695:"padlock",696:"paintbrush",697:"pajama, pyjama, pj's, jammies",698:"palace",699:"panpipe, pandean pipe, syrinx",700:"paper towel",701:"parachute, chute",702:"parallel bars, bars",703:"park bench",704:"parking meter",705:"passenger car, coach, carriage",706:"patio, terrace",707:"pay-phone, pay-station",708:"pedestal, plinth, footstall",709:"pencil box, pencil case",710:"pencil sharpener",711:"perfume, essence",712:"Petri dish",713:"photocopier",714:"pick, plectrum, plectron",715:"pickelhaube",716:"picket fence, paling",717:"pickup, pickup truck",718:"pier",719:"piggy bank, penny bank",720:"pill bottle",721:"pillow",722:"ping-pong ball",723:"pinwheel",724:"pirate, pirate ship",725:"pitcher, ewer",726:"plane, carpenter's plane, woodworking plane",727:"planetarium",728:"plastic bag",729:"plate rack",730:"plow, plough",731:"plunger, plumber's helper",732:"Polaroid camera, Polaroid Land camera",733:"pole",734:"police van, police wagon, paddy wagon, patrol wagon, wagon, black Maria",735:"poncho",736:"pool table, billiard table, snooker table",737:"pop bottle, soda bottle",738:"pot, flowerpot",739:"potter's wheel",740:"power drill",741:"prayer rug, prayer mat",742:"printer",743:"prison, prison house",744:"projectile, missile",745:"projector",746:"puck, hockey puck",747:"punching bag, punch bag, punching ball, punchball",748:"purse",749:"quill, quill pen",750:"quilt, comforter, comfort, puff",751:"racer, race car, racing car",752:"racket, racquet",753:"radiator",754:"radio, wireless",755:"radio telescope, radio reflector",756:"rain barrel",757:"recreational vehicle, RV, R.V.",758:"reel",759:"reflex camera",760:"refrigerator, icebox",761:"remote control, remote",762:"restaurant, eating house, eating place, eatery",763:"revolver, six-gun, six-shooter",764:"rifle",765:"rocking chair, rocker",766:"rotisserie",767:"rubber eraser, rubber, pencil eraser",768:"rugby ball",769:"rule, ruler",770:"running shoe",771:"safe",772:"safety pin",773:"saltshaker, salt shaker",774:"sandal",775:"sarong",776:"sax, saxophone",777:"scabbard",778:"scale, weighing machine",779:"school bus",780:"schooner",781:"scoreboard",782:"screen, CRT screen",783:"screw",784:"screwdriver",785:"seat belt, seatbelt",786:"sewing machine",787:"shield, buckler",788:"shoe shop, shoe-shop, shoe store",789:"shoji",790:"shopping basket",791:"shopping cart",792:"shovel",793:"shower cap",794:"shower curtain",795:"ski",796:"ski mask",797:"sleeping bag",798:"slide rule, slipstick",799:"sliding door",800:"slot, one-armed bandit",801:"snorkel",802:"snowmobile",803:"snowplow, snowplough",804:"soap dispenser",805:"soccer ball",806:"sock",807:"solar dish, solar collector, solar furnace",808:"sombrero",809:"soup bowl",810:"space bar",811:"space heater",812:"space shuttle",813:"spatula",814:"speedboat",815:"spider web, spider's web",816:"spindle",817:"sports car, sport car",818:"spotlight, spot",819:"stage",820:"steam locomotive",821:"steel arch bridge",822:"steel drum",823:"stethoscope",824:"stole",825:"stone wall",826:"stopwatch, stop watch",827:"stove",828:"strainer",829:"streetcar, tram, tramcar, trolley, trolley car",830:"stretcher",831:"studio couch, day bed",832:"stupa, tope",833:"submarine, pigboat, sub, U-boat",834:"suit, suit of clothes",835:"sundial",836:"sunglass",837:"sunglasses, dark glasses, shades",838:"sunscreen, sunblock, sun blocker",839:"suspension bridge",840:"swab, swob, mop",841:"sweatshirt",842:"swimming trunks, bathing trunks",843:"swing",844:"switch, electric switch, electrical switch",845:"syringe",846:"table lamp",847:"tank, army tank, armored combat vehicle, armoured combat vehicle",848:"tape player",849:"teapot",850:"teddy, teddy bear",851:"television, television system",852:"tennis ball",853:"thatch, thatched roof",854:"theater curtain, theatre curtain",855:"thimble",856:"thresher, thrasher, threshing machine",857:"throne",858:"tile roof",859:"toaster",860:"tobacco shop, tobacconist shop, tobacconist",861:"toilet seat",862:"torch",863:"totem pole",864:"tow truck, tow car, wrecker",865:"toyshop",866:"tractor",867:"trailer truck, tractor trailer, trucking rig, rig, articulated lorry, semi",868:"tray",869:"trench coat",870:"tricycle, trike, velocipede",871:"trimaran",872:"tripod",873:"triumphal arch",874:"trolleybus, trolley coach, trackless trolley",875:"trombone",876:"tub, vat",877:"turnstile",878:"typewriter keyboard",879:"umbrella",880:"unicycle, monocycle",881:"upright, upright piano",882:"vacuum, vacuum cleaner",883:"vase",884:"vault",885:"velvet",886:"vending machine",887:"vestment",888:"viaduct",889:"violin, fiddle",890:"volleyball",891:"waffle iron",892:"wall clock",893:"wallet, billfold, notecase, pocketbook",894:"wardrobe, closet, press",895:"warplane, military plane",896:"washbasin, handbasin, washbowl, lavabo, wash-hand basin",897:"washer, automatic washer, washing machine",898:"water bottle",899:"water jug",900:"water tower",901:"whiskey jug",902:"whistle",903:"wig",904:"window screen",905:"window shade",906:"Windsor tie",907:"wine bottle",908:"wing",909:"wok",910:"wooden spoon",911:"wool, woolen, woollen",912:"worm fence, snake fence, snake-rail fence, Virginia fence",913:"wreck",914:"yawl",915:"yurt",916:"web site, website, internet site, site",917:"comic book",918:"crossword puzzle, crossword",919:"street sign",920:"traffic light, traffic signal, stoplight",921:"book jacket, dust cover, dust jacket, dust wrapper",922:"menu",923:"plate",924:"guacamole",925:"consomme",926:"hot pot, hotpot",927:"trifle",928:"ice cream, icecream",929:"ice lolly, lolly, lollipop, popsicle",930:"French loaf",931:"bagel, beigel",932:"pretzel",933:"cheeseburger",934:"hotdog, hot dog, red hot",935:"mashed potato",936:"head cabbage",937:"broccoli",938:"cauliflower",939:"zucchini, courgette",940:"spaghetti squash",941:"acorn squash",942:"butternut squash",943:"cucumber, cuke",944:"artichoke, globe artichoke",945:"bell pepper",946:"cardoon",947:"mushroom",948:"Granny Smith",949:"strawberry",950:"orange",951:"lemon",952:"fig",953:"pineapple, ananas",954:"banana",955:"jackfruit, jak, jack",956:"custard apple",957:"pomegranate",958:"hay",959:"carbonara",960:"chocolate sauce, chocolate syrup",961:"dough",962:"meat loaf, meatloaf",963:"pizza, pizza pie",964:"potpie",965:"burrito",966:"red wine",967:"espresso",968:"cup",969:"eggnog",970:"alp",971:"bubble",972:"cliff, drop, drop-off",973:"coral reef",974:"geyser",975:"lakeside, lakeshore",976:"promontory, headland, head, foreland",977:"sandbar, sand bar",978:"seashore, coast, seacoast, sea-coast",979:"valley, vale",980:"volcano",981:"ballplayer, baseball player",982:"groom, bridegroom",983:"scuba diver",984:"rapeseed",985:"daisy",986:"yellow lady's slipper, yellow lady-slipper, Cypripedium calceolus, Cypripedium parviflorum",987:"corn",988:"acorn",989:"hip, rose hip, rosehip",990:"buckeye, horse chestnut, conker",991:"coral fungus",992:"agaric",993:"gyromitra",994:"stinkhorn, carrion fungus",995:"earthstar",996:"hen-of-the-woods, hen of the woods, Polyporus frondosus, Grifola frondosa",997:"bolete",998:"ear, spike, capitulum",999:"toilet tissue, toilet paper, bathroom tissue"},me={"1.00":"module_apply_default/MobilenetV1/Logits/global_pool","2.00":"module_apply_default/MobilenetV2/Logits/AvgPool"},ve={"1.00":{.25:{url:"https://tfhub.dev/google/imagenet/mobilenet_v1_025_224/classification/1",inputRange:[0,1]},"0.50":{url:"https://tfhub.dev/google/imagenet/mobilenet_v1_050_224/classification/1",inputRange:[0,1]},.75:{url:"https://tfhub.dev/google/imagenet/mobilenet_v1_075_224/classification/1",inputRange:[0,1]},"1.00":{url:"https://tfhub.dev/google/imagenet/mobilenet_v1_100_224/classification/1",inputRange:[0,1]}},"2.00":{"0.50":{url:"https://tfhub.dev/google/imagenet/mobilenet_v2_050_224/classification/2",inputRange:[0,1]},.75:{url:"https://tfhub.dev/google/imagenet/mobilenet_v2_075_224/classification/2",inputRange:[0,1]},"1.00":{url:"https://tfhub.dev/google/imagenet/mobilenet_v2_100_224/classification/2",inputRange:[0,1]}}};function be(e){return void 0===e&&(e={version:1,alpha:1}),pe(this,void 0,void 0,(function(){var t,n,a,i,o,s,u;return fe(this,(function(c){switch(c.label){case 0:if(null==r)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");if(a=e.version.toFixed(2),i=e.alpha?e.alpha.toFixed(2):"",o=-1,s=1,null==e.modelUrl){if(!(a in ve))throw new Error("Invalid version of MobileNet. Valid versions are: "+Object.keys(ve));if(!(i in ve[a]))throw new Error("MobileNet constructed with invalid alpha "+e.alpha+". Valid multipliers for this version are: "+Object.keys(ve[a])+".");t=ve[a][i].inputRange,o=t[0],s=t[1]}return null!=e.inputRange&&(n=e.inputRange,o=n[0],s=n[1]),[4,(u=new ge(a,i,e.modelUrl,o,s)).load()];case 1:return c.sent(),[2,u]}}))}))}var ge=function(){function e(e,t,n,r,a){void 0===r&&(r=-1),void 0===a&&(a=1),this.version=e,this.alpha=t,this.modelUrl=n,this.inputMin=r,this.inputMax=a,this.normalizationConstant=(a-r)/255}return e.prototype.load=function(){return pe(this,void 0,void 0,(function(){var e,t,n,a,i=this;return fe(this,(function(o){switch(o.label){case 0:return this.modelUrl?(e=this,[4,ce(this.modelUrl)]):[3,2];case 1:return e.model=o.sent(),[3,4];case 2:return t=ve[this.version][this.alpha].url,n=this,[4,ce(t,{fromTFHub:!0})];case 3:n.model=o.sent(),o.label=4;case 4:return[4,(a=Object(r.tidy)((function(){return i.model.predict(Object(r.zeros)([1,224,224,3]))}))).data()];case 5:return o.sent(),a.dispose(),[2]}}))}))},e.prototype.infer=function(e,t){var n=this;return void 0===t&&(t=!1),Object(r.tidy)((function(){e instanceof r.Tensor||(e=r.browser.fromPixels(e));var a=Object(r.add)(Object(r.mul)(Object(r.cast)(e,"float32"),n.normalizationConstant),n.inputMin),i=a;224===e.shape[0]&&224===e.shape[1]||(i=r.image.resizeBilinear(a,[224,224],!0));var o,s=Object(r.reshape)(i,[-1,224,224,3]);if(t){var u=me[n.version],c=n.model.execute(s,u);o=Object(r.squeeze)(c,[1,2])}else{var l=n.model.predict(s);o=Object(r.slice)(l,[0,1],[-1,1e3])}return o}))},e.prototype.classify=function(e,t){return void 0===t&&(t=3),pe(this,void 0,void 0,(function(){var n,r;return fe(this,(function(a){switch(a.label){case 0:return[4,ye(n=this.infer(e),t)];case 1:return r=a.sent(),n.dispose(),[2,r]}}))}))},e}();function ye(e,t){return pe(this,void 0,void 0,(function(){var n,a,i,o,s,u,c;return fe(this,(function(l){switch(l.label){case 0:return[4,(n=Object(r.softmax)(e)).data()];case 1:for(a=l.sent(),n.dispose(),i=[],c=0;c<a.length;c++)i.push({value:a[c],index:c});for(i.sort((function(e,t){return t.value-e.value})),o=new Float32Array(t),s=new Int32Array(t),c=0;c<t;c++)o[c]=i[c].value,s[c]=i[c].index;for(u=[],c=0;c<s.length;c++)u.push({className:he[s[c]],probability:o[c]});return[2,u]}}))}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(494)},function(e,t,n){"use strict";n(307)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(328))},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,i=a&&!r.call({1:2},1);t.f=i?function(e){var t=a(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(59),a=n(77),i=n(206),o=Object,s=r("".split);e.exports=a((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s(e,""):o(e)}:o},function(e,t,n){var r=n(65),a=n(109),i=n(310),o=n(282),s=n(500),u=n(90),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!a(e)||i(e))return e;var n,u=o(e,l);if(u){if(void 0===t&&(t="default"),n=r(u,e,t),!a(n)||i(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},function(e,t,n){var r,a,i=n(107),o=n(499),s=i.process,u=i.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(a=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!a&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(a=+r[1]),e.exports=a},function(e,t){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},function(e,t,n){var r=n(65),a=n(60),i=n(109),o=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&a(n=e.toString)&&!i(s=r(n,e)))return s;if(a(n=e.valueOf)&&!i(s=r(n,e)))return s;if("string"!==t&&a(n=e.toString)&&!i(s=r(n,e)))return s;throw o("Can't convert object to primitive value")}},function(e,t,n){var r=n(107),a=n(60),i=r.WeakMap;e.exports=a(i)&&/native code/.test(String(i))},function(e,t,n){var r=n(111),a=n(503),i=n(308),o=n(117);e.exports=function(e,t,n){for(var s=a(t),u=o.f,c=i.f,l=0;l<s.length;l++){var d=s[l];r(e,d)||n&&r(n,d)||u(e,d,c(t,d))}}},function(e,t,n){var r=n(167),a=n(59),i=n(288),o=n(507),s=n(134),u=a([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?u(t,n(e)):t}},function(e,t,n){var r=n(166),a=n(321),i=n(289),o=function(e){return function(t,n,o){var s,u=r(t),c=i(u),l=a(o,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?r:n)(t)}},function(e,t,n){var r=n(224),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(206),a=n(166),i=n(288).f,o=n(509),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==r(e)?function(e){try{return i(e)}catch(t){return o(s)}}(e):i(a(e))}},function(e,t,n){var r=n(321),a=n(289),i=n(510),o=Array,s=Math.max;e.exports=function(e,t,n){for(var u=a(e),c=r(t,u),l=r(void 0===n?u:n,u),d=o(s(l-c,0)),p=0;c<l;c++,p++)i(d,p,e[c]);return d.length=p,d}},function(e,t,n){"use strict";var r=n(280),a=n(117),i=n(218);e.exports=function(e,t,n){var o=r(t);o in e?a.f(e,o,i(0,n)):e[o]=n}},function(e,t,n){var r=n(77),a=n(109),i=n(206),o=n(512),s=Object.isExtensible,u=r((function(){s(1)}));e.exports=u||o?function(e){return!!a(e)&&((!o||"ArrayBuffer"!=i(e))&&(!s||s(e)))}:s},function(e,t,n){var r=n(77);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},function(e,t,n){var r=n(77);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){var r=n(206),a=n(59);e.exports=function(e){if("Function"===r(e))return a(e)}},function(e,t,n){var r=n(90),a=n(170),i=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[i]===e)}},function(e,t,n){var r=n(65),a=n(110),i=n(134),o=n(219),s=n(324),u=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(a(n))return i(r(n,e));throw u(o(e)+" is not iterable")}},function(e,t,n){var r=n(90)("iterator"),a=!1;try{var i=0,o={next:function(){return{done:!!i++}},return:function(){a=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(s){}return n}},function(e,t,n){var r=n(60),a=n(109),i=n(326);e.exports=function(e,t,n){var o,s;return i&&r(o=t.constructor)&&o!==n&&a(s=o.prototype)&&s!==n.prototype&&i(e,s),e}},function(e,t,n){var r=n(60),a=String,i=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw i("Can't set "+a(e)+" as a prototype")}},function(e,t,n){var r=n(108),a=n(316),i=n(117),o=n(134),s=n(166),u=n(521);t.f=r&&!a?Object.defineProperties:function(e,t){o(e);for(var n,r=s(t),a=u(t),c=a.length,l=0;c>l;)i.f(e,n=a[l++],r[n]);return e}},function(e,t,n){var r=n(320),a=n(290);e.exports=Object.keys||function(e){return r(e,a)}},function(e,t,n){var r=n(167);e.exports=r("document","documentElement")},function(e,t,n){var r=n(168);e.exports=function(e,t,n){for(var a in t)r(e,a,t[a],n);return e}},function(e,t,n){"use strict";var r=n(330).IteratorPrototype,a=n(225),i=n(218),o=n(293),s=n(170),u=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=a(r,{next:i(+!c,n)}),o(e,l,!1,!0),s[l]=u,e}},function(e,t,n){var r=n(77);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){"use strict";var r=n(167),a=n(329),i=n(90),o=n(108),s=i("species");e.exports=function(e){var t=r(e);o&&t&&!t[s]&&a(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(291),a=n(168),i=n(528);r||a(Object.prototype,"toString",i,{unsafe:!0})},function(e,t,n){"use strict";var r=n(291),a=n(207);e.exports=r?{}.toString:function(){return"[object "+a(this)+"]"}},function(e,t,n){n(530)},function(e,t,n){"use strict";n(307)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(328))},function(e,t,n){"use strict";var r=n(532).charAt,a=n(296),i=n(222),o=n(294),s=n(295),u=i.set,c=i.getterFor("String Iterator");o(String,"String",(function(e){u(this,{type:"String Iterator",string:a(e),index:0})}),(function(){var e,t=c(this),n=t.string,a=t.index;return a>=n.length?s(void 0,!0):(e=r(n,a),t.index+=e.length,s(e,!1))}))},function(e,t,n){var r=n(59),a=n(224),i=n(296),o=n(279),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,d=i(o(t)),p=a(n),f=d.length;return p<0||p>=f?e?"":void 0:(r=u(d,p))<55296||r>56319||p+1===f||(l=u(d,p+1))<56320||l>57343?e?s(d,p):r:e?c(d,p,p+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},function(e,t,n){"use strict";var r=n(51),a=n(91),i=n(118).remove;r({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=a(this),n=!0,r=0,o=arguments.length;r<o;r++)e=i(t,arguments[r]),n=n&&e;return!!n}})},function(e,t,n){"use strict";var r=n(51),a=n(78),i=n(91),o=n(119);r({target:"Map",proto:!0,real:!0,forced:!0},{every:function(e){var t=i(this),n=a(e,arguments.length>1?arguments[1]:void 0);return!1!==o(t,(function(e,r){if(!n(e,r,t))return!1}),!0)}})},function(e,t,n){"use strict";var r=n(51),a=n(78),i=n(91),o=n(118),s=n(119),u=o.Map,c=o.set;r({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(e){var t=i(this),n=a(e,arguments.length>1?arguments[1]:void 0),r=new u;return s(t,(function(e,a){n(e,a,t)&&c(r,a,e)})),r}})},function(e,t,n){"use strict";var r=n(51),a=n(78),i=n(91),o=n(119);r({target:"Map",proto:!0,real:!0,forced:!0},{find:function(e){var t=i(this),n=a(e,arguments.length>1?arguments[1]:void 0),r=o(t,(function(e,r){if(n(e,r,t))return{value:e}}),!0);return r&&r.value}})},function(e,t,n){"use strict";var r=n(51),a=n(78),i=n(91),o=n(119);r({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(e){var t=i(this),n=a(e,arguments.length>1?arguments[1]:void 0),r=o(t,(function(e,r){if(n(e,r,t))return{key:r}}),!0);return r&&r.key}})},function(e,t,n){n(51)({target:"Map",stat:!0,forced:!0},{from:n(332)})},function(e,t,n){var r=n(540),a=n(219),i=TypeError;e.exports=function(e){if(r(e))return e;throw i(a(e)+" is not a constructor")}},function(e,t,n){var r=n(59),a=n(77),i=n(60),o=n(207),s=n(167),u=n(319),c=function(){},l=[],d=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,f=r(p.exec),h=!p.exec(c),m=function(e){if(!i(e))return!1;try{return d(c,l,e),!0}catch(t){return!1}},v=function(e){if(!i(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!f(p,u(e))}catch(t){return!0}};v.sham=!0,e.exports=!d||a((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?v:m},function(e,t,n){"use strict";var r=n(51),a=n(65),i=n(59),o=n(60),s=n(110),u=n(169),c=n(118).Map,l=i([].push);r({target:"Map",stat:!0,forced:!0},{groupBy:function(e,t){var n=new(o(this)?this:c);s(t);var r=s(n.has),i=s(n.get),d=s(n.set);return u(e,(function(e){var o=t(e);a(r,n,o)?l(a(i,n,o),e):a(d,n,o,[e])})),n}})},function(e,t,n){"use strict";var r=n(51),a=n(543),i=n(91),o=n(119);r({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(e){return!0===o(i(this),(function(t){if(a(t,e))return!0}),!0)}})},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){"use strict";var r=n(51),a=n(65),i=n(169),o=n(60),s=n(110),u=n(118).Map;r({target:"Map",stat:!0,forced:!0},{keyBy:function(e,t){var n=new(o(this)?this:u);s(t);var r=s(n.set);return i(e,(function(e){a(r,n,t(e),e)})),n}})},function(e,t,n){"use strict";var r=n(51),a=n(91),i=n(119);r({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(e){var t=i(a(this),(function(t,n){if(t===e)return{key:n}}),!0);return t&&t.key}})},function(e,t,n){"use strict";var r=n(51),a=n(78),i=n(91),o=n(118),s=n(119),u=o.Map,c=o.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(e){var t=i(this),n=a(e,arguments.length>1?arguments[1]:void 0),r=new u;return s(t,(function(e,a){c(r,n(e,a,t),e)})),r}})},function(e,t,n){"use strict";var r=n(51),a=n(78),i=n(91),o=n(118),s=n(119),u=o.Map,c=o.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(e){var t=i(this),n=a(e,arguments.length>1?arguments[1]:void 0),r=new u;return s(t,(function(e,a){c(r,a,n(e,a,t))})),r}})},function(e,t,n){"use strict";var r=n(51),a=n(91),i=n(169),o=n(118).set;r({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(e){for(var t=a(this),n=arguments.length,r=0;r<n;)i(arguments[r++],(function(e,n){o(t,e,n)}),{AS_ENTRIES:!0});return t}})},function(e,t,n){n(51)({target:"Map",stat:!0,forced:!0},{of:n(333)})},function(e,t,n){var r=n(59);e.exports=r([].slice)},function(e,t,n){"use strict";var r=n(51),a=n(110),i=n(91),o=n(119),s=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=i(this),n=arguments.length<2,r=n?void 0:arguments[1];if(a(e),o(t,(function(a,i){n?(n=!1,r=a):r=e(r,a,i,t)})),n)throw s("Reduce of empty map with no initial value");return r}})},function(e,t,n){"use strict";var r=n(51),a=n(78),i=n(91),o=n(119);r({target:"Map",proto:!0,real:!0,forced:!0},{some:function(e){var t=i(this),n=a(e,arguments.length>1?arguments[1]:void 0);return!0===o(t,(function(e,r){if(n(e,r,t))return!0}),!0)}})},function(e,t,n){"use strict";var r=n(51),a=n(110),i=n(91),o=n(118),s=TypeError,u=o.get,c=o.has,l=o.set;r({target:"Map",proto:!0,real:!0,forced:!0},{update:function(e,t){var n=i(this),r=arguments.length;a(t);var o=c(n,e);if(!o&&r<3)throw s("Updating absent value");var d=o?u(n,e):a(r>2?arguments[2]:void 0)(e,n);return l(n,e,t(d,e,n)),n}})},function(e,t,n){"use strict";var r=n(51),a=n(75),i=n(83).add;r({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var e=a(this),t=0,n=arguments.length;t<n;t++)i(e,arguments[t]);return e}})},function(e,t,n){"use strict";var r=n(51),a=n(75),i=n(83).remove;r({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=a(this),n=!0,r=0,o=arguments.length;r<o;r++)e=i(t,arguments[r]),n=n&&e;return!!n}})},function(e,t,n){"use strict";var r=n(51),a=n(65),i=n(156),o=n(558);r({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(e){return a(o,this,i(e))}})},function(e,t,n){var r=n(207),a=n(111),i=n(155),o=n(90),s=n(170),u=o("iterator"),c=Object;e.exports=function(e){if(i(e))return!1;var t=c(e);return void 0!==t[u]||"@@iterator"in t||a(s,r(t))}},function(e,t,n){"use strict";var r=n(75),a=n(83),i=n(297),o=n(208),s=n(157),u=n(98),c=n(139),l=a.has,d=a.remove;e.exports=function(e){var t=r(this),n=s(e),a=i(t);return o(t)<=n.size?u(t,(function(e){n.includes(e)&&d(a,e)})):c(n.getIterator(),(function(e){l(t,e)&&d(a,e)})),a}},function(e,t,n){"use strict";var r=n(51),a=n(78),i=n(75),o=n(98);r({target:"Set",proto:!0,real:!0,forced:!0},{every:function(e){var t=i(this),n=a(e,arguments.length>1?arguments[1]:void 0);return!1!==o(t,(function(e){if(!n(e,e,t))return!1}),!0)}})},function(e,t,n){"use strict";var r=n(51),a=n(78),i=n(75),o=n(83),s=n(98),u=o.Set,c=o.add;r({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(e){var t=i(this),n=a(e,arguments.length>1?arguments[1]:void 0),r=new u;return s(t,(function(e){n(e,e,t)&&c(r,e)})),r}})},function(e,t,n){"use strict";var r=n(51),a=n(78),i=n(75),o=n(98);r({target:"Set",proto:!0,real:!0,forced:!0},{find:function(e){var t=i(this),n=a(e,arguments.length>1?arguments[1]:void 0),r=o(t,(function(e){if(n(e,e,t))return{value:e}}),!0);return r&&r.value}})},function(e,t,n){n(51)({target:"Set",stat:!0,forced:!0},{from:n(332)})},function(e,t,n){"use strict";var r=n(51),a=n(65),i=n(156),o=n(564);r({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(e){return a(o,this,i(e))}})},function(e,t,n){"use strict";var r=n(75),a=n(83),i=n(208),o=n(157),s=n(98),u=n(139),c=a.Set,l=a.add,d=a.has,p=a.$has,f=a.$keys;e.exports=function(e){var t,n=r(this),a=o(e),h=new c;if(((t=a).has!==p||t.keys!==f)&&i(n)>a.size){if(u(a.getIterator(),(function(e){d(n,e)&&l(h,e)})),i(h)<2)return h;var m=h;h=new c,s(n,(function(e){d(m,e)&&l(h,e)}))}else s(n,(function(e){a.includes(e)&&l(h,e)}));return h}},function(e,t,n){"use strict";var r=n(51),a=n(65),i=n(156),o=n(566);r({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(e){return a(o,this,i(e))}})},function(e,t,n){"use strict";var r=n(75),a=n(83).has,i=n(208),o=n(157),s=n(98),u=n(139),c=n(292);e.exports=function(e){var t=r(this),n=o(e);if(i(t)<=n.size)return!1!==s(t,(function(e){if(n.includes(e))return!1}),!0);var l=n.getIterator();return!1!==u(l,(function(e){if(a(t,e))return c(l,"normal",!1)}))}},function(e,t,n){"use strict";var r=n(51),a=n(65),i=n(156),o=n(568);r({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(e){return a(o,this,i(e))}})},function(e,t,n){"use strict";var r=n(75),a=n(208),i=n(98),o=n(157);e.exports=function(e){var t=r(this),n=o(e);return!(a(t)>n.size)&&!1!==i(t,(function(e){if(!n.includes(e))return!1}),!0)}},function(e,t,n){"use strict";var r=n(51),a=n(65),i=n(156),o=n(570);r({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(e){return a(o,this,i(e))}})},function(e,t,n){"use strict";var r=n(75),a=n(83).has,i=n(208),o=n(157),s=n(139),u=n(292);e.exports=function(e){var t=r(this),n=o(e);if(i(t)<n.size)return!1;var c=n.getIterator();return!1!==s(c,(function(e){if(!a(t,e))return u(c,"normal",!1)}))}},function(e,t,n){"use strict";var r=n(51),a=n(59),i=n(75),o=n(98),s=n(296),u=a([].join),c=a([].push);r({target:"Set",proto:!0,real:!0,forced:!0},{join:function(e){var t=i(this),n=void 0===e?",":s(e),r=[];return o(t,(function(e){c(r,e)})),u(r,n)}})},function(e,t,n){"use strict";var r=n(51),a=n(78),i=n(75),o=n(83),s=n(98),u=o.Set,c=o.add;r({target:"Set",proto:!0,real:!0,forced:!0},{map:function(e){var t=i(this),n=a(e,arguments.length>1?arguments[1]:void 0),r=new u;return s(t,(function(e){c(r,n(e,e,t))})),r}})},function(e,t,n){n(51)({target:"Set",stat:!0,forced:!0},{of:n(333)})},function(e,t,n){"use strict";var r=n(51),a=n(110),i=n(75),o=n(98),s=TypeError;r({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=i(this),n=arguments.length<2,r=n?void 0:arguments[1];if(a(e),o(t,(function(a){n?(n=!1,r=a):r=e(r,a,a,t)})),n)throw s("Reduce of empty set with no initial value");return r}})},function(e,t,n){"use strict";var r=n(51),a=n(78),i=n(75),o=n(98);r({target:"Set",proto:!0,real:!0,forced:!0},{some:function(e){var t=i(this),n=a(e,arguments.length>1?arguments[1]:void 0);return!0===o(t,(function(e){if(n(e,e,t))return!0}),!0)}})},function(e,t,n){"use strict";var r=n(51),a=n(65),i=n(156),o=n(577);r({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(e){return a(o,this,i(e))}})},function(e,t,n){"use strict";var r=n(75),a=n(83),i=n(297),o=n(157),s=n(139),u=a.add,c=a.has,l=a.remove;e.exports=function(e){var t=r(this),n=o(e).getIterator(),a=i(t);return s(n,(function(e){c(t,e)?l(a,e):u(a,e)})),a}},function(e,t,n){"use strict";var r=n(51),a=n(65),i=n(156),o=n(579);r({target:"Set",proto:!0,real:!0,forced:!0},{union:function(e){return a(o,this,i(e))}})},function(e,t,n){"use strict";var r=n(75),a=n(83).add,i=n(297),o=n(157),s=n(139);e.exports=function(e){var t=r(this),n=o(e).getIterator(),u=i(t);return s(n,(function(e){a(u,e)})),u}},function(e,t,n){var r=n(107),a=n(581),i=n(582),o=n(583),s=n(221),u=n(90),c=u("iterator"),l=u("toStringTag"),d=o.values,p=function(e,t){if(e){if(e[c]!==d)try{s(e,c,d)}catch(r){e[c]=d}if(e[l]||s(e,l,t),a[t])for(var n in o)if(e[n]!==o[n])try{s(e,n,o[n])}catch(r){e[n]=o[n]}}};for(var f in a)p(r[f]&&r[f].prototype,f);p(i,"DOMTokenList")},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(286)("span").classList,a=r&&r.constructor&&r.constructor.prototype;e.exports=a===Object.prototype?void 0:a},function(e,t,n){"use strict";var r=n(166),a=n(584),i=n(170),o=n(222),s=n(117).f,u=n(294),c=n(295),l=n(220),d=n(108),p=o.set,f=o.getterFor("Array Iterator");e.exports=u(Array,"Array",(function(e,t){p(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,c(void 0,!0)):c("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values");var h=i.Arguments=i.Array;if(a("keys"),a("values"),a("entries"),!l&&d&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(m){}},function(e,t,n){var r=n(90),a=n(225),i=n(117).f,o=r("unscopables"),s=Array.prototype;void 0==s[o]&&i(s,o,{configurable:!0,value:a(null)}),e.exports=function(e){s[o][e]=!0}},function(e,t,n){"use strict";var r=n(334),a=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;a=d("react.element"),i=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),o=d("react.provider"),s=d("react.context"),u=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),l=d("react.lazy")}var p="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function b(){}function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var y=g.prototype=new b;y.constructor=g,r(y,v.prototype),y.isPureReactComponent=!0;var _={current:null},x=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:_.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var j=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case a:case i:u=!0}}if(u)return o=o(u=e),e=""===r?"."+S(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(j,"$&/")+"/"),C(o,t,n,"",(function(e){return e}))):null!=o&&(O(o)&&(o=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(j,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(s=e[c],c);u+=C(s,t,n,l,o)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,l=r+S(s,c++),o);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function T(e,t,n){if(null==e)return e;var r=[],a=0;return C(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var E={current:null};function I(){var e=E.current;if(null===e)throw Error(f(321));return e}var A={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!O(e))throw Error(f(143));return e}},t.Component=v,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var i=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)x.call(t,l)&&!k.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return I().useCallback(e,t)},t.useContext=function(e,t){return I().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return I().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return I().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return I().useLayoutEffect(e,t)},t.useMemo=function(e,t){return I().useMemo(e,t)},t.useReducer=function(e,t,n){return I().useReducer(e,t,n)},t.useRef=function(e){return I().useRef(e)},t.useState=function(e){return I().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(1),a=n(334),i=n(587);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,h={},m={};function v(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){b[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];b[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){b[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){b[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){b[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){b[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){b[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){b[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){b[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var a=b.hasOwnProperty(t)?b[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!f.call(m,e)||!f.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);b[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);b[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);b[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){b[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){b[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,w=60106,O=60107,j=60108,S=60114,C=60109,T=60110,N=60112,E=60113,I=60120,A=60115,R=60116,D=60121,M=60128,F=60129,L=60130,P=60131;if("function"===typeof Symbol&&Symbol.for){var z=Symbol.for;k=z("react.element"),w=z("react.portal"),O=z("react.fragment"),j=z("react.strict_mode"),S=z("react.profiler"),C=z("react.provider"),T=z("react.context"),N=z("react.forward_ref"),E=z("react.suspense"),I=z("react.suspense_list"),A=z("react.memo"),R=z("react.lazy"),D=z("react.block"),z("react.scope"),M=z("react.opaque.id"),F=z("react.debug_trace_mode"),L=z("react.offscreen"),P=z("react.legacy_hidden")}var B,V="function"===typeof Symbol&&Symbol.iterator;function U(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function W(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var H=!1;function G(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s])return"\n"+a[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function $(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 22:return e=G(e.type._render,!1);case 1:return e=G(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case O:return"Fragment";case w:return"Portal";case S:return"Profiler";case j:return"StrictMode";case E:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return q(e.type);case D:return q(e._render);case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ce(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var he,me=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==de.svg||"innerHTML"in e)e.innerHTML=t;else{for((he=he||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=he.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function ye(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=ye(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(be).forEach((function(e){ge.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var xe=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Oe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Se=null,Ce=null;function Te(e){if(e=Zr(e)){if("function"!==typeof je)throw Error(o(280));var t=e.stateNode;t&&(t=Jr(t),je(e.stateNode,e.type,t))}}function Ne(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function Ee(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function Ae(e,t,n,r,a){return e(t,n,r,a)}function Re(){}var De=Ie,Me=!1,Fe=!1;function Le(){null===Se&&null===Ce||(Re(),Ee())}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=Jr(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(d)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ac){ze=!1}function Ve(e,t,n,r,a,i,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ue=!1,We=null,He=!1,Ge=null,$e={onError:function(e){Ue=!0,We=e}};function qe(e,t,n,r,a,i,o,s,u){Ue=!1,We=null,Ve.apply($e,arguments)}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ye(e){if(Ke(e)!==e)throw Error(o(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Ye(a),e;if(i===r)return Ye(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Qe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var Je,et,tt,nt,rt=!1,at=[],it=null,ot=null,st=null,ut=new Map,ct=new Map,lt=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:a,targetContainers:[r]}}function ft(e,t){switch(e){case"focusin":case"focusout":it=null;break;case"dragenter":case"dragleave":ot=null;break;case"mouseover":case"mouseout":st=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function ht(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e=pt(t,n,r,a,i),null!==t&&(null!==(t=Zr(t))&&et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function mt(e){var t=Yr(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void nt(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){tt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Zr(n))&&et(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){vt(e)&&n.delete(t)}function gt(){for(rt=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=Zr(e.blockedOn))&&Je(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==it&&vt(it)&&(it=null),null!==ot&&vt(ot)&&(ot=null),null!==st&&vt(st)&&(st=null),ut.forEach(bt),ct.forEach(bt)}function yt(e,t){e.blockedOn===t&&(e.blockedOn=null,rt||(rt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,gt)))}function _t(e){function t(t){return yt(t,e)}if(0<at.length){yt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==it&&yt(it,e),null!==ot&&yt(ot,e),null!==st&&yt(st,e),ut.forEach(t),ct.forEach(t),n=0;n<lt.length;n++)(r=lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<lt.length&&null===(n=lt[0]).blockedOn;)mt(n),null===n.blockedOn&&lt.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},wt={},Ot={};function jt(e){if(wt[e])return wt[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ot)return wt[e]=n[t];return e}d&&(Ot=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var St=jt("animationend"),Ct=jt("animationiteration"),Tt=jt("animationstart"),Nt=jt("transitionend"),Et=new Map,It=new Map,At=["abort","abort",St,"animationEnd",Ct,"animationIteration",Tt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];a="on"+(a[0].toUpperCase()+a.slice(1)),It.set(r,t),Et.set(r,a),c(a,[r])}}(0,i.unstable_now)();var Dt=8;function Mt(e){if(0!==(1&e))return Dt=15,1;if(0!==(2&e))return Dt=14,2;if(0!==(4&e))return Dt=13,4;var t=24&e;return 0!==t?(Dt=12,t):0!==(32&e)?(Dt=11,32):0!==(t=192&e)?(Dt=10,t):0!==(256&e)?(Dt=9,256):0!==(t=3584&e)?(Dt=8,t):0!==(4096&e)?(Dt=7,4096):0!==(t=4186112&e)?(Dt=6,t):0!==(t=62914560&e)?(Dt=5,t):67108864&e?(Dt=4,67108864):0!==(134217728&e)?(Dt=3,134217728):0!==(t=805306368&e)?(Dt=2,t):0!==(1073741824&e)?(Dt=1,1073741824):(Dt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Dt=0;var r=0,a=0,i=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==i)r=i,a=Dt=15;else if(0!==(i=134217727&n)){var u=i&~o;0!==u?(r=Mt(u),a=Dt):0!==(s&=i)&&(r=Mt(s),a=Dt)}else 0!==(i=n&~o)?(r=Mt(i),a=Dt):0!==s&&(r=Mt(s),a=Dt);if(0===r)return 0;if(r=n&((0>(r=31-Ut(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),a<=Dt)return t;Dt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-Ut(t)),r|=e[n],t&=~a;return r}function Lt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Pt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Pt(10,t):e;case 10:return 0===(e=zt(192&~t))?Pt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ut(t)]=n}var Ut=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Gt=i.unstable_UserBlockingPriority,$t=i.unstable_runWithPriority,qt=!0;function Kt(e,t,n,r){Me||Re();var a=Yt,i=Me;Me=!0;try{Ae(a,e,t,n,r)}finally{(Me=i)||Le()}}function Xt(e,t,n,r){$t(Gt,Yt.bind(null,e,t,n,r))}function Yt(e,t,n,r){var a;if(qt)if((a=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var i=Zt(e,t,n,r);if(null===i)a&&ft(e,r);else{if(a){if(-1<dt.indexOf(e))return e=pt(i,e,t,n,r),void at.push(e);if(function(e,t,n,r,a){switch(t){case"focusin":return it=ht(it,e,t,n,r,a),!0;case"dragenter":return ot=ht(ot,e,t,n,r,a),!0;case"mouseover":return st=ht(st,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return ut.set(i,ht(ut.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,ct.set(i,ht(ct.get(i)||null,e,t,n,r,a)),!0}return!1}(i,e,t,n,r))return;ft(e,r)}Nr(e,t,r,null,n)}}}function Zt(e,t,n,r){var a=Oe(r);if(null!==(a=Yr(a))){var i=Ke(a);if(null===i)a=null;else{var o=i.tag;if(13===o){if(null!==(a=Xe(i)))return a;a=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return Nr(e,t,r,a,n),null}var Qt=null,Jt=null,en=null;function tn(){if(en)return en;var e,t,n=Jt,r=n.length,a="value"in Qt?Qt.value:Qt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return en=a.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function an(){return!1}function on(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rn:an,this.isPropagationStopped=an,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var sn,un,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=on(ln),pn=a({},ln,{view:0,detail:0}),fn=on(pn),hn=a({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),mn=on(hn),vn=on(a({},hn,{dataTransfer:0})),bn=on(a({},pn,{relatedTarget:0})),gn=on(a({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=on(a({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_n=on(a({},ln,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function jn(){return On}var Sn=on(a({},pn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Cn=on(a({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(a({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn})),Nn=on(a({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=on(a({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),In=[9,13,27,32],An=d&&"CompositionEvent"in window,Rn=null;d&&"documentMode"in document&&(Rn=document.documentMode);var Dn=d&&"TextEvent"in window&&!Rn,Mn=d&&(!An||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Ln=!1;function Pn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ne(r),0<(t=Ir(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function $n(e){wr(e,0)}function qn(e){if(Z(Qr(e)))return e}function Kn(e,t){if("change"===e)return t}var Xn=!1;if(d){var Yn;if(d){var Zn="oninput"in document;if(!Zn){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),Zn="function"===typeof Qn.oninput}Yn=Zn}else Yn=!1;Xn=Yn&&(!document.documentMode||9<document.documentMode)}function Jn(){Hn&&(Hn.detachEvent("onpropertychange",er),Gn=Hn=null)}function er(e){if("value"===e.propertyName&&qn(Gn)){var t=[];if(Wn(t,Gn,e,Oe(e)),e=$n,Me)e(t);else{Me=!0;try{Ie(e,t)}finally{Me=!1,Le()}}}}function tr(e,t,n){"focusin"===e?(Jn(),Gn=n,(Hn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Jn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Gn)}function rr(e,t){if("click"===e)return qn(t)}function ar(e,t){if("input"===e||"change"===e)return qn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},or=Object.prototype.hasOwnProperty;function sr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!or.call(t,n[r])||!ir(e[n[r]],t[n[r]]))return!1;return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function lr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=d&&"documentMode"in document&&11>=document.documentMode,fr=null,hr=null,mr=null,vr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==fr||fr!==Q(r)||("selectionStart"in(r=fr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&sr(mr,r)||(mr=r,0<(r=Ir(hr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(At,2);for(var gr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),yr=0;yr<gr.length;yr++)It.set(gr[yr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xr=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,s,u,c){if(qe.apply(this,arguments),Ue){if(!Ue)throw Error(o(198));var l=We;Ue=!1,We=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function wr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==i&&a.isPropagationStopped())break e;kr(a,s,c),i=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==i&&a.isPropagationStopped())break e;kr(a,s,c),i=u}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Or(e,t){var n=ea(t),r=e+"__bubble";n.has(r)||(Tr(t,e,2,!1),n.add(r))}var jr="_reactListening"+Math.random().toString(36).slice(2);function Sr(e){e[jr]||(e[jr]=!0,s.forEach((function(t){xr.has(t)||Cr(t,!1,e,null),Cr(t,!0,e,null)})))}function Cr(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==r&&!t&&xr.has(e)){if("scroll"!==e)return;a|=2,i=r}var o=ea(i),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(a|=4),Tr(i,e,a,t),o.add(s))}function Tr(e,t,n,r){var a=It.get(t);switch(void 0===a?2:a){case 0:a=Kt;break;case 1:a=Xt;break;default:a=Yt}n=a.bind(null,t,n,e),a=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Nr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===a||8===u.nodeType&&u.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=Yr(s)))return;if(5===(u=o.tag)||6===u){r=i=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{De(e,t,n)}finally{Fe=!1,Le()}}((function(){var r=i,a=Oe(n),o=[];e:{var s=Et.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":u=Sn;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tn;break;case St:case Ct:case Tt:u=gn;break;case Nt:u=Nn;break;case"scroll":u=fn;break;case"wheel":u=En;break;case"copy":case"cut":case"paste":u=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),d=!l&&"scroll"===e,p=l?null!==s?s+"Capture":null:s;l=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Pe(h,p))&&l.push(Er(h,m,f)))),d)break;h=h.return}0<l.length&&(s=new u(s,c,null,n,a),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!Yr(c)&&!c[Kr])&&(u||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Yr(c):null)&&(c!==(d=Ke(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==u?s:Qr(u),f=null==c?s:Qr(c),(s=new l(m,h+"leave",u,n,a)).target=d,s.relatedTarget=f,m=null,Yr(a)===r&&((l=new l(p,h+"enter",c,n,a)).target=f,l.relatedTarget=d,m=l),d=m,u&&c)e:{for(p=c,h=0,f=l=u;f;f=Ar(f))h++;for(f=0,m=p;m;m=Ar(m))f++;for(;0<h-f;)l=Ar(l),h--;for(;0<f-h;)p=Ar(p),f--;for(;h--;){if(l===p||null!==p&&l===p.alternate)break e;l=Ar(l),p=Ar(p)}l=null}else l=null;null!==u&&Rr(o,s,u,l,!1),null!==c&&null!==d&&Rr(o,d,c,l,!0)}if("select"===(u=(s=r?Qr(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Kn;else if(Un(s))if(Xn)v=ar;else{v=nr;var b=tr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=rr);switch(v&&(v=v(e,r))?Wn(o,v,n,a):(b&&b(e,s,r),"focusout"===e&&(b=s._wrapperState)&&b.controlled&&"number"===s.type&&ae(s,"number",s.value)),b=r?Qr(r):window,e){case"focusin":(Un(b)||"true"===b.contentEditable)&&(fr=b,hr=r,mr=null);break;case"focusout":mr=hr=fr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,br(o,n,a);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(o,n,a)}var g;if(An)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Bn?Pn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Bn&&(g=tn()):(Jt="value"in(Qt=a)?Qt.value:Qt.textContent,Bn=!0)),0<(b=Ir(r,y)).length&&(y=new _n(y,e,null,n,a),o.push({event:y,listeners:b}),g?y.data=g:null!==(g=zn(n))&&(y.data=g))),(g=Dn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Ln=!0,Fn);case"textInput":return(e=t.data)===Fn&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!An&&Pn(e,t)?(e=tn(),en=Jt=Qt=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Ir(r,"onBeforeInput")).length&&(a=new _n("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=g))}wr(o,t)}))}function Er(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ir(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Pe(e,n))&&r.unshift(Er(e,i,a)),null!=(i=Pe(e,t))&&r.push(Er(e,i,a))),e=e.return}return r}function Ar(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Rr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(u=Pe(n,i))&&o.unshift(Er(n,u,s)):a||null!=(u=Pe(n,i))&&o.push(Er(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Dr(){}var Mr=null,Fr=null;function Lr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Pr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zr="function"===typeof setTimeout?setTimeout:void 0,Br="function"===typeof clearTimeout?clearTimeout:void 0;function Vr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Wr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Hr=0;var Gr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Gr,qr="__reactProps$"+Gr,Kr="__reactContainer$"+Gr,Xr="__reactEvents$"+Gr;function Yr(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kr]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Wr(e);null!==e;){if(n=e[$r])return n;e=Wr(e)}return t}n=(e=n).parentNode}return null}function Zr(e){return!(e=e[$r]||e[Kr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Qr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Jr(e){return e[qr]||null}function ea(e){var t=e[Xr];return void 0===t&&(t=e[Xr]=new Set),t}var ta=[],na=-1;function ra(e){return{current:e}}function aa(e){0>na||(e.current=ta[na],ta[na]=null,na--)}function ia(e,t){na++,ta[na]=e.current,e.current=t}var oa={},sa=ra(oa),ua=ra(!1),ca=oa;function la(e,t){var n=e.type.contextTypes;if(!n)return oa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function da(e){return null!==(e=e.childContextTypes)&&void 0!==e}function pa(){aa(ua),aa(sa)}function fa(e,t,n){if(sa.current!==oa)throw Error(o(168));ia(sa,t),ia(ua,n)}function ha(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,q(t)||"Unknown",i));return a({},n,r)}function ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oa,ca=sa.current,ia(sa,e),ia(ua,ua.current),!0}function va(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ha(e,t,ca),r.__reactInternalMemoizedMergedChildContext=e,aa(ua),aa(sa),ia(sa,e)):aa(ua),ia(ua,n)}var ba=null,ga=null,ya=i.unstable_runWithPriority,_a=i.unstable_scheduleCallback,xa=i.unstable_cancelCallback,ka=i.unstable_shouldYield,wa=i.unstable_requestPaint,Oa=i.unstable_now,ja=i.unstable_getCurrentPriorityLevel,Sa=i.unstable_ImmediatePriority,Ca=i.unstable_UserBlockingPriority,Ta=i.unstable_NormalPriority,Na=i.unstable_LowPriority,Ea=i.unstable_IdlePriority,Ia={},Aa=void 0!==wa?wa:function(){},Ra=null,Da=null,Ma=!1,Fa=Oa(),La=1e4>Fa?Oa:function(){return Oa()-Fa};function Pa(){switch(ja()){case Sa:return 99;case Ca:return 98;case Ta:return 97;case Na:return 96;case Ea:return 95;default:throw Error(o(332))}}function za(e){switch(e){case 99:return Sa;case 98:return Ca;case 97:return Ta;case 96:return Na;case 95:return Ea;default:throw Error(o(332))}}function Ba(e,t){return e=za(e),ya(e,t)}function Va(e,t,n){return e=za(e),_a(e,t,n)}function Ua(){if(null!==Da){var e=Da;Da=null,xa(e)}Wa()}function Wa(){if(!Ma&&null!==Ra){Ma=!0;var e=0;try{var t=Ra;Ba(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ra=null}catch(n){throw null!==Ra&&(Ra=Ra.slice(e+1)),_a(Sa,Ua),n}finally{Ma=!1}}}var Ha=x.ReactCurrentBatchConfig;function Ga(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $a=ra(null),qa=null,Ka=null,Xa=null;function Ya(){Xa=Ka=qa=null}function Za(e){var t=$a.current;aa($a),e.type._context._currentValue=t}function Qa(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function Ja(e,t){qa=e,Xa=Ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Io=!0),e.firstContext=null)}function ei(e,t){if(Xa!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Xa=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ka){if(null===qa)throw Error(o(308));Ka=t,qa.dependencies={lanes:0,firstContext:t,responders:null}}else Ka=Ka.next=t;return e._currentValue}var ti=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ai(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ii(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function oi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function si(e,t,n,r){var i=e.updateQueue;ti=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var d=e.alternate;if(null!==d){var p=(d=d.updateQueue).lastBaseUpdate;p!==s&&(null===p?d.firstBaseUpdate=l:p.next=l,d.lastBaseUpdate=c)}}if(null!==o){for(p=i.baseState,s=0,d=l=c=null;;){u=o.lane;var f=o.eventTime;if((r&u)===u){null!==d&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,m=o;switch(u=t,f=n,m.tag){case 1:if("function"===typeof(h=m.payload)){p=h.call(f,p,u);break e}p=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null===(u="function"===typeof(h=m.payload)?h.call(f,p,u):h)||void 0===u)break e;p=a({},p,u);break e;case 2:ti=!0}}null!==o.callback&&(e.flags|=32,null===(u=i.effects)?i.effects=[o]:u.push(o))}else f={eventTime:f,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(l=d=f,c=p):d=d.next=f,s|=u;if(null===(o=o.next)){if(null===(u=i.shared.pending))break;o=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}null===d&&(c=p),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=d,Ds|=s,e.lanes=s,e.memoizedState=p}}function ui(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var ci=(new r.Component).refs;function li(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var di={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=iu(),a=ou(e),i=ai(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ii(e,i),su(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=iu(),a=ou(e),i=ai(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ii(e,i),su(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=iu(),r=ou(e),a=ai(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),ii(e,a),su(e,r,n)}};function pi(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(a,i))}function fi(e,t,n){var r=!1,a=oa,i=t.contextType;return"object"===typeof i&&null!==i?i=ei(i):(a=da(t)?ca:sa.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?la(e,a):oa),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=di,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function hi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&di.enqueueReplaceState(t,t.state,null)}function mi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=ci,ni(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=ei(i):(i=da(t)?ca:sa.current,a.context=la(e,i)),si(e,n,a,r),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(li(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&di.enqueueReplaceState(a,a.state,null),si(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4)}var vi=Array.isArray;function bi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs;t===ci&&(t=r.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function gi(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function yi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=zu(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Wu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=bi(e,t,n),r.return=e,r):((r=Bu(n.type,n.key,n.props,null,e.mode,r)).ref=bi(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Vu(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Wu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Bu(t.type,t.key,t.props,null,e.mode,n)).ref=bi(e,null,t),n.return=e,n;case w:return(t=Hu(t,e.mode,n)).return=e,t}if(vi(t)||U(t))return(t=Vu(t,e.mode,n,null)).return=e,t;gi(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===a?n.type===O?d(e,t,n.props.children,r,a):c(e,t,n,r):null;case w:return n.key===a?l(e,t,n,r):null}if(vi(n)||U(n))return null!==a?null:d(e,t,n,r,null);gi(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return e=e.get(null===r.key?n:r.key)||null,r.type===O?d(t,e,r.props.children,a,r.key):c(t,e,r,a);case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(vi(r)||U(r))return d(t,e=e.get(n)||null,r,a,null);gi(t,r)}return null}function m(a,o,s,u){for(var c=null,l=null,d=o,m=o=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var b=f(a,d,s[m],u);if(null===b){null===d&&(d=v);break}e&&d&&null===b.alternate&&t(a,d),o=i(b,o,m),null===l?c=b:l.sibling=b,l=b,d=v}if(m===s.length)return n(a,d),c;if(null===d){for(;m<s.length;m++)null!==(d=p(a,s[m],u))&&(o=i(d,o,m),null===l?c=d:l.sibling=d,l=d);return c}for(d=r(a,d);m<s.length;m++)null!==(v=h(d,a,m,s[m],u))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),o=i(v,o,m),null===l?c=v:l.sibling=v,l=v);return e&&d.forEach((function(e){return t(a,e)})),c}function v(a,s,u,c){var l=U(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var d=l=null,m=s,v=s=0,b=null,g=u.next();null!==m&&!g.done;v++,g=u.next()){m.index>v?(b=m,m=null):b=m.sibling;var y=f(a,m,g.value,c);if(null===y){null===m&&(m=b);break}e&&m&&null===y.alternate&&t(a,m),s=i(y,s,v),null===d?l=y:d.sibling=y,d=y,m=b}if(g.done)return n(a,m),l;if(null===m){for(;!g.done;v++,g=u.next())null!==(g=p(a,g.value,c))&&(s=i(g,s,v),null===d?l=g:d.sibling=g,d=g);return l}for(m=r(a,m);!g.done;v++,g=u.next())null!==(g=h(m,a,v,g.value,c))&&(e&&null!==g.alternate&&m.delete(null===g.key?v:g.key),s=i(g,s,v),null===d?l=g:d.sibling=g,d=g);return e&&m.forEach((function(e){return t(a,e)})),l}return function(e,r,i,u){var c="object"===typeof i&&null!==i&&i.type===O&&null===i.key;c&&(i=i.props.children);var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case k:e:{for(l=i.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(i.type===O){n(e,c.sibling),(r=a(c,i.props.children)).return=e,e=r;break e}break;default:if(c.elementType===i.type){n(e,c.sibling),(r=a(c,i.props)).ref=bi(e,c,i),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}i.type===O?((r=Vu(i.props.children,e.mode,u,i.key)).return=e,e=r):((u=Bu(i.type,i.key,i.props,null,e.mode,u)).ref=bi(e,r,i),u.return=e,e=u)}return s(e);case w:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Hu(i,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=Wu(i,e.mode,u)).return=e,e=r),s(e);if(vi(i))return m(e,r,i,u);if(U(i))return v(e,r,i,u);if(l&&gi(e,i),"undefined"===typeof i&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,q(e.type)||"Component"))}return n(e,r)}}var _i=yi(!0),xi=yi(!1),ki={},wi=ra(ki),Oi=ra(ki),ji=ra(ki);function Si(e){if(e===ki)throw Error(o(174));return e}function Ci(e,t){switch(ia(ji,t),ia(Oi,e),ia(wi,ki),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}aa(wi),ia(wi,t)}function Ti(){aa(wi),aa(Oi),aa(ji)}function Ni(e){Si(ji.current);var t=Si(wi.current),n=fe(t,e.type);t!==n&&(ia(Oi,e),ia(wi,n))}function Ei(e){Oi.current===e&&(aa(wi),aa(Oi))}var Ii=ra(0);function Ai(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ri=null,Di=null,Mi=!1;function Fi(e,t){var n=Lu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Pi(e){if(Mi){var t=Di;if(t){var n=t;if(!Li(e,t)){if(!(t=Ur(n.nextSibling))||!Li(e,t))return e.flags=-1025&e.flags|2,Mi=!1,void(Ri=e);Fi(Ri,n)}Ri=e,Di=Ur(t.firstChild)}else e.flags=-1025&e.flags|2,Mi=!1,Ri=e}}function zi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ri=e}function Bi(e){if(e!==Ri)return!1;if(!Mi)return zi(e),Mi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Pr(t,e.memoizedProps))for(t=Di;t;)Fi(e,t),t=Ur(t.nextSibling);if(zi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Di=Ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Di=null}}else Di=Ri?Ur(e.stateNode.nextSibling):null;return!0}function Vi(){Di=Ri=null,Mi=!1}var Ui=[];function Wi(){for(var e=0;e<Ui.length;e++)Ui[e]._workInProgressVersionPrimary=null;Ui.length=0}var Hi=x.ReactCurrentDispatcher,Gi=x.ReactCurrentBatchConfig,$i=0,qi=null,Ki=null,Xi=null,Yi=!1,Zi=!1;function Qi(){throw Error(o(321))}function Ji(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,a,i){if($i=i,qi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hi.current=null===e||null===e.memoizedState?Co:To,e=n(r,a),Zi){i=0;do{if(Zi=!1,!(25>i))throw Error(o(301));i+=1,Xi=Ki=null,t.updateQueue=null,Hi.current=No,e=n(r,a)}while(Zi)}if(Hi.current=So,t=null!==Ki&&null!==Ki.next,$i=0,Xi=Ki=qi=null,Yi=!1,t)throw Error(o(300));return e}function to(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xi?qi.memoizedState=Xi=e:Xi=Xi.next=e,Xi}function no(){if(null===Ki){var e=qi.alternate;e=null!==e?e.memoizedState:null}else e=Ki.next;var t=null===Xi?qi.memoizedState:Xi.next;if(null!==t)Xi=t,Ki=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ki=e).memoizedState,baseState:Ki.baseState,baseQueue:Ki.baseQueue,queue:Ki.queue,next:null},null===Xi?qi.memoizedState=Xi=e:Xi=Xi.next=e}return Xi}function ro(e,t){return"function"===typeof t?t(e):t}function ao(e){var t=no(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ki,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var u=s=i=null,c=a;do{var l=c.lane;if(($i&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=d,i=r):u=u.next=d,qi.lanes|=l,Ds|=l}c=c.next}while(null!==c&&c!==a);null===u?i=r:u.next=s,ir(r,t.memoizedState)||(Io=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function io(e){var t=no(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);ir(i,t.memoizedState)||(Io=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function oo(e,t,n){var r=t._getVersion;r=r(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===r:(e=e.mutableReadLanes,(e=($i&e)===e)&&(t._workInProgressVersionPrimary=r,Ui.push(t))),e)return n(t._source);throw Ui.push(t),Error(o(350))}function so(e,t,n,r){var a=Ss;if(null===a)throw Error(o(349));var i=t._getVersion,s=i(t._source),u=Hi.current,c=u.useState((function(){return oo(a,t,n)})),l=c[1],d=c[0];c=Xi;var p=e.memoizedState,f=p.refs,h=f.getSnapshot,m=p.source;p=p.subscribe;var v=qi;return e.memoizedState={refs:f,source:t,subscribe:r},u.useEffect((function(){f.getSnapshot=n,f.setSnapshot=l;var e=i(t._source);if(!ir(s,e)){e=n(t._source),ir(d,e)||(l(e),e=ou(v),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,o=e;0<o;){var u=31-Ut(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=ou(v);a.mutableReadLanes|=r&a.pendingLanes}catch(i){n((function(){throw i}))}}))}),[t,r]),ir(h,n)&&ir(m,t)&&ir(p,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ro,lastRenderedState:d}).dispatch=l=jo.bind(null,qi,e),c.queue=e,c.baseQueue=null,d=oo(a,t,n),c.memoizedState=c.baseState=d),d}function uo(e,t,n){return so(no(),e,t,n)}function co(e){var t=to();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ro,lastRenderedState:e}).dispatch=jo.bind(null,qi,e),[t.memoizedState,e]}function lo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=qi.updateQueue)?(t={lastEffect:null},qi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function po(e){return e={current:e},to().memoizedState=e}function fo(){return no().memoizedState}function ho(e,t,n,r){var a=to();qi.flags|=e,a.memoizedState=lo(1|t,n,void 0,void 0===r?null:r)}function mo(e,t,n,r){var a=no();r=void 0===r?null:r;var i=void 0;if(null!==Ki){var o=Ki.memoizedState;if(i=o.destroy,null!==r&&Ji(r,o.deps))return void lo(t,n,i,r)}qi.flags|=e,a.memoizedState=lo(1|t,n,i,r)}function vo(e,t){return ho(516,4,e,t)}function bo(e,t){return mo(516,4,e,t)}function go(e,t){return mo(4,2,e,t)}function yo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,mo(4,2,yo.bind(null,t,e),n)}function xo(){}function ko(e,t){var n=no();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ji(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function wo(e,t){var n=no();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ji(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oo(e,t){var n=Pa();Ba(98>n?98:n,(function(){e(!0)})),Ba(97<n?97:n,(function(){var n=Gi.transition;Gi.transition=1;try{e(!1),t()}finally{Gi.transition=n}}))}function jo(e,t,n){var r=iu(),a=ou(e),i={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===qi||null!==o&&o===qi)Zi=Yi=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(i.eagerReducer=o,i.eagerState=u,ir(u,s))return}catch(c){}su(e,a,r)}}var So={readContext:ei,useCallback:Qi,useContext:Qi,useEffect:Qi,useImperativeHandle:Qi,useLayoutEffect:Qi,useMemo:Qi,useReducer:Qi,useRef:Qi,useState:Qi,useDebugValue:Qi,useDeferredValue:Qi,useTransition:Qi,useMutableSource:Qi,useOpaqueIdentifier:Qi,unstable_isNewReconciler:!1},Co={readContext:ei,useCallback:function(e,t){return to().memoizedState=[e,void 0===t?null:t],e},useContext:ei,useEffect:vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ho(4,2,yo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ho(4,2,e,t)},useMemo:function(e,t){var n=to();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=to();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=jo.bind(null,qi,e),[r.memoizedState,e]},useRef:po,useState:co,useDebugValue:xo,useDeferredValue:function(e){var t=co(e),n=t[0],r=t[1];return vo((function(){var t=Gi.transition;Gi.transition=1;try{r(e)}finally{Gi.transition=t}}),[e]),n},useTransition:function(){var e=co(!1),t=e[0];return po(e=Oo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=to();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},so(r,e,t,n)},useOpaqueIdentifier:function(){if(Mi){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Hr++).toString(36))),Error(o(355))})),n=co(t)[1];return 0===(2&qi.mode)&&(qi.flags|=516,lo(5,(function(){n("r:"+(Hr++).toString(36))}),void 0,null)),t}return co(t="r:"+(Hr++).toString(36)),t},unstable_isNewReconciler:!1},To={readContext:ei,useCallback:ko,useContext:ei,useEffect:bo,useImperativeHandle:_o,useLayoutEffect:go,useMemo:wo,useReducer:ao,useRef:fo,useState:function(){return ao(ro)},useDebugValue:xo,useDeferredValue:function(e){var t=ao(ro),n=t[0],r=t[1];return bo((function(){var t=Gi.transition;Gi.transition=1;try{r(e)}finally{Gi.transition=t}}),[e]),n},useTransition:function(){var e=ao(ro)[0];return[fo().current,e]},useMutableSource:uo,useOpaqueIdentifier:function(){return ao(ro)[0]},unstable_isNewReconciler:!1},No={readContext:ei,useCallback:ko,useContext:ei,useEffect:bo,useImperativeHandle:_o,useLayoutEffect:go,useMemo:wo,useReducer:io,useRef:fo,useState:function(){return io(ro)},useDebugValue:xo,useDeferredValue:function(e){var t=io(ro),n=t[0],r=t[1];return bo((function(){var t=Gi.transition;Gi.transition=1;try{r(e)}finally{Gi.transition=t}}),[e]),n},useTransition:function(){var e=io(ro)[0];return[fo().current,e]},useMutableSource:uo,useOpaqueIdentifier:function(){return io(ro)[0]},unstable_isNewReconciler:!1},Eo=x.ReactCurrentOwner,Io=!1;function Ao(e,t,n,r){t.child=null===e?xi(t,null,n,r):_i(t,e.child,n,r)}function Ro(e,t,n,r,a){n=n.render;var i=t.ref;return Ja(t,a),r=eo(e,t,n,r,i,a),null===e||Io?(t.flags|=1,Ao(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,es(e,t,a))}function Do(e,t,n,r,a,i){if(null===e){var o=n.type;return"function"!==typeof o||Pu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Bu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Mo(e,t,o,r,a,i))}return o=e.child,0===(a&i)&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:sr)(a,r)&&e.ref===t.ref)?es(e,t,i):(t.flags|=1,(e=zu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Mo(e,t,n,r,a,i){if(null!==e&&sr(e.memoizedProps,r)&&e.ref===t.ref){if(Io=!1,0===(i&a))return t.lanes=e.lanes,es(e,t,i);0!==(16384&e.flags)&&(Io=!0)}return Po(e,t,n,r,i)}function Fo(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},mu(t,n);else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},mu(t,e),null;t.memoizedState={baseLanes:0},mu(t,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,mu(t,r);return Ao(e,t,a,n),t.child}function Lo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Po(e,t,n,r,a){var i=da(n)?ca:sa.current;return i=la(t,i),Ja(t,a),n=eo(e,t,n,r,i,a),null===e||Io?(t.flags|=1,Ao(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,es(e,t,a))}function zo(e,t,n,r,a){if(da(n)){var i=!0;ma(t)}else i=!1;if(Ja(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fi(t,n,r),mi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ei(c):c=la(t,c=da(n)?ca:sa.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&hi(t,o,r,c),ti=!1;var p=t.memoizedState;o.state=p,si(t,r,o,a),u=t.memoizedState,s!==r||p!==u||ua.current||ti?("function"===typeof l&&(li(t,n,l,r),u=t.memoizedState),(s=ti||pi(t,n,s,r,p,u,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ri(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ga(t.type,s),o.props=c,d=t.pendingProps,p=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=ei(u):u=la(t,u=da(n)?ca:sa.current);var f=n.getDerivedStateFromProps;(l="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||p!==u)&&hi(t,o,r,u),ti=!1,p=t.memoizedState,o.state=p,si(t,r,o,a);var h=t.memoizedState;s!==d||p!==h||ua.current||ti?("function"===typeof f&&(li(t,n,f,r),h=t.memoizedState),(c=ti||pi(t,n,c,r,p,h,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return Bo(e,t,n,r,i,a)}function Bo(e,t,n,r,a,i){Lo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return a&&va(t,n,!1),es(e,t,i);r=t.stateNode,Eo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=_i(t,e.child,null,i),t.child=_i(t,null,s,i)):Ao(e,t,s,i),t.memoizedState=r.state,a&&va(t,n,!0),t.child}function Vo(e){var t=e.stateNode;t.pendingContext?fa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&fa(0,t.context,!1),Ci(e,t.containerInfo)}var Uo,Wo,Ho,Go,$o={dehydrated:null,retryLane:0};function qo(e,t,n){var r,a=t.pendingProps,i=Ii.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(i|=1),ia(Ii,1&i),null===e?(void 0!==a.fallback&&Pi(t),e=a.children,i=a.fallback,o?(e=Ko(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof a.unstable_expectedLoadTime?(e=Ko(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Uu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(a=Yo(e,t,a.children,a.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,a):(n=Xo(e,t,a.children,n),t.memoizedState=null,n))}function Ko(e,t,n,r){var a=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&a)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=Uu(t,a,0,null),n=Vu(n,a,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function Xo(e,t,n,r){var a=e.child;return e=a.sibling,n=zu(a,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Yo(e,t,n,r,a){var i=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&i)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=zu(o,s),null!==e?r=zu(e,r):(r=Vu(r,i,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Zo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Qa(e.return,t)}function Qo(e,t,n,r,a,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,lastEffect:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a,o.lastEffect=i)}function Jo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Ao(e,t,r.children,n),0!==(2&(r=Ii.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,n);else if(19===e.tag)Zo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ia(Ii,r),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Ai(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Qo(t,!1,a,n,i,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Ai(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Qo(t,!0,n,null,i,t.lastEffect);break;case"together":Qo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function es(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ds|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=zu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ts(e,t){if(!Mi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ns(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return da(t.type)&&pa(),null;case 3:return Ti(),aa(ua),aa(sa),Wi(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Bi(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Wo(t),null;case 5:Ei(t);var i=Si(ji.current);if(n=t.type,null!==e&&null!=t.stateNode)Ho(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Si(wi.current),Bi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[qr]=s,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(e=0;e<_r.length;e++)Or(_r[e],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":ee(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":ue(r,s),Or("invalid",r)}for(var c in ke(n,s),e=null,s)s.hasOwnProperty(c)&&(i=s[c],"children"===c?"string"===typeof i?r.textContent!==i&&(e=["children",i]):"number"===typeof i&&r.textContent!==""+i&&(e=["children",""+i]):u.hasOwnProperty(c)&&null!=i&&"onScroll"===c&&Or("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Dr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===i.nodeType?i:i.ownerDocument,e===de.html&&(e=pe(n)),e===de.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[qr]=r,Uo(e,t,!1,!1),t.stateNode=e,c=we(n,r),n){case"dialog":Or("cancel",e),Or("close",e),i=r;break;case"iframe":case"object":case"embed":Or("load",e),i=r;break;case"video":case"audio":for(i=0;i<_r.length;i++)Or(_r[i],e);i=r;break;case"source":Or("error",e),i=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),i=r;break;case"details":Or("toggle",e),i=r;break;case"input":ee(e,r),i=J(e,r),Or("invalid",e);break;case"option":i=ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=a({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ue(e,r),i=se(e,r),Or("invalid",e);break;default:i=r}ke(n,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var d=l[s];"style"===s?_e(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&me(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&ve(e,d):"number"===typeof d&&ve(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Or("scroll",e):null!=d&&_(e,s,d,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Dr)}Lr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Go(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Si(ji.current),Si(wi.current),Bi(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return aa(Ii),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Bi(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ii.current)?0===Is&&(Is=3):(0!==Is&&3!==Is||(Is=4),null===Ss||0===(134217727&Ds)&&0===(134217727&Ms)||du(Ss,Ts))),(r||n)&&(t.flags|=4),null);case 4:return Ti(),Wo(t),null===e&&Sr(t.stateNode.containerInfo),null;case 10:return Za(t),null;case 17:return da(t.type)&&pa(),null;case 19:if(aa(Ii),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)ts(r,!1);else{if(0!==Is||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ai(e))){for(t.flags|=64,ts(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ia(Ii,1&Ii.current|2),t.child}e=e.sibling}null!==r.tail&&La()>zs&&(t.flags|=64,s=!0,ts(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ai(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ts(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Mi)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*La()-r.renderingStartTime>zs&&1073741824!==n&&(t.flags|=64,s=!0,ts(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=La(),n.sibling=null,t=Ii.current,ia(Ii,s?1&t|2:1&t),n):null;case 23:case 24:return vu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function rs(e){switch(e.tag){case 1:da(e.type)&&pa();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ti(),aa(ua),aa(sa),Wi(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ei(e),null;case 13:return aa(Ii),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return aa(Ii),null;case 4:return Ti(),null;case 10:return Za(e),null;case 23:case 24:return vu(),null;default:return null}}function as(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a}}function is(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Uo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wo=function(){},Ho=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Si(wi.current);var o,s=null;switch(n){case"input":i=J(e,i),r=J(e,r),s=[];break;case"option":i=ie(e,i),r=ie(e,r),s=[];break;case"select":i=a({},i,{value:void 0}),r=a({},r,{value:void 0}),s=[];break;case"textarea":i=se(e,i),r=se(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Dr)}for(d in ke(n,r),n=null,i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var c=i[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(u.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(c=null!=i?i[d]:void 0,r.hasOwnProperty(d)&&l!==c&&(null!=l||null!=c))if("style"===d)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(d,n)),n=l;else"dangerouslySetInnerHTML"===d?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(d,l)):"children"===d?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(d,""+l):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(u.hasOwnProperty(d)?(null!=l&&"onScroll"===d&&Or("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===M?l.toString():(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Go=function(e,t,n,r){n!==r&&(t.flags|=4)};var os="function"===typeof WeakMap?WeakMap:Map;function ss(e,t,n){(n=ai(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Hs=r),is(0,t)},n}function us(e,t,n){(n=ai(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return is(0,t),r(a)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this),is(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var cs="function"===typeof WeakSet?WeakSet:Set;function ls(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ru(e,n)}else t.current=null}function ds(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ga(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Vr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ps(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;r=a.next,0!==(4&(a=a.tag))&&0!==(1&a)&&(Eu(n,e),Nu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ga(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ui(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ui(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Lr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function fs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=void 0!==a&&null!==a&&a.hasOwnProperty("display")?a.display:null,r.style.display=ye("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function hs(e,t){if(ga&&"function"===typeof ga.onCommitFiberUnmount)try{ga.onCommitFiberUnmount(ba,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,a=r.destroy;if(r=r.tag,void 0!==a)if(0!==(4&r))Eu(t,n);else{r=t;try{a()}catch(i){Ru(r,i)}}n=n.next}while(n!==e)}break;case 1:if(ls(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Ru(t,i)}break;case 5:ls(t);break;case 4:gs(e,t)}}function ms(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(vs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?function e(t,n,r){var a=t.tag,i=5===a||6===a;if(i)t=i?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Dr));else if(4!==a&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var a=t.tag,i=5===a||6===a;if(i)t=i?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==a&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function gs(e,t){for(var n,r,a=t,i=!1;;){if(!i){i=a.return;e:for(;;){if(null===i)throw Error(o(160));switch(n=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===a.tag||6===a.tag){e:for(var s=e,u=a,c=u;;)if(hs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=a.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(hs(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(i=!1)}a.sibling.return=a.return,a=a.sibling}}function ys(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var a=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),we(e,a),t=we(e,r),a=0;a<i.length;a+=2){var s=i[a],u=i[a+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ve(n,u):_(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?oe(n,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Ps=La(),fs(t.child,!0)),void _s(t);case 19:return void _s(t);case 17:return;case 23:case 24:return void fs(t,null!==t.memoizedState)}throw Error(o(163))}function _s(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new cs),t.forEach((function(t){var r=Mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function xs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ks=Math.ceil,ws=x.ReactCurrentDispatcher,Os=x.ReactCurrentOwner,js=0,Ss=null,Cs=null,Ts=0,Ns=0,Es=ra(0),Is=0,As=null,Rs=0,Ds=0,Ms=0,Fs=0,Ls=null,Ps=0,zs=1/0;function Bs(){zs=La()+500}var Vs,Us=null,Ws=!1,Hs=null,Gs=null,$s=!1,qs=null,Ks=90,Xs=[],Ys=[],Zs=null,Qs=0,Js=null,eu=-1,tu=0,nu=0,ru=null,au=!1;function iu(){return 0!==(48&js)?La():-1!==eu?eu:eu=La()}function ou(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Pa()?1:2;if(0===tu&&(tu=Rs),0!==Ha.transition){0!==nu&&(nu=null!==Ls?Ls.pendingLanes:0),e=tu;var t=4186112&~nu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Pa(),0!==(4&js)&&98===e?e=Pt(12,tu):e=Pt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),tu),e}function su(e,t,n){if(50<Qs)throw Qs=0,Js=null,Error(o(185));if(null===(e=uu(e,t)))return null;Vt(e,t,n),e===Ss&&(Ms|=t,4===Is&&du(e,Ts));var r=Pa();1===t?0!==(8&js)&&0===(48&js)?pu(e):(cu(e,n),0===js&&(Bs(),Ua())):(0===(4&js)||98!==r&&99!==r||(null===Zs?Zs=new Set([e]):Zs.add(e)),cu(e,n)),Ls=e}function uu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function cu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ut(s),c=1<<u,l=i[u];if(-1===l){if(0===(c&r)||0!==(c&a)){l=t,Mt(c);var d=Dt;i[u]=10<=d?l+250:6<=d?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Ss?Ts:0),t=Dt,0===r)null!==n&&(n!==Ia&&xa(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ia&&xa(n)}15===t?(n=pu.bind(null,e),null===Ra?(Ra=[n],Da=_a(Sa,Wa)):Ra.push(n),n=Ia):14===t?n=Va(99,pu.bind(null,e)):n=Va(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),lu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function lu(e){if(eu=-1,nu=tu=0,0!==(48&js))throw Error(o(327));var t=e.callbackNode;if(Tu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ss?Ts:0);if(0===n)return null;var r=n,a=js;js|=16;var i=yu();for(Ss===e&&Ts===r||(Bs(),bu(e,r));;)try{ku();break}catch(u){gu(e,u)}if(Ya(),ws.current=i,js=a,null!==Cs?r=0:(Ss=null,Ts=0,r=Is),0!==(Rs&Ms))bu(e,0);else if(0!==r){if(2===r&&(js|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(n=Lt(e))&&(r=_u(e,n))),1===r)throw t=As,bu(e,0),du(e,n),cu(e,La()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:ju(e);break;case 3:if(du(e,n),(62914560&n)===n&&10<(r=Ps+500-La())){if(0!==Ft(e,0))break;if(((a=e.suspendedLanes)&n)!==n){iu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=zr(ju.bind(null,e),r);break}ju(e);break;case 4:if(du(e,n),(4186112&n)===n)break;for(r=e.eventTimes,a=-1;0<n;){var s=31-Ut(n);i=1<<s,(s=r[s])>a&&(a=s),n&=~i}if(n=a,10<(n=(120>(n=La()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){e.timeoutHandle=zr(ju.bind(null,e),n);break}ju(e);break;case 5:ju(e);break;default:throw Error(o(329))}}return cu(e,La()),e.callbackNode===t?lu.bind(null,e):null}function du(e,t){for(t&=~Fs,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function pu(e){if(0!==(48&js))throw Error(o(327));if(Tu(),e===Ss&&0!==(e.expiredLanes&Ts)){var t=Ts,n=_u(e,t);0!==(Rs&Ms)&&(n=_u(e,t=Ft(e,t)))}else n=_u(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(js|=64,e.hydrate&&(e.hydrate=!1,Vr(e.containerInfo)),0!==(t=Lt(e))&&(n=_u(e,t))),1===n)throw n=As,bu(e,0),du(e,t),cu(e,La()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ju(e),cu(e,La()),null}function fu(e,t){var n=js;js|=1;try{return e(t)}finally{0===(js=n)&&(Bs(),Ua())}}function hu(e,t){var n=js;js&=-2,js|=8;try{return e(t)}finally{0===(js=n)&&(Bs(),Ua())}}function mu(e,t){ia(Es,Ns),Ns|=t,Rs|=t}function vu(){Ns=Es.current,aa(Es)}function bu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Br(n)),null!==Cs)for(n=Cs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&pa();break;case 3:Ti(),aa(ua),aa(sa),Wi();break;case 5:Ei(r);break;case 4:Ti();break;case 13:case 19:aa(Ii);break;case 10:Za(r);break;case 23:case 24:vu()}n=n.return}Ss=e,Cs=zu(e.current,null),Ts=Ns=Rs=t,Is=0,As=null,Fs=Ms=Ds=0}function gu(e,t){for(;;){var n=Cs;try{if(Ya(),Hi.current=So,Yi){for(var r=qi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}Yi=!1}if($i=0,Xi=Ki=qi=null,Zi=!1,Os.current=null,null===n||null===n.return){Is=1,As=t,Cs=null;break}e:{var i=e,o=n.return,s=n,u=t;if(t=Ts,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&Ii.current),p=o;do{var f;if(f=13===p.tag){var h=p.memoizedState;if(null!==h)f=null!==h.dehydrated;else{var m=p.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var v=p.updateQueue;if(null===v){var b=new Set;b.add(c),p.updateQueue=b}else v.add(c);if(0===(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=ai(-1,1);g.tag=2,ii(s,g)}s.lanes|=1;break e}u=void 0,s=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new os,u=new Set,y.set(c,u)):void 0===(u=y.get(c))&&(u=new Set,y.set(c,u)),!u.has(s)){u.add(s);var _=Du.bind(null,i,c,s);c.then(_,_)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);u=Error((q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Is&&(Is=2),u=as(u,s),p=o;do{switch(p.tag){case 3:i=u,p.flags|=4096,t&=-t,p.lanes|=t,oi(p,ss(0,i,t));break e;case 1:i=u;var x=p.type,k=p.stateNode;if(0===(64&p.flags)&&("function"===typeof x.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){p.flags|=4096,t&=-t,p.lanes|=t,oi(p,us(p,i,t));break e}}p=p.return}while(null!==p)}Ou(n)}catch(w){t=w,Cs===n&&null!==n&&(Cs=n=n.return);continue}break}}function yu(){var e=ws.current;return ws.current=So,null===e?So:e}function _u(e,t){var n=js;js|=16;var r=yu();for(Ss===e&&Ts===t||bu(e,t);;)try{xu();break}catch(a){gu(e,a)}if(Ya(),js=n,ws.current=r,null!==Cs)throw Error(o(261));return Ss=null,Ts=0,Is}function xu(){for(;null!==Cs;)wu(Cs)}function ku(){for(;null!==Cs&&!ka();)wu(Cs)}function wu(e){var t=Vs(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?Ou(e):Cs=t,Os.current=null}function Ou(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ns(n,t,Ns)))return void(Cs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ns)||0===(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=rs(t)))return n.flags&=2047,void(Cs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Cs=t);Cs=t=e}while(null!==t);0===Is&&(Is=5)}function ju(e){var t=Pa();return Ba(99,Su.bind(null,e,t)),null}function Su(e,t){do{Tu()}while(null!==qs);if(0!==(48&js))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,a=r,i=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<i;){var c=31-Ut(i),l=1<<c;a[c]=0,s[c]=-1,u[c]=-1,i&=~l}if(null!==Zs&&0===(24&r)&&Zs.has(e)&&Zs.delete(e),e===Ss&&(Cs=Ss=null,Ts=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(a=js,js|=32,Os.current=null,Mr=qt,dr(s=lr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,i=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(S){u=null;break e}var d=0,p=-1,f=-1,h=0,m=0,v=s,b=null;t:for(;;){for(var g;v!==u||0!==i&&3!==v.nodeType||(p=d+i),v!==c||0!==l&&3!==v.nodeType||(f=d+l),3===v.nodeType&&(d+=v.nodeValue.length),null!==(g=v.firstChild);)b=v,v=g;for(;;){if(v===s)break t;if(b===u&&++h===i&&(p=d),b===c&&++m===l&&(f=d),null!==(g=v.nextSibling))break;b=(v=b).parentNode}v=g}u=-1===p||-1===f?null:{start:p,end:f}}else u=null;u=u||{start:0,end:0}}else u=null;Fr={focusedElem:s,selectionRange:u},qt=!1,ru=null,au=!1,Us=r;do{try{Cu()}catch(S){if(null===Us)throw Error(o(330));Ru(Us,S),Us=Us.nextEffect}}while(null!==Us);ru=null,Us=r;do{try{for(s=e;null!==Us;){var y=Us.flags;if(16&y&&ve(Us.stateNode,""),128&y){var _=Us.alternate;if(null!==_){var x=_.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&y){case 2:bs(Us),Us.flags&=-3;break;case 6:bs(Us),Us.flags&=-3,ys(Us.alternate,Us);break;case 1024:Us.flags&=-1025;break;case 1028:Us.flags&=-1025,ys(Us.alternate,Us);break;case 4:ys(Us.alternate,Us);break;case 8:gs(s,u=Us);var k=u.alternate;ms(u),null!==k&&ms(k)}Us=Us.nextEffect}}catch(S){if(null===Us)throw Error(o(330));Ru(Us,S),Us=Us.nextEffect}}while(null!==Us);if(x=Fr,_=lr(),y=x.focusedElem,s=x.selectionRange,_!==y&&y&&y.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(y.ownerDocument.documentElement,y)){null!==s&&dr(y)&&(_=s.start,void 0===(x=s.end)&&(x=_),"selectionStart"in y?(y.selectionStart=_,y.selectionEnd=Math.min(x,y.value.length)):(x=(_=y.ownerDocument||document)&&_.defaultView||window).getSelection&&(x=x.getSelection(),u=y.textContent.length,k=Math.min(s.start,u),s=void 0===s.end?k:Math.min(s.end,u),!x.extend&&k>s&&(u=s,s=k,k=u),u=cr(y,k),i=cr(y,s),u&&i&&(1!==x.rangeCount||x.anchorNode!==u.node||x.anchorOffset!==u.offset||x.focusNode!==i.node||x.focusOffset!==i.offset)&&((_=_.createRange()).setStart(u.node,u.offset),x.removeAllRanges(),k>s?(x.addRange(_),x.extend(i.node,i.offset)):(_.setEnd(i.node,i.offset),x.addRange(_))))),_=[];for(x=y;x=x.parentNode;)1===x.nodeType&&_.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof y.focus&&y.focus(),y=0;y<_.length;y++)(x=_[y]).element.scrollLeft=x.left,x.element.scrollTop=x.top}qt=!!Mr,Fr=Mr=null,e.current=n,Us=r;do{try{for(y=e;null!==Us;){var w=Us.flags;if(36&w&&ps(y,Us.alternate,Us),128&w){_=void 0;var O=Us.ref;if(null!==O){var j=Us.stateNode;switch(Us.tag){case 5:_=j;break;default:_=j}"function"===typeof O?O(_):O.current=_}}Us=Us.nextEffect}}catch(S){if(null===Us)throw Error(o(330));Ru(Us,S),Us=Us.nextEffect}}while(null!==Us);Us=null,Aa(),js=a}else e.current=n;if($s)$s=!1,qs=e,Ks=t;else for(Us=r;null!==Us;)t=Us.nextEffect,Us.nextEffect=null,8&Us.flags&&((w=Us).sibling=null,w.stateNode=null),Us=t;if(0===(r=e.pendingLanes)&&(Gs=null),1===r?e===Js?Qs++:(Qs=0,Js=e):Qs=0,n=n.stateNode,ga&&"function"===typeof ga.onCommitFiberRoot)try{ga.onCommitFiberRoot(ba,n,void 0,64===(64&n.current.flags))}catch(S){}if(cu(e,La()),Ws)throw Ws=!1,e=Hs,Hs=null,e;return 0!==(8&js)?null:(Ua(),null)}function Cu(){for(;null!==Us;){var e=Us.alternate;au||null===ru||(0!==(8&Us.flags)?Qe(Us,ru)&&(au=!0):13===Us.tag&&xs(e,Us)&&Qe(Us,ru)&&(au=!0));var t=Us.flags;0!==(256&t)&&ds(e,Us),0===(512&t)||$s||($s=!0,Va(97,(function(){return Tu(),null}))),Us=Us.nextEffect}}function Tu(){if(90!==Ks){var e=97<Ks?97:Ks;return Ks=90,Ba(e,Iu)}return!1}function Nu(e,t){Xs.push(t,e),$s||($s=!0,Va(97,(function(){return Tu(),null})))}function Eu(e,t){Ys.push(t,e),$s||($s=!0,Va(97,(function(){return Tu(),null})))}function Iu(){if(null===qs)return!1;var e=qs;if(qs=null,0!==(48&js))throw Error(o(331));var t=js;js|=32;var n=Ys;Ys=[];for(var r=0;r<n.length;r+=2){var a=n[r],i=n[r+1],s=a.destroy;if(a.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===i)throw Error(o(330));Ru(i,c)}}for(n=Xs,Xs=[],r=0;r<n.length;r+=2){a=n[r],i=n[r+1];try{var u=a.create;a.destroy=u()}catch(c){if(null===i)throw Error(o(330));Ru(i,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return js=t,Ua(),!0}function Au(e,t,n){ii(e,t=ss(0,t=as(n,t),1)),t=iu(),null!==(e=uu(e,1))&&(Vt(e,1,t),cu(e,t))}function Ru(e,t){if(3===e.tag)Au(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Au(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){var a=us(n,e=as(t,e),1);if(ii(n,a),a=iu(),null!==(n=uu(n,1)))Vt(n,1,a),cu(n,a);else if("function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r)))try{r.componentDidCatch(t,e)}catch(i){}break}}n=n.return}}function Du(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=iu(),e.pingedLanes|=e.suspendedLanes&n,Ss===e&&(Ts&n)===n&&(4===Is||3===Is&&(62914560&Ts)===Ts&&500>La()-Ps?bu(e,0):Fs|=n),cu(e,t)}function Mu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Pa()?1:2:(0===tu&&(tu=Rs),0===(t=zt(62914560&~tu))&&(t=4194304))),n=iu(),null!==(e=uu(e,t))&&(Vt(e,t,n),cu(e,n))}function Fu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Lu(e,t,n,r){return new Fu(e,t,n,r)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zu(e,t){var n=e.alternate;return null===n?((n=Lu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bu(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)Pu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case O:return Vu(n.children,a,i,t);case F:s=8,a|=16;break;case j:s=8,a|=1;break;case S:return(e=Lu(12,n,t,8|a)).elementType=S,e.type=S,e.lanes=i,e;case E:return(e=Lu(13,n,t,a)).type=E,e.elementType=E,e.lanes=i,e;case I:return(e=Lu(19,n,t,a)).elementType=I,e.lanes=i,e;case L:return Uu(n,a,i,t);case P:return(e=Lu(24,n,t,a)).elementType=P,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case T:s=9;break e;case N:s=11;break e;case A:s=14;break e;case R:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Lu(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Vu(e,t,n,r){return(e=Lu(7,e,r,t)).lanes=n,e}function Uu(e,t,n,r){return(e=Lu(23,e,r,t)).elementType=L,e.lanes=n,e}function Wu(e,t,n){return(e=Lu(6,e,null,t)).lanes=n,e}function Hu(e,t,n){return(t=Lu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function $u(e,t,n,r){var a=t.current,i=iu(),s=ou(a);e:if(n){t:{if(Ke(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(da(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(da(c)){n=ha(n,c,u);break e}}n=u}else n=oa;return null===t.context?t.context=n:t.pendingContext=n,(t=ai(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ii(a,t),su(a,s,i),s}function qu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ku(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xu(e,t){Ku(e,t),(e=e.alternate)&&Ku(e,t)}function Yu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gu(e,t,null!=n&&!0===n.hydrate),t=Lu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ni(t),e[Kr]=n.current,Sr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var a=(t=r[e])._getVersion;a=a(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=n}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i._internalRoot;if("function"===typeof a){var s=a;a=function(){var e=qu(o);s.call(e)}}$u(t,o,e,a)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Yu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=i._internalRoot,"function"===typeof a){var u=a;a=function(){var e=qu(o);u.call(e)}}hu((function(){$u(t,o,e,a)}))}return qu(o)}function Ju(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Vs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ua.current)Io=!0;else{if(0===(n&r)){switch(Io=!1,t.tag){case 3:Vo(t),Vi();break;case 5:Ni(t);break;case 1:da(t.type)&&ma(t);break;case 4:Ci(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var a=t.type._context;ia($a,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?qo(e,t,n):(ia(Ii,1&Ii.current),null!==(t=es(e,t,n))?t.sibling:null);ia(Ii,1&Ii.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return Jo(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),ia(Ii,Ii.current),r)break;return null;case 23:case 24:return t.lanes=0,Fo(e,t,n)}return es(e,t,n)}Io=0!==(16384&e.flags)}else Io=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=la(t,sa.current),Ja(t,n),a=eo(null,t,r,e,a,n),t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,da(r)){var i=!0;ma(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ni(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&li(t,r,s,e),a.updater=di,t.stateNode=a,a._reactInternals=t,mi(t,r,e,n),t=Bo(null,t,r,!0,i,n)}else t.tag=0,Ao(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(i=a._init)(a._payload),t.type=a,i=t.tag=function(e){if("function"===typeof e)return Pu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===A)return 14}return 2}(a),e=Ga(a,e),i){case 0:t=Po(null,t,a,e,n);break e;case 1:t=zo(null,t,a,e,n);break e;case 11:t=Ro(null,t,a,e,n);break e;case 14:t=Do(null,t,a,Ga(a.type,e),r,n);break e}throw Error(o(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Po(e,t,r,a=t.elementType===r?a:Ga(r,a),n);case 1:return r=t.type,a=t.pendingProps,zo(e,t,r,a=t.elementType===r?a:Ga(r,a),n);case 3:if(Vo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,ri(e,t),si(t,r,null,n),(r=t.memoizedState.element)===a)Vi(),t=es(e,t,n);else{if((i=(a=t.stateNode).hydrate)&&(Di=Ur(t.stateNode.containerInfo.firstChild),Ri=t,i=Mi=!0),i){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(i=e[a])._workInProgressVersionPrimary=e[a+1],Ui.push(i);for(n=xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ao(e,t,r,n),Vi();t=t.child}return t;case 5:return Ni(t),null===e&&Pi(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,Pr(r,a)?s=null:null!==i&&Pr(r,i)&&(t.flags|=16),Lo(e,t),Ao(e,t,s,n),t.child;case 6:return null===e&&Pi(t),null;case 13:return qo(e,t,n);case 4:return Ci(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_i(t,null,r,n):Ao(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Ro(e,t,r,a=t.elementType===r?a:Ga(r,a),n);case 7:return Ao(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ao(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value;var u=t.type._context;if(ia($a,u._currentValue),u._currentValue=i,null!==s)if(u=s.value,0===(i=ir(u,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,i):1073741823))){if(s.children===a.children&&!ua.current){t=es(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&i)){1===u.tag&&((l=ai(-1,n&-n)).tag=2,ii(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),Qa(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Ao(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,Ja(t,n),r=r(a=ei(a,i.unstable_observedBits)),t.flags|=1,Ao(e,t,r,n),t.child;case 14:return i=Ga(a=t.type,t.pendingProps),Do(e,t,a,i=Ga(a.type,i),r,n);case 15:return Mo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ga(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,da(r)?(e=!0,ma(t)):e=!1,Ja(t,n),fi(t,r,a),mi(t,r,a,n),Bo(null,t,r,!0,e,n);case 19:return Jo(e,t,n);case 23:case 24:return Fo(e,t,n)}throw Error(o(156,t.tag))},Yu.prototype.render=function(e){$u(e,this._internalRoot,null,null)},Yu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;$u(null,e,null,(function(){t[Kr]=null}))},Je=function(e){13===e.tag&&(su(e,4,iu()),Xu(e,4))},et=function(e){13===e.tag&&(su(e,67108864,iu()),Xu(e,67108864))},tt=function(e){if(13===e.tag){var t=iu(),n=ou(e);su(e,n,t),Xu(e,n)}},nt=function(e,t){return t()},je=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Jr(r);if(!a)throw Error(o(90));Z(r),ne(r,a)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Ie=fu,Ae=function(e,t,n,r,a){var i=js;js|=4;try{return Ba(98,e.bind(null,t,n,r,a))}finally{0===(js=i)&&(Bs(),Ua())}},Re=function(){0===(49&js)&&(function(){if(null!==Zs){var e=Zs;Zs=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,cu(e,La())}))}Ua()}(),Tu())},De=function(e,t){var n=js;js|=2;try{return e(t)}finally{0===(js=n)&&(Bs(),Ua())}};var ec={Events:[Zr,Qr,Jr,Ne,Ee,Tu,{current:!1}]},tc={findFiberByHostInstance:Yr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{ba=rc.inject(nc),ga=rc}catch(ac){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=Ju,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=js;if(0!==(48&n))return e(t);js|=1;try{if(e)return Ba(99,e.bind(null,t))}finally{js=n,Ua()}},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(o(200));return Qu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Zu(t))throw Error(o(200));return Qu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(o(40));return!!e._reactRootContainer&&(hu((function(){Qu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Kr]=null}))})),!0)},t.unstable_batchedUpdates=fu,t.unstable_createPortal=function(e,t){return Ju(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Qu(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(588)},function(e,t,n){"use strict";var r,a,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,d=null,p=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(p,0))},a=function(e,t){d=setTimeout(e,t)},i=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,b=null,g=-1,y=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,k=x.port2;x.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();_=e+y;try{b(!0,e)?k.postMessage(null):(v=!1,b=null)}catch(n){throw k.postMessage(null),n}}else v=!1},r=function(e){b=e,v||(v=!0,k.postMessage(null))},a=function(e,n){g=f((function(){e(t.unstable_now())}),n)},i=function(){h(g),g=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<S(a,t)))break e;e[r]=t,e[n]=a,n=r}}function O(e){return void 0===(e=e[0])?null:e}function j(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var i=2*(r+1)-1,o=e[i],s=i+1,u=e[s];if(void 0!==o&&0>S(o,n))void 0!==u&&0>S(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[i]=n,r=i);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],T=[],N=1,E=null,I=3,A=!1,R=!1,D=!1;function M(e){for(var t=O(T);null!==t;){if(null===t.callback)j(T);else{if(!(t.startTime<=e))break;j(T),t.sortIndex=t.expirationTime,w(C,t)}t=O(T)}}function F(e){if(D=!1,M(e),!R)if(null!==O(C))R=!0,r(L);else{var t=O(T);null!==t&&a(F,t.startTime-e)}}function L(e,n){R=!1,D&&(D=!1,i()),A=!0;var r=I;try{for(M(n),E=O(C);null!==E&&(!(E.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=E.callback;if("function"===typeof o){E.callback=null,I=E.priorityLevel;var s=o(E.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?E.callback=s:E===O(C)&&j(C),M(n)}else j(C);E=O(C)}if(null!==E)var u=!0;else{var c=O(T);null!==c&&a(F,c.startTime-n),u=!1}return u}finally{E=null,I=r,A=!1}}var P=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||A||(R=!0,r(L))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return O(C)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=P,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:N++,callback:n,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,w(T,e),null===O(C)&&e===O(T)&&(D?i():D=!0,a(F,o-s))):(e.sortIndex=u,w(C,e),R||A||(R=!0,r(L))),e},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},function(e,t,n){},function(e,t,n){},function(e,t,n){var r=n(335);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,a=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(61).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(61).default,a=n(64);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},,,function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),o=new C(r||[]);return i._invoke=function(e,t,n){var r=l;return function(a,i){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=O(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?f:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=f,n.method="throw",n.arg=u.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var l="suspendedStart",d="suspendedYield",p="executing",f="completed",h={};function m(){}function v(){}function b(){}var g={};g[i]=function(){return this};var y=Object.getPrototypeOf,_=y&&y(y(T([])));_&&_!==n&&r.call(_,i)&&(g=_);var x=b.prototype=m.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function w(e){var t;this._invoke=function(n,a){function i(){return new Promise((function(t,i){!function t(n,a,i,o){var s=c(e[n],e,a);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,i,o)}),(function(e){t("throw",e,i,o)})):Promise.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return t("throw",e,i,o)}))}o(s.arg)}(n,a,t,i)}))}return t=t?t.then(i,i):i()}}function O(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=c(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function T(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return v.prototype=x.constructor=b,b.constructor=v,b[s]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},k(w.prototype),w.prototype[o]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,r,a){var i=new w(u(t,n,r,a));return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(x),x[s]="Generator",x[i]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=r}catch(a){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";var r="'([^']+)'|\"([^\"]+)\"|[\\w\\s-]+",a=new RegExp("(bold|bolder|lighter|[1-9]00) +","i"),i=new RegExp("(italic|oblique) +","i"),o=new RegExp("(small-caps) +","i"),s=new RegExp("(ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded) +","i"),u=new RegExp("([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q) *((?:"+r+")( *, *(?:"+r+"))*)"),c={};e.exports=function(e){if(c[e])return c[e];var t=u.exec(e);if(t){var n,r,l,d,p={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(t[1]),unit:t[2],family:t[3].replace(/["']/g,"").replace(/ *, */g,",")},f=e.substring(0,t.index);switch((n=a.exec(f))&&(p.weight=n[1]),(r=i.exec(f))&&(p.style=r[1]),(l=o.exec(f))&&(p.variant=l[1]),(d=s.exec(f))&&(p.stretch=d[1]),p.unit){case"pt":p.size/=.75;break;case"pc":p.size*=16;break;case"in":p.size*=96;break;case"cm":p.size*=96/2.54;break;case"mm":p.size*=96/25.4;break;case"%":break;case"em":case"rem":p.size*=16/.75;break;case"q":p.size*=96/25.4/4}return c[e]=p}}},function(e,t,n){"use strict";var r=n(92),a=n(338),i=n(608),o=n(344);function s(e){var t=new i(e),n=a(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=s(n(341));u.Axios=i,u.create=function(e){return s(o(u.defaults,e))},u.Cancel=n(345),u.CancelToken=n(621),u.isCancel=n(340),u.all=function(e){return Promise.all(e)},u.spread=n(622),e.exports=u,e.exports.default=u},function(e,t,n){"use strict";var r=n(92),a=n(339),i=n(609),o=n(610),s=n(344);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=s(this.defaults,e),a(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var r=n(92);function a(){this.handlers=[]}a.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},function(e,t,n){"use strict";var r=n(92),a=n(611),i=n(340),o=n(341);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=a(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=a(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=a(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(92);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(92);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(343);e.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,a){return e.config=t,n&&(e.code=n),e.request=r,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(92);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,a,i,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(a)&&s.push("path="+a),r.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(617),a=n(618);e.exports=function(e,t){return e&&!r(t)?a(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(92),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,o={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(o[t]&&a.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},function(e,t,n){"use strict";var r=n(92);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=r.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(345);function a(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a((function(t){e=t})),cancel:e}},e.exports=a},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;var r=n(348),a=n(120)("socket.io-client:url");t.url=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(a("protocol-less url %s",e),e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),a("parse %s",e),i=r(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var o=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+o+":"+i.port+t,i.href=i.protocol+"://"+o+(n&&n.port===i.port?"":":"+i.port),i}},function(e,t,n){var r=n(686);e.exports=function(e){function t(e){var n,r,i,o=null;function s(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];if(s.enabled){var i=s,o=Number(new Date),u=o-(n||o);i.diff=u,i.prev=n,i.curr=o,n=o,r[0]=t.coerce(r[0]),"string"!==typeof r[0]&&r.unshift("%O");var c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return"%";c++;var a=t.formatters[n];if("function"===typeof a){var o=r[c];e=a.call(i,o),r.splice(c,1),c--}return e})),t.formatArgs.call(i,r),(i.log||t.log).apply(i,r)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=a,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==o?o:(r!==t.namespaces&&(r=t.namespaces,i=t.enabled(e)),i)},set:function(e){o=e}}),"function"===typeof t.init&&t.init(s),s}function a(e,n){var r=t(this.namespace+("undefined"===typeof n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){var e=[].concat(r(t.names.map(i)),r(t.skips.map(i).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),a=r.length;for(n=0;n<a;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(690),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},function(e,t,n){var r=n(687),a=n(688),i=n(689);e.exports=function(e){return r(e)||a(e)||i()}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){var n=1e3,r=60*n,a=60*r,i=24*a,o=7*i,s=365.25*i;function u(e,t,n,r){var a=t>=1.5*n;return Math.round(e/n)+" "+r+(a?"s":"")}e.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var u=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*s;case"weeks":case"week":case"w":return u*o;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*a;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(e);if("number"===c&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return u(e,t,i,"day");if(t>=a)return u(e,t,a,"hour");if(t>=r)return u(e,t,r,"minute");if(t>=n)return u(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=a)return Math.round(e/a)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){var r=n(694);e.exports=function(e,t){return new r(e,t)},e.exports.Socket=r,e.exports.protocol=r.protocol,e.exports.Transport=n(299),e.exports.transports=n(351),e.exports.parser=n(209)},function(e,t,n){var r=n(121),a=n(122),i=n(123),o=n(112),s=n(124),u=n(351),c=n(210),l=n(120)("engine.io-client:socket"),d=n(209),p=n(348),f=n(300),h=function(e){"use strict";function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(this,t),n=i(this,o(t).call(this)),e&&"object"===typeof e&&(a=e,e=null),e?(e=p(e),a.hostname=e.host,a.secure="https"===e.protocol||"wss"===e.protocol,a.port=e.port,e.query&&(a.query=e.query)):a.host&&(a.hostname=p(a.host).host),n.secure=null!=a.secure?a.secure:"undefined"!==typeof location&&"https:"===location.protocol,a.hostname&&!a.port&&(a.port=n.secure?"443":"80"),n.hostname=a.hostname||("undefined"!==typeof location?location.hostname:"localhost"),n.port=a.port||("undefined"!==typeof location&&location.port?location.port:n.secure?443:80),n.transports=a.transports||["polling","websocket"],n.readyState="",n.writeBuffer=[],n.prevBufferLen=0,n.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},a),n.opts.path=n.opts.path.replace(/\/$/,"")+"/","string"===typeof n.opts.query&&(n.opts.query=f.decode(n.opts.query)),n.id=null,n.upgrades=null,n.pingInterval=null,n.pingTimeout=null,n.pingTimeoutTimer=null,"function"===typeof addEventListener&&(n.opts.closeOnBeforeunload&&addEventListener("beforeunload",(function(){n.transport&&(n.transport.removeAllListeners(),n.transport.close())}),!1),"localhost"!==n.hostname&&(n.offlineEventListener=function(){n.onClose("transport close")},addEventListener("offline",n.offlineEventListener,!1))),n.open(),n}return s(t,e),a(t,[{key:"createTransport",value:function(e){l('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.opts.query);t.EIO=d.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return l("options: %j",n),new u[e](n)}},{key:"open",value:function(){var e,n=this;if(this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void setTimeout((function(){n.emit("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return l("error while creating transport: %s",r),this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;l("setting transport %s",e.name),this.transport&&(l("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(){t.onClose("transport close")}))}},{key:"probe",value:function(e){var n=this;l('probing transport "%s"',e);var r=this.createTransport(e,{probe:1}),a=!1;t.priorWebsocketSuccess=!1;var i=function(){a||(l('probe transport "%s" opened',e),r.send([{type:"ping",data:"probe"}]),r.once("packet",(function(i){if(!a)if("pong"===i.type&&"probe"===i.data){if(l('probe transport "%s" pong',e),n.upgrading=!0,n.emit("upgrading",r),!r)return;t.priorWebsocketSuccess="websocket"===r.name,l('pausing current transport "%s"',n.transport.name),n.transport.pause((function(){a||"closed"!==n.readyState&&(l("changing transport and sending upgrade packet"),p(),n.setTransport(r),r.send([{type:"upgrade"}]),n.emit("upgrade",r),r=null,n.upgrading=!1,n.flush())}))}else{l('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=r.name,n.emit("upgradeError",o)}})))};function o(){a||(a=!0,p(),r.close(),r=null)}var s=function(t){var a=new Error("probe error: "+t);a.transport=r.name,o(),l('probe transport "%s" failed because of error: %s',e,t),n.emit("upgradeError",a)};function u(){s("transport closed")}function c(){s("socket closed")}function d(e){r&&e.name!==r.name&&(l('"%s" works - aborting "%s"',e.name,r.name),o())}var p=function(){r.removeListener("open",i),r.removeListener("error",s),r.removeListener("close",u),n.removeListener("close",c),n.removeListener("upgrading",d)};r.once("open",i),r.once("error",s),r.once("close",u),this.once("close",c),this.once("upgrading",d),r.open()}},{key:"onOpen",value:function(){if(l("socket open"),this.readyState="open",t.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){l("starting upgrade probes");for(var e=0,n=this.upgrades.length;e<n;e++)this.probe(this.upgrades[e])}}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(l('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else l('packet received with socket readyState "%s"',this.readyState)}},{key:"onHandshake",value:function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()}},{key:"flush",value:function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(l("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var a={type:e,data:t,options:n};this.emit("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),l("socket closing - telling transport to close"),e.transport.close()},n=function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()},r=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?r():t()})):this.upgrading?r():t()),this}},{key:"onError",value:function(e){l("socket error %j",e),t.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(l('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),t}(c);h.priorWebsocketSuccess=!1,h.protocol=d.protocol,e.exports=h},function(e,t){try{e.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},function(e,t,n){var r=n(121),a=n(122),i=n(123),o=n(112),s=n(124),u=n(352),c=n(353),l=n(210),d=n(356).pick,p=n(226),f=n(120)("engine.io-client:polling-xhr");function h(){}var m=null!=new u({xdomain:!1}).responseType,v=function(e){"use strict";function t(e){var n;if(r(this,t),n=i(this,o(t).call(this,e)),"undefined"!==typeof location){var a="https:"===location.protocol,s=location.port;s||(s=a?443:80),n.xd="undefined"!==typeof location&&e.hostname!==location.hostname||s!==e.port,n.xs=e.secure!==a}var u=e&&e.forceBase64;return n.supportsBinary=m&&!u,n}return s(t,e),a(t,[{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new b(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this,r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(function(e){n.onError("xhr post error",e)}))}},{key:"doPoll",value:function(){var e=this;f("xhr poll");var t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t}}]),t}(c),b=function(e){"use strict";function t(e,n){var a;return r(this,t),(a=i(this,o(t).call(this))).opts=n,a.method=n.method||"GET",a.uri=e,a.async=!1!==n.async,a.data=void 0!==n.data?n.data:null,a.create(),a}return s(t,e),a(t,[{key:"create",value:function(){var e=this,n=d(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd,n.xscheme=!!this.opts.xs;var r=this.xhr=new u(n);try{f("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var a in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&r.setRequestHeader(a,this.opts.extraHeaders[a])}catch(i){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{r.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),this.hasXDR()?(r.onload=function(){e.onLoad()},r.onerror=function(){e.onError(r.responseText)}):r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?e.onLoad():setTimeout((function(){e.onError("number"===typeof r.status?r.status:0)}),0))},f("xhr data %s",this.data),r.send(this.data)}catch(i){return void setTimeout((function(){e.onError(i)}),0)}"undefined"!==typeof document&&(this.index=t.requestsCount++,t.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(e){this.emit("data",e),this.onSuccess()}},{key:"onError",value:function(e){this.emit("error",e),this.cleanup(!0)}},{key:"cleanup",value:function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=h:this.xhr.onreadystatechange=h,e)try{this.xhr.abort()}catch(n){}"undefined"!==typeof document&&delete t.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&this.onData(e)}},{key:"hasXDR",value:function(){return"undefined"!==typeof XDomainRequest&&!this.xs&&this.enablesXDR}},{key:"abort",value:function(){this.cleanup()}}]),t}(l);if(b.requestsCount=0,b.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",g);else if("function"===typeof addEventListener){addEventListener("onpagehide"in p?"pagehide":"unload",g,!1)}function g(){for(var e in b.requests)b.requests.hasOwnProperty(e)&&b.requests[e].abort()}e.exports=v,e.exports.Request=b},function(e,t,n){var r=n(354).PACKET_TYPES,a="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),i="function"===typeof ArrayBuffer,o=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)};e.exports=function(e,t,n){var s,u=e.type,c=e.data;return a&&c instanceof Blob?t?n(c):o(c,n):i&&(c instanceof ArrayBuffer||(s=c,"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer))?t?n(c instanceof ArrayBuffer?c:c.buffer):o(new Blob([c]),n):n(r[u]+(c||""))}},function(e,t,n){var r,a=n(354),i=a.PACKET_TYPES_REVERSE,o=a.ERROR_PACKET;"function"===typeof ArrayBuffer&&(r=n(699));var s=function(e,t){if(r){var n=r.decode(e);return u(n,t)}return{base64:!0,data:e}},u=function(e,t){switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}};e.exports=function(e,t){if("string"!==typeof e)return{type:"message",data:u(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:s(e.substring(1),t)}:i[n]?e.length>1?{type:i[n],data:e.substring(1)}:{type:i[n]}:o}},function(e,t){!function(e){"use strict";t.encode=function(t){var n,r=new Uint8Array(t),a=r.length,i="";for(n=0;n<a;n+=3)i+=e[r[n]>>2],i+=e[(3&r[n])<<4|r[n+1]>>4],i+=e[(15&r[n+1])<<2|r[n+2]>>6],i+=e[63&r[n+2]];return a%3===2?i=i.substring(0,i.length-1)+"=":a%3===1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(t){var n,r,a,i,o,s=.75*t.length,u=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var l=new ArrayBuffer(s),d=new Uint8Array(l);for(n=0;n<u;n+=4)r=e.indexOf(t[n]),a=e.indexOf(t[n+1]),i=e.indexOf(t[n+2]),o=e.indexOf(t[n+3]),d[c++]=r<<2|a>>4,d[c++]=(15&a)<<4|i>>2,d[c++]=(3&i)<<6|63&o;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(e,t,n){var r,a=n(121),i=n(122),o=n(123),s=n(350),u=n(112),c=n(227),l=n(124),d=n(353),p=n(226),f=/\n/g,h=/\\n/g,m=function(e){"use strict";function t(e){var n;return a(this,t),(n=o(this,u(t).call(this,e))).query=n.query||{},r||(r=p.___eio=p.___eio||[]),n.index=r.length,r.push(n.onData.bind(s(n))),n.query.j=n.index,n}return l(t,e),i(t,[{key:"doClose",value:function(){this.script&&(this.script.onerror=function(){},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),c(u(t.prototype),"doClose",this).call(this)}},{key:"doPoll",value:function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!==typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)}},{key:"doWrite",value:function(e,t){var n,r=this;if(!this.form){var a=document.createElement("form"),i=document.createElement("textarea"),o=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=o,a.method="POST",a.setAttribute("accept-charset","utf-8"),i.name="d",a.appendChild(i),document.body.appendChild(a),this.form=a,this.area=i}function s(){u(),t()}this.form.action=this.uri();var u=function(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(e)}catch(t){(n=document.createElement("iframe")).name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n};u(),e=e.replace(h,"\\\n"),this.area.value=e.replace(f,"\\n");try{this.form.submit()}catch(c){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&s()}:this.iframe.onload=s}},{key:"supportsBinary",get:function(){return!1}}]),t}(d);e.exports=m},function(e,t,n){var r=n(112);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t,n){(function(t){var r=n(121),a=n(122),i=n(123),o=n(112),s=n(124),u=n(299),c=n(209),l=n(300),d=n(355),p=n(356).pick,f=n(706),h=f.WebSocket,m=f.usingBrowserWebSocket,v=f.defaultBinaryType,b=n(120)("engine.io-client:websocket"),g="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),y=function(e){"use strict";function n(e){var t;return r(this,n),(t=i(this,o(n).call(this,e))).supportsBinary=!e.forceBase64,t}return s(n,e),a(n,[{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=g?{}:p(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=m&&!g?t?new h(e,t):new h(e):new h(e,t,n)}catch(r){return this.emit("error",r)}this.ws.binaryType=this.socket.binaryType||v,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var n=this;this.writable=!1;for(var r=function(r){var a=e[r],i=r===e.length-1;c.encodePacket(a,n.supportsBinary,(function(e){var r={};m||(a.options&&(r.compress=a.options.compress),n.opts.perMessageDeflate&&("string"===typeof e?t.byteLength(e):e.length)<n.opts.perMessageDeflate.threshold&&(r.compress=!1));try{m?n.ws.send(e):n.ws.send(e,r)}catch(o){b("websocket closed before onclose event")}i&&setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}))},a=0;a<e.length;a++)r(a)}},{key:"onClose",value:function(){u.prototype.onClose.call(this)}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";return this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=d()),this.supportsBinary||(e.b64=1),(e=l.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}},{key:"check",value:function(){return!!h&&!("__initialize"in h&&this.name===n.prototype.name)}},{key:"name",get:function(){return"websocket"}}]),n}(u);e.exports=y}).call(this,n(211).Buffer)},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),o=r[0],s=r[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),l=0,d=s>0?o-4:o;for(n=0;n<d;n+=4)t=a[e.charCodeAt(n)]<<18|a[e.charCodeAt(n+1)]<<12|a[e.charCodeAt(n+2)]<<6|a[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===s&&(t=a[e.charCodeAt(n)]<<2|a[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===s&&(t=a[e.charCodeAt(n)]<<10|a[e.charCodeAt(n+1)]<<4|a[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,a=n%3,i=[],o=0,s=n-a;o<s;o+=16383)i.push(l(e,o,o+16383>s?s:o+16383));1===a?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===a&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],a=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)r[s]=o[s],a[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var a,i,o=[],s=t;s<n;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(i=a)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,a){var i,o,s=8*a-r-1,u=(1<<s)-1,c=u>>1,l=-7,d=n?a-1:0,p=n?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-l)-1,f>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=p,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=r;l>0;o=256*o+e[t+d],d+=p,l-=8);if(0===i)i=1-c;else{if(i===u)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),i-=c}return(f?-1:1)*o*Math.pow(2,i-r)},t.write=function(e,t,n,r,a,i){var o,s,u,c=8*i-a-1,l=(1<<c)-1,d=l>>1,p=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+d>=1?p/u:p*Math.pow(2,1-d))*u>=2&&(o++,u/=2),o+d>=l?(s=0,o=l):o+d>=1?(s=(t*u-1)*Math.pow(2,a),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;e[n+f]=255&s,f+=h,s/=256,a-=8);for(o=o<<a|s,c+=a;c>0;e[n+f]=255&o,f+=h,o/=256,c-=8);e[n+f-h]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(226);e.exports={WebSocket:r.WebSocket||r.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;var r=n(358);t.deconstructPacket=function(e){var t=[],n=e.data,a=e;return a.data=function e(t,n){if(!t)return t;if(r.isBinary(t)){var a={_placeholder:!0,num:n.length};return n.push(t),a}if(Array.isArray(t)){for(var i=new Array(t.length),o=0;o<t.length;o++)i[o]=e(t[o],n);return i}if("object"===typeof t&&!(t instanceof Date)){var s={};for(var u in t)t.hasOwnProperty(u)&&(s[u]=e(t[u],n));return s}return t}(n,t),a.attachments=t.length,{packet:a,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=e(t[r],n);else if("object"===typeof t)for(var a in t)t.hasOwnProperty(a)&&(t[a]=e(t[a],n));return t}(e.data,t),e.attachments=void 0,e}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";(function(e){var t,r=n(4),a=n(11),i=n(40),o=function(){return n(710)};var s=function(){function s(){Object(r.a)(this,s),this.util=n(711),this.textEncoder=new this.util.TextEncoder}return Object(a.a)(s,[{key:"fetch",value:function(e,n){return null!=Object(i.c)().global.fetch?Object(i.c)().global.fetch(e,n):(null==t&&(t=o()),t(e,n))}},{key:"now",value:function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}},{key:"isTypedArray",value:function(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}]),s}();Object(i.c)().get("IS_NODE")&&!Object(i.c)().get("IS_BROWSER")&&Object(i.c)().setPlatform("node",new s)}).call(this,n(171))},,,function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n=function(){var e=4022871197;return function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new o(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(99)&&n(173)?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.alea=u}(0,e,n(99))}).call(this,n(172)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(99)&&n(173)?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor128=u}(0,e,n(99))}).call(this,n(172)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(99)&&n(173)?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorwow=u}(0,e,n(99))}).call(this,n(172)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(99)&&n(173)?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorshift7=u}(0,e,n(99))}).call(this,n(172)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,i=t.i;return t.w=r=r+1640531527|0,n=a[i+34&127],e=a[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,a,i,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),a=0,i=-32;i<u;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(o=o+1640531527|0,a=0==(n=s[127&i]^=r+o)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,i=512;i>0;--i)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=o,e.X=s,e.i=a}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(99)&&n(173)?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor4096=u}(0,e,n(99))}).call(this,n(172)(e))},function(e,t,n){(function(e){var r;!function(e,a,i){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(99)&&n(173)?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.tychei=u}(0,e,n(99))}).call(this,n(172)(e))},function(e,t,n){var r;!function(a,i,o){var s,u=256,c=6,l="random",d=o.pow(u,c),p=o.pow(2,52),f=2*p,h=u-1;function m(e,t,n){var r=[],h=g(function e(t,n){var r,a=[],i=typeof t;if(n&&"object"==i)for(r in t)try{a.push(e(t[r],n-1))}catch(o){}return a.length?a:"string"==i?t:t+"\0"}((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(i)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(u):(e=new Uint8Array(u),(a.crypto||a.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=a.navigator,n=t&&t.plugins;return[+new Date,a,n,a.screen,y(i)]}}():e,3),r),m=new v(r),_=function(){for(var e=m.g(c),t=d,n=0;e<p;)e=(e+n)*u,t*=u,n=m.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return _.int32=function(){return 0|m.g(4)},_.quick=function(){return m.g(4)/4294967296},_.double=_,g(y(m.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&b(r,m),e.state=function(){return b(m,{})}),n?(o[l]=e,t):e})(_,h,"global"in t?t.global:this==o,t.state)}function v(e){var t,n=e.length,r=this,a=0,i=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);a<u;)o[a]=a++;for(a=0;a<u;a++)o[a]=o[i=h&i+e[a%n]+(t=o[a])],o[i]=t;(r.g=function(e){for(var t,n=0,a=r.i,i=r.j,o=r.S;e--;)t=o[a=h&a+1],n=n*u+o[h&(o[a]=o[i=h&i+t])+(o[i]=t)];return r.i=a,r.j=i,n})(u)}function b(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){for(var n,r=e+"",a=0;a<r.length;)t[h&a]=h&(n^=19*t[h&a])+r.charCodeAt(a++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(g(o.random(),i),e.exports){e.exports=m;try{s=n(719)}catch(_){}}else void 0===(r=function(){return m}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},,function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,a=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(a.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(721),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(154))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,a=1,i={},o=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return i[a]=o,r(a),a++},u.clearImmediate=c}function c(e){delete i[e]}function l(e){if(o)setTimeout(l,0,e);else{var t=i[e];if(t){o=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(154),n(171))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon24Dismiss","dismiss_24","0 0 24 24",'<symbol fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="dismiss_24"><g fill="currentColor"><path d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z" opacity=".12" /><path d="M16.736 7.264a.9.9 0 0 1 0 1.272L13.273 12l3.463 3.464a.9.9 0 0 1 .081 1.18l-.08.092a.9.9 0 0 1-1.273 0L12 13.273l-3.464 3.463a.9.9 0 1 1-1.272-1.272L10.727 12 7.264 8.536a.9.9 0 0 1-.08-1.18l.08-.092a.9.9 0 0 1 1.272 0L12 10.727l3.464-3.463a.9.9 0 0 1 1.272 0z" /></g></symbol>',24,24,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28AddCircleOutline","add_circle_outline_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="add_circle_outline_28"><path d="M14 2c6.627 0 12 5.373 12 12s-5.373 12-12 12S2 20.627 2 14 7.373 2 14 2zm0 2C8.477 4 4 8.477 4 14s4.477 10 10 10 10-4.477 10-10S19.523 4 14 4zm0 4a1 1 0 0 1 1 1v4h4a1 1 0 1 1 0 2h-4v4a1 1 0 1 1-2 0v-4H9a1 1 0 1 1 0-2h4V9a1 1 0 0 1 1-1z" fill="currentColor" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28AttachOutline","attach_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="attach_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M14.189 10.897a1 1 0 1 1 1.414 1.414l-4.172 4.172a1.504 1.504 0 0 0 0 2.121c.6.6 1.554.567 2.121 0l7.778-7.778c1.602-1.601 1.514-4.143 0-5.657-1.514-1.514-4.055-1.601-5.656 0l-7.779 7.779c-2.55 2.55-2.503 6.689 0 9.192s6.642 2.55 9.193 0l4.172-4.172a1 1 0 0 1 1.414 1.414l-4.172 4.172c-3.34 3.34-8.744 3.277-12.02 0-3.278-3.277-3.34-8.682 0-12.02l7.777-7.779c2.406-2.405 6.212-2.274 8.486 0 2.274 2.274 2.405 6.08 0 8.485l-7.779 7.779c-1.327 1.327-3.546 1.403-4.95 0-1.403-1.404-1.326-3.623 0-4.95l4.173-4.172Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon16Done","done_16","0 0 16 16",'<symbol viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" id="done_16"><path d="M13.743 3.756a.872.872 0 0 1 0 1.237l-7.317 7.25a.88.88 0 0 1-1.242 0L2.257 9.366a.872.872 0 0 1 0-1.237.88.88 0 0 1 1.242 0l2.306 2.261L12.5 3.756a.88.88 0 0 1 1.242 0Z" fill="currentColor" /></symbol>',16,16,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28ChevronLeftOutline","chevron_left_outline_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="chevron_left_outline_28"><path d="m12.414 14 5.793-5.793a1 1 0 0 0-1.414-1.414l-6.5 6.5a1 1 0 0 0 0 1.414l6.5 6.5a1 1 0 0 0 1.414-1.414z" fill="currentColor" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28CancelCircleOutline","cancel_circle_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="cancel_circle_outline_28"><g fill-rule="nonzero" fill="none"><path d="M0 0h28v28H0z" /><path d="M14 2c6.627 0 12 5.373 12 12s-5.373 12-12 12S2 20.627 2 14 7.373 2 14 2Zm0 2C8.477 4 4 8.477 4 14s4.477 10 10 10 10-4.477 10-10S19.523 4 14 4ZM9.793 9.793a1 1 0 0 1 1.414 0L14 12.585l2.793-2.792a1 1 0 0 1 1.32-.083l.094.083a1 1 0 0 1 0 1.414L15.415 14l2.792 2.793a1 1 0 0 1 .083 1.32l-.083.094a1 1 0 0 1-1.414 0L14 15.415l-2.793 2.792a1 1 0 0 1-1.32.083l-.094-.083a1 1 0 0 1 0-1.414L12.585 14l-2.792-2.793a1 1 0 0 1-.083-1.32Z" fill="currentColor" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon24Flash","flash_24","0 0 24 24",'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="flash_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M9.774 19.116c-.513 2.065.257 2.492 1.634.985l5.784-6.646c1.338-1.634 1.003-2.946-.924-3.274l-2.789-.517a.3.3 0 0 1-.237-.365l1.073-4.428c.515-2.078-.342-2.454-1.628-.982a788.508 788.508 0 0 1-4.21 4.72c-.335.37-.874.949-1.616 1.736-1.629 1.807-.772 3.117 1.111 3.445l2.666.478a.3.3 0 0 1 .238.367l-1.102 4.48Z" fill="currentColor" /></g></symbol>',24,24,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28CoinsOutline","coins_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="coins_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M23.995 19.178C23.831 22.31 19.351 24.5 14 24.5c-5.452 0-10-2.274-10-5.5V9l.005-.178C4.169 5.69 8.649 3.5 14 3.5c5.452 0 10 2.274 10 5.5v10Zm-1.994-6.813C20.165 13.695 17.242 14.5 14 14.5c-3.242 0-6.164-.804-8-2.134V14c0 1.745 3.51 3.5 8 3.5s8-1.755 8-3.5ZM14 5.5C9.51 5.5 6 7.255 6 9s3.51 3.5 8 3.5 8-1.755 8-3.5-3.51-3.5-8-3.5Zm8.001 11.865C20.165 18.695 17.242 19.5 14 19.5c-3.242 0-6.164-.804-8-2.134V19l.005.116C6.157 20.822 9.611 22.5 14 22.5c4.49 0 8-1.755 8-3.5Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon24Help","help_24","0 0 24 24",'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="help_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M2 12c0 5.52 4.48 10 10 10s10-4.48 10-10S17.52 2 12 2 2 6.48 2 12Zm8.75 6.25v-.5a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1Zm3.42-6.08c-.535.543-.921 1.014-1.084 1.836a2.29 2.29 0 0 0-.022.13 1 1 0 0 1-.99.864H12a.958.958 0 0 1-.954-1.039 2.27 2.27 0 0 1 .027-.221 4.05 4.05 0 0 1 1.097-2.07l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2-.699 0-1.317.363-1.675.91a1.59 1.59 0 0 0-.172.39A1 1 0 0 1 9.2 9H9a.854.854 0 0 1-.833-1.043c.06-.266.13-.482.206-.647A4 4 0 0 1 12 5c2.21 0 4 1.79 4 4 0 .88-.36 1.68-.93 2.25l-.9.92Z" fill="currentColor" /></g></symbol>',24,24,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28Play","play_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="play_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="m9.432 5.131 13.948 8.042a.955.955 0 0 1 0 1.654L9.432 22.87A.955.955 0 0 1 8 22.042V5.958a.955.955 0 0 1 1.432-.827Z" fill="currentColor" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28MessageOutline","message_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="message_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M14 3.5c6.32 0 11.5 4.44 11.5 10s-5.18 10-11.5 10c-1.355 0-2.678-.204-3.924-.597-1.402 1.306-3.458 1.994-6.124 2.098a1.434 1.434 0 0 1-1.363-2.023c.911-2.015 1.413-3.498 1.514-4.379C3.062 17.073 2.5 15.323 2.5 13.5c0-5.56 5.18-10 11.5-10Zm0 2c-5.278 0-9.5 3.619-9.5 8 0 1.508.497 2.955 1.426 4.213a1 1 0 0 1 .196.598c-.004 1.047-.45 2.567-1.33 4.627 1.987-.208 3.388-.831 4.245-1.837a1 1 0 0 1 1.111-.287c1.202.45 2.506.686 3.852.686 5.278 0 9.5-3.619 9.5-8s-4.222-8-9.5-8Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28CrownOutline","crown_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="crown_outline_28"><path fill="currentColor" fill-rule="evenodd" d="M16.734 5.77c-1.064-2.352-4.404-2.352-5.468 0L9.535 9.6 6.481 7.915c-2.323-1.282-5.045.86-4.344 3.42L4 18.133v1.704c0 .528 0 .982.03 1.357.033.395.104.789.297 1.167a3 3 0 0 0 1.311 1.311c.378.193.772.264 1.167.296.375.031.83.031 1.357.031h11.676c.528 0 .982 0 1.357-.03.395-.033.789-.104 1.167-.297a3 3 0 0 0 1.311-1.311c.193-.378.264-.772.296-1.167.031-.375.031-.83.031-1.356v-1.704l1.863-6.802c.7-2.559-2.02-4.701-4.343-3.419l-3.055 1.687-1.731-3.83ZM22 19H6v.8c0 .577 0 .949.024 1.232.022.272.06.372.085.422a1 1 0 0 0 .437.437c.05.025.15.063.422.085C7.25 22 7.623 22 8.2 22h11.6c.577 0 .949 0 1.232-.024.272-.022.372-.06.422-.085a1 1 0 0 0 .437-.437c.025-.05.063-.15.085-.422C22 20.75 22 20.377 22 19.8V19ZM13.089 6.594c.354-.784 1.468-.784 1.822 0l2.178 4.818a1 1 0 0 0 1.394.463l4.003-2.21c.774-.427 1.682.287 1.448 1.14L22.237 17H5.763l-1.697-6.195c-.234-.853.674-1.567 1.448-1.14l4.003 2.21a1 1 0 0 0 1.394-.463l2.178-4.818Z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28CupOutline","cup_outline_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="cup_outline_28"><path clip-rule="evenodd" d="M17.043 2h-6.086c-.66 0-1.22 0-1.684.042-.49.044-.954.141-1.397.382a3.63 3.63 0 0 0-1.54 1.68c-.26.599-.29 1.232-.249 1.953a3.755 3.755 0 0 0-1.848.142C3.045 6.607 2 7.674 2 9.333c0 1.568.935 2.993 2.15 3.984a7.547 7.547 0 0 0 3.754 1.629c.17.402.351.785.545 1.147.72 1.345 1.645 2.452 2.785 3.14-.033.553-.114.93-.204 1.195-.111.327-.25.518-.4.685-.062.069-.114.123-.18.19l-.117.12a3.586 3.586 0 0 0-.385.46c-.288.421-.448.917-.448 1.567V25a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1v-1.55c0-.65-.16-1.146-.448-1.567a3.578 3.578 0 0 0-.385-.46 14.49 14.49 0 0 0-.117-.12 5.319 5.319 0 0 1-.18-.19 1.847 1.847 0 0 1-.4-.685c-.09-.264-.171-.642-.204-1.195 1.14-.688 2.065-1.795 2.785-3.14.194-.362.375-.745.545-1.147a7.548 7.548 0 0 0 3.755-1.63C25.065 12.327 26 10.902 26 9.334c0-1.659-1.045-2.726-2.24-3.134a3.755 3.755 0 0 0-1.848-.142c.041-.72.013-1.354-.248-1.954a3.631 3.631 0 0 0-1.54-1.68c-.444-.24-.906-.337-1.397-.381C18.263 2 17.703 2 17.043 2zm-2.22 17.939a5.495 5.495 0 0 1-1.647 0 5.774 5.774 0 0 1-.253 1.135 3.84 3.84 0 0 1-.803 1.373c-.093.104-.197.21-.276.29a9.65 9.65 0 0 0-.07.073 1.658 1.658 0 0 0-.175.203c-.04.059-.099.153-.099.437V24h5v-.55c0-.284-.059-.378-.099-.437a1.65 1.65 0 0 0-.197-.226 13.36 13.36 0 0 0-.048-.05c-.079-.08-.183-.186-.276-.29a3.841 3.841 0 0 1-.803-1.373 5.773 5.773 0 0 1-.253-1.135zm7.764-8.172c-.502.409-1.094.74-1.725.955.377-1.351.657-2.843.845-4.432.25-.25.82-.398 1.407-.198.515.176.886.567.886 1.241 0 .766-.482 1.674-1.413 2.434zm-15.449.955c-.377-1.351-.657-2.843-.845-4.432-.25-.25-.82-.398-1.407-.198C4.37 8.268 4 8.66 4 9.333c0 .766.482 1.674 1.413 2.434.502.409 1.094.74 1.725.955zm1.692-8.54c.114-.062.278-.117.623-.148C9.816 4 10.285 4 11 4h6c.714 0 1.184.001 1.547.034.345.031.509.086.623.148.268.145.538.44.66.72.129.295.128.63.008 2.007-.298 3.431-1.001 6.28-2.05 8.24C16.744 17.098 15.463 18 14 18c-1.463 0-2.744-.901-3.788-2.852-1.05-1.958-1.752-4.808-2.05-8.239-.12-1.377-.12-1.712.008-2.008.122-.28.392-.574.66-.72z" fill="currentColor" fill-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28GiftOutline","gift_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="gift_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M12.436 3.693c.629.426 1.156 1.017 1.565 1.756.408-.74.935-1.33 1.564-1.756 1.49-1.01 3.376-.902 4.51.232 1.135 1.135 1.242 3.02.233 4.51a4.577 4.577 0 0 1-.453.565H21c.799 0 1.51.178 2.102.504.593.326 1.067.801 1.393 1.394C24.822 11.49 25 12.2 25 13v.429c0 1.007-.14 1.547-.4 2.036a2.726 2.726 0 0 1-1.135 1.134 2.986 2.986 0 0 1-.463.201L23 19.872c0 1.783-.186 2.43-.534 3.081a3.635 3.635 0 0 1-1.512 1.512c-.652.349-1.299.535-3.082.535h-7.744c-1.783 0-2.43-.186-3.082-.535a3.635 3.635 0 0 1-1.512-1.512C5.186 22.301 5 21.655 5 19.872V16.8a2.986 2.986 0 0 1-.465-.202A2.726 2.726 0 0 1 3.4 15.465c-.24-.448-.377-.94-.398-1.794L3 13c0-.8.178-1.51.505-2.102.326-.593.8-1.068 1.393-1.394C5.491 9.178 6.201 9 7 9h1.146a4.577 4.577 0 0 1-.453-.565c-1.01-1.49-.902-3.375.233-4.51 1.134-1.134 3.02-1.242 4.51-.232ZM13 16.999H7v2.873c0 1.323.078 1.727.298 2.138.162.303.388.53.692.692.411.22.814.298 2.138.298L13 22.999v-6Zm2 0v6h2.872c1.324 0 1.727-.077 2.138-.297.304-.163.53-.389.692-.692.22-.411.298-.815.298-2.138V17l-6-.001Zm-2-6H7c-.458 0-.84.093-1.137.257a1.51 1.51 0 0 0-.607.606C5.092 12.16 5 12.542 5 13l.002.609c.009.506.06.722.162.913.075.14.174.238.314.313.21.113.45.164 1.075.165L13 14.999v-4Zm8 0h-6v4h6.446l.163-.001c.506-.01.722-.06.913-.163a.727.727 0 0 0 .314-.313c.102-.191.153-.407.162-.913l.002-.61c0-.458-.092-.839-.256-1.137a1.51 1.51 0 0 0-.607-.606C21.84 11.092 21.458 11 21 11Zm-6-2c3.65-.35 4.695-2.704 3.7-3.7-.995-.995-3.35.05-3.7 3.7ZM9.301 5.3c-.995.996.05 3.35 3.7 3.7-.35-3.65-2.705-4.695-3.7-3.7Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28ServicesOutline","services_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="services_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M9.116 15c1.065 0 1.623.108 2.205.419.54.289.971.72 1.26 1.26.311.582.419 1.14.419 2.205v2.232c0 1.065-.108 1.623-.419 2.205-.289.54-.72.971-1.26 1.26-.582.311-1.14.419-2.205.419H6.884c-1.065 0-1.623-.108-2.205-.419-.54-.289-.971-.72-1.26-1.26C3.108 22.739 3 22.18 3 21.116v-2.232c0-1.065.108-1.623.419-2.205.289-.54.72-.971 1.26-1.26.582-.311 1.14-.419 2.205-.419h2.232Zm12 0c1.065 0 1.623.108 2.205.419.54.289.971.72 1.26 1.26.311.582.419 1.14.419 2.205v2.232c0 1.065-.108 1.623-.419 2.205-.289.54-.72.971-1.26 1.26-.582.311-1.14.419-2.205.419h-2.232c-1.065 0-1.623-.108-2.205-.419-.54-.289-.971-.72-1.26-1.26-.311-.582-.419-1.14-.419-2.205v-2.232c0-1.065.108-1.623.419-2.205.289-.54.72-.971 1.26-1.26.582-.311 1.14-.419 2.205-.419h2.232Zm-12 2H6.884c-.763 0-1.01.048-1.261.182a1.045 1.045 0 0 0-.44.44c-.135.253-.183.499-.183 1.262v2.232c0 .763.048 1.01.182 1.261.103.193.248.338.44.44.253.135.499.183 1.262.183h2.232c.763 0 1.01-.048 1.261-.182.193-.103.338-.248.44-.44.135-.253.183-.499.183-1.262v-2.232c0-.763-.048-1.01-.182-1.261a1.045 1.045 0 0 0-.44-.44c-.253-.135-.499-.183-1.262-.183Zm12 0h-2.232c-.763 0-1.01.048-1.261.182a1.045 1.045 0 0 0-.44.44c-.135.253-.183.499-.183 1.262v2.232c0 .763.048 1.01.182 1.261.103.193.248.338.44.44.253.135.499.183 1.262.183h2.232c.763 0 1.01-.048 1.261-.182.193-.103.338-.248.44-.44.135-.253.183-.499.183-1.262v-2.232c0-.763-.048-1.01-.182-1.261a1.045 1.045 0 0 0-.44-.44c-.253-.135-.499-.183-1.262-.183ZM20.89 2.413c.631.19 1.102.51 1.856 1.263l1.577 1.577c.754.754 1.072 1.225 1.263 1.856a3.044 3.044 0 0 1 0 1.782c-.19.631-.51 1.102-1.263 1.856l-1.577 1.577c-.754.754-1.225 1.072-1.856 1.263a3.044 3.044 0 0 1-1.782 0c-.631-.19-1.102-.51-1.856-1.263l-1.577-1.577c-.754-.754-1.072-1.225-1.263-1.856a3.044 3.044 0 0 1 0-1.782c.19-.631.51-1.102 1.263-1.856l1.577-1.577c.754-.754 1.225-1.072 1.856-1.263a3.044 3.044 0 0 1 1.782 0ZM9.116 3c1.065 0 1.623.108 2.205.419.54.289.971.72 1.26 1.26.311.582.419 1.14.419 2.205v2.232c0 1.065-.108 1.623-.419 2.205-.289.54-.72.971-1.26 1.26-.582.311-1.14.419-2.205.419H6.884c-1.065 0-1.623-.108-2.205-.419-.54-.289-.971-.72-1.26-1.26C3.108 10.739 3 10.18 3 9.116V6.884c0-1.065.108-1.623.419-2.205.289-.54.72-.971 1.26-1.26C5.261 3.108 5.82 3 6.884 3h2.232Zm10.573 1.327c-.274.082-.482.223-1.021.763L17.09 6.668c-.54.54-.68.747-.763 1.02a1.045 1.045 0 0 0 0 .623c.082.274.223.482.763 1.021l1.578 1.578c.54.54.747.68 1.02.763.21.064.415.064.623 0 .274-.082.482-.223 1.021-.763l1.578-1.578c.54-.54.68-.747.763-1.02a1.045 1.045 0 0 0 0-.623c-.082-.274-.223-.482-.763-1.021L21.332 5.09c-.54-.54-.747-.68-1.02-.763a1.045 1.045 0 0 0-.623 0ZM9.116 5H6.884c-.763 0-1.01.048-1.261.182a1.045 1.045 0 0 0-.44.44C5.047 5.876 5 6.122 5 6.885v2.232c0 .763.048 1.01.182 1.261.103.193.248.338.44.44.253.135.499.183 1.262.183h2.232c.763 0 1.01-.048 1.261-.182.193-.103.338-.248.44-.44.135-.253.183-.499.183-1.262V6.884c0-.763-.048-1.01-.182-1.261a1.045 1.045 0 0 0-.44-.44C10.124 5.047 9.878 5 9.115 5Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28SettingsOutline","settings_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="settings_outline_28"><g fill-rule="nonzero" fill="none"><path d="M0 0h28v28H0z" /><path d="M15.148 2.04c.428.07.832.233 1.195.523.595.476.878 1.076 1.097 1.952.056.224.153.486.275.74.278.117.55.249.815.393.262-.065.513-.15.714-.244 1.412-.658 2.597-.623 3.567.423.082.089.131.148.238.28l.629.776c.17.21.241.305.348.482.692 1.152.422 2.224-.452 3.386a4.112 4.112 0 0 0-.417.71c.078.283.143.57.195.86.222.178.46.334.668.441.804.41 1.325.821 1.655 1.508.202.42.27.85.24 1.282a3.48 3.48 0 0 1-.106.64l-.225.975c-.065.285-.099.41-.185.622a2.515 2.515 0 0 1-.778 1.047c-.598.473-1.246.614-2.148.63-.229.004-.502.04-.773.1-.177.243-.364.478-.563.704.003.275.03.544.077.764.187.884.196 1.547-.13 2.236-.2.42-.491.744-.845.993a3.48 3.48 0 0 1-.565.32l-.899.44a3.48 3.48 0 0 1-.6.247c-.414.126-.85.156-1.303.054-.744-.167-1.261-.582-1.842-1.273a4.103 4.103 0 0 0-.591-.561 9.627 9.627 0 0 1-.878 0c-.228.18-.437.378-.591.56-.58.692-1.098 1.107-1.842 1.274a2.515 2.515 0 0 1-1.303-.054 3.48 3.48 0 0 1-.6-.248l-.899-.438a7.152 7.152 0 0 1-.185-.093c-1.312-.683-1.696-1.847-1.355-3.457.047-.22.074-.49.077-.764a9.535 9.535 0 0 1-.563-.705 4.066 4.066 0 0 0-.773-.099c-.902-.016-1.55-.157-2.148-.63a2.515 2.515 0 0 1-.778-1.047 3.48 3.48 0 0 1-.185-.622l-.225-.974a3.381 3.381 0 0 1-.109-.681 2.509 2.509 0 0 1 .296-1.346c.339-.629.84-1.015 1.602-1.404a4.09 4.09 0 0 0 .668-.441c.052-.29.117-.577.195-.86a4.112 4.112 0 0 0-.417-.71c-.874-1.162-1.144-2.234-.452-3.386.107-.177.179-.273.348-.482l.63-.777c.106-.131.155-.19.237-.279.97-1.046 2.155-1.08 3.567-.423.201.093.452.18.714.244.265-.144.537-.276.815-.394.122-.253.219-.515.275-.74.219-.875.502-1.475 1.097-1.95.363-.291.767-.455 1.195-.523.18-.03.3-.038.49-.04L14.5 2c.292 0 .422.005.648.04ZM14.586 4H13.5c-.5 0-.75 0-1 1a6.347 6.347 0 0 1-.836 1.87 7.47 7.47 0 0 0-1.8.872 6.35 6.35 0 0 1-1.952-.525c-.934-.435-1.092-.24-1.406.148l-.63.777c-.314.389-.472.583.148 1.406.35.464.721 1.15.937 1.857a7.458 7.458 0 0 0-.429 1.894 6.345 6.345 0 0 1-1.643 1.245c-.918.468-.862.712-.75 1.199l.225.974c.113.487.169.731 1.2.75.57.01 1.323.135 2.003.39.345.575.765 1.1 1.247 1.56a6.35 6.35 0 0 1-.072 2.032c-.213 1.008.011 1.118.46 1.337l.9.439c.449.219.674.328 1.337-.46a6.343 6.343 0 0 1 1.59-1.327 7.571 7.571 0 0 0 1.942 0 6.343 6.343 0 0 1 1.59 1.326c.663.79.888.68 1.337.46l.9-.438c.449-.219.673-.329.46-1.337a6.35 6.35 0 0 1-.072-2.031 7.533 7.533 0 0 0 1.247-1.56 6.348 6.348 0 0 1 2.003-.391c1.031-.019 1.087-.263 1.2-.75l.225-.974c.112-.487.168-.73-.75-1.2a6.345 6.345 0 0 1-1.643-1.244 7.458 7.458 0 0 0-.43-1.894 6.342 6.342 0 0 1 .938-1.857c.62-.823.462-1.017.148-1.406l-.63-.777c-.314-.389-.472-.583-1.406-.148a6.35 6.35 0 0 1-1.952.525 7.47 7.47 0 0 0-1.8-.871A6.347 6.347 0 0 1 15.5 5c-.235-.941-.47-.997-.914-1ZM14 9.5a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9Zm0 2a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5Z" fill="currentColor" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28StarsOutline","stars_outline_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="stars_outline_28"><g fill="currentColor"><path clip-rule="evenodd" d="M16.405 11.793c-.454.994-1.047 2.02-1.819 2.792s-1.798 1.364-2.793 1.819c.995.454 2.021 1.047 2.793 1.819.771.77 1.364 1.795 1.82 2.788.454-.993 1.047-2.017 1.819-2.788.771-.772 1.796-1.364 2.789-1.82-.993-.454-2.018-1.047-2.79-1.818-.771-.772-1.364-1.798-1.819-2.792zm-1.048-2.834c-.526 1.608-1.253 3.28-2.185 4.212-.932.932-2.605 1.658-4.214 2.185a27.017 27.017 0 0 1-1.54.455l-.287.075c-.446.115-.446.92 0 1.035a33.678 33.678 0 0 1 1.338.376c.162.05.325.101.49.155 1.608.526 3.281 1.253 4.213 2.184.932.932 1.658 2.6 2.185 4.203a26.632 26.632 0 0 1 .455 1.535l.076.287c.115.446.92.446 1.035 0l.075-.287a30.47 30.47 0 0 1 .456-1.535c.526-1.603 1.253-3.271 2.185-4.203.931-.931 2.6-1.658 4.203-2.184a26.64 26.64 0 0 1 1.536-.455c.097-.027.193-.052.287-.076.446-.115.446-.92 0-1.035l-.287-.075a30.246 30.246 0 0 1-1.536-.456c-1.603-.526-3.272-1.253-4.203-2.184-.932-.931-1.659-2.604-2.185-4.212a30.43 30.43 0 0 1-.53-1.826c-.116-.447-.921-.447-1.036 0a33.82 33.82 0 0 1-.376 1.337c-.05.161-.101.325-.155.489z" fill-rule="evenodd" /><path d="M7.297 2.363a.538.538 0 0 0-1.021 0l-.651 1.953A2.06 2.06 0 0 1 4.322 5.62l-1.954.651a.538.538 0 0 0 0 1.021l1.949.65a2.06 2.06 0 0 1 1.306 1.31l.652 1.984a.538.538 0 0 0 1.023 0l.65-1.98a2.06 2.06 0 0 1 1.314-1.312l1.98-.651a.538.538 0 0 0 0-1.022l-1.985-.653a2.06 2.06 0 0 1-1.31-1.305z" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28StorefrontOutline","storefront_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="storefront_outline_28"><path fill-rule="evenodd" d="M10.222 4h7.556c.554 0 1.042-.001 1.497.146a3 3 0 0 1 1.077.618c.356.319.601.74.88 1.22l2.272 3.894c.087.15.164.282.228.424.134.295.22.61.252.932.016.155.016.307.016.48v.036a3.25 3.25 0 0 1-5.5 2.345 3.239 3.239 0 0 1-2.25.905 3.24 3.24 0 0 1-2.25-.905 3.239 3.239 0 0 1-2.25.905 3.24 3.24 0 0 1-2.25-.905A3.25 3.25 0 0 1 4 11.75v-.035c0-.174 0-.326.016-.48a3 3 0 0 1 .252-.933 4.47 4.47 0 0 1 .229-.424l2.271-3.894c.28-.48.524-.901.88-1.22a3 3 0 0 1 1.078-.618c.454-.147.942-.147 1.496-.146Zm11.773 7.439a3.6 3.6 0 0 1 .005.311 1.25 1.25 0 0 1-2.5 0 1 1 0 1 0-2 0 1.25 1.25 0 0 1-2.5 0 1 1 0 1 0-2 0 1.25 1.25 0 0 1-2.5 0 1 1 0 1 0-2 0 1.25 1.25 0 0 1-2.5 0c0-.227.001-.272.005-.311a1 1 0 0 1 .084-.311c.017-.036.038-.076.153-.272L8.438 7.09c.371-.636.454-.756.544-.836a1 1 0 0 1 .359-.207c.114-.037.26-.048.997-.048h7.324c.737 0 .883.011.997.048a1 1 0 0 1 .36.207c.089.08.172.2.543.836l2.196 3.765c.115.196.136.236.153.272a.997.997 0 0 1 .084.31Z" clip-rule="evenodd" /><path d="M9 18a1 1 0 1 0-2 0v4H5a1 1 0 1 0 0 2h18a1 1 0 0 0 0-2h-2v-4a1 1 0 1 0-2 0v4H9v-4Z" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28PictureOutline","picture_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="picture_outline_28"><path d="M12 10.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM6.07 3.801C7.164 3.216 8.243 3 10.691 3h6.616c2.448 0 3.527.216 4.622.801A5.465 5.465 0 0 1 24.2 6.07c.585 1.096.801 2.175.801 4.623v6.616c0 2.448-.216 3.527-.801 4.622a5.465 5.465 0 0 1-2.27 2.269c-1.095.585-2.174.801-4.622.801h-6.616c-2.448 0-3.527-.216-4.623-.801a5.465 5.465 0 0 1-2.268-2.269C3.216 20.835 3 19.756 3 17.308v-6.616c0-2.448.216-3.527.801-4.623A5.466 5.466 0 0 1 6.07 3.801ZM10.691 5c-2.335 0-3.019.212-3.68.565a3.466 3.466 0 0 0-1.447 1.448C5.212 7.673 5 8.357 5 10.692v6.616c0 1.67.108 2.495.3 3.071L8 17.677c.37-.37.69-.69.975-.932.301-.255.628-.482 1.03-.613a3 3 0 0 1 1.845-.007c.403.129.731.353 1.034.607.27.226.57.52.916.861l2.93-2.91c.373-.37.695-.69.982-.932.302-.255.63-.481 1.034-.611a3 3 0 0 1 1.85.003c.403.131.73.359 1.032.615.285.242.606.563.978.935l.393.393v-4.394c0-2.335-.212-3.019-.565-3.68a3.466 3.466 0 0 0-1.448-1.447C20.327 5.212 19.643 5 17.308 5h-6.616Zm12.303 12.909-1.775-1.775c-.407-.407-.67-.668-.886-.852-.207-.176-.304-.22-.357-.237a1 1 0 0 0-.617-.001c-.053.017-.15.06-.358.236-.217.183-.48.444-.888.849l-3.605 3.58a1 1 0 0 1-1.407.003l-.613-.604a16.794 16.794 0 0 0-.888-.843c-.208-.174-.306-.218-.358-.235a1 1 0 0 0-.616.002c-.052.018-.15.062-.356.237-.215.183-.477.444-.883.85l-2.94 2.941c.174.14.363.265.567.374.66.353 1.344.565 3.679.565h6.616c2.335 0 3.019-.212 3.68-.565a3.467 3.467 0 0 0 1.447-1.448c.321-.6.525-1.219.56-3.078Z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28DownloadCloudOutline","download_cloud_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="download_cloud_outline_28"><path fill-rule="evenodd" d="M8.455 8.353C8.455 5.943 10.394 4 12.773 4c2.036 0 3.752 1.424 4.202 3.348a1 1 0 0 0 1.003.771l.113-.001c2.153 0 3.909 1.758 3.909 3.94C22 14.242 20.244 16 18.09 16H18a1 1 0 1 0 0 2h.09c3.27 0 5.91-2.666 5.91-5.941 0-3.07-2.318-5.604-5.3-5.91C17.81 3.729 15.496 2 12.773 2 9.277 2 6.455 4.85 6.455 8.353l.001.15A5.12 5.12 0 0 0 4 12.883C4 15.702 6.273 18 9.09 18H10a1 1 0 1 0 0-2h-.91C7.39 16 6 14.61 6 12.882a3.12 3.12 0 0 1 1.894-2.875 1 1 0 0 0 .6-1.056 4.436 4.436 0 0 1-.04-.598ZM15 12a1 1 0 1 0-2 0v10.586l-2.293-2.293a1 1 0 0 0-1.414 1.414l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L15 22.586V12Z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon24Back","back_24","0 0 24 24",'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="back_24"><g fill="none" fill-rule="evenodd"><path d="M24 0H0v24h24z" /><path d="m7.8 11 4.9-4.9a.99.99 0 0 0-1.4-1.4l-6.593 6.593a1 1 0 0 0 0 1.414L11.3 19.3a.99.99 0 0 0 1.4-1.4L7.8 13H20a1 1 0 0 0 0-2H7.8Z" fill="currentColor" /></g></symbol>',24,24,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28ErrorCircleOutline","error_circle_outline_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="error_circle_outline_28"><path d="M14 2c6.627 0 12 5.373 12 12s-5.373 12-12 12S2 20.627 2 14 7.373 2 14 2zm0 2C8.477 4 4 8.477 4 14s4.477 10 10 10 10-4.477 10-10S19.523 4 14 4zm0 13.6a1.4 1.4 0 1 1 0 2.8 1.4 1.4 0 0 1 0-2.8zm.074-9.6c.237 0 .386.037.517.107.13.07.232.172.302.302.07.13.107.28.107.517v6.148c0 .237-.037.386-.107.517a.726.726 0 0 1-.302.302c-.13.07-.28.107-.517.107h-.148c-.237 0-.386-.037-.517-.107a.726.726 0 0 1-.302-.302c-.07-.13-.107-.28-.107-.517V8.926c0-.237.037-.386.107-.517a.727.727 0 0 1 .302-.302c.13-.07.28-.107.517-.107z" fill="currentColor" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28PaletteOutline","palette_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="palette_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M14 2.333c6.428 0 11.667 4.714 11.667 10.5 0 3.862-3.139 7-7 7h-2.065a.578.578 0 0 0-.584.584c0 .14.059.268.152.385.478.548.747 1.236.747 1.948A2.918 2.918 0 0 1 14 25.667C7.572 25.667 2.333 20.428 2.333 14S7.572 2.333 14 2.333Zm-.005 1.997c-5.328 0-9.665 4.337-9.665 9.665 0 5.328 4.337 9.665 9.665 9.665a.598.598 0 0 0 .604-.604.653.653 0 0 0-.17-.423 3 3 0 0 1-.76-1.993 3.021 3.021 0 0 1 3.02-3.02h2.139a4.831 4.831 0 0 0 4.832-4.833c0-4.663-4.337-8.457-9.665-8.457Zm-6.412 7.337a1.75 1.75 0 1 1 0 3.5 1.75 1.75 0 0 1 0-3.5Zm12.834 0a1.75 1.75 0 1 1 0 3.5 1.75 1.75 0 0 1 0-3.5ZM11.083 7a1.75 1.75 0 1 1 0 3.5 1.75 1.75 0 0 1 0-3.5Zm5.834 0a1.75 1.75 0 1 1 0 3.5 1.75 1.75 0 0 1 0-3.5Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28ArrowUturnLeftOutline","arrow_uturn_left_outline_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="arrow_uturn_left_outline_28"><path d="M11.707 3.293a1 1 0 0 0-1.414 0l-5 5a1 1 0 0 0 0 1.414l5 5a1 1 0 0 0 1.414-1.414L8.414 9.999 14.5 10a5.5 5.5 0 1 1 0 11H10a1 1 0 1 0 0 2h4.5a7.5 7.5 0 0 0 0-15l-6.084-.001 3.291-3.292a1 1 0 0 0 .083-1.32z" fill="currentColor" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon16Cancel","cancel_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="cancel_16"><path fill="currentColor" d="M12.736 3.264a.9.9 0 0 1 0 1.272L9.273 8l3.463 3.464a.9.9 0 0 1 .081 1.18l-.08.092a.9.9 0 0 1-1.273 0L8 9.273l-3.464 3.463a.9.9 0 0 1-1.272-1.272L6.727 8 3.264 4.536a.9.9 0 0 1-.08-1.18l.08-.092a.9.9 0 0 1 1.272 0L8 6.727l3.464-3.463a.9.9 0 0 1 1.272 0Z" /></symbol>',16,16,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon16DoneCircle","done_circle_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="done_circle_16"><path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm3.527-8.216a.75.75 0 0 0-1.06-1.06L7 9.188 5.533 7.722a.75.75 0 0 0-1.061 1.06L6.47 10.78a.75.75 0 0 0 1.06 0l3.997-3.996Z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon24ClockOutline","clock_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="clock_outline_24"><path d="M12.4 8a.9.9 0 1 0-1.8 0v4.5a.9.9 0 0 0 .584.843l4 1.5a.9.9 0 0 0 .632-1.686l-3.416-1.28V8Z" /><path fill-rule="evenodd" d="M12 2.1c-5.468 0-9.9 4.432-9.9 9.9s4.432 9.9 9.9 9.9 9.9-4.432 9.9-9.9-4.432-9.9-9.9-9.9ZM3.9 12a8.1 8.1 0 1 1 16.2 0 8.1 8.1 0 0 1-16.2 0Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28TextOutline","text_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="text_outline_28"><path fill="currentColor" d="M13.717 20.97c.718 0 1.234-.497 1.234-1.206 0-.234-.048-.467-.162-.801l-4.02-11.554C10.426 6.426 9.87 6 8.962 6c-.9 0-1.454.446-1.79 1.419L3.164 18.963a2.443 2.443 0 0 0-.163.8c0 .74.488 1.206 1.244 1.206.641 0 1.005-.334 1.234-1.125l.91-2.777h5.157l.909 2.798c.22.78.593 1.105 1.263 1.105ZM10.942 15H6.971l1.942-6.243h.067L10.942 15Zm12.9 6c.67 0 1.158-.456 1.158-1.267V13.4c0-2.16-1.636-3.568-4.153-3.568-1.942 0-3.512.79-4.028 2.037a1.65 1.65 0 0 0-.163.69c0 .607.421 1.013 1.005 1.013.402 0 .717-.162.966-.507.593-.922 1.196-1.257 2.124-1.257 1.177 0 1.895.65 1.895 1.774v.77l-2.689.162c-2.468.163-3.856 1.308-3.856 3.213 0 1.936 1.426 3.244 3.387 3.244 1.311 0 2.584-.72 3.168-1.885h.048v.75c.038.75.487 1.165 1.138 1.165Zm-3.626-1.936c-1.034 0-1.732-.557-1.732-1.439 0-.851.66-1.399 1.808-1.48l2.354-.152v.821c0 1.297-1.09 2.25-2.43 2.25Z" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28GifOutline","gif_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="gif_outline_28"><path fill-rule="evenodd" d="M11.6 6h4.8c1.713 0 2.878.002 3.778.075.877.072 1.325.202 1.638.361a4 4 0 0 1 1.748 1.748c.16.313.29.761.36 1.638.074.9.076 2.065.076 3.778v.8c0 1.713-.002 2.878-.075 3.778-.072.877-.202 1.325-.361 1.638a4 4 0 0 1-1.748 1.748c-.313.16-.761.29-1.638.36-.9.074-2.065.076-3.778.076h-4.8c-1.713 0-2.878-.002-3.778-.075-.877-.072-1.325-.202-1.638-.361a4 4 0 0 1-1.748-1.748c-.16-.313-.29-.761-.36-1.638C4.001 17.278 4 16.113 4 14.4v-.8c0-1.713.002-2.878.075-3.778.072-.877.202-1.325.361-1.638a4 4 0 0 1 1.748-1.748c.313-.16.761-.29 1.638-.36C8.722 6.001 9.887 6 11.6 6ZM2 13.6c0-3.36 0-5.04.654-6.324a6 6 0 0 1 2.622-2.622C6.56 4 8.24 4 11.6 4h4.8c3.36 0 5.04 0 6.324.654a6 6 0 0 1 2.622 2.622C26 8.56 26 10.24 26 13.6v.8c0 3.36 0 5.04-.654 6.324a6 6 0 0 1-2.622 2.622C21.44 24 19.76 24 16.4 24h-4.8c-3.36 0-5.04 0-6.324-.654a6 6 0 0 1-2.622-2.622C2 19.44 2 17.76 2 14.4v-.8ZM9.244 10c-.988 0-1.793.37-2.351.974S6 12.43 6 13.485v1.003c0 1.086.331 1.965.892 2.573.562.608 1.378.936 2.394.936.905 0 1.669-.286 2.207-.789.539-.504.847-1.22.847-2.07v-.457c0-.36-.079-.638-.263-.825-.184-.186-.457-.266-.815-.266H9.968c-.243 0-.44.059-.58.184a.694.694 0 0 0-.238.526c0 .226.11.418.25.546.139.127.327.154.568.154h.576v.25c0 .323-.119.615-.323.802-.205.187-.502.298-.866.298-.468 0-.821-.165-1.06-.473-.24-.31-.372-.777-.372-1.395v-.909c0-.627.13-1.091.37-1.398.238-.303.595-.464 1.078-.464.635 0 1.009.39 1.431.83l.022.024a.743.743 0 0 0 .57.254.769.769 0 0 0 .563-.226c.14-.145.207-.357.207-.593 0-.47-.322-.969-.805-1.333-.544-.425-1.284-.667-2.115-.667Zm5.37 0c-.296 0-.535.09-.7.277-.165.185-.246.422-.246.749v5.897c0 .325.084.584.251.77.168.186.41.307.705.307a.908.908 0 0 0 .696-.308c.163-.185.244-.442.244-.769v-5.897c0-.325-.082-.563-.248-.75-.166-.185-.407-.276-.702-.276Zm2.636.45c.188-.195.51-.286.85-.286h3.113c.444 0 .787.345.787.815a.772.772 0 0 1-.787.799H19v1.653h1.967a.68.68 0 0 1 .521.218.82.82 0 0 1 .237.57c0 .23-.1.428-.237.569a.68.68 0 0 1-.52.212H19v1.923c0 .326-.035.592-.197.777-.162.186-.513.3-.803.3-.298 0-.58-.113-.75-.3-.169-.186-.25-.455-.25-.777v-5.64c0-.35.062-.638.25-.833Z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28GestureOutline","gesture_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="gesture_outline_28"><path fill-rule="evenodd" d="M6.5 17.512c0 3.585 2.91 6.49 6.5 6.49h1V26h-1c-4.694 0-8.5-3.8-8.5-8.488h2ZM16.639 4.031a1.395 1.395 0 0 0-1.667 1.068l-.994 4.632a1 1 0 0 1-1.956-.419l.995-4.632A3.395 3.395 0 0 1 19.7 5.84l-.71 5.314a1 1 0 0 1-1.982-.264l.71-5.314a1.393 1.393 0 0 0-1.08-1.544Z" clip-rule="evenodd" /><path d="M8.223 6.055a1.403 1.403 0 0 1 2.762-.462l1.045 4.173a1 1 0 0 0 1.94-.484l-1.045-4.173a3.404 3.404 0 0 0-3.302-2.575A3.402 3.402 0 0 0 6.23 6.228l.74 8.494 1.904-1.188-.652-7.479Z" /><path fill-rule="evenodd" d="M12.473 14.752a1.409 1.409 0 0 0-1.47-1.099l-1.236.082A3.497 3.497 0 0 0 6.5 17.223v.289a1 1 0 0 1-2 0v-.29a5.495 5.495 0 0 1 5.134-5.48l1.236-.082a3.405 3.405 0 0 1 .787 6.755l-.493.082a1 1 0 1 1-.328-1.97l.492-.082a1.408 1.408 0 0 0 1.145-1.693ZM22 16.014a3.997 3.997 0 0 0-4-3.994v-1.997c3.314 0 6 2.682 6 5.991v.158C24 21.6 19.593 26 14.158 26H13.5v-1.997h.658c4.331 0 7.842-3.506 7.842-7.831v-.158Z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28HourglassOutline","hourglass_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="hourglass_outline_28"><path d="M11.75 17.74c1.455-.986 3.045-.986 4.5 0 1.306.884 1.75 2.047 1.75 3.463 0 .44-.358.798-.798.798h-6.404a.798.798 0 0 1-.798-.798c0-1.416.444-2.579 1.75-3.463ZM10.886 2c-.355 0-.634 0-.884.036a3.5 3.5 0 0 0-2.966 2.966C7 5.252 7 5.532 7 5.886v.116c0 .487 0 .793.025 1.087a7 7 0 0 0 2.318 4.637c.221.197.466.38.856.673l.359.27-1.953 2.343A11.24 11.24 0 0 0 6 22.207 3.793 3.793 0 0 0 9.793 26h8.414A3.793 3.793 0 0 0 22 22.207c0-2.63-.922-5.175-2.605-7.195l-1.953-2.344.36-.27c.39-.291.634-.475.855-.672a7 7 0 0 0 2.318-4.637C21 6.795 21 6.49 21 6.002v-.116c0-.355 0-.634-.036-.884a3.5 3.5 0 0 0-2.966-2.966C17.748 2 17.468 2 17.114 2h-6.228Zm-.6 2.015c.089-.012.212-.015.668-.015h6.091c.457 0 .58.003.668.015a1.5 1.5 0 0 1 1.272 1.272c.012.088.015.21.015.668 0 .55 0 .766-.018.966a5 5 0 0 1-1.656 3.312c-.15.134-.323.264-.762.594L15.4 11.7a1 1 0 0 0-.168 1.44l2.626 3.152A9.24 9.24 0 0 1 20 22.207c0 .99-.803 1.793-1.793 1.793H9.793C8.803 24 8 23.197 8 22.207a9.24 9.24 0 0 1 2.142-5.915l2.626-3.152a1 1 0 0 0-.168-1.44l-1.164-.873c-.44-.33-.612-.46-.762-.594a5 5 0 0 1-1.656-3.312C9 6.721 9 6.504 9 5.955c0-.457.003-.58.015-.668a1.5 1.5 0 0 1 1.271-1.272Z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28ClockOutline","clock_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="clock_outline_28"><path fill="currentColor" d="M14 2c6.626 0 12 5.372 12 12s-5.374 12-12 12C7.372 26 2 20.628 2 14S7.372 2 14 2Zm0 2C8.477 4 4 8.477 4 14s4.477 10 10 10c5.522 0 10-4.478 10-10S19.522 4 14 4Zm-.5 4a1 1 0 0 1 1 1v5.104l4.875 1.969a1 1 0 0 1-.75 1.854l-5.5-2.222a1 1 0 0 1-.625-.927V9a1 1 0 0 1 1-1Z" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28FilmStripOutline","film_strip_outline_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="film_strip_outline_28"><g fill="currentColor"><path d="M8.6 9c0-.372 0-.558.049-.709a1 1 0 0 1 .642-.642c.15-.049.337-.049.71-.049.371 0 .558 0 .708.049a1 1 0 0 1 .642.642c.05.15.05.337.05.709 0 .372 0 .558-.05.709a1 1 0 0 1-.642.642c-.15.049-.337.049-.709.049-.372 0-.558 0-.709-.049a1 1 0 0 1-.642-.642C8.6 9.559 8.6 9.372 8.6 9zM16.6 9c0-.372 0-.558.049-.709a1 1 0 0 1 .642-.642c.15-.049.337-.049.71-.049s.557 0 .708.049a1 1 0 0 1 .642.642c.05.15.05.337.05.709 0 .372 0 .558-.05.709a1 1 0 0 1-.642.642c-.15.049-.337.049-.709.049s-.558 0-.709-.049a1 1 0 0 1-.642-.642C16.6 9.559 16.6 9.372 16.6 9zM16.6 14c0-.372 0-.558.049-.709a1 1 0 0 1 .642-.642c.15-.049.337-.049.71-.049s.557 0 .708.049a1 1 0 0 1 .642.642c.05.15.05.337.05.709 0 .372 0 .558-.05.709a1 1 0 0 1-.642.642c-.15.049-.337.049-.709.049s-.558 0-.709-.049a1 1 0 0 1-.642-.642c-.049-.15-.049-.337-.049-.709zM16.649 18.291c-.049.15-.049.337-.049.709 0 .372 0 .558.049.709a1 1 0 0 0 .642.642c.15.049.337.049.71.049s.557 0 .708-.049a1 1 0 0 0 .642-.642c.05-.15.05-.337.05-.709 0-.372 0-.558-.05-.709a1 1 0 0 0-.642-.642c-.15-.049-.337-.049-.709-.049s-.558 0-.709.049a1 1 0 0 0-.642.642zM8.649 13.291c-.049.15-.049.337-.049.709 0 .372 0 .558.049.709a1 1 0 0 0 .642.642c.15.049.337.049.71.049.371 0 .558 0 .708-.049a1 1 0 0 0 .642-.642c.05-.15.05-.337.05-.709 0-.372 0-.558-.05-.709a1 1 0 0 0-.642-.642c-.15-.049-.337-.049-.709-.049-.372 0-.558 0-.709.049a1 1 0 0 0-.642.642zM8.6 19c0-.372 0-.558.049-.709a1 1 0 0 1 .642-.642c.15-.049.337-.049.71-.049.371 0 .558 0 .708.049a1 1 0 0 1 .642.642c.05.15.05.337.05.709 0 .372 0 .558-.05.709a1 1 0 0 1-.642.642c-.15.049-.337.049-.709.049-.372 0-.558 0-.709-.049a1 1 0 0 1-.642-.642C8.6 19.559 8.6 19.372 8.6 19z" /><path clip-rule="evenodd" d="M4.654 6.276C4 7.56 4 9.24 4 12.6v3.8c0 3.36 0 4.04.654 5.324a6 6 0 0 0 2.622 2.622C8.56 25 10.24 25 13.6 25h.8c3.36 0 5.04 0 6.324-.654a6 6 0 0 0 2.622-2.622C24 20.44 24 18.76 24 15.4v-2.8c0-3.36 0-5.04-.654-6.324a6 6 0 0 0-2.622-2.622C19.44 3 17.76 3 14.4 3h-.8c-3.36 0-5.04 0-6.324.654a6 6 0 0 0-2.622 2.622zM14.4 5h-.8c-1.713 0-2.878.002-3.778.075-.877.072-1.325.202-1.638.361a4 4 0 0 0-1.748 1.748c-.16.313-.29.761-.36 1.638C6.001 9.722 6 10.887 6 12.6v2.8c0 1.713.002 2.878.075 3.778.072.877.202 1.325.361 1.638a4 4 0 0 0 1.748 1.748c.313.16.761.29 1.638.36.9.074 2.065.076 3.778.076h.8c1.713 0 2.878-.002 3.778-.075.877-.072 1.325-.202 1.638-.361a4 4 0 0 0 1.748-1.748c.16-.313.29-.761.36-1.638.074-.9.076-2.065.076-3.778v-2.8c0-1.713-.002-2.878-.075-3.778-.072-.877-.202-1.325-.361-1.638a4 4 0 0 0-1.748-1.748c-.313-.16-.761-.29-1.638-.36C17.278 5.001 16.113 5 14.4 5z" fill-rule="evenodd" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28AchievementCircleFillBlue","achievement_circle_fill_blue_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="achievement_circle_fill_blue_28"><linearGradient id="achievement_circle_fill_blue_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#70b2ff" /><stop offset="1" stop-color="#5c9ce6" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#achievement_circle_fill_blue_28_a)" /><path clip-rule="evenodd" d="m13.064 16.54.5-.266a.93.93 0 0 1 .872 0l.5.266a.93.93 0 0 0 1.299-.472l.22-.544a.93.93 0 0 1 .661-.559l.568-.125a.93.93 0 0 0 .687-1.188l-.184-.58a.93.93 0 0 1 .148-.845l.369-.483a.93.93 0 0 0-.238-1.348l-.503-.321a.93.93 0 0 1-.428-.747l-.024-.6a.93.93 0 0 0-1.056-.885l-.563.077a.93.93 0 0 1-.818-.3l-.382-.425a.929.929 0 0 0-1.384 0l-.382.425a.93.93 0 0 1-.818.3l-.564-.077a.93.93 0 0 0-1.055.884l-.024.6a.93.93 0 0 1-.428.748l-.503.32a.93.93 0 0 0-.238 1.348l.369.484a.93.93 0 0 1 .148.844l-.184.581a.93.93 0 0 0 .687 1.188l.568.125a.93.93 0 0 1 .662.56l.22.543a.93.93 0 0 0 1.299.472zm-2.225 1.027c.316.315.705.536 1.123.65.067.017.16.036.283.056.067.01.122.057.145.12l.653 1.816a.186.186 0 0 1 0 .126l-.601 1.673a.3.3 0 0 1-.524.076l-.788-1.085c-.062-.085-.09-.112-.126-.136s-.075-.038-.117-.043a.466.466 0 0 0-.183.022l-1.293.319a.3.3 0 0 1-.362-.223.307.307 0 0 1 .01-.176l1.15-3.2.08-.221a.186.186 0 0 1 .325-.047c.087.118.162.209.225.273zm6.877-.213 1.225 3.408a.305.305 0 0 1-.179.389.297.297 0 0 1-.174.01l-1.292-.319a.466.466 0 0 0-.183-.022c-.042.005-.081.02-.117.043s-.064.05-.126.136l-.788 1.085a.298.298 0 0 1-.524-.076l-1.309-3.64a.186.186 0 0 1 .252-.232l.037.016a2.503 2.503 0 0 0 2.85-.848.186.186 0 0 1 .326.047z" fill="#fff" fill-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28StoryCircleFillViolet","story_circle_fill_violet_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="story_circle_fill_violet_28"><linearGradient id="story_circle_fill_violet_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#c48aff" /><stop offset="1" stop-color="#aa65f0" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#story_circle_fill_violet_28_a)" /><path d="M17.012 7c1.387 0 1.89.144 2.396.416s.905.669 1.176 1.176c.272.507.416 1.01.416 2.396v6.024c0 1.387-.144 1.89-.415 2.396-.272.507-.67.905-1.177 1.176-.507.272-1.01.416-2.396.416h-6.024c-1.387 0-1.89-.144-2.396-.415-.507-.272-.905-.67-1.176-1.177S7 18.398 7 17.012v-6.024c0-1.387.144-1.89.416-2.396a2.827 2.827 0 0 1 1.176-1.176C9.099 7.144 9.602 7 10.988 7zm-3.01 3.113a3.89 3.89 0 1 0 3.889 3.889 3.89 3.89 0 0 0-3.889-3.889zM14 12a2 2 0 1 1 0 4 2 2 0 0 1 0-4z" fill="#fff" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28Bookmark","bookmark_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="bookmark_28"><path fill-rule="evenodd" d="M15.044 3h-2.088c-1.363 0-2.447 0-3.321.071-.896.074-1.66.227-2.359.583a6 6 0 0 0-2.622 2.622c-.356.7-.51 1.463-.583 2.359C4 9.509 4 10.593 4 11.956v8.645c0 1.007 0 1.832.058 2.47.058.633.184 1.283.59 1.795a3 3 0 0 0 2.326 1.138c.654.006 1.245-.293 1.78-.636.539-.346 1.19-.853 1.985-1.47l1.91-1.487c.776-.603.943-.71 1.09-.749a1 1 0 0 1 .522 0c.147.04.314.146 1.09.75l1.91 1.485c.795.618 1.446 1.125 1.986 1.471.534.343 1.125.642 1.779.636a3 3 0 0 0 2.326-1.138c.406-.512.532-1.162.59-1.794.058-.639.058-1.464.058-2.47v-8.646c0-1.363 0-2.447-.071-3.321-.074-.896-.227-1.66-.583-2.359a6 6 0 0 0-2.622-2.622c-.7-.356-1.463-.51-2.359-.583C17.491 3 16.407 3 15.044 3Z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28BookmarkOutline","bookmark_outline_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="bookmark_outline_28"><path clip-rule="evenodd" d="M12.956 3h2.088c1.363 0 2.447 0 3.321.071.896.074 1.66.227 2.359.583a6 6 0 0 1 2.622 2.622c.356.7.51 1.463.583 2.359.071.874.071 1.958.071 3.321v8.645c0 1.007 0 1.832-.058 2.47-.058.633-.184 1.283-.59 1.795a3 3 0 0 1-2.327 1.138c-.653.006-1.244-.293-1.778-.636-.54-.346-1.191-.853-1.986-1.47l-1.91-1.487c-.776-.603-.943-.71-1.09-.749a1 1 0 0 0-.522 0c-.147.04-.314.146-1.09.75l-1.91 1.485c-.795.618-1.446 1.125-1.986 1.471-.534.343-1.125.642-1.779.636a3 3 0 0 1-2.326-1.138c-.406-.512-.532-1.162-.59-1.794C4 22.433 4 21.608 4 20.602v-8.646c0-1.363 0-2.447.071-3.321.074-.896.227-1.66.583-2.359a6 6 0 0 1 2.622-2.622c.7-.356 1.463-.51 2.359-.583C10.509 3 11.593 3 12.956 3zM9.797 5.065c-.771.063-1.243.182-1.613.371a4 4 0 0 0-1.748 1.748c-.189.37-.308.842-.371 1.613C6 9.581 6 10.583 6 12v8.55c0 1.07.001 1.803.05 2.34.05.554.14.702.166.735a1 1 0 0 0 .775.38c.042 0 .214-.02.682-.32.454-.292 1.033-.74 1.878-1.397l1.87-1.456.124-.096c.577-.45 1.083-.845 1.671-1.004a3 3 0 0 1 1.568 0c.588.159 1.094.554 1.671 1.004l.124.096 1.87 1.455c.845.657 1.424 1.106 1.878 1.398.468.3.64.32.682.32a1 1 0 0 0 .775-.38c.026-.033.116-.18.166-.735.049-.537.05-1.27.05-2.34V12c0-1.417 0-2.419-.065-3.203-.063-.771-.182-1.243-.371-1.613a4 4 0 0 0-1.748-1.748c-.37-.189-.842-.308-1.613-.371C17.419 5 16.417 5 15 5h-2c-1.417 0-2.419 0-3.203.065z" fill="currentColor" fill-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28LinkCircleOutline","link_circle_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="link_circle_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M14 2c6.627 0 12 5.373 12 12s-5.373 12-12 12S2 20.627 2 14 7.373 2 14 2Zm0 2C8.477 4 4 8.477 4 14s4.477 10 10 10 10-4.477 10-10S19.523 4 14 4Zm4 5a1 1 0 0 1 1 1v6a1 1 0 0 1-2 0v-3.586l-6.293 6.293a1 1 0 0 1-1.32.083l-.094-.083a1 1 0 0 1 0-1.414L15.584 11H12a1 1 0 0 1-.993-.883L11 10a1 1 0 0 1 1-1Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28UserTagOutline","user_tag_outline_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="user_tag_outline_28"><g clip-rule="evenodd" fill="currentColor" fill-rule="evenodd"><path d="M10.15 10.85a3.85 3.85 0 1 1 7.7 0 3.85 3.85 0 0 1-7.7 0zM14 9a1.85 1.85 0 1 0 0 3.7A1.85 1.85 0 0 0 14 9z" /><path d="M8.626 3h10.747c.666 0 1.226 0 1.684.037.478.04.933.124 1.365.344a3.5 3.5 0 0 1 1.53 1.53c.22.432.305.887.344 1.366.037.457.037 1.017.037 1.683v10.18c0 .666 0 1.225-.037 1.683-.04.479-.124.934-.344 1.365a3.5 3.5 0 0 1-1.53 1.53c-.432.22-.887.305-1.365.344-.458.037-1.018.037-1.684.037h-.143c-.682 0-.88.005-1.06.043a2 2 0 0 0-.52.188c-.163.085-.32.208-.845.644l-.66.547c-.251.209-.48.399-.686.544a2.519 2.519 0 0 1-.776.392 2.5 2.5 0 0 1-1.366 0 2.518 2.518 0 0 1-.776-.392 12.456 12.456 0 0 1-.686-.544l-.66-.547c-.526-.436-.682-.559-.845-.644a2.004 2.004 0 0 0-.52-.188c-.18-.038-.378-.042-1.06-.042h-.144c-.666 0-1.225 0-1.683-.038-.479-.039-.934-.124-1.365-.344a3.5 3.5 0 0 1-1.53-1.53c-.22-.431-.305-.886-.344-1.365-.038-.458-.038-1.017-.038-1.683V7.96c0-.666 0-1.226.038-1.683.039-.48.124-.934.344-1.366a3.5 3.5 0 0 1 1.53-1.53c.431-.22.886-.304 1.365-.344C7.401 3 7.96 3 8.626 3zm-1.52 2.03c-.355.03-.518.081-.62.133a1.5 1.5 0 0 0-.656.656c-.052.103-.104.265-.133.62-.03.367-.03.844-.03 1.561v10.1c0 .716 0 1.193.03 1.56.03.355.08.517.133.62a1.5 1.5 0 0 0 .656.656c.029.015.062.03.104.044a8.002 8.002 0 0 1 14.82 0 .783.783 0 0 0 .104-.044 1.5 1.5 0 0 0 .656-.656c.052-.103.103-.265.132-.62.03-.367.031-.844.031-1.56V8c0-.717 0-1.194-.03-1.56-.03-.356-.08-.518-.133-.621a1.5 1.5 0 0 0-.656-.656c-.103-.052-.265-.103-.62-.132C20.527 5 20.05 5 19.334 5H8.666c-.717 0-1.194 0-1.561.03zM19.254 21.1A6 6 0 0 0 14 18a6 6 0 0 0-5.254 3.1h.112c.555 0 .975-.001 1.385.085.361.076.71.202 1.038.375.37.195.694.463 1.121.817l.705.584c.284.235.455.376.592.473.063.045.104.07.13.083.023.012.033.015.034.016a.5.5 0 0 0 .274 0 .187.187 0 0 0 .035-.016c.026-.013.066-.038.13-.083.136-.097.307-.238.591-.473l.705-.584c.427-.354.75-.622 1.12-.817a3.998 3.998 0 0 1 1.039-.375c.41-.086.83-.086 1.385-.086z" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28VkVideoCircleFillRed","vk_video_circle_fill_red_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="vk_video_circle_fill_red_28"><circle cx="14" cy="14" r="14" fill="url(#vk_video_circle_fill_red_28_a)" /><path fill="#fff" fill-rule="evenodd" d="M18.96 18.025c.04-.543.04-1.201.04-1.972v-4.106c0-.77 0-1.43-.04-1.972-.042-.57-.133-1.13-.379-1.674a4.75 4.75 0 0 0-.838-1.27c.64.038 1.095.126 1.483.323a3.25 3.25 0 0 1 1.42 1.42C21 9.47 21 10.38 21 12.2v3.6c0 1.82 0 2.73-.354 3.425a3.25 3.25 0 0 1-1.42 1.42c-.388.198-.842.286-1.483.324.343-.372.627-.8.838-1.27.246-.544.337-1.104.38-1.674Zm-7.801-5.68a.055.055 0 0 1 .009-.025.052.052 0 0 1 .016-.013.051.051 0 0 1 .02-.007c.004 0 .012 0 .028.005a8.29 8.29 0 0 1 2.748 1.656c.01.01.014.017.016.02a.05.05 0 0 1 0 .04.062.062 0 0 1-.016.02 8.292 8.292 0 0 1-2.741 1.654.063.063 0 0 1-.028.005.052.052 0 0 1-.02-.007.051.051 0 0 1-.017-.013.057.057 0 0 1-.01-.024 8.502 8.502 0 0 1-.005-3.312Zm-3.805-3.57C7 9.47 7 10.38 7 12.2v3.6c0 1.82 0 2.73.354 3.425a3.25 3.25 0 0 0 1.42 1.42C9.47 21 10.398 21 12.25 21c1.854 0 2.78 0 3.476-.354a3.25 3.25 0 0 0 1.42-1.42c.354-.696.354-1.606.354-3.426v-3.6c0-1.82 0-2.73-.354-3.425a3.25 3.25 0 0 0-1.42-1.42C15.03 7 14.103 7 12.25 7c-1.854 0-2.78 0-3.475.354a3.25 3.25 0 0 0-1.42 1.42Zm2.333 3.28a1.551 1.551 0 0 1 2.055-1.16 9.79 9.79 0 0 1 3.245 1.954 1.55 1.55 0 0 1 0 2.304 9.79 9.79 0 0 1-3.237 1.952c-.9.326-1.869-.22-2.056-1.155a10.005 10.005 0 0 1-.007-3.894Z" clip-rule="evenodd" /><defs><linearGradient id="vk_video_circle_fill_red_28_a" x1="0" x2="28.733" y1="0" y2=".773" gradientUnits="userSpaceOnUse"><stop stop-color="#FF5263" /><stop offset="1" stop-color="#FF3347" /></linearGradient></defs></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28ClipCircleFillViolet","clip_circle_fill_violet_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="clip_circle_fill_violet_28"><path fill="url(#clip_circle_fill_violet_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14Z" /><path fill="#fff" fill-rule="evenodd" d="M10.98 5.006a1.1 1.1 0 0 1 1.21.978l.403 3.8a1.1 1.1 0 0 1-2.187.232l-.404-3.8a1.1 1.1 0 0 1 .977-1.21Zm6.253.445a1.1 1.1 0 0 1 .715 1.382l-1.4 4.4a1.1 1.1 0 1 1-2.096-.666l1.4-4.4a1.1 1.1 0 0 1 1.382-.716Zm.48 7.426a1 1 0 0 1 1.406-.159c1.271 1.013 1.882 2.516 1.877 4.035C20.995 19.567 18.33 23 14 23c-1.678 0-3.4-.66-4.709-1.735-1.312-1.078-2.295-2.653-2.295-4.513 0-.778.327-1.8.964-2.637.662-.87 1.723-1.615 3.19-1.615.343 0 2.261.096 3.24 2.053a1 1 0 0 1-1.789.894 1.673 1.673 0 0 0-1.451-.947c-.712 0-1.229.34-1.599.827-.396.52-.555 1.123-.555 1.425 0 1.117.59 2.167 1.565 2.968.979.804 2.259 1.28 3.438 1.28 3.223 0 4.997-2.535 4.997-4.248v-.004c.003-.984-.386-1.879-1.123-2.466a1 1 0 0 1-.16-1.405Z" clip-rule="evenodd" /><defs><linearGradient id="clip_circle_fill_violet_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop stop-color="#C48AFF" /><stop offset="1" stop-color="#AA65F0" /></linearGradient></defs></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28ReportOutline","report_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="report_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M17.379 2a2.5 2.5 0 0 1 1.767.732l6.122 6.122A2.5 2.5 0 0 1 26 10.62v6.758a2.5 2.5 0 0 1-.732 1.767l-6.122 6.122A2.5 2.5 0 0 1 17.38 26H10.62a2.5 2.5 0 0 1-1.767-.732l-6.122-6.122A2.5 2.5 0 0 1 2 17.38V10.62a2.5 2.5 0 0 1 .732-1.767l6.122-6.122A2.5 2.5 0 0 1 10.62 2h6.758Zm0 2H10.62a.5.5 0 0 0-.353.146l-6.122 6.122A.5.5 0 0 0 4 10.62v6.758a.5.5 0 0 0 .146.353l6.122 6.122a.5.5 0 0 0 .353.146h6.758a.5.5 0 0 0 .353-.146l6.122-6.122A.5.5 0 0 0 24 17.38V10.62a.5.5 0 0 0-.146-.353l-6.122-6.122A.5.5 0 0 0 17.38 4ZM14 16.8l.123.006A1.2 1.2 0 0 1 14 19.2l-.123-.006A1.2 1.2 0 0 1 14 16.8ZM14 8a1 1 0 0 1 1 1v5a1 1 0 0 1-2 0V9a1 1 0 0 1 1-1Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon24Like","like_24","0 0 24 24",'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="like_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M16.737 3.1A6.163 6.163 0 0 1 22.9 9.263c0 3.42-1.368 5.131-7.116 9.602L13.166 20.9a1.9 1.9 0 0 1-2.332 0l-2.618-2.036C2.468 14.395 1.1 12.682 1.1 9.263A6.163 6.163 0 0 1 7.263 3.1C9.08 3.1 10.656 4.161 12 6.186 13.344 4.161 14.92 3.1 16.737 3.1Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',24,24,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28LikeOutline","like_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="like_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M9.026 4.88A6.526 6.526 0 0 0 2.5 11.406c0 3.613 1.445 5.421 7.493 10.126l2.78 2.16a2 2 0 0 0 2.455 0l2.779-2.16c6.048-4.705 7.493-6.513 7.493-10.126a6.526 6.526 0 0 0-6.526-6.526c-1.872 0-3.538.85-4.974 2.487C12.564 5.73 10.898 4.88 9.026 4.88Zm0 2c1.52 0 2.889.858 4.152 2.683l.205.298a.75.75 0 0 0 1.234 0l.205-.298c1.263-1.825 2.633-2.683 4.152-2.683 2.5 0 4.526 2.027 4.526 4.526 0 2.78-1.137 4.204-6.721 8.547L14 22.114l-2.779-2.161C5.637 15.61 4.5 14.187 4.5 11.406c0-2.5 2.027-4.526 4.526-4.526Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28EditOutline","edit_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg" id="edit_outline_28"><path fill-rule="evenodd" clip-rule="evenodd" d="M21.782 3.335a3 3 0 0 0-2.724 0c-.428.218-.8.591-1.23 1.023L4.677 17.508c-.354.355-.609.609-.818.897a4.5 4.5 0 0 0-.804 1.94C3 20.698 3 21.058 3 21.558V22.681c-.001.282-.002.628.098.937a2 2 0 0 0 1.284 1.284c.309.1.655.1.937.098H6.443c.5 0 .86 0 1.211-.055a4.5 4.5 0 0 0 1.941-.804c.288-.21.542-.464.896-.818l13.151-13.15c.432-.431.805-.803 1.023-1.231a3 3 0 0 0 0-2.724c-.218-.428-.591-.8-1.023-1.23l-.63-.63c-.43-.432-.802-.805-1.23-1.023Zm-1.816 1.782a1 1 0 0 1 .908 0c.106.054.237.168.819.75l.44.44c.582.582.696.713.75.819a1 1 0 0 1 0 .908c-.054.106-.168.237-.75.819l-.858.858-2.986-2.986.858-.858c.582-.582.713-.696.82-.75ZM16.875 8.14 6.142 18.872c-.425.425-.56.564-.665.708a2.5 2.5 0 0 0-.446 1.079c-.028.176-.03.369-.03.97v.971c-.001.197 0 .305.004.383v.012h.012c.078.005.186.005.383.005h.97c.602 0 .795-.003.971-.03a2.5 2.5 0 0 0 1.079-.447c.144-.105.283-.24.708-.665l10.733-10.733-2.986-2.986Z" fill="currentColor" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28ChevronRightOutline","chevron_right_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="chevron_right_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="m11 7.5 6.5 6.5-6.5 6.5" stroke="#8BC1FF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" /><path d="m16.086 14-5.793 5.793a1 1 0 0 0 1.414 1.414l6.5-6.5a1 1 0 0 0 0-1.414l-6.5-6.5a1 1 0 0 0-1.414 1.414L16.086 14Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28CancelOutline","cancel_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="cancel_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M6.293 6.293a1 1 0 0 1 1.414 0L14 12.585l6.293-6.292a1 1 0 0 1 1.32-.083l.094.083a1 1 0 0 1 0 1.414L15.415 14l6.292 6.293a1 1 0 0 1 .083 1.32l-.083.094a1 1 0 0 1-1.414 0L14 15.415l-6.293 6.292a1 1 0 0 1-1.32.083l-.094-.083a1 1 0 0 1 0-1.414L12.585 14 6.293 7.707a1 1 0 0 1-.083-1.32Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28ShareOutline","share_outline_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="share_outline_28"><path clip-rule="evenodd" d="M13.476 6.513c0-.442.485-.651.797-.406l9.532 7.483a.52.52 0 0 1 0 .812l-9.532 7.484a.495.495 0 0 1-.797-.406v-4.485a1 1 0 0 0-1-1c-3.565 0-6.252 1.449-8.26 3.267.362-2.161 1.153-3.807 2.225-5.046 1.497-1.73 3.637-2.78 6.22-3.264a1 1 0 0 0 .815-.983zm2.032-1.979c-1.654-1.298-4.032-.093-4.032 1.979V9.16c-2.565.61-4.854 1.79-6.548 3.749C3.051 15.079 2 18.093 2 22.05a1 1 0 0 0 1.788.616c1.741-2.226 4.175-4.292 7.688-4.625v3.438c0 2.072 2.378 3.277 4.032 1.978l9.532-7.483a2.518 2.518 0 0 0 0-3.957z" fill="currentColor" fill-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28BugOutline","bug_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="bug_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M20.301 3.043a1 1 0 0 1-.05 1.413l-1.327 1.238a8.04 8.04 0 0 1 2.008 2.31L21 8h3a1 1 0 0 1 .117 1.993L24 10h-2.252c.164.639.252 1.31.252 2v2h4a1 1 0 0 1 .993.883L27 15a1 1 0 0 1-.883.993L26 16h-4v2c0 .69-.088 1.361-.252 2H24a1 1 0 0 1 .117 1.993L24 22h-3l-.07-.002A7.995 7.995 0 0 1 14 26a7.997 7.997 0 0 1-6.932-4.004L7 22H4a1 1 0 0 1-.117-1.993L4 20h2.252A8.014 8.014 0 0 1 6 18v-2H2a1 1 0 0 1-.993-.883L1 15a1 1 0 0 1 .883-.993L2 14h4v-2c0-.69.088-1.361.252-2H4a1 1 0 0 1-.117-1.993L4 8h3l.069.002a8.035 8.035 0 0 1 2.016-2.315l-1.32-1.231a1 1 0 0 1 1.267-1.543l.097.08 1.755 1.636A7.976 7.976 0 0 1 14 4c1.11 0 2.167.226 3.128.635l1.76-1.642a1 1 0 0 1 1.413.05ZM14 6a6 6 0 0 0-6 6v6a6 6 0 1 0 12 0v-6a6 6 0 0 0-6-6Zm1 11a1 1 0 0 1 0 2h-2a1 1 0 0 1 0-2h2Zm-2-6h2a1 1 0 0 1 .117 1.993L15 13h-2a1 1 0 0 1-.117-1.993L13 11h2-2Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28Cards2Outline","cards_2_outline_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="cards_2_outline_28"><g clip-rule="evenodd" fill="currentColor" fill-rule="evenodd"><path d="M9.008 6.498a1.013 1.013 0 0 1-.81 1.177c-1.88.34-2.576.526-3.038.878-.507.387-.88.926-1.066 1.54-.087.287-.117.65-.06 1.264.057.625.194 1.417.392 2.552l.905 5.194c.198 1.135.336 1.926.493 2.533.155.596.306.927.484 1.167.383.513.915.89 1.523 1.078.274.085.62.117 1.195.066.585-.051 1.325-.179 2.38-.367a1.003 1.003 0 0 1 1.16.823 1.013 1.013 0 0 1-.813 1.175c-1.028.183-1.862.33-2.554.39-.703.062-1.336.044-1.954-.147a5.012 5.012 0 0 1-2.538-1.798c-.4-.538-.636-1.155-.822-1.873-.18-.697-.332-1.57-.52-2.652l-.92-5.28c-.19-1.082-.341-1.955-.408-2.672-.068-.739-.055-1.4.14-2.045a5.071 5.071 0 0 1 1.776-2.568c.924-.704 2.163-.943 3.893-1.255a1.003 1.003 0 0 1 1.162.82z" /><path d="m19.292 2.45.282.05c1.07.19 1.933.345 2.621.527.71.188 1.32.426 1.852.832a5.071 5.071 0 0 1 1.776 2.567c.195.645.208 1.307.14 2.045-.067.718-.219 1.59-.407 2.673l-.92 5.28c-.189 1.082-.341 1.955-.521 2.652-.186.717-.421 1.335-.822 1.873a5.012 5.012 0 0 1-2.538 1.798c-.637.197-1.29.21-2.02.14-.71-.066-1.572-.22-2.642-.41l-.282-.051c-1.07-.191-1.932-.345-2.62-.527-.71-.188-1.32-.427-1.852-.832a5.071 5.071 0 0 1-1.776-2.568c-.195-.644-.208-1.306-.14-2.044.066-.718.218-1.59.407-2.673l.92-5.28c.188-1.082.34-1.955.521-2.652.186-.718.421-1.335.822-1.873a5.012 5.012 0 0 1 2.537-1.798c.637-.197 1.291-.21 2.02-.141.71.067 1.573.22 2.642.412zm-2.827 1.608c-.606-.058-.965-.027-1.249.06a3.007 3.007 0 0 0-1.522 1.08c-.178.239-.33.57-.484 1.166-.157.607-.296 1.398-.493 2.533l-.906 5.194c-.197 1.135-.334 1.927-.392 2.552-.057.613-.026.977.06 1.263a3.044 3.044 0 0 0 1.066 1.54c.237.181.564.334 1.153.49.6.16 1.382.3 2.504.5l.197.035c1.122.2 1.904.339 2.522.397.606.058.965.027 1.248-.061a3.007 3.007 0 0 0 1.523-1.079c.178-.239.33-.57.483-1.166.158-.607.296-1.398.494-2.534l.905-5.193c.198-1.136.335-1.927.393-2.552.056-.613.026-.977-.06-1.263a3.043 3.043 0 0 0-1.067-1.54c-.236-.181-.564-.335-1.152-.49-.6-.16-1.382-.3-2.504-.5l-.197-.035c-1.122-.2-1.905-.34-2.522-.397z" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28MoreHorizontal","more_horizontal_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="more_horizontal_28"><path d="M8.5 14a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm8 0a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm5.5 2.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28HistoryForwardOutline","history_forward_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="history_forward_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M14.5 2c3.25 0 6.283 1.303 8.5 3.529V4l.007-.117A1 1 0 0 1 25 4v4l-.007.117A1 1 0 0 1 24 9h-4l-.117-.007A1 1 0 0 1 20 7h1.643A9.974 9.974 0 0 0 14.5 4c-5.523 0-10 4.477-10 10s4.477 10 10 10a9.964 9.964 0 0 0 7.072-2.93 1 1 0 1 1 1.415 1.414A11.963 11.963 0 0 1 14.5 26c-6.627 0-12-5.373-12-12s5.373-12 12-12ZM14 8a1 1 0 0 1 1 1v4.586l2.707 2.707a1 1 0 0 1-1.414 1.414l-3-3A1 1 0 0 1 13 14V9a1 1 0 0 1 1-1Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28HistoryBackwardOutline","history_backward_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="history_backward_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M14 2c6.627 0 12 5.373 12 12s-5.373 12-12 12c-3.226 0-6.251-1.28-8.487-3.516a1 1 0 0 1 1.415-1.414A9.964 9.964 0 0 0 14 24c5.523 0 10-4.477 10-10S19.523 4 14 4a9.974 9.974 0 0 0-7.143 3H8.5a1 1 0 0 1 .117 1.993L8.5 9h-4a1 1 0 0 1-.993-.883L3.5 8V4a1 1 0 0 1 1.993-.117L5.5 4v1.529A11.973 11.973 0 0 1 14 2Zm0 6a1 1 0 0 1 .993.883L15 9v4.586l2.707 2.707a1 1 0 0 1-1.32 1.497l-.094-.083-3-3a1 1 0 0 1-.284-.576L13 14V9a1 1 0 0 1 1-1Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28SortOutline","sort_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="sort_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M9 6.5c.552 0 1 .482 1 1.077v10.508l2.293-2.292a1 1 0 0 1 1.32-.083l.094.083a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 1.414-1.414L8 18.085V7.577c0-.555.39-1.012.891-1.07Zm10.707.253 4 4a1 1 0 0 1-1.414 1.414L20 9.874V20.46a1 1 0 0 1-2 0V9.874l-2.293 2.293a1 1 0 0 1-1.414-1.414l4-4a1 1 0 0 1 1.414 0Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28DonateOutline","donate_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="donate_outline_28"><path fill-rule="evenodd" d="M15.793 8.115a2 2 0 0 0-3.586 0l-1.005 2.034-2.245.327a2 2 0 0 0-1.108 3.411l1.624 1.584-.383 2.236a2 2 0 0 0 2.902 2.108L14 18.76l2.008 1.055a2 2 0 0 0 2.902-2.108l-.383-2.236 1.624-1.584a2 2 0 0 0-1.108-3.411l-2.245-.327-1.004-2.034Zm-3.262 3.862L14 9l1.47 2.977 3.285.478-2.377 2.318.56 3.272L14 16.5l-2.939 1.545.561-3.273-2.377-2.317 3.286-.478Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M14 2C7.373 2 2 7.373 2 14s5.373 12 12 12 12-5.373 12-12S20.627 2 14 2ZM4 14C4 8.477 8.477 4 14 4s10 4.477 10 10-4.477 10-10 10S4 19.523 4 14Z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28Users3Outline","users_3_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="users_3_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M14 14.5c3.862 0 6.5 1.759 6.5 4.5 0 1.93-1.284 3-3 3h-7c-1.716 0-3-1.07-3-3 0-2.741 2.638-4.5 6.5-4.5Zm8 0c2.746 0 4.5 1.657 4.5 3.75 0 1.692-1.293 2.75-2.75 2.75H23a1 1 0 0 1 0-2h.75c.431 0 .75-.26.75-.75 0-.962-.834-1.75-2.5-1.75a1 1 0 0 1 0-2Zm-16 0a1 1 0 0 1 0 2c-1.666 0-2.5.788-2.5 1.75 0 .49.319.75.75.75H5a1 1 0 0 1 0 2h-.75c-1.457 0-2.75-1.058-2.75-2.75 0-2.093 1.754-3.75 4.5-3.75Zm8 2c-2.888 0-4.5 1.075-4.5 2.5 0 .737.316 1 1 1h7c.684 0 1-.263 1-1 0-1.425-1.612-2.5-4.5-2.5ZM20 6a3.5 3.5 0 0 1 0 7 1 1 0 0 1 0-2l.144-.007A1.5 1.5 0 0 0 20 8l-.117-.007A1 1 0 0 1 20 6ZM8 6a1 1 0 0 1 .117 1.993L8 8a1.5 1.5 0 0 0-.144 2.993L8 11a1 1 0 0 1 0 2 3.5 3.5 0 0 1 0-7Zm6-1a4 4 0 1 1 0 8 4 4 0 0 1 0-8Zm0 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon12User","user_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 12 12" id="user_12"><path d="M8 4a2 2 0 1 0-3.999-.001A2 2 0 0 0 8 4ZM2 9v.498c0 .277.225.502.502.502h6.996A.503.503 0 0 0 10 9.498V9c0-1.75-2.665-2.25-4-2.25S2 7.25 2 9Z" /></symbol>',12,12,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28SlidersOutline","sliders_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="sliders_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M18.5 15a3.502 3.502 0 0 1 3.355 2.5H24a1 1 0 0 1 0 2h-2.145a3.502 3.502 0 0 1-6.71 0H4a1 1 0 0 1 0-2h11.145A3.502 3.502 0 0 1 18.5 15Zm0 1.75a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5ZM10.5 6a3.502 3.502 0 0 1 3.355 2.5H24a1 1 0 0 1 0 2H13.855a3.502 3.502 0 0 1-6.71 0H4a1 1 0 0 1 0-2h3.145A3.502 3.502 0 0 1 10.5 6Zm0 1.75a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon16Share","share_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="share_16"><path fill="currentColor" d="M8.896 2.358c-1.068-.85-2.643-.088-2.643 1.276v1.4c-1.571.392-2.84 1.192-3.74 2.345C1.5 8.674 1.004 10.352 1.004 12.25a.75.75 0 0 0 1.29.52c.672-.7 1.269-1.172 1.963-1.48.54-.24 1.172-.395 1.995-.452v1.528c0 1.364 1.576 2.125 2.644 1.276l5.492-4.365a1.63 1.63 0 0 0 0-2.553L8.897 2.358Z" /></symbol>',16,16,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon24ChevronLeft","chevron_left_24","0 0 24 24",'<symbol fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="chevron_left_24"><path d="M15.884 18.116a1.25 1.25 0 0 1-1.768 1.768l-7-7a1.25 1.25 0 0 1 0-1.768l7-7a1.25 1.25 0 0 1 1.768 1.768L9.768 12z" fill="currentColor" /></symbol>',24,24,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28CompassOutline","compass_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="compass_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M14 2c6.627 0 12 5.373 12 12s-5.373 12-12 12S2 20.627 2 14 7.373 2 14 2Zm0 2C8.477 4 4 8.477 4 14s4.477 10 10 10 10-4.477 10-10S19.523 4 14 4Zm4.949 6.316-2 6a1 1 0 0 1-.633.633l-6 2a1 1 0 0 1-1.265-1.265l2-6a1 1 0 0 1 .633-.633l6-2a1 1 0 0 1 1.265 1.265Zm-2.53 1.265-3.628 1.21-1.21 3.628 3.628-1.21 1.21-3.628Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28Crop","crop_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="crop_28"><g fill="currentColor"><path d="M7 2a1 1 0 0 1 1 1v13.2c0 .857 0 1.439.038 1.889.035.438.1.663.18.819a2 2 0 0 0 .874.874c.156.08.38.145.819.18.45.037 1.032.038 1.889.038H25a1 1 0 1 1 0 2h-3v3a1 1 0 1 1-2 0v-3h-8.241c-.805 0-1.47 0-2.01-.044-.563-.046-1.08-.145-1.565-.392a4 4 0 0 1-1.748-1.748c-.247-.485-.346-1.002-.392-1.564C6 17.71 6 17.046 6 16.242V8H3a1 1 0 0 1 0-2h3V3a1 1 0 0 1 1-1z" /><path d="M10 7a1 1 0 0 1 1-1h7a4 4 0 0 1 4 4v7a1 1 0 1 1-2 0v-7a2 2 0 0 0-2-2h-7a1 1 0 0 1-1-1z" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28MailOutline","mail_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="mail_outline_28"><g fill="none" fill-rule="evenodd"><path opacity=".1" d="M0 0h28v28H0z" /><path d="m8.128 4 12.049.002c1.574.019 2.396.195 3.248.65a4.634 4.634 0 0 1 1.923 1.923c.484.905.652 1.776.652 3.553v7.744c0 1.777-.168 2.648-.652 3.553a4.634 4.634 0 0 1-1.923 1.923c-.905.484-1.776.652-3.553.652H8.128c-1.777 0-2.648-.168-3.553-.652a4.634 4.634 0 0 1-1.923-1.923C2.168 20.52 2 19.65 2 17.872l.002-8.049c.019-1.574.195-2.396.65-3.248a4.634 4.634 0 0 1 1.923-1.923C5.48 4.168 6.35 4 8.128 4Zm15.56 3.728-6.86 6.858a4 4 0 0 1-5.497.15l-.16-.15-6.858-6.858c-.23.515-.313 1.104-.313 2.4v7.744c0 1.475.108 2.034.416 2.61.255.478.624.847 1.102 1.102.508.272 1.003.388 2.126.411l.484.005h11.744c1.475 0 2.034-.108 2.61-.416a2.635 2.635 0 0 0 1.102-1.102c.272-.508.388-1.003.411-2.126l.005-.484v-7.744c0-1.296-.083-1.885-.313-2.4ZM19.871 6H8.128c-1.296 0-1.885.083-2.4.313l6.858 6.859a2 2 0 0 0 2.701.116l.127-.116 6.858-6.86c-.515-.229-1.104-.312-2.4-.312Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28HelpCircleOutline","help_circle_outline_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="help_circle_outline_28"><path d="M14 2c6.624 0 12 5.376 12 12s-5.376 12-12 12S2 20.624 2 14 7.376 2 14 2zm0 2C8.48 4 4 8.48 4 14s4.48 10 10 10 10-4.48 10-10S19.52 4 14 4zm0 14.1a1.4 1.4 0 1 1 0 2.8 1.4 1.4 0 0 1 0-2.8zm-.066-11.11c2.05 0 3.712 1.678 3.712 3.75 0 .825-.334 1.575-.863 2.11l-.835.862c-.497.509-.855.95-1.006 1.72-.014.07-.024.174-.03.31a.926.926 0 0 1-.925.883h-.01a.928.928 0 0 1-.928-.928v-.002c.001-.26.01-.43.025-.512a3.81 3.81 0 0 1 1.018-1.94l1.15-1.181a1.871 1.871 0 0 0-1.308-3.197c-.649 0-1.222.34-1.554.854a3.891 3.891 0 0 0-.248.485.928.928 0 0 1-1.147.499l-.035-.012a.886.886 0 0 1-.534-1.175c.066-.161.13-.304.19-.427.638-1.297 1.838-2.099 3.328-2.099z" fill="currentColor" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28BrushOutline","brush_outline_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="brush_outline_28"><path clip-rule="evenodd" d="M23.651 4.099a2.107 2.107 0 0 0-2.895.102l-8.031 7.93a1 1 0 1 0 1.405 1.423l8.037-7.936.015-.015a.107.107 0 0 1 .145-.005.08.08 0 0 1 .01.115l-.014.018-7.132 8.941a1 1 0 1 0 1.563 1.247l7.126-8.934a2.08 2.08 0 0 0-.229-2.886zM8.128 18.89c.049-1.066.88-1.891 1.936-1.891 1.1 0 1.936.855 1.936 1.845 0 .973-.847 2.28-2.982 2.927-.936.283-1.68.267-2.24.142.635-.6 1.281-1.54 1.35-3.023zM10.064 15a4.01 4.01 0 0 0-4.07 4c-.046.979-.353 1.28-.769 1.617-.112.09-.223.17-.338.25l-.051.036c-.093.064-.21.145-.304.22-.06.047-.141.115-.219.202-.073.08-.191.23-.26.444-.079.247-.075.53.046.794.106.234.268.38.376.46.842.634 2.593 1.429 5.122.663 2.634-.797 4.403-2.183 4.403-4.69C14 17.141 12.52 15 10.064 15z" fill="currentColor" fill-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28EraserOutline","eraser_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="eraser_outline_28"><path fill-rule="evenodd" d="M2.196 18.232c.296.912 1.088 1.704 2.67 3.287l.603.602c1.583 1.583 2.374 2.374 3.287 2.67.35.115.713.179 1.077.193.057.01.117.016.177.016H24a1 1 0 1 0 0-1.999H13.629c.267-.261.56-.554.886-.88l7.607-7.608c1.583-1.583 2.375-2.374 2.671-3.287a3.994 3.994 0 0 0 0-2.47c-.296-.913-1.088-1.704-2.67-3.287l-.603-.602c-1.583-1.583-2.374-2.375-3.287-2.671a3.997 3.997 0 0 0-2.47 0c-.913.296-1.705 1.088-3.288 2.67l-7.607 7.608c-1.583 1.583-2.375 2.375-2.671 3.287a3.997 3.997 0 0 0 0 2.47Zm6.176-6.437L6.28 13.887c-.815.815-1.34 1.342-1.708 1.775-.352.416-.441.611-.476.717-.13.401-.13.834 0 1.235.035.106.124.301.476.716.368.434.893.96 1.708 1.776l.602.602c.815.814 1.342 1.34 1.775 1.707.415.353.611.442.717.476.401.13.833.13 1.235 0 .105-.034.3-.123.716-.476.433-.368.96-.893 1.775-1.707l2.092-2.092-6.82-6.82Zm1.413-1.413 6.82 6.82 4.103-4.102c.815-.815 1.34-1.342 1.708-1.775.352-.415.441-.61.476-.716.13-.402.13-.834 0-1.236-.035-.105-.124-.3-.476-.716-.368-.433-.893-.96-1.708-1.775l-.602-.602c-.815-.815-1.342-1.34-1.775-1.708-.415-.352-.611-.441-.717-.476a1.999 1.999 0 0 0-1.235 0c-.105.035-.3.124-.716.476-.433.368-.96.893-1.775 1.708l-4.103 4.102Z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28MessageArrowRightOutline","message_arrow_right_outline_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="message_arrow_right_outline_28"><path clip-rule="evenodd" d="M14.018 5.5c-3.8 0-7.01 1.88-8.527 4.502a1 1 0 1 1-1.732-1.001C5.672 5.694 9.585 3.5 14.02 3.5c6.192 0 11.48 4.339 11.48 9.999s-5.288 9.999-11.48 9.999c-1.374 0-2.694-.21-3.919-.597C8.656 24.25 6.556 24.898 3.988 25c-1.046.041-1.801-1.047-1.363-2.021.628-1.406 1.407-2.815 1.52-4.378a9.527 9.527 0 0 1-.379-.596 1 1 0 1 1 1.728-1.007c.141.24.296.476.465.703a1 1 0 0 1 .197.596c0 1.634-.651 3.175-1.315 4.638 2.056-.218 3.405-.877 4.219-1.834a1 1 0 0 1 1.113-.289c1.172.44 2.473.687 3.845.687 5.385 0 9.482-3.719 9.482-8 0-4.28-4.097-7.998-9.482-7.998zm-1.725 4.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414l1.293-1.293H3a1 1 0 1 1 0-2h10.586l-1.293-1.293a1 1 0 0 1 0-1.414z" fill="currentColor" fill-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28TargetOutline","target_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="target_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M14 2a1 1 0 0 1 1 1l.001 1.05c4.724.469 8.48 4.226 8.95 8.95H25a1 1 0 0 1 0 2l-1.05.001a10.003 10.003 0 0 1-8.949 8.95L15 25a1 1 0 0 1-2 0v-1.05a10.003 10.003 0 0 1-8.95-8.949L3 15a1 1 0 0 1 0-2h1.05A10.003 10.003 0 0 1 13 4.05V3a1 1 0 0 1 1-1Zm1.001 4.062L15 7a1 1 0 0 1-2 0v-.938A8.004 8.004 0 0 0 6.062 13H7a1 1 0 0 1 0 2l-.938.001A8.004 8.004 0 0 0 13 21.938V21a1 1 0 0 1 2 0l.001.938a8.004 8.004 0 0 0 6.937-6.937L21 15a1 1 0 0 1 0-2h.938a8.004 8.004 0 0 0-6.937-6.938ZM14 12a2 2 0 1 1 0 4 2 2 0 0 1 0-4Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28ImageFilterOutline","image_filter_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="image_filter_outline_28"><path fill="currentColor" fill-rule="evenodd" d="M10 5a9 9 0 1 0 0 18 8.965 8.965 0 0 0 4-.936 9 9 0 1 0 0-16.129A8.966 8.966 0 0 0 10 5Zm-7 9a7 7 0 1 1 14 0 7 7 0 0 1-14 0Zm12.998-6.71A8.978 8.978 0 0 1 19 14a8.978 8.978 0 0 1-3.002 6.71A7.003 7.003 0 0 0 18 21a7 7 0 1 0 0-14 7.002 7.002 0 0 0-2.002.29Z" clip-rule="evenodd" /><path fill="currentColor" d="M10.5 18.975A8.959 8.959 0 0 1 9 14c0-1.84.552-3.55 1.5-4.975a5 5 0 0 1 0 9.95Z" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28FavoriteOutline","favorite_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="favorite_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="m14 19.178 5.69 3.476a.205.205 0 0 0 .306-.223l-1.547-6.485 5.064-4.338a.205.205 0 0 0-.117-.36l-6.646-.533-2.56-6.156a.205.205 0 0 0-.38 0l-2.56 6.156-6.646.533a.205.205 0 0 0-.117.36l5.064 4.338-1.547 6.485a.205.205 0 0 0 .306.223L14 19.178Zm0 2.344L9.352 24.36a2.205 2.205 0 0 1-3.294-2.393l1.264-5.297-4.136-3.543a2.205 2.205 0 0 1 1.258-3.873l5.429-.435 2.091-5.028a2.205 2.205 0 0 1 4.072 0l2.091 5.028 5.429.435a2.205 2.205 0 0 1 1.258 3.873l-4.136 3.543 1.264 5.297a2.205 2.205 0 0 1-3.294 2.393L14 21.522Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28LightbulbOutline","lightbulb_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="lightbulb_outline_28"><path fill-rule="evenodd" d="M14 2C8.446 2 4 6.48 4 12c0 2.85.986 4.693 2.165 6.128.45.55.94 1.05 1.379 1.499l.322.33c.492.51.897.962 1.202 1.437l.507 2.03.032.128c.128.518.257 1.037.563 1.446a2.5 2.5 0 0 0 1.033.807c.471.198 1.006.197 1.54.195h2.514c.534.002 1.069.003 1.54-.195a2.5 2.5 0 0 0 1.033-.807c.307-.409.435-.928.563-1.446l.032-.127.507-2.031c.305-.475.71-.927 1.202-1.436.103-.107.21-.218.322-.331.44-.45.928-.95 1.38-1.499C23.013 16.693 24 14.85 24 12c0-5.552-4.448-10-10-10ZM6 12c0-4.42 3.554-8 8-8 4.448 0 8 3.552 8 8 0 2.3-.764 3.707-1.71 4.86-.39.474-.802.895-1.234 1.337-.119.122-.24.245-.361.372-.42.435-.855.905-1.233 1.431H15v-2.5l1.6-1.2a1 1 0 0 0-1.2-1.6L14 15.75l-1.4-1.05a1 1 0 0 0-1.2 1.6l1.6 1.2V20h-2.463c-.377-.526-.811-.996-1.231-1.431l-.362-.372a20.744 20.744 0 0 1-1.234-1.338C6.764 15.707 6 14.3 6 12Zm5.28 10 .236.94c.185.74.224.818.255.86a.5.5 0 0 0 .206.161c.048.02.134.039.897.039h2.252c.763 0 .849-.02.897-.039a.5.5 0 0 0 .206-.161c.031-.042.07-.12.255-.86l.235-.94h-5.438Z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28ArticlesOutline","articles_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="articles_outline_28"><path fill="currentColor" d="M2 7a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2H8v7a1 1 0 1 1-2 0V8H3a1 1 0 0 1-1-1Zm14 1a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2h-8Zm-5 7a1 1 0 0 1 1-1h12a1 1 0 1 1 0 2H12a1 1 0 0 1-1-1Zm-5 6a1 1 0 0 1 1-1h17a1 1 0 1 1 0 2H7a1 1 0 0 1-1-1Z" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon16Down","down_16","0 0 16 16",'<symbol viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" id="down_16"><g fill="none" fill-rule="evenodd"><path d="M0 16h16V0H0z" /><path d="m8.616 13.794.095-.083 4-4a1.005 1.005 0 0 0-1.327-1.505l-.095.083-2.284 2.285V3a1.005 1.005 0 0 0-2.003-.117L6.995 3v7.576L4.711 8.289a1.005 1.005 0 0 0-1.327-.083l-.095.083c-.362.363-.39.933-.083 1.327l.083.095 4 4c.363.362.933.39 1.327.083z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',16,16,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28SearchOutline","search_outline_28","0 0 28 28",'<symbol fill="none" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="search_outline_28"><path clip-rule="evenodd" d="M13 4a9 9 0 1 0 5.618 16.032l4.675 4.675a1 1 0 0 0 1.414-1.414l-4.675-4.675A9 9 0 0 0 13 4zm0 2a7 7 0 1 0 0 14 7 7 0 0 0 0-14z" fill="currentColor" fill-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon12Chevron","chevron_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 12 12" id="chevron_12"><path fill-rule="evenodd" d="M4.22 2.47a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 0 1-1.06-1.06L6.69 6 4.22 3.53a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" /></symbol>',12,12,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28UsersOutline","users_outline_28","0 0 28 28",'<symbol viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" id="users_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M9 15c3.997 0 7.5 1.542 7.5 4.929 0 1.774-.69 2.571-2.147 2.571H3.647c-1.458 0-2.147-.797-2.147-2.571C1.5 16.542 5.003 15 9 15Zm10.5 0c3.997 0 7.5 1.542 7.5 4.929 0 1.774-.69 2.571-2.147 2.571H19a1 1 0 0 1 0-2h5.913a.83.83 0 0 1 .042.002l.013.001.002-.015c.01-.081.024-.22.029-.427l.001-.132C25 18.095 22.513 17 19.5 17c-.428 0-.898.03-1.37.09a1 1 0 1 1-.256-1.983A12.87 12.87 0 0 1 19.5 15ZM9 17c-3.013 0-5.5 1.095-5.5 2.929 0 .28.017.462.03.56l.001.014.014-.001.019-.001h10.891l.013.002.002-.015c.013-.097.03-.28.03-.56C14.5 18.096 12.013 17 9 17ZM19.5 5a4.25 4.25 0 0 1 4.25 4.25 4.25 4.25 0 0 1-4.25 4.25 4.25 4.25 0 0 1-4.25-4.25A4.25 4.25 0 0 1 19.5 5ZM9 5a4.25 4.25 0 0 1 4.25 4.25A4.25 4.25 0 0 1 9 13.5a4.25 4.25 0 0 1-4.25-4.25A4.25 4.25 0 0 1 9 5Zm10.5 2a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 1 0 0-4.5ZM9 7a2.25 2.25 0 1 0 0 4.5A2.25 2.25 0 1 0 9 7Z" fill="currentColor" fill-rule="nonzero" /></g></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28NewsfeedLinesOutline","newsfeed_lines_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="newsfeed_lines_outline_28"><path d="M17.59 3c2.183 0 3.233.203 4.324.786a5.543 5.543 0 0 1 2.3 2.3c.583 1.091.786 2.14.786 4.324v7.18c0 2.183-.203 3.233-.786 4.324a5.543 5.543 0 0 1-2.3 2.3c-1.091.583-2.14.786-4.324.786h-7.18c-2.183 0-3.233-.203-4.324-.786a5.543 5.543 0 0 1-2.3-2.3C3.203 20.823 3 19.774 3 17.59v-7.18c0-2.183.203-3.233.786-4.324a5.543 5.543 0 0 1 2.3-2.3C7.177 3.203 8.226 3 10.41 3h7.18ZM5 11v6.59c0 1.881.142 2.62.55 3.38a3.533 3.533 0 0 0 1.48 1.48c.76.408 1.499.55 3.38.55h7.18c1.881 0 2.62-.142 3.38-.55a3.544 3.544 0 0 0 1.48-1.48c.408-.76.55-1.499.55-3.38L22.999 11h-18Zm12.59-6h-7.18c-1.881 0-2.62.142-3.38.55a3.533 3.533 0 0 0-1.48 1.48c-.286.534-.441 1.056-.509 1.97H22.96c-.068-.914-.223-1.436-.509-1.97a3.544 3.544 0 0 0-1.48-1.48c-.76-.408-1.499-.55-3.38-.55ZM8 15c0-.552.488-1 1.09-1h9.82c.602 0 1.09.448 1.09 1s-.488 1-1.09 1H9.09C8.489 16 8 15.552 8 15Zm0 4c0-.552.488-1 1.09-1h9.82c.602 0 1.09.448 1.09 1s-.488 1-1.09 1H9.09C8.489 20 8 19.552 8 19Z" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28BookSpreadOutline","book_spread_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="book_spread_outline_28"><path fill="currentColor" fill-rule="evenodd" d="M14 5.999C11.61 4.546 9.153 3.96 5.877 4.007a86.62 86.62 0 0 1-.154.002c-.777.01-1.473.018-2.111.351a3.11 3.11 0 0 0-1.29 1.309c-.186.367-.259.74-.292 1.12C2 7.14 2 7.563 2 8.042v10.46c0 .572 0 1.057.03 1.45.03.406.098.816.292 1.2a2.867 2.867 0 0 0 1.291 1.31c.393.204.831.274 1.259.309.426.034.962.041 1.61.05h.035c2.86.038 4.887.65 6.928 2.01a1 1 0 0 0 1.11 0c2.041-1.36 4.068-1.972 6.928-2.01h.036c.647-.009 1.183-.016 1.61-.05.427-.035.865-.105 1.258-.31.584-.304.995-.72 1.291-1.309.194-.384.262-.794.292-1.2.03-.393.03-.878.03-1.45V8.041c0-.48 0-.9-.03-1.253-.033-.38-.106-.753-.291-1.12a3.11 3.11 0 0 0-1.29-1.309c-.639-.333-1.335-.342-2.112-.351a85.542 85.542 0 0 1-.154-.002C18.847 3.96 16.39 4.546 14 5.999Zm-1 1.733c-2.033-1.247-4.117-1.768-7.095-1.725-1.021.014-1.204.04-1.368.126a1.12 1.12 0 0 0-.43.436c-.029.057-.063.153-.084.392-.022.256-.023.59-.023 1.12v10.383c0 .62 0 1.029.024 1.338.023.304.063.409.083.45a.878.878 0 0 0 .43.436c.03.015.142.06.497.09.35.028.818.034 1.51.044 2.513.033 4.54.475 6.456 1.437V7.732Zm2 14.527c1.916-.962 3.943-1.404 6.456-1.438.692-.009 1.16-.015 1.51-.044.355-.029.467-.074.496-.09a.878.878 0 0 0 .43-.436c.021-.04.061-.145.084-.45.023-.308.024-.717.024-1.337V8.08c0-.529 0-.863-.023-1.119-.02-.239-.055-.335-.084-.392a1.12 1.12 0 0 0-.43-.436c-.164-.085-.347-.112-1.368-.127-2.978-.042-5.062.48-7.095 1.725V22.26Zm7-11.295A1 1 0 0 1 21.035 12c-1.016.037-1.908.183-2.724.451a1 1 0 0 1-.624-1.9c1.026-.337 2.109-.508 3.276-.55a1 1 0 0 1 1.035.964Zm-16 0a1 1 0 0 1 1.036-.963c1.167.041 2.25.212 3.276.549a1 1 0 1 1-.624 1.9c-.816-.268-1.708-.414-2.724-.45a1 1 0 0 1-.963-1.036Zm0 5a1 1 0 0 1 1.036-.963c1.167.041 2.25.212 3.276.549a1 1 0 1 1-.624 1.9c-.816-.268-1.708-.414-2.724-.45a1 1 0 0 1-.963-1.036Zm16 0A1 1 0 0 1 21.035 17c-1.016.037-1.908.183-2.724.451a1 1 0 1 1-.624-1.9c1.026-.337 2.109-.508 3.276-.55a1 1 0 0 1 1.035.964Z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28UserBackgroundOutline","user_background_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="user_background_outline_28"><path d="M6.707 3.293a1 1 0 0 1 0 1.414l-2 2a1 1 0 0 1-1.414-1.414l2-2a1 1 0 0 1 1.414 0ZM14 17.5c3.997 0 7.5 1.542 7.5 4.929 0 1.774-.69 2.571-2.147 2.571H8.647C7.19 25 6.5 24.203 6.5 22.429c0-3.387 3.503-4.929 7.5-4.929Zm0 2c-3.012 0-5.5 1.095-5.5 2.929 0 .28.017.462.03.56l.001.014.014-.001.019-.001h10.891l.013.002.002-.015c.013-.097.03-.28.03-.56 0-1.833-2.488-2.928-5.5-2.928Zm0-12a4.25 4.25 0 0 1 4.25 4.25A4.25 4.25 0 0 1 14 16a4.25 4.25 0 0 1-4.25-4.25A4.25 4.25 0 0 1 14 7.5Zm0 2a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 1 0 0-4.5Zm-1.293-4.793a1 1 0 0 0-1.414-1.414l-1.5 1.5a1 1 0 0 0 1.414 1.414l1.5-1.5Zm-4.5 4.5a1 1 0 0 0-1.414-1.414l-3.5 3.5a1 1 0 1 0 1.414 1.414l3.5-3.5Zm16.5 7.5-1.5 1.5a1 1 0 0 1-1.414-1.414l1.5-1.5a1 1 0 0 1 1.414 1.414Zm-6-12a1 1 0 0 0-1.414-1.414l-1 1a1 1 0 0 0 1.414 1.414l1-1Zm-10.5 10.5a1 1 0 1 0-1.414-1.414l-3.5 3.5a1 1 0 1 0 1.414 1.414l3.5-3.5Zm16.5-5.914a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414l3-3a1 1 0 0 1 1.414 0Zm-1-3.586a1 1 0 0 0-1.414-1.414l-3 3a1 1 0 0 0 1.414 1.414l3-3Z" /></symbol>',28,28,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon16Play","play_16","0 0 16 16",'<symbol fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" id="play_16"><path d="M13.024 7.13c.635.385.635 1.354 0 1.738l-6.612 3.997c-.63.38-1.412-.1-1.412-.868V4c0-.767.783-1.249 1.412-.868z" fill="currentColor" /></symbol>',16,16,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon20FireCircleFillRed","fire_circle_fill_red_20","0 0 20 20",'<symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="fire_circle_fill_red_20"><linearGradient id="fire_circle_fill_red_20_a" gradientUnits="userSpaceOnUse" x1="-10" x2="10" y1="10" y2="30"><stop offset="0" stop-color="#ff5263" /><stop offset="1" stop-color="#ff3347" /></linearGradient><path d="M0 10C0 4.477 4.477 0 10 0s10 4.477 10 10-4.477 10-10 10S0 15.523 0 10z" fill="url(#fire_circle_fill_red_20_a)" /><path d="M7.5 6.84a4.196 4.196 0 0 0 1.991-3.31 5 5 0 0 1 2.482 6.114 2.505 2.505 0 0 0 1.712-1.823A4.502 4.502 0 0 1 12 15.244a4.502 4.502 0 0 1-2.998-4.393A3.985 3.985 0 0 0 8 13.5c0 .485.086.95.245 1.38a4.252 4.252 0 0 1-1.07-7.84z" fill="#fff" /></symbol>',20,20,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon20ThumbsUpCircleFillGreen","thumbs_up_circle_fill_green_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="thumbs_up_circle_fill_green_20"><path fill="url(#thumbs_up_circle_fill_green_20_a)" fill-rule="evenodd" d="M10 20c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z" clip-rule="evenodd" /><path fill="#fff" fill-rule="evenodd" d="M8.506 8.074c-.006.053-.006.108-.006.216v4.51c0 .42 0 .63.082.79a.75.75 0 0 0 .327.328C9.07 14 9.28 14 9.7 14h3.05c.931 0 1.397 0 1.77-.136a2.25 2.25 0 0 0 1.344-1.345c.136-.372.136-.838.136-1.769s0-1.397-.136-1.77a2.25 2.25 0 0 0-1.345-1.344c-.372-.136-.838-.136-1.769-.136h-1l.163-2.288A1.132 1.132 0 0 0 10.784 4a1.132 1.132 0 0 0-1.06.734L8.603 7.728a2.075 2.075 0 0 0-.07.205 1 1 0 0 0-.026.14ZM4.6 7.875c-.101.174-.101.408-.101.875v4c0 .467 0 .701.1.875a.75.75 0 0 0 .275.275c.174.1.408.1.875.1s.701 0 .875-.1a.75.75 0 0 0 .275-.275c.1-.174.1-.408.1-.875v-4c0-.467 0-.701-.1-.875a.75.75 0 0 0-.275-.275c-.174-.1-.408-.1-.875-.1s-.701 0-.875.1a.75.75 0 0 0-.275.275Z" clip-rule="evenodd" /><defs><linearGradient id="thumbs_up_circle_fill_green_20_a" x1="-10" x2="10" y1="10" y2="30" gradientUnits="userSpaceOnUse"><stop stop-color="#50C750" /><stop offset="1" stop-color="#32B332" /></linearGradient></defs></symbol>',20,20,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon20StoryReplyCircleFillViolet","story_reply_circle_fill_violet_20","0 0 20 20",'<symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="story_reply_circle_fill_violet_20"><linearGradient id="story_reply_circle_fill_violet_20_a" gradientUnits="userSpaceOnUse" x1="-10" x2="10" y1="10" y2="30"><stop offset="0" stop-color="#c48aff" /><stop offset="1" stop-color="#aa65f0" /></linearGradient><path d="M0 10C0 4.477 4.477 0 10 0s10 4.477 10 10-4.477 10-10 10S0 15.523 0 10z" fill="url(#story_reply_circle_fill_violet_20_a)" /><path clip-rule="evenodd" d="M8.926 6.263a1 1 0 0 1 .061 1.413L7.773 9H10c1.965 0 3.71.946 4.803 2.403a1 1 0 0 1-1.6 1.2A3.993 3.993 0 0 0 10 11H7.773l1.214 1.324a1 1 0 1 1-1.474 1.352l-2.75-3a1 1 0 0 1 0-1.352l2.75-3a1 1 0 0 1 1.413-.061z" fill="#fff" fill-rule="evenodd" /></symbol>',20,20,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon20AchievementCircleFillBlue","achievement_circle_fill_blue_20","0 0 20 20",'<symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="achievement_circle_fill_blue_20"><linearGradient id="achievement_circle_fill_blue_20_a" gradientUnits="userSpaceOnUse" x1="-10" x2="10" y1="10" y2="30"><stop offset="0" stop-color="#70b2ff" /><stop offset="1" stop-color="#5c9ce6" /></linearGradient><path d="M0 10C0 4.477 4.477 0 10 0s10 4.477 10 10-4.477 10-10 10S0 15.523 0 10z" fill="url(#achievement_circle_fill_blue_20_a)" /><path clip-rule="evenodd" d="m9.191 11.695.46-.242a.75.75 0 0 1 .698 0l.46.242a.75.75 0 0 0 1.043-.38l.197-.48a.75.75 0 0 1 .534-.449l.508-.11a.75.75 0 0 0 .555-.961l-.158-.496a.75.75 0 0 1 .121-.687l.318-.411a.75.75 0 0 0-.193-1.093l-.44-.278a.75.75 0 0 1-.348-.604l-.02-.52a.75.75 0 0 0-.85-.713l-.516.07a.75.75 0 0 1-.655-.238l-.35-.385a.75.75 0 0 0-1.11 0l-.35.385a.75.75 0 0 1-.655.238l-.515-.07a.75.75 0 0 0-.85.713l-.021.52a.75.75 0 0 1-.349.604l-.44.278a.748.748 0 0 0-.192 1.093l.318.411a.75.75 0 0 1 .121.687l-.158.495a.75.75 0 0 0 .555.961l.508.111a.75.75 0 0 1 .534.449l.197.48a.75.75 0 0 0 1.043.38zm-1.825.83a2.101 2.101 0 0 0 1.174.582.15.15 0 0 1 .118.097l.545 1.498a.15.15 0 0 1 0 .102L8.7 16.183a.25.25 0 0 1-.436.062l-.656-.893c-.052-.07-.076-.092-.106-.112s-.062-.031-.098-.035a.391.391 0 0 0-.152.018l-1.077.262a.25.25 0 0 1-.294-.328l.96-2.636.069-.19a.15.15 0 0 1 .262-.038c.074.101.138.179.193.233zm5.73-.174 1.022 2.806a.25.25 0 0 1-.294.328l-1.077-.262a.39.39 0 0 0-.152-.018c-.036.004-.068.016-.098.035s-.054.042-.105.112l-.657.893a.25.25 0 0 1-.436-.062l-1.094-3.005a.15.15 0 0 1 .203-.188 2.101 2.101 0 0 0 2.422-.689.15.15 0 0 1 .262.037z" fill="#fff" fill-rule="evenodd" /></symbol>',20,20,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon20FavoriteCircleFillYellow","favorite_circle_fill_yellow_20","0 0 20 20",'<symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="favorite_circle_fill_yellow_20"><linearGradient id="favorite_circle_fill_yellow_20_a" gradientUnits="userSpaceOnUse" x1="-10" x2="10" y1="10" y2="30"><stop offset="0" stop-color="#ffb73d" /><stop offset="1" stop-color="#ffa000" /></linearGradient><path d="M0 10C0 4.477 4.477 0 10 0s10 4.477 10 10-4.477 10-10 10S0 15.523 0 10z" fill="url(#favorite_circle_fill_yellow_20_a)" /><path d="m11.805 7.566 2.39.235c.831.081 1.086.912.444 1.458l-1.87 1.591.694 2.592c.228.851-.48 1.366-1.189.854l-2.273-1.643-2.273 1.643c-.706.51-1.417-.003-1.188-.854l.694-2.592-1.87-1.59c-.646-.549-.392-1.377.443-1.46l2.39-.234 1.052-2.483c.33-.778 1.174-.777 1.504 0z" fill="#fff" /></symbol>',20,20,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon20ViewCircleFillRed","view_circle_fill_red_20","0 0 20 20",'<symbol fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" id="view_circle_fill_red_20"><linearGradient id="view_circle_fill_red_20_a" gradientUnits="userSpaceOnUse" x1="-10" x2="10" y1="10" y2="30"><stop offset="0" stop-color="#ff5263" /><stop offset="1" stop-color="#ff3347" /></linearGradient><path d="M0 10C0 4.477 4.477 0 10 0s10 4.477 10 10-4.477 10-10 10S0 15.523 0 10z" fill="url(#view_circle_fill_red_20_a)" /><path d="M10 6c-2.75 0-5 1.65-6 4 1 2.35 3.25 4 6 4s5-1.65 6-4c-1-2.35-3.25-4-6-4zm0 6.75a2.751 2.751 0 0 1 0-5.5 2.751 2.751 0 0 1 0 5.5zm0-4.25c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z" fill="#fff" /></symbol>',20,20,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon56CakeCircleFillPurple","cake_circle_fill_purple_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="cake_circle_fill_purple_56"><circle cx="28" cy="28" r="28" fill="url(#cake_circle_fill_purple_56_a)" /><path fill="#fff" fill-rule="evenodd" d="M35.186 16.108a.213.213 0 0 0-.371 0c-.32.582-.632 1.023-.905 1.408-.528.743-.91 1.282-.91 2.238a2 2 0 1 0 4 0c0-.957-.382-1.495-.91-2.238-.273-.385-.586-.826-.904-1.408ZM16 26.754a2 2 0 0 1 2-2h20a2 2 0 0 1 2 2c0 1.958-.852 3.064-2 3.596l-.04.018c-.435.196-.911.31-1.4.359a5.699 5.699 0 0 1-.56.027c-2.991 0-3.994-1.988-4-2-.005.009-.475.94-1.727 1.529a4.642 4.642 0 0 1-.696.26c-.31.09-.655.156-1.038.189a6.336 6.336 0 0 1-.539.022c-2.991 0-3.994-1.988-4-2-.005.01-.487.965-1.776 1.551a4.652 4.652 0 0 1-.647.239c-.31.089-.655.155-1.038.188a6.336 6.336 0 0 1-.539.022c-2 0-4-1-4-4Zm22 6.761a8.3 8.3 0 0 1-2 .239c-1.64 0-2.967-.413-4-.987-1.032.574-2.36.987-4 .987-1.64 0-2.967-.413-4-.987-1.032.574-2.36.987-4 .987a8.298 8.298 0 0 1-2-.239v1.414c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874c.428.218.988.218 2.108.218h13.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874c.218-.428.218-.988.218-2.108v-1.414ZM20.814 16.108a.213.213 0 0 1 .372 0c.318.582.63 1.023.904 1.408.528.743.91 1.282.91 2.238a2 2 0 1 1-4 0c0-.957.382-1.495.91-2.238.273-.385.586-.826.904-1.408Zm7.372 0a.213.213 0 0 0-.372 0c-.318.582-.63 1.023-.904 1.408-.528.743-.91 1.282-.91 2.238a2 2 0 0 0 4 0c0-.957-.382-1.495-.91-2.238-.273-.385-.586-.826-.904-1.408Z" clip-rule="evenodd" /><defs><linearGradient id="cake_circle_fill_purple_56_a" x1="-28" x2="28" y1="28" y2="84" gradientUnits="userSpaceOnUse"><stop stop-color="#937FF5" /><stop offset="1" stop-color="#735CE6" /></linearGradient></defs></symbol>',56,56,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon56PaletteOutline","palette_outline_56","0 0 56 56",'<symbol fill="none" viewBox="0 0 56 56" xmlns="http://www.w3.org/2000/svg" id="palette_outline_56"><g fill="currentColor"><path d="M18 27a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM44 27a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM25 17a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM37 17a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" /><path clip-rule="evenodd" d="M4 28C4 14.766 14.766 4 28 4c12.76 0 24 9.176 24 21.451C52 33.12 45.78 39 38.195 39h-4.511C32.298 39 31 40.332 31 42c0 .74.214 1.375.612 1.822l.023.026.023.027.03.033C31.993 44.264 33 45.431 33 47c0 2.828-2.172 5-5 5C14.766 52 4 41.234 4 28zM28 7C16.423 7 7 16.423 7 28s9.423 21 21 21c1.172 0 2-.828 2-2 0-.159-.055-.352-.185-.582s-.29-.421-.435-.59l-.003-.005-.004-.005C28.375 44.698 28 43.292 28 42c0-3.036 2.366-6 5.684-6h4.511C44.206 36 49 31.38 49 25.451 49 15.207 39.504 7 28 7z" fill-rule="evenodd" /></g></symbol>',56,56,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon56ErrorTriangleOutline","error_triangle_outline_56","0 0 56 56",'<symbol fill="none" viewBox="0 0 56 56" xmlns="http://www.w3.org/2000/svg" id="error_triangle_outline_56"><g fill="currentColor"><path clip-rule="evenodd" d="M30.598 8.5 48.785 40c1.154 2-.29 4.5-2.598 4.5H9.812c-2.309 0-3.752-2.5-2.598-4.5L25.402 8.5c1.155-2 4.041-2 5.196 0zM22.804 7c2.31-4 8.083-4 10.392 0l18.187 31.5c2.31 4-.578 9-5.197 9H9.814c-4.618 0-7.505-5-5.196-9z" fill-rule="evenodd" /><path d="M30 36a2 2 0 1 0-4 0 2 2 0 0 0 4 0zM29.5 18a1.5 1.5 0 0 0-2.993-.145L26.5 18v11a1.5 1.5 0 0 0 2.993.145L29.5 29z" /></g></symbol>',56,56,!1,void 0)},function(e,t,n){"use strict";var r=n(19);t.a=Object(r.a)("Icon28ScanViewfinderOutline","scan_viewfinder_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="scan_viewfinder_outline_28"><path fill="currentColor" d="M25 20a1 1 0 1 0-2 0c0 1.068-.073 1.603-.282 1.994-.169.314-.41.555-.724.724-.335.179-.663.258-1.422.277H20a1 1 0 1 0 0 2c1.37 0 2.217-.129 2.937-.514a3.726 3.726 0 0 0 1.544-1.544c.385-.72.519-1.567.519-2.937ZM5.005 20a1 1 0 1 0-2 0c0 1.37.129 2.217.514 2.937.354.663.88 1.19 1.544 1.544C5.783 24.866 6.63 25 8 25a1 1 0 1 0 0-2c-1.068 0-1.603-.073-1.994-.282a1.727 1.727 0 0 1-.724-.724c-.179-.335-.258-.663-.277-1.422V20ZM9 4a1 1 0 0 0-1-1c-1.37 0-2.217.134-2.937.519A3.725 3.725 0 0 0 3.52 5.063C3.134 5.783 3 6.63 3 8a1 1 0 1 0 2 0c0-1.068.073-1.603.282-1.994.169-.314.41-.555.724-.724.335-.179.663-.258 1.422-.277L8 5a1 1 0 0 0 1-1Zm13.937-.481C22.217 3.134 21.37 3 20 3a1 1 0 1 0 0 2c1.068 0 1.603.073 1.994.282.314.169.555.41.724.724.179.335.258.663.277 1.422L23 8a1 1 0 1 0 2 0c0-1.37-.134-2.217-.519-2.937a3.725 3.725 0 0 0-1.544-1.544Zm-1.944 12.364A1 1 0 0 0 19 16v1.436l-.001.17c-.007.529-.048.712-.148.9a.819.819 0 0 1-.346.345c-.187.1-.37.141-.9.148L10.565 19l-.17-.001c-.529-.007-.712-.048-.9-.148a.818.818 0 0 1-.345-.346l-.031-.062c-.078-.17-.111-.367-.117-.837L9 16l-.007-.117A1 1 0 0 0 7 16v1.436l.002.232c.016.818.121 1.29.383 1.78.268.5.666.9 1.167 1.167.535.286 1.048.385 2.012.385h6.872l.232-.002c.818-.016 1.29-.121 1.78-.383a2.817 2.817 0 0 0 1.167-1.167c.286-.535.385-1.048.385-2.012V16l-.007-.117Z" /><path fill="currentColor" fill-rule="evenodd" d="M19.448 7.385C18.913 7.1 18.4 7 17.436 7h-6.872l-.232.002c-.818.016-1.29.121-1.78.383a2.817 2.817 0 0 0-1.167 1.167l-.067.133C7.083 9.175 7 9.68 7 10.564V11H5a1 1 0 1 0 0 2h18a1 1 0 1 0 0-2h-2v-.436l-.002-.232c-.016-.818-.121-1.29-.383-1.78a2.817 2.817 0 0 0-1.167-1.167Zm-9.054 1.616h7.212c.529.007.712.048.9.148a.818.818 0 0 1 .345.346l.031.062c.078.17.111.367.117.837V11H9l.001-.606c.007-.529.048-.712.148-.9a.818.818 0 0 1 .346-.345c.187-.1.37-.141.9-.148Z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)}]]);
//# sourceMappingURL=2.d3dca8df.chunk.js.map