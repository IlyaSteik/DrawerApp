(window.webpackJsonpminiapp=window.webpackJsonpminiapp||[]).push([[0],{109:function(e,t,a){},200:function(e,t,a){e.exports=a(353)},291:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){},312:function(e,t,a){},313:function(e,t,a){e.exports=a.p+"static/media/bp-background-3.cd124dfb.svg"},314:function(e,t,a){e.exports=a.p+"static/media/bp-background-2.3c862ec7.svg"},315:function(e,t,a){e.exports=a.p+"static/media/bp.cdd6efdf.svg"},316:function(e,t,a){var n={"./1.svg":317,"./2.svg":318,"./3.svg":319,"./4.svg":320,"./5.svg":321};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=316},317:function(e,t,a){e.exports=a.p+"static/media/1.3c392fb2.svg"},318:function(e,t,a){e.exports=a.p+"static/media/2.22d9f180.svg"},319:function(e,t,a){e.exports=a.p+"static/media/3.177f101d.svg"},320:function(e,t,a){e.exports=a.p+"static/media/4.a480770f.svg"},321:function(e,t,a){e.exports=a.p+"static/media/5.9ef839c8.svg"},322:function(e,t,a){e.exports=a.p+"static/media/global_canvas.4ccccc04.png"},323:function(e,t,a){e.exports=a.p+"static/media/Story1.c1713922.png"},324:function(e,t,a){e.exports=a.p+"static/media/Story2.28d56ba9.png"},351:function(e,t,a){e.exports=a.p+"static/media/gifts_panel.d87a6156.png"},352:function(e,t,a){var n={"./Desktop.css":[354,3],"./Global.css":[109],"./Mobile.css":[355,4]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a.t(r,7)}))}r.keys=function(){return Object.keys(n)},r.id=352,e.exports=r},353:function(e,t,a){"use strict";a.r(t);a(201),a(227),a(229),a(230),a(232),a(233),a(234),a(235),a(236),a(237),a(238),a(239),a(241),a(242),a(243),a(244),a(245),a(246),a(247),a(248),a(249),a(250),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(259),a(260),a(261),a(262),a(263),a(264),a(265),a(266),a(267),a(268),a(269);var n=a(10),r=a(11),o=a(13),s=a(12),c=a(14),i=a(0),l=a.n(i),u=a(63),p=a.n(u),m=(a(277),a(278),a(2)),d=(a(291),a(292),a(293),a(8)),f=a.n(d),h=a(19),v=a(1),b=a.n(v),g=a(3),k=a(9),E=a(21),y=(a(109),a(49)),w=a.n(y),_=a(67),C=a(29);a(83);var x=["SF Pro Text","SF Pro Text Heavy","SF Pro Text Semibold","SF Pro Display","SF Pro Display Bold","SF Pro Display Semibold","SF Pro Display Medium","SF Pro Rounded","SF Pro Rounded Semibold","SF Pro Rounded Bold","SF UI Display","SF UI Text","TT Commons","TT Commons Bold","TT Commons Demibold","Manrope ExtraBold"];function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=!0,a=!1,n=void 0;try{for(var r,o=function(){var e=r.value,t=document.createElement("span");t.style.position="fixed",t.style.fontFamily=e,t.style.opacity="0",t.innerText="test",document.body.appendChild(t),t.onload=function(){return t.remove()}},s=e[Symbol.iterator]();!(t=(r=s.next()).done);t=!0)o()}catch(c){a=!0,n=c}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}}function O(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function S(e,t,a){return"#"+O(e)+O(t)+O(a)}function j(e){return new Promise((function(t){return setTimeout(t,e)}))}function P(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("object"!==typeof t)return"".concat(e," ").concat(t);if(void 0!==e){var n=[];return n[e]||(n[e]=e%100>4&&e%100<20?2:[2,0,1,1,1,2][Math.min(e%10,5)]),(a?e+" ":"")+t[n[e]]}}function A(e){try{return e.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}catch(t){return 0}}function I(e){var t=A(e).split(" ");return t[0]+new Array(t.length-1).fill("\u041a").join("")}function F(e,t){return Math.floor(Math.random()*(t-e+1))+e}function D(e){var t,a,n,r,o,s;return s=parseInt(Math.floor(e/1e3)),o=parseInt(Math.floor(s/60)),r=parseInt(Math.floor(o/60)),n=parseInt(s%60),a=parseInt(o%60),{hours:t=parseInt(r%24),minutes:a,seconds:n,str:{hours:t.toLocaleString("ru",{minimumIntegerDigits:2}),minutes:a.toLocaleString("ru",{minimumIntegerDigits:2}),seconds:n.toLocaleString("ru",{minimumIntegerDigits:2})}}}function N(){var e=window.location.search.length>0&&JSON.parse('{"'+decodeURI(window.location.search.substring(1)).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}');return e&&e.vk_chat_id&&(e.vk_chat_id=decodeURIComponent(e.vk_chat_id)),e}function T(){return"mobile_iphone"===N().vk_platform}function W(){return"desktop_web"===N().vk_platform}function M(e){var t=document.createElement("a");t.href=e,t.target="_blank",t.click(),t.remove()}function B(e){return window.location.origin.includes("localhost")?e:(7985972===parseInt(N().vk_app_id)?W()?"https://ilyasteik.github.io/DrawerApp/auto/":"https://ilyasteik.github.io/DrawerApp/auto":window.location.origin+window.location.pathname.replace("/index.html",""))+e.substring(1)}function U(e){return R.apply(this,arguments)}function R(){return(R=Object(g.a)(b.a.mark((function e(t){var a,n,r,o,s=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(s.length>1&&void 0!==s[1])||s[1],n=document.createElement("canvas"),r=n.getContext("2d"),(o=new Image).src=(a?"https://vds2153919.my-ihor.ru:8088/":"")+t,o.crossOrigin="Anonymous",e.next=6,new Promise((function(e){return o.onload=function(){n.width=this.width,n.height=this.height,r.drawImage(o,0,0,this.width,this.height),e(n.toDataURL("image/png"))}}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return z.apply(this,arguments)}function z(){return(z=Object(g.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=document.createElement("img")).crossOrigin="anonymous",a.src=t,e.next=5,new Promise((function(e){return a.onload=function(){return e()}}));case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t){return K.apply(this,arguments)}function K(){return(K=Object(g.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(g.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target||window.event.srcElement,n=a.files,!(FileReader&&n&&n.length)){e.next=7;break}return e.next=4,new Promise(function(){var e=Object(g.a)(b.a.mark((function e(t){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n[0],(r=new FileReader).onload=Object(g.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.type.includes("image")?((n=new Image).src=r.result,n.onload=Object(g.a)(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(C.createCanvas)(n.width,n.height),a.getContext("2d").drawImage(n,0,0,n.width,n.height),t({image:n,data:a.toDataURL("image/png")});case 3:case"end":return e.stop()}}),e)})))):console.error("File type not image");case 1:case"end":return e.stop()}}),e)}))),e.next=4,r.readAsDataURL(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",e.sent);case 7:console.error("UNKNOWN ERROR");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=parseInt(e.substring(1),16),a=t>>16&255,n=t>>8&255,r=t>>0&255;return{r:a,g:n,b:r,arr:[a,n,r]}}function X(){var e=Z(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"");return.2126*e.r+.7152*e.g+.0722*e.b<50}function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q={};function Q(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(g.a)(b.a.mark((function e(t){var a,n,r,o,s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=Object(k.a)(new Set(t.filter((function(e){return void 0===q[e]&&void 0!==e&&0!==e})).map((function(e){return"number"===typeof e?e:e.replace("@","").replace("id","").replace("vk.com/","").replace("http://","").replace("https://","")}))))).length>0)){e.next=11;break}n=[],r=b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne("users.getVKd",{user_ids:a.slice(100*t,100*t+100).join(","),d:"t"});case 2:if(null!==(r=e.sent.response)){e.next=7;break}return e.next=6,new Promise((function(e){var n,r=0,o=!1;n=setInterval(Object(g.a)(b.a.mark((function s(){var c;return b.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(o){s.next=8;break}return o=!0,r++,s.next=5,ne("users.getVKd",{user_ids:a.slice(100*t,100*t+100).join(","),d:"t"});case 5:null!==(c=s.sent.response)?(e(c),clearInterval(n)):r>=10&&(e([]),clearInterval(n)),o=!1;case 8:case"end":return s.stop()}}),s)}))),400)}));case 6:r=e.sent;case 7:n=n.concat(r);case 8:case"end":return e.stop()}}),e)})),o=0;case 5:if(!(o<Math.floor(a.length/100)+1)){e.next=10;break}return e.delegateYield(r(o),"t0",7);case 7:o++,e.next=5;break;case 10:for(s=0;s<n.length;s++)c=n[s],q[c.id]=c;case 11:return e.abrupt("return",t.map((function(e){return q[e]||q[Object.keys(q).find((function(t){return q[t].screen_name===e}))]})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(g.a)(b.a.mark((function e(t){var a,n,r,o,s,c=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:{},n=0,r=$({},N(),{},a),o="?"+Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&"),s="https://draw.avocado.special.vk-apps.com/api/".concat(t).concat(o),e.next=5,new Promise((function(e,t){var a,r=!1;a=setInterval((function(){r||(r=!0,fetch(s,{method:"GET"}).then((function(e){return e.json()})).then((function(t){clearInterval(a),r=!1,e(t)})).catch((function(t){++n>=5&&(e({error:null}),clearInterval(a)),r=!1})))}),400)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=a(414),se=a(415),ce=a(416),ie=a(417),le=a(418),ue=a(419),pe=a(420),me=a(421),de=a(422),fe=a(423),he=a(424),ve=a(425),be=a(426),ge=a(360);function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ee(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ye=l.a.createElement("g",{clipPath:"url(#clip0_858_3679)"},l.a.createElement("path",{d:"M0 24.6154C0 11.0207 11.0207 0 24.6154 0H71.3846C84.9793 0 96 11.0207 96 24.6154V71.3846C96 84.9793 84.9793 96 71.3846 96H24.6154C11.0207 96 0 84.9793 0 71.3846V24.6154Z",fill:"#FF5277"}),l.a.createElement("path",{d:"M28.3181 68.045L26.2154 71.1991L29.9735 71.6954C32.6907 72.0543 37.0877 72.075 41.7379 71.0403C46.3888 70.0054 51.4965 67.8676 55.3771 63.7366C60.5026 58.2804 62.0551 52.8666 60.7191 47.6924C60.2733 45.966 60.5575 44.5507 61.3039 43.7662L122.862 -20.9368C123.412 -21.5146 124.023 -22.3537 124.337 -23.3354C124.662 -24.3505 124.758 -25.9407 123.499 -27.2004C122.239 -28.4601 120.649 -28.3636 119.634 -28.0388C118.652 -27.7247 117.813 -27.1137 117.235 -26.564L53.3187 34.243C52.3591 35.1558 50.4825 35.3173 47.9766 34.6943C43.753 33.6441 39.2764 34.9713 36.054 37.5731C32.8031 40.1977 30.5646 44.3474 31.2873 49.1174C31.9764 53.6651 32.207 56.8582 31.8061 59.6644C31.4153 62.4 30.3994 64.923 28.3181 68.045Z",fill:"white",stroke:"white",strokeWidth:4.72217})),we=l.a.createElement("defs",null,l.a.createElement("clipPath",{id:"clip0_858_3679"},l.a.createElement("path",{d:"M0 24.6154C0 11.0207 11.0207 0 24.6154 0H71.3846C84.9793 0 96 11.0207 96 24.6154V71.3846C96 84.9793 84.9793 96 71.3846 96H24.6154C11.0207 96 0 84.9793 0 71.3846V24.6154Z",fill:"white"}))),_e=function(e){var t=e.svgRef,a=e.title,n=Ee(e,["svgRef","title"]);return l.a.createElement("svg",ke({width:96,height:96,viewBox:"0 0 96 96",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,ye,we)},Ce=l.a.forwardRef((function(e,t){return l.a.createElement(_e,ke({svgRef:t},e))}));a.p;function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Le(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Oe=l.a.createElement("rect",{width:96,height:96,rx:24.6154,fill:"#FF5277"}),Se=l.a.createElement("path",{d:"M25.708 25.6877L24.7077 24.1872L26.4955 23.9511C27.7882 23.7804 29.88 23.7705 32.0923 24.2628C34.3048 24.7551 36.7347 25.7721 38.5809 27.7374C41.0193 30.3331 41.7578 32.9086 41.1222 35.3702C40.9102 36.1915 41.0454 36.8648 41.4005 37.238L70.6858 68.0194C70.9474 68.2943 71.2381 68.6935 71.3875 69.1605C71.542 69.6435 71.5879 70.4 70.9886 70.9992C70.3894 71.5985 69.6329 71.5526 69.1499 71.3981C68.6829 71.2487 68.2837 70.958 68.0088 70.6965L37.6016 41.7685C37.1451 41.3342 36.2523 41.2574 35.0602 41.5538C33.0509 42.0534 30.9213 41.422 29.3882 40.1843C27.8417 38.9357 26.7767 36.9615 27.1205 34.6922C27.4484 32.5287 27.5581 31.0097 27.3674 29.6747C27.1814 28.3733 26.6981 27.173 25.708 25.6877Z",fill:"#E2E2E2",stroke:"#E2E2E2",strokeWidth:2.2465}),je=l.a.createElement("path",{d:"M70.3452 25.6877L71.3456 24.1872L69.5577 23.9511C68.265 23.7804 66.1732 23.7705 63.961 24.2628C61.7484 24.7551 59.3185 25.7721 57.4723 27.7374C55.034 30.3331 54.2954 32.9086 54.931 35.3702C55.1431 36.1915 55.0078 36.8648 54.6528 37.238L25.3674 68.0194C25.1059 68.2943 24.8152 68.6935 24.6657 69.1605C24.5112 69.6435 24.4653 70.4 25.0646 70.9992C25.6639 71.5985 26.4204 71.5526 26.9033 71.3981C27.3703 71.2487 27.7695 70.958 28.0444 70.6965L58.4516 41.7685C58.9081 41.3342 59.8009 41.2574 60.993 41.5538C63.0023 42.0534 65.132 41.422 66.665 40.1843C68.2115 38.9357 69.2765 36.9615 68.9327 34.6922C68.6049 32.5287 68.4951 31.0097 68.6859 29.6747C68.8718 28.3733 69.3551 27.173 70.3452 25.6877Z",fill:"white",stroke:"white",strokeWidth:2.2465}),Pe=function(e){var t=e.svgRef,a=e.title,n=Le(e,["svgRef","title"]);return l.a.createElement("svg",xe({width:96,height:96,viewBox:"0 0 96 96",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,Oe,Se,je)},Ae=l.a.forwardRef((function(e,t){return l.a.createElement(Pe,xe({svgRef:t},e))}));a.p;function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Fe(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var De=l.a.createElement("g",{clipPath:"url(#clip0_859_3936)"},l.a.createElement("path",{d:"M0 24.6154C0 11.0207 11.0207 0 24.6154 0H71.3846C84.9793 0 96 11.0207 96 24.6154V71.3846C96 84.9793 84.9793 96 71.3846 96H24.6154C11.0207 96 0 84.9793 0 71.3846V24.6154Z",fill:"#4E5051"}),l.a.createElement("path",{d:"M28.3181 68.045L26.2154 71.1991L29.9735 71.6954C32.6907 72.0543 37.0877 72.075 41.7379 71.0403C46.3888 70.0054 51.4965 67.8676 55.3771 63.7366C60.5026 58.2804 62.0551 52.8666 60.7191 47.6924C60.2733 45.966 60.5575 44.5507 61.3039 43.7662L122.862 -20.9368C123.412 -21.5146 124.023 -22.3537 124.337 -23.3354C124.662 -24.3505 124.758 -25.9407 123.499 -27.2004C122.239 -28.4601 120.649 -28.3636 119.634 -28.0388C118.652 -27.7247 117.813 -27.1137 117.235 -26.564L53.3187 34.243C52.3591 35.1558 50.4825 35.3173 47.9766 34.6943C43.753 33.6441 39.2764 34.9713 36.054 37.5731C32.8031 40.1977 30.5646 44.3474 31.2873 49.1174C31.9764 53.6651 32.207 56.8582 31.8061 59.6644C31.4153 62.4 30.3994 64.923 28.3181 68.045Z",fill:"white",stroke:"white",strokeWidth:4.72217})),Ne=l.a.createElement("defs",null,l.a.createElement("clipPath",{id:"clip0_859_3936"},l.a.createElement("path",{d:"M0 24.6154C0 11.0207 11.0207 0 24.6154 0H71.3846C84.9793 0 96 11.0207 96 24.6154V71.3846C96 84.9793 84.9793 96 71.3846 96H24.6154C11.0207 96 0 84.9793 0 71.3846V24.6154Z",fill:"white"}))),Te=function(e){var t=e.svgRef,a=e.title,n=Fe(e,["svgRef","title"]);return l.a.createElement("svg",Ie({width:96,height:96,viewBox:"0 0 96 96",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,De,Ne)},We=l.a.forwardRef((function(e,t){return l.a.createElement(Te,Ie({svgRef:t},e))}));a.p;function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Be(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ue=l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48 96C74.5097 96 96 74.5097 96 48C96 21.4903 74.5097 0 48 0C21.4903 0 0 21.4903 0 48C0 74.5097 21.4903 96 48 96ZM47.662 60.169C54.5694 60.169 60.169 54.5694 60.169 47.662C60.169 40.7545 54.5694 35.1549 47.662 35.1549C40.7545 35.1549 35.1549 40.7545 35.1549 47.662C35.1549 54.5694 40.7545 60.169 47.662 60.169Z",fill:"#FF66AC"}),Re=l.a.createElement("rect",{x:18.9297,y:18.7441,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-6.94641 18.9297 18.7441)",fill:"#BEDBFB"}),Ge=l.a.createElement("rect",{x:83.8311,y:49.8428,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-6.94641 83.8311 49.8428)",fill:"#BEDBFB"}),ze=l.a.createElement("rect",{x:41.4331,y:78.4224,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(57.5878 41.4331 78.4224)",fill:"#BEDBFB"}),Ve=l.a.createElement("rect",{x:33.3269,y:62.873,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(22.9881 33.3269 62.873)",fill:"#FFFEFF"}),Ke=l.a.createElement("rect",{x:29.564,y:41.9155,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(62.1939 29.564 41.9155)",fill:"#FFFEFF"}),He=l.a.createElement("rect",{x:71.4856,y:43.2856,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(23.3091 71.4856 43.2856)",fill:"#FFFEFF"}),Ye=l.a.createElement("rect",{x:48.676,y:10.3862,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-34.0862 48.676 10.3862)",fill:"#FFFEFF"}),Ze=l.a.createElement("rect",{x:36.8477,y:20.8916,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-94.8165 36.8477 20.8916)",fill:"#FDDD64"}),Xe=l.a.createElement("rect",{x:15.5493,y:33.4668,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-14.5043 15.5493 33.4668)",fill:"#FDDD64"}),Je=l.a.createElement("rect",{x:14.8733,y:68.1821,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-77.2958 14.8733 68.1821)",fill:"#FDDD64"}),$e=l.a.createElement("rect",{x:66.9297,y:68.2461,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-55.544 66.9297 68.2461)",fill:"#FDDD64"}),qe=l.a.createElement("rect",{x:71.6018,y:33.5327,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-98.7318 71.6018 33.5327)",fill:"#FDDD64"}),Qe=l.a.createElement("rect",{x:64.0173,y:21.5381,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-106.38 64.0173 21.5381)",fill:"#FD0C7D"}),et=l.a.createElement("rect",{x:10.2402,y:59.1685,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-149.075 10.2402 59.1685)",fill:"#FD0C7D"}),tt=l.a.createElement("rect",{x:56.2144,y:71.3013,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(132.748 56.2144 71.3013)",fill:"#FD0C7D"}),at=l.a.createElement("rect",{x:63.7732,y:82.1592,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-152.683 63.7732 82.1592)",fill:"#928BFB"}),nt=l.a.createElement("rect",{x:29.0703,y:31.5825,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-72.2881 29.0703 31.5825)",fill:"#928BFB"}),rt=function(e){var t=e.svgRef,a=e.title,n=Be(e,["svgRef","title"]);return l.a.createElement("svg",Me({width:96,height:96,viewBox:"0 0 96 96",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,Ue,Re,Ge,ze,Ve,Ke,He,Ye,Ze,Xe,Je,$e,qe,Qe,et,tt,at,nt)},ot=l.a.forwardRef((function(e,t){return l.a.createElement(rt,Me({svgRef:t},e))}));a.p;function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ct(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var it=l.a.createElement("rect",{width:96,height:96,rx:24.6153846,fill:"#FF5277"}),lt=l.a.createElement("path",{d:"M69.4961 32.3131C67.7658 30.5828 64.9603 30.5828 63.23 32.3131L41.5507 53.9924L33.1638 45.6054C31.4335 43.8751 28.628 43.8751 26.8977 45.6054C25.1674 47.3358 25.1674 50.1412 26.8977 51.8715L38.4177 63.3915C40.148 65.1218 42.9534 65.1218 44.6838 63.3915L69.4961 38.5792C71.2264 36.8489 71.2264 34.0434 69.4961 32.3131Z",fill:"white"}),ut=function(e){var t=e.svgRef,a=e.title,n=ct(e,["svgRef","title"]);return l.a.createElement("svg",st({width:96,height:96,viewBox:"0 0 96 96",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,it,lt)},pt=l.a.forwardRef((function(e,t){return l.a.createElement(ut,st({svgRef:t},e))}));a.p;function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function dt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ft=l.a.createElement("rect",{width:96,height:96,rx:24.6154,fill:"#4E5051"}),ht=l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48.6248 27.1505C48.0348 27.0664 47.473 27.0664 46.8829 27.1505C46.3584 27.2254 45.9121 27.3391 45.0122 27.633L33.1831 31.5751C31.8046 32.0346 30.8748 33.3247 30.8748 34.7777V50.4403C30.8748 58.7152 35.9509 65.0047 45.773 69.1798C47.0388 69.7179 48.469 69.7179 49.7348 69.1798L50.3564 68.9099C59.7745 64.7324 64.633 58.5328 64.633 50.4403V34.7777C64.633 33.3247 63.7032 32.0346 62.3247 31.5751L50.813 27.7379C49.6938 27.3648 49.2076 27.2337 48.6248 27.1505ZM47.3598 30.4925C47.6335 30.4535 47.8742 30.4535 48.148 30.4925L48.3532 30.5274C48.6019 30.577 48.9041 30.6636 49.4809 30.8529L61.2572 34.7777V50.4403C61.2572 57.0667 57.275 62.1481 48.9997 65.8188L48.4022 66.0782C47.9923 66.2524 47.5155 66.2524 47.0936 66.073C38.4215 62.3868 34.2506 57.2188 34.2506 50.4403V34.7777L45.7622 30.9405C46.7047 30.6263 47.0224 30.5407 47.3598 30.4925ZM43.0397 41.1447C42.3805 40.4856 41.3118 40.4856 40.6527 41.1447C39.9935 41.8039 39.9935 42.8726 40.6527 43.5318L45.3668 48.246L40.6527 52.9601C39.9935 53.6193 39.9935 54.688 40.6527 55.3472C41.3118 56.0064 42.3805 56.0064 43.0397 55.3472L47.7539 50.633L52.468 55.3472C53.1272 56.0064 54.1959 56.0064 54.8551 55.3472C55.5143 54.688 55.5143 53.6193 54.8551 52.9601L50.1409 48.246L54.8551 43.5318C55.5143 42.8726 55.5143 41.8039 54.8551 41.1447C54.1959 40.4856 53.1272 40.4856 52.468 41.1447L47.7539 45.8589L43.0397 41.1447Z",fill:"white"}),vt=function(e){var t=e.svgRef,a=e.title,n=dt(e,["svgRef","title"]);return l.a.createElement("svg",mt({width:96,height:96,viewBox:"0 0 96 96",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,ft,ht)},bt=l.a.forwardRef((function(e,t){return l.a.createElement(vt,mt({svgRef:t},e))}));a.p;function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function kt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Et=l.a.createElement("rect",{y:.5,width:20,height:20,rx:10,fill:"#474747"}),yt=l.a.createElement("path",{d:"M6.14298 12.5226C4.74046 12.3375 4.91785 13.193 5.18186 13.6439C5.21637 13.7062 5.37764 13.9198 5.55563 14.0977C5.73361 14.2757 6.14298 14.5249 7.26428 14.9966C8.38558 15.4682 9.88066 15.2813 10.0764 15.2368C10.2722 15.1923 12.9509 14.6495 14.2858 12.2823C15.3537 10.3885 14.9918 8.09965 14.6773 7.19193C14.2235 5.97273 13.1378 6.69357 13.1556 6.89826C13.1734 7.10294 12.9865 7.85937 12.8352 8.31323C12.6839 8.76709 12.7462 8.91838 11.5804 10.369C10.4146 11.8195 7.89613 12.7539 6.14298 12.5226Z",fill:"url(#paint0_linear_1078_7766)"}),wt=l.a.createElement("defs",null,l.a.createElement("linearGradient",{id:"paint0_linear_1078_7766",x1:0,y1:10.9054,x2:8.74064,y2:20.8258,gradientUnits:"userSpaceOnUse"},l.a.createElement("stop",{stopColor:"#FFB73D"}),l.a.createElement("stop",{offset:1,stopColor:"#FFA000"}))),_t=function(e){var t=e.svgRef,a=e.title,n=kt(e,["svgRef","title"]);return l.a.createElement("svg",gt({width:20,height:21,viewBox:"0 0 20 21",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,Et,yt,wt)},Ct=l.a.forwardRef((function(e,t){return l.a.createElement(_t,gt({svgRef:t},e))})),xt=(a.p,a(368)),Lt=a(369),Ot=a(370),St=a(371),jt=a(372),Pt=a(373),At=a(374),It=a(375),Ft=a(376),Dt=a(367),Nt=a(361),Tt=(a(312),function(e){function t(e){var a;Object(n.a)(this,t),a=Object(o.a)(this,Object(s.a)(t).call(this,e));for(var r=[],c=1;c<=100;c++)100===c?r.push("\u041a\u0440\u0438\u043f\u0442\u043e"):c%25===0?r.push("\u041b\u0435\u0433\u0435\u043d\u0434\u0430\u0440\u043d\u044b\u0439 \u043a\u0435\u0439\u0441"):c%15===0?r.push("\u0421\u043a\u0438\u043d"):c%4===0?r.push("\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043a\u0435\u0439\u0441"):r.push("\u041e\u0431\u044b\u0447\u043d\u044b\u0439 \u043a\u0435\u0439\u0441");return a.state={bp_items:r},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{onClick:this.props.onClick,className:"BattlePassCard",style:{background:"url(".concat(this.props.user.bp&&this.props.user.bpLvl>=100?a(313):this.props.user.bp?a(314):"","), var(--card_background)"),backgroundRepeat:"no-repeat",backgroundPositionX:-19,backgroundPositionY:-43.41}},l.a.createElement("img",{className:"BattlePassCard_Icon",src:a(315),alt:"bp",width:42,height:38.25}),l.a.createElement("div",{className:"BattlePassCard_Info"},l.a.createElement("div",null,"\u0411\u043e\u0435\u0432\u043e\u0439 \u043f\u0440\u043e\u043f\u0443\u0441\u043a"),l.a.createElement("div",null,this.props.user.bp?this.props.user.bpLvl>=100?"\u0412\u0441\u0435 \u043d\u0430\u0433\u0440\u0430\u0434\u044b \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b!":l.a.createElement("span",null,"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043d\u0430\u0433\u0440\u0430\u0434\u0430: ",l.a.createElement("span",{style:{color:"#FFFFFF"}},this.state.bp_items[this.props.user.bpLvl])):"\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442")))}}]),t}(i.PureComponent));Tt.defaultProps={user:{bp:!1},onClick:function(){}};var Wt=a(364),Mt=a(365),Bt=a(366);function Ut(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Rt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ut(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ut(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Gt={1:l.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("circle",{cx:"24",cy:"24",r:"23.25",fill:"var(--custom_card_background)",stroke:"var(--custom_card_solo_text_color)","stroke-width":"1.5"})),2:l.a.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M49 25L48.9994 27.4L48.9976 28.394L48.9946 29.1566L48.9904 29.7993L48.985 30.3654L48.9784 30.877L48.9706 31.3472L48.9616 31.7846L48.9514 32.1951L48.94 32.5831L48.9274 32.9519L48.9135 33.3039L48.8985 33.6411L48.8823 33.9653L48.8649 34.2777L48.8462 34.5795L48.8264 34.8716L48.8053 35.1548L48.7831 35.4299L48.7596 35.6974L48.7349 35.9578L48.709 36.2116L48.6819 36.4593L48.6536 36.7011L48.624 36.9375L48.5932 37.1687L48.5612 37.395L48.528 37.6167L48.4936 37.8339L48.4579 38.0468L48.421 38.2557L48.3829 38.4607L48.3435 38.6619L48.3029 38.8596L48.2611 39.0538L48.218 39.2446L48.1737 39.4323L48.1281 39.6168L48.0813 39.7983L48.0333 39.9768L47.9839 40.1525L47.9334 40.3255L47.8815 40.4957L47.8284 40.6634L47.7741 40.8285L47.7184 40.9911L47.6615 41.1512L47.6033 41.309L47.5438 41.4645L47.483 41.6177L47.421 41.7687L47.3576 41.9175L47.293 42.0642L47.227 42.2088L47.1597 42.3513L47.0911 42.4918L47.0212 42.6303L46.95 42.7669L46.8774 42.9015L46.8035 43.0342L46.7283 43.1651L46.6516 43.2942L46.5737 43.4214L46.4944 43.5468L46.4136 43.6705L46.3316 43.7924L46.2481 43.9126L46.1632 44.0312L46.0769 44.148L45.9893 44.2632L45.9002 44.3767L45.8096 44.4886L45.7176 44.5989L45.6242 44.7076L45.5293 44.8147L45.4329 44.9203L45.3351 45.0243L45.2358 45.1268L45.1349 45.2278L45.0326 45.3273L44.9286 45.4252L44.8232 45.5217L44.7162 45.6167L44.6076 45.7102L44.4974 45.8023L44.3857 45.893L44.2723 45.9822L44.1572 46.07L44.0405 46.1564L43.9221 46.2414L43.8021 46.325L43.6803 46.4072L43.5567 46.488L43.4314 46.5674L43.3044 46.6455L43.1755 46.7222L43.0447 46.7976L42.9121 46.8716L42.7777 46.9443L42.6413 47.0156L42.5029 47.0856L42.3626 47.1543L42.2202 47.2217L42.0758 47.2878L41.9293 47.3525L41.7807 47.416L41.6298 47.4782L41.4768 47.539L41.3215 47.5986L41.1639 47.6569L41.0039 47.7139L40.8415 47.7697L40.6766 47.8241L40.5092 47.8773L40.3391 47.9293L40.1664 47.98L39.9909 48.0294L39.8126 48.0775L39.6313 48.1245L39.4471 48.1701L39.2597 48.2145L39.0691 48.2577L38.8752 48.2997L38.6778 48.3403L38.4769 48.3798L38.2722 48.418L38.0636 48.455L37.851 48.4908L37.6341 48.5253L37.4129 48.5586L37.1869 48.5907L36.9561 48.6216L36.7202 48.6512L36.4787 48.6797L36.2315 48.7069L35.9782 48.7329L35.7183 48.7577L35.4515 48.7812L35.177 48.8036L34.8945 48.8248L34.6031 48.8447L34.3021 48.8634L33.9906 48.881L33.6674 48.8973L33.3312 48.9124L32.9805 48.9263L32.6132 48.939L32.2268 48.9505L31.8182 48.9608L31.3831 48.9699L30.9158 48.9778L30.408 48.9845L29.8469 48.99L29.2114 48.9943L28.4609 48.9974L27.4937 48.9993L25.6773 49L22.6975 48.9995L21.6742 48.9978L20.8989 48.9949L20.2486 48.9908L19.6774 48.9855L19.1621 48.979L18.6889 48.9713L18.2492 48.9624L17.8367 48.9522L17.447 48.9409L17.0768 48.9284L16.7236 48.9147L16.3852 48.8998L16.06 48.8836L15.7467 48.8663L15.4441 48.8478L15.1513 48.828L14.8674 48.8071L14.5917 48.7849L14.3237 48.7615L14.0627 48.7369L13.8084 48.7111L13.5602 48.6841L13.3179 48.6559L13.0811 48.6264L12.8495 48.5957L12.6228 48.5638L12.4008 48.5307L12.1832 48.4964L11.97 48.4608L11.7608 48.424L11.5555 48.386L11.3539 48.3467L11.156 48.3062L10.9615 48.2645L10.7704 48.2215L10.5825 48.1773L10.3978 48.1318L10.2161 48.0851L10.0373 48.0371L9.86135 47.9879L9.68819 47.9374L9.51772 47.8857L9.34987 47.8327L9.18458 47.7784L9.02178 47.7229L8.86142 47.6661L8.70343 47.608L8.54776 47.5486L8.39437 47.4879L8.24321 47.426L8.09422 47.3627L7.94738 47.2982L7.80264 47.2323L7.65995 47.1651L7.5193 47.0967L7.38063 47.0269L7.24392 46.9557L7.10913 46.8833L6.97624 46.8095L6.84522 46.7343L6.71604 46.6578L6.58867 46.5799L6.46309 46.5007L6.33928 46.4201L6.21721 46.3382L6.09686 46.2548L5.97821 46.17L5.86124 46.0839L5.74594 45.9963L5.63227 45.9073L5.52024 45.8169L5.40981 45.725L5.30098 45.6317L5.19372 45.5369L5.08803 45.4407L4.98388 45.343L4.88127 45.2437L4.78018 45.143L4.6806 45.0408L4.58252 44.937L4.48592 44.8317L4.39079 44.7248L4.29713 44.6163L4.20492 44.5063L4.11416 44.3946L4.02482 44.2814L3.93691 44.1664L3.85041 44.0499L3.76532 43.9316L3.68162 43.8117L3.59932 43.69L3.5184 43.5666L3.43884 43.4415L3.36066 43.3145L3.28384 43.1858L3.20836 43.0552L3.13424 42.9228L3.06145 42.7884L2.99 42.6522L2.91988 42.514L2.85108 42.3738L2.7836 42.2316L2.71743 42.0874L2.65256 41.941L2.589 41.7926L2.52673 41.6419L2.46576 41.4891L2.40607 41.334L2.34767 41.1765L2.29055 41.0167L2.23471 40.8545L2.18014 40.6898L2.12683 40.5226L2.07479 40.3528L2.02401 40.1802L1.97449 40.005L1.92623 39.8269L1.87922 39.6459L1.83345 39.4619L1.78894 39.2747L1.74566 39.0844L1.70363 38.8908L1.66284 38.6937L1.62328 38.493L1.58496 38.2886L1.54786 38.0804L1.512 37.8681L1.47736 37.6516L1.44395 37.4307L1.41177 37.2051L1.3808 36.9747L1.35105 36.7391L1.32253 36.4982L1.29522 36.2515L1.26912 35.9986L1.24424 35.7393L1.22057 35.473L1.19811 35.1992L1.17687 34.9173L1.15683 34.6267L1.138 34.3265L1.12038 34.0158L1.10396 33.6936L1.08875 33.3585L1.07474 33.009L1.06194 32.6431L1.05034 32.2583L1.03994 31.8517L1.03074 31.4189L1.02275 30.9544L1.01596 30.4501L1.01037 29.8939L1.00597 29.2655L1.00278 28.5265L1.00079 27.584L1 25.9578L1.00041 22.7994L1.00202 21.7439L1.00483 20.9552L1.00884 20.2971L1.01405 19.7206L1.02046 19.2014L1.02807 18.7253L1.03688 18.2831L1.0469 17.8686L1.05811 17.4773L1.07053 17.1057L1.08416 16.7511L1.09898 16.4116L1.11502 16.0855L1.13226 15.7713L1.1507 15.4678L1.17035 15.1743L1.19122 14.8897L1.21329 14.6134L1.23657 14.3447L1.26106 14.0832L1.28677 13.8284L1.3137 13.5797L1.34184 13.337L1.37119 13.0997L1.40177 12.8677L1.43357 12.6406L1.46659 12.4183L1.50083 12.2004L1.53631 11.9868L1.57301 11.7773L1.61094 11.5717L1.6501 11.3698L1.6905 11.1716L1.73214 10.9769L1.77502 10.7855L1.81914 10.5974L1.86451 10.4124L1.91112 10.2304L1.95898 10.0514L2.0081 9.87525L2.05848 9.70187L2.11012 9.53118L2.16302 9.36313L2.21719 9.19764L2.27263 9.03464L2.32934 8.87408L2.38733 8.71591L2.44661 8.56006L2.50717 8.40649L2.56902 8.25515L2.63217 8.10599L2.69662 7.95898L2.76238 7.81407L2.82944 7.67123L2.89782 7.53041L2.96752 7.39158L3.03855 7.25472L3.11091 7.11978L3.18461 6.98674L3.25965 6.85557L3.33604 6.72624L3.41379 6.59873L3.49291 6.47301L3.57339 6.34906L3.65526 6.22685L3.73851 6.10636L3.82315 5.98758L3.9092 5.87048L3.99666 5.75504L4.08554 5.64125L4.17585 5.52908L4.2676 5.41853L4.3608 5.30957L4.45546 5.20219L4.55159 5.09637L4.6492 4.9921L4.7483 4.88937L4.84891 4.78816L4.95103 4.68846L5.05469 4.59026L5.15988 4.49354L5.26664 4.3983L5.37497 4.30452L5.48489 4.21219L5.59641 4.12131L5.70955 4.03186L5.82433 3.94384L5.94077 3.85723L6.05888 3.77203L6.17869 3.68822L6.3002 3.60581L6.42346 3.52477L6.54847 3.44511L6.67527 3.36682L6.80387 3.28989L6.93431 3.21431L7.0666 3.14008L7.20078 3.06718L7.33687 2.99563L7.47491 2.9254L7.61493 2.85649L7.75697 2.7889L7.90105 2.72263L8.04722 2.65766L8.19552 2.59399L8.34598 2.53162L8.49866 2.47055L8.65359 2.41076L8.81084 2.35226L8.97044 2.29504L9.13246 2.23909L9.29695 2.18442L9.46397 2.13101L9.6336 2.07887L9.8059 2.02799L9.98094 1.97837L10.1588 1.93001L10.3396 1.8829L10.5234 1.83703L10.7102 1.79242L10.9003 1.74905L11.0937 1.70691L11.2905 1.66602L11.4909 1.62637L11.695 1.58794L11.9029 1.55075L12.1149 1.51479L12.331 1.48006L12.5516 1.44655L12.7767 1.41427L13.0068 1.3832L13.2419 1.35336L13.4824 1.32474L13.7287 1.29733L13.981 1.27114L14.2398 1.24616L14.5055 1.22239L14.7787 1.19984L15.0599 1.1785L15.3498 1.15836L15.6492 1.13944L15.959 1.12172L16.2803 1.1052L16.6143 1.0899L16.9626 1.07579L17.3271 1.06289L17.7102 1.0512L18.1151 1.0407L18.5456 1.03141L19.0073 1.02332L19.508 1.01644L20.0595 1.01075L20.6811 1.00626L21.409 1.00297L22.3287 1.00089L23.8269 1L27.0938 1.00031L28.1849 1.00183L28.9877 1.00454L29.6539 1.00845L30.2358 1.01357L30.7589 1.01988L31.2381 1.0274L31.6827 1.03612L32.0992 1.04603L32.4923 1.05716L32.8654 1.06948L33.2212 1.08301L33.5618 1.09774L33.889 1.11368L34.2041 1.13082L34.5083 1.14917L34.8027 1.16873L35.088 1.18949L35.3649 1.21147L35.6341 1.23465L35.8962 1.25905L36.1515 1.28466L36.4006 1.31149L36.6439 1.33953L36.8815 1.36879L37.114 1.39927L37.3414 1.43097L37.5641 1.4639L37.7824 1.49804L37.9963 1.53342L38.2062 1.57002L38.4121 1.60785L38.6142 1.64692L38.8127 1.68722L39.0077 1.72876L39.1993 1.77154L39.3877 1.81556L39.573 1.86083L39.7552 1.90734L39.9344 1.95511L40.1108 2.00413L40.2844 2.0544L40.4553 2.10594L40.6236 2.15874L40.7892 2.21281L40.9524 2.26815L41.1132 2.32476L41.2715 2.38265L41.4276 2.44182L41.5813 2.50228L41.7328 2.56403L41.8822 2.62708L42.0294 2.69142L42.1744 2.75707L42.3174 2.82404L42.4584 2.89231L42.5974 2.96191L42.7344 3.03283L42.8695 3.10508L43.0027 3.17867L43.134 3.25361L43.2635 3.32989L43.3912 3.40753L43.517 3.48654L43.6411 3.56692L43.7635 3.64867L43.8841 3.73181L44.003 3.81635L44.1202 3.90228L44.2358 3.98963L44.3497 4.0784L44.462 4.16859L44.5727 4.26023L44.6818 4.35331L44.7893 4.44785L44.8952 4.54386L44.9996 4.64135L45.1025 4.74033L45.2038 4.84082L45.3036 4.94282L45.4019 5.04636L45.4988 5.15143L45.5941 5.25807L45.688 5.36627L45.7805 5.47606L45.8715 5.58745L45.961 5.70047L46.0492 5.81512L46.1359 5.93142L46.2212 6.0494L46.3051 6.16907L46.3876 6.29045L46.4688 6.41356L46.5486 6.53844L46.627 6.66509L46.704 6.79355L46.7797 6.92383L46.854 7.05598L46.927 7.19001L46.9987 7.32595L47.069 7.46383L47.138 7.60369L47.2057 7.74557L47.2721 7.88948L47.3372 8.03549L47.401 8.18361L47.4634 8.3339L47.5246 8.4864L47.5845 8.64116L47.6431 8.79821L47.7004 8.95763L47.7565 9.11945L47.8112 9.28374L47.8647 9.45056L47.917 9.61998L47.968 9.79206L48.0177 9.96688L48.0662 10.1445L48.1134 10.3251L48.1593 10.5086L48.204 10.6952L48.2475 10.885L48.2897 11.0781L48.3307 11.2747L48.3705 11.4748L48.409 11.6786L48.4463 11.8862L48.4824 12.0978L48.5172 12.3136L48.5508 12.5338L48.5832 12.7586L48.6143 12.9882L48.6443 13.223L48.673 13.463L48.7005 13.7088L48.7268 13.9607L48.7519 14.2189L48.7757 14.4841L48.7984 14.7567L48.8198 15.0372L48.84 15.3264L48.8591 15.625L48.8769 15.9339L48.8935 16.2542L48.9089 16.5872L48.9231 16.9343L48.9361 17.2974L48.9479 17.679L48.9585 18.0819L48.9679 18.5102L48.976 18.9692L48.983 19.4664L48.9888 20.0133L48.9934 20.6283L48.9968 21.3457L48.999 22.2442L48.9999 23.6455L49 25Z",fill:"var(--custom_card_background)",stroke:"var(--custom_card_solo_text_color)","stroke-width":"1.5"})),3:l.a.createElement("svg",{width:"50",height:"51",viewBox:"0 0 50 51",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M44.5054 12.6123C45.3929 13.4239 46.0114 14.4808 46.2801 15.6449L48.8944 26.9715C49.1719 28.1737 49.0627 29.4313 48.5819 30.5694L44.2836 40.7453C43.7763 41.9463 42.8827 42.9494 41.7406 43.5999L32.3929 48.9242C31.2508 49.5748 29.9234 49.8367 28.6155 49.6697L17.5337 48.2541C16.2943 48.0958 15.1357 47.5603 14.2192 46.7222L5.58352 38.8252C4.69601 38.0136 4.07745 36.9567 3.80877 35.7926L1.19447 24.466C0.916995 23.2638 1.02622 22.0062 1.50694 20.8681L5.80525 10.6922C6.31256 9.49123 7.20616 8.48814 8.34832 7.83758L17.6959 2.51327C18.8381 1.86271 20.1654 1.60078 21.4734 1.76785L32.5552 3.18339C33.7946 3.3417 34.9531 3.87718 35.8697 4.71534L44.5054 12.6123Z",fill:"var(--custom_card_background)",stroke:"var(--custom_card_solo_text_color)","stroke-width":"1.5"})),4:l.a.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M39.1699 6.47678L21.8789 1.88761C19.8092 1.33827 17.6035 1.9337 16.0913 3.45001L3.44825 16.1278C1.93344 17.6467 1.34483 19.8589 1.90444 21.9298L6.58642 39.2563C7.14419 41.3205 8.75828 42.9318 10.8234 43.4861L28.0149 48.1002C30.0889 48.6568 32.3022 48.0627 33.8186 46.5421L46.5507 33.7754C48.0661 32.2558 48.6545 30.0427 48.0939 27.9712L43.4224 10.7087C42.8625 8.63975 41.2415 7.02661 39.1699 6.47678Z",fill:"var(--custom_card_background)",stroke:"var(--custom_card_solo_text_color)","stroke-width":"1.5"})),5:l.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M20.7473 2.96089C22.0086 0.013037 25.9914 0.0130359 27.2527 2.96089L30.9417 11.5827C31.6709 13.2868 33.2261 14.4749 35.0385 14.6742L44.0493 15.6649C47.0808 15.9983 48.3973 19.9851 46.0544 22.1847L39.3235 28.504C37.9847 29.761 37.3989 31.6551 37.7692 33.4737L39.6492 42.7078C40.3103 45.9552 36.9993 48.3102 34.3917 46.7434L26.5428 42.0272C24.9704 41.0824 23.0296 41.0824 21.4573 42.0272L13.6083 46.7434C11.0007 48.3102 7.68967 45.9552 8.35082 42.7078L10.2308 33.4737C10.6011 31.6551 10.0153 29.761 8.67648 28.504L1.94558 22.1847C-0.397271 19.9851 0.91923 15.9983 3.95066 15.6649L12.9615 14.6742C14.7739 14.4749 16.3291 13.2868 17.0583 11.5827L20.7473 2.96089Z",fill:"var(--custom_card_background)",stroke:"var(--custom_card_solo_text_color)","stroke-width":"1.5"}))},zt=function(e){function t(e){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.style,r=t.size,o=t.onClick,s=t.src,c=t.frame,i=t.color,u=t.badge,p=t.badgeValue,m=B(a(316)("./".concat(c+1,".svg"))),d=0===i?"var(--background_content)":"var(--palette_gradient_".concat(i,")"),f=r/100*6;return l.a.createElement("div",{className:"UserAvatar",style:Rt({width:r,height:r},n||{}),onClick:o},l.a.createElement("img",{alt:"avatar",src:s,style:Object(h.a)({},"-webkit-mask-image","url(".concat(m,")"))}),l.a.createElement("div",{className:"UserAvatarBorder",style:(e={},Object(h.a)(e,"-webkit-mask-image","url(".concat(m,")")),Object(h.a)(e,"background",d),Object(h.a)(e,"left",-f),Object(h.a)(e,"right",-f),Object(h.a)(e,"top",-f),Object(h.a)(e,"bottom",-f),e)}),u&&l.a.createElement("div",{className:"Badge",style:{background:p?"#83E261":"#A1A1A1"}}))}}]),t}(i.PureComponent);zt.defaultProps={onClick:function(){},size:48,frame:1,color:0};var Vt=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(o.a)(this,Object(s.a)(t).call(this,e));var r=e.t.state.user;return a.state={frame:r.frame_type,color:r.frame_color},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.t,a=t.state,n=a.vk_user,r=a.user,o=a.gradients,s=this.state,c=s.frame,i=s.color,u=T();return l.a.createElement("div",{className:"UserAvatarFrame"},l.a.createElement(zt,{size:100,src:n.photo_100,frame:c,color:i}),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h1",null,"\u0424\u043e\u0440\u043c\u0430"),l.a.createElement("div",null,new Array(5).fill(0).map((function(t,a){return l.a.createElement("div",{key:"Frame-".concat(a),style:T()?{boxShadow:"inset 0 0 0 3px var(--custom_card_solo_text_color)"}:{outline:a===c&&"3px solid var(--custom_card_solo_text_color)"},onClick:function(){return e.setState({frame:a})}},Gt[a+1])})))),l.a.createElement("div",null,l.a.createElement("h1",null,"\u0426\u0432\u0435\u0442"),l.a.createElement("div",null,o.map((function(a,n){var o="conic-gradient(from 180deg at 50% 50%, ".concat([].concat(Object(k.a)(a.slice(0,a.length-2)),[a[0]]).join(", "),")");return l.a.createElement("div",{key:"gradient-".concat(n),style:{background:o},onClick:function(){r.vk_donut||r.admin||r.premium?e.setState({color:n+1}):t.setPopout(l.a.createElement(m.C,null,l.a.createElement("div",{className:"GameAfkWarning"},l.a.createElement("div",{className:"GameAfkWarning-Icon"},l.a.createElement(Wt.a,null)),l.a.createElement("div",{className:"GameAfkWarning-Title"},"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430"),u?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"GameAfkWarning-Description"},"\u0412 \u0441\u0442\u0430\u0442\u044c\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e, \u043a\u0430\u043a \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044e \u0446\u0432\u0435\u0442\u0430 \u0440\u0430\u043c\u043a\u0438"),l.a.createElement("div",{className:"GameAfkWarning-Button",onClick:function(){return M("https://vk.com/@draw_app-avocadoplus")}},l.a.createElement(Mt.a,{width:20,height:20})," \u041f\u0435\u0440\u0435\u0439\u0442\u0438")):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"GameAfkWarning-Description"},"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443 avocado+, \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0446\u0432\u0435\u0442 \u0440\u0430\u043c\u043a\u0438"),l.a.createElement("div",{className:"GameAfkWarning-Button",onClick:function(){t.setPopout(null),t.go("vk_donut_avocado")}},"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c")),l.a.createElement("div",{className:"GameAfkWarning-Button-Close",onClick:function(){return t.setPopout(null)}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))))}},l.a.createElement("div",null,l.a.createElement("div",{style:{display:i!==n+1&&"none",background:o}})))}))))),l.a.createElement("div",null,l.a.createElement(m.h,{stretched:!0,size:"l",mode:"gradient_pink",onClick:function(){r.coins<5e3?t.setSnackbar("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432"):t.socket.call("frames.save",{frame_type:c,frame_color:i},function(){var e=Object(g.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.response){e.next=4;break}t.setSnackbar(a.error.message),e.next=10;break;case 4:return r.frame_type=c,r.frame_color=i,e.next=8,t.setState({user:r});case 8:t.back(),t.setSnackbar("\u0412\u044b \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0438 \u0440\u0430\u043c\u043a\u0443");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},after:l.a.createElement(Bt.a,null)},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430 5\u043a"),l.a.createElement(m.h,{stretched:!0,size:"l",mode:"secondary",onClick:function(){return t.back()}},"\u041e\u0442\u043c\u0435\u043d\u0430")))}}]),t}(i.PureComponent);Vt.defaultProps={};var Kt,Ht=Vt,Yt=W(),Zt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={isShowGlobalCanvas:e.t.state.isShowGlobalCanvas,canvas_status:{status:!1},globalCanvasShowTimer:!1},e.t.socket.unsubscribe("changeOnline"),e.t.socket.subscribe("changeOnline",(function(t){e.t.setState({online:t.count}),a.forceUpdate()})),a.goToStats=a.goToStats.bind(Object(E.a)(a)),a.goToFeed=a.goToFeed.bind(Object(E.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"goToStats",value:function(){var e=this.props.t;e.setPopout(l.a.createElement(m.E,null)),e.socket.call("users.get",{},(function(t){e.setState({user:t.response}),e.socket.call("users.getTop",{type:"pictures"},(function(t){e.setState({users_topPictures:t.response});var a=t.response.map((function(e){return e.id}));e.socket.call("users.getTop",{type:"guessed_pictures"},(function(t){e.setState({users_topGuessedPictures:t.response}),a=[].concat(Object(k.a)(a),Object(k.a)(t.response.map((function(e){return e.id})))),e.socket.call("users.getTop",{type:"likes"},function(){var t=Object(g.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({users_topLikes:n.response}),a=[].concat(Object(k.a)(a),Object(k.a)(n.response.map((function(e){return e.id})))),t.next=4,te(a);case 4:e.setPopout(null),e.go("stats");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}))}))}},{key:"goToFeed",value:function(){var e=this.props.t;e.setPopout(l.a.createElement(m.E,null)),e.socket.call("pictures.getFeed",{limit:20},(function(t){e.setState({picturesFeed:t.response});var a=t.response.map((function(e){return e.drawerId}));e.socket.call("pictures.getLikesTop",{limit:10},function(){var t=Object(g.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.response&&(e.setState({topLikes:n.response}),a=[].concat(Object(k.a)(a),Object(k.a)(n.response.map((function(e){return e.drawerId}))))),t.next=3,te(a);case 3:e.setPopout(null),e.go("feed");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}},{key:"componentDidMount",value:function(){var e=this;this.props.t.socket.call("canvas.getStatus",{},function(){var t=Object(g.a)(b.a.mark((function t(a){var n,r,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.response,r=n.start-Date.now(),(o=r<=864e5&&r>0)&&(Kt=setInterval((function(){n.start-Date.now()<=0&&(e.setState({globalCanvasShowTimer:!1}),clearInterval(Kt)),e.forceUpdate()}),1e3)),e.setState({canvas_status:n,globalCanvasShowTimer:o});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillMount",value:function(){clearInterval(Kt)}},{key:"render_old",value:function(){var e=this,t=this.props.t,n=t.state,r=t._tags,o=n.gamesAsWinner,s=n.gamesAsDrawer,c=n.top_number,i=n.online,u=n.user,p=u.lvl,d=u.pictures,h=u.successfulPictures,v=u.guessedPictures,k=[Math.min(t.state.colors.length-3,Math.max(p,4)-4),Math.min(t.state.colors.length,Math.max(p,3)+3)],E=Math.min(p,t.state.colors.length),y=this.state,_=y.isShowGlobalCanvas,C=y.canvas_status,x=y.globalCanvasShowTimer,L=x?D(C.start-Date.now()).str:{};return k[0]>t.state.colors.length-6&&(k[0]=t.state.colors.length-6),l.a.createElement("div",{className:"Main"},l.a.createElement("div",{className:"app_version",onClick:Object(g.a)(b.a.mark((function a(){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.app_version!==ho&&t.setActiveModal(vo),a.next=3,t.setState({__v_clicks:4===n.__v_clicks?4:n.__v_clicks+1});case 3:e.forceUpdate(),3===n.__v_clicks&&w.a.scale(1);case 5:case"end":return a.stop()}}),a)})))},"v",ho," ",n.app_version!==ho&&l.a.createElement("span",null,"(\u043d\u0435\u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430\u044f)")),l.a.createElement("div",{className:"User_Header"},l.a.createElement(m.f,{src:t.state.vk_user.photo_100,size:48,shadow:!1,onClick:function(){t.state.user.admin&&t.setActiveModal(go)}}),l.a.createElement("div",{className:"UserTags"},r().map((function(e,a){return u[e[0]]&&l.a.cloneElement(e[1],{onClick:function(){return t.setActiveModal(e[0])}})})))),l.a.createElement("h3",null,"\u041f\u0440\u0438\u0432\u0435\u0442, ",t.state.vk_user.first_name),l.a.createElement("h1",null,"\u0422\u0432\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"),l.a.createElement("div",{className:"Colors__Container"},l.a.createElement("div",{className:"Gradient_Opacity"}),t.state.colors.map((function(e,t){return l.a.createElement("div",{className:"Color",key:"Color__".concat(t),style:{display:(k[0]>t||k[1]<t)&&"none",marginLeft:t>0&&12,background:t+1===E&&"linear-gradient(156.04deg, #F05F88 0%, #FBD20A 100%)",border:t+1===E&&"none"}},l.a.createElement("span",null,t+1),l.a.createElement("div",{style:{background:"object"===typeof e?"conic-gradient(from 180deg at 50% 50%, ".concat(e.join(", "),")"):e}}))}))),l.a.createElement("p",null,"\u041e\u0442\u0433\u0430\u0434\u044b\u0432\u0430\u0439 \u0438 \u0440\u0438\u0441\u0443\u0439 \u043a\u0430\u0440\u0442\u0438\u043d\u044b, \u0447\u0442\u043e\u0431\u044b \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u0446\u0432\u0435\u0442\u0430"),l.a.createElement("div",{className:"PlayCards__Container"},l.a.createElement("div",{className:"PlayCards_Lobbies__Container"},l.a.createElement("div",{className:"PlayCard GlobalLobby",onClick:function(){return t.go("search")}},l.a.createElement(Dt.a,null),l.a.createElement("span",null,"\u0418\u0433\u0440\u0430\u0442\u044c")),l.a.createElement("div",{className:"PlayCard SelfLobby",onClick:function(){t.vkChatIntegration||t.isFromCatalogChat||t.isFromChatWidget?(t.setPopout(l.a.createElement(m.E,null)),t.socket.call("friends.createLobby",{},(function(e){e.response?(t.setState({friend_lobby:e.response}),t.go("friend_lobby"),t.setPopout(null)):t.setAlert("\u041e\u0448\u0438\u0431\u043a\u0430",e.error.message,[{title:"\u041e\u043a",mode:"cancel",autoclose:!0}])}))):t.go("friends")}},t.vkChatIntegration||t.isFromCatalogChat||t.isFromChatWidget?l.a.createElement(l.a.Fragment,null,l.a.createElement(xt.a,null),l.a.createElement("span",null,"\u0418\u0433\u0440\u0430\u0442\u044c \u0432 \u0447\u0430\u0442\u0435")):l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.a,null),l.a.createElement("span",null,"\u0421\u0432\u043e\u044f \u0438\u0433\u0440\u0430")))),l.a.createElement("div",{style:{display:0!==C.end&&Date.now()>=C.end?"none":x?"":C.status?"":C.admins_allow&&u.admin||C.donut_allow&&u.vk_donut?"":"none",background:"no-repeat url(".concat(B(a(322)),")"),backgroundSize:"cover"},className:"PlayCard GlobalCanvasButton",onClick:Object(g.a)(b.a.mark((function a(){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:x||(f.a.send("VKWebAppStorageSet",{key:"canvas_new_mode",value:"1"}),t.setState({isShowGlobalCanvas:!1}),e.setState({isShowGlobalCanvas:!1}),t.go("global_canvas"));case 1:case"end":return a.stop()}}),a)})))},x&&l.a.createElement("div",{className:"TimeCounter"},l.a.createElement(Lt.a,null),l.a.createElement("span",null,L.hours,":",L.minutes,":",L.seconds)),l.a.createElement(Ot.a,null),l.a.createElement("span",null,"\u041e\u0431\u0449\u0438\u0439 \u0445\u043e\u043b\u0441\u0442"),_&&l.a.createElement("div",{className:"Point_New_Notify"})),!1,l.a.createElement("div",{className:"PlayCard SuggestionsButton",onClick:Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.go("suggestions");case 1:case"end":return e.stop()}}),e)})))},l.a.createElement(St.a,null),l.a.createElement("span",null,"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f")),Yt&&l.a.createElement("p",{className:"OnlineText"},"\u041e\u043d\u043b\u0430\u0439\u043d: ",i)),l.a.createElement("div",{className:"PlayerPics__Container"},l.a.createElement("div",{className:"Card_Button_Stretch"},l.a.createElement("div",{className:"Images"},[1,0,2].map((function(e,t){return l.a.createElement("div",{num:t,key:"div__".concat(t)},s[e]&&l.a.createElement("img",{alt:"img",src:s[e]["Picture.url"]}))}))),l.a.createElement("div",{className:"Card_Text__Container",onClick:function(){return t.go("gallery")}},l.a.createElement("div",null,l.a.createElement("span",null,"\u041c\u043e\u0438 \u0440\u0430\u0431\u043e\u0442\u044b"),l.a.createElement("span",null,P(h,["\u0443\u0441\u043f\u0435\u0448\u043d\u0430\u044f","\u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0435","\u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0445"]))),l.a.createElement("div",null,P(d,["\u043a\u0430\u0440\u0442\u0438\u043d\u0430","\u043a\u0430\u0440\u0442\u0438\u043d\u044b","\u043a\u0430\u0440\u0442\u0438\u043d"])))),l.a.createElement("div",{className:"Card_Button_Stretch"},l.a.createElement("div",{className:"Images"},[1,0,2].map((function(e,t){return l.a.createElement("div",{num:t,key:"div__".concat(t)},o[e]&&l.a.createElement("img",{alt:"img",src:o[e]["Picture.url"]}))}))),l.a.createElement("div",{className:"Card_Text__Container",onClick:function(){return t.go("guessed_pictures")}},l.a.createElement("div",null,l.a.createElement("span",null,"\u041e\u0442\u0433\u0430\u0434\u0430\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"),l.a.createElement("span",null,c&&"".concat(I(c)," \u043c\u0435\u0441\u0442\u043e"))),l.a.createElement("div",null,P(v,["\u043a\u0430\u0440\u0442\u0438\u043d\u0430","\u043a\u0430\u0440\u0442\u0438\u043d\u044b","\u043a\u0430\u0440\u0442\u0438\u043d"]))))),l.a.createElement("div",{className:"SubCards__Container"},[[l.a.createElement(jt.a,null),"\u041b\u0435\u043d\u0442\u0430",function(){return e.goToFeed()}],[l.a.createElement(Pt.a,null),"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",function(){return e.goToStats()}],[l.a.createElement(At.a,null),"\u041c\u0430\u0433\u0430\u0437\u0438\u043d",function(){return t.go("shop")}]].map((function(e,t){return l.a.createElement("div",{key:"SubCard_".concat(t),onClick:function(){return e[2]()},style:{marginLeft:0!==t&&8}},e[0],l.a.createElement("span",null,e[1]))}))),!Yt&&l.a.createElement("p",{className:"OnlineText"},"\u041e\u043d\u043b\u0430\u0439\u043d: ",i),!1)}},{key:"render",value:function(){var e=this,t=this.props.t,a=t._tags,n=t.state,r=n.vk_user,o=n.user,s=n.gamesAsWinner,c=n.gamesAsDrawer,i=n.top_number,u=n.online,p=(o.lvl,o.pictures),d=o.successfulPictures,h=o.guessedPictures,v=W(),k=this.state.canvas_status;return l.a.createElement("div",{className:"Profile"},!v&&l.a.createElement("div",{className:"NativeButtonMiniAppTop",style:{height:!T()&&37},onClick:Object(g.a)(b.a.mark((function a(){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.state.app_version!==ho&&t.setActiveModal(vo),a.next=3,t.setState({__v_clicks:4===t.state.__v_clicks?4:t.state.__v_clicks+1});case 3:e.forceUpdate(),3===t.state.__v_clicks&&w.a.scale(1);case 5:case"end":return a.stop()}}),a)})))},"v",ho," ",t.state.app_version!==ho&&l.a.createElement("span",null,"(\u043d\u0435\u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430\u044f)")),l.a.createElement("div",{className:"UserAvatarCover"},l.a.createElement("img",{alt:"cover",src:r.photo_max_orig})),l.a.createElement("div",{className:"UserInfoContainer"},l.a.createElement(zt,{size:100,src:r.photo_200,onClick:function(){return t.go("avatar_frames")},frame:o.frame_type,color:o.frame_color}),l.a.createElement("div",{className:"UserNameTags"},l.a.createElement("h1",{onClick:function(){o.admin&&t.setActiveModal(go)}},r.first_name," ",r.last_name),l.a.createElement("div",{className:"UserTags"},a().map((function(e,a){return o[e[0]]&&l.a.cloneElement(e[1],{onClick:function(){return t.setActiveModal(e[0])}})})))),l.a.createElement("div",{className:"UserLvl"},l.a.createElement("div",{className:"UserLvlProgress"},l.a.createElement("div",null,l.a.createElement("div",{style:{width:100/(100*o.lvl)*o.xp+"%"}})),l.a.createElement("div",null,l.a.createElement("span",null,o.xp,"XP ",l.a.createElement("span",null,"/")," ",100*o.lvl,"XP"),l.a.createElement("span",null,"LVL ",o.lvl))),l.a.createElement(m.r,{onClick:function(){return t.go("lvl_help")}},l.a.createElement(It.a,{fill:"#DCDCDC"}))),l.a.createElement("div",{className:"ActionCards"},l.a.createElement("div",null,l.a.createElement("div",{className:"ActionCard MainActionCard PlayGlobal",onClick:function(){return t.go("search")}},l.a.createElement(Dt.a,null)," \u0418\u0433\u0440\u0430\u0442\u044c"),l.a.createElement("div",{className:"ActionCard MainActionCard PlayLobby",onClick:function(){t.vkChatIntegration||t.isFromCatalogChat||t.isFromChatWidget?(t.setPopout(l.a.createElement(m.E,null)),t.socket.call("friends.createLobby",{},(function(e){e.response?(t.setState({friend_lobby:e.response}),t.go("friend_lobby"),t.setPopout(null)):t.setAlert("\u041e\u0448\u0438\u0431\u043a\u0430",e.error.message,[{title:"\u041e\u043a",mode:"cancel",autoclose:!0}])}))):t.go("friends")}},t.vkChatIntegration||t.isFromCatalogChat||t.isFromChatWidget?l.a.createElement(l.a.Fragment,null,l.a.createElement(xt.a,null),l.a.createElement("span",null,"\u0418\u0433\u0440\u0430\u0442\u044c \u0432 \u0447\u0430\u0442\u0435")):l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.a,null),l.a.createElement("span",null,"\u0421\u0432\u043e\u044f \u0438\u0433\u0440\u0430")))),l.a.createElement("div",null,!1,k.status||(k.admins_allow&&o.admin||k.donut_allow&&(o.vk_donut||o.admin))&&l.a.createElement("div",{className:"ActionCard MainActionCard GlobalCanvas",onClick:function(){f.a.send("VKWebAppStorageSet",{key:"canvas_new_mode",value:"1"}),t.setState({isShowGlobalCanvas:!1}),e.setState({isShowGlobalCanvas:!1}),t.go("global_canvas")}},l.a.createElement(Ot.a,null)," \u041e\u0431\u0449\u0438\u0439 \u0445\u043e\u043b\u0441\u0442"),l.a.createElement("div",{className:"ActionCard MainActionCard Suggestion",onClick:function(){return t.go("suggestions")}},l.a.createElement(St.a,null)," \u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f")),l.a.createElement("div",null,l.a.createElement("div",{className:"ActionCard GalleryGuessed",onClick:function(){return t.go("gallery")}},l.a.createElement("div",{className:"Images"},[1,0,2].map((function(e,t){return l.a.createElement("div",{num:t,key:"div__".concat(t)},c[e]&&l.a.createElement("img",{alt:"img",src:c[e]["Picture.url"]}))}))),l.a.createElement("div",{className:"Titles"},l.a.createElement("div",null,l.a.createElement("span",null,"\u041c\u043e\u0438 \u0440\u0430\u0431\u043e\u0442\u044b"),l.a.createElement("span",null,P(d,["\u0443\u0441\u043f\u0435\u0448\u043d\u0430\u044f","\u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0435","\u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0445"]))),l.a.createElement("div",null,P(p,["\u043a\u0430\u0440\u0442\u0438\u043d\u0430","\u043a\u0430\u0440\u0442\u0438\u043d\u044b","\u043a\u0430\u0440\u0442\u0438\u043d"]))))),l.a.createElement("div",null,l.a.createElement("div",{className:"ActionCard GalleryGuessed",onClick:function(){return t.go("guessed_pictures")}},l.a.createElement("div",{className:"Images"},[1,0,2].map((function(e,t){return l.a.createElement("div",{num:t,key:"div__".concat(t)},s[e]&&l.a.createElement("img",{alt:"img",src:s[e]["Picture.url"]}))}))),l.a.createElement("div",{className:"Titles"},l.a.createElement("div",null,l.a.createElement("span",null,"\u041e\u0442\u0433\u0430\u0434\u0430\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"),l.a.createElement("span",null,i&&"".concat(I(i)," \u043c\u0435\u0441\u0442\u043e"))),l.a.createElement("div",null,P(h,["\u043a\u0430\u0440\u0442\u0438\u043d\u0430","\u043a\u0430\u0440\u0442\u0438\u043d\u044b","\u043a\u0430\u0440\u0442\u0438\u043d"]))))),l.a.createElement("div",null,[[l.a.createElement(jt.a,null),"\u041b\u0435\u043d\u0442\u0430",function(){return e.goToFeed()}],[l.a.createElement(Ft.a,null),"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",function(){return e.goToStats()}],[l.a.createElement(At.a,null),"\u041c\u0430\u0433\u0430\u0437\u0438\u043d",function(){return t.go("shop")}]].map((function(e,t){return l.a.createElement("div",{key:"SubCard_".concat(t),className:"ActionCard",onClick:function(){return e[2]()}},e[0],l.a.createElement("span",null,e[1]))})))),l.a.createElement("div",{className:"Online"},"\u041e\u043d\u043b\u0430\u0439\u043d: ",u)))}}]),t}(i.PureComponent);Zt.defaultProps={};var Xt=Zt,Jt=a(377),$t=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={offset:e.t.state.gamesAsDrawer.length,limit:50,canGetMore:!0,prevY:0},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){0!==this.props.t.state.gamesAsDrawer.length&&(this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef),this.handleObserver(),this.props.t.state.scrollPosition&&(console.log("Scroll to ".concat(this.props.t.state.scrollPosition)),document.body.scrollTop=this.props.t.state.scrollPosition))}},{key:"handleObserver",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{boundingClientRect:{y:0}}],a=(arguments.length>1&&arguments[1],t[0].boundingClientRect.y),n=this.props.t,r=this.state,o=r.prevY,s=r.offset,c=r.limit,i=r.canGetMore;(0===o||o>a)&&i&&(this.setState({spinner:!0}),n.socket.call("games.getByDrawerId",{id:n.state.vk_user.id,offset:s,limit:c},function(){var t=Object(g.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te(a.response.map((function(e){return e.drawerId})));case 2:n.setState({gamesAsDrawer:[].concat(Object(k.a)(n.state.gamesAsDrawer),Object(k.a)(a.response))}),e.setState({canGetMore:a.response.length>0,spinner:!1}),e.forceUpdate();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.setState({offset:s+c})),this.setState({prevY:a})}},{key:"shareStory",value:function(e,t,n){var r=this;try{this.props.t.setPopout(l.a.createElement(m.E,null));var o=a(29),s=o.createCanvas,c=o.loadImage;c(B(a(323))).then(function(){var a=Object(g.a)(b.a.mark((function a(o){var i,l,u,p;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,i=s(o.width,o.height),l=i.getContext("2d"),a.next=5,U(n);case 5:return u=a.sent,p=e.substring(0,1).toUpperCase()+e.substring(1),l.drawImage(o,0,0),l.font="64px TT Commons Demibold",l.textAlign="center",l.fillStyle="#616161",l.fillText(p,539,1210),a.t0=l,a.next=15,c(u);case 15:return a.t1=a.sent,a.t0.drawImage.call(a.t0,a.t1,198,618,683,683),a.next=19,f.a.send("VKWebAppShowStoryBox",{background_type:"image",blob:i.toDataURL("image/png"),attachment:{url:"https://vk.com/app"+N().vk_app_id,text:"go_to",type:"url"}});case 19:r.props.t.socket.call("games.share",{gameId:t}),r.props.t.setPopout(null),a.next=28;break;case 23:a.prev=23,a.t2=a.catch(0),console.error(a.t2),r.props.t.setPopout(null),r.props.t.setSnackbar("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430");case 28:case"end":return a.stop()}}),a,null,[[0,23]])})));return function(e){return a.apply(this,arguments)}}())}catch(i){console.error(i),this.props.t.setPopout(null),this.props.t.setSnackbar("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")}}},{key:"render_old",value:function(){var e=this,t=this.props.t,a=t.state,n=a.banners,r=a.gamesAsDrawer,o=W(),s=this.state.spinner;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:t.back}),separator:!1},o&&"\u0422\u0432\u043e\u044f \u0433\u0430\u043b\u0435\u0440\u0435\u044f"),l.a.createElement("div",{className:"Gallery"},!o&&l.a.createElement("h2",{style:{textAlign:"left"}},"\u0422\u0432\u043e\u044f \u0433\u0430\u043b\u0435\u0440\u0435\u044f"),l.a.createElement("p",{style:{margin:!o&&"8px 0 0 0"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u0443\u044e \u043a\u0430\u0440\u0442\u0438\u043d\u0443, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0438 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435:"),l.a.createElement("div",{style:{marginTop:o?18:24,gridGap:o?8:15,paddingBottom:!t.newAdSupports&&n[0]&&140},className:"Images_Grid"},r.map((function(e,a){return l.a.createElement("div",{key:"Image_".concat(a),onClick:Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({like_currentPictureSelected:a,like_method:"games.getByDrawerId",like_param:"gamesAsDrawer",like_user_id:t.state.vk_user.id,scrollPosition:document.body.scrollTop});case 2:t.go("picture_info");case 3:case"end":return e.stop()}}),e)})))},l.a.createElement("img",{alt:"img",src:e["Picture.url"]}))})),s&&l.a.createElement(m.J,{size:"small"})),!t.newAdSupports&&n[0]&&l.a.createElement(m.D,{bannerData:n[0],onClose:Object(g.a)(b.a.mark((function a(){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n[0]=!1,a.next=3,t.setState({banners:n});case 3:e.forceUpdate();case 4:case"end":return a.stop()}}),a)})))})),l.a.createElement("div",{ref:function(t){return e.loadingRef=t}}))}},{key:"render",value:function(){var e=this,t=this.props.t,a=t.state.gamesAsDrawer,n=this.state.spinner;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-TwoCards"},l.a.createElement("div",null,l.a.createElement(Jt.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u0413\u0430\u043b\u0435\u0440\u0435\u044f"),l.a.createElement("p",null,"\u0412\u0441\u0451 \u0432\u0430\u0448\u0435 \u0442\u0432\u043e\u0440\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0431\u0440\u0430\u043b\u043e\u0441\u044c \u0442\u0443\u0442, \u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435\u0441\u044c \u0432\u043e\u043a\u0440\u0443\u0433"))),l.a.createElement("div",{style:0===a.length?{display:"none"}:{}},l.a.createElement("div",{className:"MiniCards"},a.map((function(e,a){return l.a.createElement("div",{className:"MiniCard",key:"Card-".concat(a),onClick:Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({like_currentPictureSelected:a,like_method:"games.getByDrawerId",like_param:"gamesAsDrawer",like_user_id:t.state.vk_user.id,scrollPosition:document.body.scrollTop});case 2:t.go("picture_info");case 3:case"end":return e.stop()}}),e)})))},l.a.createElement("img",{alt:"img",src:e["Picture.url"]}))})),n&&l.a.createElement("div",{className:"MiniCard"},l.a.createElement(m.J,{size:"small"})),l.a.createElement("div",{ref:function(t){return e.loadingRef=t},className:"LoadingRef"})))))}}]),t}(i.PureComponent);$t.defaultProps={};var qt=$t;function Qt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ea(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qt(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ta=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={offset:e.t.state.gamesAsWinner.length,limit:50,canGetMore:!0,prevY:0},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.props.t.state.gamesAsWinner.length){e.next=2;break}return e.abrupt("return");case 2:this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef),this.handleObserver(),this.props.t.state.scrollPosition&&(console.log("Scroll to ".concat(this.props.t.state.scrollPosition)),document.body.scrollTop=this.props.t.state.scrollPosition);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleObserver",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{boundingClientRect:{y:0}}],a=(arguments.length>1&&arguments[1],t[0].boundingClientRect.y),n=this.props.t,r=this.state,o=r.prevY,s=r.offset,c=r.limit,i=r.canGetMore;(0===o||o>a)&&i&&(this.setState({spinner:!0}),n.socket.call("games.getByWinnerId",{id:n.state.vk_user.id,offset:s,limit:c},function(){var t=Object(g.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te(a.response.map((function(e){return e.drawerId})));case 2:n.setState({gamesAsWinner:[].concat(Object(k.a)(n.state.gamesAsWinner),Object(k.a)(a.response))}),e.setState({canGetMore:a.response.length>0,spinner:!1}),e.forceUpdate();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.setState({offset:s+c})),this.setState({prevY:a})}},{key:"shareStory",value:function(e,t){var n=this;this.props.t.setPopout(l.a.createElement(m.E,null));try{var r=a(29),o=r.createCanvas,s=r.loadImage;s(B(a(324))).then(function(){var a=Object(g.a)(b.a.mark((function a(r){var c,i,l;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=o(r.width,r.height),i=c.getContext("2d"),a.next=4,U(t);case 4:return l=a.sent,i.drawImage(r,0,0),a.t0=i,a.next=9,s(l);case 9:return a.t1=a.sent,a.t0.drawImage.call(a.t0,a.t1,198,618,683,683),a.prev=11,a.next=14,f.a.send("VKWebAppShowStoryBox",{background_type:"image",blob:c.toDataURL("image/png"),attachment:{url:"https://vk.com/app"+N().vk_app_id,text:"go_to",type:"url"}});case 14:n.props.t.socket.call("games.share",{gameId:e}),a.next=19;break;case 17:a.prev=17,a.t2=a.catch(11);case 19:n.props.t.setPopout(null);case 20:case"end":return a.stop()}}),a,null,[[11,17]])})));return function(e){return a.apply(this,arguments)}}())}catch(c){console.error(c),this.props.t.setPopout(null),this.props.t.setSnackbar("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")}}},{key:"render_old",value:function(){var e=this,t=this.props.t,a=t.state.banners,n=W(),r=t.state,o=r.user,s=r.gamesAsWinner,c=r.top,i=o.guessedPictures;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Rating"},c&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"\u041b\u0443\u0447\u0448\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0438 \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"),l.a.createElement("div",{className:"Users_List"},c.map((function(e,a){return l.a.createElement("div",{key:"div__".concat(a),onClick:function(){t.socket.call("users.getById",{id:e.id},function(){var a=Object(g.a)(b.a.mark((function a(n){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.socket.call("games.getByDrawerId",{id:e.id},function(){var a=Object(g.a)(b.a.mark((function a(r){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.setState({author:ea({id:e.id},n.response||{}),author_works:r.response});case 2:t.go("author"),t.setPopout(null);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},l.a.createElement(m.f,{size:48,shadow:!1,src:e.photo_100}),l.a.createElement("div",null,l.a.createElement("div",null,e.first_name),l.a.createElement("div",null,"\u041e\u0442\u0433\u0430\u0434\u0430\u043b",1===e.sex&&"\u0430"," ",P(e.guessedPicturesToday,["\u043a\u0430\u0440\u0442\u0438\u043d\u0443","\u043a\u0430\u0440\u0442\u0438\u043d\u044b","\u043a\u0430\u0440\u0442\u0438\u043d"]))))})))),s.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{style:{margin:"24px 0 0 0"}},"\u0412\u044b \u043e\u0442\u0433\u0430\u0434\u0430\u043b\u0438 ",P(i,["\u043a\u0430\u0440\u0442\u0438\u043d\u0443","\u043a\u0430\u0440\u0442\u0438\u043d\u044b","\u043a\u0430\u0440\u0442\u0438\u043d"])," (\u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u0443, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043d\u0435\u0439):"),l.a.createElement("div",{style:{marginTop:18,gridGap:n?8:15,paddingBottom:!t.newAdSupports&&a[1]&&140},className:"Images_Grid"},s.map((function(e,a){return l.a.createElement("div",{key:"Image_".concat(a),onClick:Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({like_currentPictureSelected_:a,like_currentPictureSelected:a,like_method:"games.getByWinnerId",like_param:"gamesAsWinner",like_user_id:t.state.vk_user.id,scrollPosition:document.body.scrollTop});case 2:t.go("picture_info");case 3:case"end":return e.stop()}}),e)})))},l.a.createElement("img",{alt:"img",src:e["Picture.url"]}))}))),!t.newAdSupports&&a[1]&&l.a.createElement(m.D,{bannerData:a[1],onClose:Object(g.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a[1]=!1,n.next=3,t.setState({banners:a});case 3:e.forceUpdate();case 4:case"end":return n.stop()}}),n)})))})),l.a.createElement("div",{ref:function(t){return e.loadingRef=t}})))}},{key:"render",value:function(){var e=this,t=this.props.t,a=t.state,n=a.user,r=a.gamesAsWinner,o=n.guessedPictures,s=this.state.spinner;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-TwoCards"},l.a.createElement("div",null,l.a.createElement(Jt.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u041e\u0442\u0433\u0430\u0434\u0430\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"),l.a.createElement("p",null,o>0?"\u0412\u044b \u043e\u0442\u0433\u0430\u0434\u0430\u043b\u0438".concat(o>1?" \u0446\u0435\u043b\u044b\u0445":""," ").concat(P(o,["\u043a\u0430\u0440\u0442\u0438\u043d\u0443","\u043a\u0430\u0440\u0442\u0438\u043d\u044b","\u043a\u0430\u0440\u0442\u0438\u043d"]),"! \u0422\u0430\u043a \u0434\u0435\u0440\u0436\u0430\u0442\u044c, \u0428\u0435\u0440\u043b\u043e\u043a"):"\u0412\u044b \u0435\u0449\u0451 \u043d\u0435 \u0443\u0433\u0430\u0434\u0430\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u0443 \u043a\u0430\u0440\u0442\u0438\u043d\u0443"))),l.a.createElement("div",{style:0===r.length?{display:"none"}:{}},l.a.createElement("div",{className:"MiniCards"},r.map((function(e,a){return l.a.createElement("div",{className:"MiniCard",key:"Card-".concat(a),onClick:Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({like_currentPictureSelected_:a,like_currentPictureSelected:a,like_method:"games.getByWinnerId",like_param:"gamesAsWinner",like_user_id:t.state.vk_user.id,scrollPosition:document.body.scrollTop});case 2:t.go("picture_info");case 3:case"end":return e.stop()}}),e)})))},l.a.createElement("img",{alt:"img",src:e["Picture.url"]}))})),s&&l.a.createElement("div",{className:"MiniCard"},l.a.createElement(m.J,{size:"small"})),l.a.createElement("div",{ref:function(t){return e.loadingRef=t},className:"LoadingRef"})))))}}]),t}(i.PureComponent);ta.defaultProps={};var aa=ta,na=!1,ra=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={lobbyPlayers:[],lobbyPlayers_:[],point_count:0,starting:!1},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillUnmount",value:function(){na=!0}},{key:"componentDidMount",value:function(){var e=this;na=!1,setTimeout(Object(g.a)(b.a.mark((function t(){var a,n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,a=document.getElementsByClassName("SearchImages")[0],n=b.a.mark((function t(n){var o,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=F(1,25),(s=document.createElement("img")).src="https://photos.avocado.special.vk-apps.com/drawapp_search_images/image_".concat(o,".png"),s.style.left="".concat(F(-10,90),"%"),a.appendChild(s),e.state.starting||na){t.next=8;break}return n--,t.next=8,j(F(100,1e3));case 8:setTimeout((function(){return s.remove()}),5e3),r=n;case 10:case"end":return t.stop()}}),t)})),r=0;case 4:if(!(r<1)){t.next=9;break}return t.delegateYield(n(r),"t0",6);case 6:r++,t.next=4;break;case 9:t.next=13;break;case 11:t.prev=11,t.t1=t.catch(0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])}))),100);var t=this.props.t.socket;t.unsubscribe("changeLobbyUsers","gameStart","chooseWord","setWord","gameStarting","message"),t.subscribe("changeLobbyUsers",function(){var t=Object(g.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,te(a.players);case 3:t.t1=t.sent,t.t2=a.players,t.t3={lobbyPlayers:t.t1,lobbyPlayers_:t.t2},t.t0.setState.call(t.t0,t.t3);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.subscribe("chooseWord",function(){var t=Object(g.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.t.setState({chooseWords:a.words}),setTimeout((function(){e.props.t.forceUpdate()}),400);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.subscribe("setWord",function(){var t=Object(g.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.t.setState({word:a.word}),setTimeout((function(){e.props.t.forceUpdate()}),400);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.subscribe("gameStart",function(){var t=Object(g.a)(b.a.mark((function t(a){var n,r,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.lobbyId,r=a.drawerId,o=a.timeout,t.next=3,e.props.t.setState({game_timeout:o,lobbyId:n,drawerId:r,gameStart:Date.now(),isOnlineDrawing:!0,subGameInfo:{friendly:!1}});case 3:return t.next=5,new Promise((function(t){var a,n=e.state,r=n.lobbyPlayers,o=n.lobbyPlayers_;a=setInterval((function(){o.length===r.length&&(clearInterval(a),console.log("All players find"),t(!0))}),400)}));case 5:console.log("Game start. lobbyId = ".concat(n,", drawerId = ").concat(r)),e.props.t.setState({history:["main","game"],activePanel:"game"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.subscribe("gameStarting",function(){var t=Object(g.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({starting:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.call("games.search",{},(function(t){t.error&&(e.props.t.setActivePanel("main"),e.props.t.setAlert("\u041e\u0448\u0438\u0431\u043a\u0430",t.error.message,[{title:"\u041e\u043a",autoclose:!0}]))}))}},{key:"render",value:function(){var e=this,t=this.props.t,a=this.state.lobbyPlayers.filter((function(e){return e.id!==t.state.vk_user.id})),n=this.state.starting;return l.a.createElement("div",{className:"SearchGame"},l.a.createElement("div",{className:"SearchContainer"},l.a.createElement("h1",null,n?"\u041e\u0447\u0438\u0449\u0430\u0435\u043c \u0445\u043e\u043b\u0441\u0442":"\u041f\u043e\u0438\u0441\u043a \u0438\u0433\u0440\u043e\u043a\u043e\u0432"),l.a.createElement(m.O,{style:{marginTop:12},photos:[t.state.vk_user.photo_100].concat(Object(k.a)(a.map((function(e){return e.photo_100})))),size:"m",visibleCount:5}),!n&&l.a.createElement(m.h,{size:"l",stretched:!0,mode:"secondary",style:{marginTop:32},onClick:function(){e.state.starting||t.back()}},"\u041e\u0442\u043c\u0435\u043d\u0430")),l.a.createElement("div",{className:"SearchImages"}))}},{key:"renderOld",value:function(){var e=this,t=this.props.t,a=this.state.lobbyPlayers.filter((function(e){return e.id!==t.state.vk_user.id})),n=l.a.createElement("svg",{width:"274",height:"316",viewBox:"0 0 274 316",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginTop:W()?72:"8.86699507vh"},onClick:function(){e.state.starting||t.back()}},l.a.createElement("rect",{x:"63",y:"84",width:"148",height:"148",rx:"74",fill:"url(#paint0_linear)"}),l.a.createElement("circle",{className:"Search_Avatar",cx:"137",cy:"158",r:"48",fill:"url(#pattern0)"}),l.a.createElement("line",{x1:"27.866",y1:"26.5",x2:"60.366",y2:"82.7916",stroke:"var(--border_players_color)",strokeWidth:"2",strokeDasharray:"4 4"}),l.a.createElement("rect",{x:"1.5",y:"1.5",width:"51",height:"51",rx:"25.5",fill:"var(--background_content)"}),l.a.createElement("circle",{cx:"27",cy:"27",r:"24",fill:"url(#pattern1)"}),l.a.createElement("rect",{x:"1.5",y:"1.5",width:"51",height:"51",rx:"25.5",stroke:"var(--border_players_color)",strokeWidth:"3"}),l.a.createElement("line",{y1:"-1",x2:"65",y2:"-1",transform:"matrix(-0.5 0.866025 0.866025 0.5 246.88 27)",stroke:"var(--border_players_color)",strokeWidth:"2",strokeDasharray:"4 4"}),l.a.createElement("rect",{x:"1.5",y:"-1.5",width:"51",height:"51",rx:"25.5",transform:"matrix(-1 0 0 1 274 3)",fill:"var(--background_content)"}),l.a.createElement("rect",{x:"1.5",y:"-1.5",width:"51",height:"51",rx:"25.5",transform:"matrix(-1 0 0 1 274 3)"}),l.a.createElement("circle",{cx:"247",cy:"27",r:"24",fill:"url(#pattern2)"}),l.a.createElement("rect",{x:"1.5",y:"-1.5",width:"51",height:"51",rx:"25.5",transform:"matrix(-1 0 0 1 274 3)",stroke:"var(--border_players_color)",strokeWidth:"3"}),l.a.createElement("line",{y1:"-1",x2:"65",y2:"-1",transform:"matrix(0.5 -0.866025 -0.866025 -0.5 27 289)",stroke:"var(--border_players_color)",strokeWidth:"2",strokeDasharray:"4 4"}),l.a.createElement("rect",{x:"-1.5",y:"1.5",width:"51",height:"51",rx:"25.5",transform:"matrix(1 0 0 -1 3 316)",fill:"var(--background_content)"}),l.a.createElement("rect",{x:"-1.5",y:"1.5",width:"51",height:"51",rx:"25.5",transform:"matrix(1 0 0 -1 3 316)"}),l.a.createElement("circle",{cx:"27",cy:"289",r:"24",fill:"url(#pattern3)"}),l.a.createElement("rect",{x:"-1.5",y:"1.5",width:"51",height:"51",rx:"25.5",transform:"matrix(1 0 0 -1 3 316)",stroke:"var(--border_players_color)",strokeWidth:"3"}),l.a.createElement("line",{x1:"246.014",y1:"289.5",x2:"213.514",y2:"233.208",stroke:"var(--border_players_color)",strokeWidth:"2",strokeDasharray:"4 4"}),l.a.createElement("rect",{x:"272.5",y:"314.5",width:"51",height:"51",rx:"25.5",transform:"rotate(-180 272.5 314.5)",fill:"var(--background_content)"}),l.a.createElement("rect",{x:"272.5",y:"314.5",width:"51",height:"51",rx:"25.5",transform:"rotate(-180 272.5 314.5)"}),l.a.createElement("circle",{cx:"247",cy:"289",r:"24",fill:"url(#pattern4)"}),l.a.createElement("rect",{x:"272.5",y:"314.5",width:"51",height:"51",rx:"25.5",transform:"rotate(-180 272.5 314.5)",stroke:"var(--border_players_color)",strokeWidth:"3"}),l.a.createElement("defs",null,l.a.createElement("linearGradient",{id:"paint0_linear",x1:"63",y1:"84",x2:"211",y2:"232",gradientUnits:"userSpaceOnUse"},l.a.createElement("stop",{stopColor:"#F05F88"}),l.a.createElement("stop",{offset:"1",stopColor:"#FAAF1A"})),l.a.createElement("pattern",{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},l.a.createElement("use",{href:"#image0",transform:"scale(0.005)"})),l.a.createElement("image",{href:t.state.vk_user.photo_max_orig,id:"image0",width:"200",height:"200"}),l.a.createElement("pattern",{id:"pattern1",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},l.a.createElement("use",{href:"#image1",transform:"scale(0.005)"})),l.a.createElement("image",{href:a[0]&&a[0].photo_max_orig,id:"image1",width:"200",height:"200"}),l.a.createElement("pattern",{id:"pattern2",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},l.a.createElement("use",{href:"#image2",transform:"scale(0.005)"})),l.a.createElement("image",{href:a[1]&&a[1].photo_max_orig,id:"image2",width:"200",height:"200"}),l.a.createElement("pattern",{id:"pattern3",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},l.a.createElement("use",{href:"#image3",transform:"scale(0.005)"})),l.a.createElement("image",{href:a[2]&&a[2].photo_max_orig,id:"image3",width:"200",height:"200"}),l.a.createElement("pattern",{id:"pattern4",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},l.a.createElement("use",{href:"#image4",transform:"scale(0.005)"})),l.a.createElement("image",{href:a[3]&&a[3].photo_max_orig,id:"image4",width:"200",height:"200"}))),r=this.state.point_count;return l.a.createElement("div",{className:"Search"},l.a.createElement("h1",null,this.state.starting?"\u041e\u0447\u0438\u0449\u0430\u0435\u043c \u0445\u043e\u043b\u0441\u0442".concat(new Array(r).fill(".").join("")):"\u0418\u0449\u0435\u043c \u0438\u0433\u0440\u043e\u043a\u043e\u0432".concat(new Array(r).fill(".").join(""))),l.a.createElement("h3",null,a.length+1,"/5"),n)}}]),t}(i.PureComponent);ra.defaultProps={};var oa=ra;function sa(){return(sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ca(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ia=l.a.createElement("path",{d:"M2.34316 12.0355L4.46448 14.1568C5.24553 14.9378 6.51186 14.9378 7.29291 14.1568L10.1213 11.3284L5.17159 6.37862L2.34316 9.20705C1.56211 9.9881 1.56211 11.2544 2.34316 12.0355Z",fill:"currentColor"}),la=l.a.createElement("path",{d:"M1.81279 12.5658L3.93411 14.6872C5.00806 15.7611 6.74926 15.7611 7.8232 14.6872L14.1872 8.32321C15.2611 7.24926 15.2611 5.50806 14.1872 4.43412L12.0658 2.3128C10.9919 1.23886 9.2507 1.23886 8.17675 2.3128L1.81279 8.67676C0.738852 9.7507 0.738851 11.4919 1.81279 12.5658Z",stroke:"currentColor",strokeWidth:1.5}),ua=function(e){var t=e.svgRef,a=e.title,n=ca(e,["svgRef","title"]);return l.a.createElement("svg",sa({width:16,height:17,viewBox:"0 0 16 17",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,ia,la)},pa=l.a.forwardRef((function(e,t){return l.a.createElement(ua,sa({svgRef:t},e))}));a.p;function ma(){return(ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function da(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var fa=l.a.createElement("rect",{x:1.5,y:1,width:12.5,height:1,rx:.5,fill:"currentColor",stroke:"currentColor",strokeWidth:.3}),ha=l.a.createElement("rect",{x:1.25,y:4.75,width:13,height:1,rx:.5,fill:"currentColor",stroke:"currentColor",strokeWidth:.7}),va=l.a.createElement("rect",{x:1,y:8.5,width:13.5,height:1,rx:.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.25}),ba=function(e){var t=e.svgRef,a=e.title,n=da(e,["svgRef","title"]);return l.a.createElement("svg",ma({width:16,height:11,viewBox:"0 0 16 11",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,fa,ha,va)},ga=l.a.forwardRef((function(e,t){return l.a.createElement(ba,ma({svgRef:t},e))})),ka=(a.p,a(378)),Ea=a(379),ya=a(380),wa=a(381),_a=a(362);function Ca(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ca(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ca(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var La,Oa={},Sa=0,ja=0,Pa=[],Aa=[],Ia=!1,Fa=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(o.a)(this,Object(s.a)(t).call(this,e));var r=e.t,c=r.state,i=c.user,l=c.test_game;return a.state={drawer:q[e.drawerId],isDrawer:l||!1===e.online||e.drawerId===e.t.state.vk_user.id,text:"",selectedColor:i.vk_donut||i.admin?0:1,drawing:!1,time:r.state.game_timeout,messages:[],isEraser:!1,isStroke:!1,lineWidth:2},q[e.drawerId]&&q[e.drawerId].first_name||(a.state.drawer={},setTimeout(Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te([e.drawerId]);case 2:a.setState({drawer:q[e.drawerId]});case 3:case"end":return t.stop()}}),t)}))),1)),a.onMouseDown=a.onMouseDown.bind(Object(E.a)(a)),a.onMouseUp=a.onMouseUp.bind(Object(E.a)(a)),a.throttle=a.throttle.bind(Object(E.a)(a)),a.onMouseMove=a.onMouseMove.bind(Object(E.a)(a)),a.drawLine=a.drawLine.bind(Object(E.a)(a)),a.sendMessage=a.sendMessage.bind(Object(E.a)(a)),a.undoDraw=a.undoDraw.bind(Object(E.a)(a)),e.online&&!l&&(La=setInterval((function(){if(a.setState({time:a.state.time-1}),a.state.time<=-5){var e=T()?"png":"webp";a.props.t.setState({canvas_:a.canvas.toDataURL("image/".concat(e)),winnerId:0,word:{nom:""},gameId:0,gameEnd:Date.now()}),a.props.t.setActivePanel("result"),console.log("Game end (timeout)"),clearInterval(La)}}),1e3)),a.canvasSize=!a.state.isDrawer&&!W()&&e.t.clientHeight<=700?319/1.5:319,a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillUnmount",value:function(){f.a.send("VKWebAppEnableSwipeBack"),this.props.online&&(this.props.t.socket.unsubscribe("gamePreloadEnd","gameEnd","gameAfkEnd","gameErrorEnd","draw","clear","message"),clearInterval(La))}},{key:"updateChooseWordPopout",value:function(e,t,a,n,r){var o=this;e.setPopout(l.a.createElement(m.C,null,l.a.createElement("div",{className:"GameChooseWord"},l.a.createElement("div",{className:"GameChooseWord-Timer"},5-a),l.a.createElement("div",{className:"GameChooseWord-Title"},"\u0427\u0442\u043e \u0431\u0443\u0434\u0435\u0442\u0435 \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c?"),l.a.createElement("div",{className:"GameChooseWord-Words"},(n||[{nom:"\u0441\u043b\u043e\u0432\u043e 1"},{nom:"\u0441\u043b\u043e\u0432\u043e 2"},{nom:"\u0441\u043b\u043e\u0432\u043e 3"}]).map((function(t,a){return l.a.createElement("div",{key:"word_".concat(a),onClick:function(){Ia=!0,e.setState({word:t}),e.setPopout(null),e.socket.call("games.chooseWord",{lobbyId:r,word:a}),o.forceUpdate()}},t.nom)}))))))}},{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,n,r,o,s,c,i,u,p,d,h,v,E,y,w,_,C,x,L=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.clientHeight=parseInt(document.body.attributes.getNamedItem("_height").value),this.maxMessages=this.clientHeight<=580?1:this.clientHeight<=650?2:3,f.a.send("VKWebAppDisableSwipeBack"),t=this.canvas,n=this.onMouseDown,r=this.onMouseUp,o=this.throttle,s=this.onMouseMove,c=this.props,i=this.state.isDrawer,u=c.online,p=c.t,d=c.lobbyId,h=p.state.chooseWords,this.canvasContext=t.getContext("2d"),p.setState({color:"#000000",color_gradient:void 0,color_percent:0}),u&&(p.socket.unsubscribe("gamePreloadEnd","gameEnd","gameAfkEnd","gameErrorEnd","draw","clear","message"),p.socket.subscribe("gamePreloadEnd",function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setPopout(l.a.createElement(m.E,null)),clearInterval(La),console.log("Game preload end");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p.socket.subscribe("gameEnd",function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n,r,o,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=T()?"png":"webp",n=L.canvas.toDataURL("image/".concat(a)),r=t.winnerId,o=t.word,s=t.gameId,0===r){e.next=5;break}return e.next=5,te([r]);case 5:p.setPopout(null),p.setState({canvas_:n,winnerId:r,word:o,gameId:s,gameEnd:Date.now()}),p.setActivePanel("result"),console.log("Game end");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p.socket.subscribe("gameAfkEnd",function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({game_canceled_reason:"\u0418\u0433\u0440\u0430 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430"}),p.setActivePanel("game_canceled"),console.log("Game end afk");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p.socket.subscribe("gamePlayersLeft",function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setState({game_canceled_reason:"\u0418\u0433\u0440\u043e\u043a\u0438 \u0432\u044b\u0448\u043b\u0438"}),p.setActivePanel("game_canceled"),console.log("Game end players left");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p.socket.subscribe("gameErrorEnd",function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({gameErrorText:t.message});case 2:p.setActivePanel("game_error"),console.log("Game end error"),p.setPopout(null);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i||(p.socket.subscribe("draw",(function(e){Aa.push(e.data);var t=!0,a=!1,n=void 0;try{for(var r,o=e.data[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value,c=s.x0,i=s.y0,l=s.x1,u=s.y1,p=s.color,m=s.isEraser,d=s.lineWidth;d||(d=2),L.drawLine(c,i,l,u,p,m,d)}}catch(f){a=!0,n=f}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}})),p.socket.subscribe("undo",(function(e){L.undoDraw()}))),p.socket.subscribe("message",function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.user_id,n=t.message,console.log("New message from ".concat(a,": ").concat(n)),q[a]){e.next=5;break}return e.next=5,te(a);case 5:return e.next=7,L.setState({messages:[].concat(Object(k.a)(L.state.messages),[xa({user_id:a,message:n},q[a])])});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),i&&(t.addEventListener("mousedown",n,!1),t.addEventListener("mouseup",r,!1),t.addEventListener("mouseout",r,!1),t.addEventListener("mousemove",o(s,10),!1),t.addEventListener("touchstart",n,!1),t.addEventListener("touchend",r,!1),t.addEventListener("touchcancel",r,!1),t.addEventListener("touchmove",o(s,10),!1),u&&(v=Date.now(),Ia=!1,h&&h.length>0&&(E=0,this.updateChooseWordPopout(p,v,E,h,d),y=setInterval((function(){E++,Ia||L.updateChooseWordPopout(p,v,E,h,d),(5===E||Ia)&&clearInterval(y)}),1e3)),setTimeout((function(){Ia||(Ia=!0,p.setState({word:h[0]}),p.setPopout(null))}),5e3),p.socket.subscribe("drawAfkWarning",(function(e){f.a.supports("VKWebAppTapticNotificationOccurred")&&f.a.send("VKWebAppTapticNotificationOccurred",{type:"warning"}),p.setPopout(l.a.createElement(m.C,null,l.a.createElement("div",{className:"GameAfkWarning"},l.a.createElement("div",{className:"GameAfkWarning-Icon"},l.a.createElement(ka.a,null)),l.a.createElement("div",{className:"GameAfkWarning-Title"},"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c!"),l.a.createElement("div",{className:"GameAfkWarning-Description"},"\u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u0431\u0443\u0434\u0435\u0442\u0435 \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c, \u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u043d\u0430\u043a\u0430\u0437\u0430\u043d\u044b"),l.a.createElement("div",{className:"GameAfkWarning-Button",onClick:function(){return p.setPopout(null)}},"\u041e\u043a\u0435\u0439"))))})))),u){e.next=21;break}return p.setPopout(l.a.createElement(m.E,null)),w=p.state.pictureUrl_,e.next=13,U(w,!1);case 13:return _=e.sent,C=a(29),x=C.loadImage,e.next=18,x(_);case 18:this.oldImage=e.sent,this.canvasContext.drawImage(this.oldImage,0,0,638,638),p.setPopout(null);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onMouseDown",value:function(e){this.setState({drawing:!0}),Oa.x=e.clientX||e.touches[0].clientX,Oa.y=e.clientY||e.touches[0].clientY,Pa=[]}},{key:"onMouseUp",value:function(e){var t=this.state,a=t.drawing,n=(t.selectedColor,t.isEraser),r=t.lineWidth;if(a){this.setState({drawing:!1});try{var o=this.canvas.getBoundingClientRect();try{this.drawLine(Oa.x-o.left,Oa.y-o.top,(e.clientX||e.touches[0].clientX)-o.left,(e.clientY||e.touches[0].clientY)-o.top,this.props.color,n,r)}catch(e){}console.log("Lines to send: ".concat(Pa.length)),Pa.length>0&&(Aa.push(Pa),this.state.isDrawer&&this.props.online&&!this.props.t.state.test_game&&this.props.t.socket.call("games.draw",{lobbyId:this.props.lobbyId,data:Pa}),Pa=[])}catch(s){console.log(s)}}}},{key:"onMouseMove",value:function(e){var t=this.state,a=t.drawing,n=(t.selectedColor,t.isEraser),r=t.lineWidth;if(a){try{var o=this.canvas.getBoundingClientRect();this.drawLine(Oa.x-o.left,Oa.y-o.top,(e.clientX||e.touches[0].clientX)-o.left,(e.clientY||e.touches[0].clientY)-o.top,this.props.color,n,r),Oa.x=e.clientX||e.touches[0].clientX,Oa.y=e.clientY||e.touches[0].clientY}catch(s){console.log(s)}return!1}}},{key:"drawLine",value:function(e,t,a,n,r,o,s){try{this.props.t;var c=this.canvasContext;if("object"===typeof r)r=function(e,t,a,n){var r=e.replace("#","").match(/.{2}/g),o=t.replace("#","").match(/.{2}/g),s=a/n,c=1-s;return S(Math.floor(("0x"+r[0])*c+("0x"+o[0])*s),Math.floor(("0x"+r[1])*c+("0x"+o[1])*s),Math.floor(("0x"+r[2])*c+("0x"+o[2])*s))}(r[Sa]||r[0],r[Sa+1]||r[0],ja,r.length),0===(ja+=r.length===ja?-ja:1)&&(Sa+=r.length===Sa?-Sa:1);c.beginPath(),o?(c.globalCompositeOperation="destination-out",c.arc(2*e,2*t,1.2*s,0,2*Math.PI,!1),c.fill()):(c.globalCompositeOperation="source-over",c.moveTo(2*e,2*t),c.lineTo(2*a,2*n),c.strokeStyle=r,c.fill(),c.lineWidth=s,c.lineCap=c.lineJoin="round",c.stroke()),c.closePath(),Pa.push({x0:e,y0:t,x1:a,y1:n,color:r,isEraser:o,lineWidth:s})}catch(i){}}},{key:"throttle",value:function(e,t){var a=(new Date).getTime();return function(){var n=(new Date).getTime();n-a>=t&&(a=n,e.apply(null,arguments))}}},{key:"sendMessage",value:function(){var e=this.props,t=e.t,a=e.lobbyId,n=this.state,r=n.text,o=n.messages,s=t.state,c=s.test_game,i=s.user;c?this.setState({messages:[].concat(Object(k.a)(o),[xa({user_id:i.id,message:r},q[i.id])]),text:""}):r.replace(/^[0-9 ]+$/,"").length>0?(t.socket.call("games.message",{lobbyId:a,message:r},(function(e){return console.log("Response message",e)})),this.setState({text:""})):console.log("Message is empty: ".concat(r))}},{key:"undoDraw",value:function(){var e=this.canvasContext,t=this.oldImage;Aa.splice(-1,1),e.clearRect(0,0,638,638),t&&(e.globalCompositeOperation="source-over",e.drawImage(t,0,0,638,638)),Aa.length>0&&(Aa.forEach((function(t){t.forEach((function(t){var a=t.x0,n=t.y0,r=t.x1,o=t.y1,s=t.color,c=t.isEraser,i=t.lineWidth;e.beginPath(),c?(e.globalCompositeOperation="destination-out",e.arc(2*a,2*n,1.2*i,0,2*Math.PI,!1),e.fill()):(e.globalCompositeOperation="source-over",e.moveTo(2*a,2*n),e.lineTo(2*r,2*o),e.strokeStyle=s,e.fill(),e.lineWidth=i,e.lineCap=e.lineJoin="round",e.stroke())}))})),e.closePath())}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.lobbyId,r=t.online,o=t.word,s=a.state,c=(s.colors,s.user,s.test_game),i=this.state,u=i.drawer,p=i.isDrawer,d=i.text,f=(i.selectedColor,i.time),h=i.messages,v=i.isEraser,k=(i.isStroke,i.lineWidth),E=W(),y=!T(),w=function(){return a.setAlert("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435","\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u0438\u0433\u0440\u044b?",[{title:"\u0414\u0430",action:function(){a.socket.call("games.leaveGame",{lobbyId:n}),a.setActivePanel("main"),a.showNewAd()},autoclose:!0},{title:"\u041d\u0435\u0442",mode:"cancel",autoclose:!0}],"horizontal")};return c&&(o={nom:"\u0416\u0438\u0440\u0430\u0444"},p=!1,u=a.state.vk_user),l.a.createElement("div",{className:"Game"},!E&&!p&&l.a.createElement("div",{className:"NativeButtonMiniAppTop",onClick:w,style:{height:!T()&&37}},"\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0438\u0433\u0440\u0443"),l.a.createElement("div",{style:{width:E?319:"100%",alignSelf:"flex-start"},ref:function(t){return e.header=t}},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},!p&&l.a.createElement(zt,{size:24,src:u.photo_100,frame:u.frame_type,color:u.frame_color}),l.a.createElement("h2",{style:{textAlign:"left",marginLeft:6}},p?"\u0417\u0430\u0434\u0430\u0447\u0430: "+(o?o.nom:""):"\u0420\u0438\u0441\u0443\u0435\u0442: "+u.first_name)),r&&l.a.createElement("h2",{style:{textAlign:"right",width:"25%",color:"var(--color_secondary)",wordWrap:"normal"}},f>=0?f:0," \u0441\u0435\u043a"))),l.a.createElement("div",{style:{display:E&&r&&"flex"}},l.a.createElement("div",{className:"Canvas__"},l.a.createElement("div",{className:"Canvas_Container_Clear",style:{width:this.canvasSize,height:this.canvasSize}},l.a.createElement("canvas",{style:{width:this.canvasSize,height:this.canvasSize},width:638,height:638,ref:function(t){return e.canvas=t},id:"canvas"})),l.a.createElement("div",{style:{display:!p&&"none"},className:"Canvas_Items_Container"},l.a.createElement(m.H,{step:1,min:4,max:30,value:Number(k),onChange:function(t){return e.setState({lineWidth:t})}}),!1,l.a.createElement("div",{className:"Canvas_SubItems_Container"},l.a.createElement(m.r,{hasHover:!1,onClick:function(){a.setActiveModal(ko)}},l.a.createElement(Ea.a,{width:21,height:21})),l.a.createElement(m.r,{style:{border:v&&"2px solid var(--color_secondary)"},hasHover:!1,onClick:function(){e.setState({isEraser:!v})}},l.a.createElement(pa,null)),l.a.createElement(m.r,{hasHover:!1,onClick:function(){Aa.length>0&&(r&&a.socket.call("games.undo",{lobbyId:n}),e.undoDraw())}},l.a.createElement(ya.a,{width:21,height:21})))),E&&!p&&l.a.createElement(m.h,{style:{marginTop:28},stretched:!0,size:"l",mode:"secondary",onClick:w},"\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0438\u0433\u0440\u0443")),!r&&l.a.createElement("div",{className:"Offline_Drawing__Buttons"},l.a.createElement(m.h,{before:l.a.createElement(wa.a,{fill:"var(--color_secondary)"}),size:"m",mode:"secondary",onClick:function(){a.back(),a.showNewAd()}},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),l.a.createElement(m.h,{style:{marginLeft:!E&&10,marginTop:E&&10},before:l.a.createElement(_a.a,{fill:"var(--color_secondary)"}),size:"m",mode:"secondary",onClick:Object(g.a)(b.a.mark((function t(){var n,r,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==Aa.length){t.next=4;break}return a.back(),a.showNewAd(),t.abrupt("return");case 4:return a.setPopout(l.a.createElement(m.E,null)),n=T()?"png":"webp",t.next=8,new Promise((function(t){setTimeout((function(){try{e.canvas.toBlob((function(){t(e.canvas.toDataURL("image/".concat(n)))}))}catch(a){console.error(a),t(null)}}),100)}));case 8:r=t.sent,o=a.state.gameId_,e.state.isDrawer&&e.props.t.socket.call("games.editPicture",{history:Aa,gameId:o},function(){var t=Object(g.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.response){t.next=8;break}return a.setState({n_canvasData:r}),a.setSnackbar("\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430"),t.next=5,new Promise((function(t){return e.props.t.socket.call("games.getByDrawerId",{id:e.props.t.state.vk_user.id,limit:e.props.t.state.gamesAsDrawer.length},function(){var a=Object(g.a)(b.a.mark((function a(n){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.t.setState({gamesAsDrawer:n.response});case 2:t(!0);case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}));case 5:a.forceUpdate(),t.next=9;break;case 8:a.setSnackbar("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c");case 9:setTimeout((function(){a.setPopout(null),a.back(),a.back(),a.showNewAd(),a.forceUpdate()}),1e3);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 11:case"end":return t.stop()}}),t)})))},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),r&&l.a.createElement("div",{className:"Comments_Container"},l.a.createElement("div",{className:"Comments",ref:function(t){return e.comments=t}},h.slice(h.length<=this.maxMessages?0:h.length-this.maxMessages).map((function(e,t){return l.a.createElement("div",{className:"Comment",key:"div__".concat(t),style:{marginTop:t>0&&6,cursor:e.id===a.state.vk_user.id&&"default"},onClick:function(){e.id!==a.state.vk_user.id&&e.message.replaceAll("*","").length>0&&a.setPopout(l.a.createElement(m.a,{onClose:function(){return a.setPopout(null)},iosCloseItem:l.a.createElement(m.b,{autoclose:!0,mode:"cancel"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")},l.a.createElement(m.b,{autoclose:!0,mode:"destructive",onClick:function(){a.socket.call("games.reportWord",{message:e.message}),a.setSnackbar("\u0416\u0430\u043b\u043e\u0431\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430")}},"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))}},l.a.createElement(zt,{size:32,src:e.photo_100,frame:e.frame_type,color:e.frame_color}),l.a.createElement("div",null,l.a.createElement("div",null,e.first_name," ",e.last_name),l.a.createElement("div",null,e.message)))}))),!p&&l.a.createElement("div",{className:"Comment_Input"},l.a.createElement(m.s,{autoFocus:!0,id:"inputComment",value:d,onChange:function(t){if(E||y){var a=t.currentTarget.value;(a.match(/^[0-9a-zA-Z\u0430-\u044f\u0410-\u042f ,.:-]+$/)||""===a)&&a.length<=120&&(console.log("Set text1 = ".concat(a)),e.setState({text:a}))}},placeholder:"\u0415\u0441\u0442\u044c \u0434\u043e\u0433\u0430\u0434\u043a\u0438?",onKeyDown:function(t){var a=t.key,r="Backspace"===a;if(1!==a.length&&!r||E||y)"Enter"===a&&(console.log("Send message (key) (lobbyId = ".concat(n,"): ").concat(d)),e.sendMessage());else{var o=r?d.substring(0,d.length-1):d+a;(o.match(/^[0-9a-zA-Z\u0430-\u044f\u0410-\u042f ,.:-]+$/)||""===o)&&o.length<=120&&(console.log("Set text2 = ".concat(o)),e.setState({text:o}))}console.log("Pressed key = ".concat(t.key))},onFocus:function(){}}),l.a.createElement(m.R,{style:{display:0===d.trim().length&&"none"},mode:"send",onClick:function(){console.log("Send message (btn) (lobbyId = ".concat(n,"): ").concat(d)),e.sendMessage()}})))))}}]),t}(i.PureComponent);Fa.defaultProps={};var Da=Fa,Na=a(382),Ta=a(383),Wa=a(384),Ma=a(385),Ba=a(386);function Ua(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ra(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ua(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ua(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ga=W(),za=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(o.a)(this,Object(s.a)(t).call(this,e));var r=e.drawerId,c=e.winnerId,i=e.word,l=e.t;return a.state={isDrawer:r===l.state.vk_user.id,isWinner:c===l.state.vk_user.id,winnerId:c,drawerId:r,word:i,playAgain:!1,playAgainTick:10},a.shareStory=a.shareStory.bind(Object(E.a)(a)),a.back=a.back.bind(Object(E.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){L(["TT Commons Demibold"]),this.props.t.setState({chooseWords:[]})}},{key:"shareStory",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a,n,r,o,s,c,i,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.t.setPopout(l.a.createElement(m.E,null)),e.prev=1,t=this.state,a=t.isDrawer,n=t.isWinner,r=a?1:n?2:3,e.next=8,G("https://photos.avocado.special.vk-apps.com/drawapp_search_images/stories/Story".concat(r,".png"));case 8:return o=e.sent,s=Object(C.createCanvas)(o.width,o.height),c=s.getContext("2d"),i=this.state.word,u=i.nom.substring(0,1).toUpperCase()+i.nom.substring(1),c.drawImage(o,0,0),1===r&&(c.font="64px TT Commons Demibold",c.textAlign="center",c.fillStyle="#616161",c.fillText(u,539,1210)),c.drawImage(this.imageRef,198,618,683,683),e.prev=16,e.next=19,f.a.send("VKWebAppShowStoryBox",{background_type:"image",blob:s.toDataURL("image/png"),attachment:{url:"https://vk.com/app"+N().vk_app_id,text:"go_to",type:"url"}});case 19:this.props.t.socket.call("games.share",{gameId:this.props.gameId}),V("stats.shareStory"),e.next=25;break;case 23:e.prev=23,e.t0=e.catch(16);case 25:this.props.t.updateData(),e.next=32;break;case 28:e.prev=28,e.t1=e.catch(1),console.error(e.t1),this.props.t.setSnackbar("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430");case 32:this.props.t.setPopout(null);case 33:case"end":return e.stop()}}),e,this,[[1,28],[16,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"back",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a,n,r,o,s,c,i,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.t,a=t.back,n=t.state,r=t.socket,o=t.setPopout,s=t.updateData,c=t.showNewAd,i=n.subGameInfo,u=n.user,c(),o(l.a.createElement(m.E,null));try{s()}catch(p){}return e.prev=4,e.next=7,f.a.send("VKWebAppShowNativeAds",{ad_format:"interstitial"});case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:i.friendly&&i.owner_id===u.id&&r.call("friends.removeLobbyData"),o(null),a();case 14:case"end":return e.stop()}}),e,this,[[4,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.gameId,r=a.state,o=r.vk_user,s=r.isNotApp,c=this.state,i=c.isDrawer,u=c.isWinner,p=c.winnerId,d=c.drawerId,h=c.word,v=c.isLiked,k=c.playAgain,E=c.playAgainTick,y=Math.round((a.state.gameEnd-a.state.gameStart)/1e3),w=i?0!==p?["\u0422\u044b \u043c\u043e\u043b\u043e\u0434\u0435\u0446!","\u0422\u0432\u043e\u044e \u043a\u0430\u0440\u0442\u0438\u043d\u0443 \u0443\u0433\u0430\u0434\u0430\u043b\u0438 \u0437\u0430 ".concat(P(y||0,["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"]))]:["\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u0448\u043b\u043e","\u041d\u0438\u043a\u0442\u043e \u043d\u0435 \u0443\u0433\u0430\u0434\u0430\u043b, \u0447\u0442\u043e \u0442\u044b \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043b"]:0!==p?u?["\u0422\u044b \u043c\u043e\u043b\u043e\u0434\u0435\u0446!","\u0422\u044b \u043f\u0435\u0440\u0432".concat(1===o.sex?"\u0430\u044f":"\u044b\u0439"," \u0443\u0433\u0430\u0434\u0430\u043b").concat(1===o.sex?"\u0430":"",", \u0447\u0442\u043e \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043b").concat(1===q[d].sex?"\u0430":""," ").concat(q[d].first_name)]:["\u0418\u0433\u0440\u0430 \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430","".concat(q[p].first_name," \u0431\u044b\u043b").concat(1===q[p].sex?"\u0430":""," \u043f\u0435\u0440\u0432").concat(1===q[p].sex?"\u043e\u0439":"\u044b\u043c",", \u043a\u0442\u043e \u0443\u0433\u0430\u0434\u0430\u043b, \u0447\u0442\u043e \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043e \u043d\u0430 \u0445\u043e\u043b\u0441\u0442\u0435")]:["\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u0448\u043b\u043e","\u041d\u0438\u043a\u0442\u043e \u043d\u0435 \u0443\u0433\u0430\u0434\u0430\u043b, \u0447\u0442\u043e \u0445\u0443\u0434\u043e\u0436\u043d\u0438\u043a \u043f\u044b\u0442\u0430\u043b\u0441\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c"];return l.a.createElement(l.a.Fragment,null,Ga?l.a.createElement(m.r,{style:Ra({position:"fixed",top:49,left:96},k?{visibility:"hidden",pointerEvents:"none"}:{}),onClick:this.back},l.a.createElement(Na.a,{fill:"#F15F8A"})):l.a.createElement(m.z,{separator:!1,left:l.a.createElement(m.r,{style:k?{visibility:"hidden",pointerEvents:"none"}:{},onClick:this.back},l.a.createElement(Na.a,{fill:"#F15F8A"}))}),l.a.createElement("div",{className:"Result_New"},h&&h.nom&&l.a.createElement("h2",null,h.nom.substring(0,1).toUpperCase()+h.nom.substring(1)),l.a.createElement("div",{className:"Canvas_Container"},l.a.createElement("img",{alt:"canvas",src:a.state.canvas_,ref:function(t){return e.imageRef=t}})),l.a.createElement("h1",null,w[0]),l.a.createElement("p",null,w[1]),k?l.a.createElement(l.a.Fragment,null,l.a.createElement(m.h,{style:{marginTop:"6.89655172vh"},stretched:!0,size:"l",mode:"pink_secondary",onClick:function(){}},l.a.createElement("div",{style:{opacity:.5,display:"flex",flexDirection:"column"}},l.a.createElement("span",null,"\u0416\u0434\u0451\u043c \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445"),l.a.createElement("span",{style:{fontSize:11,marginTop:-4}},E," \u0441."))),l.a.createElement(m.O,{style:{marginTop:12},photos:[o.photo_100],size:"m",visibleCount:5})):l.a.createElement(l.a.Fragment,null,l.a.createElement(m.h,{style:{marginTop:"6.89655172vh"},stretched:!0,size:"l",mode:"gradient_pink",onClick:Object(g.a)(b.a.mark((function t(){var n,r,o,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.t,r=n.socket,o=n.state,c=o.subGameInfo,a.setPopout(l.a.createElement(m.E,null)),t.prev=2,s){t.next=6;break}return t.next=6,f.a.send("VKWebAppShowNativeAds",{ad_format:"interstitial"});case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(2);case 10:a.setPopout(null),a.updateData(),c.friendly?(a.setPopout(l.a.createElement(m.E,null)),r.call("friends.joinLobby",{owner_id:c.owner_id},function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.response){e.next=8;break}return e.next=3,te(t.response.members);case 3:return e.next=5,a.setState({friend_lobby:t.response});case 5:a.vkChatIntegration||a.isFromCatalogChat?a.setActivePanel("friend_lobby",["main"]):a.setActivePanel("friend_lobby",["main","friends"]),e.next=9;break;case 8:a.vkChatIntegration||a.isFromCatalogChat?a.setActivePanel("main"):a.setActivePanel("friends",["main"]);case 9:a.showNewAd(),a.setPopout(null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):(a.setActivePanel("search",["main"]),a.showNewAd());case 13:case"end":return t.stop()}}),t,null,[[2,8]])})))},"\u0418\u0433\u0440\u0430\u0442\u044c \u0435\u0449\u0451 \u0440\u0430\u0437"),l.a.createElement(m.h,{style:{marginTop:8},stretched:!0,size:"l",mode:"pink_secondary",before:l.a.createElement(Ta.a,{width:16,height:16}),onClick:function(){e.shareStory()}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")),l.a.createElement("div",{className:"Actions_Container"},(!a.state.subGameInfo||!a.state.subGameInfo.data||a.state.subGameInfo.data.saveGame)&&l.a.createElement(m.r,{onClick:function(){a.setPopout(l.a.createElement(m.E,null)),a.socket.call("pictures.like",{game_id:n},(function(t){e.setState({isLiked:t.response.isLiked}),a.setPopout(null)}))}},v?l.a.createElement(Wa.a,{fill:"#F16384",width:28,height:28}):l.a.createElement(Ma.a,{fill:"var(--color_secondary)"})),!i&&l.a.createElement(m.r,{onClick:function(){a.setPopout(l.a.createElement(m.E,null)),a.socket.call("games.report",{game_id:n},(function(e){e.response?a.setSnackbar("\u0416\u0430\u043b\u043e\u0431\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430"):a.setSnackbar("\u0416\u0430\u043b\u043e\u0431\u0430 \u0443\u0436\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430"),a.setPopout(null)}))}},l.a.createElement(Ba.a,{fill:"var(--color_secondary)"})))))}}]),t}(i.PureComponent);za.defaultProps={};var Va=za,Ka=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.icon,n=e.title,r=e.description,o=e.buttonText,s=e.buttonIcon,c=e.buttonOnClick,i=e.buttonMode,u=e.buttonBack,p=e.buttonBackOnClick,d=e.buttonBackText;return l.a.createElement(l.a.Fragment,null,u&&!1,l.a.createElement("div",{className:"Placeholder_Clean"},l.a.cloneElement(a,{className:"Placeholder__Icon"}),l.a.createElement("div",null,l.a.createElement("h1",null,n),l.a.createElement("p",null,r),l.a.createElement("div",{className:u?"TwoButtons":"OneButton"},o&&l.a.createElement(m.h,{after:s,size:"m",mode:i||"gradient",onClick:c},o),u&&l.a.createElement(m.h,{size:"m",mode:"secondary",onClick:function(){p&&"function"===typeof p?p():t.back()}},d||"\u041d\u0430\u0437\u0430\u0434")))))}}]),t}(i.PureComponent);Ka.defaultProps={};var Ha=Ka,Ya=a(136),Za=a.n(Ya),Xa=function(){function e(){Object(n.a)(this,e),this.onConnect=this.onConnect.bind(this),this.onDisconnect=this.onDisconnect.bind(this),this.onConnectionError=this.onConnectionError.bind(this),this.getSocket=this.getSocket.bind(this)}return Object(r.a)(e,[{key:"onConnect",value:function(e){this.socket.on("connect",e)}},{key:"onDisconnect",value:function(e){this.socket.on("disconnect",e)}},{key:"onConnectionError",value:function(e){this.socket.on("connect_error",e)}},{key:"call",value:function(e,t,a){this.socket.emit(e,t,a)}},{key:"subscribe",value:function(e,t){this.socket.on(e,t)}},{key:"unsubscribe",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];for(var n=0,r=t;n<r.length;n++){var o=r[n];this.socket.removeAllListeners(o)}}},{key:"connect",value:function(e,t){this.socket?this.socket.connect():this.socket=Za.a.connect(e,{path:"/socket.io",query:t,transports:["websocket","polling","flashsocket"],reconnection:!1,pingTimeout:6e4})}},{key:"getSocket",value:function(){return this.socket}}]),e}(),Ja=a(387),$a=a(388),qa=a(389),Qa=a(390),en=a(363),tn=a(391),an=a(392),nn=a(84),rn=a.n(nn);var on="https://vds2153919.my-ihor.ru:8088/";function sn(e){return cn.apply(this,arguments)}function cn(){return(cn=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.send("VKWebAppStorageGet",{keys:[t]});case 2:return e.abrupt("return",e.sent.keys[0].value);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e,t){return f.a.send("VKWebAppStorageSet",{key:e,value:t})}function un(e){return pn.apply(this,arguments)}function pn(){return(pn=Object(g.a)(b.a.mark((function e(t){var a,n,r=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]&&r[1],e.prev=1,e.next=4,f.a.send("VKWebAppGetAuthToken",{app_id:parseInt(N().vk_app_id),scope:t});case 4:if((n=e.sent).scope.split(",").length!==t.split(",").length){e.next=9;break}return e.abrupt("return",n.access_token);case 9:return e.abrupt("return",un(t,a));case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function mn(e,t,a,n){return dn.apply(this,arguments)}function dn(){return(dn=Object(g.a)(b.a.mark((function e(t,a,n,r){var o,s,c,i,l,u,p,m,d,h,v,k,E,y=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=y.length>4&&void 0!==y[4]&&y[4],r){e.next=7;break}return e.next=4,un("photos");case 4:if(r=e.sent){e.next=7;break}return e.abrupt("return",0);case 7:if(e.t0=o,!e.t0){e.next=12;break}return e.next=11,sn("perm_album");case 11:e.t0=e.sent;case 12:if(""!==(c=e.t0)&&o){e.next=22;break}return e.next=16,f.a.send("VKWebAppCallAPIMethod",{method:"photos.createAlbum",params:{title:a,v:"5.126",access_token:r}});case 16:if(s=e.sent.response.id,!o){e.next=20;break}return e.next=20,ln("perm_album","".concat(s));case 20:e.next=23;break;case 22:s=parseInt(c);case 23:l=!1,u=0;case 25:if(!(u<1)){e.next=50;break}return e.prev=26,e.next=29,f.a.send("VKWebAppCallAPIMethod",{method:"photos.getUploadServer",params:{album_id:s,v:"5.126",access_token:r}});case 29:i=e.sent.response.upload_url,e.next=47;break;case 32:if(e.prev=32,e.t1=e.catch(26),l){e.next=45;break}return l=!0,u--,e.next=39,f.a.send("VKWebAppCallAPIMethod",{method:"photos.createAlbum",params:{title:a,v:"5.126",access_token:r}});case 39:if(s=e.sent.response.id,!o){e.next=43;break}return e.next=43,ln("perm_album","".concat(s));case 43:e.next=47;break;case 45:return console.error(e.t1),e.abrupt("return",1);case 47:u++,e.next=25;break;case 50:t instanceof Blob&&(t=[t]),p=!0,m=!1,d=void 0,e.prev=54,h=b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k.value,(a=new FormData).append("photo",t,"image.png"),e.prev=3,e.next=6,new Promise((function(e){return rn()(on+i,{method:"POST",body:a}).then((function(e){return e.json()})).then(function(){var t=Object(g.a)(b.a.mark((function t(a){var o,c,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=a.server,c=a.photos_list,i=a.hash,t.next=4,f.a.send("VKWebAppCallAPIMethod",{method:"photos.save",params:{album_id:s,server:o,photos_list:c,hash:i,caption:n,v:"5.126",access_token:r}});case 4:e(-1),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),e(2);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())}));case 6:return e.t0=e.sent,e.abrupt("return",{v:e.t0});case 10:return e.prev=10,e.t1=e.catch(3),console.error(e.t1),e.abrupt("return",{v:3});case 14:case"end":return e.stop()}}),e,null,[[3,10]])})),v=t[Symbol.iterator]();case 57:if(p=(k=v.next()).done){e.next=65;break}return e.delegateYield(h(),"t2",59);case 59:if("object"!==typeof(E=e.t2)){e.next=62;break}return e.abrupt("return",E.v);case 62:p=!0,e.next=57;break;case 65:e.next=71;break;case 67:e.prev=67,e.t3=e.catch(54),m=!0,d=e.t3;case 71:e.prev=71,e.prev=72,p||null==v.return||v.return();case 74:if(e.prev=74,!m){e.next=77;break}throw d;case 77:return e.finish(74);case 78:return e.finish(71);case 79:case"end":return e.stop()}}),e,null,[[26,32],[54,67,71,79],[72,,74,78]])})))).apply(this,arguments)}function fn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function hn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fn(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function vn(e){return bn.apply(this,arguments)}function bn(){return(bn=Object(g.a)(b.a.mark((function e(t){var n,r,o,s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.t.setPopout(l.a.createElement(m.E,null)),e.prev=1,n=a(29),r=n.createCanvas,e.next=6,G("https://photos.avocado.special.vk-apps.com/drawapp_search_images/stories/Story3.png");case 6:return o=e.sent,s=r(o.width,o.height),(c=s.getContext("2d")).drawImage(o,0,0),e.t0=c,e.next=12,G(t["Picture.url"]||t.Picture.url);case 12:return e.t1=e.sent,e.t0.drawImage.call(e.t0,e.t1,198,618,683,683),e.prev=14,e.next=17,f.a.send("VKWebAppShowStoryBox",{background_type:"image",blob:s.toDataURL("image/png"),attachment:{url:"https://vk.com/app".concat(N().vk_app_id,"#picture").concat(t.id),text:"go_to",type:"url"}});case 17:this.props.t.socket.call("games.share",{gameId:t.id}),V("stats.shareStory"),e.next=23;break;case 21:e.prev=21,e.t2=e.catch(14);case 23:this.props.t.setPopout(null),e.next=31;break;case 26:e.prev=26,e.t3=e.catch(1),console.error(e.t3),this.props.t.setPopout(null),this.props.t.setSnackbar("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430");case 31:case"end":return e.stop()}}),e,this,[[1,26],[14,21]])})))).apply(this,arguments)}function gn(e){return kn.apply(this,arguments)}function kn(){return(kn=Object(g.a)(b.a.mark((function e(t){var n,r,o,s,c,i,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t["Word.nom"]||t.Word.nom,this.props.t.setPopout(l.a.createElement(m.E,null)),e.prev=2,r=a(29),o=r.createCanvas,e.next=7,G("https://photos.avocado.special.vk-apps.com/drawapp_search_images/stories/Story1.png");case 7:return s=e.sent,e.prev=8,c=o(s.width,s.height),i=c.getContext("2d"),u=n.substring(0,1).toUpperCase()+n.substring(1),i.drawImage(s,0,0),i.font="64px TT Commons Demibold",i.textAlign="center",i.fillStyle="#616161",i.fillText(u,539,1210),e.t0=i,e.next=18,G(t["Picture.url"]||t.Picture.url);case 18:return e.t1=e.sent,e.t0.drawImage.call(e.t0,e.t1,198,618,683,683),e.prev=20,e.next=23,f.a.send("VKWebAppShowStoryBox",{background_type:"image",blob:c.toDataURL("image/png"),attachment:{url:"https://vk.com/app".concat(N().vk_app_id,"#picture").concat(t.id),text:"go_to",type:"url"}});case 23:e.next=27;break;case 25:e.prev=25,e.t2=e.catch(20);case 27:this.props.t.socket.call("games.share",{gameId:t.id}),V("stats.shareStory"),e.next=35;break;case 31:e.prev=31,e.t3=e.catch(8),console.error(e.t3),this.props.t.setSnackbar("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430");case 35:this.props.t.setPopout(null),e.next=43;break;case 38:e.prev=38,e.t4=e.catch(2),console.error(e.t4),this.props.t.setPopout(null),this.props.t.setSnackbar("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430");case 43:case"end":return e.stop()}}),e,this,[[2,38],[8,31],[20,25]])})))).apply(this,arguments)}function En(e,t){return yn.apply(this,arguments)}function yn(){return(yn=Object(g.a)(b.a.mark((function e(t,a){var n,r=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.props.t,console.log(t),n.setPopout(l.a.createElement(m.a,{onClose:function(){return n.setPopout(null)},iosCloseItem:l.a.createElement(m.b,{autoclose:!0,mode:"cancel"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),toggleRef:a||this.pictureActionsButton},l.a.createElement(m.b,{autoclose:!0,before:l.a.createElement(Ja.a,null),onClick:function(){t.drawerId!==n.state.vk_user.id?vn.bind(r)(t):gn.bind(r)(t)}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"),l.a.createElement(m.b,{autoclose:!0,before:l.a.createElement($a.a,null),onClick:function(){f.a.send("VKWebAppCopyText",{text:"https://vk.com/app".concat(N().vk_app_id,"#picture").concat(t.id)}),n.setSnackbar("\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430")}},"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u0443"),l.a.createElement(m.b,{autoclose:!0,before:l.a.createElement(qa.a,null),onClick:function(){f.a.send("VKWebAppCopyText",{text:"https://vk.com/app".concat(N().vk_app_id,"#author").concat(t.drawerId)}),n.setSnackbar("\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430")}},"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0430\u0432\u0442\u043e\u0440\u0430"))),this.forceUpdate(),n.forceUpdate();case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var wn=function(e){function t(e){var a;Object(n.a)(this,t);var r=(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).props,c=r.t,i=r.param,l=r.current,u=c.socket,p=c.state[i];return a.state={canGetMore:p.length>1,isReported:!1},u.call("pictures.isLiked",{game_id:p[l].id},(function(e){a.setState({isLiked:e.response})})),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=T(),a=this.props,n=a.t,r=a.current,o=a.method,s=a.param,c=a.user_id,i=n.state,u=i.n_canvasData,p=i.banners,d=n.state[s],v=d[r],E=q[v.drawerId],y=this.state,w=y.isLiked,_=y.isReported,x=(y.isDeleted,y.canGetMore),L=Date.now()-2592e5,O=L>=864e5?["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]:L>=36e5?["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]:"\u043c\u0438\u043d",S=L/1e3/60;P(S>=1440?Math.floor(S/24/60):S>=60?Math.floor(S/60):Math.floor(S),O);return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.back();case 1:case"end":return e.stop()}}),e)})))}),separator:!1}),v&&l.a.createElement("div",{className:"PictureInfo"},l.a.createElement("div",{className:"PictureInfo-Word-Time"},l.a.createElement("span",null,v["Word.nom"]&&v["Word.nom"].substring(0,1).toUpperCase()+v["Word.nom"].substring(1)),l.a.createElement("span",null,Math.round((v.endTime-v.startTime)/1e3)," \u0441.")),l.a.createElement("div",{className:"PictureInfo-CanvasContainer"},l.a.createElement("img",{crossOrigin:"anonymous",alt:"im",src:v["Picture.url"]||u,ref:function(t){return e.imageRef=t}})),l.a.createElement("div",{className:"PictureInfo-Actions"},[[w?l.a.createElement(Wa.a,{fill:"#FD5C81",width:28,height:28}):l.a.createElement(Ma.a,null),A(v["Picture.likes"]),function(){n.setPopout(l.a.createElement(m.E,null)),n.socket.call("pictures.like",{game_id:v.id},(function(t){t.response&&(d[r]=hn({},v,Object(h.a)({},"Picture.likes",t.response.likes)),n.setState({like_picturesList:d}),e.setState({isLiked:t.response.isLiked})),n.setPopout(null)}))}],[l.a.createElement(Ta.a,null),"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f",function(){return En.bind(e)(v)},function(t){return e.pictureActionsButton=t}],v.drawerId===n.state.vk_user.id?[l.a.createElement(Qa.a,null),"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",Object(g.a)(b.a.mark((function t(){var a,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.setPopout(l.a.createElement(m.E,null)),a=Object(C.createCanvas)(e.imageRef.naturalWidth,e.imageRef.naturalHeight),a.getContext("2d").drawImage(e.imageRef,0,0),t.t0=mn,t.next=7,new Promise((function(e){return a.toBlob((function(t){return e(t)}))}));case 7:return t.t1=t.sent,t.t2="\u0420\u0438\u0441\u0443\u043d\u043e\u043a \u0441\u0434\u0435\u043b\u0430\u043d \u0432 \u043c\u0438\u043d\u0438-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 vk.com/app".concat(N().vk_app_id),t.next=11,(0,t.t0)(t.t1,"\u0423\u0433\u0430\u0434\u0430\u0439, \u0447\u0442\u043e \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043d\u043e",t.t2,!1,!0);case 11:r=t.sent,n.setSnackbar(-1===r?"\u0420\u0438\u0441\u0443\u043d\u043e\u043a \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d \u0432 \u0430\u043b\u044c\u0431\u043e\u043c \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435":0===r?"\u0414\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u0432 \u0430\u043b\u044c\u0431\u043e\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u0434\u043e\u0441\u0442\u0443\u043f":"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 :("),n.setPopout(null);case 14:case"end":return t.stop()}}),t)})))]:[l.a.createElement(Ba.a,null),"\u0416\u0430\u043b\u043e\u0431\u0430",function(){n.setPopout(l.a.createElement(m.E,null)),n.socket.call("games.report",{game_id:v.id},(function(t){t.response?n.setSnackbar("\u0416\u0430\u043b\u043e\u0431\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430"):n.setSnackbar("\u0416\u0430\u043b\u043e\u0431\u0430 \u0443\u0436\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430"),e.setState({isReported:!0}),n.setPopout(null)}))}]].map((function(e,t){return l.a.createElement("div",{key:"action_".concat(t),onClick:e[2],ref:e[3],style:_&&2===t?{opacity:.5,pointerEvents:"none"}:{}},e[0],l.a.createElement("span",null,e[1]))}))),l.a.createElement("div",{className:"PictureInfo-Author",onClick:function(){n.setPopout(l.a.createElement(m.E,null)),n.socket.call("users.getById",{id:v.drawerId},function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.socket.call("games.getByDrawerId",{id:v.drawerId},function(){var e=Object(g.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({author:hn({id:v.drawerId},t.response||{}),author_works:a.response});case 2:n.go("author"),n.setPopout(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},l.a.createElement("div",null,"\u0410\u0432\u0442\u043e\u0440"),l.a.createElement("div",null,l.a.createElement(zt,{size:36,src:E.photo_100,frame:E.frame_type,color:E.frame_color}),l.a.createElement("div",null,E.first_name," ",E.last_name))),l.a.createElement("div",{className:"PictureInfo-Arrows-ResumeDraw"},l.a.createElement("div",{style:0===r?{opacity:.5,pointerEvents:"none"}:{},onClick:function(){n.setPopout(l.a.createElement(m.E,null)),n.socket.call("pictures.isLiked",{game_id:d[r-1].id},(function(t){e.setState({isLiked:t.response,canGetMore:!0,isReported:!1}),n.setState({like_currentPictureSelected:r-1,n_canvasData:void 0}),n.setPopout(null)}))}},l.a.createElement(en.a,null)),l.a.createElement("div",{style:{background:"var(--gradient_green)",color:"#FFFFFF",display:v.drawerId!==n.state.vk_user.id&&"none"},onClick:function(){n.socket.call("games.canResumeDrawing",{gameId:v.id},function(){var e=Object(g.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.response){e.next=16;break}if(n.state.user.vk_donut){e.next=9;break}return e.prev=2,e.next=5,f.a.send("VKWebAppShowNativeAds",{ad_format:"reward"});case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:return console.log(v),e.next=12,n.setState({isOnlineDrawing:!1,word:{nom:v["Word.nom"]},pictureUrl_:v["Picture.url"],gameId_:v.id});case 12:console.log(n.state.word),n.go("game"),e.next=17;break;case 16:t?n.go("vk_donut_blocked"):n.go("vk_donut_avocado");case 17:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}())}},l.a.createElement(tn.a,null)),l.a.createElement("div",{style:x?{}:{opacity:.5,pointerEvents:"none"},onClick:function(){var t=!1;r===d.length-1?o&&o.length>0?t=!0:e.setState({canGetMore:!1}):(n.socket.call("pictures.isLiked",{game_id:d[r+1].id},(function(t){e.setState({isLiked:t.response}),n.setState({like_currentPictureSelected:r+1,n_canvasData:void 0})})),r+1===d.length-1&&(e.setState({canGetMore:!1}),t=!0)),t&&(n.setPopout(l.a.createElement(m.E,null)),n.socket.call(o,{offset:d.length,limit:10,id:c},function(){var t=Object(g.a)(b.a.mark((function t(a){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.response.length>0)){t.next=4;break}return t.next=3,te(a.response.map((function(e){return e.drawerId})));case 3:n.setState((r={},Object(h.a)(r,s,Object(k.a)(new Set([].concat(Object(k.a)(d),Object(k.a)(a.response))))),Object(h.a)(r,"n_canvasData",void 0),r));case 4:e.setState({canGetMore:a.response.length>0}),n.setPopout(null);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.setState({isReported:!1})}},l.a.createElement(an.a,null))),!n.newAdSupports&&p[8]&&l.a.createElement(m.D,{bannerData:p[8],onClose:Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p[8]=!1,t.next=3,n.setState({banners:p});case 3:e.forceUpdate();case 4:case"end":return t.stop()}}),t)})))})))}}]),t}(i.PureComponent);wn.defaultProps={};var _n=wn;function Cn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Cn(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Cn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ln=W(),On=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={offset:e.t.state.picturesFeed.length,limit:10,canGetMore:!0,prevY:0},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef),this.props.t.state.scrollPosition&&(console.log("Scroll to ".concat(this.props.t.state.scrollPosition)),setTimeout((function(){return document.body.scrollTop=t.props.t.state.scrollPosition}),800));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleObserver",value:function(e,t){var a=this,n=e[0].boundingClientRect.y,r=this.props.t,o=this.state,s=o.prevY,c=o.offset,i=o.limit,l=o.canGetMore;(0===s||s>n)&&l&&(this.setState({spinner:!0}),r.socket.call("pictures.getFeed",{offset:c,limit:i},function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(t.response.map((function(e){return e.drawerId})));case 2:r.setState({picturesFeed:Object(k.a)(new Set([].concat(Object(k.a)(r.state.picturesFeed),Object(k.a)(t.response))))}),a.setState({canGetMore:t.response.length>0,spinner:!1}),a.forceUpdate();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.setState({offset:c+i})),this.setState({prevY:n})}},{key:"render_old",value:function(){var e=this,t=this.props.t,a=t.state,n=a.banners,r=a.picturesFeed,o=a.topLikes,s=this.state.spinner;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Likes"},o&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"\u041b\u0443\u0447\u0448\u0438\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u044b:"),l.a.createElement(m.q,{showArrows:!0,getScrollToLeft:function(e){return e-184},getScrollToRight:function(e){return e+184}},l.a.createElement("div",{style:{display:"flex"},className:"Pictures_List__"},o.map((function(e,a){return l.a.createElement("div",{key:"div__".concat(a),onClick:Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({like_currentPictureSelected_:a,like_currentPictureSelected:a,like_method:"",like_param:"topLikes",scrollPosition:0});case 2:t.go("picture_info");case 3:case"end":return e.stop()}}),e)})))},l.a.createElement("img",{alt:"img",src:e["Picture.url"]}),l.a.createElement("div",null,A(e["Picture.likes"]),l.a.createElement(Wa.a,{width:10,height:10,style:{marginLeft:4}})))}))))),r.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{style:{margin:"24px 0 0 0"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u0443\u044e \u043a\u0430\u0440\u0442\u0438\u043d\u0443, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0438 \u043e\u0446\u0435\u043d\u0438\u0442\u044c \u0435\u0451:"),l.a.createElement("div",{style:{marginTop:18,gridGap:Ln?8:15,paddingBottom:!t.newAdSupports&&n[2]&&140},className:"Images_Grid"},r.map((function(e,a){return l.a.createElement("div",{key:"Image_".concat(a),onClick:Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({like_currentPictureSelected_:a,like_currentPictureSelected:a,like_method:"pictures.getFeed",like_param:"picturesFeed",like_user_id:t.state.vk_user.id,scrollPosition:document.body.scrollTop});case 2:t.go("picture_info");case 3:case"end":return e.stop()}}),e)})))},l.a.createElement("img",{alt:"img",src:e["Picture.url"]}))})),s&&l.a.createElement(m.J,{size:"small"})),!t.newAdSupports&&n[2]&&l.a.createElement(m.D,{bannerData:n[2],onClose:Object(g.a)(b.a.mark((function a(){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n[2]=!1,a.next=3,t.setState({banners:n});case 3:e.forceUpdate();case 4:case"end":return a.stop()}}),a)})))})),l.a.createElement("div",{ref:function(t){return e.loadingRef=t}})))}},{key:"render",value:function(){var e=this,t=this.props.t,a=t.state,n=t.socket,r=a.picturesFeed,o=this.state.spinner;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-ManyCards"},l.a.createElement("div",null,l.a.createElement(jt.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u041b\u0435\u043d\u0442\u0430"),l.a.createElement("p",null,"\u041e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0439\u0442\u0435 \u043d\u0435\u0434\u0430\u0432\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u044b \u043f\u0440\u044f\u043c\u043e \u0437\u0434\u0435\u0441\u044c. \u0422\u043e\u043b\u044c\u043a\u043e \u043d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c\u0442\u0435 \u043e\u0446\u0435\u043d\u0438\u0442\u044c \u0438\u0445"))),r.map((function(a,o){var s=q[a.drawerId],c=s.photo_100,i=s.first_name,u=s.last_name,p=s.frame_type,d=s.frame_color;return l.a.createElement("div",{key:"Card-".concat(o)},l.a.createElement("div",{onClick:function(){t.setPopout(l.a.createElement(m.E,null)),t.socket.call("users.getById",{id:a.drawerId},function(){var e=Object(g.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.socket.call("games.getByDrawerId",{id:a.drawerId},function(){var e=Object(g.a)(b.a.mark((function e(r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({author:xn({id:a.drawerId},n.response||{}),author_works:r.response});case 2:t.go("author"),t.setPopout(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},l.a.createElement(zt,{size:36,src:c,frame:p,color:d}),l.a.createElement("div",null,l.a.createElement("p",null,i," ",u),l.a.createElement("p",null,a.Word.nom," \xb7 ",Math.round((a.endTime-a.startTime)/1e3),"\u0441."))),l.a.createElement("div",null,l.a.createElement("img",{alt:"picture",src:a.Picture.url})),l.a.createElement("div",null,l.a.createElement("div",{style:xn({},a.isLiked?{background:"var(--gradient_pink)",color:"var(--panel_container_card_background)"}:{}),onClick:function(){t.setPopout(l.a.createElement(m.E,null)),n.call("pictures.like",{game_id:a.id},function(){var n=Object(g.a)(b.a.mark((function n(s){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!s.response){n.next=7;break}return a.Picture.likes=s.response.likes,a.isLiked=s.response.isLiked,r[o]=a,n.next=6,t.setState({picturesFeed:r});case 6:e.forceUpdate();case 7:t.setPopout(null);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},l.a.createElement(Ma.a,{width:20,height:20}),l.a.createElement("span",null,A(a.Picture.likes))),l.a.createElement("div",{onClick:function(){return En.bind(e)(a,e["pictureActionsButton".concat(o)])},ref:function(t){e["pictureActionsButton".concat(o)]=t}},l.a.createElement(Ta.a,{width:20,height:20})),l.a.createElement("div",{onClick:function(){t.setPopout(l.a.createElement(m.E,null)),t.socket.call("games.report",{game_id:a.id},(function(a){a.response?t.setSnackbar("\u0416\u0430\u043b\u043e\u0431\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430"):t.setSnackbar("\u0416\u0430\u043b\u043e\u0431\u0430 \u0443\u0436\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430"),e.setState({isReported:!0}),t.setPopout(null)}))}},l.a.createElement(Ba.a,{width:20,height:20}))))})),o&&l.a.createElement("div",null,l.a.createElement(m.J,{size:"small"})),l.a.createElement("div",{ref:function(t){return e.loadingRef=t},className:"LoadingRef"})))}}]),t}(i.PureComponent);On.defaultProps={};var Sn=On,jn=a(393),Pn=a(394),An=a(395),In=a(396),Fn=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={offset:e.t.state.author_works.length,limit:50,canGetMore:!0,prevY:0,sort:"DESC"},a.onChangeSort=a.onChangeSort.bind(Object(E.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef),this.props.t.state.scrollPosition&&(console.log("Scroll to ".concat(this.props.t.state.scrollPosition)),setTimeout((function(){return document.body.scrollTop=e.props.t.state.scrollPosition}),800))}},{key:"handleObserver",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{boundingClientRect:{y:0}}],a=(arguments.length>1&&arguments[1],t[0].boundingClientRect.y),n=this.props.t,r=this.state,o=r.prevY,s=r.offset,c=r.limit,i=r.canGetMore,l=r.sort;(0===o||o>a)&&i&&(this.setState({spinner:!0}),n.socket.call("games.getByDrawerId",{id:n.state.author.id,offset:s,limit:c,sort:l},function(){var t=Object(g.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.setState({author_works:[].concat(Object(k.a)(n.state.author_works),Object(k.a)(a.response))}),e.setState({canGetMore:a.response.length>0,spinner:!1}),e.forceUpdate();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.setState({offset:s+c})),this.setState({prevY:a})}},{key:"onChangeSort",value:function(){var e=Object(g.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.t,e.next=3,this.setState({spinner:!0,sort:t.target.value,offset:0,prevY:0,canGetMore:!0});case 3:return e.next=5,a.setState({author_works:[]});case 5:this.forceUpdate(),this.handleObserver();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render_old",value:function(){var e=this,t=this.props.t,a=t.state,n=t._tags,r=W(),o=a.author,s=a.author_works,c=a.banners,i=this.state,u=i.sort,p=i.spinner;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Author"},l.a.createElement("div",{className:"User_Header"},l.a.createElement(m.f,{src:q[o.id].photo_100,size:48,shadow:!1},l.a.createElement("div",{className:o.online?"online":"offline"})),l.a.createElement("div",{className:"UserTags"},n().map((function(e,a){return o[e[0]]&&l.a.cloneElement(e[1],{onClick:function(){return t.setActiveModal(e[0])}})})))),l.a.createElement("h3",null,q[o.id].first_name," ",q[o.id].last_name.substring(0,1),"."),l.a.createElement("div",{className:"Author_Title_Container"},l.a.createElement("h1",null,"\u0420\u0430\u0431\u043e\u0442\u044b \u0438\u0433\u0440\u043e\u043a\u0430"),l.a.createElement(m.h,{mode:"tertiary",after:l.a.createElement(jn.a,null),onClick:function(){t.setPopout(l.a.createElement(m.a,{onClose:function(){return t.setPopout(null)},iosCloseItem:l.a.createElement(m.b,{autoclose:!0,mode:"cancel"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")},l.a.createElement(m.b,{autoclose:!0,before:l.a.createElement(Pn.a,null),onChange:e.onChangeSort,name:"sort",value:"DESC",checked:"DESC"===u,selectable:!0},"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435"),l.a.createElement(m.b,{autoclose:!0,before:l.a.createElement(An.a,null),onChange:e.onChangeSort,name:"sort",value:"ASC",checked:"ASC"===u,selectable:!0},"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0442\u0430\u0440\u044b\u0435")))}},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430")),l.a.createElement("div",{style:{marginTop:24,gridGap:r?8:15,paddingBottom:!t.newAdSupports&&c[6]&&140},className:"Images_Grid"},s.map((function(e,a){return l.a.createElement("div",{key:"Image_".concat(a),onClick:Object(g.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({like_currentPictureSelected:a,like_method:"games.getByDrawerId",like_param:"author_works",like_user_id:o.id,scrollPosition:document.body.scrollTop});case 2:"picture_info"===(n=t.state.history)[n.length-1]?t.back():t.go("picture_info");case 4:case"end":return e.stop()}}),e)})))},l.a.createElement("img",{alt:"img",src:e["Picture.url"]}))})),p&&l.a.createElement(m.J,{size:"small"})),!t.newAdSupports&&c[6]&&l.a.createElement(m.D,{bannerData:c[6],onClose:Object(g.a)(b.a.mark((function a(){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c[6]=!1,a.next=3,t.setState({banners:c});case 3:e.forceUpdate();case 4:case"end":return a.stop()}}),a)})))})),l.a.createElement("div",{ref:function(t){return e.loadingRef=t}}))}},{key:"render",value:function(){var e=this,t=this.props.t,a=t.state,n=t._tags,r=a.author,o=a.author_works,s=q[r.id],c=this.state,i=c.sort,u=c.spinner,p=W(),d=function(){t.setPopout(l.a.createElement(m.a,{onClose:function(){return t.setPopout(null)},iosCloseItem:l.a.createElement(m.b,{autoclose:!0,mode:"cancel"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")},l.a.createElement(m.b,{autoclose:!0,before:l.a.createElement(Pn.a,null),onChange:e.onChangeSort,name:"sort",value:"DESC",checked:"DESC"===i,selectable:!0},"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435"),l.a.createElement(m.b,{autoclose:!0,before:l.a.createElement(An.a,null),onChange:e.onChangeSort,name:"sort",value:"ASC",checked:"ASC"===i,selectable:!0},"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0442\u0430\u0440\u044b\u0435")))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Profile"},l.a.createElement("div",{className:"UserAvatarCover"},l.a.createElement("img",{alt:"cover",src:s.photo_max_orig})),l.a.createElement("div",{className:"UserInfoContainer"},l.a.createElement(zt,{size:100,src:s.photo_100,frame:s.frame_type,color:s.frame_color,badge:!0,badgeValue:r.online}),l.a.createElement("div",{className:"UserNameTags"},l.a.createElement("div",{className:"AuthorName"},l.a.createElement("h1",null,s.first_name," ",s.last_name),!p&&l.a.createElement(m.r,{onClick:d},l.a.createElement(In.a,null))),l.a.createElement("div",{className:"UserTags"},n().map((function(e,a){return r[e[0]]&&l.a.cloneElement(e[1],{onClick:function(){return t.setActiveModal(e[0])}})})))),l.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},p&&l.a.createElement(m.h,{mode:"secondary",before:l.a.createElement(In.a,{width:16,height:16}),onClick:d,style:{marginTop:9}},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"),l.a.createElement("div",{className:"AuthorWorks"},o.map((function(e,a){return l.a.createElement("div",{key:"Image_".concat(a),onClick:Object(g.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({like_currentPictureSelected:a,like_method:"games.getByDrawerId",like_param:"author_works",like_user_id:r.id,scrollPosition:document.body.scrollTop});case 2:"picture_info"===(n=t.state.history)[n.length-1]?t.back():t.go("picture_info");case 4:case"end":return e.stop()}}),e)})))},l.a.createElement("img",{alt:"img",src:e["Picture.url"]}))})),u&&l.a.createElement(m.J,{size:"small"}),l.a.createElement("div",{ref:function(t){return e.loadingRef=t},className:"LoadingRef"}))))))}}]),t}(i.PureComponent);Fn.defaultProps={};var Dn=Fn,Nn=W(),Tn=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.t,a=t.state.banners,n=t._tags;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:t.back}),separator:!1},Nn&&"\u041c\u0435\u0442\u043a\u0438"),l.a.createElement("div",{className:"Tags",style:{paddingBottom:24}},!Nn&&l.a.createElement("h2",{style:{textAlign:"left"}},"\u041c\u0435\u0442\u043a\u0438"),l.a.createElement("div",{className:"TagsList",style:{paddingBottom:!t.newAdSupports&&a[5]&&140}},n().map((function(e){return l.a.createElement("div",null,e[1],l.a.createElement("div",null,l.a.createElement("h1",null,e[2]),l.a.createElement("h3",null,e[3])))}))),!t.newAdSupports&&a[5]&&l.a.createElement(m.D,{bannerData:a[5],onClose:Object(g.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a[5]=!1,n.next=3,t.setState({banners:a});case 3:e.forceUpdate();case 4:case"end":return n.stop()}}),n)})))})))}}]),t}(i.PureComponent);Tn.defaultProps={};var Wn=Tn,Mn=a(397),Bn=a(398),Un=W(),Rn=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={friends:[],others:[],players_count:{}},a.updateFriends=a.updateFriends.bind(Object(E.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"updateFriends",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a,n,r,o,s,c=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],this.props.t.state.isNotApp){e.next=29;break}return e.prev=2,e.next=5,f.a.send("VKWebAppGetAuthToken",{app_id:parseInt(N().vk_app_id),scope:"friends"});case 5:return a=e.sent.access_token,e.next=8,f.a.send("VKWebAppCallAPIMethod",{method:"friends.get",params:{access_token:a,v:"5.131"}});case 8:n=e.sent,r=n.response.count,o=Math.floor(r/100),t=Object(k.a)(n.response.items),s=0;case 13:if(!(s<o)){e.next=22;break}return e.t0=t,e.next=17,f.a.send("VKWebAppCallAPIMethod",{method:"friends.get",params:{access_token:a,v:"5.131",offset:100*s}});case 17:e.t1=e.sent.response.items,t=e.t0.concat.call(e.t0,e.t1);case 19:s++,e.next=13;break;case 22:return t=Object(k.a)(new Set(t)),e.next=25,te(t);case 25:e.next=29;break;case 27:e.prev=27,e.t2=e.catch(2);case 29:this.props.t.socket.call("friends.getLobbies",{ids:t},function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n,r,o,s,i,l,u,p,m,d,f,h,v;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=t.response,n=a.friend_lobbies,r=a.public_lobbies,o=[].concat(Object(k.a)(n),Object(k.a)(r)),s=n.map((function(e){return e.lobbyId})),i=r.map((function(e){return e.lobbyId})),l=Object(k.a)(new Set([].concat(Object(k.a)(s),Object(k.a)(i)))),u=c.state.players_count,p=!0,m=!1,d=void 0,e.prev=9,f=o[Symbol.iterator]();!(p=(h=f.next()).done);p=!0)v=h.value,u[v.lobbyId]=[v.count,v.max];e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),m=!0,d=e.t0;case 17:e.prev=17,e.prev=18,p||null==f.return||f.return();case 20:if(e.prev=20,!m){e.next=23;break}throw d;case 23:return e.finish(20);case 24:return e.finish(17);case 25:return e.next=27,te(l);case 27:c.setState({players_count:u,friends:s,others:i});case 28:case"end":return e.stop()}}),e,null,[[9,13,17,25],[18,,20,24]])})));return function(t){return e.apply(this,arguments)}}());case 31:case"end":return e.stop()}}),e,this,[[2,27]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this,t=this.props.t.socket;t.unsubscribe("createLobby","removeLobby"),t.subscribe("createLobby",function(){var t=Object(g.a)(b.a.mark((function t(a){var n,r,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,r=n.friends,o=n.others,!a.changeMode||-1!==o.indexOf(a.id)||-1!==r.indexOf(a.id)){t.next=7;break}return t.next=4,te([a.id]);case 4:e.setState({others:[].concat(Object(k.a)(o),[a.id])}),t.next=8;break;case 7:a.changeMode||-1!==r.indexOf(a.id)||e.setState({friends:[].concat(Object(k.a)(r),[a.id])});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.subscribe("removeLobby",function(){var t=Object(g.a)(b.a.mark((function t(a){var n,r,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,r=n.friends,o=n.others,a.changeMode&&o.indexOf(a.id)>-1&&-1===r.indexOf(a.id)?(o.splice(o.indexOf(a.id),1),e.setState({others:o})):!a.changeMode&&r.indexOf(a.id)>-1&&(r.splice(r.indexOf(a.id),1),e.setState({friends:r})),e.forceUpdate();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.subscribe("changeLobbyPlayersCount",function(){var t=Object(g.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=e.state.players_count)[a.lobbyId]=[a.count,a.max],e.setState({players_count:n}),e.forceUpdate();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.updateFriends()}},{key:"render_old",value:function(){var e=this,t=this.props.t,a=t.socket,n=t.state,r=(n.user,n.banners),o=this.state,s=o.friends,c=o.others;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:t.back}),separator:!1},Un&&"\u0414\u0440\u0443\u0436\u0435\u0441\u043a\u0430\u044f \u0438\u0433\u0440\u0430"),l.a.createElement("div",{className:"Friends"},!Un&&l.a.createElement("h2",{style:{textAlign:"left"}},"\u0414\u0440\u0443\u0436\u0435\u0441\u043a\u0430\u044f \u0438\u0433\u0440\u0430"),l.a.createElement("p",{style:{margin:"8px 40px 0 0"}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043b\u043e\u0431\u0431\u0438 \u043c\u043e\u0436\u0435\u0442 \u043b\u044e\u0431\u043e\u0439 \u0447\u0435\u043b\u043e\u0432\u0435\u043a."),l.a.createElement("p",{style:{margin:"4px 40px 0 0"}},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u2013 \u0434\u043e 20."),l.a.createElement("p",{style:{margin:"4px 40px 0 0"}},l.a.createElement(m.t,{target:"_blank",href:"https://vk.com/@draw_app-lobby"},"\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u0442\u0443\u0442 \ud83d\udd16")),l.a.createElement("div",{style:{display:"flex",marginTop:24}},l.a.createElement(m.h,{stretched:!0,size:"m",mode:"gradient_violet",onClick:function(){t.setPopout(l.a.createElement(m.E,null)),a.call("friends.createLobby",{},(function(e){e.response?(t.setState({friend_lobby:e.response}),t.go("friend_lobby"),t.setPopout(null)):t.setAlert("\u041e\u0448\u0438\u0431\u043a\u0430",e.error.message,[{title:"\u041e\u043a",mode:"cancel",autoclose:!0}])}))}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043b\u043e\u0431\u0431\u0438"),l.a.createElement(m.h,{style:{marginLeft:4},stretched:!0,size:"m",mode:"gradient_gray",onClick:Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateFriends();case 2:case"end":return t.stop()}}),t)})))},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a")),l.a.createElement("div",{className:"FriendsList",style:{paddingBottom:!t.newAdSupports&&r[7]&&140}},s.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"Span"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u0430, \u0432 \u0447\u044c\u0451 \u043b\u043e\u0431\u0431\u0438 \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f:"),l.a.createElement("div",{style:{marginTop:8}},s.filter((function(e){return q[e]})).map((function(e,n){return l.a.createElement(m.G,{key:"SCell_".concat(n),before:l.a.createElement(m.f,{size:32,shadow:!1,src:q[e].photo_100}),expandable:!0,onClick:function(){a.call("friends.joinLobby",{owner_id:e},function(){var e=Object(g.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(a.response.members);case 2:return e.next=4,t.setState({friend_lobby:a.response});case 4:t.go("friend_lobby");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},q[e].first_name," ",q[e].last_name.substring(0,1),".")})))):l.a.createElement("span",{className:"Span"},"\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0445 \u043b\u043e\u0431\u0431\u0438 \u043d\u0435\u0442."),c.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("div",{className:"Span",style:{marginTop:12}},"\u0414\u0440\u0443\u0433\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0438:"),l.a.createElement("div",{style:{marginTop:8}},c.filter((function(e){return q[e]})).map((function(e,n){return l.a.createElement(m.G,{key:"SCell_".concat(n),before:l.a.createElement(m.f,{size:32,shadow:!1,src:q[e].photo_100}),expandable:!0,onClick:function(){a.call("friends.joinLobby",{owner_id:e},function(){var e=Object(g.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(a.response.members);case 2:return e.next=4,t.setState({friend_lobby:a.response});case 4:t.go("friend_lobby");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},q[e].first_name," ",q[e].last_name.substring(0,1),".")}))))),!t.newAdSupports&&r[7]&&l.a.createElement(m.D,{bannerData:r[7],onClose:Object(g.a)(b.a.mark((function a(){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r[7]=!1,a.next=3,t.setState({banners:r});case 3:e.forceUpdate();case 4:case"end":return a.stop()}}),a)})))})))}},{key:"render",value:function(){var e=this.props.t,t=e.socket,a=(e.state.user,this.state),n=a.friends,r=a.others,o=a.players_count,s=[].concat(Object(k.a)(n),Object(k.a)(r)).filter((function(e){return q[e]&&o[e]}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:e.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-TwoCards"},l.a.createElement("div",null,l.a.createElement(Mn.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u0414\u0440\u0443\u0436\u0435\u0441\u043a\u0430\u044f \u0438\u0433\u0440\u0430"),l.a.createElement("p",null,"\u0418\u0433\u0440\u0430\u0439\u0442\u0435 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441\u043e \u0441\u0432\u043e\u0438\u043c\u0438 \u0434\u0440\u0443\u0437\u044c\u044f\u043c\u0438 \u0438 \u0443\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0439\u0442\u0435 \u0441\u043e\u0440\u0435\u0432\u043d\u043e\u0432\u0430\u043d\u0438\u044f!")),l.a.createElement("div",{className:"Panel_Container_Card-Buttons"},l.a.createElement(m.h,{stretched:!0,size:"m",mode:"gradient_violet",onClick:function(){e.setPopout(l.a.createElement(m.E,null)),t.call("friends.createLobby",{},(function(t){t.response?(e.setState({friend_lobby:t.response}),e.go("friend_lobby"),e.setPopout(null)):e.setAlert("\u041e\u0448\u0438\u0431\u043a\u0430",t.error.message,[{title:"\u041e\u043a",mode:"cancel",autoclose:!0}])}))}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043b\u043e\u0431\u0431\u0438"),l.a.createElement(m.h,{stretched:!0,size:"m",mode:"gradient_gray",onClick:function(){M("https://vk.com/@draw_app-avocadoplus")}},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"))),l.a.createElement("div",null,s.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"Panel_Container_Card-Header"},"\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u0433\u0440\u043e\u043a\u043e\u0432"),l.a.createElement("div",{className:"MiniCards"},s.map((function(a,n){var r=q[a],s=r.photo_100,c=r.first_name,i=r.last_name,u=r.frame_type,p=r.frame_color;return l.a.createElement("div",{className:"MiniCard",key:"Card-".concat(n),onClick:function(){t.call("friends.joinLobby",{owner_id:a},function(){var t=Object(g.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te(a.response.members);case 2:return t.next=4,e.setState({friend_lobby:a.response});case 4:e.go("friend_lobby");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},l.a.createElement(zt,{size:32,src:s,frame:u,color:p}),l.a.createElement("div",null,l.a.createElement("span",null,c," ",i.substring(0,1),"."),l.a.createElement("div",null,l.a.createElement(Bn.a,null),l.a.createElement("span",null,o[a][0]," \u0438\u0437 ",o[a][1]))))})))):l.a.createElement("p",{className:"Panel_Container_Card-Header Panel_Container_Card-Header-Center"},"\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0445 \u043b\u043e\u0431\u0431\u0438 \u043d\u0435\u0442"))))}}]),t}(i.PureComponent);Rn.defaultProps={};var Gn=Rn,zn=a(399),Vn=a(400),Kn=W(),Hn=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={removed:!1,ready:[],members:[],splashShow:!1},setTimeout(Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.t.state.friend_lobby,e.next=3,te(t.members);case 3:a.setState({members:t.members,ready:t.ready}),console.log({friend_lobby:t});case 5:case"end":return e.stop()}}),e)}))),1),a.playerComponent=a.playerComponent.bind(Object(E.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.t,a=t.socket,n=t.state,r=t.setSnackbar,o=t.back,s=t.go;a.unsubscribe("changeLobbyUsers","gameStart","chooseWord","setWord","draw","removeLobby","wakeUp","ready"),a.subscribe("wakeUp",function(){var t=Object(g.a)(b.a.mark((function t(a){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.user_ids.indexOf(n.user.id)>-1)for(r=0;r<3;r++)setTimeout(Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!f.a.supports("VKWebAppTapticNotificationOccurred")){t.next=3;break}return t.next=3,f.a.send("VKWebAppTapticNotificationOccurred",{type:"success"});case 3:return t.next=5,e.setState({splashShow:!e.state.splashShow});case 5:setTimeout((function(){e.setState({splashShow:!e.state.splashShow})}),100);case 6:case"end":return t.stop()}}),t)}))),200+200*r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),a.subscribe("removeLobby",function(){var t=Object(g.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({removed:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),a.subscribe("changeLobbyUsers",function(){var a=Object(g.a)(b.a.mark((function a(s){var c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=e.props.friend_lobby,a.next=3,te(s.players);case 3:c.members=s.players,t.setState({friend_lobby:c}),setTimeout(Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({members:c.members});case 2:e.forceUpdate(),-1===s.players.indexOf(n.user.id)&&e.props.friend_lobby.owner_id!==n.user.id&&(o(),e.state.removed?r("\u041b\u043e\u0431\u0431\u0438 \u0431\u044b\u043b\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e"):r("\u0412\u0430\u0441 \u0432\u044b\u0433\u043d\u0430\u043b\u0438 \u0438\u0437 \u043b\u043e\u0431\u0431\u0438"));case 4:case"end":return t.stop()}}),t)}))),400);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),a.subscribe("ready",function(){var a=Object(g.a)(b.a.mark((function a(n){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(r=e.props.friend_lobby).ready=n.ready,t.setState({friend_lobby:r}),e.setState({ready:n.ready});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),a.subscribe("chooseWord",function(){var a=Object(g.a)(b.a.mark((function a(n){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.setState({chooseWords:n.words}),setTimeout((function(){e.props.t.forceUpdate()}),400);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),a.subscribe("setWord",function(){var a=Object(g.a)(b.a.mark((function a(n){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.setState({word:n.word}),setTimeout((function(){e.props.t.forceUpdate()}),400);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),a.subscribe("gameStart",function(){var n=Object(g.a)(b.a.mark((function n(r){var o,c,i,l;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.unsubscribe("changeLobbyUsers"),o=r.lobbyId,c=r.drawerId,i=r.timeout,l=e.props.friend_lobby,n.next=4,t.setState({game_timeout:i,lobbyId:o,drawerId:c,gameStart:Date.now(),isOnlineDrawing:!0,subGameInfo:{friendly:!0,owner_id:l.owner_id,data:l}});case 4:s("game");case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"playerComponent",value:function(e){var t=this.props,a=t.t,n=t.friend_lobby,r=a.socket,o=a.state.user,s=this.state.ready,c=q[e.id];return l.a.createElement("div",{key:e.key},l.a.createElement(zt,{size:32,src:e.photo_100,frame:c.frame_type,color:c.frame_color,style:{opacity:s.indexOf(e.id)>-1?1:.5}}),l.a.createElement("span",{style:{opacity:s.indexOf(e.id)>-1?1:.5}},e.name),n.owner_id===o.id&&e.id!==o.id&&l.a.createElement(m.r,{className:"KickButton",onClick:function(){r.call("friends.kickFromLobby",{user_id:e.id})}},l.a.createElement(wa.a,{fill:"var(--icon_tertiary)"})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.friend_lobby,r=a.socket,o=a.state.user,s=this.state,c=s.members,i=s.ready,u=s.splashShow,p=i.indexOf(o.id)>-1;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:a.back}),separator:!1},Kn&&"\u0414\u0440\u0443\u0436\u0435\u0441\u043a\u0430\u044f \u0438\u0433\u0440\u0430"),l.a.createElement("div",{className:"FriendSplash",style:{opacity:u?1:0}}),l.a.createElement("div",{className:"FriendLobby"},!Kn&&l.a.createElement("h2",{style:{textAlign:"left"}},"\u0414\u0440\u0443\u0436\u0435\u0441\u043a\u0430\u044f \u0438\u0433\u0440\u0430"),n.owner_id!==o.id?l.a.createElement(m.g,{header:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",subheader:"\u0412\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0435\u0441\u044c \u0432 \u043b\u043e\u0431\u0431\u0438. \u0416\u0434\u0438\u0442\u0435, \u043f\u043e\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c \u043d\u0430\u0447\u043d\u0451\u0442 \u0438\u0433\u0440\u0443, \u0430 \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u044c\u0442\u0435\u0441\u044c. \u0415\u0441\u043b\u0438 \u0437\u0430\u043a\u0440\u043e\u0435\u0442\u0435 \u044d\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u0438\u0433\u0440\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0441\u0447\u0438\u0442\u0430\u043d\u0430."}):l.a.createElement(m.g,{header:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",subheader:"\u0412\u044b \u044f\u0432\u043b\u044f\u0435\u0442\u0435\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u0435\u043c \u043b\u043e\u0431\u0431\u0438. \u0415\u0441\u043b\u0438 \u0437\u0430\u043a\u0440\u043e\u0435\u0442\u0435 \u044d\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u043b\u043e\u0431\u0431\u0438 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043e, \u0430 \u0432\u0441\u0435 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u044b. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u043f\u043e\u043a\u0430 \u0438\u0433\u0440\u043e\u043a\u0438 \u0437\u0430\u0439\u0434\u0443\u0442 \u043a \u0432\u0430\u043c \u0432 \u043b\u043e\u0431\u0431\u0438, \u0438 \u0433\u043e\u0442\u043e\u0432\u044c\u0442\u0435\u0441\u044c \u043d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443."}),n.owner_id===o.id&&l.a.createElement("div",{style:{marginTop:24,width:"100%",display:"flex"}},l.a.createElement(m.h,{before:l.a.createElement(zn.a,{width:16,height:16}),size:"m",mode:"gradient_light_gray",stretched:!0,onClick:function(){o.vk_donut||o.admin||o.premium?a.go("friend_lobby_settings"):T()?a.go("vk_donut_blocked"):a.go("vk_donut_avocado")}},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),l.a.createElement(m.h,{style:{marginLeft:6},before:l.a.createElement(Vn.a,{width:16,height:16}),size:"m",mode:"gradient_gray",stretched:!0,onClick:Object(g.a)(b.a.mark((function t(){var n,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(a.vkChatIntegration||a.isFromCatalogChat||a.isFromChatWidget)){t.next=9;break}return n=N(),s=n.vk_chat_id,t.next=5,f.a.send("VKWebAppAddToChat",{action_title:"\u0420\u0438\u0441\u0443\u0439 \u0441 \u043d\u0430\u043c\u0438",hash:"lobby".concat(o.id)});case 5:r.call("friends.shareLobbyChat",{chat_id:s},(function(t){return e.props.t.setState({friend_lobby:t.response})})),a.setAlert("\u0412\u0438\u0434\u0436\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d","\u0412\u044b \u043c\u043e\u043b\u043e\u0434\u0435\u0446! \u0422\u0435\u043f\u0435\u0440\u044c \u043e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0434\u043e\u0436\u0434\u0430\u0442\u044c, \u043f\u043e\u043a\u0430 \u0438\u0433\u0440\u043e\u043a\u0438 \u0438\u0437 \u0447\u0430\u0442\u0430 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0442\u0441\u044f \u043a \u0432\u0430\u043c. \u0410 \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u044c\u0442\u0435\u0441\u044c \ud83d\ude0a",[{title:"\u0425\u043e\u0440\u043e\u0448\u043e",autoclose:!0}]),t.next=11;break;case 9:return t.next=11,f.a.send("VKWebAppShare",{link:"https://vk.com/drawapp#lobby".concat(o.id)});case 11:t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0),f.a.send("VKWebAppCopyText",{text:"https://vk.com/drawapp#lobby".concat(o.id)}),e.props.t.setSnackbar("\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043b\u043e\u0431\u0431\u0438 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430");case 18:case"end":return t.stop()}}),t,null,[[0,13]])})))},a.vkChatIntegration||a.isFromCatalogChat||a.isFromChatWidget?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0447\u0430\u0442":"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c")),l.a.createElement("div",{className:"Span",style:{marginTop:24}},"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c \u043b\u043e\u0431\u0431\u0438"),l.a.createElement("div",{className:"LobbyList"},this.playerComponent({photo_100:q[n.owner_id]&&q[n.owner_id].photo_100,name:"".concat(q[n.owner_id]?q[n.owner_id].first_name:""," ").concat(q[n.owner_id]?q[n.owner_id].last_name.substring(0,1):"","."),id:n.owner_id})),l.a.createElement("div",{className:"Span",style:{marginTop:24}},c.length>0?"\u0418\u0433\u0440\u043e\u043a\u0438":"\u0414\u0440\u0443\u0433\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0438 \u043f\u043e\u043a\u0430 \u0435\u0449\u0451 \u043d\u0435 \u0437\u0430\u0448\u043b\u0438 \ud83e\udd71"),l.a.createElement("div",{className:"LobbyList"},c.length>0&&c.map((function(t,a){return e.playerComponent({photo_100:q[t]&&q[t].photo_100,name:"".concat(q[t]?q[t].first_name:""," ").concat(q[t]?q[t].last_name.substring(0,1):"","."),id:t,key:"user-".concat(a)})}))),l.a.createElement("div",{className:"LobbyActions"},l.a.createElement(m.h,{size:"l",mode:p?"gradient_light_gray":"gradient_gray",stretched:!0,onClick:function(){r.call("friends.ready",{owner_id:n.owner_id})}},p?"\u042f \u043d\u0435 \u0433\u043e\u0442\u043e\u0432":"\u042f \u0433\u043e\u0442\u043e\u0432!"),n.owner_id===o.id&&l.a.createElement(m.h,{disabled:0===c.length||i.length<c.length+1,size:"l",mode:"gradient_blue",stretched:!0,onClick:function(){r.call("friends.startGame",{},(function(t){t.error&&(e.props.t.setActivePanel("main"),e.props.t.setAlert("\u041e\u0448\u0438\u0431\u043a\u0430",t.error.message,[{title:"\u041e\u043a",autoclose:!0}]))}))}},"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"))))}}]),t}(i.PureComponent);Hn.defaultProps={};var Yn=Hn,Zn=a(401),Xn=a(402);function Jn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Jn(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Jn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var qn=W(),Qn=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render_old",value:function(){var e=this,t=this.props.t,a=t.state,n=t.socket,r=t.state,o=r.user,s=r.banners;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:t.back}),separator:!1},qn&&"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"),l.a.createElement("div",{className:"Stats"},!qn&&l.a.createElement("h2",{style:{textAlign:"left"}},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"),l.a.createElement("p",{style:{margin:"8px 40px 0 0"}},"\u0417\u0434\u0435\u0441\u044c \u0441\u043e\u0431\u0440\u0430\u043d\u0430 \u0432\u0441\u044f \u0442\u0432\u043e\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0438 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0438 \u0438\u0433\u0440\u043e\u043a\u043e\u0432."),l.a.createElement("div",{className:"StatsCards__Container"},l.a.createElement("div",{onClick:function(){return t.setAlert("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","\u041c\u043e\u043d\u0435\u0442\u044b \u2013 \u044d\u0442\u043e \u0438\u0433\u0440\u043e\u0432\u0430\u044f \u0432\u0430\u043b\u044e\u0442\u0430. \u0417\u0430 \u043d\u0435\u0451 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u044b \u0438\u0437 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430. \u041c\u043e\u043d\u0435\u0442\u044b \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c: 20 \u043c\u043e\u043d\u0435\u0442, \u0435\u0441\u043b\u0438 \u0442\u0432\u043e\u0439 \u0440\u0438\u0441\u0443\u043d\u043e\u043a \u0443\u0433\u0430\u0434\u0430\u043b\u0438; 10 \u043c\u043e\u043d\u0435\u0442, \u0435\u0441\u043b\u0438 \u0442\u0432\u043e\u0439 \u0440\u0438\u0441\u0443\u043d\u043e\u043a \u043d\u0435 \u0443\u0433\u0430\u0434\u0430\u043b\u0438, \u0438\u043b\u0438 \u0435\u0441\u043b\u0438 \u0442\u044b \u0443\u0433\u0430\u0434\u0430\u043b \u0447\u0435\u0439-\u0442\u043e \u0440\u0438\u0441\u0443\u043d\u043e\u043a.",[{title:"\u041f\u043e\u043d\u044f\u0442\u043d\u043e",autoclose:!0}])}},l.a.createElement(Zn.a,{width:16,height:16}),l.a.createElement("span",null,A(o.coins))),l.a.createElement("div",{onClick:function(){return t.setAlert("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","\u0415\u0441\u043b\u0438 \u0431\u0443\u0434\u0435\u0448\u044c \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043a\u0440\u0430\u0441\u0438\u0432\u043e, \u0442\u0432\u043e\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0431\u0443\u0434\u0443\u0442 \u043b\u0430\u0439\u043a\u0430\u0442\u044c. \u0421\u043e\u0431\u0438\u0440\u0430\u0439 \u0431\u043e\u043b\u044c\u0448\u0435 \u043b\u0430\u0439\u043a\u043e\u0432 \u0438 \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0441\u044c \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u043c \ud83d\ude0e",[{title:"\u041f\u043e\u043d\u044f\u0442\u043d\u043e",autoclose:!0}])}},l.a.createElement("span",null,A(o.likes)),l.a.createElement(Xn.a,{width:16,height:16}))),l.a.createElement("div",{className:"Rating__List",style:{paddingBottom:!t.newAdSupports&&s[4]&&140}},[["users_topPictures","\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443 \u043a\u0430\u0440\u0442\u0438\u043d","pictures"],["users_topGuessedPictures","\u0443\u0433\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u043a\u0430\u0440\u0442\u0438\u043d\u0430\u043c","guessedPictures"],["users_topLikes","\u043b\u0430\u0439\u043a\u0430\u043c","likes"]].map((function(e,r){return l.a.createElement("div",null,l.a.createElement("span",{className:"Span"},"\u041b\u0443\u0447\u0448\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0438 \u043f\u043e ",e[1],":"),l.a.createElement(m.q,{showArrows:!0,getScrollToLeft:function(e){return e-128},getScrollToRight:function(e){return e+128}},l.a.createElement("div",{style:{display:"flex"}},a[e[0]].map((function(a,r){return l.a.createElement(m.p,{key:"Cell_".concat(r),header:q[a.id].first_name,subtitle:a[e[2]],onClick:function(){t.setPopout(l.a.createElement(m.E,null)),n.call("users.getById",{id:a.id},function(){var e=Object(g.a)(b.a.mark((function e(r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.call("games.getByDrawerId",{id:a.id},function(){var e=Object(g.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({author:$n({id:a.id},r.response||{}),author_works:n.response});case 2:t.go("author"),t.setPopout(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},l.a.createElement(zt,{size:48,src:q[a.id].photo_100,frame:q[a.id].frame_type,color:q[a.id].frame_color}))})))))}))),!t.newAdSupports&&s[4]&&l.a.createElement(m.D,{bannerData:s[4],onClose:Object(g.a)(b.a.mark((function a(){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s[4]=!1,a.next=3,t.setState({banners:s});case 3:e.forceUpdate();case 4:case"end":return a.stop()}}),a)})))})))}},{key:"render",value:function(){var e=this.props.t,t=e.state,a=e.socket,n=e.state.user;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:e.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-ManyCards"},l.a.createElement("div",null,l.a.createElement(Ft.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"),l.a.createElement("p",null,"\u0417\u0434\u0435\u0441\u044c \u0441\u043e\u0431\u0440\u0430\u043d\u0430 \u0432\u0441\u044f \u0442\u0432\u043e\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430, \u0438 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0438 \u043b\u0443\u0447\u0448\u0438\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u043f\u043e \u0440\u0430\u0437\u043d\u044b\u043c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u043c \u043e\u0446\u0435\u043d\u0438\u0432\u0430\u043d\u0438\u044f")),l.a.createElement(m.F,{value:"likes",onClick:function(t){"likes"===t.target.value?e.setAlert("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","\u0415\u0441\u043b\u0438 \u0431\u0443\u0434\u0435\u0448\u044c \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043a\u0440\u0430\u0441\u0438\u0432\u043e, \u0442\u0432\u043e\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0431\u0443\u0434\u0443\u0442 \u043b\u0430\u0439\u043a\u0430\u0442\u044c. \u0421\u043e\u0431\u0438\u0440\u0430\u0439 \u0431\u043e\u043b\u044c\u0448\u0435 \u043b\u0430\u0439\u043a\u043e\u0432 \u0438 \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0441\u044c \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u043c \ud83d\ude0e",[{title:"\u041f\u043e\u043d\u044f\u0442\u043d\u043e",autoclose:!0}]):e.setAlert("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","\u041c\u043e\u043d\u0435\u0442\u044b \u2013 \u044d\u0442\u043e \u0438\u0433\u0440\u043e\u0432\u0430\u044f \u0432\u0430\u043b\u044e\u0442\u0430. \u0417\u0430 \u043d\u0435\u0451 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u044b \u0438\u0437 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430. \u041c\u043e\u043d\u0435\u0442\u044b \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c: 20 \u043c\u043e\u043d\u0435\u0442, \u0435\u0441\u043b\u0438 \u0442\u0432\u043e\u0439 \u0440\u0438\u0441\u0443\u043d\u043e\u043a \u0443\u0433\u0430\u0434\u0430\u043b\u0438; 10 \u043c\u043e\u043d\u0435\u0442, \u0435\u0441\u043b\u0438 \u0442\u0432\u043e\u0439 \u0440\u0438\u0441\u0443\u043d\u043e\u043a \u043d\u0435 \u0443\u0433\u0430\u0434\u0430\u043b\u0438, \u0438\u043b\u0438 \u0435\u0441\u043b\u0438 \u0442\u044b \u0443\u0433\u0430\u0434\u0430\u043b \u0447\u0435\u0439-\u0442\u043e \u0440\u0438\u0441\u0443\u043d\u043e\u043a.",[{title:"\u041f\u043e\u043d\u044f\u0442\u043d\u043e",autoclose:!0}])},options:[{label:l.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:4}},l.a.createElement(Ma.a,{width:20,height:20}),l.a.createElement("span",null,A(n.likes))),value:"likes"},{label:l.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:4}},l.a.createElement(Bt.a,{width:20,height:20}),l.a.createElement("span",null,A(n.coins))),value:"money"}]})),[["top","\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439 \u0442\u043e\u043f \u043f\u043e \u0443\u0433\u0430\u0434\u0430\u043d\u043d\u044b\u043c","guessedPicturesToday"],["users_topPictures","\u041f\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443 \u043a\u0430\u0440\u0442\u0438\u043d","pictures"],["users_topGuessedPictures","\u041f\u043e \u0443\u0433\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u043a\u0430\u0440\u0442\u0438\u043d\u0430\u043c","guessedPictures"],["users_topLikes","\u041f\u043e \u043b\u0430\u0439\u043a\u0430\u043c","likes"]].map((function(n,r){return l.a.createElement("div",{key:"Card-".concat(r)},l.a.createElement("p",{className:"Panel_Container_Card-Header"},n[1]),l.a.createElement(m.q,{showArrows:!0,getScrollToLeft:function(e){return e-128},getScrollToRight:function(e){return e+128}},l.a.createElement("div",{style:{display:"flex"}},t[n[0]].map((function(t,r){return l.a.createElement(m.p,{key:"User-".concat(r),header:q[t.id].first_name,subtitle:t[n[2]],onClick:function(){e.setPopout(l.a.createElement(m.E,null)),a.call("users.getById",{id:t.id},function(){var n=Object(g.a)(b.a.mark((function n(r){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.call("games.getByDrawerId",{id:t.id},function(){var a=Object(g.a)(b.a.mark((function a(n){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setState({author:$n({id:t.id},r.response||{}),author_works:n.response});case 2:e.go("author"),e.setPopout(null);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},l.a.createElement(m.f,{size:48,shadow:!1,src:q[t.id].photo_100}))})))))}))))}}]),t}(i.PureComponent);Qn.defaultProps={};var er,tr=Qn,ar=a(403),nr=W(),rr=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={items:[]},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.t.socket,er=setInterval((function(){a.forceUpdate()}),1e3),t.call("shop.getList",{},function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({items:t.response});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(er)}},{key:"render_old",value:function(){var e=this,t=this.props,a=t.t,n=t.watchedShopItems,r=t.boughtShopItems,o=a.state,s=o.banners,c=o.isNotApp,i=this.state.items,u=a.socket;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:a.back}),separator:!1},nr&&"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),l.a.createElement("div",{className:"Shop"},!nr&&l.a.createElement("h2",{style:{textAlign:"left"}},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),l.a.createElement("p",{style:{margin:"8px 40px 0 0"}},"\u0417\u0434\u0435\u0441\u044c \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u044f\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0430\u043a\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0441\u0442\u0438 \u0437\u0430 \u043c\u043e\u043d\u0435\u0442\u044b."),l.a.createElement("div",{className:"ShopItems",style:{paddingBottom:!a.newAdSupports&&s[3]&&140}},i.length>0?i.map((function(e,t){var o=e.id,s=e.startTime,i=(e.count,e.title),p=e.price,d=e.img,h=e.needAdvert,v=e.singleBuy,E=D(s-Date.now()).str,y=E.hours,w=E.minutes,_=E.seconds;return l.a.createElement("div",{key:"Shop_".concat(t),onClick:function(){Date.now()<s||-1===n.indexOf(o)&&h||(v&&r.indexOf(o)>-1?a.setSnackbar("\u0412\u044b \u0443\u0436\u0435 \u043a\u0443\u043f\u0438\u043b\u0438 \u044d\u0442\u043e\u0442 \u0442\u043e\u0432\u0430\u0440"):(a.setPopout(l.a.createElement(m.E,null)),u.call("shop.buy",{product_id:o},function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.response){e.next=8;break}return v&&a.setState({boughtShopItems:[].concat(Object(k.a)(r),[o])}),a.setSnackbar("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043a\u0443\u043f\u0438\u043b\u0438 \u0442\u043e\u0432\u0430\u0440"),e.next=5,a.updateData();case 5:a.forceUpdate(),e.next=9;break;case 8:a.setSnackbar(t.message);case 9:a.setPopout(null);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())))}},Date.now()<s?l.a.createElement("div",{className:"TimeCounter"},l.a.createElement(Lt.a,null),l.a.createElement("span",null,y,":",w,":",_)):-1===n.indexOf(o)&&h&&l.a.createElement("div",{className:"WatchAdvert",onClick:Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setPopout(l.a.createElement(m.E,null)),e.prev=1,c){e.next=5;break}return e.next=5,f.a.send("VKWebAppShowNativeAds",{ad_format:"reward"});case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:a.setPopout(null),a.setState({watchedShopItems:[].concat(Object(k.a)(n),[o])});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))},l.a.createElement(ar.a,null),l.a.createElement("span",null,"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435")),l.a.createElement("img",{className:"icon",alt:"icon",src:d}),l.a.createElement("div",{className:"titles"},l.a.createElement("span",null,i),l.a.createElement("br",null),l.a.createElement("span",null,P(p,["\u043c\u043e\u043d\u0435\u0442\u0430","\u043c\u043e\u043d\u0435\u0442\u044b","\u043c\u043e\u043d\u0435\u0442"]))))})):l.a.createElement("div",{onClick:Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c){e.next=5;break}return e.next=4,f.a.send("VKWebAppAllowNotifications");case 4:u.call("users.enableNotifications");case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))},l.a.createElement("div",{className:"titles"},l.a.createElement("span",null,"\u0422\u0443\u0442 \u043f\u0443\u0441\u0442\u043e :("),l.a.createElement("br",null),l.a.createElement("span",null,"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e \u043d\u043e\u0432\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u0430\u0445. \u041c\u044b \u0412\u0430\u0441 \u043e\u043f\u043e\u0432\u0435\u0441\u0442\u0438\u043c, \u043a\u043e\u0433\u0434\u0430 \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0447\u0442\u043e-\u0442\u043e \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e\u0435.")))),!a.newAdSupports&&s[3]&&l.a.createElement(m.D,{bannerData:s[3],onClose:Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s[3]=!1,t.next=3,a.setState({banners:s});case 3:e.forceUpdate();case 4:case"end":return t.stop()}}),t)})))})))}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.watchedShopItems,n=e.boughtShopItems,r=t.state,o=(r.banners,r.isNotApp),s=this.state.items,c=t.socket;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-".concat(s.length>0?"ManyCards":"TwoCards")},l.a.createElement("div",null,l.a.createElement(At.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),l.a.createElement("p",null,"\u0417\u0434\u0435\u0441\u044c \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u044f\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0430\u043a\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0441\u0442\u0438 \u0437\u0430 \u043c\u043e\u043d\u0435\u0442\u044b")),0===s.length&&l.a.createElement("div",{className:"Panel_Container_Card-Buttons"},l.a.createElement(m.h,{stretched:!0,size:"m",mode:"gradient_pink",onClick:Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.send("VKWebAppAllowNotifications");case 3:c.call("users.enableNotifications"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))},"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"))),s.length>0?s.map((function(e,r){var s=e.id,i=e.startTime,u=(e.count,e.title),p=e.price,d=e.img,h=e.needAdvert,v=e.singleBuy,E=D(i-Date.now()).str,y=E.hours,w=E.minutes,_=E.seconds;return l.a.createElement("div",{key:"Card-".concat(r),onClick:function(){Date.now()<i||-1===a.indexOf(s)&&h||(v&&n.indexOf(s)>-1?t.setSnackbar("\u0412\u044b \u0443\u0436\u0435 \u043a\u0443\u043f\u0438\u043b\u0438 \u044d\u0442\u043e\u0442 \u0442\u043e\u0432\u0430\u0440"):(t.setPopout(l.a.createElement(m.E,null)),c.call("shop.buy",{product_id:s},function(){var e=Object(g.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.response){e.next=8;break}return v&&t.setState({boughtShopItems:[].concat(Object(k.a)(n),[s])}),t.setSnackbar("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043a\u0443\u043f\u0438\u043b\u0438 \u0442\u043e\u0432\u0430\u0440"),e.next=5,t.updateData();case 5:t.forceUpdate(),e.next=9;break;case 8:t.setSnackbar(a.message);case 9:t.setPopout(null);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())))}},Date.now()<i?l.a.createElement("div",{className:"TimeCounter"},l.a.createElement(Lt.a,null),l.a.createElement("span",null,y,":",w,":",_)):-1===a.indexOf(s)&&h&&l.a.createElement("div",{className:"WatchAdvert",onClick:Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setPopout(l.a.createElement(m.E,null)),e.prev=1,o){e.next=5;break}return e.next=5,f.a.send("VKWebAppShowNativeAds",{ad_format:"reward"});case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:t.setPopout(null),t.setState({watchedShopItems:[].concat(Object(k.a)(a),[s])});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))},l.a.createElement(ar.a,null),l.a.createElement("span",null,"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435")),l.a.createElement("img",{alt:"icon",src:d}),l.a.createElement("div",null,l.a.createElement("span",null,u),l.a.createElement("br",null),l.a.createElement("span",null,P(p,["\u043c\u043e\u043d\u0435\u0442\u0430","\u043c\u043e\u043d\u0435\u0442\u044b","\u043c\u043e\u043d\u0435\u0442"]))))})):l.a.createElement("p",{className:"Panel_Container_Card-Header Panel_Container_Card-Header-Center"},"\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0442\u0443\u0442 \u043f\u0443\u0441\u0442\u043e.",l.a.createElement("br",null),"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f, \u043c\u044b \u043e\u043f\u043e\u0432\u0435\u0441\u0442\u0438\u043c \u043a\u043e\u0433\u0434\u0430 \u0442\u0443\u0442 \u0447\u0442\u043e-\u0442\u043e \u0431\u0443\u0434\u0435\u0442.")))}}]),t}(i.PureComponent);rr.defaultProps={};var or=rr,sr=a(404),cr=a(405),ir=a(406),lr=a(407),ur=a(408),pr=a(409),mr=a(410);function dr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dr(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var hr,vr={},br=0,gr=0,kr={x:0,y:0},Er=W(),yr=[],wr=[],_r=[],Cr=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(o.a)(this,Object(s.a)(t).call(this,e));var r=e.t;return a.state={color:"#000000",drawing:!1,isEraser:!1,isStroke:!1,isCompassActive:!1,isFullCanvasShowed:!1,fullCanvasData:null,lineWidth:2,areas:[],areas_time:{}},a.onMouseDown=a.onMouseDown.bind(Object(E.a)(a)),a.onMouseUp=a.onMouseUp.bind(Object(E.a)(a)),a.throttle=a.throttle.bind(Object(E.a)(a)),a.onMouseMove=a.onMouseMove.bind(Object(E.a)(a)),a.drawLine=a.drawLine.bind(Object(E.a)(a)),r.socket.subscribe("draw",function(){var t=Object(g.a)(b.a.mark((function t(n){var r,o,s,c,i,l,u,p,m,d,f,h,v,g;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.user_id==e.t.state.vk_user.id){t.next=21;break}for(r=n.data,o=!0,s=!1,c=void 0,t.prev=5,i=r[Symbol.iterator]();!(o=(l=i.next()).done);o=!0)u=l.value,p=u.x0,m=u.y0,d=u.x1,f=u.y1,h=u.color,v=u.isEraser,g=u.lineWidth,a.drawLine(p,m,d,f,h,v,g,!1,!1);t.next=13;break;case 9:t.prev=9,t.t0=t.catch(5),s=!0,c=t.t0;case 13:t.prev=13,t.prev=14,o||null==i.return||i.return();case 16:if(t.prev=16,!s){t.next=19;break}throw c;case 19:return t.finish(16);case 20:return t.finish(13);case 21:case"end":return t.stop()}}),t,null,[[5,9,13,21],[14,,16,20]])})));return function(e){return t.apply(this,arguments)}}()),r.socket.subscribe("updateAreas",function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.updateAreas(t.areas);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a,n,r,o,s,c=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.send("VKWebAppDisableSwipeBack"),this.props.t.setPopout(l.a.createElement(m.E,null)),L(["Manrope Semibold","Manrope Bold"]),setTimeout((function(){c.props.t.state.isShowGlobalCanvasOnboard&&c.props.t.setActiveModal(bo)}),500),t=this.canvas,a=this.onMouseDown,n=this.onMouseUp,r=this.throttle,o=this.onMouseMove,this.canvasContext=t.getContext("2d"),e.next=8,new Promise((function(e){return c.props.t.socket.call("canvas.getAreas",{},function(){var t=Object(g.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(a.response);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 8:return s=e.sent,e.next=11,new Promise((function(e){return c.props.t.socket.call("canvas.join",{},function(){var t=Object(g.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{(n=new Image).onload=function(){c.props.t.setPopout(null),c.canvasContext.drawImage(n,0,0);var e=!0,t=!1,r=void 0;try{for(var o,s=a.lines[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var i=o.value,l=i.x0,u=i.y0,p=i.x1,m=i.y1,d=i.color,f=i.isEraser,h=i.lineWidth;c.drawLine(l,u,p,m,d,f,h,!1,!1)}}catch(v){t=!0,r=v}finally{try{e||null==s.return||s.return()}finally{if(t)throw r}}},n.src=a.canvasData}catch(r){console.error(r)}e(!0);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 11:return e.next=13,this.updateAreas(s);case 13:this.lastScheme=document.body.attributes.getNamedItem("scheme").value,this.clientHeight=this.props.t.clientHeight,this.clientWidth=this.props.t.clientWidth,t.addEventListener("mousedown",a,!1),t.addEventListener("mouseup",n,!1),t.addEventListener("mouseout",n,!1),t.addEventListener("mousemove",(function(e){return c.state.isCompassActive?o(e):r(o(e),10)}),!1),t.addEventListener("touchstart",a,!1),t.addEventListener("touchend",n,!1),t.addEventListener("touchcancel",n,!1),t.addEventListener("touchmove",(function(e){return c.state.isCompassActive?o(e):r(o(e),10)}),!1);case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a,n,r,o,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(f.a.send("VKWebAppEnableSwipeBack"),this.props.t.socket.call("canvas.leave",{}),document.body.setAttribute("scheme",this.lastScheme),t=!0,a=!1,n=void 0,e.prev=6,r=yr[Symbol.iterator]();!(t=(o=r.next()).done);t=!0)s=o.value,clearInterval(s);e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),a=!0,n=e.t0;case 14:e.prev=14,e.prev=15,t||null==r.return||r.return();case 17:if(e.prev=17,!a){e.next=20;break}throw n;case 20:return e.finish(17);case 21:return e.finish(14);case 22:yr=[],clearInterval(hr);case 24:case"end":return e.stop()}}),e,this,[[6,10,14,22],[15,,17,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,a){"bright_light"!==document.body.attributes.getNamedItem("scheme").value&&setTimeout((function(){return document.body.setAttribute("scheme","bright_light")}),500)}},{key:"updateAreas",value:function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n,r,o,s=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in yr=[],a={},n=[],r=function(e){t[e].owner_id>0&&n.push(t[e].owner_id),yr.push(setInterval((function(){if(t[e].owner_id>0){var n=D(t[e].time-Date.now()).str,r=n.hours,o=n.minutes,c=n.seconds;a[e]="".concat(r,":").concat(o,":").concat(c),s.setState({areas_time:a}),s.state.drawing||s.forceUpdate(),t[e].time<=Date.now()&&(t[e]={owner_id:0,time:0})}}),1e3))},t)r(o);return e.next=6,te(n);case 6:this.setState({areas:t.sort((function(e,t){return e.id-t.id})),areas_time:a});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onMouseDown",value:function(e){console.log("onMouseDown");try{this.setState({drawing:!0}),vr.x=e.clientX||e.touches[0].clientX,vr.y=e.clientY||e.touches[0].clientY,wr=[]}catch(e){console.log("Error onMouseDown"),console.error(e)}}},{key:"onMouseUp",value:function(e){console.log("onMouseUp");try{var t=this.state,a=t.drawing,n=t.color,r=t.isEraser,o=t.lineWidth,s=t.isPipette;if(!a)return;if(this.setState({drawing:!1}),s)return void this.setState({isPipette:!1});try{var c=this.canvas.getBoundingClientRect();try{this.drawLine(vr.x-c.left,vr.y-c.top,(e.clientX||e.touches[0].clientX)-c.left,(e.clientY||e.touches[0].clientY)-c.top,n,r,o)}catch(e){}console.log("Lines to send: ".concat(wr.length)),wr.length>0&&(this.props.t.socket.call("canvas.draw",{data:wr,user_id:this.props.t.state.vk_user.id}),wr=[])}catch(u){console.log("Error onMouseUp2"),console.log(e),console.error(u)}var i=this.canvas_container.style.transform,l=i.substring(i.indexOf("(")+1,i.indexOf(")")).split(",");kr.x=parseInt(l[0]),kr.y=parseInt(l[1]),(isNaN(kr.x)||isNaN(kr.y))&&(kr.x=0,kr.y=0)}catch(e){console.log("Error onMouseUp1"),console.error(e)}}},{key:"onMouseMove",value:function(e){try{var t=this.state,a=t.drawing,n=t.color,r=t.isEraser,o=t.lineWidth;if(!a)return;var s=this.canvas,c=this.canvasContext,i=s.getBoundingClientRect(),l={x:e.clientX||e.touches[0].clientX,y:e.clientY||e.touches[0].clientY};if(this.state.isPipette){var u=c.getImageData((e.clientX||e.touches[0].clientX)-i.left,(e.clientY||e.touches[0].clientY)-i.top,1,1),p=S(u.data[0],u.data[1],u.data[2]);return void this.setState({color:p})}if(this.state.isCompassActive){try{var m={x:l.x-vr.x,y:l.y-vr.y},d=Math.max(Math.min(this.clientWidth-200,kr.x+br+m.x),200-this.canvas.width),f=Math.max(Math.min(this.clientHeight-200,kr.y+gr+m.y),200-this.canvas.height);this.canvas_container.style.transform="translate(".concat(d,"px, ").concat(f,"px)")}catch(e){console.log(e)}return}try{this.drawLine(vr.x-i.left,vr.y-i.top,(e.clientX||e.touches[0].clientX)-i.left,(e.clientY||e.touches[0].clientY)-i.top,n,r,o),vr.x=e.clientX||e.touches[0].clientX,vr.y=e.clientY||e.touches[0].clientY}catch(e){console.log("Error onMouseMove2"),console.error(e)}}catch(e){console.log("Error onMouseMove1"),console.error(e)}return!1}},{key:"drawLine",value:function(e,t,a,n,r,o,s){var c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],i=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];try{if(this.state.isCompassActive&&c)return;if(c&&!this.isAllowToDraw(e,t,a,n))return;try{var l=this.canvasContext;l.beginPath(),o?(l.globalCompositeOperation="destination-out",l.arc(e,t,s,0,2*Math.PI,!1),l.fill()):(l.globalCompositeOperation="source-over",l.moveTo(e,t),l.lineTo(a,n),l.strokeStyle=r,l.fill(),l.lineWidth=s,l.lineCap=l.lineJoin="round",l.stroke()),l.closePath(),i&&(wr.push({x0:e,y0:t,x1:a,y1:n,color:r,isEraser:o,lineWidth:s}),wr.length>800&&(console.log("Lines to send: ".concat(wr.length)),this.props.t.socket.call("canvas.draw",{data:wr,user_id:this.props.t.state.vk_user.id}),wr=[]))}catch(u){}}catch(u){console.log("Error drawLine"),console.error(u)}}},{key:"throttle",value:function(e,t){var a=(new Date).getTime();return function(){var n=(new Date).getTime();n-a>=t&&(a=n,e.apply(null,arguments))}}},{key:"isAllowToDraw",value:function(e,t,a,n){if(245481845===this.props.t.state.vk_user.id)return!0;var r=!0,o=this.state.areas.filter((function(r){var o=r.x0,s=r.y0,c=r.x1,i=r.y1;return e>=o&&t>=s&&a<=c&&n<=i})),s=!0,c=!1,i=void 0;try{for(var l,u=o[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var p=l.value;if(!(r=0===p.owner_id||p.owner_id==this.props.t.state.vk_user.id))return r}}catch(m){c=!0,i=m}finally{try{s||null==u.return||u.return()}finally{if(c)throw i}}return o.length>0&&r}},{key:"render",value:function(){var e=this,t=this.state,a=this.props.t,n=t.isCompassActive,r=t.drawing,o=t.isFullCanvasShowed,s=t.fullCanvasData,c=t.lineWidth,i=t.isStroke,u=t.isPipette,p=t.color;return l.a.createElement("div",{className:"GlobalCanvas"},Er?l.a.createElement("div",{className:"CircleButtonBack",onClick:function(){e.componentWillUnmount(),a.back()}},l.a.createElement(sr.a,null)):l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:function(){e.componentWillUnmount(),a.back()}}),separator:!1}),o&&l.a.createElement("img",{src:s,alt:"canvas"}),l.a.createElement("div",{className:"GlobalCanvas_canvas",ref:function(t){return e.canvas_container=t}},this.areas,l.a.createElement("canvas",{style:{cursor:n?r?"grabbing":"grab":"crosshair",display:o&&"none"},width:1595,height:1595,ref:function(t){return e.canvas=t},id:"canvas"})),l.a.createElement("div",{className:"NavigationBar"},l.a.createElement("div",{className:"Items"},this.navbar_items.map((function(e,t){var a=e.icon,n=e.onClick,r=e.selected;return l.a.createElement("div",{style:fr({},r?{background:"#A4A6AA",color:"#F8F8F8"}:{background:"#F8F8F8",color:"#A4A6AA"},{},u?{background:p,color:p}:{}),key:"Item_".concat(t),onClick:n},a)}))),l.a.createElement("div",{className:"SubItems",style:{transition:"all 200ms",opacity:!i&&0,visibility:!i&&"hidden"}},l.a.createElement("div",null,l.a.createElement(m.H,{step:1,min:2,max:20,value:Number(c),onChange:function(t){return e.setState({lineWidth:t})}})))))}},{key:"navbar_items",get:function(){var e=this,t=this.state,a=this.props.t,n=t.isCompassActive,r=t.isEraser,o=t.isFullCanvasShowed,s=t.isStroke;return[].concat(Object(k.a)(a.state.user.admin?[{icon:l.a.createElement(Jt.a,{width:21,height:21}),onClick:function(){a.setPopout(e.alert_load_picture)}}]:[]),[{icon:l.a.createElement(cr.a,{width:21,height:21}),onClick:function(){e.setState({isCompassActive:!n,isEraser:!1,isFullCanvasShowed:!1,isStroke:!1})},selected:n},{icon:l.a.createElement(Ea.a,{width:21,height:21}),onClick:function(){a.setPopout(e.alert_color)}},{icon:l.a.createElement(pa,null),onClick:function(){e.setState({isEraser:!r,isCompassActive:!1,isFullCanvasShowed:!1})},selected:r},{icon:l.a.createElement(ga,null),onClick:function(){e.setState({isStroke:!s,isCompassActive:!1,isFullCanvasShowed:!1})},selected:s},{icon:l.a.createElement(ir.a,{width:21,height:21}),onClick:function(){var t=Object(g.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o?e.setState({fullCanvasData:null}):(a=e.canvas.toDataURL("image/png"),e.setState({fullCanvasData:a}),clearInterval(hr),hr=setInterval((function(){var t=e.canvas.toDataURL("image/png");e.setState({fullCanvasData:t})}),500)),e.setState({isFullCanvasShowed:!o,isEraser:!1,isCompassActive:!1,isStroke:!1});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),selected:o},{icon:l.a.createElement(lr.a,{width:21,height:21}),onClick:function(){M("https://vk.me/join/DFIbwK_w537NhbqDIWPd8JjoW/qfkWn5tzk=")}},{icon:l.a.createElement(ur.a,{width:21,height:21}),onClick:function(){e.componentWillUnmount(),a.go("global_canvas_info")}}])}},{key:"alert_load_picture",get:function(){var e=this,t=this.props.t;return l.a.createElement(m.C,{onClick:function(){return e.props.t.setPopout(null)},onClose:function(){return e.props.t.setPopout(null)}},l.a.createElement(m.m,{className:"GlobaCanvas_Load_Picture"},l.a.createElement("input",{accept:".png",type:"file",multiple:!1,ref:function(t){return e.uploadImage=t},style:{display:"none"},onChange:function(){var a=Object(g.a)(b.a.mark((function a(n){var r,o,s,c,i;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,H(n);case 2:r=a.sent,2,o=r.image.width,s=r.image.height,c=797.5-o/2,i=797.5-s/2,e.uploadImageTag.onload=Object(g.a)(b.a.mark((function a(){var n,u,p,d,f,h,v,g,k;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Image loaded"),(n=e.canvasUploadImage.getContext("2d")).mozImageSmoothingEnabled=!1,n.webkitImageSmoothingEnabled=!1,n.imageSmoothingEnabled=!1,n.drawImage(e.uploadImageTag,0,0,o,s),console.log("Start processing..."),_r=[],t.setPopout(l.a.createElement(m.E,null)),a.next=11,j(500);case 11:for(u=0;u<s;u++)for(console.log("".concat(Math.ceil(100/s*u),"%")),p=0;p<o;p++)d=n.getImageData(p,u,1,1).data,void 0,void 0,f=h=c===o?p:c+p,void 0,void 0,v=g=i===s?u:i+u,k=S(d[0],d[1],d[2]),_r.push({x0:f,y0:v,x1:h,y1:g,color:k,isEraser:!1,lineWidth:2}),e.drawLine(f,v,h,g,k,!1,2,!1,!1);return console.log("Process end!"),a.next=15,t.setPopout(e.alert_load_picture);case 15:e.uploadImageTag.src=r.data;case 16:case"end":return a.stop()}}),a)}))),e.uploadImageTag.src=r.data;case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}),l.a.createElement("img",{width:200,height:200,alt:"img",onClick:function(){return e.uploadImage.click()},ref:function(t){return e.uploadImageTag=t}}),l.a.createElement("canvas",{ref:function(t){return e.canvasUploadImage=t},width:1595,height:1595,style:{display:"none"}}),l.a.createElement(m.h,{style:{marginTop:12},size:"m",mode:"gradient_blue",onClick:Object(g.a)(b.a.mark((function a(){var n,r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.setPopout(l.a.createElement(m.E,null)),a.next=3,j(500);case 3:n=0;case 4:if(!(n<_r.length)){a.next=13;break}return console.log("".concat(Math.ceil(100/_r.length*n),"%")),r=_r.slice(n,n+100),t.socket.call("canvas.draw",{data:r,user_id:t.state.vk_user.id}),a.next=10,j(10);case 10:n+=100,a.next=4;break;case 13:e.props.t.setPopout(null);case 14:case"end":return a.stop()}}),a)})))},"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c")))}},{key:"alert_color",get:function(){var e=this;return l.a.createElement(m.C,{onClick:function(){return e.props.t.setPopout(null)},onClose:function(){return e.props.t.setPopout(null)}},l.a.createElement(m.m,null,l.a.createElement(_.a,{color:this.state.color,onChange:function(t){return e.setState({color:t})}}),l.a.createElement(m.h,{style:{marginTop:12},stretched:!0,size:"m",before:l.a.createElement(pr.a,null),mode:"gradient_blue",onClick:function(){e.props.t.setPopout(null),e.setState({isPipette:!0})}},"\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0446\u0432\u0435\u0442"),this.props.t.state.user.admin&&l.a.createElement(m.h,{style:{marginTop:8},stretched:!0,size:"m",before:l.a.createElement(mr.a,null),mode:"gradient_gray",onClick:function(){e.props.t.setPopout(null),e.drawLine(0,0,1595,1595,e.state.color,!1,2500,!1),e.props.t.socket.call("canvas.draw",{data:wr,user_id:e.props.t.state.vk_user.id})}},"\u0417\u0430\u043b\u0438\u0442\u044c \u0445\u043e\u043b\u0441\u0442")))}},{key:"areas",get:function(){var e=this,t=this.state,a=t.areas,n=t.areas_time,r=t.isCompassActive,o=this.props.t;return l.a.createElement("div",{className:"Canvas_Areas",style:{transition:"all 200ms",opacity:!r&&0,visibility:!r&&"hidden"}},a.map((function(t,a){return l.a.createElement("div",{key:"area_".concat(a),style:{pointerEvents:r&&"none"}},0!==t.owner_id&&l.a.createElement(m.f,{size:48,shadow:!1,src:q[t.owner_id]&&q[t.owner_id].photo_100}),l.a.createElement("h1",{style:{marginTop:0!==t.owner_id&&2}},0===t.owner_id?"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c":t.owner_id===e.props.t.state.vk_user.id?"\u0422\u0432\u043e\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c":"\u0427\u0443\u0436\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"),l.a.createElement("h3",{style:{marginTop:2}},0!==t.owner_id&&n[a]),0===t.owner_id&&l.a.createElement("div",{className:"CustomButton",onClick:function(){o.state.user.coins>=1e3?o.setPopout(l.a.createElement(m.d,{actions:[{title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",autoclose:!0,mode:"positive",action:function(){o.socket.call("canvas.rentArea",{area_id:t.id},(function(e){o.updateData()}))}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"}],actionsLayout:"horizontal",onClose:function(){return o.setPopout(null)},header:"\u0410\u0440\u0435\u043d\u0434\u0430 \u043e\u0431\u043b\u0430\u0441\u0442\u0438",text:"\u0410\u0440\u0435\u043d\u0434\u0430 \u0441\u0442\u043e\u0438\u0442 1000 \u043c\u043e\u043d\u0435\u0442 \u043d\u0430 1 \u0447\u0430\u0441. \u041f\u0440\u043e\u0434\u043b\u0438\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u0443 \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u043e\u0433\u0434\u0430, \u043a\u043e\u0433\u0434\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u0441\u044f \u0441\u0440\u043e\u043a (1 \u0447\u0430\u0441). \u0423 \u0412\u0430\u0441 ".concat(A(o.state.user.coins)," ").concat(P(o.state.user.coins,["\u043c\u043e\u043d\u0435\u0442\u0430","\u043c\u043e\u043d\u0435\u0442\u044b","\u043c\u043e\u043d\u0435\u0442"],!1),".")})):o.setPopout(l.a.createElement(m.d,{actions:[{title:"\u041e\u043a",autoclose:!0,mode:"cancel"}],actionsLayout:"horizontal",onClose:function(){return o.setPopout(null)},header:"\u0410\u0440\u0435\u043d\u0434\u0430 \u043e\u0431\u043b\u0430\u0441\u0442\u0438",text:"\u0422\u0435\u0431\u0435 \u043d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 ".concat(P(1e3-o.state.user.coins,["\u043c\u043e\u043d\u0435\u0442\u044b","\u043c\u043e\u043d\u0435\u0442\u044b","\u043c\u043e\u043d\u0435\u0442"]),".")}))}},"\u0430\u0440\u0435\u043d\u0434\u043e\u0432\u0430\u0442\u044c"))})))}}]),t}(i.PureComponent);Cr.defaultProps={};var xr=Cr;function Lr(){return(Lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Or(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Sr=l.a.createElement("path",{d:"M3.84316 13.0355L5.96448 15.1568C6.74553 15.9378 8.01186 15.9378 8.79291 15.1568L11.6213 12.3284L6.67159 7.37862L3.84316 10.207C3.06211 10.9881 3.06211 12.2544 3.84316 13.0355Z",fill:"#A4A6AA"}),jr=l.a.createElement("path",{d:"M3.31279 13.5658L5.43411 15.6872C6.50806 16.7611 8.24926 16.7611 9.3232 15.6872L15.6872 9.32321C16.7611 8.24926 16.7611 6.50806 15.6872 5.43412L13.5658 3.3128C12.4919 2.23886 10.7507 2.23886 9.67675 3.3128L3.31279 9.67676C2.23885 10.7507 2.23885 12.4919 3.31279 13.5658Z",stroke:"#A4A6AA",strokeWidth:1.5}),Pr=function(e){var t=e.svgRef,a=e.title,n=Or(e,["svgRef","title"]);return l.a.createElement("svg",Lr({width:20,height:20,viewBox:"0 0 20 20",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,Sr,jr)},Ar=l.a.forwardRef((function(e,t){return l.a.createElement(Pr,Lr({svgRef:t},e))})),Ir=(a.p,W()),Fr=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.t;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:e.back}),separator:!1},Ir&&"\u041e\u0431\u0449\u0438\u0439 \u0445\u043e\u043b\u0441\u0442"),l.a.createElement("div",{className:"GlobalCanvasInfo",style:{paddingBottom:24}},!Ir&&l.a.createElement("h2",{style:{textAlign:"left"}},"\u041e\u0431\u0449\u0438\u0439 \u0445\u043e\u043b\u0441\u0442"),l.a.createElement("p",{style:{margin:!Ir&&"8px 0 0 0"}},"\u041d\u0430 \u043e\u0431\u0449\u0435\u043c \u0445\u043e\u043b\u0441\u0442\u0435 \u043c\u043e\u0433\u0443\u0442 \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435 \u0438\u0433\u0440\u043e\u043a\u0438. \u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u043d\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438. \u0412\u0441\u0435\u0433\u043e \u0442\u0430\u043a\u0438\u0445 \u043e\u0431\u043b\u0430\u0441\u0442\u0435\u0439 25."),l.a.createElement("div",{className:"GlobalCanvas_Items__List"},[[l.a.createElement(cr.a,{width:20,height:20}),"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u043f\u043e \u0445\u043e\u043b\u0441\u0442\u0443"],[l.a.createElement(Ea.a,{width:20,height:20}),"\u041c\u0435\u043d\u044e \u043f\u0430\u043b\u0438\u0442\u0440\u044b"],[l.a.createElement(Ar,null),"\u041b\u0430\u0441\u0442\u0438\u043a \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u0442\u0438\u0440\u0430\u0442\u044c \u0440\u0438\u0441\u0443\u043d\u043e\u043a \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u043e\u043c \u043c\u0435\u0441\u0442\u0435"],[l.a.createElement(ir.a,{width:20,height:20}),"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0435\u0441\u044c \u0445\u043e\u043b\u0441\u0442"],[l.a.createElement(lr.a,{width:20,height:20}),"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0447\u0430\u0442"]].map((function(e,t){return l.a.createElement("div",{key:"item_".concat(t)},e[0],l.a.createElement("span",null,e[1]))}))),l.a.createElement("p",{style:{margin:"18px 0 0 0"}},"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u0443\u044e \u043e\u0431\u043b\u0430\u0441\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u0430\u0440\u0435\u043d\u0434\u043e\u0432\u0430\u0442\u044c (1000 \u043c\u043e\u043d\u0435\u0442 \u043d\u0430 \u0447\u0430\u0441). \u041d\u0430 \u0430\u0440\u0435\u043d\u0434\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u043c\u043e\u0436\u0435\u0442 \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u043b\u0430\u0434\u0435\u043b\u0435\u0446. \u041f\u0440\u043e\u0434\u043b\u0438\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u0443 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u2014 \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043a\u0443\u043f\u0438\u0442\u044c \u0435\u0451 \u0441\u043d\u043e\u0432\u0430 \u043f\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044e \u0441\u0440\u043e\u043a\u0430.")))}}]),t}(i.PureComponent);Fr.defaultProps={};var Dr=Fr;function Nr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Tr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Nr(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Nr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Wr=W(),Mr=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={friend_lobby:Tr({},e.friend_lobby)},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.t,a=t.socket,n=t.state.user,r=this.state.friend_lobby;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:t.back}),separator:!1},Wr&&"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043b\u043e\u0431\u0431\u0438"),l.a.createElement("div",{className:"FriendLobbySettings"},!Wr&&l.a.createElement("h2",{style:{textAlign:"left",marginLeft:28}},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043b\u043e\u0431\u0431\u0438"),l.a.createElement(m.g,{header:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",subheader:"\u0415\u0441\u043b\u0438 \u0432\u044b \u0432\u0432\u043e\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0451 \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u0438\u0433\u0440\u044b, \u0442\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0440\u0438\u0441\u0443\u043d\u043e\u043a \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f. \u0422\u0430\u043a \u0436\u0435, \u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u0434\u0430\u0451\u0442\u0435 \u0441\u0432\u043e\u0451 \u0441\u043b\u043e\u0432\u043e, \u0442\u043e \u0432\u044b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435\u0441\u044c \u0445\u0443\u0434\u043e\u0436\u043d\u0438\u043a\u043e\u043c \u0432 \u0438\u0433\u0440\u0435."}),l.a.createElement(m.m,{style:{paddingBottom:24}},l.a.createElement("div",{className:"Span"},"\u0412\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c \u043b\u043e\u0431\u0431\u0438"),l.a.createElement(m.F,{style:{marginTop:8},value:r.friendsOnly?"private":"public",onChange:function(t){console.log(t),r.friendsOnly="private"===t,e.setState({friend_lobby:r}),e.forceUpdate()},options:[{label:"\u0414\u043b\u044f \u0432\u0441\u0435\u0445",value:"public"},{label:"\u0414\u043b\u044f \u0434\u0440\u0443\u0437\u0435\u0439",value:"private"}]}),l.a.createElement("div",{className:"Span",style:{marginTop:8}},"\u0422\u0430\u0439\u043c\u0430\u0443\u0442 \u0438\u0433\u0440\u044b"),l.a.createElement(m.F,{style:{marginTop:8},value:r.timeout,onChange:function(t){r.timeout=t,e.setState({friend_lobby:r}),e.forceUpdate()},options:[{label:"90 \u0441\u0435\u043a",value:90},{label:"10 \u043c\u0438\u043d",value:600}]}),l.a.createElement(m.G,{style:{marginTop:8},Component:"label",after:l.a.createElement(m.M,{getRef:function(t){return e.saveGame=t},checked:r.saveGame,onChange:function(t){r.saveGame=t.currentTarget.checked,r.saveGame&&(r.setCustomWord=!1,e.setCustomWord.checked=!1),e.setState({friend_lobby:r}),e.forceUpdate()}})},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0440\u0438\u0441\u0443\u043d\u043e\u043a"),l.a.createElement(m.G,{Component:"label",after:l.a.createElement(m.M,{getRef:function(t){return e.setCustomWord=t},checked:r.setCustomWord,onChange:function(t){r.setCustomWord=t.currentTarget.checked,r.setCustomWord&&(r.saveGame=!1,e.saveGame.checked=!1),e.setState({friend_lobby:r}),e.forceUpdate()}})},"\u0417\u0430\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u0451 \u0441\u043b\u043e\u0432\u043e"),r.setCustomWord&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"Span",style:{marginTop:8}},"\u0421\u043b\u043e\u0432\u043e"),l.a.createElement(m.s,{style:{marginTop:8},placeholder:"\u041a\u0440\u043e\u043a\u043e\u0434\u0438\u043b",defaultValue:r.customWord||"",onChange:function(t){r.customWord=t.currentTarget.value,e.setState({friend_lobby:r})}})),(n.premium||n.admin)&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"Span",style:{marginTop:8}},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b-\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432"),l.a.createElement(m.s,{style:{marginTop:8},placeholder:"\u0427\u0438\u0441\u043b\u043e (\u043c\u0430\u043a\u0441 500)",type:"number",min:2,max:500,defaultValue:r.maxPlayers||20,onChange:function(t){r.maxPlayers=parseInt(t.currentTarget.value),e.setState({friend_lobby:r})}})),l.a.createElement(m.h,{style:{marginTop:18,width:"100%"},size:"m",mode:"gradient_blue",stretched:!0,onClick:Object(g.a)(b.a.mark((function n(){var o,s,c,i,u,p;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.props.t.setPopout(l.a.createElement(m.E,null)),o=r.friendsOnly,s=r.timeout,c=r.saveGame,i=r.setCustomWord,u=r.customWord,p=r.maxPlayers,a.call("friends.saveSettings",{friendsOnly:o,timeout:s,saveGame:c,setCustomWord:i,customWord:u,maxPlayers:p},(function(e){e.response&&t.setState({friend_lobby:e.response}),t.setPopout(null),t.back()}));case 3:case"end":return n.stop()}}),n)})))},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}}]),t}(i.PureComponent);Mr.defaultProps={};var Br,Ur=Mr,Rr=W(),Gr=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={isFullCanvasShowed:!0,fullCanvasData:null},a.drawLine=a.drawLine.bind(Object(E.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a,n,r,o,s,c,i,l,u,p,m,d,f,h,v,k,E,y,w,_,C,x,L,O,S,P,A,I,F,D,N=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.lastScheme=document.body.attributes.getNamedItem("scheme").value,this.clientHeight=this.props.t.clientHeight,this.clientWidth=this.props.t.clientWidth,t=this.canvas,a=this.props,n=a.t.socket,this.canvasContext=t.getContext("2d"),this.componentDidUpdate(),Br=setInterval((function(){var e=N.canvas.toDataURL("image/png");N.setState({fullCanvasData:e})}),200),1,r=0,o=0,s=!1,c=300,i=[],setTimeout(Object(g.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<1)){e.next=9;break}return e.next=4,new Promise((function(e){return n.call("canvas.getHistory",{limit:1,offset:r},(function(t){e(t)}))}));case 4:(a=e.sent).response.length>0?(i.push(a.response),console.log({allData:i.length}),r+=1,t--,i.length-o>2?c-=10:c+=10):s=!0;case 6:t++,e.next=1;break;case 9:case"end":return e.stop()}}),e)}))),100),l=0;case 11:if(!(l<1)){e.next=71;break}if(s){e.next=68;break}if(u=i[o],l--,!u){e.next=66;break}console.log({currentData:o}),o++,p=this.canvasContext,m=!0,d=!1,f=void 0,e.prev=22,h=u[Symbol.iterator]();case 24:if(m=(v=h.next()).done){e.next=50;break}for(k=v.value,E=!0,y=!1,w=void 0,e.prev=29,_=k.lines[Symbol.iterator]();!(E=(C=_.next()).done);E=!0)x=C.value,O=(L=x||{}).x0,S=L.y0,P=L.x1,A=L.y1,I=L.color,F=L.isEraser,D=L.lineWidth,p.beginPath(),F?(p.globalCompositeOperation="destination-out",p.arc(O,S,D,0,2*Math.PI,!1),p.fill()):(p.globalCompositeOperation="source-over",p.moveTo(O,S),p.lineTo(P,A),p.strokeStyle=I,p.fill(),p.lineWidth=D,p.lineCap=p.lineJoin="round",p.stroke()),p.closePath();e.next=37;break;case 33:e.prev=33,e.t0=e.catch(29),y=!0,w=e.t0;case 37:e.prev=37,e.prev=38,E||null==_.return||_.return();case 40:if(e.prev=40,!y){e.next=43;break}throw w;case 43:return e.finish(40);case 44:return e.finish(37);case 45:return e.next=47,j(c);case 47:m=!0,e.next=24;break;case 50:e.next=56;break;case 52:e.prev=52,e.t1=e.catch(22),d=!0,f=e.t1;case 56:e.prev=56,e.prev=57,m||null==h.return||h.return();case 59:if(e.prev=59,!d){e.next=62;break}throw f;case 62:return e.finish(59);case 63:return e.finish(56);case 64:e.next=68;break;case 66:return e.next=68,j(100);case 68:l++,e.next=11;break;case 71:case"end":return e.stop()}}),e,this,[[22,52,56,64],[29,33,37,45],[38,,40,44],[57,,59,63]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.body.setAttribute("scheme",this.lastScheme),clearInterval(Br);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,a){"bright_light"!==document.body.attributes.getNamedItem("scheme").value&&setTimeout((function(){return document.body.setAttribute("scheme","bright_light")}),500)}},{key:"drawLine",value:function(e,t,a,n,r,o,s){try{try{var c=this.canvasContext;c.beginPath(),o?(c.globalCompositeOperation="destination-out",c.arc(e,t,s,0,2*Math.PI,!1),c.fill()):(c.globalCompositeOperation="source-over",c.moveTo(e,t),c.lineTo(a,n),c.strokeStyle=r,c.fill(),c.lineWidth=s,c.lineCap=c.lineJoin="round",c.stroke()),c.closePath()}catch(i){}}catch(i){console.log("Error drawLine"),console.error(i)}}},{key:"render",value:function(){var e=this,t=this.state,a=this.props.t,n=t.isFullCanvasShowed,r=t.fullCanvasData;return l.a.createElement("div",{className:"GlobalCanvas"},Rr?l.a.createElement("div",{className:"CircleButtonBack",onClick:function(){e.componentWillUnmount(),a.back()}},l.a.createElement(sr.a,null)):l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:function(){e.componentWillUnmount(),a.back()}}),separator:!1}),n&&l.a.createElement("img",{src:r,alt:"canvas"}),l.a.createElement("div",{className:"GlobalCanvas_canvas",ref:function(t){return e.canvas_container=t}},l.a.createElement("canvas",{style:{display:n&&"none"},width:1595,height:1595,ref:function(t){return e.canvas=t},id:"canvas"})))}}]),t}(i.PureComponent);Gr.defaultProps={};var zr=Gr,Vr=a(411),Kr=a(412),Hr=a(413),Yr=W(),Zr=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.t,t=e.state.user;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:e.back}),separator:!1},Yr&&"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f"),l.a.createElement("div",{className:"Suggestions"},!Yr&&l.a.createElement("h2",{style:{textAlign:"left"}},"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f"),l.a.createElement("div",{className:"Span",style:{marginTop:8}},"\u041c\u044b \u0433\u043e\u0442\u043e\u0432\u044b \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043e\u0442 \u043d\u0430\u0448\u0435\u0439 \u043b\u044e\u0431\u0438\u043c\u043e\u0439 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u0438, \u0442\u0430\u043a \u0447\u0442\u043e \u0432\u043f\u0435\u0440\u0451\u0434!"),l.a.createElement("div",{className:"SuggestionsCards"},[["suggestions_idea",["\u0418\u0434\u0435\u044f","\u0418\u0434\u0435\u0438","\u0418\u0434\u0435\u0439"],"\u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e"],["suggestions_word",["\u0421\u043b\u043e\u0432\u043e","\u0421\u043b\u043e\u0432\u0430","\u0421\u043b\u043e\u0432"],"\u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043e"]].map((function(e,a){return l.a.createElement("div",{key:"Card_".concat(a)},l.a.createElement("p",null,t[e[0]]),l.a.createElement("p",null,P(t[e[0]],e[1],!1)," ",e[2]))}))),l.a.createElement("div",{className:"SuggestionsVariants"},[{icon:l.a.createElement(Vr.a,null),text:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0438\u0434\u0435\u044e",onClick:function(){return e.go("suggestions_idea")}},{icon:l.a.createElement(Kr.a,null),text:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e",onClick:function(){return e.go("suggestions_word")}},{icon:l.a.createElement(Hr.a,null),text:"\u0421\u043e\u043e\u0431\u0449\u0438\u0442\u044c \u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0435",onClick:function(){return M("https://vk.com/@draw_app-bug")}}].map((function(e,t){var a=e.icon,n=e.text,r=e.onClick;return l.a.createElement("div",{key:"Variant_".concat(t),className:"Variant_".concat(t),onClick:r},a,l.a.createElement("span",null,n))})))))}}]),t}(i.PureComponent);Zr.defaultProps={};var Xr=Zr,Jr=W(),$r=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={input1:"",input2:""},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.t,a=this.state,n=a.input1,r=a.input2;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:t.back}),separator:!1},Jr&&"\u041d\u043e\u0432\u0430\u044f \u0438\u0434\u0435\u044f"),l.a.createElement("div",{className:"SuggestionsIdea"},!Jr&&l.a.createElement("h2",{style:{textAlign:"left"}},"\u041d\u043e\u0432\u0430\u044f \u0438\u0434\u0435\u044f"),l.a.createElement("div",{className:"SuggestionsIdea_Container"},l.a.createElement("div",{className:"Span"},"\u041a\u0440\u0430\u0442\u043a\u043e \u043e\u043f\u0438\u0448\u0438\u0442\u0435 \u0438\u0434\u0435\u044e"),l.a.createElement(m.s,{style:{marginTop:8},placeholder:"\u041d\u043e\u0432\u0430\u044f \u043c\u0435\u0442\u043a\u0430",getRef:function(t){return e.inputIdeaTitle=t},value:n,onChange:function(t){var a=t.currentTarget.value;(a.match(/^[0-9a-zA-Z\u0430-\u044f\u0410-\u042f ,.:-]+$/)||""===a)&&a.length<=200&&e.setState({input1:a})}}),l.a.createElement("div",{className:"Span",style:{marginTop:8}},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e \u043e\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u0438\u0434\u0435\u044e"),l.a.createElement(m.N,{style:{marginTop:8},placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043c\u0435\u0442\u043a\u0443 \u041a\u043b\u0438\u043f\u0435\u0440. \u042d\u0442\u0443 \u043c\u0435\u0442\u043a\u0443 \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043d\u0438\u043c\u0430\u044e\u0442 \u043a\u043b\u0438\u043f\u044b \u043f\u043e \u0438\u0433\u0440\u0435.",getRef:function(t){return e.inputIdeaDescription=t},value:r,onChange:function(t){var a=t.currentTarget.value;(a.match(/^[0-9a-zA-Z\u0430-\u044f\u0410-\u042f ,.:-]+$/)||""===a)&&a.length<=600&&e.setState({input2:a})}})),l.a.createElement(m.h,{style:{marginTop:12,width:"100%"},size:"m",mode:"gradient_blue",stretched:!0,onClick:Object(g.a)(b.a.mark((function a(){var n,r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.inputIdeaTitle.value,r=e.inputIdeaDescription.value,0!==n.length&&0!==r.length){a.next=5;break}return t.setSnackbar("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f."),a.abrupt("return");case 5:if(!(r.split(" ").length<3)){a.next=8;break}return t.setSnackbar("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435."),a.abrupt("return");case 8:if(0!==n.replace(/^[0-9 ,.:-]+$/,"").length&&0!==r.replace(/^[0-9 ,.:-]+$/,"").length){a.next=11;break}return t.setSnackbar("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435."),a.abrupt("return");case 11:if(!(n.length>200||r.length>600)){a.next=14;break}return t.setSnackbar("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435."),a.abrupt("return");case 14:t.setPopout(l.a.createElement(m.E,null)),t.socket.call("suggestions.add",{type:"idea",title:n,description:r},(function(e){t.setPopout(null),e.response?t.go("suggestions_done"):t.setSnackbar(e.error.message)}));case 16:case"end":return a.stop()}}),a)})))},"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c"),t.state.user.admin&&l.a.createElement(m.h,{style:{marginTop:6,width:"100%"},size:"m",mode:"gradient_gray",stretched:!0,onClick:Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.socket.call("suggestions.getList",{type:"idea"},function(){var e=Object(g.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({suggestions_type:"idea",suggestions_list:a.response});case 2:t.go("suggestions_list");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))},"\u0421\u043f\u0438\u0441\u043e\u043a")))}}]),t}(i.PureComponent);$r.defaultProps={};var qr=$r,Qr=W(),eo=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={input:""},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.t,a=this.state.input;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:t.back}),separator:!1},Qr&&"\u041d\u043e\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e"),l.a.createElement("div",{className:"SuggestionsWord"},!Qr&&l.a.createElement("h2",{style:{textAlign:"left"}},"\u041d\u043e\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e"),l.a.createElement("div",{className:"Span"},"\u041f\u043e\u0441\u0442\u0430\u0440\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043b\u043e\u0432\u043e \u0431\u0435\u0437 \u043e\u0448\u0438\u0431\u043e\u043a. \u0418 \u0441\u0430\u043c\u043e\u0435 \u0433\u043b\u0430\u0432\u043d\u043e\u0435, \u0447\u0442\u043e\u0431\u044b \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0443 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0431\u044b\u043b\u043e \u043f\u043e\u043d\u044f\u0442\u043d\u043e, \u043a\u0430\u043a \u0435\u0433\u043e \u0438\u0437\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0438 \u043e\u0442\u0433\u0430\u0434\u0430\u0442\u044c \u0440\u0438\u0441\u0443\u043d\u043e\u043a."),l.a.createElement("div",{className:"SuggestionsWord_Container"},l.a.createElement("div",{className:"Span"},"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043b\u043e\u0432\u043e"),l.a.createElement(m.s,{style:{marginTop:8},placeholder:"\u041c\u043e\u0440\u043a\u043e\u0432\u044c",getRef:function(t){return e.inputWord=t},value:a,onChange:function(t){var a=t.currentTarget.value;(a.match(/^[\u0430-\u044f\u0410-\u042f-]+$/)||""===a)&&a.length<=33&&e.setState({input:a})}})),l.a.createElement(m.h,{style:{marginTop:12,width:"100%"},size:"m",mode:"gradient_blue",stretched:!0,onClick:Object(g.a)(b.a.mark((function a(){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==(n=e.inputWord.value).length){a.next=4;break}return t.setSnackbar("\u0412\u044b \u043d\u0435 \u0432\u0432\u0435\u043b\u0438 \u0441\u043b\u043e\u0432\u043e."),a.abrupt("return");case 4:if(!(n.length>33)){a.next=7;break}return t.setSnackbar("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0441\u043b\u043e\u0432\u043e."),a.abrupt("return");case 7:t.setPopout(l.a.createElement(m.E,null)),t.socket.call("suggestions.add",{type:"word",title:n},(function(e){t.setPopout(null),e.response?t.go("suggestions_done"):t.setSnackbar(e.error.message)}));case 9:case"end":return a.stop()}}),a)})))},"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c"),t.state.user.admin&&l.a.createElement(m.h,{style:{marginTop:6,width:"100%"},size:"m",mode:"gradient_gray",stretched:!0,onClick:Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.socket.call("suggestions.getList",{type:"word"},function(){var e=Object(g.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({suggestions_type:"word",suggestions_list:a.response});case 2:t.go("suggestions_list");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))},"\u0421\u043f\u0438\u0441\u043e\u043a")))}}]),t}(i.PureComponent);eo.defaultProps={};var to=eo,ao=W(),no=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={offset:e.list.length,limit:10,canGetMore:e.list.length>0,prevY:0},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef)}},{key:"handleObserver",value:function(e,t){var a=this,n=e[0].boundingClientRect.y,r=this.props.t,o=this.state,s=o.prevY,c=o.offset,i=o.limit,l=o.canGetMore;(0===s||s>n)&&l&&(this.setState({spinner:!0}),r.socket.call("suggestions.getList",{type:this.props.type,offset:c,limit:i},function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({suggestions_list:[].concat(Object(k.a)(r.state.suggestions_list),Object(k.a)(t.response))}),a.setState({canGetMore:t.response.length>0,spinner:!1}),a.forceUpdate();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.setState({offset:c+i})),this.setState({prevY:n})}},{key:"actionButtons",value:function(e,t){var a=this,n=this.props.t;return l.a.createElement("div",{style:{display:"flex",marginTop:12}},l.a.createElement(m.h,{mode:"gradient_blue",onClick:function(){n.socket.call("suggestions.approve",{id:e},function(){var e=Object(g.a)(b.a.mark((function e(r){var o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.response){e.next=8;break}return(o=n.state.suggestions_list).splice(t,1),e.next=5,n.setState({suggestions_list:o});case 5:a.forceUpdate(),e.next=10;break;case 8:n.setSnackbar(r.error.message),a.forceUpdate();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"\u041e\u0434\u043e\u0431\u0440\u0438\u0442\u044c"),l.a.createElement(m.h,{mode:"gradient_",style:{marginLeft:6},onClick:function(){n.socket.call("suggestions.decline",{id:e},function(){var e=Object(g.a)(b.a.mark((function e(r){var o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.response){e.next=8;break}return(o=n.state.suggestions_list).splice(t,1),e.next=5,n.setState({suggestions_list:o});case 5:a.forceUpdate(),e.next=10;break;case 8:n.setSnackbar(r.error.message),a.forceUpdate();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c"))}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.list,r=t.type,o=this.state.spinner;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:a.back}),separator:!1},ao&&"\u0421\u043f\u0438\u0441\u043e\u043a ".concat("idea"===r?"\u0438\u0434\u0435\u0439":"\u0441\u043b\u043e\u0432")),l.a.createElement("div",{className:"SuggestionsList"},!ao&&l.a.createElement("h2",{style:{textAlign:"left"}},"\u0421\u043f\u0438\u0441\u043e\u043a ".concat("idea"===r?"\u0438\u0434\u0435\u0439":"\u0441\u043b\u043e\u0432")),l.a.createElement("div",{className:"SuggestionsList_Container"},l.a.createElement(m.i,{size:"l"},n.map((function(t,a){return"idea"===r?l.a.createElement(m.k,{key:"Card_".concat(a),header:t.title,caption:l.a.createElement(l.a.Fragment,null,t.description,e.actionButtons(t.id,a))}):l.a.createElement(m.k,{disabled:!1,key:"Card_".concat(a),header:t.title,caption:e.actionButtons(t.id,a)})}))))),o&&l.a.createElement(m.J,{size:"small",style:{margin:"20px 0"}}),l.a.createElement("div",{ref:function(t){return e.loadingRef=t}}))}}]),t}(i.PureComponent);no.defaultProps={};var ro=no,oo=function(e){function t(e){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.t,t=e.state.user,a=Math.min(10*t.lvl,100);return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:e.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-TwoCards"},l.a.createElement("div",null,l.a.createElement(Mt.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u0423\u0440\u043e\u0432\u0435\u043d\u044c"),l.a.createElement("p",null,"\u041f\u043e\u043b\u0443\u0447\u0430\u0439\u0442\u0435 \u043e\u043f\u044b\u0442, \u0440\u0438\u0441\u0443\u044f \u0438 \u0443\u0433\u0430\u0434\u044b\u0432\u0430\u044f \u043a\u0430\u0440\u0442\u0438\u043d\u044b. \u0421 \u043a\u0430\u0436\u0434\u044b\u043c \u043d\u043e\u0432\u044b\u043c \u0443\u0440\u043e\u0432\u043d\u0435\u043c \u0432\u044b \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442\u0435 +10% \u0446\u0432\u0435\u0442\u043e\u0432\u043e\u0439 \u043f\u0430\u043b\u0438\u0442\u0440\u044b.")),l.a.createElement("div",{className:"UserLvl"},l.a.createElement("div",{className:"UserLvlProgress"},l.a.createElement("div",null,l.a.createElement("div",{style:{width:100/(100*t.lvl)*t.xp+"%"}})),l.a.createElement("div",null,l.a.createElement("span",null,t.xp,"XP ",l.a.createElement("span",null,"/")," ",100*t.lvl,"XP"),l.a.createElement("span",null,"LVL ",t.lvl))))),l.a.createElement("div",null,l.a.createElement("p",{className:"Panel_Container_Card-Header"},"\u0421\u0435\u0439\u0447\u0430\u0441 \u0442\u0435\u0431\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e ",a,"%"),l.a.createElement("div",{className:"UserLvlTemp"},l.a.createElement("div",{className:"Opacity",style:{left:a+"%"}})))))}}]),t}(i.PureComponent);oo.defaultProps={};var so=oo,co=function(e){function t(e){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.t;return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{left:l.a.createElement(m.A,{onClick:e.back}),separator:!1}),l.a.createElement("div",{className:"WeekGifts"},l.a.createElement("div",{className:"WeekGifts_Texts"},l.a.createElement("h1",null,"\u0420\u043e\u0437\u044b\u0433\u0440\u044b\u0448"),l.a.createElement("p",null,"\u041a\u0430\u0436\u0434\u0443\u044e \u043d\u0435\u0434\u0435\u043b\u044e \u043c\u044b \u0434\u0430\u0440\u0438\u043c \u0441\u0442\u0438\u043a\u0435\u0440\u044b \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u0442\u0440\u0451\u043c \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c \u0445\u0443\u0434\u043e\u0436\u043d\u0438\u043a\u0430\u043c"),l.a.createElement("p",null,"\u0427\u0435\u043c \u0431\u043e\u043b\u044c\u0448\u0435 \u043a\u0430\u0440\u0442\u0438\u043d \u0432\u044b \u043d\u0430\u0440\u0438\u0441\u0443\u0435\u0442\u0435 \u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e, \u0442\u0435\u043c \u0432\u044b\u0448\u0435 \u0448\u0430\u043d\u0441 \u0442\u043e\u0433\u043e, \u0447\u0442\u043e \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u043f\u0440\u0438\u0437")),l.a.createElement("div",{className:"WeekGifts_Users"},l.a.createElement("div",{className:"UserContainer"},l.a.createElement(zt,{size:80,src:e.state.vk_user.photo_100}),l.a.createElement("div",{className:"UserNameScore"},l.a.createElement("h2",null,e.state.vk_user.first_name),l.a.createElement("p",null,"100"))),l.a.createElement("div",{className:"UsersContainer"},l.a.createElement("div",{className:"UserContainer"},l.a.createElement(zt,{size:56,src:e.state.vk_user.photo_100}),l.a.createElement("div",{className:"UserNameScore"},l.a.createElement("h2",null,e.state.vk_user.first_name),l.a.createElement("p",null,"98"))),l.a.createElement("div",{className:"UserContainer"},l.a.createElement(zt,{size:56,src:e.state.vk_user.photo_100}),l.a.createElement("div",{className:"UserNameScore"},l.a.createElement("h2",null,e.state.vk_user.first_name),l.a.createElement("p",null,"76")))),l.a.createElement("div",{className:"UserContainer"},l.a.createElement(zt,{size:46,src:e.state.vk_user.photo_100}),l.a.createElement("div",{className:"UserNameScore"},l.a.createElement("h2",null,"\u0412\u044b"),l.a.createElement("p",null,"52")))),l.a.createElement("img",{alt:"background",className:"Background",src:B(a(351))})))}}]),t}(i.PureComponent);co.defaultProps={};var io=co;function lo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function uo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lo(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lo(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(352)("./".concat(window.location.search.length>0&&"desktop_web"===JSON.parse('{"'+decodeURI(window.location.search.substring(1)).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}').vk_platform?"Desktop":"Mobile",".css"));var po,mo,fo=new Xa,ho="1.3.0",vo="outdated-version",bo="global-canvas",go="change-url-params",ko="palette",Eo=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={bridge_inited:!1,appearance:"light",isNotApp:!1,activePanel:"main",history:["main"],activeModal:null,modalHistory:[],color:void 0,pickedColor:"#000000",color_percent:0,colors:[["#FD5C5C","#FE77C4","#C47EFF","#508DFA","#5FE3FF","#50E98E","#FFED63","#FFB063"],"#000000","#FFFFFF","#E63902","#EA5A03","#FA8A00","#FBB101","#FDE401","#85B201","#019317","#019C8B","#035AA2","#00247A","#500A6D","#A9236B","#964B00","#F57C7C"],gradients:[["#FFB063","#FD5C5C","#FE77C4","#C47EFF","#508DFA","#5FE3FF","#50E98E","#FFED63","#FFB063","#FD5C5C"],["#34A5D2","#508DFA","#38587E","#3A8DD7","#466AC0","#3D5164","#34A5D2"],["#F8D465","#FF5990","#FF635C","#E08B53","#DDB173","#FFBC78","#F8D465","#FF5990"],["#B970E6","#F2B888","#8ED6FF","#FF6746","#CC976F","#B970E6","#F2B888"],["#DCD6FF","#EFBED0","#FF75E1","#FF7CE2","#FEBFFF","#DCD6FF"],["#666CFF","#6653DF","#92B0FF","#57AAD9","#666CFF","#6653DF"],["#FFCD4B","#FC71FF","#FF8C67","#8471F9","#FFCD4B","#FC71FF"],["#2A0567","#8C3CFF","#FFA7E6","#2A0567","#8C3CFF"],["#99E600","#FFB36D","#C2D357","#FFC886","#99E600","#FFB36D"]],btnSelectColorPaletteDefault:"#6862DA",__v_clicks:0,online:0,chooseWords:[],drawerId:0,lobbyId:0,isOnlineDrawing:!0,bannersCount:9,banners:[],defaultBannerData:{title:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",domain:"vk.com",trackingLink:"https://vk.com",ctaText:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438",advertisingLabel:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430",iconLink:"https://sun9-7.userapi.com/c846420/v846420985/1526c3/ISX7VF8NjZk.jpg",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0435\u043a\u043b\u0430\u043c\u044b",ageRestrictions:"14+",statistics:[{url:"",type:"playbackStarted"},{url:"",type:"click"}]},connected:!1,trying_reconnect:!1,dataUpdated:!1,author_works:[],subGameInfo:{},watchedShopItems:[],boughtShopItems:[],user:{},friend_lobby:{},game_timeout:90,suggestions_type:"",suggestions_list:[],game_canceled_reason:""},a.componentDidMount=a.componentDidMount.bind(Object(E.a)(a)),a.updateData=a.updateData.bind(Object(E.a)(a)),a.setAlert=a.setAlert.bind(Object(E.a)(a)),a.back=function(){var e=a.state,t=e.history,n=e.popout,r=e.activeModal,o=t[t.length-1];if(null===n||void 0===n){if(null!==r)return a.setState({activeModal:null}),void window.history.pushState({pop:"popout"},"Title");if("game"===o){var s=a.state,c=s.lobbyId;if(s.isOnlineDrawing)return a.socket.call("games.leaveGame",{lobbyId:c}),void a.setActivePanel("main");a.showNewAd()}"author"===o&&"picture_info"===t[t.length-2]&&"guessed_pictures"===t[t.length-3]&&a.setState({like_currentPictureSelected:a.state.like_currentPictureSelected_,like_method:"games.getByWinnerId",like_param:"gamesAsWinner",like_user_id:a.state.vk_user.id}),t.length<=1&&"main"!==t[0]&&"placeholder"!==t[0]?a.setActivePanel("main"):t.length>1?("search"===o?(fo.call("games.search"),a.setSnackbar("\u041f\u043e\u0438\u0441\u043a \u0438\u0433\u0440\u044b \u043e\u0442\u043c\u0435\u043d\u0451\u043d")):"friend_lobby"===o?fo.call("friends.leaveLobby",{owner_id:a.state.friend_lobby.owner_id}):"gallery"!==o&&"guessed_pictures"!==o&&"feed"!==o||a.setState({scrollPosition:null}),t.pop(),a.setState({activePanel:t[t.length-1],history:t}),"search"!==t[t.length-1]&&a.setState({snackbar:null})):f.a.send("VKWebAppClose",{status:"success"})}},a.go=function(e){var t=a.state,n=t.history;null!==t.activeModal&&a.setState({activeModal:null,modalHistory:[]}),n[n.length-1]!==e&&(n.push(e),window.history.pushState({activePanel:e},"Title"),"game"===e&&f.a.send("VKWebAppHideBannerAd"),a.setState({activePanel:e,history:n,snackbar:null}))},a.setActivePanel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];a.setState({activePanel:e,history:[].concat(Object(k.a)(t),[e]),snackbar:null})},a.setActiveModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=a.state.modalHistory;null===e?t=[]:-1!==t.indexOf(e)?t=t.splice(0,t.indexOf(e)+1):t.push(e),a.setState({activeModal:e,modalHistory:t})},a.setPopout=function(e){a.setState({popout:e})},a.setSnackbar=function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.state.snackbar){e.next=5;break}return e.next=3,a.setState({snackbar:null});case 3:return e.next=5,j(100);case 5:a.setState({snackbar:l.a.createElement(m.I,{onClose:function(){return a.setState({snackbar:null})}},t)});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.socket=fo,a.newAdSupports=f.a.supports("VKWebAppShowBannerAd"),a.showNewAd=function(){f.a.send("VKWebAppShowBannerAd",{banner_location:"bottom",layout_type:"resize"})},w.a.init(),w.a.scale(0),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t,a,n,r,o,s,c,i,l,u,p=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=N(),this.vkChatIntegration="im_attach_picker"===t.vk_ref&&""===window.location.hash,this.isFromCatalogChat="catalog_messenger_apps_with_action"===t.vk_ref,this.isFromChatWidget="im_app_action"===t.vk_ref,console.log({urlParams:t,vkChatIntegration:this.vkChatIntegration,isFromCatalogChat:this.isFromCatalogChat,isFromChatWidget:this.isFromChatWidget}),f.a.send("VKWebAppInit"),setTimeout(Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.newAdSupports?p.showNewAd():(clearInterval(po),po=setInterval(Object(g.a)(b.a.mark((function e(){var t,a,n,r,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.state,a=t.banners,n=t.bannersCount,e.next=3,f.a.send("VKWebAppGetAds",{});case 3:for(r=e.sent,o=0;o<n;o++)!1!==a[o]&&(a[o]=r);p.setState({banners:a});case 6:case"end":return e.stop()}}),e)}))),3e3));case 1:case"end":return e.stop()}}),e)}))),5e3),this.setState({bridge_inited:!0}),L(),window.addEventListener("popstate",(function(e){e.preventDefault(),p.back()})),f.a.subscribe(function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n,r,o,s,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.detail,n=a.type,r=a.data,void 0===n){e.next=17;break}if("vk-connect"!==n||r){e.next=16;break}if(p.state.isNotApp){e.next=14;break}return e.next=6,p.setState({isNotApp:!0});case 6:document.body.style.width="660px",document.body.style.height="600px",document.body.style.position="absolute",document.body.style.top="50%",document.body.style.left="50%",document.body.style.transform="translate(-50%, -50%)",console.log("Log in as not app version"),p.componentDidMount();case 14:e.next=17;break;case 16:console.log(n,r);case 17:"VKWebAppUpdateConfig"===n?((o=document.createAttribute("scheme")).value=r.scheme?"client_light"===r.scheme?"bright_light":r.scheme:"bright_light",document.body.attributes.setNamedItem(o),p.setState({appearance:r.scheme&&r.scheme.indexOf("light")>-1?"light":"dark"}),s=document.documentElement.clientHeight,c=document.documentElement.clientWidth,i=100/812*(s>0?s:812)/100,document.body.style.setProperty("--scale-value",i),document.body.setAttribute("_width",c),document.body.setAttribute("_height",s),p.clientHeight=s,p.clientWidth=c,console.log("windowHeight = ".concat(document.documentElement.clientHeight))):"VKWebAppViewRestore"===n?(p.setState({popout:null}),"global_canvas"===p.state.activePanel&&setTimeout((function(){return document.body.setAttribute("scheme","bright_light")}),500)):"VKWebAppChangeFragment"===n&&(window.location.hash="#".concat(r.location));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a=this.state.isNotApp,e.t0=!a,!e.t0){e.next=18;break}return e.next=16,f.a.send("VKWebAppStorageGet",{keys:["onboard"]});case 16:e.t1=e.sent.keys[0].value,e.t0=""===e.t1;case 18:if(n=e.t0,e.t2=!a,!e.t2){e.next=25;break}return e.next=23,f.a.send("VKWebAppStorageGet",{keys:["vk_group3"]});case 23:e.t3=e.sent.keys[0].value,e.t2=""===e.t3;case 25:if(r=e.t2,e.t4=!a,!e.t4){e.next=32;break}return e.next=30,f.a.send("VKWebAppStorageGet",{keys:["vk_chat"]});case 30:e.t5=e.sent.keys[0].value,e.t4=""===e.t5;case 32:if(o=e.t4,e.t6=!a,!e.t6){e.next=39;break}return e.next=37,f.a.send("VKWebAppStorageGet",{keys:["update_01062022"]});case 37:e.t7=e.sent.keys[0].value,e.t6=""===e.t7;case 39:if(s=e.t6,e.t8=!a,!e.t8){e.next=46;break}return e.next=44,f.a.send("VKWebAppStorageGet",{keys:["canvas_new_mode"]});case 44:e.t9=e.sent.keys[0].value,e.t8=""===e.t9;case 46:if(c=e.t8,e.t10=!a,!e.t10){e.next=53;break}return e.next=51,f.a.send("VKWebAppStorageGet",{keys:["canvas_new_mode_onboard"]});case 51:e.t11=e.sent.keys[0].value,e.t10=""===e.t11;case 53:if(i=e.t10,e.t12=!a,!e.t12){e.next=59;break}return e.next=58,f.a.send("VKWebAppGetUserInfo");case 58:e.t12=e.sent;case 59:return l=e.t12,e.prev=60,e.next=63,te([t.vk_user_id]);case 63:u=e.sent,e.next=68;break;case 66:e.prev=66,e.t13=e.catch(60);case 68:return e.next=70,this.setState({isShowOnboard:n,isShowVkGroup:r,isShowVkChat:o,isShowGlobalCanvasOnboard:i,isShowGlobalCanvas:c,vk_user:l.id==t.vk_user_id?l:u[0]||l});case 70:return f.a.send("VKWebAppEnableSwipeBack"),this.connect(),fo.subscribe("exit",function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({placeholderText:t.title,banned:t.banned,dataUpdated:!0});case 2:p.setPopout(null),t.banned?(p.setState({placeholderNeed:2}),p.setActivePanel("banned")):(p.setState({placeholderNeed:1}),p.setActivePanel("placeholder")),p.state.bridge_inited||(f.a.send("VKWebAppInit"),p.setState({bridge_inited:!0}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),fo.subscribe("app_version",(function(e){p.setState({app_version:e.app_version})})),fo.subscribe("restart",(function(e){p.setAlert("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435","\u041f\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0438 \u0432\u0441\u0435\u0445 \u0438\u0433\u0440 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0440\u0435\u0441\u0442\u0430\u0440\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.",[{title:"\u041e\u043a",autoclose:!0}])})),fo.onConnectionError((function(e){console.log("Connection error"),p.setState({connected:!1}),p.state.trying_reconnect||(p.setState({placeholderText:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",placeholderNeed:1}),p.setPopout(null),p.setActivePanel("placeholder")),p.state.bridge_inited||(f.a.send("VKWebAppInit"),p.setState({bridge_inited:!0}))})),fo.onDisconnect((function(e){console.log("Disconnected. Reason: ",e),p.setState({connected:!1}),p.setPopout(null),0===p.state.placeholderNeed&&(p.setState({placeholderText:""}),p.setActivePanel("placeholder")),p.state.bridge_inited||(f.a.send("VKWebAppInit"),p.setState({bridge_inited:!0}))})),e.next=79,new Promise((function(e){return fo.onConnect(Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.setState({connected:!0,placeholderNeed:0});case 2:return console.log("Connected"),p.setActivePanel("main"),console.log("Update user data..."),t.next=7,new Promise(function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.updateData(),a=0,n=0;case 3:if(!(n<1)){e.next=11;break}return(!p.state.dataUpdated||a>=30)&&n--,a++,e.next=8,j(100);case 8:n++,e.next=3;break;case 11:t(!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:console.log("Data updated"),console.log({isShowVkGroup:r,isShowVkChat:o,isShowUpdate:s,isShowOnboard:n}),n||(r?setTimeout((function(){p.go("group_vk")}),1e3):o?setTimeout((function(){p.go("chat_vk"),f.a.send("VKWebAppStorageSet",{key:"vk_chat",value:"1"}),p.setState({isShowVkChat:!1})}),1e3):(console.log("Trying to check hash..."),p.onChangeHash())),e(!0);case 11:case"end":return t.stop()}}),t)}))))}));case 79:V("stats.join");case 80:case"end":return e.stop()}}),e,this,[[60,66]])})));return function(){return e.apply(this,arguments)}}()},{key:"setAlert",value:function(e,t,a){var n=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vertical";this.setPopout(l.a.createElement(m.d,{actions:a,actionsLayout:r,onClose:function(){return n.setPopout(null)},header:e,text:t}))}},{key:"connect",value:function(){var e=this;console.log("Try to connect..."),fo.connect("https://draw.avocado.special.vk-apps.com",N()),setTimeout((function(){e.state.banned||(e.state.dataUpdated||e.updateData(),e.state.connected||e.state.placeholderText||(clearInterval(mo),mo=setInterval((function(){e.state.connected?clearInterval(mo):(console.log("connecting..."),fo.connect("https://draw.avocado.special.vk-apps.com",N()))}),1e3)))}),1e3)}},{key:"updateData",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){fo.call("users.getTopNumber",{},(function(e){t.setState({top_number:e.response})})),fo.call("users.getTop",{},function(){var e=Object(g.a)(b.a.mark((function e(a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.response.map((function(e){return e.id})),e.next=3,te(n);case 3:t.setState({top:a.response.map((function(e){return uo({},q[e.id],{},e)}))});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),fo.call("users.get",{},(function(a){t.setState({user:a.response}),fo.call("games.getByDrawerId",{id:t.state.vk_user.id,limit:50},(function(a){t.setState({gamesAsDrawer:a.response});var n=a.response.map((function(e){return e.drawerId}));fo.call("games.getByWinnerId",{id:t.state.vk_user.id,limit:50},(function(a){te(n=[].concat(Object(k.a)(n),Object(k.a)(a.response.map((function(e){return e.drawerId}))))),setTimeout(Object(g.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.setState({gamesAsWinner:a.response,dataUpdated:!0});case 2:e(!0);case 3:case"end":return n.stop()}}),n)}))),400)}))}))}))}));case 2:return this.setState({time:Date.now()}),e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeHash",value:function(){var e=this;if(console.log("Watch hash: ".concat(window.location.hash)),this.vkChatIntegration)return console.log("create chat lobby"),this.setPopout(l.a.createElement(m.E,null)),void fo.call("friends.createLobby",{},(function(t){t.response?(e.setState({friend_lobby:t.response}),e.go("friend_lobby"),e.setPopout(null)):e.setAlert("\u041e\u0448\u0438\u0431\u043a\u0430",t.error.message,[{title:"\u041e\u043a",mode:"cancel",autoclose:!0}])}));if(window.location.hash.startsWith("#"))for(var t=window.location.hash.substring(1),a=0,n=[{key:"author",do:function(){var t=Object(g.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setPopout(l.a.createElement(m.E,null)),t.next=3,te([a]);case 3:t.sent[0]?e.socket.call("users.getById",{id:a},function(){var t=Object(g.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.socket.call("games.getByDrawerId",{id:a},function(){var t=Object(g.a)(b.a.mark((function t(r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({author:uo({id:a},n.response||{}),author_works:r.response});case 2:setTimeout((function(){e.go("author"),e.setPopout(null)}),400);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):e.setPopout(null);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"picture",do:function(){var t=Object(g.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=parseInt(a),e.setPopout(l.a.createElement(m.E,null)),e.socket.call("games.getById",{id:n},function(){var t=Object(g.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===a.response){t.next=14;break}return n=a.response.drawerId,t.next=4,te([n]);case 4:if(!t.sent[0]){t.next=11;break}return t.next=8,e.setState({gamesAsAuthor:[a.response],like_currentPictureSelected:0,like_method:"",like_param:"gamesAsAuthor",like_user_id:n});case 8:setTimeout((function(){e.go("picture_info"),e.setPopout(null)}),400),t.next=12;break;case 11:e.setPopout(null);case 12:t.next=15;break;case 14:e.setPopout(null);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"lobby",do:function(t){""===t?e.go("friends"):(e.setPopout(l.a.createElement(m.E,null)),e.socket.call("friends.joinLobby",{owner_id:parseInt(t),url:!0},function(){var t=Object(g.a)(b.a.mark((function t(a){var n,r,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.response){t.next=8;break}return t.next=3,te([].concat(Object(k.a)(a.response.members),[a.response.owner_id]));case 3:return t.next=5,e.setState({friend_lobby:a.response});case 5:setTimeout((function(){e.go("friend_lobby"),e.setPopout(null)}),400),t.next=13;break;case 8:if(e.setPopout(null),a.error){t.next=11;break}return t.abrupt("return");case 11:n=a.error,r=n.code,o=n.message,6===r?e.setAlert("\u0423\u043f\u0441",o,[{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043b\u043e\u0431\u0431\u0438",action:function(){e.setPopout(l.a.createElement(m.E,null)),fo.call("friends.createLobby",{},(function(t){t.response?(e.setState({friend_lobby:t.response}),e.go("friend_lobby"),e.setPopout(null)):e.setAlert("\u041e\u0448\u0438\u0431\u043a\u0430",t.error.message,[{title:"\u041e\u043a",mode:"cancel",autoclose:!0}])}))}},{title:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e",mode:"cancel",autoclose:!0}]):e.setAlert("\u0423\u043f\u0441",o,[{title:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e",mode:"cancel",autoclose:!0}]);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}];a<n.length;a++){var r=n[a];if(console.log("".concat(r.key," === ").concat(t," ?")),t.startsWith(r.key)){console.log("Did action with key = "+r.key),r.do(t.substring(r.key.length));break}}}},{key:"_tags",value:function(){return[["tag_interesting",l.a.createElement(oe.a,null),"\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0439 \u0430\u0432\u0442\u043e\u0440","\u041c\u0435\u0442\u043a\u0430 \u0432\u044b\u0434\u0430\u0451\u0442\u0441\u044f \u043f\u0440\u0438 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0438 1000 \u043b\u0430\u0439\u043a\u043e\u0432"],["tag_rater",l.a.createElement(se.a,null),"\u041e\u0446\u0435\u043d\u0449\u0438\u043a","\u041e\u0446\u0435\u043d\u0438\u0442\u044c 100 \u043a\u0430\u0440\u0442\u0438\u043d"],["tag_agitator",l.a.createElement(ce.a,null),"\u0410\u0433\u0438\u0442\u0430\u0442\u043e\u0440","\u0420\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0442\u044c \u043e \u0441\u0432\u043e\u0438\u0445 \u0440\u0430\u0431\u043e\u0442\u0430\u0445 \u0434\u0440\u0443\u0437\u044c\u044f\u043c (10 \u0440\u0430\u0437)"],["tag_rapidfire",l.a.createElement(ie.a,null),"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u0440\u0435\u043b","\u041c\u0435\u0442\u043a\u0430 \u0432\u044b\u0434\u0430\u0451\u0442\u0441\u044f \u0437\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u0443, \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u0438 \u0443\u0433\u0430\u0434\u0430\u043d\u043d\u0443\u044e \u0437\u0430 5 \u0441\u0435\u043a\u0443\u043d\u0434"],["tag_turtle",l.a.createElement(le.a,{width:20,height:20}),"\u0427\u0435\u0440\u0435\u043f\u0430\u0445\u0430","\u041c\u0435\u0442\u043a\u0430 \u0432\u044b\u0434\u0430\u0451\u0442\u0441\u044f \u0437\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u0443, \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u0438 \u0443\u0433\u0430\u0434\u0430\u043d\u043d\u0443\u044e \u0437\u0430 85-90 \u0441\u0435\u043a\u0443\u043d\u0434"],["tag_creative",l.a.createElement(ue.a,null),"\u041a\u0440\u0435\u0430\u0442\u0438\u0432\u043d\u044b\u0439","\u041c\u0435\u0442\u043a\u0430 \u0432\u044b\u0434\u0430\u0451\u0442\u0441\u044f \u0432\u0440\u0443\u0447\u043d\u0443\u044e \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439, \u0435\u0441\u043b\u0438 \u0442\u0430 \u043f\u043e\u0441\u0447\u0438\u0442\u0430\u0435\u0442 \u0442\u0432\u043e\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u044b \u043a\u0440\u0435\u0430\u0442\u0438\u0432\u043d\u044b\u043c\u0438"],["tag_banned",l.a.createElement(pe.a,null),"\u041d\u0430\u0440\u0443\u0448\u0438\u0442\u0435\u043b\u044c","\u041c\u0435\u0442\u043a\u0430 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0443\u0435\u0442 \u043e \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0438 \u043f\u0440\u0430\u0432\u0438\u043b \u0438\u0433\u0440\u044b"],["tag_veteran",l.a.createElement(me.a,null),"\u0412\u0435\u0442\u0435\u0440\u0430\u043d","\u0423 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u044d\u0442\u043e\u0439 \u043c\u0435\u0442\u043a\u0438 \u0431\u043e\u043b\u044c\u0448\u0435 1.000 \u043a\u0430\u0440\u0442\u0438\u043d"],["tag_banana",l.a.createElement(Ct,null),"\u0411\u0430\u043d\u0430\u043d\u043e\u0432\u044b\u0439 \u043e\u0441\u0442\u0440\u043e\u0432","\u041d\u0430\u0440\u0438\u0441\u0443\u0439\u0442\u0435 100 \u0431\u0430\u043d\u0430\u043d\u043e\u0432"],["tag_smart",l.a.createElement(de.a,null),"\u0423\u043c\u043d\u0438\u043a","\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446 \u043c\u0435\u0442\u043a\u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u043b \u0432 \u0441\u0443\u043c\u043c\u0435 100 \u0438\u0434\u0435\u0439 \u0438 \u0441\u043b\u043e\u0432"],["tag_psychic",l.a.createElement(fe.a,null),"\u042d\u043a\u0441\u0442\u0440\u0430\u0441\u0435\u043d\u0441","\u0423\u0433\u0430\u0434\u0430\u0439\u0442\u0435, \u043a\u0430\u043a\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u0432\u044b\u043f\u0430\u043b\u043e \u0438\u0433\u0440\u043e\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043e\u043d \u043d\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0437\u0438\u043b \u043d\u0430 \u0445\u043e\u043b\u0441\u0442\u0435"]]}},{key:"_tag_modal",value:function(e){var t=this,a=this._tags().find((function(t){return t[0]===e}));return l.a.createElement(m.u,{key:e,id:e,onClose:function(){return t.setActiveModal(null)},icon:l.a.cloneElement(a[1],{width:56,height:56}),header:a[2],subheader:a[3],actions:l.a.createElement(m.h,{size:"l",mode:"gradient_pink",onClick:function(){return t.go("tags")}},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")})}},{key:"isNonScrollingElement",value:function(e){return["global_canvas","search","game"].indexOf(e)>-1}},{key:"isPanelWithContainerCards",value:function(e){return["friends","gallery","guessed_pictures","feed","stats","shop","lvl_help"].indexOf(e)>-1}},{key:"render",value:function(){var e=this,t=this.state,a=t.test_game,n=t.activePanel,r=t.activeModal,o=t.popout,s=t.snackbar,c=t.isShowOnboard,i=t.vk_user,u=t.user,p=t.banned,d=t.placeholderText,h=t.gameErrorText,v=t.gamesAsWinner,E=t.gamesAsDrawer,y=t.drawerId,w=t.winnerId,C=t.lobbyId,x=t.gameId,L=t.word,O=t.chooseWords,S=t.like_currentPictureSelected,P=t.like_method,A=t.like_param,I=t.like_user_id,F=t.isOnlineDrawing,D=t.friend_lobby,N=t.watchedShopItems,T=t.boughtShopItems,B=t.suggestions_type,U=t.suggestions_list,R=t.game_canceled_reason,G=t.color,z=t.color_percent,K=t.gradients,H=t.btnSelectColorPaletteDefault,Y=t.color_gradient,J=t.pickedColor,$=void 0!==Y?H:G||H,q=!(i&&u&&v&&E),Q=u.vk_donut||u.premium||u.admin,ee=void 0!==Y&&!1===Q||void 0===Y&&z>10*u.lvl,te=l.a.createElement(m.x,{activeModal:r},this._tags().map((function(t){return e._tag_modal(t[0])})),l.a.createElement(m.u,{id:"new-update",onClose:function(){e.setActiveModal(null),e.onChangeHash()},icon:l.a.createElement(he.a,null),header:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435",subheader:"\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f, \u0432\u043d\u0435\u0441\u0435\u043d\u0438\u0435 \u043f\u043e\u043f\u0440\u0430\u0432\u043e\u043a \u0432 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0438\u0433\u0440\u044b.",actions:l.a.createElement(m.h,{size:"l",mode:"gradient_violet",onClick:function(){f.a.send("VKWebAppStorageSet",{key:"update_01062022",value:"1"}),e.setActiveModal(null),e.onChangeHash(),M("https://vk.com/@draw_app-update-01-06-2022")}},"\u0427\u0438\u0442\u0430\u0442\u044c")}),l.a.createElement(m.u,{id:bo,onClose:function(){return e.setActiveModal(null)},icon:l.a.createElement(ve.a,null),header:"\u041d\u043e\u0432\u044b\u0439 \u0440\u0435\u0436\u0438\u043c",subheader:"\u0414\u0430\u0432\u0430\u0439 \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0430\u0443\u0447\u0438\u043c\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u0433\u043e\u0434\u044f\u0442\u0441\u044f \u0432 \u044d\u0442\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435.",actions:l.a.createElement(m.h,{size:"l",mode:"gradient_blue",onClick:function(){f.a.send("VKWebAppStorageSet",{key:"canvas_new_mode_onboard",value:"1"}),e.setState({isShowGlobalCanvasOnboard:!1}),e.setActiveModal(null),e.go("global_canvas_info")}},"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435")}),l.a.createElement(m.u,{id:go,onClose:function(){return e.setActiveModal(null)},header:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",actions:[l.a.createElement(m.h,{size:"l",mode:"gradient_blue",onClick:function(){e._urlParams&&(window.location.search=e._urlParams,e.connect())}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")]},l.a.createElement(m.o,null,l.a.createElement(m.n,null,l.a.createElement(m.s,{defaultValue:window.location.search,onChange:function(t){return e._urlParams=t.target.value}})))),l.a.createElement(m.u,{id:vo,onClose:function(){return e.setActiveModal(null)},icon:l.a.createElement(be.a,{fill:"#E63902"}),header:"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435",subheader:"\u0412\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u043c\u0438\u043d\u0438-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. ".concat("\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u044d\u0448 (\u0447\u0435\u0440\u0435\u0437 \u0442\u0440\u0438 \u0442\u043e\u0447\u043a\u0438 \u0441\u043f\u0440\u0430\u0432\u0430 \u0432\u0432\u0435\u0440\u0445\u0443).")}),l.a.createElement(m.v,{id:ko,onClose:function(){return e.setActiveModal(null)},settlingHeight:100,header:l.a.createElement(m.w,{right:!W()&&l.a.createElement(m.B,{onClick:function(){return e.setActiveModal(null)}},l.a.createElement(ge.a,null))},"\u041f\u0430\u043b\u0438\u0442\u0440\u0430")},l.a.createElement("div",{className:"PaletteContainer"},l.a.createElement(_.a,{color:G,onChange:function(t){var a=parseInt(document.getElementsByClassName("react-colorful__hue-pointer")[0].style.left.replace("%",""));e.setState({color:t,color_gradient:void 0,color_percent:a})}}),l.a.createElement("div",{className:"GradientContainer"},l.a.createElement("h2",null,"\u0413\u0440\u0430\u0434\u0438\u0435\u043d\u0442"),l.a.createElement("div",null,K.map((function(t,a){var n="conic-gradient(from 180deg at 50% 50%, ".concat([].concat(Object(k.a)(t.slice(0,t.length-2)),[t[0]]).join(", "),")");return l.a.createElement("div",{key:"gradient-".concat(a),style:{background:n},onClick:function(){e.setState({color_gradient:a})}},l.a.createElement("div",null,l.a.createElement("div",{style:{display:Y!==a&&"none",background:n}})))}))))),ee&&l.a.createElement("div",{className:"PaletteBlock"},void 0!==Y?"\u0413\u0440\u0430\u0434\u0438\u0435\u043d\u0442":"\u0426\u0432\u0435\u0442"," \u043d\u0435 \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d"),l.a.createElement("div",{className:"ButtonsContainer"},l.a.createElement(m.h,{size:"l",stretched:!0,style:{background:$,color:X($)?"#FFFFFF":"#000000"},disabled:ee,onClick:Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ee){t.next=3;break}return t.next=3,e.setState({pickedColor:void 0!==Y?K[Y]:G});case 3:e.setActiveModal(null);case 4:case"end":return t.stop()}}),t)})))},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),l.a.createElement(m.h,{size:"l",stretched:!0,style:{background:"rgba(".concat(Z($).arr.join(","),", .05)"),color:"#FFFFFF"},onClick:Object(g.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={},"object"===typeof J?a.color_gradient=K.findIndex((function(e){return JSON.stringify(e)===JSON.stringify(J)})):(a.color_gradient=-1,a.color=J),e.setState(a),e.setActiveModal(null);case 4:case"end":return t.stop()}}),t)})))},"\u041e\u0442\u043c\u0435\u043d\u0430"))));return l.a.createElement(m.L,{popout:o,modal:te},l.a.createElement(m.K,{animate:!W()},l.a.createElement(m.P,{style:uo({overflow:this.isNonScrollingElement(n)&&"hidden"},this.isPanelWithContainerCards(n)?{"--background_content":"var(--panel_container_background)","--header_background":"var(--panel_container_card_background)"}:{}),activePanel:a?"game":"placeholder"!==n&&"banned"!==n?q?"connecting":c?"onboard":n:n,onSwipeBack:this.back,history:this.state.history},[{id:"onboard",component:l.a.createElement(Ha,{icon:l.a.createElement(Ce,null),title:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c",description:"\u0417\u0434\u0435\u0441\u044c \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0447\u0443\u0432\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0431\u044f \u0432 \u0440\u043e\u043b\u0438 \u043a\u0430\u043a \u0445\u0443\u0434\u043e\u0436\u043d\u0438\u043a\u0430, \u0442\u0430\u043a \u0438 \u0428\u0435\u0440\u043b\u043e\u043a\u0430. \u0420\u0438\u0441\u0443\u0439\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u044b \u0438 \u0443\u0433\u0430\u0434\u044b\u0432\u0430\u0439\u0442\u0435 \u0447\u0443\u0436\u0438\u0435.",buttonIcon:!1,buttonText:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",buttonMode:"primary_2",buttonOnClick:function(){f.a.send("VKWebAppStorageSet",{key:"onboard",value:"1"}),e.setState({isShowOnboard:!1}),e.onChangeHash()}})},{id:"connecting",component:l.a.createElement(Ha,{icon:l.a.createElement(Ce,null),title:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435",description:"\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443..."})},{id:"placeholder",component:l.a.createElement(Ha,{icon:l.a.createElement(Ae,null),title:"\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u043e",description:d,buttonText:"\u041f\u0435\u0440\u0435\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f",buttonMode:"primary_2",buttonOnClick:Object(g.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setActivePanel("connecting"),e.setState({trying_reconnect:!0}),a=0;case 3:if(!(a<5)){t.next=12;break}return e.connect(),t.next=7,j(1e3);case 7:if(!e.state.connected){t.next=9;break}return t.abrupt("break",12);case 9:a++,t.next=3;break;case 12:return t.next=14,e.setState({trying_reconnect:!1});case 14:e.connect();case 15:case"end":return t.stop()}}),t)})))})},{id:"main",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Xt,{t:this,time:this.state.time}),s)},{id:"avatar_frames",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Ht,{t:this}),s)},{id:"lvl_help",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(so,{t:this}),s)},{id:"week_gifts",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(io,{t:this}),s)},{id:"suggestions",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Xr,{t:this}),s)},{id:"suggestions_idea",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(qr,{t:this}),s)},{id:"suggestions_word",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(to,{t:this}),s)},{id:"suggestions_list",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(ro,{t:this,type:B,list:U}),s)},{id:"shop",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(or,{t:this,watchedShopItems:N,boughtShopItems:T}),s)},{id:"stats",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(tr,{t:this}),s)},{id:"gallery",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(qt,{t:this}),s)},{id:"guessed_pictures",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(aa,{t:this}),s)},{id:"feed",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Sn,{t:this}),s)},{id:"picture_info",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(_n,{t:this,current:S,method:P,param:A,user_id:I}),s)},{id:"author",component:l.a.createElement(Dn,{t:this})},{id:"search",component:l.a.createElement(oa,{t:this})},{id:"game",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Da,{color:J,t:this,drawerId:y,lobbyId:C,online:F,chooseWords:O,word:L}),s)},{id:"global_canvas_history",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(zr,{t:this}),s)},{id:"global_canvas",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(xr,{t:this}),s)},{id:"global_canvas_info",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Dr,{t:this}),s)},{id:"result",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Va,{t:this,drawerId:y,winnerId:w,word:L,gameId:x}),s)},{id:"tags",component:l.a.createElement(Wn,{t:this})},{id:"friends",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Gn,{t:this}),s)},{id:"friend_lobby",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Yn,{t:this,friend_lobby:D}),s)},{id:"friend_lobby_settings",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Ur,{t:this,friend_lobby:D}),s)},{id:"group_vk",component:l.a.createElement(Ha,{icon:l.a.createElement(We,null),title:"\u0421 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u0435\u043c!",description:"\u041d\u0435 \u0445\u043e\u0447\u0435\u0448\u044c \u0432\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u043d\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435? \u0418\u043c\u0435\u043d\u043d\u043e \u0442\u0430\u043c \u043f\u0443\u0431\u043b\u0438\u043a\u0443\u044e\u0442\u0441\u044f \u0432\u0441\u0435 \u043a\u0440\u0443\u0442\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u043a\u043e\u043d\u043a\u0443\u0440\u0441\u044b",buttonText:"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c",buttonOnClick:Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.a.send("VKWebAppStorageSet",{key:"vk_group3",value:"1"}),e.setState({isShowVkGroup:!1}),t.prev=2,t.next=5,f.a.send("VKWebAppJoinGroup",{group_id:208964042});case 5:V("stats.subscribe",{group_id:208964042}),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(2);case 10:e.back(),e.onChangeHash();case 12:case"end":return t.stop()}}),t,null,[[2,8]])}))),buttonMode:"gradient_gray",buttonBack:!0,buttonBackOnClick:function(){(e.vkChatIntegration||e.isFromCatalogChat)&&f.a.send("VKWebAppStorageSet",{key:"vk_group3",value:"1"}),e.back(),e.onChangeHash()},t:this})},{id:"chat_vk",component:l.a.createElement(Ha,{icon:l.a.createElement(We,null),title:"\u0418 \u0441\u043d\u043e\u0432\u0430 \u043f\u0440\u0438\u0432\u0435\u0442!",description:"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0430\u0435\u043c \u0442\u0435\u0431\u044f \u043a \u043d\u0430\u043c \u0432 \u0431\u0435\u0441\u0435\u0434\u0443, \u0442\u0430\u043c \u043c\u044b \u0430\u043a\u0442\u0438\u0432\u043d\u043e \u043e\u0431\u0449\u0430\u0435\u043c\u0441\u044f \u0434\u0440\u0443\u0433 \u0441 \u0434\u0440\u0443\u0433\u043e\u043c :)",buttonText:"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c",buttonOnClick:Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:M("https://vk.me/join/DFIbwK_w537NhbqDIWPd8JjoW/qfkWn5tzk="),e.back(),e.onChangeHash();case 3:case"end":return t.stop()}}),t)}))),buttonMode:"gradient_gray",buttonBack:!0,t:this})},{id:"vk_donut_avocado",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(m.z,{separator:!1,left:l.a.createElement(m.A,{onClick:function(){return e.back()}})}),l.a.createElement("iframe",{src:"https://avocadoteam.github.io/app-sub-modal/?appearance=".concat(this.state.appearance,"&app=draw"),style:{height:W()?"93vh":"calc(100vh - 120px)",border:0},width:"100%"}))},{id:"vk_donut_blocked",component:l.a.createElement(Ha,{icon:l.a.createElement(We,null),title:"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043e",description:"\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u0443 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d. \u041e\u0436\u0438\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u0432 \u043d\u0430\u0448\u0435\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435.",buttonText:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438",buttonOnClick:function(){M("https://vk.com/draw_app")},buttonMode:"gradient_gray",buttonBack:!0,t:this})},{id:"vk_donut_ios",component:l.a.createElement(Ha,{icon:l.a.createElement(ot,null),title:"VK Donut",description:"\u041d\u0430 \u0412\u0430\u0448\u0435\u043c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435 \u0434\u0430\u043d\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430. \u0423\u0442\u043e\u0447\u043d\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043c\u043e\u0436\u0435\u0442\u0435 \u0432 \u043d\u0430\u0448\u0435\u0439 \u0433\u0440\u0443\u043f\u043f\u0435.",buttonText:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c",buttonOnClick:function(){M("https://vk.com/draw_app")},buttonMode:"primary_2",buttonBack:!0,t:this})},{id:"banned",component:l.a.createElement(Ha,{icon:l.a.createElement(We,null),title:"\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430",description:"\u0412\u044b \u0431\u044b\u043b\u0438 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u0437\u0430 \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b. \u0414\u0430\u0442\u0430 \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438: ".concat(new Date(p+864e5).toLocaleDateString("ru",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric"})),buttonText:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443",buttonOnClick:function(){M("https://vk.com/club208964042")},buttonMode:"gradient_gray",t:this})},{id:"suggestions_done",component:l.a.createElement(Ha,{icon:l.a.createElement(pt,null),title:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u041c\u044b \u0443\u0447\u0442\u0451\u043c.",buttonBack:!0,buttonBackText:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f",t:this})},{id:"game_canceled",component:l.a.createElement(Ha,{icon:l.a.createElement(bt,null),title:R,buttonBack:!1,buttonText:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e",buttonMode:"secondary",buttonOnClick:function(){return e.setActivePanel("main")},t:this})},{id:"game_error",component:l.a.createElement(Ha,{icon:l.a.createElement(bt,null),title:h,buttonBack:!1,buttonText:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e",buttonMode:"secondary",buttonOnClick:function(){return e.setActivePanel("main")},t:this})}].map((function(e,t){var a=e.id,n=e.component;return l.a.createElement(m.y,{id:a,key:"Panel__".concat(t),"data-vkui-swipe-back":!("game"===a||"global_canvas"===a)},n)})))))}}]),t}(l.a.Component),yo=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.subscribe((function(t){var a=t.detail,n=a.type,r=a.data;"VKWebAppUpdateConfig"===n&&e.setState({appearance:r.appearance})}))}},{key:"render",value:function(){return l.a.createElement(m.j,{webviewType:m.Q.INTERNAL,appearance:this.state.appearance},l.a.createElement(m.c,null,l.a.createElement(m.e,null,l.a.createElement(Eo,null))))}}]),t}(l.a.Component);p.a.render(l.a.createElement(yo,null),document.getElementById("root"))}},[[200,1,2]]]);
//# sourceMappingURL=main.5c46e1d0.chunk.js.map