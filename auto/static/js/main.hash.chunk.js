(window.webpackJsonpminiapp=window.webpackJsonpminiapp||[]).push([[0],{337:function(e,t,a){},347:function(e,t,a){e.exports=a.p+"static/media/gifts.26e5769d.png"},361:function(e,t,a){e.exports=a.p+"static/media/gifts_panel.d87a6156.png"},492:function(e,t,a){e.exports=a(758)},603:function(e,t,a){},604:function(e,t,a){},623:function(e,t,a){e.exports=a.p+"static/media/SF-Pro-Text-Regular.85bd46c1.ttf"},624:function(e,t,a){e.exports=a.p+"static/media/SF-Pro-Text-Heavy.d7829d9b.otf"},625:function(e,t,a){e.exports=a.p+"static/media/SF-Pro-Text-Medium.9491854a.otf"},626:function(e,t,a){e.exports=a.p+"static/media/SF-Pro-Text-Semibold.8f079b59.otf"},627:function(e,t,a){e.exports=a.p+"static/media/SF-Pro-Text-Bold.5b6c7cdf.otf"},628:function(e,t,a){e.exports=a.p+"static/media/Manrope.2640802b.ttf"},629:function(e,t,a){e.exports=a.p+"static/media/Manrope-SemiBold.f85bb1cd.ttf"},630:function(e,t,a){e.exports=a.p+"static/media/Manrope-Medium.f661a805.ttf"},631:function(e,t,a){e.exports=a.p+"static/media/Manrope-Bold.850ffaa2.ttf"},632:function(e,t,a){e.exports=a.p+"static/media/Manrope-ExtraBold.6b0f2123.ttf"},633:function(e,t,a){e.exports=a.p+"static/media/SF-Pro-Display-Regular.aaeac71d.otf"},634:function(e,t,a){e.exports=a.p+"static/media/SF-Pro-Display-Bold.644563f4.otf"},635:function(e,t,a){e.exports=a.p+"static/media/SF-Pro-Display-Semibold.e6ef4ea3.otf"},636:function(e,t,a){e.exports=a.p+"static/media/SF-Pro-Display-Medium.51fd7406.otf"},637:function(e,t,a){e.exports=a.p+"static/media/SF-Pro-Display-Heavy.a545fc03.otf"},638:function(e,t,a){e.exports=a.p+"static/media/SF-Pro-Rounded-Regular.400bd9f8.ttf"},639:function(e,t,a){e.exports=a.p+"static/media/FontsFree-Net-SF-Pro-Rounded-Semibold.90721205.ttf"},640:function(e,t,a){e.exports=a.p+"static/media/FontsFree-Net-SF-Pro-Rounded-Bold.e64fc9d0.ttf"},641:function(e,t,a){e.exports=a.p+"static/media/FontsFree-Net-SF-Pro-Rounded-Black.9dbbd6b9.ttf"},642:function(e,t,a){e.exports=a.p+"static/media/FontsFree-Net-SF-Pro-Rounded-Heavy.8de22cfe.ttf"},643:function(e,t,a){e.exports=a.p+"static/media/SFUIDisplay-Regular.d4550c5e.otf"},644:function(e,t,a){e.exports=a.p+"static/media/SFUIText-Regular.888e0f3f.otf"},645:function(e,t,a){e.exports=a.p+"static/media/TTCommons-Regular.fc6fbc1a.ttf"},646:function(e,t,a){e.exports=a.p+"static/media/TTCommons-DemiBold.2e6a293a.ttf"},647:function(e,t,a){e.exports=a.p+"static/media/TTCommons-Bold.03428f67.ttf"},648:function(e,t,a){e.exports=a.p+"static/media/Stupid-Head.c7c4799e.ttf"},649:function(e,t,a){e.exports=a.p+"static/media/ProximaNova-Regular.1fc524a2.ttf"},650:function(e,t,a){e.exports=a.p+"static/media/ProximaNova-Bold.2b93e8e9.ttf"},651:function(e,t,a){e.exports=a.p+"static/media/ProximaNova-Semibold.3625e925.ttf"},652:function(e,t,a){e.exports=a.p+"static/media/Montserrat-Regular.ee653992.ttf"},653:function(e,t,a){e.exports=a.p+"static/media/Montserrat-SemiBold.c641dbee.ttf"},654:function(e,t,a){e.exports=a.p+"static/media/WC-Mano-Negra-Bta.d9521fb6.otf"},655:function(e,t,a){e.exports=a.p+"static/media/Roboto-Regular.11eabca2.ttf"},656:function(e,t,a){e.exports=a.p+"static/media/TTFirsNeue-Regular.0de1b0e6.ttf"},657:function(e,t,a){e.exports=a.p+"static/media/TTFirsNeue-Medium.df13f74f.ttf"},658:function(e,t,a){e.exports=a.p+"static/media/TTFirsNeue-DemiBold.44097099.ttf"},659:function(e,t,a){e.exports=a.p+"static/media/Gilroy-Regular.ae5e7255.ttf"},660:function(e,t,a){e.exports=a.p+"static/media/Gilroy-Bold.3cf0ee27.ttf"},661:function(e,t,a){e.exports=a.p+"static/media/Gilroy-Medium.6444f14a.ttf"},662:function(e,t,a){e.exports=a.p+"static/media/Gilroy-SemiBold.05bdf30b.ttf"},663:function(e,t,a){e.exports=a.p+"static/media/Inter-Regular.515cae74.ttf"},664:function(e,t,a){e.exports=a.p+"static/media/Inter-Medium.5ff1f2a9.ttf"},665:function(e,t,a){e.exports=a.p+"static/media/Inter-SemiBold.ec60b23f.ttf"},666:function(e,t,a){e.exports=a.p+"static/media/Inter-Bold.97decd2b.ttf"},667:function(e,t,a){e.exports=a.p+"static/media/Inter-Black.6385452a.ttf"},668:function(e,t,a){e.exports=a.p+"static/media/Inter-ExtraBold.bf2cf389.ttf"},669:function(e,t,a){e.exports=a.p+"static/media/Alice-Regular.c91fff83.ttf"},670:function(e,t,a){var n={"./1.webp":671,"./10.webp":672,"./11.webp":673,"./12.webp":674,"./13.webp":675,"./2.webp":676,"./3.webp":677,"./4.webp":678,"./5.webp":679,"./6.webp":680,"./7.webp":681,"./8.webp":682,"./9.webp":683};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=670},671:function(e,t,a){e.exports=a.p+"static/media/1.0ef8c7e1.webp"},672:function(e,t,a){e.exports=a.p+"static/media/10.13a89991.webp"},673:function(e,t,a){e.exports=a.p+"static/media/11.e3ca71ae.webp"},674:function(e,t,a){e.exports=a.p+"static/media/12.0f4613b2.webp"},675:function(e,t,a){e.exports=a.p+"static/media/13.42cc85a0.webp"},676:function(e,t,a){e.exports=a.p+"static/media/2.5a026d4d.webp"},677:function(e,t,a){e.exports=a.p+"static/media/3.72b041a0.webp"},678:function(e,t,a){e.exports=a.p+"static/media/4.04114258.webp"},679:function(e,t,a){e.exports=a.p+"static/media/5.d4a749e3.webp"},680:function(e,t,a){e.exports=a.p+"static/media/6.6dd58558.webp"},681:function(e,t,a){e.exports=a.p+"static/media/7.8fcbd554.webp"},682:function(e,t,a){e.exports=a.p+"static/media/8.ade4c4f7.webp"},683:function(e,t,a){e.exports=a.p+"static/media/9.68fcbcf6.webp"},710:function(e,t){},711:function(e,t){},719:function(e,t){},722:function(e,t){},723:function(e,t){},724:function(e,t){},725:function(e,t,a){var n={"./reaction-0.webp":726,"./reaction-1.webp":727,"./reaction-2.webp":728,"./reaction-3.webp":729,"./reaction-4.webp":730};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=725},726:function(e,t,a){e.exports=a.p+"static/media/reaction-0.f6068f60.webp"},727:function(e,t,a){e.exports=a.p+"static/media/reaction-1.95fcb1e6.webp"},728:function(e,t,a){e.exports=a.p+"static/media/reaction-2.1faebe3d.webp"},729:function(e,t,a){e.exports=a.p+"static/media/reaction-3.bec4f0db.webp"},730:function(e,t,a){e.exports=a.p+"static/media/reaction-4.9970d856.webp"},731:function(e,t,a){var n={"./logo_day.png":732,"./logo_night.png":733};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=731},732:function(e,t){e.exports="data:image/png;base64,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"},733:function(e,t){e.exports="data:image/png;base64,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"},734:function(e,t,a){var n={"./bg_desktop.png":735,"./bg_mobile.png":736};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=734},735:function(e,t,a){e.exports=a.p+"static/media/bg_desktop.9891ccc5.png"},736:function(e,t,a){e.exports=a.p+"static/media/bg_mobile.47a40d03.png"},737:function(e,t,a){e.exports=a.p+"static/media/bg.1e2a2e04.png"},738:function(e,t,a){e.exports=a.p+"static/media/camera_400.7929e119.png"},739:function(e,t,a){var n={"./clip_background.webp":740,"./gifts.png":347,"./gifts_panel.png":361,"./global_canvas.png":741,"./video_background.webp":742};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=739},740:function(e,t,a){e.exports=a.p+"static/media/clip_background.a545f3e3.webp"},741:function(e,t,a){e.exports=a.p+"static/media/global_canvas.4ccccc04.png"},742:function(e,t,a){e.exports=a.p+"static/media/video_background.05efa190.webp"},743:function(e,t,a){var n={"./Desktop.css":[759,3],"./Global.css":[337],"./Mobile.css":[760,4]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a.t(r,7)}))}r.keys=function(){return Object.keys(n)},r.id=743,e.exports=r},744:function(e,t,a){e.exports=a.p+"static/media/1.5ae4826a.webp"},745:function(e,t,a){e.exports=a.p+"static/media/2.43f6ff1b.webp"},746:function(e,t,a){e.exports=a.p+"static/media/3.5857b42e.webp"},747:function(e,t,a){e.exports=a.p+"static/media/4.357342b2.webp"},748:function(e,t,a){e.exports=a.p+"static/media/5.0d5b778e.webp"},749:function(e,t,a){e.exports=a.p+"static/media/1.19e330d4.webp"},750:function(e,t,a){e.exports=a.p+"static/media/2.20d1baad.webp"},751:function(e,t,a){e.exports=a.p+"static/media/3.301dd842.webp"},752:function(e,t,a){e.exports=a.p+"static/media/choice_5words.e4697fec.webp"},753:function(e,t,a){e.exports=a.p+"static/media/picture_actions.b504b67b.webp"},754:function(e,t,a){e.exports=a.p+"static/media/picture_gif.48bdd726.webp"},755:function(e,t,a){e.exports=a.p+"static/media/1.e1a6f82f.webp"},756:function(e,t,a){e.exports=a.p+"static/media/2.0f7c9831.webp"},757:function(e,t,a){e.exports=a.p+"static/media/3.c4661ab0.webp"},758:function(e,t,a){"use strict";a.r(t);a(493),a(527),a(529),a(531),a(533),a(534),a(535),a(536),a(537),a(538),a(541),a(542),a(544),a(545),a(546),a(547),a(548),a(549),a(551),a(552),a(553),a(554),a(555),a(556),a(559),a(560),a(561),a(562),a(563),a(565),a(567),a(569),a(571),a(572),a(573),a(574),a(575),a(576),a(578),a(580);var n=a(4),r=a(11),o=a(17),s=a(13),c=a(16),i=a(1),l=a.n(i),u=a(200),p=a.n(u),d=(a(589),a(590),a(14)),m=(a(603),a(604),a(26)),f=a.n(m),h=a(38),v=a(18),b=a(2),g=a.n(b),k=a(7),y=a(29),w=(a(337),a(164)),E=a.n(w),C=a(268),x=a(9),_=a(72);a(302),a(346);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var S=["SF Pro Text","SF Pro Text Heavy","SF Pro Text Semibold","SF Pro Display","SF Pro Display Bold","SF Pro Display Semibold","SF Pro Display Medium","SF Pro Rounded","SF Pro Rounded Semibold","SF Pro Rounded Bold","SF UI Display","SF UI Text","TT Commons","TT Commons Bold","TT Commons Demibold","Manrope ExtraBold","Manrope"];function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=!0,a=!1,n=void 0;try{for(var r,o=function(){var e=r.value,t=document.createElement("span");t.style.position="fixed",t.style.fontFamily=e,t.style.opacity="0",t.innerText="test",document.body.appendChild(t),t.onload=function(){return t.remove()}},s=e[Symbol.iterator]();!(t=(r=s.next()).done);t=!0)o()}catch(c){a=!0,n=c}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}}function j(){return A.apply(this,arguments)}function A(){return(A=Object(k.a)(g.a.mark((function e(){var t,n,r,o,s,c,i,l,u,p,d=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d.length>0&&void 0!==d[0]?d[0]:[],n=[["SF Pro Text",a(623)],["SF Pro Text Heavy",a(624)],["SF Pro Text Medium",a(625)],["SF Pro Text Semibold",a(626)],["SF Pro Text Bold",a(627)],["Manrope",a(628)],["Manrope Semibold",a(629)],["Manrope Medium",a(630)],["Manrope Bold",a(631)],["Manrope ExtraBold",a(632)],["SF Pro Display",a(633)],["SF Pro Display Bold",a(634)],["SF Pro Display Semibold",a(635)],["SF Pro Display Medium",a(636)],["SF Pro Display Heavy",a(637)],["SF Pro Rounded",a(638)],["SF Pro Rounded Semibold",a(639)],["SF Pro Rounded Bold",a(640)],["SF Pro Rounded Black",a(641)],["SF Pro Rounded Heavy",a(642)],["SF UI Display",a(643)],["SF UI Text",a(644)],["TT Commons",a(645)],["TT Commons Debimold",a(646)],["TT Commons Bold",a(647)],["Stupid Head",a(648)],["ProximaNova",a(649)],["ProximaNova Bold",a(650)],["ProximaNova Semibold",a(651)],["Montserrat",a(652)],["Montserrat Semibold",a(653)],["WC Mano Negra Bta",a(654)],["Roboto",a(655)],["TT Firs Neue",a(656)],["TT Firs Neue Medium",a(657)],["TT Firs Neue DemiBold",a(658)],["Gilroy",a(659)],["Gilroy Bold",a(660)],["Gilroy Medium",a(661)],["Gilroy Semibold",a(662)],["Inter",a(663)],["Inter Medium",a(664)],["Inter Semibold",a(665)],["Inter Bold",a(666)],["Inter Black",a(667)],["Inter ExtraBold",a(668)],["Alice",a(669)]],t.length>0&&(n=n.filter((function(e){return t.indexOf(e[0])>-1}))),r=!0,o=!1,s=void 0,e.prev=6,c=n[Symbol.iterator]();case 8:if(r=(i=c.next()).done){e.next=26;break}return l=i.value,e.prev=10,u=X(l[1],!1),p=new FontFace(l[0],"url(".concat(u,")")),document.fonts.add(p),e.next=16,p.load();case 16:console.log('Loaded font "'.concat(l[0],'"'),u),e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(10),console.error(e.t0),e.abrupt("break",26);case 23:r=!0,e.next=8;break;case 26:e.next=32;break;case 28:e.prev=28,e.t1=e.catch(6),o=!0,s=e.t1;case 32:e.prev=32,e.prev=33,r||null==c.return||c.return();case 35:if(e.prev=35,!o){e.next=38;break}throw s;case 38:return e.finish(35);case 39:return e.finish(32);case 40:case"end":return e.stop()}}),e,null,[[6,28,32,40],[10,19],[33,,35,39]])})))).apply(this,arguments)}function D(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function F(e,t,a){return"#"+D(e)+D(t)+D(a)}function I(e,t,a,n){var r=e.replace("#","").match(/.{2}/g),o=t.replace("#","").match(/.{2}/g),s=a/n,c=1-s;return F(Math.floor(("0x"+r[0])*c+("0x"+o[0])*s),Math.floor(("0x"+r[1])*c+("0x"+o[1])*s),Math.floor(("0x"+r[2])*c+("0x"+o[2])*s))}function M(e){return new Promise((function(t){return setTimeout(t,e)}))}function N(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("object"!==typeof t)return"".concat(e," ").concat(t);if(void 0!==e){var n=[];return n[e]||(n[e]=e%100>4&&e%100<20?2:[2,0,1,1,1,2][Math.min(e%10,5)]),(a?e+" ":"")+t[n[e]]}}function T(e){try{return e.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}catch(t){return 0}}function B(e,t){return Math.floor(Math.random()*(t-e+1))+e}function W(e){var t,a,n,r,o,s;return s=parseInt(Math.floor(e/1e3)),o=parseInt(Math.floor(s/60)),r=parseInt(Math.floor(o/60)),n=parseInt(s%60),a=parseInt(o%60),{hours:t=parseInt(r%24),minutes:a,seconds:n,str:{hours:t.toLocaleString("ru",{minimumIntegerDigits:2}),minutes:a.toLocaleString("ru",{minimumIntegerDigits:2}),seconds:n.toLocaleString("ru",{minimumIntegerDigits:2})}}}var R=function(e){return new Promise((function(t,a){var n=new Image;n.onload=function(){return t(n)},n.crossOrigin="anonymous",n.onstalled=function(e){console.log("Failed to fetch data, but trying.",e),a(e)},n.onerror=function(e){console.log("Failed to fetch data, error.",e),a(e)},n.src=e}))};function G(e){return U.apply(this,arguments)}function U(){return(U=Object(k.a)(g.a.mark((function e(t){var a,n,r,o,s,c=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(c.length>1&&void 0!==c[1])||c[1],n=document.createElement("canvas"),r=n.getContext("2d"),o="string"===typeof t?t:window.btoa(t),console.log(o),e.next=6,R("string"===typeof t?o:"data:image/svg+xml;base64,".concat(o));case 6:if(s=e.sent,n.height=s.height,n.width=s.width,null!==r){e.next=11;break}return e.abrupt("return","");case 11:return r.drawImage(s,0,0,s.width,s.height),e.abrupt("return",a?n.toDataURL():n);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){var e={},t=!0,a=!1,n=void 0;try{for(var r,o=new URLSearchParams(window.location.search)[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value,c=Object(x.a)(s,2),i=c[0],l=c[1];e[i]=l}}catch(u){a=!0,n=u}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}return e}function V(){return"mobile_iphone"===z().vk_platform}function H(){return"desktop_web"===z().vk_platform}function K(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(k.a)(g.a.mark((function e(t){var a,n=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,f.a.send("VKWebAppCallAPIMethod",{method:t,params:L({},a,{v:"5.126",access_token:a.access_token||"7a8d6dcc7a8d6dcc7a8d6dcc637afa8f4477a8d7a8d6dcc1b06a888634e406617b4aef3"})});case 3:return e.abrupt("return",e.sent.response);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t){var a=document.createElement("a");a.href=e,t&&(a.download=t),a.target="_blank",a.click(),a.remove()}function X(e){if((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&window.location.origin.includes("localhost"))return e;if(e.includes("data:")&&e.includes("base64"))return e;var t=7985972===parseInt(z().vk_app_id)?H()?"https://ilyasteik.github.io/DrawerApp/auto/":"https://ilyasteik.github.io/DrawerApp/auto":window.location.origin+window.location.pathname.replace("/index.html","");return t+("/"===t[t.length-1]?"/"===e[0]?e.substring(1):e:"/"===e[0]?e:"/"+e)}function J(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0,width:0,height:0};arguments.length>5&&void 0!==arguments[5]&&arguments[5];a="number"===typeof a?new Array(4).fill(a):a,e.save(),e.beginPath(),e.moveTo(r.x+a[0],r.y),e.lineTo(r.x+r.width-a[1],r.y),e.quadraticCurveTo(r.x+r.width,r.y,r.x+r.width,r.y+a[1]),e.lineTo(r.x+r.width,r.y+r.height-a[2]),e.quadraticCurveTo(r.x+r.width,r.y+r.height,r.x+r.width-a[2],r.y+r.height),e.lineTo(r.x+a[3],r.y+r.height),e.quadraticCurveTo(r.x,r.y+r.height,r.x,r.y+r.height-a[3]),e.lineTo(r.x,r.y+a[0]),e.quadraticCurveTo(r.x,r.y,r.x+a[0],r.y),e.closePath();var o=n?n.x:r.x,s=n?n.y:r.y,c=n?n.width:r.width,i=n?n.height:r.height;e.clip(),e.drawImage(t,o,s,c,i),e.restore()}function Q(e){return q.apply(this,arguments)}function q(){return(q=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=document.createElement("img")).crossOrigin="anonymous",a.src=t,e.next=5,new Promise((function(e){return a.onload=function(){return e()}}));case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t){return ee.apply(this,arguments)}function ee(){return(ee=Object(k.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(k.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target||window.event.srcElement,n=a.files,!(FileReader&&n&&n.length)){e.next=7;break}return e.next=4,new Promise(function(){var e=Object(k.a)(g.a.mark((function e(t){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n[0],(r=new FileReader).onload=Object(k.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.type.includes("image")?((n=new Image).src=r.result,n.onload=Object(k.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(_.createCanvas)(n.width,n.height),a.getContext("2d").drawImage(n,0,0,n.width,n.height),t({image:n,data:a.toDataURL("image/png")});case 3:case"end":return e.stop()}}),e)})))):console.error("File type not image");case 1:case"end":return e.stop()}}),e)}))),e.next=4,r.readAsDataURL(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",e.sent);case 7:console.error("UNKNOWN ERROR");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=parseInt(e.startsWith("var")?getComputedStyle(document.body).getPropertyValue(e.substring("var(").length,e.length-1):e.substring(1),16),n=a>>16&255,r=a>>8&255,o=a>>0&255;return{rgb:[n,r,o],rgba:[n,r,o,t]}}function re(){var e=ne(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"");return.2126*e.r+.7152*e.g+.0722*e.b<50}function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return e.filter((function(a,n){return e.findIndex((function(e){return e[t]===a[t]}))===n}))}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.durationMs,r=void 0===n?0:n,o=t.filename,s=void 0===o?"clip.mp4":o,c=t.onError,i=void 0===c?function(e){}:c,l=t.onStop,u=void 0===l?function(e){}:l;try{var p=Date.now(),d=[];console.log("captureStream");var m=e.captureStream(60);console.log("MediaRecorder");var h={mimeType:"video/webm;codecs=h264"};if(!MediaRecorder.isTypeSupported(h.mimeType))return void i("\u0422\u0438\u043f \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f.");var v=new MediaRecorder(m,h);return console.log("ondataavailable"),v.ondataavailable=function(e){return d.push(e.data)},console.log("onstop"),v.onstop=function(e){try{var t=Date.now()-p;a(346)(new Blob(d,{type:"video/mp4"}),t,function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=URL.createObjectURL(t),console.log("file url = ",a),!H()){e.next=6;break}Y(a,s),e.next=14;break;case 6:return e.prev=6,e.next=9,f.a.send("VKWebAppDownloadFile",{url:a,filename:s});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.error("Error download via bridge",e.t0);case 14:u(a);case 15:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(t){return e.apply(this,arguments)}}())}catch(e){i("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0444\u0430\u0439\u043b\u0430."),console.error("err rec stop",e)}},console.log("rec start()"),v.start(),r&&r>0&&setTimeout((function(){return v.stop()}),r),v}catch(b){i("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430."),console.error("err rec",b)}}function ce(e){return e.sort((function(t,a){return e.filter((function(e){return e===t})).length-e.filter((function(e){return e===a})).length})).pop()}function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ue={};function pe(e){return de.apply(this,arguments)}function de(){return(de=Object(k.a)(g.a.mark((function e(t){var a,n,r,o,s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=Object(v.a)(new Set(t.filter((function(e){return void 0===ue[e]&&void 0!==e&&0!==e})).map((function(e){return"number"===typeof e?e:e.replace("@","").replace("id","").replace("vk.com/","").replace("http://","").replace("https://","")}))))).length>0)){e.next=11;break}n=[],r=g.a.mark((function e(t){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he("users.getVKd",{user_ids:a.slice(100*t,100*t+100).join(","),d:"t"});case 2:if(null!==(r=e.sent.response)){e.next=7;break}return e.next=6,new Promise((function(e){var n,r=0,o=!1;n=setInterval(Object(k.a)(g.a.mark((function s(){var c;return g.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(o){s.next=8;break}return o=!0,r++,s.next=5,he("users.getVKd",{user_ids:a.slice(100*t,100*t+100).join(","),d:"t"});case 5:null!==(c=s.sent.response)?(e(c),clearInterval(n)):r>=10&&(e([]),clearInterval(n)),o=!1;case 8:case"end":return s.stop()}}),s)}))),400)}));case 6:r=e.sent;case 7:n=n.concat(r);case 8:case"end":return e.stop()}}),e)})),o=0;case 5:if(!(o<Math.floor(a.length/100)+1)){e.next=10;break}return e.delegateYield(r(o),"t0",7);case 7:o++,e.next=5;break;case 10:for(s=0;s<n.length;s++)c=n[s],ue[c.id]=c;case 11:return e.abrupt("return",t.map((function(e){return ue[e]||ue[Object.keys(ue).find((function(t){return ue[t].screen_name===e}))]})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e){return fe.apply(this,arguments)}function fe(){return(fe=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(k.a)(g.a.mark((function e(t){var a,n,r,o,s,c=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:{},n=0,r=le({},z(),{},a),o="?"+Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&"),s="https://draw.avocado.special.vk-apps.com/api/".concat(t).concat(o),e.next=5,new Promise((function(e,t){var a,r=!1;a=setInterval((function(){r||(r=!0,fetch(s,{method:"GET"}).then((function(e){return e.json()})).then((function(t){clearInterval(a),r=!1,e(t)})).catch((function(t){++n>=5&&(e({error:null}),clearInterval(a)),r=!1})))}),400)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var be=a(844),ge=a(845),ke=a(846),ye=a(847),we=a(848),Ee=a(849),Ce=a(850),xe=a(851),_e=a(852),Oe=a(853),Le=a(764);function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Pe(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var je=l.a.createElement("g",{clipPath:"url(#clip0_858_3679)"},l.a.createElement("path",{d:"M0 24.6154C0 11.0207 11.0207 0 24.6154 0H71.3846C84.9793 0 96 11.0207 96 24.6154V71.3846C96 84.9793 84.9793 96 71.3846 96H24.6154C11.0207 96 0 84.9793 0 71.3846V24.6154Z",fill:"#FF5277"}),l.a.createElement("path",{d:"M28.3181 68.045L26.2154 71.1991L29.9735 71.6954C32.6907 72.0543 37.0877 72.075 41.7379 71.0403C46.3888 70.0054 51.4965 67.8676 55.3771 63.7366C60.5026 58.2804 62.0551 52.8666 60.7191 47.6924C60.2733 45.966 60.5575 44.5507 61.3039 43.7662L122.862 -20.9368C123.412 -21.5146 124.023 -22.3537 124.337 -23.3354C124.662 -24.3505 124.758 -25.9407 123.499 -27.2004C122.239 -28.4601 120.649 -28.3636 119.634 -28.0388C118.652 -27.7247 117.813 -27.1137 117.235 -26.564L53.3187 34.243C52.3591 35.1558 50.4825 35.3173 47.9766 34.6943C43.753 33.6441 39.2764 34.9713 36.054 37.5731C32.8031 40.1977 30.5646 44.3474 31.2873 49.1174C31.9764 53.6651 32.207 56.8582 31.8061 59.6644C31.4153 62.4 30.3994 64.923 28.3181 68.045Z",fill:"white",stroke:"white",strokeWidth:4.72217})),Ae=l.a.createElement("defs",null,l.a.createElement("clipPath",{id:"clip0_858_3679"},l.a.createElement("path",{d:"M0 24.6154C0 11.0207 11.0207 0 24.6154 0H71.3846C84.9793 0 96 11.0207 96 24.6154V71.3846C96 84.9793 84.9793 96 71.3846 96H24.6154C11.0207 96 0 84.9793 0 71.3846V24.6154Z",fill:"white"}))),De=function(e){var t=e.svgRef,a=e.title,n=Pe(e,["svgRef","title"]);return l.a.createElement("svg",Se({width:96,height:96,viewBox:"0 0 96 96",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,je,Ae)},Fe=l.a.forwardRef((function(e,t){return l.a.createElement(De,Se({svgRef:t},e))}));a.p;function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Me(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ne=l.a.createElement("rect",{width:96,height:96,rx:24.6154,fill:"#FF5277"}),Te=l.a.createElement("path",{d:"M25.708 25.6877L24.7077 24.1872L26.4955 23.9511C27.7882 23.7804 29.88 23.7705 32.0923 24.2628C34.3048 24.7551 36.7347 25.7721 38.5809 27.7374C41.0193 30.3331 41.7578 32.9086 41.1222 35.3702C40.9102 36.1915 41.0454 36.8648 41.4005 37.238L70.6858 68.0194C70.9474 68.2943 71.2381 68.6935 71.3875 69.1605C71.542 69.6435 71.5879 70.4 70.9886 70.9992C70.3894 71.5985 69.6329 71.5526 69.1499 71.3981C68.6829 71.2487 68.2837 70.958 68.0088 70.6965L37.6016 41.7685C37.1451 41.3342 36.2523 41.2574 35.0602 41.5538C33.0509 42.0534 30.9213 41.422 29.3882 40.1843C27.8417 38.9357 26.7767 36.9615 27.1205 34.6922C27.4484 32.5287 27.5581 31.0097 27.3674 29.6747C27.1814 28.3733 26.6981 27.173 25.708 25.6877Z",fill:"#E2E2E2",stroke:"#E2E2E2",strokeWidth:2.2465}),Be=l.a.createElement("path",{d:"M70.3452 25.6877L71.3456 24.1872L69.5577 23.9511C68.265 23.7804 66.1732 23.7705 63.961 24.2628C61.7484 24.7551 59.3185 25.7721 57.4723 27.7374C55.034 30.3331 54.2954 32.9086 54.931 35.3702C55.1431 36.1915 55.0078 36.8648 54.6528 37.238L25.3674 68.0194C25.1059 68.2943 24.8152 68.6935 24.6657 69.1605C24.5112 69.6435 24.4653 70.4 25.0646 70.9992C25.6639 71.5985 26.4204 71.5526 26.9033 71.3981C27.3703 71.2487 27.7695 70.958 28.0444 70.6965L58.4516 41.7685C58.9081 41.3342 59.8009 41.2574 60.993 41.5538C63.0023 42.0534 65.132 41.422 66.665 40.1843C68.2115 38.9357 69.2765 36.9615 68.9327 34.6922C68.6049 32.5287 68.4951 31.0097 68.6859 29.6747C68.8718 28.3733 69.3551 27.173 70.3452 25.6877Z",fill:"white",stroke:"white",strokeWidth:2.2465}),We=function(e){var t=e.svgRef,a=e.title,n=Me(e,["svgRef","title"]);return l.a.createElement("svg",Ie({width:96,height:96,viewBox:"0 0 96 96",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,Ne,Te,Be)},Re=l.a.forwardRef((function(e,t){return l.a.createElement(We,Ie({svgRef:t},e))}));a.p;function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ue(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ze=l.a.createElement("g",{clipPath:"url(#clip0_859_3936)"},l.a.createElement("path",{d:"M0 24.6154C0 11.0207 11.0207 0 24.6154 0H71.3846C84.9793 0 96 11.0207 96 24.6154V71.3846C96 84.9793 84.9793 96 71.3846 96H24.6154C11.0207 96 0 84.9793 0 71.3846V24.6154Z",fill:"#4E5051"}),l.a.createElement("path",{d:"M28.3181 68.045L26.2154 71.1991L29.9735 71.6954C32.6907 72.0543 37.0877 72.075 41.7379 71.0403C46.3888 70.0054 51.4965 67.8676 55.3771 63.7366C60.5026 58.2804 62.0551 52.8666 60.7191 47.6924C60.2733 45.966 60.5575 44.5507 61.3039 43.7662L122.862 -20.9368C123.412 -21.5146 124.023 -22.3537 124.337 -23.3354C124.662 -24.3505 124.758 -25.9407 123.499 -27.2004C122.239 -28.4601 120.649 -28.3636 119.634 -28.0388C118.652 -27.7247 117.813 -27.1137 117.235 -26.564L53.3187 34.243C52.3591 35.1558 50.4825 35.3173 47.9766 34.6943C43.753 33.6441 39.2764 34.9713 36.054 37.5731C32.8031 40.1977 30.5646 44.3474 31.2873 49.1174C31.9764 53.6651 32.207 56.8582 31.8061 59.6644C31.4153 62.4 30.3994 64.923 28.3181 68.045Z",fill:"white",stroke:"white",strokeWidth:4.72217})),Ve=l.a.createElement("defs",null,l.a.createElement("clipPath",{id:"clip0_859_3936"},l.a.createElement("path",{d:"M0 24.6154C0 11.0207 11.0207 0 24.6154 0H71.3846C84.9793 0 96 11.0207 96 24.6154V71.3846C96 84.9793 84.9793 96 71.3846 96H24.6154C11.0207 96 0 84.9793 0 71.3846V24.6154Z",fill:"white"}))),He=function(e){var t=e.svgRef,a=e.title,n=Ue(e,["svgRef","title"]);return l.a.createElement("svg",Ge({width:96,height:96,viewBox:"0 0 96 96",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,ze,Ve)},Ke=l.a.forwardRef((function(e,t){return l.a.createElement(He,Ge({svgRef:t},e))}));a.p;function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ye(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Xe=l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48 96C74.5097 96 96 74.5097 96 48C96 21.4903 74.5097 0 48 0C21.4903 0 0 21.4903 0 48C0 74.5097 21.4903 96 48 96ZM47.662 60.169C54.5694 60.169 60.169 54.5694 60.169 47.662C60.169 40.7545 54.5694 35.1549 47.662 35.1549C40.7545 35.1549 35.1549 40.7545 35.1549 47.662C35.1549 54.5694 40.7545 60.169 47.662 60.169Z",fill:"#FF66AC"}),Je=l.a.createElement("rect",{x:18.9297,y:18.7441,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-6.94641 18.9297 18.7441)",fill:"#BEDBFB"}),Qe=l.a.createElement("rect",{x:83.8311,y:49.8428,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-6.94641 83.8311 49.8428)",fill:"#BEDBFB"}),qe=l.a.createElement("rect",{x:41.4331,y:78.4224,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(57.5878 41.4331 78.4224)",fill:"#BEDBFB"}),$e=l.a.createElement("rect",{x:33.3269,y:62.873,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(22.9881 33.3269 62.873)",fill:"#FFFEFF"}),et=l.a.createElement("rect",{x:29.564,y:41.9155,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(62.1939 29.564 41.9155)",fill:"#FFFEFF"}),tt=l.a.createElement("rect",{x:71.4856,y:43.2856,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(23.3091 71.4856 43.2856)",fill:"#FFFEFF"}),at=l.a.createElement("rect",{x:48.676,y:10.3862,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-34.0862 48.676 10.3862)",fill:"#FFFEFF"}),nt=l.a.createElement("rect",{x:36.8477,y:20.8916,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-94.8165 36.8477 20.8916)",fill:"#FDDD64"}),rt=l.a.createElement("rect",{x:15.5493,y:33.4668,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-14.5043 15.5493 33.4668)",fill:"#FDDD64"}),ot=l.a.createElement("rect",{x:14.8733,y:68.1821,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-77.2958 14.8733 68.1821)",fill:"#FDDD64"}),st=l.a.createElement("rect",{x:66.9297,y:68.2461,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-55.544 66.9297 68.2461)",fill:"#FDDD64"}),ct=l.a.createElement("rect",{x:71.6018,y:33.5327,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-98.7318 71.6018 33.5327)",fill:"#FDDD64"}),it=l.a.createElement("rect",{x:64.0173,y:21.5381,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-106.38 64.0173 21.5381)",fill:"#FD0C7D"}),lt=l.a.createElement("rect",{x:10.2402,y:59.1685,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-149.075 10.2402 59.1685)",fill:"#FD0C7D"}),ut=l.a.createElement("rect",{x:56.2144,y:71.3013,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(132.748 56.2144 71.3013)",fill:"#FD0C7D"}),pt=l.a.createElement("rect",{x:63.7732,y:82.1592,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-152.683 63.7732 82.1592)",fill:"#928BFB"}),dt=l.a.createElement("rect",{x:29.0703,y:31.5825,width:4.05634,height:7.43662,rx:2.02817,transform:"rotate(-72.2881 29.0703 31.5825)",fill:"#928BFB"}),mt=function(e){var t=e.svgRef,a=e.title,n=Ye(e,["svgRef","title"]);return l.a.createElement("svg",Ze({width:96,height:96,viewBox:"0 0 96 96",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,Xe,Je,Qe,qe,$e,et,tt,at,nt,rt,ot,st,ct,it,lt,ut,pt,dt)},ft=l.a.forwardRef((function(e,t){return l.a.createElement(mt,Ze({svgRef:t},e))}));a.p;function ht(){return(ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function vt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var bt=l.a.createElement("rect",{width:96,height:96,rx:24.6153846,fill:"#FF5277"}),gt=l.a.createElement("path",{d:"M69.4961 32.3131C67.7658 30.5828 64.9603 30.5828 63.23 32.3131L41.5507 53.9924L33.1638 45.6054C31.4335 43.8751 28.628 43.8751 26.8977 45.6054C25.1674 47.3358 25.1674 50.1412 26.8977 51.8715L38.4177 63.3915C40.148 65.1218 42.9534 65.1218 44.6838 63.3915L69.4961 38.5792C71.2264 36.8489 71.2264 34.0434 69.4961 32.3131Z",fill:"white"}),kt=function(e){var t=e.svgRef,a=e.title,n=vt(e,["svgRef","title"]);return l.a.createElement("svg",ht({width:96,height:96,viewBox:"0 0 96 96",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,bt,gt)},yt=l.a.forwardRef((function(e,t){return l.a.createElement(kt,ht({svgRef:t},e))}));a.p;function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Et(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ct=l.a.createElement("rect",{width:96,height:96,rx:24.6154,fill:"#4E5051"}),xt=l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48.6248 27.1505C48.0348 27.0664 47.473 27.0664 46.8829 27.1505C46.3584 27.2254 45.9121 27.3391 45.0122 27.633L33.1831 31.5751C31.8046 32.0346 30.8748 33.3247 30.8748 34.7777V50.4403C30.8748 58.7152 35.9509 65.0047 45.773 69.1798C47.0388 69.7179 48.469 69.7179 49.7348 69.1798L50.3564 68.9099C59.7745 64.7324 64.633 58.5328 64.633 50.4403V34.7777C64.633 33.3247 63.7032 32.0346 62.3247 31.5751L50.813 27.7379C49.6938 27.3648 49.2076 27.2337 48.6248 27.1505ZM47.3598 30.4925C47.6335 30.4535 47.8742 30.4535 48.148 30.4925L48.3532 30.5274C48.6019 30.577 48.9041 30.6636 49.4809 30.8529L61.2572 34.7777V50.4403C61.2572 57.0667 57.275 62.1481 48.9997 65.8188L48.4022 66.0782C47.9923 66.2524 47.5155 66.2524 47.0936 66.073C38.4215 62.3868 34.2506 57.2188 34.2506 50.4403V34.7777L45.7622 30.9405C46.7047 30.6263 47.0224 30.5407 47.3598 30.4925ZM43.0397 41.1447C42.3805 40.4856 41.3118 40.4856 40.6527 41.1447C39.9935 41.8039 39.9935 42.8726 40.6527 43.5318L45.3668 48.246L40.6527 52.9601C39.9935 53.6193 39.9935 54.688 40.6527 55.3472C41.3118 56.0064 42.3805 56.0064 43.0397 55.3472L47.7539 50.633L52.468 55.3472C53.1272 56.0064 54.1959 56.0064 54.8551 55.3472C55.5143 54.688 55.5143 53.6193 54.8551 52.9601L50.1409 48.246L54.8551 43.5318C55.5143 42.8726 55.5143 41.8039 54.8551 41.1447C54.1959 40.4856 53.1272 40.4856 52.468 41.1447L47.7539 45.8589L43.0397 41.1447Z",fill:"white"}),_t=function(e){var t=e.svgRef,a=e.title,n=Et(e,["svgRef","title"]);return l.a.createElement("svg",wt({width:96,height:96,viewBox:"0 0 96 96",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,Ct,xt)},Ot=l.a.forwardRef((function(e,t){return l.a.createElement(_t,wt({svgRef:t},e))}));a.p;function Lt(){return(Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function St(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Pt=l.a.createElement("rect",{y:.5,width:20,height:20,rx:10,fill:"#474747"}),jt=l.a.createElement("path",{d:"M6.14298 12.5226C4.74046 12.3375 4.91785 13.193 5.18186 13.6439C5.21637 13.7062 5.37764 13.9198 5.55563 14.0977C5.73361 14.2757 6.14298 14.5249 7.26428 14.9966C8.38558 15.4682 9.88066 15.2813 10.0764 15.2368C10.2722 15.1923 12.9509 14.6495 14.2858 12.2823C15.3537 10.3885 14.9918 8.09965 14.6773 7.19193C14.2235 5.97273 13.1378 6.69357 13.1556 6.89826C13.1734 7.10294 12.9865 7.85937 12.8352 8.31323C12.6839 8.76709 12.7462 8.91838 11.5804 10.369C10.4146 11.8195 7.89613 12.7539 6.14298 12.5226Z",fill:"url(#paint0_linear_1078_7766)"}),At=l.a.createElement("defs",null,l.a.createElement("linearGradient",{id:"paint0_linear_1078_7766",x1:0,y1:10.9054,x2:8.74064,y2:20.8258,gradientUnits:"userSpaceOnUse"},l.a.createElement("stop",{stopColor:"#FFB73D"}),l.a.createElement("stop",{offset:1,stopColor:"#FFA000"}))),Dt=function(e){var t=e.svgRef,a=e.title,n=St(e,["svgRef","title"]);return l.a.createElement("svg",Lt({width:20,height:21,viewBox:"0 0 20 21",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,Pt,jt,At)},Ft=l.a.forwardRef((function(e,t){return l.a.createElement(Dt,Lt({svgRef:t},e))}));a.p;function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Mt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Nt=l.a.createElement("rect",{width:20,height:20,rx:10,fill:"url(#paint0_linear_2357_5078)"}),Tt=l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.32353 8.97084C6.32353 7.26533 7.70622 5.88281 9.41177 5.88281C10.7674 5.88281 11.9183 6.7559 12.3341 7.97013C13.84 8.17612 15 9.46725 15 11.0295C15 12.735 13.6173 14.1175 11.9118 14.1175H7.64706C6.18517 14.1175 5 12.9325 5 11.4706C5 10.4876 5.53583 9.63056 6.33013 9.17417C6.32575 9.10691 6.32353 9.03911 6.32353 8.97084Z",fill:"white"}),Bt=l.a.createElement("defs",null,l.a.createElement("linearGradient",{id:"paint0_linear_2357_5078",x1:-10,y1:10,x2:10,y2:30,gradientUnits:"userSpaceOnUse"},l.a.createElement("stop",{stopColor:"#50C750"}),l.a.createElement("stop",{offset:1,stopColor:"#32B332"}))),Wt=function(e){var t=e.svgRef,a=e.title,n=Mt(e,["svgRef","title"]);return l.a.createElement("svg",It({width:20,height:20,viewBox:"0 0 20 20",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,Nt,Tt,Bt)},Rt=l.a.forwardRef((function(e,t){return l.a.createElement(Wt,It({svgRef:t},e))}));a.p;function Gt(){return(Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ut(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var zt=l.a.createElement("rect",{width:20,height:20,rx:10,fill:"url(#paint0_linear_2357_5076)"}),Vt=l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5724 5.72788L13.9017 4.47464C13.908 4.46878 13.9122 4.46649 13.9136 4.4658C13.9152 4.46504 13.9165 4.46463 13.9182 4.46438C13.9222 4.46379 13.9309 4.4639 13.942 4.4687C13.9531 4.47349 13.9593 4.47991 13.9618 4.48351C13.9629 4.48505 13.9636 4.48648 13.9642 4.48827C13.9647 4.4899 13.9659 4.4944 13.9659 4.5031V5.44626C13.9659 5.75825 14.2188 6.01117 14.5308 6.01117H15.4608C15.47 6.01117 15.4747 6.01246 15.4764 6.013C15.4783 6.01358 15.4796 6.01426 15.4809 6.01519C15.4841 6.0174 15.49 6.0231 15.4943 6.0333C15.4987 6.04349 15.4986 6.05128 15.4981 6.05441C15.4981 6.05441 15.4979 6.05534 15.4975 6.05637C15.4974 6.05699 15.4971 6.05764 15.4969 6.05817C15.4969 6.05817 15.4941 6.06349 15.4879 6.06992L15.4863 6.07149L14.2122 7.40183L14.2095 7.40466C14.2095 7.40466 14.206 7.40794 14.2013 7.40994C14.1964 7.412 14.1912 7.413 14.1867 7.413H12.9821C12.825 7.413 12.675 7.4784 12.5681 7.59351L11.3205 8.93712C11.17 9.09912 11.1279 9.33398 11.2127 9.53814C11.2759 9.69042 11.3118 9.8553 11.3118 10.0231C11.3118 10.7072 10.7572 11.2618 10.0731 11.2618C9.38895 11.2618 8.83438 10.7072 8.83438 10.0231C8.83438 9.33893 9.38894 8.78438 10.0731 8.78438C10.1905 8.78438 10.3053 8.80055 10.4123 8.83012C10.6155 8.88634 10.8331 8.82467 10.9767 8.67019L12.4097 7.12805C12.5068 7.02355 12.5608 6.88617 12.5608 6.74352V5.75403C12.5608 5.75037 12.5616 5.7456 12.5638 5.74034C12.5661 5.73503 12.5693 5.73077 12.5724 5.72788ZM15.0957 4.5031C15.0957 3.48398 13.8739 2.95041 13.128 3.65128L12.6383 4.11301C11.8421 3.75777 10.9601 3.56028 10.032 3.56028C6.49607 3.56028 3.62964 6.42666 3.62964 9.96251C3.62964 13.4984 6.49607 16.3647 10.032 16.3647C13.5679 16.3647 16.4344 13.4984 16.4344 9.96251C16.4344 9.01744 16.2296 8.12019 15.862 7.31272L16.3008 6.85453L16.3017 6.85359C17.0163 6.11167 16.4847 4.88136 15.4608 4.88136H15.0957V4.5031ZM15.0051 8.20685C14.7851 8.42526 14.4879 8.5428 14.1867 8.5428H13.2284L12.3737 9.46326C12.4173 9.64168 12.4416 9.82943 12.4416 10.0231C12.4416 11.3312 11.3812 12.3916 10.0731 12.3916C8.76494 12.3916 7.70455 11.3311 7.70455 10.0231C7.70455 8.71496 8.76495 7.65457 10.0731 7.65457C10.1704 7.65457 10.2669 7.66047 10.362 7.67193L11.4309 6.52158V5.75403C11.4309 5.46209 11.5413 5.18286 11.7337 4.97072C11.1998 4.78879 10.6274 4.69009 10.032 4.69009C7.12006 4.69009 4.75947 7.05063 4.75947 9.96251C4.75947 12.8744 7.12006 15.2349 10.032 15.2349C12.9439 15.2349 15.3045 12.8744 15.3045 9.96251C15.3045 9.34696 15.199 8.75604 15.0051 8.20685Z",fill:"white"}),Ht=l.a.createElement("defs",null,l.a.createElement("linearGradient",{id:"paint0_linear_2357_5076",x1:-10,y1:10,x2:10,y2:30,gradientUnits:"userSpaceOnUse"},l.a.createElement("stop",{stopColor:"#FFB73D"}),l.a.createElement("stop",{offset:1,stopColor:"#FFA000"}))),Kt=function(e){var t=e.svgRef,a=e.title,n=Ut(e,["svgRef","title"]);return l.a.createElement("svg",Gt({width:20,height:20,viewBox:"0 0 20 20",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,zt,Vt,Ht)},Zt=l.a.forwardRef((function(e,t){return l.a.createElement(Kt,Gt({svgRef:t},e))}));a.p;function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Xt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Jt=l.a.createElement("rect",{width:20,height:20,rx:10,fill:"url(#paint0_linear_2357_5074)"}),Qt=l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.0625 10.7917V9.96875C14.0625 9.22955 14.0621 8.71782 14.0372 8.31718C14.0128 7.92395 13.9674 7.70025 13.9049 7.53259C13.6515 6.85319 13.1156 6.31728 12.4362 6.06388C12.2685 6.00134 12.0448 5.95595 11.6516 5.93154C11.2509 5.90667 10.7392 5.90625 10 5.90625C9.2608 5.90625 8.74907 5.90667 8.34843 5.93154C7.9552 5.95595 7.7315 6.00134 7.56384 6.06388C6.88444 6.31728 6.34853 6.85319 6.09513 7.53259C6.03259 7.70025 5.9872 7.92395 5.96279 8.31718C5.93792 8.71782 5.9375 9.22955 5.9375 9.96875V10.7917C5.9375 10.9285 5.93775 10.9659 5.93925 10.9975C5.96472 11.5359 6.26583 12.0231 6.73596 12.2866C6.76357 12.3021 6.79692 12.3191 6.91926 12.3802L6.92533 12.3833C6.9464 12.3938 6.98064 12.4108 7.01404 12.4296C7.29127 12.585 7.50973 12.8182 7.64755 13.0938H12.3525C12.4903 12.8182 12.7087 12.585 12.986 12.4296C13.0194 12.4108 13.0536 12.3938 13.0746 12.3833L13.0747 12.3833L13.0807 12.3802C13.2031 12.3191 13.2364 12.3021 13.264 12.2866C13.7342 12.0231 14.0353 11.5359 14.0608 10.9975C14.0623 10.9659 14.0625 10.9285 14.0625 10.7917ZM13.125 13.8255C13.125 13.7937 13.125 13.7777 13.1257 13.763C13.1359 13.5476 13.2563 13.3528 13.4444 13.2473C13.4573 13.2401 13.4715 13.233 13.5 13.2188L13.5 13.2187C13.6139 13.1618 13.6709 13.1333 13.7225 13.1044C14.4747 12.6827 14.9564 11.9032 14.9972 11.0418C15 10.9828 15 10.9191 15 10.7917V9.96875C15 8.51362 15 7.78606 14.7833 7.20497C14.4348 6.27079 13.698 5.53392 12.7638 5.18549C12.1827 4.96875 11.4551 4.96875 10 4.96875C8.54487 4.96875 7.81731 4.96875 7.23622 5.18549C6.30204 5.53392 5.56517 6.27079 5.21674 7.20497C5 7.78606 5 8.51362 5 9.96875V10.7917C5 10.9191 5 10.9828 5.00279 11.0418C5.04355 11.9032 5.52534 12.6827 6.27753 13.1044C6.32909 13.1333 6.38606 13.1618 6.5 13.2188C6.52848 13.233 6.54273 13.2401 6.55562 13.2473C6.74367 13.3528 6.86411 13.5476 6.8743 13.763C6.875 13.7777 6.875 13.7937 6.875 13.8255V14.0313V14.8125C6.875 15.0714 7.08487 15.2812 7.34375 15.2812C7.60263 15.2812 7.8125 15.0714 7.8125 14.8125V14.0313H9.53125V14.8125C9.53125 15.0714 9.74112 15.2812 10 15.2812C10.2589 15.2812 10.4688 15.0714 10.4688 14.8125V14.0313H12.1875V14.8125C12.1875 15.0714 12.3974 15.2812 12.6562 15.2812C12.9151 15.2812 13.125 15.0714 13.125 14.8125V14.0313V13.8255ZM10 10.9062C9.74112 10.9062 9.53125 11.1161 9.53125 11.375V11.6875C9.53125 11.9464 9.74112 12.1562 10 12.1562C10.2589 12.1562 10.4688 11.9464 10.4688 11.6875V11.375C10.4688 11.1161 10.2589 10.9062 10 10.9062ZM11.4062 9.1875C11.4062 9.44638 11.6161 9.65625 11.875 9.65625C12.1339 9.65625 12.3438 9.44638 12.3438 9.1875C12.3438 8.92862 12.1339 8.71875 11.875 8.71875C11.6161 8.71875 11.4062 8.92862 11.4062 9.1875ZM11.875 7.78125C11.0983 7.78125 10.4688 8.41085 10.4688 9.1875C10.4688 9.96415 11.0983 10.5938 11.875 10.5938C12.6517 10.5938 13.2812 9.96415 13.2812 9.1875C13.2812 8.41085 12.6517 7.78125 11.875 7.78125ZM8.125 9.65625C7.86612 9.65625 7.65625 9.44638 7.65625 9.1875C7.65625 8.92862 7.86612 8.71875 8.125 8.71875C8.38388 8.71875 8.59375 8.92862 8.59375 9.1875C8.59375 9.44638 8.38388 9.65625 8.125 9.65625ZM6.71875 9.1875C6.71875 8.41085 7.34835 7.78125 8.125 7.78125C8.90165 7.78125 9.53125 8.41085 9.53125 9.1875C9.53125 9.96415 8.90165 10.5938 8.125 10.5938C7.34835 10.5938 6.71875 9.96415 6.71875 9.1875Z",fill:"white"}),qt=l.a.createElement("defs",null,l.a.createElement("linearGradient",{id:"paint0_linear_2357_5074",x1:-10,y1:10,x2:10,y2:30,gradientUnits:"userSpaceOnUse"},l.a.createElement("stop",{stopColor:"#B1B6BD"}),l.a.createElement("stop",{offset:1,stopColor:"#99A2AD"}))),$t=function(e){var t=e.svgRef,a=e.title,n=Xt(e,["svgRef","title"]);return l.a.createElement("svg",Yt({width:20,height:20,viewBox:"0 0 20 20",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,Jt,Qt,qt)},ea=l.a.forwardRef((function(e,t){return l.a.createElement($t,Yt({svgRef:t},e))}));a.p;function ta(){return(ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function aa(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var na=l.a.createElement("rect",{width:20,height:20,rx:10,fill:"url(#paint0_linear_2357_5072)"}),ra=l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.72967 8.07302C6.60444 8.1981 6.42685 8.3091 6.26127 8.34418C6.12562 8.37292 5.99608 8.35628 5.85381 8.21419C5.74807 8.10857 5.69364 7.95647 5.75043 7.69862C5.81056 7.42564 5.99142 7.08356 6.29697 6.72685C6.90946 6.0118 7.89694 5.38309 8.88241 5.2293C9.17163 5.18416 9.36946 4.91339 9.32427 4.62451C9.27907 4.33563 9.00798 4.13804 8.71876 4.18318C7.44274 4.38232 6.2394 5.16536 5.49147 6.03852C5.11681 6.47592 4.82505 6.97206 4.71512 7.47112C4.64594 7.78522 4.64815 8.11409 4.75706 8.41907C4.61717 8.44206 4.48681 8.5207 4.40197 8.64782C3.6712 9.74267 4.10266 10.9043 4.40197 11.3528C4.47472 11.4618 4.58094 11.5351 4.69793 11.5683C4.59257 11.9138 4.60199 12.2711 4.69139 12.6114C4.82549 13.1218 5.13726 13.5973 5.5031 13.9968C5.8727 14.4004 6.32399 14.7556 6.78176 15.0214C7.23322 15.2836 7.72703 15.4796 8.18246 15.5251C9.03286 15.61 9.63607 15.3536 10.0322 14.9579C10.4068 14.5838 10.5455 14.1365 10.5924 13.9021C10.7138 13.296 10.714 12.7533 10.6736 12.3374C10.6347 11.9374 10.5543 11.6181 10.4862 11.4653C10.473 11.4357 10.4593 11.4023 10.4442 11.3656C10.3362 11.1022 10.16 10.6725 9.60335 10.2754C9.50655 10.2063 9.39443 10.1744 9.28401 10.1768C9.29142 10.1308 9.29527 10.0837 9.29527 10.0356C9.29527 9.54827 8.89976 9.15323 8.41188 9.15323C7.924 9.15323 7.52849 9.54827 7.52849 10.0356C7.52849 10.5229 7.924 10.9179 8.41188 10.9179C8.54392 10.9179 8.6692 10.889 8.78169 10.8371C8.8115 10.954 8.88124 11.0614 8.98719 11.137C9.17535 11.2712 9.27157 11.3918 9.33378 11.495C9.38512 11.5802 9.41204 11.6453 9.44928 11.7353C9.46802 11.7807 9.48938 11.8323 9.51778 11.896C9.51703 11.8944 9.51727 11.8951 9.51835 11.8983C9.52229 11.9101 9.53741 11.9555 9.55648 12.0404C9.57873 12.1395 9.60244 12.275 9.61844 12.4397C9.65048 12.7694 9.65069 13.2062 9.55291 13.6945C9.52915 13.8131 9.45579 14.0363 9.28266 14.2092C9.13113 14.3606 8.85095 14.5277 8.28793 14.4715C8.03664 14.4464 7.69124 14.3248 7.31452 14.1061C6.94411 13.891 6.57826 13.6021 6.28533 13.2822C5.98862 12.9582 5.79244 12.6307 5.71674 12.3426C5.64583 12.0727 5.68 11.8483 5.83238 11.6454C5.83428 11.6433 5.84573 11.6305 5.87079 11.6109C5.89841 11.5894 5.93328 11.5669 5.97128 11.5474C6.00963 11.5276 6.04377 11.5147 6.06902 11.5078C6.07714 11.5055 6.08294 11.5043 6.08654 11.5037C6.20175 11.5142 6.26148 11.5446 6.31068 11.5793C6.36904 11.6205 6.4121 11.6644 6.4903 11.7441C6.51787 11.7722 6.54981 11.8048 6.58832 11.8433C6.68543 11.9403 6.81085 11.9918 6.93802 11.9977C6.86405 12.1268 6.82177 12.2762 6.82177 12.4356C6.82177 12.9229 7.21728 13.3179 7.70517 13.3179C8.19305 13.3179 8.58856 12.9229 8.58856 12.4356C8.58856 11.9483 8.19305 11.5532 7.70517 11.5532C7.62771 11.5532 7.55259 11.5632 7.48101 11.5819C7.51804 11.4117 7.47034 11.2269 7.3379 11.0946C7.31766 11.0744 7.29632 11.0522 7.27362 11.0286C7.0702 10.8174 6.75794 10.493 6.15553 10.447C5.90159 10.4275 5.6551 10.519 5.48577 10.6061C5.41424 10.643 5.33965 10.6877 5.26747 10.7396C5.09829 10.4652 4.89674 9.81533 5.284 9.23514C5.30184 9.20841 5.31693 9.18064 5.32933 9.15218C5.6999 9.41075 6.11082 9.45842 6.48123 9.37995C6.89869 9.2915 7.25113 9.04957 7.47925 8.82171C7.58346 8.71763 7.63521 8.58099 7.63449 8.44457C7.65781 8.44642 7.68138 8.44736 7.70517 8.44736C8.19305 8.44736 8.58856 8.05232 8.58856 7.56502C8.58856 7.07771 8.19305 6.68267 7.70517 6.68267C7.21728 6.68267 6.82177 7.07771 6.82177 7.56502C6.82177 7.7046 6.85423 7.83662 6.91201 7.95395C6.84558 7.97976 6.78331 8.01945 6.72967 8.07302ZM10.4471 6.30609C10.4708 6.18746 10.5442 5.96425 10.7173 5.79133C10.8689 5.63998 11.149 5.47283 11.7121 5.52906C11.9634 5.55416 12.3088 5.67578 12.6855 5.89451C13.0559 6.10959 13.4217 6.39848 13.7147 6.71838C14.0114 7.04239 14.2076 7.36983 14.2833 7.65795C14.3542 7.92784 14.32 8.15225 14.1676 8.35518C14.1657 8.35731 14.1543 8.3701 14.1292 8.38964C14.1016 8.41117 14.0667 8.43364 14.0287 8.4532C13.9904 8.47293 13.9562 8.48589 13.931 8.4928C13.9229 8.49502 13.9171 8.49624 13.9135 8.4969C13.7982 8.48641 13.7385 8.45596 13.6893 8.42126C13.631 8.38008 13.5879 8.33618 13.5097 8.25644C13.4821 8.22833 13.4502 8.19576 13.4117 8.1573C13.3146 8.0603 13.1891 8.00881 13.062 8.00283C13.1359 7.87381 13.1782 7.72434 13.1782 7.56502C13.1782 7.07771 12.7827 6.68267 12.2948 6.68267C11.807 6.68267 11.4114 7.07771 11.4114 7.56502C11.4114 8.05232 11.807 8.44736 12.2948 8.44736C12.3723 8.44736 12.4474 8.4374 12.519 8.4187C12.482 8.58885 12.5297 8.77371 12.6621 8.90599C12.6823 8.9262 12.7037 8.94835 12.7263 8.97192C12.9298 9.18319 13.2421 9.50754 13.8445 9.55361C14.0984 9.57304 14.3449 9.48157 14.5142 9.39443C14.5858 9.35762 14.6603 9.31288 14.7325 9.26094C14.9017 9.53534 15.1033 10.1852 14.716 10.7654C14.6982 10.7922 14.6831 10.8199 14.6707 10.8484C14.3001 10.5898 13.8892 10.5422 13.5188 10.6206C13.1013 10.7091 12.7489 10.951 12.5208 11.1789C12.4166 11.2829 12.3648 11.4196 12.3655 11.556C12.3422 11.5542 12.3186 11.5532 12.2948 11.5532C11.807 11.5532 11.4114 11.9483 11.4114 12.4356C11.4114 12.9229 11.807 13.3179 12.2948 13.3179C12.7827 13.3179 13.1782 12.9229 13.1782 12.4356C13.1782 12.296 13.1458 12.164 13.088 12.0466C13.1544 12.0208 13.2167 11.9811 13.2703 11.9276C13.3956 11.8025 13.5732 11.6915 13.7388 11.6564C13.8744 11.6277 14.0039 11.6443 14.1462 11.7864C14.2519 11.892 14.3064 12.0441 14.2496 12.302C14.1895 12.5749 14.0086 12.917 13.7031 13.2737C13.0906 13.9888 12.1031 14.6175 11.1176 14.7713C10.8284 14.8164 10.6306 15.0872 10.6758 15.3761C10.7209 15.6649 10.992 15.8625 11.2813 15.8174C12.5573 15.6183 13.7606 14.8352 14.5086 13.9621C14.8832 13.5247 15.175 13.0285 15.2849 12.5294C15.3541 12.2153 15.3519 11.8865 15.243 11.5815C15.3828 11.5585 15.5132 11.4799 15.598 11.3528C16.3288 10.2579 15.8973 9.09624 15.598 8.64782C15.5253 8.53882 15.4191 8.46546 15.3021 8.43227C15.4074 8.08673 15.398 7.72945 15.3086 7.38918C15.1745 6.87878 14.8627 6.40329 14.4969 6.00378C14.1273 5.60016 13.676 5.24494 13.2182 4.97914C12.7668 4.717 12.273 4.52099 11.8175 4.4755C10.9671 4.39057 10.3639 4.64694 9.96776 5.04263C9.59318 5.41676 9.45453 5.86412 9.40761 6.09843C9.28624 6.70454 9.28603 7.24731 9.32644 7.66317C9.36532 8.06322 9.4457 8.38243 9.51381 8.53523C9.52703 8.56488 9.54073 8.59828 9.55574 8.63489C9.66377 8.89834 9.83999 9.32807 10.3967 9.72521C10.4934 9.79426 10.6056 9.82616 10.716 9.82373C10.7086 9.86973 10.7047 9.91692 10.7047 9.965C10.7047 10.4523 11.1002 10.8473 11.5881 10.8473C12.076 10.8473 12.4715 10.4523 12.4715 9.965C12.4715 9.4777 12.076 9.08266 11.5881 9.08266C11.4561 9.08266 11.3308 9.1116 11.2183 9.16347C11.1885 9.04659 11.1188 8.93921 11.0128 8.86362C10.8246 8.72938 10.7284 8.60873 10.6662 8.50554C10.6149 8.42037 10.588 8.35527 10.5507 8.26523C10.532 8.21999 10.5105 8.16808 10.4822 8.10454C10.483 8.10622 10.4827 8.1055 10.4816 8.10226C10.4777 8.09042 10.4626 8.04502 10.4435 7.96013C10.4213 7.86106 10.3976 7.72554 10.3816 7.56088C10.3495 7.23116 10.3493 6.79439 10.4471 6.30609Z",fill:"white"}),oa=l.a.createElement("defs",null,l.a.createElement("linearGradient",{id:"paint0_linear_2357_5072",x1:-10,y1:10,x2:10,y2:30,gradientUnits:"userSpaceOnUse"},l.a.createElement("stop",{stopColor:"#70B2FF"}),l.a.createElement("stop",{offset:1,stopColor:"#5C9CE6"}))),sa=function(e){var t=e.svgRef,a=e.title,n=aa(e,["svgRef","title"]);return l.a.createElement("svg",ta({width:20,height:20,viewBox:"0 0 20 20",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,na,ra,oa)},ca=l.a.forwardRef((function(e,t){return l.a.createElement(sa,ta({svgRef:t},e))})),ia=(a.p,a(772)),la=a(773),ua=a(774),pa=a(775),da=a(776),ma=a(777),fa=a(778),ha=a(779),va=a(780),ba=a(781),ga=a(765),ka=a(769),ya=a(770),wa=a(771);function Ea(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ca(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ea(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ea(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var xa={1:l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("defs",null,l.a.createElement("clipPath",{id:"clipAvatar1",clipPathUnits:"objectBoundingBox"},l.a.createElement("circle",{cx:"0.497087",cy:"0.502947",r:"0.497087",fill:"black"})))),2:l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("defs",null,l.a.createElement("clipPath",{id:"clipAvatar2",clipPathUnits:"objectBoundingBox"},l.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.994175 0.497087L0.994162 0.546795L0.994125 0.567384L0.994063 0.583179L0.993976 0.596491L0.993864 0.608216L0.993727 0.618812L0.993566 0.62855L0.993379 0.63761L0.993168 0.646113L0.992932 0.654149L0.99267 0.661786L0.992384 0.669077L0.992073 0.676062L0.991737 0.682777L0.991376 0.689247L0.99099 0.695498L0.990579 0.701548L0.990143 0.707414L0.989682 0.713111L0.989196 0.718651L0.988684 0.724045L0.988148 0.729302L0.987586 0.734432L0.986999 0.739441L0.986387 0.744337L0.98575 0.749126L0.985087 0.753813L0.984399 0.758404L0.983686 0.762902L0.982947 0.767313L0.982183 0.771639L0.981393 0.775885L0.980578 0.780053L0.979737 0.784147L0.978871 0.788169L0.977979 0.792122L0.977061 0.796008L0.976117 0.79983L0.975147 0.803588L0.974152 0.807287L0.97313 0.810926L0.972083 0.814508L0.971009 0.818034L0.969909 0.821507L0.968783 0.824926L0.967631 0.828294L0.966452 0.831611L0.965246 0.83488L0.964014 0.8381L0.962756 0.841273L0.96147 0.844401L0.960158 0.847483L0.958819 0.850521L0.957453 0.853515L0.956059 0.856467L0.954639 0.859377L0.953191 0.862246L0.951715 0.865074L0.950212 0.867863L0.948681 0.870612L0.947123 0.873323L0.945536 0.875996L0.943921 0.878631L0.942278 0.881229L0.940606 0.88379L0.938906 0.886316L0.937177 0.888805L0.935419 0.89126L0.933633 0.89368L0.931816 0.896066L0.929971 0.898417L0.928096 0.900735L0.926191 0.903019L0.924255 0.905271L0.92229 0.90749L0.920294 0.909676L0.918268 0.911831L0.91621 0.913954L0.914121 0.916045L0.912001 0.918105L0.909849 0.920134L0.907665 0.922132L0.905449 0.9241L0.9032 0.926038L0.900918 0.927945L0.898603 0.929823L0.896254 0.931671L0.893871 0.933489L0.891454 0.935278L0.889002 0.937038L0.886515 0.93877L0.883993 0.940472L0.881434 0.942146L0.878839 0.943791L0.876207 0.945408L0.873537 0.946997L0.870829 0.948558L0.868083 0.950091L0.865298 0.951597L0.862473 0.953074L0.859607 0.954525L0.8567 0.955947L0.853752 0.957343L0.850761 0.958711L0.847726 0.960053L0.844648 0.961367L0.841524 0.962654L0.838355 0.963915L0.835138 0.965149L0.831873 0.966357L0.82856 0.967538L0.825196 0.968692L0.821781 0.969821L0.818313 0.970922L0.814791 0.971998L0.811213 0.973048L0.807579 0.974071L0.803885 0.975069L0.800131 0.976041L0.796315 0.976986L0.792434 0.977906L0.788486 0.978801L0.78447 0.979669L0.780382 0.980512L0.77622 0.981329L0.77198 0.982121L0.76766 0.982887L0.763257 0.983628L0.758765 0.984343L0.754182 0.985033L0.749503 0.985698L0.744722 0.986337L0.739835 0.986952L0.734835 0.98754L0.729715 0.988104L0.724468 0.988642L0.719086 0.989156L0.713558 0.989644L0.707874 0.990107L0.702022 0.990545L0.695987 0.990958L0.689753 0.991346L0.683301 0.991709L0.676607 0.992047L0.669644 0.99236L0.662379 0.992649L0.654771 0.992912L0.646769 0.99315L0.638306 0.993363L0.629295 0.993552L0.619616 0.993715L0.609097 0.993854L0.597476 0.993968L0.584314 0.994057L0.568769 0.994121L0.548737 0.99416L0.511115 0.994175L0.449399 0.994164L0.428204 0.994129L0.412146 0.994069L0.398677 0.993984L0.386846 0.993874L0.376172 0.993739L0.366373 0.99358L0.357264 0.993395L0.348721 0.993186L0.34065 0.992951L0.332983 0.992692L0.325667 0.992408L0.318658 0.992099L0.311923 0.991765L0.305434 0.991406L0.299166 0.991022L0.293101 0.990613L0.287221 0.990179L0.281511 0.989719L0.275959 0.989235L0.270554 0.988726L0.265286 0.988191L0.260147 0.987632L0.255128 0.987047L0.250223 0.986437L0.245426 0.985802L0.240731 0.985141L0.236133 0.984455L0.231627 0.983744L0.22721 0.983007L0.222877 0.982245L0.218625 0.981457L0.21445 0.980644L0.210351 0.979805L0.206323 0.978941L0.202365 0.978051L0.198473 0.977135L0.194647 0.976193L0.190883 0.975225L0.18718 0.974232L0.183536 0.973213L0.17995 0.972167L0.176419 0.971096L0.172942 0.969998L0.169519 0.968874L0.166147 0.967723L0.162825 0.966547L0.159553 0.965343L0.156329 0.964114L0.153152 0.962857L0.150021 0.961574L0.146935 0.960264L0.143894 0.958927L0.140896 0.957563L0.137941 0.956171L0.135028 0.954753L0.132155 0.953307L0.129324 0.951834L0.126532 0.950333L0.12378 0.948804L0.121066 0.947248L0.11839 0.945663L0.115752 0.944051L0.113151 0.94241L0.110587 0.940741L0.108059 0.939043L0.105566 0.937316L0.103109 0.935561L0.100686 0.933776L0.0982977 0.931962L0.0959435 0.930119L0.093623 0.928246L0.0913359 0.926343L0.0890817 0.924411L0.0868602 0.922448L0.0846711 0.920454L0.082514 0.91843L0.0803888 0.916375L0.078295 0.914289L0.0762325 0.912171L0.074201 0.910022L0.0722003 0.90784L0.07023 0.905627L0.0682901 0.90338L0.0663803 0.901101L0.0645003 0.898788L0.06265 0.896442L0.0608292 0.894062L0.0590377 0.891648L0.0572752 0.889199L0.0555418 0.886715L0.053837 0.884195L0.0521609 0.881639L0.0505133 0.879047L0.0488939 0.876418L0.0473028 0.873751L0.0457396 0.871047L0.0442043 0.868303L0.0426968 0.865521L0.0412169 0.862699L0.0397645 0.859837L0.0383395 0.856933L0.0369418 0.853988L0.0355713 0.851001L0.0342278 0.84797L0.0329113 0.844895L0.0316216 0.841775L0.0303588 0.838609L0.0291226 0.835396L0.027913 0.832135L0.0267299 0.828826L0.0255732 0.825466L0.0244429 0.822055L0.0233389 0.818591L0.0222611 0.815073L0.0212093 0.8115L0.0201837 0.80787L0.0191841 0.804182L0.0182103 0.800432L0.0172625 0.796621L0.0163405 0.792745L0.0154442 0.788803L0.0145736 0.784792L0.0137287 0.78071L0.0129094 0.776554L0.0121156 0.772321L0.0113473 0.768007L0.0106045 0.763611L0.00988714 0.759126L0.00919514 0.754551L0.00852848 0.749879L0.00788712 0.745107L0.00727103 0.740228L0.00668018 0.735237L0.00611453 0.730127L0.00557405 0.724891L0.00505871 0.719519L0.00456848 0.714003L0.00410335 0.708333L0.00366328 0.702494L0.00324826 0.696475L0.00285825 0.690257L0.00249324 0.683823L0.00215322 0.677149L0.00183815 0.670209L0.00154804 0.662969L0.00128286 0.655391L0.00104259 0.647422L0.000827238 0.638999L0.000636778 0.630035L0.000471204 0.620415L0.000330509 0.609971L0.000214684 0.59845L0.000123725 0.585434L5.76268e-05 0.570129L1.63857e-05 0.550608L0 0.516925L8.46877e-06 0.451509L4.17925e-05 0.429647L9.99728e-05 0.413311L0.000183013 0.399681L0.000290916 0.387741L0.000423688 0.376987L0.000581337 0.367125L0.000763869 0.357967L0.000971293 0.349382L0.00120362 0.341277L0.00146086 0.33358L0.00174304 0.326237L0.00205015 0.319206L0.00238222 0.31245L0.00273927 0.305942L0.00312131 0.299658L0.00352837 0.293577L0.00396046 0.287682L0.0044176 0.28196L0.00489983 0.276396L0.00540717 0.270979L0.00593964 0.265701L0.00649727 0.260551L0.00708009 0.255523L0.00768814 0.250609L0.00832144 0.245804L0.00898004 0.241101L0.00966397 0.236495L0.0103733 0.231982L0.011108 0.227558L0.0118681 0.223219L0.0126537 0.21896L0.0134649 0.21478L0.0143017 0.210674L0.0151641 0.206641L0.0160522 0.202677L0.016966 0.198781L0.0179056 0.194949L0.0188711 0.19118L0.0198625 0.187472L0.0208798 0.183824L0.0219232 0.180233L0.0229927 0.176698L0.0240884 0.173217L0.0252103 0.169789L0.0263586 0.166413L0.0275333 0.163088L0.0287344 0.159812L0.0299621 0.156584L0.0312165 0.153403L0.0324976 0.150268L0.0338055 0.147179L0.0351404 0.144134L0.0365023 0.141133L0.0378914 0.138174L0.0393076 0.135258L0.0407513 0.132382L0.0422224 0.129548L0.0437211 0.126753L0.0452475 0.123997L0.0468018 0.12128L0.0483841 0.118602L0.0499944 0.115961L0.051633 0.113357L0.0533001 0.110789L0.0549956 0.108258L0.0567199 0.105763L0.0584731 0.103303L0.0602554 0.100877L0.0620668 0.0984863L0.0639077 0.0961294L0.0657782 0.0938063L0.0676785 0.0915164L0.0696088 0.0892597L0.0715694 0.0870356L0.0735604 0.0848439L0.0755821 0.0826843L0.0776347 0.0805565L0.0797184 0.0784602L0.0818336 0.0763953L0.0839805 0.0743613L0.0861594 0.0723581L0.0883706 0.0703855L0.0906143 0.0684431L0.0928909 0.0665309L0.0952008 0.0646486L0.0975442 0.0627959L0.0999215 0.0609727L0.102333 0.0591789L0.104779 0.0574142L0.107261 0.0556784L0.109778 0.0539714L0.112331 0.052293L0.11492 0.0506431L0.117546 0.0490215L0.12021 0.0474281L0.122911 0.0458627L0.125651 0.0443252L0.12843 0.0428155L0.131249 0.0413334L0.134108 0.0398788L0.137008 0.0384516L0.13995 0.0370517L0.142934 0.035679L0.145962 0.0343334L0.149033 0.0330148L0.15215 0.031723L0.155312 0.030458L0.158521 0.0292197L0.161778 0.028008L0.165084 0.0268228L0.168439 0.025664L0.171846 0.0245316L0.175306 0.0234255L0.178819 0.0223455L0.182388 0.0212918L0.186013 0.020264L0.189697 0.0192623L0.193441 0.0182865L0.197248 0.0173366L0.201118 0.0164125L0.205055 0.0155142L0.20906 0.0146416L0.213137 0.0137946L0.217287 0.0129733L0.221514 0.0121775L0.225821 0.0114072L0.230211 0.0106624L0.234688 0.00994295L0.239256 0.00924893L0.24392 0.00858025L0.248684 0.00793688L0.253554 0.00731878L0.258535 0.00672592L0.263636 0.00615826L0.268862 0.00561577L0.274222 0.00509843L0.279726 0.00460621L0.285384 0.00413908L0.291209 0.00369702L0.297213 0.00328L0.303414 0.002888L0.309831 0.002521L0.316485 0.00217899L0.323402 0.00186194L0.330617 0.00156983L0.338167 0.00130267L0.346102 0.00106042L0.354487 0.000843081L0.363403 0.000650639L0.372966 0.000483084L0.383337 0.000340407L0.394759 0.000222603L0.407635 0.000129663L0.422711 6.15854e-05L0.441759 1.8365e-05L0.472791 0L0.540454 6.48955e-06L0.563052 3.78339e-05L0.579681 9.40348e-05L0.593479 0.000175095L0.605531 0.000281018L0.616367 0.00041181L0.626291 0.000567477L0.6355 0.000748027L0.644127 0.00095347L0.652268 0.00118381L0.659995 0.00143907L0.667364 0.00171926L0.674419 0.00202439L0.681196 0.00235447L0.687722 0.00270953L0.694024 0.00308958L0.70012 0.00349464L0.706029 0.00392474L0.711765 0.00437989L0.717341 0.00486012L0.722769 0.00536545L0.728058 0.00589592L0.733217 0.00645155L0.738255 0.00703237L0.743177 0.0076384L0.747991 0.0082697L0.752703 0.00892628L0.757316 0.00960819L0.761836 0.0103155L0.766267 0.0110481L0.770613 0.0118063L0.774878 0.0125899L0.779064 0.013399L0.783176 0.0142337L0.787215 0.0150941L0.791184 0.0159801L0.795086 0.0168919L0.798922 0.0178295L0.802696 0.0187929L0.806409 0.0197822L0.810062 0.0207975L0.813657 0.0218388L0.817197 0.0229062L0.820682 0.0239998L0.824114 0.0251197L0.827494 0.0262658L0.830823 0.0274384L0.834103 0.0286374L0.837335 0.029863L0.84052 0.0311152L0.843658 0.0323942L0.846751 0.0337L0.849799 0.0350327L0.852804 0.0363925L0.855766 0.0377794L0.858686 0.0391935L0.861564 0.040635L0.864402 0.0421039L0.8672 0.0436004L0.869959 0.0451246L0.872679 0.0466766L0.87536 0.0482567L0.878004 0.0498648L0.880611 0.0515011L0.883182 0.0531659L0.885716 0.0548592L0.888214 0.0565812L0.890677 0.0583321L0.893105 0.060112L0.895499 0.0619211L0.897858 0.0637597L0.900184 0.0656278L0.902477 0.0675257L0.904736 0.0694537L0.906963 0.0714118L0.909157 0.0734004L0.911319 0.0754196L0.913449 0.0774697L0.915548 0.079551L0.917616 0.0816637L0.919652 0.083808L0.921658 0.0859844L0.923633 0.0881929L0.925577 0.0904341L0.927492 0.0927081L0.929377 0.0950152L0.931232 0.097356L0.933057 0.0997306L0.934853 0.102139L0.93662 0.104583L0.938359 0.107062L0.940068 0.109576L0.941749 0.112126L0.943401 0.114712L0.945025 0.117335L0.94662 0.119996L0.948188 0.122694L0.949728 0.125431L0.951239 0.128207L0.952724 0.131023L0.95418 0.133879L0.95561 0.136776L0.957012 0.139714L0.958387 0.142695L0.959734 0.145719L0.961055 0.148787L0.962349 0.1519L0.963616 0.155058L0.964857 0.158263L0.966071 0.161516L0.967258 0.164818L0.968419 0.16817L0.969553 0.171573L0.970662 0.175028L0.971744 0.178537L0.972799 0.182101L0.973829 0.185722L0.974833 0.189401L0.975811 0.19314L0.976763 0.196942L0.977689 0.200807L0.978589 0.204738L0.979464 0.208738L0.980313 0.212809L0.981136 0.216953L0.981934 0.221174L0.982707 0.225474L0.983453 0.229858L0.984175 0.234328L0.984871 0.238888L0.985542 0.243544L0.986187 0.2483L0.986807 0.253162L0.987402 0.258134L0.987972 0.263225L0.988516 0.268441L0.989035 0.27379L0.98953 0.279282L0.989999 0.284928L0.990443 0.290738L0.990862 0.296728L0.991256 0.302913L0.991625 0.309311L0.991969 0.315945L0.992288 0.322841L0.992582 0.33003L0.992851 0.337552L0.993095 0.345455L0.993315 0.3538L0.993509 0.362671L0.993679 0.372177L0.993823 0.382476L0.993943 0.393803L0.994038 0.406542L0.994108 0.4214L0.994153 0.440009L0.994174 0.469032L0.994175 0.497087Z",fill:"black"})))),3:l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("defs",null,l.a.createElement("clipPath",{id:"clipAvatar3",clipPathUnits:"objectBoundingBox"},l.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.900161 0.225626C0.918544 0.242436 0.931355 0.264328 0.93692 0.288438L0.991067 0.523035C0.996814 0.547934 0.994552 0.573982 0.984595 0.597553L0.895569 0.808316C0.885062 0.833191 0.866553 0.853967 0.842897 0.867442L0.649289 0.977719C0.625633 0.991193 0.598141 0.996618 0.571051 0.993158L0.341525 0.963839C0.315855 0.96056 0.291859 0.949469 0.272875 0.93211L0.0940134 0.768548C0.0756313 0.751739 0.0628198 0.729847 0.0572549 0.705737L0.00310751 0.47114C-0.00263951 0.446241 -0.000377275 0.420193 0.00957951 0.396621L0.0986059 0.185859C0.109113 0.160983 0.127621 0.140208 0.151278 0.126733L0.344886 0.0164562C0.368542 0.00298171 0.396034 -0.00244339 0.423124 0.00101696L0.65265 0.0303355C0.67832 0.0336145 0.702316 0.0447054 0.7213 0.0620652L0.900161 0.225626Z",fill:"black"})))),4:l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("defs",null,l.a.createElement("clipPath",{id:"clipAvatar4",clipPathUnits:"objectBoundingBox"},l.a.createElement("path",{d:"M0.790574 0.113435L0.432444 0.0183842C0.389575 0.00700625 0.343891 0.0193388 0.312571 0.0507445L0.050708 0.313326C0.0193334 0.344787 0.00714221 0.390604 0.0187327 0.433497L0.115706 0.792364C0.127258 0.835117 0.160689 0.868491 0.203461 0.87997L0.559531 0.975538C0.602488 0.987067 0.648331 0.97476 0.679738 0.943268L0.943444 0.678842C0.974831 0.64737 0.987019 0.601531 0.975408 0.558626L0.878651 0.201086C0.867055 0.158234 0.833481 0.124823 0.790574 0.113435Z",fill:"black"})))),5:l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("defs",null,l.a.createElement("clipPath",{id:"clipAvatar5",clipPathUnits:"objectBoundingBox"},l.a.createElement("path",{d:"M0.415435 0.0552153C0.446935 -0.018405 0.54724 -0.0184051 0.57874 0.0552152L0.655146 0.233789C0.668138 0.264153 0.69568 0.285001 0.727415 0.28849L0.914047 0.309011C0.990989 0.317471 1.02198 0.416853 0.96451 0.470813L0.8251 0.601699C0.801395 0.623955 0.790875 0.657686 0.797496 0.690207L0.836435 0.881464C0.852488 0.960313 0.77134 1.02173 0.704319 0.981463L0.541752 0.883781C0.51411 0.867171 0.480065 0.867171 0.452423 0.883781L0.289856 0.981463C0.222835 1.02173 0.141687 0.960313 0.15774 0.881464L0.196679 0.690207C0.2033 0.657686 0.192779 0.623955 0.169074 0.601699L0.0296643 0.470813C-0.0278101 0.416853 0.00318571 0.317471 0.0801281 0.309011L0.26676 0.28849C0.298494 0.285001 0.326037 0.264153 0.339029 0.233789L0.415435 0.0552153Z",fill:"black"}))))},_a=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.iosOptimize,a=e.style,n=e.size,r=e.onClick,o=e.src,s=e.frame,c=e.color,i=e.badge,u=e.badgeValue,p=(this.state.tooltip,0===c?"var(--background_content)":"var(--palette_gradient_".concat(c,")")),m=n/100*6;return t?l.a.createElement(d.f,{size:n,shadow:!1,src:o}):l.a.createElement("div",{className:"UserAvatar",style:Ca({width:n,height:n},a||{}),onClick:r},l.a.createElement("img",{alt:"avatar",src:o,style:{clipPath:"url(#clipAvatar".concat(s+1,")")}}),l.a.createElement("div",{className:"UserAvatarBorder",style:{clipPath:"url(#clipAvatar".concat(s+1,")"),background:p,left:-m,right:-m,top:-m,bottom:-m}}),i&&l.a.createElement("div",{className:"Badge",style:{background:u?"#83E261":"#A1A1A1"}}))}}]),t}(i.PureComponent);_a.defaultProps={onClick:function(){},size:48,frame:1,color:0};var Oa=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(o.a)(this,Object(s.a)(t).call(this,e));var r=e.t.state.user;return a.state={frame:r.frame_type,color:r.frame_color},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.t,a=t.state,n=a.vk_user,r=a.user,o=a.gradients,s=this.state,c=s.frame,i=s.color,u=V();return l.a.createElement("div",{className:"UserAvatarFrame"},l.a.createElement(_a,{size:100,src:n.photo_max_orig,frame:c,color:i}),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h1",null,"\u0424\u043e\u0440\u043c\u0430"),l.a.createElement("div",null,Object.keys(xa).map((function(t,a){return l.a.createElement("div",{key:"Frame-".concat(a),style:{boxShadow:a===c&&"inset 0 0 0 3px var(--custom_card_solo_text_color)"},onClick:function(){return e.setState({frame:a})}},l.a.createElement("div",{style:{clipPath:"url(#clipAvatar".concat(t,")"),background:"var(--custom_card_solo_text_color)",width:56,height:56}}))})))),l.a.createElement("div",null,l.a.createElement("h1",null,"\u0426\u0432\u0435\u0442"),l.a.createElement("div",null,o.map((function(a,n){var o="conic-gradient(from 180deg at 50% 50%, ".concat([].concat(Object(v.a)(a.slice(0,a.length-2)),[a[0]]).join(", "),")");return l.a.createElement("div",{key:"gradient-".concat(n),style:{background:o},onClick:function(){r.vk_donut||r.admin||r.premium?e.setState({color:n+1}):t.setPopout(l.a.createElement(d.E,null,l.a.createElement("div",{className:"GameAfkWarning"},l.a.createElement("div",{className:"GameAfkWarning-Icon"},l.a.createElement(ka.a,null)),l.a.createElement("div",{className:"GameAfkWarning-Title"},"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430"),u?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"GameAfkWarning-Description"},"\u0412 \u0441\u0442\u0430\u0442\u044c\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e, \u043a\u0430\u043a \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044e \u0446\u0432\u0435\u0442\u0430 \u0440\u0430\u043c\u043a\u0438"),l.a.createElement("div",{className:"GameAfkWarning-Button",onClick:function(){return Y("https://vk.com/@draw_app-avocadoplus")}},l.a.createElement(ya.a,{width:20,height:20})," \u041f\u0435\u0440\u0435\u0439\u0442\u0438")):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"GameAfkWarning-Description"},"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443 avocado+, \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0446\u0432\u0435\u0442 \u0440\u0430\u043c\u043a\u0438"),l.a.createElement("div",{className:"GameAfkWarning-Button",onClick:function(){t.setPopout(null),t.go("vk_donut_avocado")}},"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c")),l.a.createElement("div",{className:"GameAfkWarning-Button-Close",onClick:function(){return t.setPopout(null)}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))))}},l.a.createElement("div",null,l.a.createElement("div",{style:{display:i!==n+1&&"none",background:o}})))}))))),l.a.createElement("div",null,l.a.createElement(d.h,{stretched:!0,size:"l",mode:"gradient_pink",disabled:r.frame_type===c&&r.frame_color===i,onClick:function(){r.coins<5e3?t.setSnackbar("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432"):t.socket.call("frames.save",{frame_type:c,frame_color:i},function(){var e=Object(k.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.response){e.next=4;break}t.setSnackbar(a.error.message),e.next=10;break;case 4:return r.frame_type=c,r.frame_color=i,e.next=8,t.setState({user:r});case 8:t.back(),t.setSnackbar("\u0412\u044b \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0438 \u0440\u0430\u043c\u043a\u0443");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},after:l.a.createElement(wa.a,null)},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430 5\u043a"),l.a.createElement(d.h,{stretched:!0,size:"l",mode:"secondary",onClick:function(){return t.back()}},"\u041e\u0442\u043c\u0435\u043d\u0430")))}}]),t}(i.PureComponent);Oa.defaultProps={};var La,Sa=Oa,Pa=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={isShowGlobalCanvas:e.t.state.isShowGlobalCanvas,canvas_status:{status:!1},globalCanvasShowTimer:!1},e.t.socket.unsubscribe("changeOnline"),e.t.socket.subscribe("changeOnline",(function(t){"feed"!==e.t.state.activePanel&&(e.t.setState({online:t.count}),a.forceUpdate())})),a.goToStats=a.goToStats.bind(Object(y.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"goToStats",value:function(){var e=this.props.t;e.setPopout(l.a.createElement(d.G,null)),e.socket.call("users.get",{},(function(t){e.setState({user:t.response}),e.socket.call("users.getTop",{type:"pictures"},(function(t){e.setState({users_topPictures:t.response});var a=t.response.map((function(e){return e.id}));e.socket.call("users.getTop",{type:"guessed_pictures"},(function(t){e.setState({users_topGuessedPictures:t.response}),a=[].concat(Object(v.a)(a),Object(v.a)(t.response.map((function(e){return e.id})))),e.socket.call("users.getTop",{type:"likes"},function(){var t=Object(k.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({users_topLikes:n.response}),a=[].concat(Object(v.a)(a),Object(v.a)(n.response.map((function(e){return e.id})))),t.next=4,me(a);case 4:e.setPopout(null),e.go("stats");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}))}))}},{key:"componentDidMount",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.t.setState({voteWords:[],chooseWords:[]}),this.props.t.socket.call("canvas.getStatus",{},function(){var e=Object(k.a)(g.a.mark((function e(a){var n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.response,r=n.start-Date.now(),(o=r<=864e5&&r>0)&&(La=setInterval((function(){n.start-Date.now()<=0&&(t.setState({globalCanvasShowTimer:!1}),clearInterval(La)),t.forceUpdate()}),1e3)),t.setState({canvas_status:n,globalCanvasShowTimer:o});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){clearInterval(La)}},{key:"render",value:function(){var e=this,t=this.props.t,n=t._tags,r=t.state,o=r.vk_user,s=r.user,c=r.gamesAsWinner,i=r.gamesAsDrawer,u=r.top_number,p=r.online,m=r.tooltip_resume_draw,h=r.activeMiniGame,v=(s.lvl,s.pictures),b=s.successfulPictures,y=s.guessedPictures,w=H(),E=this.state.canvas_status,C=(E.status||E.admins_allow&&s.admin||E.donut_allow&&(s.premium||s.vk_donut||s.admin))&&(0===E.end||E.end>Date.now()),x=C&&W(E.start-Date.now()).str;return l.a.createElement("div",{className:"Profile"},!w&&!1,!w&&Date.now()<17119044e5&&l.a.createElement("div",{className:"NativeButtonMiniAppTop",style:{height:!V()&&37},onClick:Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y("https://vk.com/wall-208964042_16716");case 1:case"end":return e.stop()}}),e)})))},"\ud83c\udf81 \u041a\u043e\u043d\u043a\u0443\u0440\u0441 \u0432 \u043d\u0430\u0448\u0435\u0439 \u0433\u0440\u0443\u043f\u043f\u0435"),l.a.createElement("div",{className:"UserAvatarCover"},l.a.createElement("img",{alt:"cover",src:o.photo_max_orig})),l.a.createElement("div",{className:"UserInfoContainer"},l.a.createElement(_a,{t:t,size:100,src:o.photo_200,frame:s.frame_type,color:s.frame_color}),l.a.createElement("div",{className:"UserNameTags"},l.a.createElement("h1",{onClick:function(){s.admin&&t.setActiveModal(jc)}},o.first_name," ",o.last_name),l.a.createElement("div",{className:"UserTags"},(s.active_tags||[]).map((function(e,a){var r=n().find((function(t){return t[0]===e}));return l.a.cloneElement(r[1],{key:"tag".concat(a),onClick:function(){return t.setActiveModal(r[0])}})})))),l.a.createElement("div",{className:"UserLvl"},l.a.createElement("div",{className:"UserLvlProgress"},l.a.createElement("div",null,l.a.createElement("div",{style:{width:100/(100*s.lvl)*s.xp+"%"}})),l.a.createElement("div",null,l.a.createElement("span",null,s.xp,"XP ",l.a.createElement("span",null,"/")," ",100*s.lvl,"XP"),l.a.createElement("span",null,"LVL ",s.lvl))),l.a.createElement(d.s,{onClick:function(){return t.go("lvl_help")}},l.a.createElement(ia.a,{fill:"#DCDCDC"}))),l.a.createElement("div",{className:"ActionCards"},l.a.createElement("div",null,l.a.createElement("div",{className:"ActionCard MainActionCard PlayGlobal",onClick:Object(k.a)(g.a.mark((function a(){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.t.setState({api_manager:0});case 2:t.go("search_game");case 3:case"end":return a.stop()}}),a)})))},l.a.createElement(la.a,null)," \u0418\u0433\u0440\u0430\u0442\u044c"),l.a.createElement("div",{className:"ActionCard MainActionCard PlayLobby",onClick:function(){t.vkChatIntegration||t.isFromCatalogChat||t.isFromChatWidget?(t.setPopout(l.a.createElement(d.G,null)),t.socket.call("friends.createLobby",{},(function(e){e.response?(t.setState({friend_lobby:e.response}),t.go("friend_lobby"),t.setPopout(null)):t.setAlert("\u041e\u0448\u0438\u0431\u043a\u0430",e.error.message,[{title:"\u041e\u043a",mode:"cancel",autoclose:!0}])}))):t.go("friends")}},t.vkChatIntegration||t.isFromCatalogChat||t.isFromChatWidget?l.a.createElement(l.a.Fragment,null,l.a.createElement(ua.a,null),l.a.createElement("span",null,"\u0418\u0433\u0440\u0430\u0442\u044c \u0432 \u0447\u0430\u0442\u0435")):l.a.createElement(l.a.Fragment,null,l.a.createElement(ga.a,null),l.a.createElement("span",null,"\u0421\u0432\u043e\u044f \u0438\u0433\u0440\u0430")))),l.a.createElement("div",null,0===h||C?l.a.createElement("div",{className:"ActionCard MainActionCard GlobalCanvas",onClick:function(){if(0!==E.end||0!==E.start){if(E.start>=Date.now())return;if(0!==E.end&&E.end<=Date.now())return}f.a.send("VKWebAppStorageSet",{key:"canvas_new_mode",value:"1"}),t.setState({isShowGlobalCanvas:!1}),e.setState({isShowGlobalCanvas:!1}),t.go("global_canvas")}},E.start>=Date.now()?"".concat(x.hours,":").concat(x.minutes,":").concat(x.seconds):l.a.createElement(l.a.Fragment,null,l.a.createElement(pa.a,null)," \u041e\u0431\u0449\u0438\u0439 \u0445\u043e\u043b\u0441\u0442")):1===h?l.a.createElement("div",{className:"ActionCard MainActionCard ArtBattle",onClick:function(){t.go("art_battle_placeholder")}},l.a.createElement(da.a,null)," \u0411\u0438\u0442\u0432\u0430 \u0430\u0440\u0442\u043e\u0432"):2===h&&l.a.createElement("div",{className:"ActionCard MainActionCard Gift",style:{background:"url(".concat(X(a(347)),") no-repeat"),backgroundSize:"cover"},onClick:function(){return t.go("week_gifts")}},l.a.createElement(ma.a,null)," \u0420\u043e\u0437\u044b\u0433\u0440\u044b\u0448"),l.a.createElement("div",{className:"ActionCard MainActionCard Suggestion",onClick:function(){return t.go("services")}},l.a.createElement(fa.a,null)," \u0421\u0435\u0440\u0432\u0438\u0441\u044b")),l.a.createElement("div",null,l.a.createElement(d.R,{text:"\u0418\u0449\u0438\u0442\u0435 \u0441\u0432\u043e\u0438 \u0440\u0438\u0441\u0443\u043d\u043a\u0438 \u0442\u0443\u0442. \u0418\u0445 \u0435\u0449\u0451 \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c!",isShown:m,onClose:function(){return t.setState({tooltip_resume_draw:!1})},alignX:"left",offsetX:-100,offsetY:-20},l.a.createElement("div",{className:"ActionCard GalleryGuessed",onClick:function(){return t.go("gallery")}},l.a.createElement("div",{className:"Images"},[1,0,2].map((function(e,t){return l.a.createElement("div",{num:t,key:"div__".concat(t)},i[e]&&l.a.createElement("img",{alt:"img",src:i[e]["Picture.url"]}))}))),l.a.createElement("div",{className:"Titles"},l.a.createElement("div",null,l.a.createElement("span",null,"\u041c\u043e\u0438 \u0440\u0430\u0431\u043e\u0442\u044b"),l.a.createElement("span",null,N(b,["\u0443\u0441\u043f\u0435\u0448\u043d\u0430\u044f","\u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0435","\u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0445"]))),l.a.createElement("div",null,N(v,["\u043a\u0430\u0440\u0442\u0438\u043d\u0430","\u043a\u0430\u0440\u0442\u0438\u043d\u044b","\u043a\u0430\u0440\u0442\u0438\u043d"])))))),l.a.createElement("div",null,l.a.createElement("div",{className:"ActionCard GalleryGuessed",onClick:function(){return t.go("guessed_pictures")}},l.a.createElement("div",{className:"Images"},[1,0,2].map((function(e,t){return l.a.createElement("div",{num:t,key:"div__".concat(t)},c[e]&&l.a.createElement("img",{alt:"img",src:c[e]["Picture.url"]}))}))),l.a.createElement("div",{className:"Titles"},l.a.createElement("div",null,l.a.createElement("span",null,"\u041e\u0442\u0433\u0430\u0434\u0430\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"),l.a.createElement("span",null,u&&"".concat(function(e){var t=T(e).split(" ");return t[0]+new Array(t.length-1).fill("\u041a").join("")}(u)," \u043c\u0435\u0441\u0442\u043e"))),l.a.createElement("div",null,N(Math.max(0,y),["\u043a\u0430\u0440\u0442\u0438\u043d\u0430","\u043a\u0430\u0440\u0442\u0438\u043d\u044b","\u043a\u0430\u0440\u0442\u0438\u043d"]))))),l.a.createElement("div",null,[[l.a.createElement(ha.a,null),"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",function(){return t.go("settings")}],[l.a.createElement(va.a,null),"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",function(){return e.goToStats()}],[l.a.createElement(ba.a,null),"\u041c\u0430\u0433\u0430\u0437\u0438\u043d",function(){return t.go("shop")}]].map((function(e,t){return l.a.createElement("div",{key:"SubCard_".concat(t),className:"ActionCard",onClick:function(){return e[2]()}},e[0],l.a.createElement("span",null,e[1]))})))),l.a.createElement("div",{className:"Online",onClick:Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.admin&&f.a.send("VKWebAppHideBannerAd");case 1:case"end":return e.stop()}}),e)})))},"\u041e\u043d\u043b\u0430\u0439\u043d: ",p)))}}]),t}(i.PureComponent);Pa.defaultProps={};var ja=Pa,Aa=a(782),Da=a(783),Fa=a(784),Ia=a(303),Ma=a.n(Ia);var Na="https://proxy.adminbase.ru/";function Ta(){return Ba.apply(this,arguments)}function Ba(){return(Ba=Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.send("VKWebAppStorageGetKeys",{count:1e3});case 2:return e.abrupt("return",e.sent.keys);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wa(e){return Ra.apply(this,arguments)}function Ra(){return(Ra=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.send("VKWebAppStorageGet",{keys:[t]});case 3:return e.abrupt("return",e.sent.keys[0].value);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function Ga(e,t){return f.a.send("VKWebAppStorageSet",{key:e,value:t})}function Ua(e){return za.apply(this,arguments)}function za(){return(za=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa(t);case 2:return e.t0=e.sent,e.abrupt("return",""===e.t0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Va(e){return Ha.apply(this,arguments)}function Ha(){return(Ha=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ua(t);case 2:if(!e.sent){e.next=8;break}return e.next=5,Ga(t,"1");case 5:return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ka(e){return Za.apply(this,arguments)}function Za(){return(Za=Object(k.a)(g.a.mark((function e(t){var a,n,r=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]&&r[1],e.prev=1,e.next=4,f.a.send("VKWebAppGetAuthToken",{app_id:parseInt(z().vk_app_id),scope:t});case 4:if(n=e.sent,!(t.includes(",")?n.scope.split(",").length===t.split(",").length:n.scope===t)){e.next=9;break}return e.abrupt("return",n.access_token);case 9:if(!a){e.next=15;break}return e.next=12,Ka(t,a);case 12:return e.abrupt("return",e.sent);case 15:return e.abrupt("return",!1);case 16:e.next=27;break;case 18:if(e.prev=18,e.t0=e.catch(1),!a){e.next=26;break}return e.next=23,Ka(t,a);case 23:return e.abrupt("return",e.sent);case 26:return e.abrupt("return",!1);case 27:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}function Ya(e,t,a,n){return Xa.apply(this,arguments)}function Xa(){return(Xa=Object(k.a)(g.a.mark((function e(t,a,n,r){var o,s,c,i,l,u,p,d=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=d.length>4&&void 0!==d[4]&&d[4],s=d.length>5&&void 0!==d[5]?d[5]:"perm_album",r){e.next=8;break}return e.next=5,Ka("photos");case 5:if(r=e.sent){e.next=8;break}return e.abrupt("return",-1);case 8:if(e.t0=o,!e.t0){e.next=13;break}return e.next=12,Wa(s);case 12:e.t0=e.sent;case 13:if(""!==(i=e.t0)&&o){e.next=23;break}return e.next=17,f.a.send("VKWebAppCallAPIMethod",{method:"photos.createAlbum",params:{title:a,v:"5.126",access_token:r}});case 17:if(c=e.sent.response.id,!o){e.next=21;break}return e.next=21,Ga(s,"".concat(c));case 21:e.next=24;break;case 23:c=parseInt(i);case 24:u=!1,p=0;case 26:if(!(p<1)){e.next=51;break}return e.prev=27,e.next=30,f.a.send("VKWebAppCallAPIMethod",{method:"photos.getUploadServer",params:{album_id:c,v:"5.126",access_token:r}});case 30:l=e.sent.response.upload_url,e.next=48;break;case 33:if(e.prev=33,e.t1=e.catch(27),u){e.next=46;break}return u=!0,p--,e.next=40,f.a.send("VKWebAppCallAPIMethod",{method:"photos.createAlbum",params:{title:a,v:"5.126",access_token:r}});case 40:if(c=e.sent.response.id,!o){e.next=44;break}return e.next=44,Ga(s,"".concat(c));case 44:e.next=48;break;case 46:return console.error(e.t1),e.abrupt("return",-2);case 48:p++,e.next=26;break;case 51:return t instanceof Blob&&(t=[t]),e.next=54,new Promise(function(){var e=Object(k.a)(g.a.mark((function e(a){var o,s,i,u,p,d,m,h,v,b,k,y,w,E;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=!0,s=!1,i=void 0,e.prev=3,u=t[Symbol.iterator]();case 5:if(o=(p=u.next()).done){e.next=41;break}d=p.value,(m=new FormData).append("photo",d,"image.png"),h=0,v=0;case 11:if(!(v<1)){e.next=38;break}return e.prev=12,h++,e.next=16,Ma()(Na+l,{method:"POST",body:m}).then((function(e){return e.json()}));case 16:return b=e.sent,k=b.server,y=b.photos_list,w=b.hash,e.next=20,f.a.send("VKWebAppCallAPIMethod",{method:"photos.save",params:{album_id:c,server:k,photos_list:y,hash:w,caption:n,v:"5.126",access_token:r}});case 20:if(!(E=e.sent).error){e.next=23;break}throw new Error(JSON.stringify(E));case 23:e.next=35;break;case 25:if(e.prev=25,e.t0=e.catch(12),!(h>=10)){e.next=32;break}console.error(e.t0),a(-4),e.next=35;break;case 32:return v--,e.next=35,M(400);case 35:v++,e.next=11;break;case 38:o=!0,e.next=5;break;case 41:e.next=47;break;case 43:e.prev=43,e.t1=e.catch(3),s=!0,i=e.t1;case 47:e.prev=47,e.prev=48,o||null==u.return||u.return();case 50:if(e.prev=50,!s){e.next=53;break}throw i;case 53:return e.finish(50);case 54:return e.finish(47);case 55:a(c);case 56:case"end":return e.stop()}}),e,null,[[3,43,47,55],[12,25],[48,,50,54]])})));return function(t){return e.apply(this,arguments)}}());case 54:return e.abrupt("return",e.sent);case 55:case"end":return e.stop()}}),e,null,[[27,33]])})))).apply(this,arguments)}var Ja=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={offset_default:e.t.state.gamesAsDrawer.length,limit:50,canGetMore:!0,prevY:0,mode:"default"},a.switchMode=a.switchMode.bind(Object(y.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){0!==this.props.t.state.gamesAsDrawer.length&&(this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef),this.handleObserver(),this.props.t.state.scrollPosition&&(console.log("Scroll to ".concat(this.props.t.state.scrollPosition)),document.body.scrollTop=this.props.t.state.scrollPosition),this.props.t.setState({gamesSaves:[]}))}},{key:"handleObserver",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r,o,s,c,i,l,u,p,d,m=this,f=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:[{boundingClientRect:{y:0}}],f.length>1?f[1]:void 0,a=t[0].boundingClientRect.y,n=this.props.t,r=this.state,o=r.mode,s=r.prevY,c=r.limit,i=r.canGetMore,l=this.state["offset_".concat(o)]||0,!(0===s||s>a)||!i){e.next=28;break}if(this.setState({spinner:!0}),"default"!==o){e.next=9;break}n.socket.call("games.getByDrawerId",{id:n.state.vk_user.id,offset:l,limit:c},function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(t.response.map((function(e){return e.drawerId})));case 2:a=[].concat(Object(v.a)(n.state.gamesAsDrawer),Object(v.a)(t.response)),n.setState({gamesAsDrawer:oe(a)}),m.setState({canGetMore:t.response.length>0,spinner:!1}),m.forceUpdate();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=27;break;case 9:if("saves"!==o){e.next=27;break}return e.next=12,Ka("photos");case 12:if(!(u=e.sent)){e.next=27;break}return e.next=16,K("photos.get",{access_token:u,owner_id:n.state.vk_user.id,album_id:n.state.user.albumSavesPictures,offset:l,count:c,rev:1});case 16:if(!(p=e.sent).items){e.next=27;break}return e.t0=[],e.t1=Object(v.a)(n.state.gamesSaves.filter((function(e){return e.drawerId===n.state.vk_user.id}))),e.t2=v.a,e.next=23,Promise.all(p.items.map(function(){var e=Object(k.a)(g.a.mark((function e(t){var a,r,o,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="\u0421\u043b\u043e\u0432\u043e: ",e.next=3,Q(t.sizes.find((function(e){return 1080===e.width})).url);case 3:return o=e.sent,e.next=6,Object(_.createCanvas)(899,899);case 6:return s=e.sent,J(s.getContext("2d"),o,130,{x:-90,y:-672,width:o.width,height:o.height},{x:0,y:0,width:s.width,height:s.height}),e.abrupt("return",(a={},Object(h.a)(a,"Picture.url",s.toDataURL("image/png")),Object(h.a)(a,"Word.nom",t.text.substring(t.text.indexOf(r)+r.length)),Object(h.a)(a,"drawerId",n.state.vk_user.id),Object(h.a)(a,"savedGame",!0),Object(h.a)(a,"id",t.id),a));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 23:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),d=e.t0.concat.call(e.t0,e.t1,e.t4),n.setState({gamesSaves:oe(d)});case 27:this.setState(Object(h.a)({},"offset_".concat(o),l+c));case 28:this.setState({prevY:a});case 29:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"switchMode",value:function(){var e=this.props.t,t="saves"===this.state.mode?"default":"saves";e.setPopout(l.a.createElement(d.G,null)),"saves"===t?(this.setState({mode:t,canGetMore:!0}),this.handleObserver()):"default"===t&&(this.setState({mode:t,canGetMore:!0}),this.handleObserver()),e.setPopout(null)}},{key:"render",value:function(){var e=this,t=this.props.t,a=this.state,n=a.spinner,r=a.mode,o="default"===r?"gamesAsDrawer":"gamesSaves",s=t.state[o];return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-TwoCards"},l.a.createElement("div",null,l.a.createElement(Aa.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u0413\u0430\u043b\u0435\u0440\u0435\u044f"),l.a.createElement("p",null,0===s.length?"\u0422\u0443\u0442 \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043f\u0443\u0441\u0442\u043e, \u0432\u0435\u0440\u043d\u0438\u0442\u0435\u0441\u044c \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0438 \u0432\u043f\u0435\u0440\u0451\u0434 \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c!":"\u0412\u0441\u0451 \u0432\u0430\u0448\u0435 \u0442\u0432\u043e\u0440\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0431\u0440\u0430\u043b\u043e\u0441\u044c \u0442\u0443\u0442, \u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435\u0441\u044c \u0432\u043e\u043a\u0440\u0443\u0433")),l.a.createElement("div",{className:"Panel_Container_Card-Buttons",style:{display:!(t.state.user.albumSavesPictures>-1)&&"none"}},l.a.createElement(d.h,{stretched:!0,size:"m",mode:"gradient_blue",before:"default"===r?l.a.createElement(Da.a,{width:16,height:16}):l.a.createElement(Fa.a,{width:16,height:16}),onClick:this.switchMode},"default"===r?"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0440\u0438\u0441\u0443\u043d\u043a\u0438":"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0433\u0430\u043b\u0435\u0440\u0435\u0435"))),l.a.createElement("div",{style:0===s.length?{display:"none"}:{}},l.a.createElement("div",{className:"MiniCards"},s.map((function(e,a){return l.a.createElement("div",{className:"MiniCard",key:"Card-".concat(a),onClick:Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({like_currentPictureSelected:a,like_method:"games.getByDrawerId",like_param:o,like_user_id:t.state.vk_user.id,scrollPosition:document.body.scrollTop});case 2:t.go("picture_info");case 3:case"end":return e.stop()}}),e)})))},l.a.createElement("img",{alt:"img",src:e["Picture.url"]}))})),n&&l.a.createElement("div",{className:"MiniCard"},l.a.createElement(d.M,{size:"small"})),l.a.createElement("div",{ref:function(t){return e.loadingRef=t},className:"LoadingRef"})))))}}]),t}(i.PureComponent);Ja.defaultProps={};var Qa=Ja,qa=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={offset:e.t.state.gamesAsWinner.length,limit:50,canGetMore:!0,prevY:0},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.props.t.state.gamesAsWinner.length){e.next=2;break}return e.abrupt("return");case 2:this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef),this.handleObserver(),this.props.t.state.scrollPosition&&(console.log("Scroll to ".concat(this.props.t.state.scrollPosition)),document.body.scrollTop=this.props.t.state.scrollPosition);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleObserver",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{boundingClientRect:{y:0}}],a=(arguments.length>1&&arguments[1],t[0].boundingClientRect.y),n=this.props.t,r=this.state,o=r.prevY,s=r.offset,c=r.limit,i=r.canGetMore;(0===o||o>a)&&i&&(this.setState({spinner:!0}),n.socket.call("games.getByWinnerId",{id:n.state.vk_user.id,offset:s,limit:c},function(){var t=Object(k.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me(a.response.map((function(e){return e.drawerId})));case 2:n.setState({gamesAsWinner:[].concat(Object(v.a)(n.state.gamesAsWinner),Object(v.a)(a.response))}),e.setState({canGetMore:a.response.length>0,spinner:!1}),e.forceUpdate();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.setState({offset:s+c})),this.setState({prevY:a})}},{key:"render",value:function(){var e=this,t=this.props.t,a=t.state,n=a.user,r=a.gamesAsWinner,o=n.guessedPictures,s=this.state.spinner;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-TwoCards"},l.a.createElement("div",null,l.a.createElement(Aa.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u041e\u0442\u0433\u0430\u0434\u0430\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"),l.a.createElement("p",null,o>0?"\u0412\u044b \u043e\u0442\u0433\u0430\u0434\u0430\u043b\u0438".concat(o>1?" \u0446\u0435\u043b\u044b\u0445":""," ").concat(N(o,["\u043a\u0430\u0440\u0442\u0438\u043d\u0443","\u043a\u0430\u0440\u0442\u0438\u043d\u044b","\u043a\u0430\u0440\u0442\u0438\u043d"]),"! \u0422\u0430\u043a \u0434\u0435\u0440\u0436\u0430\u0442\u044c, \u0428\u0435\u0440\u043b\u043e\u043a"):"\u0412\u044b \u0435\u0449\u0451 \u043d\u0435 \u0443\u0433\u0430\u0434\u0430\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u0443 \u043a\u0430\u0440\u0442\u0438\u043d\u0443"))),l.a.createElement("div",{style:0===r.length?{display:"none"}:{}},l.a.createElement("div",{className:"MiniCards"},r.map((function(e,a){return l.a.createElement("div",{className:"MiniCard",key:"Card-".concat(a),onClick:Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({like_currentPictureSelected_:a,like_currentPictureSelected:a,like_method:"games.getByWinnerId",like_param:"gamesAsWinner",like_user_id:t.state.vk_user.id,scrollPosition:document.body.scrollTop});case 2:t.go("picture_info");case 3:case"end":return e.stop()}}),e)})))},l.a.createElement("img",{alt:"img",src:e["Picture.url"]}))})),s&&l.a.createElement("div",{className:"MiniCard"},l.a.createElement(d.M,{size:"small"})),l.a.createElement("div",{ref:function(t){return e.loadingRef=t},className:"LoadingRef"})))))}}]),t}(i.PureComponent);qa.defaultProps={};var $a=qa,en=!1,tn=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(o.a)(this,Object(s.a)(t).call(this,e));e.t.state.subGameInfo;return a.state={lobbyPlayers:[],lobbyPlayers_:[],point_count:0,starting:!1,can_leave:!1},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillUnmount",value:function(){this.props.t.log("game_logs","componentWillUnmount",{panel:this.props.t.state.activePanel,time:Date.now()}),en=!0}},{key:"componentDidMount",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.t.log("game_logs");case 2:this.props.t.log("game_logs","componentDidMount",{panel:this.props.t.state.activePanel,time:Date.now()}),en=!1,setTimeout(Object(k.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=document.getElementsByClassName("SearchImages")[0],a=g.a.mark((function e(a){var o,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=B(1,64),(s=document.createElement("img")).src="https://photos.avocado.special.vk-apps.com/drawapp_search_images/image_".concat(o,".").concat(o>25?"webp":"png"),s.style.left="".concat(B(-10,90),"%"),t.appendChild(s),r.state.starting||en){e.next=10;break}return a--,e.next=8,M(B(100,1e3));case 8:e.next=11;break;case 10:r.props.t.log("game_logs","animation_end",{starting:r.state.starting,exit:en});case 11:setTimeout((function(){return s.remove()}),5e3),n=a;case 13:case"end":return e.stop()}}),e)})),n=0;case 4:if(!(n<1)){e.next=9;break}return e.delegateYield(a(n),"t0",6);case 6:n++,e.next=4;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(0),r.props.t.log("game_logs","error_lag",{m:e.t1.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),100),t=this.props.t,a=t.socket,n=t.state,a.unsubscribe("changeLobbyUsers","gameStart","chooseWord","voteWord","setWord","gameStarting","message"),a.subscribe("changeLobbyUsers",function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Change lobby players",t.players),a=Date.now(),r.props.t.log("game_logs","in_changeLobbyUsers",{p:t.players,time:Date.now()}),e.t0=r,e.next=6,me(t.players);case 6:e.t1=e.sent,e.t2=t.players,e.t3={lobbyPlayers:e.t1,lobbyPlayers_:e.t2},e.t0.setState.call(e.t0,e.t3),r.props.t.log("game_logs","end_changeLobbyUsers",{ping:Date.now()-a,time:Date.now(),panel:r.props.t.state.activePanel});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),2===n.api_manager&&a.subscribe("voteWord",function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("voteWord",t),r.props.t.log("game_logs","in_voteWord",{word:t.words}),r.props.t.setState({voteWords:t.words}),setTimeout((function(){r.props.t.forceUpdate()}),400);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),0===n.api_manager&&(a.subscribe("chooseWord",function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("chooseWord",t),r.props.t.log("game_logs","in_chooseWord",{word:t.words}),r.props.t.setState({chooseWords:t.words}),setTimeout((function(){r.props.t.forceUpdate()}),400);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.subscribe("setWord",function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("setWord",t),r.props.t.setState({word:t.word}),r.props.t.log("game_logs","in_setWord",{word:t.word}),setTimeout((function(){r.props.t.forceUpdate()}),400);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),a.subscribe("gameStart",function(){var e=Object(k.a)(g.a.mark((function e(t){var a,n,o,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("gameStart",t),a=t.players,n=t.lobbyId,o=t.drawerId,s=t.timeout,r.props.t.log("game_logs","in_gameStart",{drawer:o,lobby:n,manager:r.props.t.state.api_manager,players:a,time:Date.now()}),e.next=5,r.props.t.setState({game_players:a,game_timeout:s,lobbyId:n,drawerId:o,gameStart:Date.now(),isOnlineDrawing:!0,subGameInfo:{friendly:!1}});case 5:return e.next=7,new Promise((function(e){var t,a=r.state,n=a.lobbyPlayers,o=a.lobbyPlayers_;t=setInterval((function(){o.length===n.length&&(clearInterval(t),console.log("All players find"),e(!0))}),400)}));case 7:console.log("Game start. lobbyId = ".concat(n,", drawerId = ").concat(o)),f.a.send("VKWebAppHideBannerAd"),r.props.t.log("game_logs","set_panel",{current:r.props.t.state.activePanel,next:"game",time:Date.now()}),r.props.t.setState({history:["main","game"],activePanel:"game"});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.subscribe("gameStarting",function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("gameStarting",t),r.setState({starting:!0}),r.props.t.log("game_logs","in_gameStarting",{panel:r.props.t.state.activePanel,time:Date.now()});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),setTimeout((function(){setTimeout((function(){r.setState({can_leave:!0})}),1e3),r.props.t.log("game_logs","act_start_search",{time:Date.now()}),a.call("games.search",{manager:r.props.t.state.api_manager},(function(e){r.props.t.log("game_logs","games.search",{time:Date.now()}),console.log("games.search",e),e.error?(r.props.t.setActivePanel("main"),r.props.t.setAlert("\u041e\u0448\u0438\u0431\u043a\u0430",e.error.message,[{title:"\u041e\u043a",autoclose:!0}])):"number"!==typeof e.response&&"string"!==typeof e.response||e.response}))}),1e3);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t,a=this.state.lobbyPlayers.filter((function(e){return e.id!==t.state.vk_user.id})),n=this.state,r=n.starting,o=n.can_leave;return l.a.createElement("div",{className:"SearchGame"},l.a.createElement("div",{className:"SearchContainer"},l.a.createElement("h1",null,r?"\u041e\u0447\u0438\u0449\u0430\u0435\u043c \u0445\u043e\u043b\u0441\u0442":"\u041f\u043e\u0438\u0441\u043a \u0438\u0433\u0440\u043e\u043a\u043e\u0432"),l.a.createElement(d.S,{style:{marginTop:12},photos:[t.state.vk_user.photo_100].concat(Object(v.a)(a.map((function(e){return e.photo_100})))),size:"m",visibleCount:5}),!r&&l.a.createElement(d.h,{size:"l",stretched:!0,mode:"secondary",style:{marginTop:32},disabled:!o,onClick:function(){e.state.starting||t.back()}},"\u041e\u0442\u043c\u0435\u043d\u0430")),l.a.createElement("div",{className:"SearchImages"}))}}]),t}(i.PureComponent);tn.defaultProps={};var an=tn;function nn(){return(nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function rn(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var on=l.a.createElement("path",{d:"M2.34316 12.0355L4.46448 14.1568C5.24553 14.9378 6.51186 14.9378 7.29291 14.1568L10.1213 11.3284L5.17159 6.37862L2.34316 9.20705C1.56211 9.9881 1.56211 11.2544 2.34316 12.0355Z",fill:"currentColor"}),sn=l.a.createElement("path",{d:"M1.81279 12.5658L3.93411 14.6872C5.00806 15.7611 6.74926 15.7611 7.8232 14.6872L14.1872 8.32321C15.2611 7.24926 15.2611 5.50806 14.1872 4.43412L12.0658 2.3128C10.9919 1.23886 9.2507 1.23886 8.17675 2.3128L1.81279 8.67676C0.738852 9.7507 0.738851 11.4919 1.81279 12.5658Z",stroke:"currentColor",strokeWidth:1.5}),cn=function(e){var t=e.svgRef,a=e.title,n=rn(e,["svgRef","title"]);return l.a.createElement("svg",nn({width:16,height:17,viewBox:"0 0 16 17",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,on,sn)},ln=l.a.forwardRef((function(e,t){return l.a.createElement(cn,nn({svgRef:t},e))})),un=(a.p,a(785)),pn=a(786),dn=a(787),mn=a(788),fn=a(789),hn=a(790),vn=a(791),bn=a(792),gn=a(767);function kn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function yn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?kn(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var wn,En,Cn={},xn=0,_n=0,On=[],Ln=[],Sn=!1,Pn=!1,jn=H(),An={},Dn=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(o.a)(this,Object(s.a)(t).call(this,e));var r=e.t,c=r.state,i=(c.user,c.test_game),l=c.test_game_drawer,u=(c.subGameInfo,c.api_manager);return a.state={drawer:ue[e.drawerId],isDrawer:i?l:!1===e.online||2===u||e.drawerId===e.t.state.vk_user.id,text:"",drawing:!1,canLeaveGame:!1,leave_time:15,time:r.state.game_timeout,messages:[],color:"#000000",lineWidth:2,votes:[],completed_players:[],blockDraw:!1,isEraser:!1,isPipette:!1},ue[e.drawerId]&&ue[e.drawerId].first_name||(a.state.drawer={},setTimeout(Object(k.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me([e.drawerId]);case 2:a.setState({drawer:ue[e.drawerId]});case 3:case"end":return t.stop()}}),t)}))),1)),a.onMouseDown=a.onMouseDown.bind(Object(y.a)(a)),a.onMouseUp=a.onMouseUp.bind(Object(y.a)(a)),a.throttle=a.throttle.bind(Object(y.a)(a)),a.onMouseMove=a.onMouseMove.bind(Object(y.a)(a)),a.drawLine=a.drawLine.bind(Object(y.a)(a)),a.sendMessage=a.sendMessage.bind(Object(y.a)(a)),a.undoDraw=a.undoDraw.bind(Object(y.a)(a)),a.updateChooseWordPopout=a.updateChooseWordPopout.bind(Object(y.a)(a)),a.updateVoteWordPopout=a.updateVoteWordPopout.bind(Object(y.a)(a)),a.funcDraw=a.funcDraw.bind(Object(y.a)(a)),a.getAbsoluteCanvasTouch=a.getAbsoluteCanvasTouch.bind(Object(y.a)(a)),e.online&&!i&&(wn=setInterval((function(){if(a.setState({time:a.state.time-1,leave_time:a.state.leave_time>0?a.state.leave_time-1:0}),a.state.time<=-5){var e=V()?"png":"webp";a.props.t.setState({canvas_:a.canvas.toDataURL("image/".concat(e)),winnerId:0,word:{nom:""},gameId:0,gameEnd:Date.now()}),a.props.t.setActivePanel("result"),console.log("Game end (timeout)"),clearInterval(wn)}}),1e3)),a.canvasSize=!a.state.isDrawer&&!jn&&e.t.clientHeight<=700?319/1.5:319,a.canvasMultiplier=2,!jn&&e.t.clientWidth>=600&&(a.canvasMultiplier/=1.41065831,a.canvasSize=450),a.nCanvasSize=!a.state.isDrawer&&!jn&&e.t.clientHeight<=812?200:319,document.body.style.setProperty("--n-canvas-size","".concat(a.nCanvasSize,"px")),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillUnmount",value:function(){f.a.send("VKWebAppEnableSwipeBack"),this.props.online&&2!==this.props.t.state.api_manager?this.props.t.socket.unsubscribe("gamePreloadEnd","gameEnd","gameAfkEnd","gameErrorEnd","draw","undo","message"):this.props.online&&2===this.props.t.state.api_manager&&this.props.t.socket.unsubscribe("draw","undo","message"),clearInterval(wn),clearTimeout(En)}},{key:"componentDidUpdate",value:function(e,t,a){e.color!==this.props.color&&("pipette"===this.props.color?this.setState({isPipette:!0}):this.setState({color:this.props.color}))}},{key:"updateChooseWordPopout",value:function(e,t,a,n){var r=this;e.setPopout(l.a.createElement(d.E,null,l.a.createElement("div",{className:"GameChooseWord"},l.a.createElement("div",{className:"GameChooseWord-Timer"},5-t),l.a.createElement("div",{className:"GameChooseWord-Title"},"\u0427\u0442\u043e \u0431\u0443\u0434\u0435\u0442\u0435 \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c?"),l.a.createElement("div",{className:"GameChooseWord-Words"},(a||[{nom:"\u0441\u043b\u043e\u0432\u043e 1"},{nom:"\u0441\u043b\u043e\u0432\u043e 2"},{nom:"\u0441\u043b\u043e\u0432\u043e 3"}]).map((function(t,a){return l.a.createElement("div",{key:"word_".concat(a),onClick:function(){Sn=!0,e.setState({word:t}),e.setPopout(null),e.socket.call("games.chooseWord",{lobbyId:n,word:a,manager:e.state.api_manager}),e.log("game_logs","games.chooseWord",{word:t}),r.forceUpdate()}},t.nom)}))))))}},{key:"updateVoteWordPopout",value:function(e,t,a,n){var r=this.state.votes;e.setPopout(l.a.createElement(d.E,null,l.a.createElement("div",{className:"GameChooseWord"},l.a.createElement("div",{className:"GameChooseWord-Timer"},5-t),l.a.createElement("div",{className:"GameChooseWord-Title"},"\u0413\u043e\u043b\u043e\u0441\u0443\u0439\u0442\u0435 \u0437\u0430 \u0442\u043e, \u0447\u0442\u043e \u0431\u0443\u0434\u0435\u0442\u0435 \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c"),l.a.createElement("div",{className:"GameChooseWord-Words"},(a||[{nom:"\u0441\u043b\u043e\u0432\u043e 1"},{nom:"\u0441\u043b\u043e\u0432\u043e 2"},{nom:"\u0441\u043b\u043e\u0432\u043e 3"}]).map((function(t,a){return l.a.createElement("div",{key:"word_".concat(a),style:{background:Pn===a&&"rgba(255, 255, 255, 0.4)",pointerEvents:Pn&&"none"},onClick:function(){Pn||(Pn=a,e.socket.call("games.voteWord",{lobbyId:n,word:a}),e.log("game_logs","games.voteWord",{word:t}))}},t.nom,l.a.createElement("span",null,r[a]||0))}))))))}},{key:"componentDidMount",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r,o,s,c,i,u,p,m,h,b,y,w,E,C,x,_,O,L,S,P,j,A,D,F,I=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sn=!1,Pn=!1,An={},t=Date.now(),this.oldImage=void 0,Ln=[],this.clientHeight=parseInt(document.body.attributes.getNamedItem("_height").value),this.maxCommentsHeight=!H()&&114/(this.clientHeight<=600?3:this.clientHeight<=700?2:1),f.a.send("VKWebAppDisableSwipeBack"),a=this.canvas,n=this.onMouseDown,r=this.onMouseUp,o=this.throttle,s=this.onMouseMove,c=this.props,i=this.state.isDrawer,u=c.online,p=c.t,m=c.lobbyId,h=p.state,b=h.chooseWords,y=h.voteWords,w=h.api_manager,this.canvasContext=a.getContext("2d"),p.setState({color:"#000000",pickedColor:"#000000",color_gradient:void 0,color_percent:0}),!u||p.state.test_game){e.next=46;break}if(p.socket.unsubscribe("gamePreloadEnd","gameStart","gameEnd","setWord","gameVote","voteWord","completePicture","gameAfkEnd","gameErrorEnd","draw","undo","message"),2!==w){e.next=39;break}for(E=p.state.game_players,C=!0,x=!1,_=void 0,e.prev=19,O=E[Symbol.iterator]();!(C=(L=O.next()).done);C=!0)S=L.value,An[S]=[];e.next=27;break;case 23:e.prev=23,e.t0=e.catch(19),x=!0,_=e.t0;case 27:e.prev=27,e.prev=28,C||null==O.return||O.return();case 30:if(e.prev=30,!x){e.next=33;break}throw _;case 33:return e.finish(30);case 34:return e.finish(27);case 35:p.socket.subscribe("gameVote",Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.setState({artBattleHistory:An});case 2:I.props.t.log("game_logs","in_gameVote"),p.setActivePanel("art_battle_rate");case 4:case"end":return e.stop()}}),e)})))),p.socket.subscribe("voteWord",(function(e){I.props.t.log("game_logs","in_voteWord",{votes:e.votes}),I.setState({votes:e.votes})})),p.socket.subscribe("setWord",function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.props.t.setState({word:t.word}),I.props.t.log("game_logs","in_setWord",{word:t.word}),I.props.t.forceUpdate(),I.forceUpdate();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p.socket.subscribe("completePicture",(function(e){I.setState({completed_players:e.completed})}));case 39:p.socket.subscribe("gamePreloadEnd",function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=m,En=setTimeout((function(){"game"===p.state.activePanel&&null!==p.state.popout&&a===m&&p.setAlert("\u041a\u0430\u043a\u0438\u0435-\u0442\u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b?",'\u041a\u0430\u0436\u0435\u0442\u0441\u044f, \u0447\u0442\u043e \u0438\u0433\u0440\u0430 \u0437\u0430\u0432\u0438\u0441\u043b\u0430. \u0415\u0441\u043b\u0438 \u044d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0442\u0430\u043a, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 "\u0414\u0430", \u0435\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c \u0432\u0441\u0451 \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0438 \u0438\u0433\u0440\u0430 \u043d\u0435 \u0437\u0430\u0432\u0438\u0441\u043b\u0430, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 "\u041d\u0435\u0442".',[{title:"\u0414\u0430",action:function(){var e=JSON.stringify(p.state.game_logs);f.a.send("VKWebAppCopyText",{text:e}),p.setActivePanel("main"),p.showNewAd(),p.setSnackbar("\u041d\u0430\u043c \u0436\u0430\u043b\u044c, \u0447\u0442\u043e \u0442\u0430\u043a \u0432\u044b\u0448\u043b\u043e. \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0435 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0435\u0451 \u043d\u0430\u043c.",{buttonText:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",buttonAction:function(){return Y("https://vk.com/write-208964042")}})},autoclose:!0},{title:"\u041d\u0435\u0442",action:function(){p.setPopout(l.a.createElement(d.G,null))},autoclose:!0}],"horizontal")}),1e4),p.setPopout(l.a.createElement(d.G,null)),clearInterval(wn),console.log("Game preload end");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),2!==w&&p.socket.subscribe("gameEnd",function(){var e=Object(k.a)(g.a.mark((function e(a){var n,r,o,s,c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=V()?"png":"webp",r=I.canvas.toDataURL("image/".concat(n)),o=a.winnerId,s=a.word,c=a.gameId,i=a.lobbyId,o>0?p.log("game_logs","in_gameEnd",{win:o,word:s,game:c,time:Math.floor((Date.now()-t)/1e3),lobby_id:i}):p.log("game_logs","in_gameEnd_timeout",{word:s,game:c,time:Math.floor((Date.now()-t)/1e3),lobby_id:i}),0===o){e.next=5;break}return e.next=5,me([o]);case 5:p.setPopout(null),p.setState({canvas_:r,winnerId:o,word:s,gameId:c,gameEnd:Date.now()}),p.setActivePanel("result"),clearTimeout(En),console.log("Game end");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p.socket.subscribe("gameAfkEnd",function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.log("game_logs","in_gameAfkEnd"),p.setState({game_canceled_reason:"\u0418\u0433\u0440\u0430 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430"}),p.setActivePanel("game_canceled"),1===p.state.api_manager&&p.state.subGameInfo.owner_id===p.state.user.id&&p.socket.call("friends.leaveLobby",{owner_id:p.state.user.id}),console.log("Game end afk");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p.socket.subscribe("gamePlayersLeft",function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.log("game_logs","in_gamePlayersLeft"),p.setState({game_canceled_reason:"\u0418\u0433\u0440\u043e\u043a\u0438 \u0432\u044b\u0448\u043b\u0438"}),p.setActivePanel("game_canceled"),1===p.state.api_manager&&p.state.subGameInfo.owner_id===p.state.user.id&&p.socket.call("friends.leaveLobby",{owner_id:p.state.user.id}),console.log("Game end players left");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p.socket.subscribe("gameErrorEnd",function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.log("game_logs","in_gameErrorEnd"),e.next=3,p.setState({gameErrorText:t.message});case 3:p.setActivePanel("game_error"),console.log("Game end error"),1===p.state.api_manager&&p.state.subGameInfo.owner_id===p.state.user.id&&p.socket.call("friends.leaveLobby",{owner_id:p.state.user.id}),p.setPopout(null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i?2===w&&(p.socket.subscribe("draw",(function(e){var t=e.data,a=e.player_id;An[a]||(An[a]=[]),An[a].push(t)})),p.socket.subscribe("undo",(function(e){var t=e.player_id;An[t]||(An[t]=[]),An[t].splice(An[t].length-1,1)}))):(p.socket.subscribe("draw",(function(e){Ln.push(e.data);var t=!0,a=!1,n=void 0;try{for(var r,o=e.data[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value,c=s.x0,i=s.y0,l=s.x1,u=s.y1,p=s.color,d=s.isEraser,m=s.lineWidth,f=s.multiplier;m||(m=2),f||(f=2),I.drawLine(c,i,l,u,p,d,m,f)}}catch(h){a=!0,n=h}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}})),p.socket.subscribe("undo",(function(e){I.undoDraw()}))),p.socket.subscribe("message",function(){var e=Object(k.a)(g.a.mark((function e(t){var a,n,r,o,s,c,i,l,u,p,d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.user_id,n=t.message,r=t.exit,console.log("New message from ".concat(a,": ").concat(n)),ue[a]){e.next=5;break}return e.next=5,me(a);case 5:return o=ue[a],s=o.id,c=o.first_name,i=o.last_name,l=o.photo_100,u=o.frame_type,p=o.frame_color,d=o.sex,e.next=8,I.setState({messages:[].concat(Object(v.a)(I.state.messages),[yn({user_id:a,exit:r,message:n},{id:s,first_name:c,last_name:i,photo_100:l,frame_type:u,frame_color:p,sex:d})])});case 8:I.comments&&(I.comments.scrollTop=I.comments.scrollHeight);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 46:i&&(a.addEventListener("mousedown",n,!1),a.addEventListener("mouseup",r,!1),a.addEventListener("mouseout",r,!1),a.addEventListener("mousemove",o(s,10),!1),a.addEventListener("touchstart",n,!1),a.addEventListener("touchend",r,!1),a.addEventListener("touchcancel",r,!1),a.addEventListener("touchmove",o(s,10),!1),u&&(Sn=!1,b&&b.length>0&&(p.log("game_logs","g_chooseWords",{chooseWords:b,voteWords:y}),P=0,this.updateChooseWordPopout(p,P,b,m),j=setInterval((function(){P++,Sn||I.updateChooseWordPopout(p,P,b,m),(5===P||Sn)&&clearInterval(j)}),1e3),setTimeout((function(){Sn||(Sn=!0,p.log("game_logs","g_afkWord",{word:b[0]}),p.setState({word:b[0]}),p.setPopout(null))}),5e3)),y&&y.length>0&&(p.log("game_logs","g_voteWords",{chooseWords:b,voteWords:y}),A=0,D=0,this.updateVoteWordPopout(p,A,y,m),F=setInterval((function(){D%1===0&&A++,D+=.5,I.updateVoteWordPopout(p,A,y,m),5===A&&(p.setPopout(null),clearInterval(F))}),500),setTimeout((function(){p.setPopout(null),Pn||(Pn=0,p.socket.call("games.voteWord",{lobbyId:m,word:0}),p.log("game_logs","games.voteWord_afk",{word:0}))}),5e3)),p.socket.subscribe("drawAfkWarning",(function(e){p.log("game_logs","in_drawAfkWarning"),f.a.supports("VKWebAppTapticNotificationOccurred")&&f.a.send("VKWebAppTapticNotificationOccurred",{type:"warning"}),p.setPopout(l.a.createElement(d.E,null,l.a.createElement("div",{className:"GameAfkWarning"},l.a.createElement("div",{className:"GameAfkWarning-Icon"},l.a.createElement(un.a,null)),l.a.createElement("div",{className:"GameAfkWarning-Title"},"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c!"),l.a.createElement("div",{className:"GameAfkWarning-Description"},"\u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u0431\u0443\u0434\u0435\u0442\u0435 \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c, \u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u043d\u0430\u043a\u0430\u0437\u0430\u043d\u044b"),l.a.createElement("div",{className:"GameAfkWarning-Button",onClick:function(){return p.setPopout(null)}},"\u041e\u043a\u0435\u0439"))))})))),u||(p.setPopout(l.a.createElement(d.G,null)),Ln=p.state.game_.history,p.setState({game_:void 0}),Ln.forEach((function(e){e.forEach((function(e){var t=e.x0,a=e.y0,n=e.x1,r=e.y1,o=e.color,s=e.isEraser,c=e.lineWidth,i=e.multiplier;c||(c=2),i||(i=2),I.funcDraw(I.canvasContext,s,t,a,n,r,i,c,o)}))})),p.setPopout(null));case 48:case"end":return e.stop()}}),e,this,[[19,23,27,35],[28,,30,34]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAbsoluteCanvasTouch",value:function(e){var t=this.canvas.getBoundingClientRect();return{x:((e.clientX||e.touches[0].clientX)-t.left)*this.canvasMultiplier,y:((e.clientY||e.touches[0].clientY)-t.top)*this.canvasMultiplier}}},{key:"onMouseDown",value:function(e){this.state.blockDraw||(this.setState({drawing:!0}),Cn.x=e.clientX||e.touches[0].clientX,Cn.y=e.clientY||e.touches[0].clientY,On=[])}},{key:"onMouseUp",value:function(e){var t=this.state,a=t.drawing,n=t.color,r=t.lineWidth,o=t.isEraser,s=t.isPipette;if(a)if(this.setState({drawing:!1}),s)this.setState({isPipette:!1});else try{var c=this.canvas.getBoundingClientRect();try{this.drawLine(Cn.x-c.left,Cn.y-c.top,(e.clientX||e.touches[0].clientX)-c.left,(e.clientY||e.touches[0].clientY)-c.top,n,o,r,this.canvasMultiplier)}catch(e){}console.log("Lines to send: ".concat(On.length)),On.length>0&&(Ln.push(On),this.state.isDrawer&&this.props.online&&!this.props.t.state.test_game&&this.props.t.socket.call("games.draw",{lobbyId:this.props.lobbyId,data:On,manager:this.props.t.state.api_manager}),On=[])}catch(i){console.log(i)}}},{key:"onMouseMove",value:function(e){var t=this.state,a=t.drawing,n=t.color,r=t.isEraser,o=t.isPipette,s=t.lineWidth;if(a){try{var c=this.canvas,i=this.canvasContext,l=c.getBoundingClientRect();if(o){var u=this.getAbsoluteCanvasTouch(e),p=u.x,d=u.y,m=i.getImageData(p,d,1,1),f=F(m.data[0],m.data[1],m.data[2]);return this.setState({color:f}),void this.props.t.setState({pickedColor:f})}this.drawLine(Cn.x-l.left,Cn.y-l.top,(e.clientX||e.touches[0].clientX)-l.left,(e.clientY||e.touches[0].clientY)-l.top,n,r,s,this.canvasMultiplier),Cn.x=e.clientX||e.touches[0].clientX,Cn.y=e.clientY||e.touches[0].clientY}catch(h){console.log(h)}return!1}}},{key:"drawLine",value:function(e,t,a,n,r,o,s,c){try{this.props.t;var i=this.canvasContext;if("object"===typeof r)r=I(r[xn]||r[0],r[xn+1]||r[0],_n,r.length),0===(_n+=r.length===_n?-_n:1)&&(xn+=r.length===xn?-xn:1);this.funcDraw(i,o,e,t,a,n,c,s,r),i.closePath(),On.push({x0:e,y0:t,x1:a,y1:n,color:r,isEraser:o,lineWidth:s,multiplier:c})}catch(l){}}},{key:"funcDraw",value:function(e,t,a,n,r,o,s,c,i){e.beginPath(),t?(e.globalCompositeOperation="destination-out",e.arc(a*s,n*s,1.2*c,0,2*Math.PI,!1),e.fill()):(e.globalCompositeOperation="source-over",e.moveTo(a*s,n*s),e.lineTo(r*s,o*s),e.strokeStyle=i,e.fill(),e.lineWidth=c,e.lineCap=e.lineJoin="round",e.stroke())}},{key:"throttle",value:function(e,t){var a=(new Date).getTime();return function(){var n=(new Date).getTime();n-a>=t&&(a=n,e.apply(null,arguments))}}},{key:"sendMessage",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r,o,s,c,i,l,u,p=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,a=t.t,n=t.lobbyId,r=this.state,o=r.text,s=r.messages,c=a.state,i=c.test_game,l=c.user,u=c.api_manager,i?this.setState({messages:[yn({user_id:l.id,message:o},ue[l.id])].concat(Object(v.a)(s)),text:""}):o.replace(/^[0-9 ]+$/,"").length>0?a.socket.call("games.message",{lobbyId:n,message:o,manager:u},(function(e){console.log("Response message",e),e.response?p.setState({text:""}):a.setSnackbar(e.error.message)})):(this.setState({text:""}),a.setSnackbar("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u043b\u043e\u0432\u043e."),console.log("Message is empty: ".concat(o)));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"undoDraw",value:function(){var e=this,t=this.canvasContext,a=this.oldImage;Ln.splice(Ln.length-1,1),t.clearRect(0,0,638,638),a&&(t.globalCompositeOperation="source-over",t.drawImage(a,0,0,638,638)),Ln.length>0&&(Ln.forEach((function(a){a.forEach((function(a){var n=a.x0,r=a.y0,o=a.x1,s=a.y1,c=a.color,i=a.isEraser,l=a.lineWidth,u=a.multiplier;e.funcDraw(t,i,n,r,o,s,u,l,c)}))})),t.closePath())}},{key:"renderDrawpanel",value:function(){var e=this,t=this.props,a=t.t,n=t.lobbyId,r=t.online,o=t.word,s=a.state,c=s.user,i=s.vk_user,u=(s.test_game,s.api_manager),p=s.game_players,m=this.state,f=m.drawer,h=m.isDrawer,b=m.text,y=m.color,w=m.time,E=m.leave_time,C=m.messages,x=m.lineWidth,_=m.completed_players,O=m.isEraser,L=m.isPipette,S=m.blockDraw,P=L?{background:y,color:y}:{},j=function(){E<=1?a.setAlert("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435","\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u0438\u0433\u0440\u044b? \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0443 \u0437\u0430 \u043c\u043d\u043e\u0433\u043e\u043a\u0440\u0430\u0442\u043d\u044b\u0439 \u0432\u044b\u0445\u043e\u0434 \u0438\u0437 \u0438\u0433\u0440\u044b.",[{title:"\u0414\u0430",action:function(){1===a.state.api_manager?a.socket.call("friends.leaveLobby",{owner_id:a.state.subGameInfo.owner_id}):a.socket.call("games.leaveGame",{lobbyId:n}),a.setActivePanel("main"),a.showNewAd()},autoclose:!0},{title:"\u041d\u0435\u0442",mode:"cancel",autoclose:!0}],"horizontal"):a.setAlert("\u041f\u043e\u043a\u0430 \u0440\u0430\u043d\u043e","\u0412\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u0438\u0433\u0440\u044b \u0447\u0435\u0440\u0435\u0437 ".concat(N(E,["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"])),[{title:"\u041e\u043a",mode:"cancel",autoclose:!0}],"horizontal")};return l.a.createElement("div",{className:"DrawPanel DrawPanel-".concat(h?"Task":"Drawer"," DrawPanel-").concat(jn?"Desktop":"Mobile")},l.a.createElement("div",{className:"DrawPanel--Header",ref:function(t){return e.header=t},onClick:function(){a.setPopout(l.a.createElement(d.a,{onClose:function(){return a.setPopout(null)},iosCloseItem:l.a.createElement(d.b,{autoclose:!0,mode:"cancel"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),toggleRef:e.header},l.a.createElement(d.b,{autoclose:!0,onClick:j},"\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0438\u0433\u0440\u0443")))}},h?l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"\u0417\u0430\u0434\u0430\u0447\u0430: ",o?o.nom:""),l.a.createElement("h3",null,N(w,["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"]))):l.a.createElement(l.a.Fragment,null,l.a.createElement(_a,{size:36,src:this.props.t.state.vk_user.photo_100}),l.a.createElement("div",{style:{width:"70%"}},l.a.createElement("h1",null,f.first_name," \u0440\u0438\u0441\u0443\u0435\u0442"),l.a.createElement("h3",null,"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ",N(w,["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"]))))),r&&2===u&&l.a.createElement("div",{className:"DrawPanel--Users"},p.map((function(e,t){return l.a.createElement("div",{key:"user-".concat(t),style:-1===_.indexOf(e)?{opacity:.5}:{}},l.a.createElement(_a,{size:50,src:ue[e].photo_100,frame:ue[e].frame_type,color:ue[e].frame_color}),l.a.createElement("div",null,_.indexOf(e)>-1?l.a.createElement(pn.a,{width:16,height:16}):l.a.createElement(dn.a,{width:16,height:16})))}))),l.a.createElement("div",{className:"DrawPanel--MessageBox",style:{display:r&&2===u&&"none"}},C.map((function(t,a){t.id;var n=t.exit,r=t.message,o=t.first_name,s=(t.last_name,t.photo_100),c=t.frame_type,i=t.frame_color,u=t.sex;return l.a.createElement("div",{className:"DrawPanel--Message",onClick:function(){return e.setState({ccc:[(e.state.ccc||[0]).length].concat(Object(v.a)(e.state.ccc||[0]))})}},l.a.createElement(_a,{size:36,src:s,frame:c,color:i}),l.a.createElement("div",null,n?l.a.createElement("p",null,o," ",1===u?"\u043f\u043e\u043a\u0438\u043d\u0443\u043b\u0430":"\u043f\u043e\u043a\u0438\u043d\u0443\u043b"," \u0438\u0433\u0440\u0443"):l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,o),l.a.createElement("p",null,r))))})),!h&&l.a.createElement("div",{className:"DrawPanel--Input-Container"},l.a.createElement(d.t,{autocomplete:"off",className:"DrawPanel--Input",value:b,onChange:function(t){var a=t.currentTarget.value;(a.match(/^[0-9a-zA-Z\u0430-\u044f\u0410-\u042f ,.:-]+$/)||""===a)&&a.length<=120&&e.setState({text:a})},placeholder:"\u041c\u0435\u0441\u0442\u043e \u0432\u0430\u0448\u0435\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430",onFocus:function(){},onKeyDown:function(t){var a=t.key;console.log("Pressed key = ".concat(a)),"Enter"===a&&(console.log("Send message (key) (lobbyId = ".concat(n,"): ").concat(b)),e.sendMessage())}}),l.a.createElement(d.V,{disabled:0===b.trim().length,mode:"send",onClick:function(){console.log("Send message (btn) (lobbyId = ".concat(n,"): ").concat(b)),e.sendMessage()}}))),l.a.createElement("div",{className:"DrawPanel--CanvasContainer"},l.a.createElement("div",{className:"DrawPanel--Canvas",style:{minWidth:this.nCanvasSize,minHeight:this.nCanvasSize,maxWidth:this.nCanvasSize,maxHeight:this.nCanvasSize}},l.a.createElement("canvas",{style:{width:"inherit",height:"inherit",pointerEvents:S&&"none"},width:638,height:638,ref:function(t){return e.canvas=t},id:"canvas"})),l.a.createElement("div",{className:"DrawPanel--CanvasBottom"},l.a.createElement("div",{className:"DrawPanel--CanvasController"},l.a.createElement(d.K,{step:1,min:4,max:30,value:Number(x),onChange:function(t){return e.setState({lineWidth:t})}}),l.a.createElement("div",{className:"DrawPanel--CanvasController-Mode"},l.a.createElement(d.s,{style:P,hasHover:!1,onClick:function(){a.setActiveModal(Ac)}},l.a.createElement(mn.a,{width:21,height:21})),l.a.createElement(d.s,{style:yn({},P,{border:!1===O&&"2px solid var(--color_secondary)"}),hasHover:!1,onClick:function(){e.setState({isEraser:!1})}},l.a.createElement(fn.a,{width:21,height:21})),l.a.createElement(d.s,{style:yn({},P,{border:O&&"2px solid var(--color_secondary)"}),hasHover:!1,onClick:function(){e.setState({isEraser:!0})}},l.a.createElement(hn.a,{width:21,height:21})),l.a.createElement(d.s,{style:P,hasHover:!1,onClick:function(){if(Ln.length>0){if(S)return;r&&a.socket.call("games.undo",{lobbyId:n,manager:u}),e.undoDraw()}}},l.a.createElement(vn.a,{width:21,height:21})))),r&&2===u&&l.a.createElement(d.h,{disabled:_.indexOf(c.id)>-1,size:"l",mode:"gradient_blue",style:{marginTop:12,width:this.nCanvasSize},onClick:function(){a.setAlert("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435","\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0432\u044b \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438? \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0440\u0438\u0441\u0443\u043d\u043e\u043a \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f.",[{title:"\u0414\u0430",action:function(){a.socket.call("games.completePicture",{lobbyId:n}),e.setState({blockDraw:!0})},autoclose:!0},{title:"\u041d\u0435\u0442",mode:"cancel",autoclose:!0}],"horizontal")}},_.indexOf(c.id)>-1?"\u0416\u0434\u0451\u043c \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445":"\u042f \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043b".concat(1===i.sex?"\u0430":"")),"!online &&",l.a.createElement("div",{style:{marginTop:12,width:this.nCanvasSize,display:"flex",gap:10}},l.a.createElement(d.h,{before:l.a.createElement(bn.a,{fill:"var(--color_secondary)"}),size:"m",mode:"secondary",onClick:function(){a.setAlert("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435","\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438 \u0431\u0435\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f?",[{title:"\u0414\u0430",action:function(){a.back(),a.showNewAd()},autoclose:!0},{title:"\u041d\u0435\u0442",mode:"cancel",autoclose:!0}],"horizontal")},stretched:!0},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),l.a.createElement(d.h,{style:{marginLeft:!jn&&10,marginTop:jn&&10},before:l.a.createElement(gn.a,{fill:"var(--color_secondary)"}),size:"m",mode:"secondary",onClick:function(){a.setAlert("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435","\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0440\u0438\u0441\u0443\u043d\u043e\u043a?",[{title:"\u0414\u0430",action:function(){var t=Object(k.a)(g.a.mark((function t(){var n,r,o,s,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==Ln.length){t.next=4;break}return a.back(),a.showNewAd(),t.abrupt("return");case 4:return a.setPopout(l.a.createElement(d.G,null)),n=V()?"png":"webp",t.next=8,new Promise((function(t){setTimeout((function(){try{e.canvas.toBlob((function(){t(e.canvas.toDataURL("image/".concat(n)))}))}catch(a){console.error(a),t(null)}}),100)}));case 8:if(r=t.sent,o=a.state.gameId_,!h){t.next=18;break}s=g.a.mark((function t(n){var s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=Ln[n],t.next=3,new Promise((function(t){return e.props.t.socket.call("games.editPicture",{history:s,historyLength:Ln.length,gameId:o},function(){var o=Object(k.a)(g.a.mark((function o(s){return g.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(n!==Ln.length-1){o.next=11;break}if(!s.response){o.next=9;break}return a.setState({n_canvasData:r}),a.setSnackbar("\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430"),o.next=6,new Promise((function(t){return e.props.t.socket.call("games.getByDrawerId",{id:e.props.t.state.vk_user.id,limit:e.props.t.state.gamesAsDrawer.length},function(){var a=Object(k.a)(g.a.mark((function a(n){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.t.setState({gamesAsDrawer:n.response});case 2:t(!0);case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}));case 6:a.forceUpdate(),o.next=10;break;case 9:a.setSnackbar("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c");case 10:setTimeout((function(){a.setPopout(null),a.back(),a.back(),a.showNewAd(),a.forceUpdate()}),1e3);case 11:t(!0);case 12:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}())}));case 3:case"end":return t.stop()}}),t)})),c=0;case 13:if(!(c<Ln.length)){t.next=18;break}return t.delegateYield(s(c),"t0",15);case 15:c++,t.next=13;break;case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),autoclose:!0},{title:"\u041d\u0435\u0442",mode:"cancel",autoclose:!0}],"horizontal")},stretched:!0},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.lobbyId,r=t.online,o=t.word,s=a.state,c=s.user,i=s.vk_user,u=s.test_game,p=s.api_manager,m=s.game_players,f=this.state,h=f.drawer,v=f.isDrawer,b=f.text,y=f.color,w=f.time,E=f.leave_time,C=f.messages,x=f.isEraser,_=f.lineWidth,O=f.isPipette,L=f.completed_players,S=(V(),function(){E<=1?a.setAlert("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435","\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u0438\u0433\u0440\u044b? \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0443 \u0437\u0430 \u043c\u043d\u043e\u0433\u043e\u043a\u0440\u0430\u0442\u043d\u044b\u0439 \u0432\u044b\u0445\u043e\u0434 \u0438\u0437 \u0438\u0433\u0440\u044b.",[{title:"\u0414\u0430",action:function(){1===a.state.api_manager?a.socket.call("friends.leaveLobby",{owner_id:a.state.subGameInfo.owner_id}):a.socket.call("games.leaveGame",{lobbyId:n}),a.setActivePanel("main"),a.showNewAd()},autoclose:!0},{title:"\u041d\u0435\u0442",mode:"cancel",autoclose:!0}],"horizontal"):a.setAlert("\u041f\u043e\u043a\u0430 \u0440\u0430\u043d\u043e","\u0412\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u0438\u0433\u0440\u044b \u0447\u0435\u0440\u0435\u0437 ".concat(N(E,["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"])),[{title:"\u041e\u043a",mode:"cancel",autoclose:!0}],"horizontal")});return u&&(o={nom:"\u0416\u0438\u0440\u0430\u0444"},v=!1,h=a.state.vk_user),245481845===i.id||246549084===i.id?this.renderDrawpanel():l.a.createElement("div",{className:"Game"},r&&!jn&&(0===p||1===p)&&l.a.createElement("div",{className:"NativeButtonMiniAppTop",onClick:function(){v||S()},style:{height:!V()&&37}},v?"id".concat(n):"\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0438\u0433\u0440\u0443"),l.a.createElement("div",{style:{width:jn?319:"100%",alignSelf:"flex-start"},ref:function(t){return e.header=t}},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},!v&&l.a.createElement(_a,{size:24,src:h.photo_100,frame:h.frame_type,color:h.frame_color}),l.a.createElement("h2",{style:{textAlign:"left",marginLeft:6}},v?"\u0417\u0430\u0434\u0430\u0447\u0430: "+(o?o.nom:""):"\u0420\u0438\u0441\u0443\u0435\u0442: "+h.first_name)),r&&l.a.createElement("h2",{style:{textAlign:"right",width:"25%",color:"var(--color_secondary)",wordWrap:"normal"}},w>=0?w:0," \u0441\u0435\u043a"))),l.a.createElement("div",{style:{display:jn&&r&&"flex"}},l.a.createElement("div",{className:"Canvas__"},l.a.createElement("div",{className:"Canvas_Container_Clear",style:{width:this.canvasSize,height:this.canvasSize}},l.a.createElement("canvas",{style:{width:this.canvasSize,height:this.canvasSize,pointerEvents:this.state.blockDraw&&"none"},width:638,height:638,ref:function(t){return e.canvas=t},id:"canvas"})),l.a.createElement("div",{style:{display:!v&&"none"},className:"Canvas_Items_Container"},l.a.createElement(d.K,{step:1,min:4,max:30,value:Number(_),onChange:function(t){return e.setState({lineWidth:t})}}),l.a.createElement("div",{className:"Canvas_SubItems_Container"},l.a.createElement(d.s,{style:yn({},O?{background:y,color:y}:{}),hasHover:!1,onClick:function(){a.setActiveModal(Ac)}},l.a.createElement(mn.a,{width:21,height:21})),l.a.createElement(d.s,{style:{border:x&&"2px solid var(--color_secondary)"},hasHover:!1,onClick:function(){e.setState({isEraser:!x})}},l.a.createElement(ln,null)),l.a.createElement(d.s,{hasHover:!1,onClick:function(){if(Ln.length>0){if(e.state.blockDraw)return;r&&a.socket.call("games.undo",{lobbyId:n,manager:p}),e.undoDraw()}}},l.a.createElement(vn.a,{width:21,height:21})))),r&&2===p&&l.a.createElement(d.h,{style:yn({marginTop:jn?18:32},jn?{}:{width:"74.6666667vw"}),disabled:L.indexOf(c.id)>-1,size:"l",mode:"gradient_blue",stretched:!0,onClick:function(){a.setAlert("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435","\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0432\u044b \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438? \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0440\u0438\u0441\u0443\u043d\u043e\u043a \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f.",[{title:"\u0414\u0430",action:function(){a.socket.call("games.completePicture",{lobbyId:n}),e.setState({blockDraw:!0})},autoclose:!0},{title:"\u041d\u0435\u0442",mode:"cancel",autoclose:!0}],"horizontal")}},L.indexOf(c.id)>-1?"\u0416\u0434\u0451\u043c \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445":"\u042f \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043b".concat(1===i.sex?"\u0430":"")),r&&jn&&(0===p||1===p)&&l.a.createElement(d.h,{style:{marginTop:28},stretched:!0,size:"l",mode:"secondary",onClick:function(){v||S()}},v?"id".concat(n):"\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0438\u0433\u0440\u0443")),!r&&l.a.createElement("div",{className:"Offline_Drawing__Buttons",style:{width:!jn&&this.canvasSize}},l.a.createElement(d.h,{before:l.a.createElement(bn.a,{fill:"var(--color_secondary)"}),size:"m",mode:"secondary",onClick:function(){a.setAlert("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435","\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438 \u0431\u0435\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f?",[{title:"\u0414\u0430",action:function(){a.back(),a.showNewAd()},autoclose:!0},{title:"\u041d\u0435\u0442",mode:"cancel",autoclose:!0}],"horizontal")}},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),l.a.createElement(d.h,{style:{marginLeft:!jn&&10,marginTop:jn&&10},before:l.a.createElement(gn.a,{fill:"var(--color_secondary)"}),size:"m",mode:"secondary",onClick:function(){a.setAlert("\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435","\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0440\u0438\u0441\u0443\u043d\u043e\u043a?",[{title:"\u0414\u0430",action:function(){var t=Object(k.a)(g.a.mark((function t(){var n,r,o,s,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==Ln.length){t.next=4;break}return a.back(),a.showNewAd(),t.abrupt("return");case 4:return a.setPopout(l.a.createElement(d.G,null)),n=V()?"png":"webp",t.next=8,new Promise((function(t){setTimeout((function(){try{e.canvas.toBlob((function(){t(e.canvas.toDataURL("image/".concat(n)))}))}catch(a){console.error(a),t(null)}}),100)}));case 8:if(r=t.sent,o=a.state.gameId_,!e.state.isDrawer){t.next=18;break}s=g.a.mark((function t(n){var s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=Ln[n],t.next=3,new Promise((function(t){return e.props.t.socket.call("games.editPicture",{history:s,historyLength:Ln.length,gameId:o},function(){var o=Object(k.a)(g.a.mark((function o(s){return g.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(n!==Ln.length-1){o.next=11;break}if(!s.response){o.next=9;break}return a.setState({n_canvasData:r}),a.setSnackbar("\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430"),o.next=6,new Promise((function(t){return e.props.t.socket.call("games.getByDrawerId",{id:e.props.t.state.vk_user.id,limit:e.props.t.state.gamesAsDrawer.length},function(){var a=Object(k.a)(g.a.mark((function a(n){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.t.setState({gamesAsDrawer:n.response});case 2:t(!0);case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}));case 6:a.forceUpdate(),o.next=10;break;case 9:a.setSnackbar("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c");case 10:setTimeout((function(){a.setPopout(null),a.back(),a.back(),a.showNewAd(),a.forceUpdate()}),1e3);case 11:t(!0);case 12:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}())}));case 3:case"end":return t.stop()}}),t)})),c=0;case 13:if(!(c<Ln.length)){t.next=18;break}return t.delegateYield(s(c),"t0",15);case 15:c++,t.next=13;break;case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),autoclose:!0},{title:"\u041d\u0435\u0442",mode:"cancel",autoclose:!0}],"horizontal")}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),r&&(0===p||1===p)&&l.a.createElement("div",{className:"Comments_Container",style:{width:!jn&&this.canvasSize}},l.a.createElement("div",{className:"Comments",ref:function(t){return e.comments=t},style:this.maxCommentsHeight?{maxHeight:this.maxCommentsHeight}:{}},C.map((function(t,n){var r=t.id,o=t.exit,s=t.message,c=t.first_name,i=t.last_name,u=t.photo_100,p=t.frame_type,d=t.frame_color,m=t.sex;return l.a.createElement("div",{className:o?"UserActivity":"UserMessage",key:"div__".concat(n),style:{marginTop:n>0&&6,cursor:r===a.state.vk_user.id&&"default"},ref:function(t){return e["comment".concat(n)]=t},onClick:function(){}},l.a.createElement(_a,{size:32,src:u,frame:p,color:d}),l.a.createElement("div",null,o?"".concat(c," ").concat(1===m?"\u043f\u043e\u043a\u0438\u043d\u0443\u043b\u0430":"\u043f\u043e\u043a\u0438\u043d\u0443\u043b"," \u0438\u0433\u0440\u0443"):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,c," ",i),l.a.createElement("div",null,s))))}))),!v&&l.a.createElement("div",{className:"Comment_Input"},l.a.createElement(d.t,{autoFocus:!0,id:"inputComment",value:b,onChange:function(t){var a=t.currentTarget.value;(a.match(/^[0-9a-zA-Z\u0430-\u044f\u0410-\u042f ,.:-]+$/)||""===a)&&a.length<=120&&(console.log("Set text1 = ".concat(a)),e.setState({text:a}))},placeholder:"\u0415\u0441\u0442\u044c \u0434\u043e\u0433\u0430\u0434\u043a\u0438?",onKeyDown:function(t){var a=t.key;console.log("Pressed key = ".concat(a)),"Enter"===a&&(console.log("Send message (key) (lobbyId = ".concat(n,"): ").concat(b)),e.sendMessage())},onFocus:function(){}}),l.a.createElement(d.V,{style:{display:0===b.trim().length&&"none"},mode:"send",onClick:function(){console.log("Send message (btn) (lobbyId = ".concat(n,"): ").concat(b)),e.sendMessage()}}))),r&&2===p&&l.a.createElement("div",{className:"ArtBattle--Users"},m.map((function(e,t){return jn?l.a.createElement("div",{key:"user-".concat(t),style:-1===L.indexOf(e)?{opacity:.5}:{}},l.a.createElement(_a,{size:32,src:ue[e].photo_100,frame:ue[e].frame_type,color:ue[e].frame_color}),l.a.createElement("span",null,ue[e].first_name," ",ue[e].last_name.substring(0,1),"."),l.a.createElement("div",null,L.indexOf(e)>-1?l.a.createElement(pn.a,null):l.a.createElement(dn.a,{width:16,height:16}))):l.a.createElement("div",{key:"user-".concat(t),style:-1===L.indexOf(e)?{opacity:.5}:{}},l.a.createElement(_a,{size:32,src:ue[e].photo_100,frame:ue[e].frame_type,color:ue[e].frame_color}),l.a.createElement("div",null,L.indexOf(e)>-1?l.a.createElement(pn.a,{width:10,height:10}):l.a.createElement(dn.a,{width:10,height:10})))})))))}}]),t}(i.PureComponent);Dn.defaultProps={};var Fn,In=Dn,Mn=a(812),Nn=a(813),Tn=a(800),Bn=a(814),Wn=a(808),Rn=a(809),Gn=a(807),Un=a(799),zn=a(796),Vn=a(801),Hn=a(802),Kn=a(803),Zn=a(804),Yn=a(805),Xn=a(806),Jn=a(766),Qn=a(797),qn=a(768),$n=a(810),er=a(811),tr=a(793),ar=a(794),nr=a(795),rr=a(798),or=(H(),[{icon:l.a.createElement(tr.a,{width:36,height:36}),title:"\u0412\u044b\u0431\u043e\u0440 \u0438\u0437 5 \u0441\u043b\u043e\u0432",price:3e3,userAttr:"shop_choice_5words",onboard:"choice_5words",id:1},{icon:l.a.createElement(ar.a,{width:36,height:36}),title:"\u0420\u0438\u0441\u0443\u043d\u043e\u043a \u0432 \u0410\u043d\u0438\u043c\u0430\u0446\u0438\u044e",price:1e3,userAttr:"shop_pic_to_gif",onboard:"picture_gif",id:2},{icon:l.a.createElement(nr.a,{width:36,height:36}),title:"\u0420\u0438\u0441\u0443\u043d\u043e\u043a \u0432 \u041a\u043b\u0438\u043f",price:1e4,userAttr:"shop_pic_to_clip",onboard:"picture_actions",id:3},{icon:l.a.createElement(zn.a,{width:36,height:36}),title:"\u041f\u0440\u043e\u0434\u043b\u0438\u0442\u044c \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0440\u0438\u0441\u0443\u043d\u043a\u0430",price:1e3,userAttr:"shop_pic_extend_time",onboard:"picture_actions",id:4}]),sr=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={items:[]},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.t.socket,Fn=setInterval((function(){a.forceUpdate()}),1e3),t.call("shop.getList",{},function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({items:t.response});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(Fn)}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.watchedShopItems,r=t.boughtShopItems,o=a.state,s=o.notifications_allowed,c=o.user,i=this.state.items,u=a.socket;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:a.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-".concat(i.length+or.length>0?"ManyCards":"TwoCards")},l.a.createElement("div",null,l.a.createElement(ba.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u041c\u0430\u0433\u0430\u0437\u0438\u043d"),l.a.createElement("p",null,"\u0412\u0430\u0448 \u0431\u0430\u043b\u0430\u043d\u0441: ",l.a.createElement("span",{style:{color:"var(--color_blue)"}},T(c.coins))," ",N(c.coins,["\u043c\u043e\u043d\u0435\u0442\u0430","\u043c\u043e\u043d\u0435\u0442\u044b","\u043c\u043e\u043d\u0435\u0442"],!1))),(0===i.length||!1===s)&&l.a.createElement("div",{className:"Panel_Container_Card-Buttons"},l.a.createElement(d.h,{stretched:!0,size:"m",mode:"gradient_pink",onClick:Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.send("VKWebAppAllowNotifications");case 3:u.call("users.enableNotifications"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))},"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"))),i.length+or.length>0?l.a.createElement(l.a.Fragment,null,i.map((function(e,t){var o=e.id,s=e.startTime,c=(e.count,e.title),i=e.price,p=e.img,m=e.needAdvert,h=e.singleBuy,b=W(s-Date.now()).str,y=b.hours,w=b.minutes,E=b.seconds;return l.a.createElement("div",{key:"Card-".concat(t),onClick:function(){Date.now()<s||-1===n.indexOf(o)&&m||(h&&r.indexOf(o)>-1?a.setSnackbar("\u0412\u044b \u0443\u0436\u0435 \u043a\u0443\u043f\u0438\u043b\u0438 \u044d\u0442\u043e\u0442 \u0442\u043e\u0432\u0430\u0440"):(a.setPopout(l.a.createElement(d.G,null)),u.call("shop.buy",{product_id:o,product_type:0},function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.response){e.next=8;break}return h&&a.setState({boughtShopItems:[].concat(Object(v.a)(r),[o])}),a.setSnackbar("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043a\u0443\u043f\u0438\u043b\u0438 \u0442\u043e\u0432\u0430\u0440"),e.next=5,a.updateData();case 5:a.forceUpdate(),e.next=9;break;case 8:a.setSnackbar(t.message);case 9:a.setPopout(null);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())))}},Date.now()<s?l.a.createElement("div",{className:"TimeCounter"},l.a.createElement(Qn.a,null),l.a.createElement("span",null,y,":",w,":",E)):-1===n.indexOf(o)&&m&&l.a.createElement("div",{className:"WatchAdvert",onClick:Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setPopout(l.a.createElement(d.G,null)),e.prev=1,!f.a.supports("VKWebAppShowNativeAds")){e.next=5;break}return e.next=5,f.a.send("VKWebAppShowNativeAds",{ad_format:"reward"});case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:a.setPopout(null),a.setState({watchedShopItems:[].concat(Object(v.a)(n),[o])});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))},l.a.createElement(rr.a,null),l.a.createElement("span",null,"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435")),l.a.createElement("img",{alt:"icon",src:p,className:"ShopItemIcon"}),l.a.createElement("div",{className:"ShopItemText"},l.a.createElement("span",null,c),l.a.createElement("span",null,N(i,["\u043c\u043e\u043d\u0435\u0442\u0430","\u043c\u043e\u043d\u0435\u0442\u044b","\u043c\u043e\u043d\u0435\u0442"]))))})),or.map((function(t,n){var r=t.id,o=t.icon,s=t.title,i=t.price,p=t.userAttr,m=t.onboard;return l.a.createElement("div",{key:"Card-".concat(n),onClick:function(){a.setPopout(l.a.createElement(d.G,null)),u.call("shop.buy",{product_id:r,product_type:1},function(){var t=Object(k.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.response){t.next=11;break}return c.coins-=i,c[p]+=1,t.next=5,a.setState({user:c});case 5:e.forceUpdate(),a.setSnackbar("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043a\u0443\u043f\u0438\u043b\u0438 \u0442\u043e\u0432\u0430\u0440"),a.forceUpdate(),!a.state["_shop_onboard_".concat(r)]&&m&&(a.setState(Object(h.a)({},"_shop_onboard_".concat(r),!0)),a.showOnboard(m)),t.next=12;break;case 11:a.setSnackbar(n.message);case 12:a.setPopout(null);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},l.a.createElement("div",{className:"ShopItemIcon"},o),l.a.createElement("div",{className:"ShopItemText"},l.a.createElement("span",null,s),l.a.createElement("span",null,N(i,["\u043c\u043e\u043d\u0435\u0442\u0430","\u043c\u043e\u043d\u0435\u0442\u044b","\u043c\u043e\u043d\u0435\u0442"]))),l.a.createElement("div",{className:"ShopItemCount"},T(c[p])," \u0448\u0442."))}))):l.a.createElement("p",{className:"Panel_Container_Card-Header Panel_Container_Card-Header-Center"},"\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0442\u0443\u0442 \u043f\u0443\u0441\u0442\u043e.",l.a.createElement("br",null),s?"\u043c\u044b \u043e\u043f\u043e\u0432\u0435\u0441\u0442\u0438\u043c \u0412\u0410\u0421 \u043a\u043e\u0433\u0434\u0430 \u0442\u0443\u0442 \u0447\u0442\u043e-\u0442\u043e \u0431\u0443\u0434\u0435\u0442.":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f, \u043c\u044b \u043e\u043f\u043e\u0432\u0435\u0441\u0442\u0438\u043c \u043a\u043e\u0433\u0434\u0430 \u0442\u0443\u0442 \u0447\u0442\u043e-\u0442\u043e \u0431\u0443\u0434\u0435\u0442.")))}}]),t}(i.PureComponent);sr.defaultProps={};var cr=sr;function ir(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function lr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ir(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ir(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ur(e){return pr.apply(this,arguments)}function pr(){return(pr=Object(k.a)(g.a.mark((function e(t){var n,r,o,s,c,i,l,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=B(1,13),e.next=3,Q(X(a(670)("./".concat(n,".webp"))));case 3:return r=e.sent,o=Object(_.createCanvas)(r.width,r.height),(s=o.getContext("2d")).drawImage(r,0,0),c=s.getImageData(372,1665,1,1),i="rgb(".concat(c.data[0],", ").concat(c.data[1],", ").concat(c.data[2],")"),l=t["Word.nom"]||t.Word.nom,s.font="".concat(l.length>=14?76:96,"px Inter Black"),s.textAlign="left",s.fillStyle=i,s.fillText(l.substring(0,1).toUpperCase()+l.substring(1),100,574),s.fillStyle="#FFFFFF",s.roundRect(90,672,899,899,129),s.fill(),e.next=19,Q(t["Picture.url"]||t.Picture.url);case 19:return u=e.sent,J(s,u,129,null,{x:90,y:672,width:899,height:899}),e.abrupt("return",o);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dr(e){return mr.apply(this,arguments)}function mr(){return(mr=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.t.setPopout(l.a.createElement(d.G,null)),e.prev=1,e.t0=f.a,e.next=5,ur(t);case 5:return e.t1=e.sent.toDataURL("image/png"),e.t2={url:"https://vk.com/app".concat(z().vk_app_id,"#picture").concat(t.id),text:"go_to",type:"url"},e.t3={background_type:"image",blob:e.t1,attachment:e.t2},e.next=10,e.t0.send.call(e.t0,"VKWebAppShowStoryBox",e.t3);case 10:this.props.t.socket.call("games.share",{gameId:t.id}),e.next=16;break;case 13:e.prev=13,e.t4=e.catch(1),console.error(e.t4);case 16:this.props.t.setPopout(null);case 17:case"end":return e.stop()}}),e,this,[[1,13]])})))).apply(this,arguments)}function fr(e){return hr.apply(this,arguments)}function hr(){return(hr=Object(k.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.t.setPopout(l.a.createElement(d.G,null)),e.next=3,ur(t);case 3:return a=e.sent,e.t0=Ya,e.next=7,new Promise((function(e){return a.toBlob((function(t){return e(t)}))}));case 7:return e.t1=e.sent,e.t2="\u0420\u0438\u0441\u0443\u043d\u043e\u043a \u0441\u0434\u0435\u043b\u0430\u043d \u0432 \u043c\u0438\u043d\u0438-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 vk.com/app".concat(z().vk_app_id,". \u0421\u043b\u043e\u0432\u043e: ").concat(t["Word.nom"]||t.Word.nom),e.next=11,(0,e.t0)(e.t1,"\u0423\u0433\u0430\u0434\u0430\u0439, \u0447\u0442\u043e \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043d\u043e",e.t2,!1,!0);case 11:(n=e.sent)>=0&&this.props.t.socket.call("games.save",{gameId:t.id,albumId:n}),this.props.t.setSnackbar(-1===n?"\u0414\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u0432 \u0430\u043b\u044c\u0431\u043e\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u0434\u043e\u0441\u0442\u0443\u043f":n<0?"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 :(":"\u0420\u0438\u0441\u0443\u043d\u043e\u043a \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d \u0432 \u0430\u043b\u044c\u0431\u043e\u043c \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"),this.props.t.setPopout(null);case 15:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function vr(e,t,a){return br.apply(this,arguments)}function br(){return(br=Object(k.a)(g.a.mark((function e(t,a,n){var r,o,s,c,i,u,p,m,v,b,y,w=this,E=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=E.length>3&&void 0!==E[3]?E[3]:{},o=r.keyToSetChange,s=void 0===o?"":o,c=r.indexToSetChange,i=void 0===c?"":c,u=this.props.t,p=u.state.user,m=!!u.bookmarkAction("f",1,a.id),v=function(e,t,a){var n=u.state.game_export_;n||(n=[]),"remove"===a?n.splice(n.indexOf("".concat(e,"_").concat(t)),1):"add"===a&&n.push("".concat(e,"_").concat(t)),u.setState({game_export_:n})},b=function(e,t){return u.state.game_export_&&u.state.game_export_.indexOf("".concat(a.id,"_").concat(t))>-1},y=function(e,t){var a=b(e,t);u.setAlert("\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 ".concat("clip"===t?"\u043a\u043b\u0438\u043f\u044b":"\u0432\u0438\u0434\u0435\u043e"),"\u0427\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c?",[{title:a?"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u043e\u0447\u0435\u0440\u0435\u0434\u0438":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c",action:function(){v(e,t,a?"remove":"add")},autoclose:!0},{title:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442",action:function(){a||v(e,t,"add"),u.go("export_clip")},autoclose:!0}])},u.setPopout(l.a.createElement(d.a,{onClose:function(){return u.setPopout(null)},iosCloseItem:l.a.createElement(d.b,{autoclose:!0,mode:"cancel"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),toggleRef:n||this.pictureActionsButton},p.admin&&l.a.createElement(d.b,{autoclose:!0,before:l.a.createElement(Un.a,null),onClick:Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.setPopout(l.a.createElement(d.G,null)),e.next=3,new Promise((function(e){return u.socket.call("users.giveCreative",{user_id:a.drawerId,status:!0},(function(t){return e(t)}))}));case 3:u.setPopout(null);case 4:case"end":return e.stop()}}),e)})))},"\u0412\u044b\u0434\u0430\u0442\u044c \u043c\u0435\u0442\u043a\u0443"),t&&a.drawerId===u.state.vk_user.id&&l.a.createElement(d.b,{autoclose:!0,before:l.a.createElement(Da.a,null),onClick:function(){fr.bind(w)(a)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0440\u0438\u0441\u0443\u043d\u043e\u043a"),t&&a.drawerId===u.state.vk_user.id&&l.a.createElement(d.b,{autoclose:!0,before:l.a.createElement(zn.a,null),onClick:Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(p[or[3].userAttr]>0)){e.next=7;break}return p[or[3].userAttr]-=1,u.setState({user:p}),u.setPopout(l.a.createElement(d.G,null)),e.next=6,new Promise((function(e){return u.socket.call("pictures.extendTime",{id:a.id},(function(t){t.response?(a.deleteTime=t.response,s&&(u.state[s][i]=a,u.setState(Object(h.a)({},s,u.state[s]))),w.forceUpdate(),u.setSnackbar("\u0412\u0440\u0435\u043c\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043e \u043d\u0430 1 \u0447\u0430\u0441.")):u.setSnackbar(t.error.message||"\u041e\u0448\u0438\u0431\u043a\u0430"),e(!0)}))}));case 6:u.setPopout(null);case 7:case"end":return e.stop()}}),e)})))},"\u041f\u0440\u043e\u0434\u043b\u0438\u0442\u044c \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0440\u0438\u0441\u0443\u043d\u043a\u0430"),l.a.createElement(d.b,{autoclose:!0,before:l.a.createElement(Tn.a,null),onClick:function(){dr.bind(w)(a)}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"),l.a.createElement(d.b,{autoclose:!0,before:m?l.a.createElement(Vn.a,null):l.a.createElement(Hn.a,null),onClick:function(){u.bookmarkAction(m?"r":"a",1,a.id)}},m?"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435"),l.a.createElement(d.b,{autoclose:!0,before:l.a.createElement(Kn.a,null),onClick:function(){f.a.send("VKWebAppCopyText",{text:"https://vk.com/app".concat(z().vk_app_id,"#picture").concat(a.id)}),u.setSnackbar("\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430")}},"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u0443"),l.a.createElement(d.b,{autoclose:!0,before:l.a.createElement(Zn.a,null),onClick:function(){f.a.send("VKWebAppCopyText",{text:"https://vk.com/app".concat(z().vk_app_id,"#author").concat(a.drawerId)}),u.setSnackbar("\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430")}},"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0430\u0432\u0442\u043e\u0440\u0430"),p.admin&&l.a.createElement(d.b,{autoclose:!0,before:l.a.createElement(Yn.a,null),onClick:Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(a.id,"video");case 1:case"end":return e.stop()}}),e)})))},"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 \u0432\u0438\u0434\u0435\u043e"),l.a.createElement(d.b,{autoclose:!0,before:l.a.createElement(Xn.a,null),onClick:Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(p[or[2].userAttr]>0||p.admin)){e.next=18;break}if(!H()){e.next=15;break}if(p.admin){e.next=12;break}return p[or[2].userAttr]>0&&(p[or[2].userAttr]-=1,u.setState({user:p})),u.setPopout(l.a.createElement(d.G,null)),e.next=7,new Promise((function(e){return u.socket.call("games.getHistory",{id:a.id,act:"clip",nfg:!!a.history},(function(t){t.response&&"object"===typeof t.response&&(a.history=t.response),u.setPopout(null),e(!0)}))}));case 7:return e.next=9,u.setState({game_:a,export_:"clip"});case 9:u.go("export_clip"),e.next=13;break;case 12:y(a.id,"clip");case 13:e.next=16;break;case 15:u.setSnackbar("\u042d\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0435/\u043d\u043e\u0443\u0442\u0431\u0443\u043a\u0435 :(");case 16:e.next=19;break;case 18:u.setSnackbar("\u0427\u0442\u043e\u0431\u044b \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u044d\u0442\u0438\u043c, \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u0435 \u043c\u0430\u0433\u0430\u0437\u0438\u043d.",{buttonText:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438",buttonAction:function(){return u.go("shop")}});case 19:case"end":return e.stop()}}),e)})))},"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 \u043a\u043b\u0438\u043f"),a.drawerId!==u.state.vk_user.id&&t&&l.a.createElement(d.b,{autoclose:!0,before:l.a.createElement(Gn.a,null),onClick:function(){u.setPopout(l.a.createElement(d.G,null)),p.admin?u.socket.call("admin.removeReportedGame",{game:a.id},(function(e){e.response?u.setSnackbar("\u0418\u0433\u0440\u043e\u043a \u0431\u044b\u043b \u043d\u0430\u043a\u0430\u0437\u0430\u043d."):u.setSnackbar("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430."),u.setPopout(null)})):u.socket.call("games.report",{game_id:a.id},(function(e){e.response?u.setSnackbar("\u0416\u0430\u043b\u043e\u0431\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430"):u.setSnackbar("\u0416\u0430\u043b\u043e\u0431\u0430 \u0443\u0436\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430"),u.setPopout(null)}))}},p.admin?"\u0412\u044b\u0434\u0430\u0442\u044c \u043d\u0430\u043a\u0430\u0437\u0430\u043d\u0438\u0435":"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))),this.forceUpdate(),u.forceUpdate();case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var gr=!1;function kr(e,t,a){return yr.apply(this,arguments)}function yr(){return(yr=Object(k.a)(g.a.mark((function e(t,a,n){var r,o,s,c,i,l,u,p,d,m,f,h,v=this,b=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=b.length>3&&void 0!==b[3]?b[3]:{},o=r.speed,s=void 0===o?1:o,c=r.offset,i=void 0===c?{x:0,y:0}:c,l=r.canvasSize,u=void 0===l?{width:638,height:638}:l,p=r.onRender,d=void 0===p?function(){}:p,gr=!1,m=(t||this.canvas).getContext("2d"),a||(a=this.props.t.state[this.props.param][this.props.current]),a.history){e.next=6;break}return e.abrupt("return");case 6:f=[],h=0,a.history.forEach((function(e){e.forEach((function(e){var t=e.x0,a=e.y0,r=e.x1,o=e.y1,c=e.color,l=e.isEraser,p=e.lineWidth,b=e.multiplier;f.push(Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p||(p=2),b||(b=2),m.beginPath(),l?(m.globalCompositeOperation="destination-out",m.arc(t*b+i.x,a*b+i.y,1.2*p,0,2*Math.PI,!1),m.fill()):(m.globalCompositeOperation="source-over",m.moveTo(t*b+i.x,a*b+i.y),m.lineTo(r*b+i.x,o*b+i.y),m.strokeStyle=c,m.fill(),m.lineWidth=p,m.lineCap=m.lineJoin="round",m.stroke()),!(++h<f.length)||gr){e.next=15;break}return e.next=9,M(1e3/60/s);case 9:if(!d||"function"!==typeof d){e.next=12;break}return e.next=12,d();case 12:window.requestAnimationFrame(f[h]),e.next=26;break;case 15:if(!n){e.next=22;break}return e.next=18,M(100);case 18:return e.next=20,n();case 20:e.next=25;break;case 22:if(!v){e.next=25;break}return e.next=25,v.setState({mode:"default"});case 25:m.clearRect(0,0,u.width,u.height);case 26:e.next=30;break;case 28:e.prev=28,e.t0=e.catch(0);case 30:case"end":return e.stop()}}),e,null,[[0,28]])}))))}))})),window.requestAnimationFrame(f[h]);case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var wr=function(e){function t(e){var a;Object(n.a)(this,t);var r=(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).props,c=r.t,i=r.param,l=r.current,u=c.socket,p=c.state[i];return a.state={canGetMore:p.length>1,isReported:!1,mode:"default"},u.call("pictures.isLiked",{game_id:p[l].id},(function(e){a.setState({isLiked:e.response})})),a.startAnimation=kr.bind(Object(y.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=V(),a=this.props,n=a.t,r=a.current,o=a.method,s=a.param,c=a.user_id,i=n.state,u=i.n_canvasData,p=i.banners,m=i.user,b=n.state[s],y=b[r],w=ue[y.drawerId],E=this.state,C=E.isLiked,x=E.isReported,_=(E.isDeleted,E.canGetMore),O=E.mode,L=y.deleteTime-Date.now(),S=L>=864e5?["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]:L>=36e5?["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]:"\u043c\u0438\u043d",P=L/1e3/60,j=N(P>=1440?Math.floor(P/24/60):P>=60?Math.floor(P/60):Math.floor(P),S);return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.back();case 1:case"end":return e.stop()}}),e)})))}),separator:!1}),y&&l.a.createElement("div",{className:"PictureInfo"},l.a.createElement("div",{className:"PictureInfo-Word-Time"},l.a.createElement("span",null,(y["Word.nom"]||y.Word.nom)&&(y["Word.nom"]||y.Word.nom).substring(0,1).toUpperCase()+(y["Word.nom"]||y.Word.nom).substring(1)),l.a.createElement("span",{style:{display:y.savedGame&&"none"}},Math.round((y.endTime-y.startTime)/1e3)," \u0441.")),l.a.createElement("div",{className:"PictureInfo-CanvasContainer"},l.a.createElement("img",{crossOrigin:"anonymous",alt:"im",src:y["Picture.url"]||u||y.Picture.url,ref:function(t){return e.imageRef=t},style:{display:"default"!==O&&"none"},onClick:Object(k.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(m[or[1].userAttr]>0||m.admin)){t.next=13;break}return m[or[1].userAttr]>0&&(m[or[1].userAttr]-=1),n.setState({user:m}),e.forceUpdate(),t.next=6,e.setState({mode:"animation"});case 6:return n.setPopout(l.a.createElement(d.G,null)),t.next=9,new Promise((function(e){return n.socket.call("games.getHistory",{id:y.id,act:"animation",nfg:!!y.history},(function(t){t.response?"object"===typeof t.response&&(y.history=t.response,b[r]=y,n.setState(Object(h.a)({},s,b))):n.setSnackbar(t.error.message||"\u041e\u0448\u0438\u0431\u043a\u0430"),e(!0)}))}));case 9:n.setPopout(null),e.startAnimation(),t.next=14;break;case 13:n.setSnackbar("\u0427\u0442\u043e\u0431\u044b \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u044d\u0442\u0438\u043c, \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u0435 \u043c\u0430\u0433\u0430\u0437\u0438\u043d.",{buttonText:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438",buttonAction:function(){return n.go("shop")}});case 14:case"end":return t.stop()}}),t)})))}),l.a.createElement("canvas",{style:{width:220,height:220,display:"animation"!==O&&"none"},width:638,height:638,ref:function(t){return e.canvas=t}})),l.a.createElement("div",{className:"PictureInfo-Actions",style:{display:y.savedGame&&"none"}},[[C?l.a.createElement(Wn.a,{fill:"#FD5C81",width:28,height:28}):l.a.createElement(Rn.a,null),T(y["Picture.likes"]),function(){n.setPopout(l.a.createElement(d.G,null)),n.socket.call("pictures.like",{game_id:y.id},(function(t){t.response&&(b[r]=lr({},y,Object(h.a)({},"Picture.likes",t.response.likes)),n.setState({like_picturesList:b}),e.setState({isLiked:t.response.isLiked})),n.setPopout(null)}))}],[l.a.createElement(Jn.a,null),"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",function(){return vr.bind(e)(!0,y,e.pictureActionsButton,{keyToSetChange:s,indexToSetChange:r})},function(t){return e.pictureActionsButton=t}],[l.a.createElement(zn.a,null),j,function(){n.privilege||y.drawerId!==m.id||n.setPopout(l.a.createElement(d.E,null,l.a.createElement("div",{className:"GameAfkWarning"},l.a.createElement("div",{className:"GameAfkWarning-Icon"},l.a.createElement(Qn.a,null)),l.a.createElement("div",{className:"GameAfkWarning-Title"},"\u041a\u0430\u0440\u0442\u0438\u043d\u0430 \u0443\u0434\u0430\u043b\u0438\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 ",j),l.a.createElement("div",{className:"GameAfkWarning-Description"},t?"\u0412 \u0441\u0442\u0430\u0442\u044c\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e, \u043a\u0430\u043a \u043f\u0440\u043e\u0434\u043b\u0438\u0442\u044c \u0430\u0432\u0442\u043e\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0440\u0438\u0441\u0443\u043d\u043a\u043e\u0432":"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443 avocado+, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043b\u0438\u0442\u044c \u0430\u0432\u0442\u043e\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0440\u0438\u0441\u0443\u043d\u043a\u043e\u0432"),l.a.createElement("div",{className:"GameAfkWarning-Button",style:{background:"rgba(255, 75, 75, 0.15)"},onClick:function(){t?Y("https://vk.com/@draw_app-avocadoplus"):n.go("vk_donut_avocado")}},t&&l.a.createElement(ya.a,{width:20,height:20}),t?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438":"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c"),l.a.createElement("div",{className:"GameAfkWarning-Button",style:{marginTop:8},onClick:function(){return n.setPopout(null)}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))))}]].map((function(e,t){return l.a.createElement("div",{key:"action_".concat(t),onClick:e[2],ref:e[3],style:x&&2===t?{opacity:.5,pointerEvents:"none"}:{}},e[0],l.a.createElement("span",null,e[1]))}))),l.a.createElement("div",{className:"PictureInfo-Author",onClick:function(){y.savedGame||(n.setPopout(l.a.createElement(d.G,null)),n.socket.call("users.getById",{id:y.drawerId},function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.socket.call("games.getByDrawerId",{id:y.drawerId},function(){var e=Object(k.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({author:lr({id:y.drawerId},t.response||{}),author_works:a.response});case 2:n.go("author"),n.setPopout(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},style:lr({},w?{}:{display:"none"})},l.a.createElement("div",null,"\u0410\u0432\u0442\u043e\u0440"),l.a.createElement("div",null,l.a.createElement(_a,{size:36,src:w&&w.photo_100,frame:w&&w.frame_type,color:w&&w.frame_color}),l.a.createElement("div",null,w&&w.first_name," ",w&&w.last_name))),l.a.createElement("div",{className:"PictureInfo-Arrows-ResumeDraw",style:{display:y.savedGame&&"none"}},l.a.createElement("div",{style:0===r?{opacity:.5,pointerEvents:"none"}:{},onClick:function(){n.setPopout(l.a.createElement(d.G,null)),n.socket.call("pictures.isLiked",{game_id:b[r-1].id},(function(t){e.setState({isLiked:t.response,canGetMore:!0,isReported:!1}),n.setState({like_currentPictureSelected:r-1,n_canvasData:void 0}),n.setPopout(null)}))}},l.a.createElement(qn.a,null)),l.a.createElement("div",{style:{background:"var(--gradient_green)",color:"#FFFFFF",display:y.drawerId!==n.state.vk_user.id&&"none"},onClick:function(){n.socket.call("games.canResumeDrawing",{gameId:y.id},function(){var e=Object(k.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.response){e.next=21;break}if(n.state.user.vk_donut){e.next=10;break}if(e.prev=2,!f.a.supports("VKWebAppShowNativeAds")){e.next=6;break}return e.next=6,f.a.send("VKWebAppShowNativeAds",{ad_format:"reward"});case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:if(y.history){e.next=14;break}return n.setPopout(l.a.createElement(d.G,null)),e.next=14,new Promise((function(e){return n.socket.call("games.getHistory",{id:y.id,nfg:!0,act:"edit_pic"},(function(t){t.response?(y.history=t.response,b[r]=y,n.setState(Object(h.a)({},s,b))):n.setSnackbar(t.error.message||"\u041e\u0448\u0438\u0431\u043a\u0430"),n.setPopout(null),e(!0)}))}));case 14:return console.log(y),e.next=17,n.setState({isOnlineDrawing:!1,word:{nom:y["Word.nom"]||y.Word.nom},pictureUrl_:y["Picture.url"]||y.Picture.url,game_:y,gameId_:y.id});case 17:console.log(n.state.word),n.go("game"),e.next=22;break;case 21:t?n.go("vk_donut_blocked"):n.go("vk_donut_avocado");case 22:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}())}},l.a.createElement($n.a,null)),l.a.createElement("div",{style:_?{}:{opacity:.5,pointerEvents:"none"},onClick:function(){var t=!1;r===b.length-1?o&&o.length>0?t=!0:e.setState({canGetMore:!1}):(n.socket.call("pictures.isLiked",{game_id:b[r+1].id},(function(t){e.setState({isLiked:t.response}),n.setState({like_currentPictureSelected:r+1,n_canvasData:void 0})})),r+1===b.length-1&&(e.setState({canGetMore:!1}),t=!0)),t&&o&&(n.setPopout(l.a.createElement(d.G,null)),n.socket.call(o,{offset:b.length,limit:10,id:c},function(){var t=Object(k.a)(g.a.mark((function t(a){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.response.length>0)){t.next=4;break}return t.next=3,me(a.response.map((function(e){return e.drawerId})));case 3:n.setState((r={},Object(h.a)(r,s,Object(v.a)(new Set([].concat(Object(v.a)(b),Object(v.a)(a.response))))),Object(h.a)(r,"n_canvasData",void 0),r));case 4:e.setState({canGetMore:a.response.length>0}),n.setPopout(null);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.setState({isReported:!1})}},l.a.createElement(er.a,null))),!n.newAdSupports&&p[8]&&l.a.createElement(d.F,{bannerData:p[8],onClose:Object(k.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p[8]=!1,t.next=3,n.setState({banners:p});case 3:e.forceUpdate();case 4:case"end":return t.stop()}}),t)})))})))}}]),t}(i.PureComponent);wr.defaultProps={};var Er=wr;function Cr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Cr(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Cr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _r=H(),Or=!1,Lr=!1,Sr=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(o.a)(this,Object(s.a)(t).call(this,e));var r=e.drawerId,c=e.winnerId,i=e.word,l=e.t;return a.state={isDrawer:r===l.state.vk_user.id,isWinner:c===l.state.vk_user.id,winnerId:c,drawerId:r,word:i,playAgain:!1,playAgainTick:10},a.shareStory=a.shareStory.bind(Object(y.a)(a)),a.back=a.back.bind(Object(y.a)(a)),a.checkSavePic=a.checkSavePic.bind(Object(y.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){P(["TT Commons Demibold"]),this.props.t.setState({chooseWords:[]})}},{key:"shareStory",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r,o,s,c,i,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.t.setPopout(l.a.createElement(d.G,null)),e.prev=1,t=this.state,a=t.isDrawer,n=t.isWinner,r=a?1:n?2:3,e.next=8,Q("https://photos.avocado.special.vk-apps.com/drawapp_search_images/stories/Story".concat(r,".png"));case 8:return o=e.sent,s=Object(_.createCanvas)(o.width,o.height),c=s.getContext("2d"),i=this.state.word,u=i.nom.substring(0,1).toUpperCase()+i.nom.substring(1),c.drawImage(o,0,0),1===r&&(c.font="64px TT Commons Demibold",c.textAlign="center",c.fillStyle="#616161",c.fillText(u,539,1210)),c.drawImage(this.imageRef,198,618,683,683),e.prev=16,e.next=19,f.a.send("VKWebAppShowStoryBox",{background_type:"image",blob:s.toDataURL("image/png"),attachment:{url:"https://vk.com/app"+z().vk_app_id,text:"go_to",type:"url"}});case 19:this.props.t.socket.call("games.share",{gameId:this.props.gameId}),$("stats.shareStory"),e.next=25;break;case 23:e.prev=23,e.t0=e.catch(16);case 25:this.props.t.updateData(),e.next=32;break;case 28:e.prev=28,e.t1=e.catch(1),console.error(e.t1),this.props.t.setSnackbar("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430");case 32:this.props.t.setPopout(null);case 33:case"end":return e.stop()}}),e,this,[[1,28],[16,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"back",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r,o,s,c,i,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.t,a=t.back,n=t.state,r=t.socket,o=t.setPopout,s=t.updateData,c=n.subGameInfo,i=n.api_manager,u=n.user,o(l.a.createElement(d.G,null));try{s()}catch(p){}1===i&&c.owner_id===u.id&&r.call("friends.leaveLobby",{owner_id:u.id}),o(null),a();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkSavePic",value:function(e,t){var a=this,n=this.state,r=n.isDrawer,o=n.isWinner,s=this.props.t,c=s.state,i=(c.user,c.api_manager);return!(!1===Or&&!1===Lr&&(r||o&&2===i)&&s.state.warning_saves<3)||(s.setState({warning_saves:s.state.warning_saves+1}),s.setAlert("\u0412\u044b \u043a\u043e\u0435-\u0447\u0442\u043e \u0437\u0430\u0431\u044b\u043b\u0438!","\u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u0440\u0438\u0441\u0443\u043d\u043e\u043a, \u0442\u043e \u043e\u043d \u0443\u0434\u0430\u043b\u0438\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 ".concat(N(s.privilege?30:3,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"]),". \u0421\u043e\u0432\u0435\u0442\u0443\u0435\u043c \u0412\u0430\u043c \u0435\u0433\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c."),[{title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",action:function(){fr.bind(a)(e),Or=!0,"function"===typeof t?t():t&&t.click()},autoclose:!0},{title:"\u041d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c",action:function(){"function"===typeof t?t():t&&t.click()},mode:"cancel",autoclose:!0}],"horizontal"),Lr=!0,!1)}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.gameId,r=a.state,o=r.vk_user,s=(r.user,r.isNotApp,r.api_manager),c=this.state,i=c.isDrawer,u=c.isWinner,p=c.winnerId,m=c.drawerId,v=c.word,b=c.isLiked,y=c.playAgain,w=c.playAgainTick,E=Math.round((a.state.gameEnd-a.state.gameStart)/1e3),C=2===s?[u?"\u0422\u044b \u043f\u043e\u0431\u0435\u0434\u0438\u043b".concat(1===o.sex?"\u0430":"","!"):"\u0423\u0432\u044b \u0438 \u0430\u0445!","\u0411\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043b\u043e \u0437\u0430 \u0440\u0438\u0441\u0443\u043d\u043e\u043a ".concat(ue[p].first_name_gen)]:i?0!==p?["\u0422\u044b \u043c\u043e\u043b\u043e\u0434\u0435\u0446!","\u0422\u0432\u043e\u044e \u043a\u0430\u0440\u0442\u0438\u043d\u0443 \u0443\u0433\u0430\u0434\u0430\u043b\u0438 \u0437\u0430 ".concat(N(E||0,["\u0441\u0435\u043a\u0443\u043d\u0434\u0443","\u0441\u0435\u043a\u0443\u043d\u0434\u044b","\u0441\u0435\u043a\u0443\u043d\u0434"]))]:["\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u0448\u043b\u043e","\u041d\u0438\u043a\u0442\u043e \u043d\u0435 \u0443\u0433\u0430\u0434\u0430\u043b, \u0447\u0442\u043e \u0442\u044b \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043b"]:0!==p?u?["\u0422\u044b \u043c\u043e\u043b\u043e\u0434\u0435\u0446!","\u0422\u044b \u043f\u0435\u0440\u0432".concat(1===o.sex?"\u0430\u044f":"\u044b\u0439"," \u0443\u0433\u0430\u0434\u0430\u043b").concat(1===o.sex?"\u0430":"",", \u0447\u0442\u043e \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043b").concat(1===ue[m].sex?"\u0430":""," ").concat(ue[m].first_name)]:["\u0418\u0433\u0440\u0430 \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430","".concat(ue[p].first_name," \u0431\u044b\u043b").concat(1===ue[p].sex?"\u0430":""," \u043f\u0435\u0440\u0432").concat(1===ue[p].sex?"\u043e\u0439":"\u044b\u043c",", \u043a\u0442\u043e \u0443\u0433\u0430\u0434\u0430\u043b, \u0447\u0442\u043e \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043e \u043d\u0430 \u0445\u043e\u043b\u0441\u0442\u0435")]:["\u0412\u0440\u0435\u043c\u044f \u0432\u044b\u0448\u043b\u043e","\u041d\u0438\u043a\u0442\u043e \u043d\u0435 \u0443\u0433\u0430\u0434\u0430\u043b, \u0447\u0442\u043e \u0445\u0443\u0434\u043e\u0436\u043d\u0438\u043a \u043f\u044b\u0442\u0430\u043b\u0441\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c"],x=Object(h.a)({Word:this.state.word,id:this.props.gameId},"Picture.url",a.state.canvas_),_=!a.state.subGameInfo||!a.state.subGameInfo.data||a.state.subGameInfo.data.saveGame;return l.a.createElement(l.a.Fragment,null,_r?l.a.createElement(d.s,{style:xr({position:"fixed",top:49,left:96},y?{visibility:"hidden",pointerEvents:"none"}:{}),onClick:function(){e.checkSavePic(x,e.back)&&e.back()}},l.a.createElement(Mn.a,{fill:"#F15F8A"})):l.a.createElement(d.A,{separator:!1,left:l.a.createElement(d.s,{style:y?{visibility:"hidden",pointerEvents:"none"}:{},onClick:function(){e.checkSavePic(x,e.back)&&e.back()}},l.a.createElement(Mn.a,{fill:"#F15F8A"}))}),l.a.createElement("div",{className:"Result_New"},v&&v.nom&&l.a.createElement("h2",null,v.nom.substring(0,1).toUpperCase()+v.nom.substring(1)),l.a.createElement("div",{className:"Canvas_Container"},l.a.createElement("img",{alt:"canvas",src:a.state.canvas_,ref:function(t){return e.imageRef=t}})),l.a.createElement("h1",null,C[0]),l.a.createElement("p",null,C[1]),y?l.a.createElement(l.a.Fragment,null,l.a.createElement(d.h,{style:{marginTop:"6.89655172vh"},stretched:!0,size:"l",mode:"pink_secondary",onClick:function(){}},l.a.createElement("div",{style:{opacity:.5,display:"flex",flexDirection:"column"}},l.a.createElement("span",null,"\u0416\u0434\u0451\u043c \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445"),l.a.createElement("span",{style:{fontSize:11,marginTop:-4}},w," \u0441."))),l.a.createElement(d.S,{style:{marginTop:12},photos:[o.photo_100],size:"m",visibleCount:5})):l.a.createElement(l.a.Fragment,null,l.a.createElement(d.h,{style:{marginTop:"6.89655172vh"},stretched:!0,size:"l",mode:"gradient_pink",getRef:function(t){return e.playAgainButton=t},onClick:Object(k.a)(g.a.mark((function t(){var n,r,o,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.checkSavePic(x,e.playAgainButton)){t.next=2;break}return t.abrupt("return");case 2:return n=e.props.t,r=n.socket,o=n.state,c=o.subGameInfo,t.next=5,a.actionAfterGame(!0);case 5:a.updateData(),1===s?(a.setPopout(l.a.createElement(d.G,null)),r.call("friends.joinLobby",{owner_id:c.owner_id},function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.response){e.next=8;break}return e.next=3,me(t.response.members);case 3:return e.next=5,a.setState({friend_lobby:t.response});case 5:a.vkChatIntegration||a.isFromCatalogChat?a.setActivePanel("friend_lobby",["main"]):a.setActivePanel("friend_lobby",["main","friends"]),e.next=9;break;case 8:a.vkChatIntegration||a.isFromCatalogChat?a.setActivePanel("main"):a.setActivePanel("friends",["main"]);case 9:a.showNewAd(),a.setPopout(null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):(a.setActivePanel("search_game",["main"]),a.showNewAd());case 7:case"end":return t.stop()}}),t)})))},"\u0418\u0433\u0440\u0430\u0442\u044c \u0435\u0449\u0451 \u0440\u0430\u0437"),l.a.createElement("div",{style:{display:"flex",gap:8,marginTop:8,width:"100%"}},l.a.createElement(d.h,{stretched:!0,size:"l",mode:"pink_secondary",before:l.a.createElement(Nn.a,{width:16,height:16}),getRef:function(t){return e.shareButton=t},onClick:function(){a.setPopout(l.a.createElement(d.a,{onClose:function(){return a.setPopout(null)},iosCloseItem:l.a.createElement(d.b,{autoclose:!0,mode:"cancel"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),toggleRef:e.shareButton},l.a.createElement(d.b,{autoclose:!0,before:l.a.createElement(Tn.a,null),onClick:function(){dr.bind(e)(x)}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"),l.a.createElement(d.b,{autoclose:!0,before:l.a.createElement(Bn.a,null),onClick:function(){var e=JSON.stringify(a.state.game_logs);f.a.send("VKWebAppCopyText",{text:e}),a.setSnackbar("\u041b\u043e\u0433\u0438 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u044b",{buttonText:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",buttonAction:function(){return Y("https://vk.com/write-208964042")}})}},"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043b\u043e\u0433\u0438")))}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"),(i||u&&2===s)&&l.a.createElement(d.h,{stretched:!0,size:"l",mode:"pink_secondary",before:l.a.createElement(Da.a,{width:16,height:16}),onClick:function(){fr.bind(e)(x),Or=!0}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))),l.a.createElement("div",{className:"Actions_Container"},_&&l.a.createElement(d.s,{onClick:function(){a.setPopout(l.a.createElement(d.G,null)),a.socket.call("pictures.like",{game_id:n},(function(t){t.response?e.setState({isLiked:t.response.isLiked}):a.setSnackbar(t.error.message),a.setPopout(null)}))}},b?l.a.createElement(Wn.a,{fill:"#F16384",width:28,height:28}):l.a.createElement(Rn.a,{fill:"var(--color_secondary)"})),!i&&(2!==s||!u)&&_&&l.a.createElement(d.s,{onClick:function(){a.setPopout(l.a.createElement(d.G,null)),a.socket.call("games.report",{game_id:n},(function(e){e.response?a.setSnackbar("\u0416\u0430\u043b\u043e\u0431\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430"):a.setSnackbar("\u0416\u0430\u043b\u043e\u0431\u0430 \u0443\u0436\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430"),a.setPopout(null)}))}},l.a.createElement(Gn.a,{fill:"var(--color_secondary)"})))))}}]),t}(i.PureComponent);Sr.defaultProps={};var Pr=Sr,jr=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.icon,n=e.title,r=e.description,o=e.buttonText,s=e.buttonIcon,c=e.buttonOnClick,i=e.buttonMode,u=e.buttonBack,p=e.buttonBackOnClick,m=e.buttonBackText;return l.a.createElement(l.a.Fragment,null,u&&!1,l.a.createElement("div",{className:"Placeholder_Clean"},l.a.cloneElement(a,{className:"Placeholder__Icon"}),l.a.createElement("div",null,l.a.createElement("h1",null,n),l.a.createElement("p",null,r),l.a.createElement("div",{className:u?"TwoButtons":"OneButton"},o&&l.a.createElement(d.h,{after:s,size:"m",mode:i||"gradient",onClick:c},o),u&&l.a.createElement(d.h,{size:"m",mode:"secondary",onClick:function(){p&&"function"===typeof p?p():t.back()}},m||"\u041d\u0430\u0437\u0430\u0434")))))}}]),t}(i.PureComponent);jr.defaultProps={};var Ar=jr,Dr=a(388),Fr=a.n(Dr),Ir=function(){function e(){Object(n.a)(this,e),this.onConnect=this.onConnect.bind(this),this.onDisconnect=this.onDisconnect.bind(this),this.onConnectionError=this.onConnectionError.bind(this),this.call=this.call.bind(this),this.subscribe=this.subscribe.bind(this),this.unsubscribe=this.unsubscribe.bind(this),this.connect=this.connect.bind(this),this.getSocket=this.getSocket.bind(this)}return Object(r.a)(e,[{key:"onConnect",value:function(e){this.socket.on("connect",e)}},{key:"onDisconnect",value:function(e){this.socket.on("disconnect",e)}},{key:"onConnectionError",value:function(e){this.socket.on("connect_error",e)}},{key:"call",value:function(e,t,a){this.socket.emit(e,t,a)}},{key:"subscribe",value:function(e,t){this.socket.on(e,t)}},{key:"unsubscribe",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];for(var n=0,r=t;n<r.length;n++){var o=r[n];this.socket.removeAllListeners(o)}}},{key:"connect",value:function(e,t){this.socket?this.socket.connect():this.socket=Fr.a.connect(e,{path:"/socket.io",query:t,transports:["websocket","polling","flashsocket"],reconnection:!1,pingTimeout:6e4})}},{key:"getSocket",value:function(){return this.socket}}]),e}(),Mr=a(815),Nr=a(816);function Tr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Br(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Tr(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Wr=V(),Rr=[],Gr=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={offset:e.t.state.picturesFeed.length,limit:5,canGetMore:!0,prevY:0,fetchEnd:!0,filter:"n"},a.changeFilter=a.changeFilter.bind(Object(y.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef),this.props.t.state.scrollPositionFeed&&(console.log("Scroll to ".concat(this.props.t.state.scrollPositionFeed)),setTimeout((function(){return document.body.scrollTop=t.props.t.state.scrollPositionFeed}),800));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleObserver",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r,o,s,c,i,l,u,p=this,d=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d.length>0&&void 0!==d[0]?d[0]:[{boundingClientRect:{y:0}}],d.length>1?d[1]:void 0,a=t[0].boundingClientRect.y,n=this.props.t,r=this.state,o=r.fetchEnd,s=r.prevY,c=r.offset,i=r.limit,l=r.filter,u=r.canGetMore,(0===s||s>a)&&u&&!1!==o&&(this.setState({spinner:!0,fetchEnd:!1}),n.socket.call("pictures.getFeed",{offset:c,limit:i,filter:l},function(){var e=Object(k.a)(g.a.mark((function e(t){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(t.response.map((function(e){return e.drawerId})));case 2:if(a=oe([].concat(Object(v.a)(n.state.picturesFeed),Object(v.a)(t.response))),r=t.response.length>0,a.length===n.state.picturesFeed.length+i||!r){e.next=9;break}return e.next=7,p.setState({canGetMore:r,offset:c+i-(a.length-n.state.picturesFeed.length),fetchEnd:!0});case 7:return p.handleObserver(),e.abrupt("return");case 9:return e.next=11,n.setState({picturesFeed:a});case 11:return e.next=13,p.setState({canGetMore:r,spinner:!1,offset:a.length});case 13:p.forceUpdate(),setTimeout((function(){p.setState({fetchEnd:!0})}),1e3);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),this.setState({prevY:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeFilter",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.t,"n"!==(a=this.state.filter)){e.next=14;break}return e.next=5,t.getFriendsIds();case 5:if(!(n=e.sent)){e.next=12;break}return a=n,e.next=10,t.setState({picturesFeed:[]});case 10:return e.next=12,this.setState({canGetMore:!0,filter:a,offset:0});case 12:e.next=21;break;case 14:return a="n",e.next=17,t.setState({picturesFeed:[]});case 17:return e.next=19,this.setState({canGetMore:!0,filter:a,offset:0});case 19:return e.next=21,this.forceUpdate();case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t,a=t.state,n=t.socket,r=a.picturesFeed,o=a.user,s=this.state,c=s.spinner,i=s.filter;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-ManyCards"},l.a.createElement("div",null,l.a.createElement(Mr.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u041b\u0435\u043d\u0442\u0430"),l.a.createElement("p",null,"\u041e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0439\u0442\u0435 \u043d\u0435\u0434\u0430\u0432\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u044b \u043f\u0440\u044f\u043c\u043e \u0437\u0434\u0435\u0441\u044c. \u0422\u043e\u043b\u044c\u043a\u043e \u043d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c\u0442\u0435 \u043e\u0446\u0435\u043d\u0438\u0442\u044c \u0438\u0445")),l.a.createElement("div",{className:"Panel_Container_Card-Buttons"},l.a.createElement(d.h,{stretched:!0,size:"m",mode:"gradient_blue",onClick:Object(k.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.changeFilter();case 2:e.handleObserver();case 3:case"end":return t.stop()}}),t)})))},"n"===i?"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0438\u0441\u0443\u043d\u043a\u0438 \u0434\u0440\u0443\u0437\u0435\u0439":"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a\u043e \u0432\u0441\u0435\u043c \u0440\u0438\u0441\u0443\u043d\u043a\u0430\u043c"))),r.map((function(a,s){var c=ue[a.drawerId],i=c.photo_100,u=c.first_name,p=c.last_name,m=c.frame_type,f=c.frame_color;return l.a.createElement("div",{key:"Card-".concat(s)},l.a.createElement("div",{onClick:function(){t.setPopout(l.a.createElement(d.G,null)),t.socket.call("users.getById",{id:a.drawerId},function(){var e=Object(k.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.socket.call("games.getByDrawerId",{id:a.drawerId},function(){var e=Object(k.a)(g.a.mark((function e(r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({author:Br({id:a.drawerId},n.response||{}),author_works:r.response,scrollPositionFeed:document.body.scrollTop});case 2:t.go("author"),t.setPopout(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},l.a.createElement(_a,{size:36,src:i,frame:m,color:f,iosOptimize:Wr}),l.a.createElement("div",null,l.a.createElement("p",null,u," ",p),l.a.createElement("p",null,a.Word.nom," \xb7 ",Math.round((a.endTime-a.startTime)/1e3),"\u0441."))),l.a.createElement("div",null,l.a.createElement("img",{alt:"picture",src:a.Picture.url,style:{display:Rr.indexOf(s)>-1&&"none"},onClick:Object(k.a)(g.a.mark((function n(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(o[or[1].userAttr]>0||o.admin)){n.next=12;break}return o[or[1].userAttr]>0&&(o[or[1].userAttr]-=1,t.setState({user:o})),Rr.push(s),e.forceUpdate(),t.setPopout(l.a.createElement(d.G,null)),n.next=7,new Promise((function(e){return t.socket.call("games.getHistory",{id:a.id,act:"animation",nfg:!!a.history},(function(n){console.log("getHistory",n.response),console.log("nfg = ",!!a.history),n.response?"object"===typeof n.response&&(console.log("setHistory",a),a.history=n.response,r[s]=a,t.setState({picturesFeed:r})):t.setSnackbar(n.error.message||"\u041e\u0448\u0438\u0431\u043a\u0430"),e(!0)}))}));case 7:return t.setPopout(null),n.next=10,kr(document.getElementById("canvas".concat(s)),a,Object(k.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Rr.splice(Rr.indexOf(s),1),e.forceUpdate();case 2:case"end":return t.stop()}}),t)}))));case 10:n.next=13;break;case 12:t.setSnackbar("\u0427\u0442\u043e\u0431\u044b \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u044d\u0442\u0438\u043c, \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u0435 \u043c\u0430\u0433\u0430\u0437\u0438\u043d.",{buttonText:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438",buttonAction:function(){return t.go("shop")}});case 13:case"end":return n.stop()}}),n)})))}),l.a.createElement("canvas",{style:{display:-1===Rr.indexOf(s)&&"none"},width:638,height:638,id:"canvas".concat(s)})),l.a.createElement("div",null,l.a.createElement("div",{style:Br({},a.isLiked?{background:"var(--gradient_pink)",color:"var(--panel_container_card_background)"}:{}),onClick:function(){t.setPopout(l.a.createElement(d.G,null)),n.call("pictures.like",{game_id:a.id},function(){var n=Object(k.a)(g.a.mark((function n(o){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!o.response){n.next=7;break}return a.Picture.likes=o.response.likes,a.isLiked=o.response.isLiked,r[s]=a,n.next=6,t.setState({picturesFeed:r});case 6:e.forceUpdate();case 7:t.setPopout(null);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},l.a.createElement(Rn.a,{width:20,height:20}),l.a.createElement("span",null,T(a.Picture.likes))),l.a.createElement("div",{onClick:function(){return vr.bind(e)(!1,a,e["pictureActionsButton".concat(s)])},ref:function(t){e["pictureActionsButton".concat(s)]=t}},l.a.createElement(Nr.a,{width:20,height:20})),l.a.createElement("div",{onClick:function(){t.setPopout(l.a.createElement(d.G,null)),t.state.user.admin?t.socket.call("admin.removeReportedGame",{game:a.id},(function(a){a.response?t.setSnackbar("\u0418\u0433\u0440\u043e\u043a \u0431\u044b\u043b \u043d\u0430\u043a\u0430\u0437\u0430\u043d."):t.setSnackbar("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430."),e.setState({isReported:!0}),t.setPopout(null)})):t.socket.call("games.report",{game_id:a.id},(function(a){a.response?t.setSnackbar("\u0416\u0430\u043b\u043e\u0431\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430"):t.setSnackbar(a.error.message),e.setState({isReported:!0}),t.setPopout(null)}))}},l.a.createElement(Gn.a,{width:20,height:20}))))})),c&&l.a.createElement("div",null,l.a.createElement(d.M,{size:"small"})),l.a.createElement("div",{ref:function(t){return e.loadingRef=t},className:"LoadingRef"})))}}]),t}(i.PureComponent);Gr.defaultProps={};var Ur=Gr,zr=a(817),Vr=a(818),Hr=a(819),Kr=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={offset:e.t.state.author_works.length,limit:50,canGetMore:!0,prevY:0,sort:"DESC",mode:"default"},a.onChangeSort=a.onChangeSort.bind(Object(y.a)(a)),a.switchMode=a.switchMode.bind(Object(y.a)(a)),a.state.inBookmarks=!!e.t.bookmarkAction("f",0,e.t.state.author.id),console.log({inBookmarks:a.state.inBookmarks}),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){console.log({author:this.props.t.state.author}),this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef);var e=this.props.t.state.scrollPositionAuthor;e&&(console.log("Scroll to ".concat(e)),setTimeout((function(){return document.body.scrollTop=e}),800)),this.props.t.setState({gamesSaves:[]})}},{key:"handleObserver",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r,o,s,c,i,l,u,p,d,m,f=this,b=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=b.length>0&&void 0!==b[0]?b[0]:[{boundingClientRect:{y:0}}],b.length>1?b[1]:void 0,a=t[0].boundingClientRect.y,n=this.props.t,r=this.state,o=r.mode,s=r.prevY,c=r.limit,i=r.canGetMore,l=r.sort,u=this.state["offset_".concat(o)]||0,!(0===s||s>a)||!i){e.next=34;break}if(this.setState({spinner:!0}),"default"!==o){e.next=9;break}n.socket.call("games.getByDrawerId",{id:n.state.author.id,offset:u,limit:c,sort:l},function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[].concat(Object(v.a)(n.state.author_works),Object(v.a)(t.response)),n.setState({author_works:oe(a)}),f.setState({canGetMore:t.response.length>0,spinner:!1}),f.forceUpdate();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=33;break;case 9:if("saves"!==o){e.next=33;break}return e.next=12,Ka("photos");case 12:if(!(p=e.sent)){e.next=33;break}return e.prev=14,e.next=17,K("photos.get",{access_token:p,owner_id:n.state.author.id,album_id:n.state.author.albumSavesPictures,offset:u,count:c,rev:1});case 17:if(!(d=e.sent).items){e.next=28;break}return e.t0=[],e.t1=Object(v.a)(n.state.gamesSaves.filter((function(e){return e.drawerId===n.state.author.id}))),e.t2=v.a,e.next=24,Promise.all(d.items.map(function(){var e=Object(k.a)(g.a.mark((function e(t){var a,r,o,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="\u0421\u043b\u043e\u0432\u043e: ",e.next=3,Q(t.sizes.find((function(e){return 1080===e.width})).url);case 3:return o=e.sent,e.next=6,Object(_.createCanvas)(899,899);case 6:return s=e.sent,J(s.getContext("2d"),o,130,{x:-90,y:-672,width:o.width,height:o.height},{x:0,y:0,width:s.width,height:s.height}),e.abrupt("return",(a={},Object(h.a)(a,"Picture.url",s.toDataURL("image/png")),Object(h.a)(a,"Word.nom",t.text.includes(r)&&t.text.substring(t.text.indexOf(r)+r.length)),Object(h.a)(a,"drawerId",n.state.author.id),Object(h.a)(a,"savedGame",!0),Object(h.a)(a,"id",t.id),a));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 24:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),m=e.t0.concat.call(e.t0,e.t1,e.t4),n.setState({gamesSaves:oe(m)});case 28:e.next=33;break;case 30:e.prev=30,e.t5=e.catch(14),[200,30].indexOf(e.t5.error_data.error_code)>-1&&(n.setSnackbar("\u0410\u0432\u0442\u043e\u0440 \u0441\u043a\u0440\u044b\u043b \u0441\u0432\u043e\u0438 \u0440\u0430\u0431\u043e\u0442\u044b :("),this.switchMode());case 33:this.setState(Object(h.a)({},"offset_".concat(o),u+c));case 34:this.setState({prevY:a});case 35:case"end":return e.stop()}}),e,this,[[14,30]])})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeSort",value:function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.t,e.next=3,this.setState({spinner:!0,sort:t.target.value,offset:0,prevY:0,canGetMore:!0});case 3:return e.next=5,a.setState({author_works:[]});case 5:this.forceUpdate(),this.handleObserver();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"switchMode",value:function(){var e=this.props.t,t="saves"===this.state.mode?"default":"saves";e.setPopout(l.a.createElement(d.G,null)),"saves"===t?(this.setState({mode:t,canGetMore:!0}),this.handleObserver()):"default"===t&&(this.setState({mode:t,canGetMore:!0}),this.handleObserver()),e.setPopout(null)}},{key:"render",value:function(){var e=this,t=this.props.t,a=t.state,n=t._tags,r=a.author,o=ue[r.id],s=this.state,c=s.sort,i=s.spinner,u=s.mode,p=s.inBookmarks,m="default"===u?"author_works":"gamesSaves",f=t.state[m];return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Profile Author"},l.a.createElement("div",{className:"UserAvatarCover"},l.a.createElement("img",{alt:"cover",src:o.photo_max_orig})),l.a.createElement("div",{className:"UserInfoContainer"},l.a.createElement(_a,{size:100,src:o.photo_100,frame:o.frame_type,color:o.frame_color,badge:!0,badgeValue:r.online,onClick:function(){return Y("https://vk.com/id".concat(o.id))}}),l.a.createElement("div",{className:"UserNameTags"},l.a.createElement("div",{className:"AuthorName"},l.a.createElement("h1",null,o.first_name," ",o.last_name)),l.a.createElement("div",{className:"UserTags"},(r.active_tags||[]).map((function(e,a){var r=n().find((function(t){return t[0]===e}));return l.a.cloneElement(r[1],{key:"tag".concat(a),onClick:function(){return t.setActiveModal(r[0])}})})))),l.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},l.a.createElement("div",{className:"Panel_Container_Card-Buttons",style:{width:"calc(100% - 36px * 2)",marginTop:24}},l.a.createElement("div",{className:"CustomIconButton",ref:function(t){return e.buttonSort=t},onClick:function(){t.setPopout(l.a.createElement(d.a,{onClose:function(){return t.setPopout(null)},iosCloseItem:l.a.createElement(d.b,{autoclose:!0,mode:"cancel"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),toggleRef:e.buttonSort},l.a.createElement(d.b,{autoclose:!0,before:l.a.createElement(zr.a,null),onChange:e.onChangeSort,name:"sort",value:"DESC",checked:"DESC"===c,selectable:!0},"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435"),l.a.createElement(d.b,{autoclose:!0,before:l.a.createElement(Vr.a,null),onChange:e.onChangeSort,name:"sort",value:"ASC",checked:"ASC"===c,selectable:!0},"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0442\u0430\u0440\u044b\u0435")))},style:{display:"saves"===u&&"none"}},l.a.createElement(Hr.a,{width:22,height:22})),l.a.createElement(d.h,{stretched:!0,size:"m",mode:"gradient_blue",before:"default"===u?l.a.createElement(Da.a,{width:16,height:16}):l.a.createElement(Fa.a,{width:16,height:16}),onClick:this.switchMode,style:{display:!(t.state.author.albumSavesPictures>-1)&&"none"}},"default"===u?"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0440\u0438\u0441\u0443\u043d\u043a\u0438":"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0433\u0430\u043b\u0435\u0440\u0435\u0435"),l.a.createElement("div",{className:"CustomIconButton",onClick:Object(k.a)(g.a.mark((function a(){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.bookmarkAction(p?"r":"a",0,r.id),e.setState({inBookmarks:!p});case 2:case"end":return a.stop()}}),a)})))},p?l.a.createElement(Vn.a,{width:22,height:22}):l.a.createElement(Hn.a,{width:22,height:22}))),l.a.createElement("div",{className:"AuthorWorks"},f.map((function(e,a){return l.a.createElement("div",{key:"Image_".concat(a),onClick:Object(k.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({like_currentPictureSelected:a,like_method:"games.getByDrawerId",like_param:m,like_user_id:r.id,scrollPositionAuthor:document.body.scrollTop});case 2:"picture_info"===(n=t.state.history)[n.length-1]?t.back():t.go("picture_info");case 4:case"end":return e.stop()}}),e)})))},l.a.createElement("img",{alt:"img",src:e["Picture.url"]}))})),i&&l.a.createElement(d.M,{size:"small"}),l.a.createElement("div",{ref:function(t){return e.loadingRef=t},className:"LoadingRef"}))))))}}]),t}(i.PureComponent);Kr.defaultProps={};var Zr,Yr=Kr,Xr=a(820),Jr=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={active_tags:e.t.state.user.active_tags||[]},a.selectTag=a.selectTag.bind(Object(y.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"selectTag",value:function(){var e=Object(k.a)(g.a.mark((function e(t){var a,n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.t,n=this.state.active_tags,r=a.state.user,o=a.privilege?5:3,!r[t]){e.next=17;break}return n.indexOf(t)>-1?n.splice(n.indexOf(t),1):n.push(t),n.length>o&&n.splice(n.length-2,1),console.log({active_tags:n}),clearTimeout(Zr),Zr=setTimeout((function(){a.socket.call("users.saveTags",{tags:n},(function(e){return console.log(e)}))}),2e3),r.active_tags=n,a.setState({user:r}),e.next=14,this.setState({active_tags:n});case 14:this.forceUpdate(),e.next=18;break;case 17:a.setSnackbar("\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u044d\u0442\u043e\u0439 \u043c\u0435\u0442\u043a\u0438.");case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t,a=t._tags,n=this.state.active_tags,r=t.state.user,o=t.privilege?5:3;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-ManyCards"},l.a.createElement("div",null,l.a.createElement(Xr.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u041c\u0435\u0442\u043a\u0438"),l.a.createElement("p",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 ",3===o?"\u0442\u0440\u0438 \u043c\u0435\u0442\u043a\u0438":"\u043f\u044f\u0442\u044c \u043c\u0435\u0442\u043e\u043a",", \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0432 \u0432\u0430\u0448\u0435\u043c \u043f\u0440\u043e\u0444\u0438\u043b\u0435")),l.a.createElement("div",{className:"Panel_Container_Card-Buttons"},l.a.createElement(d.h,{stretched:!0,size:"m",mode:"gradient_gray",onClick:Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.showOnboard("tag");case 2:case"end":return e.stop()}}),e)})))},"\u0427\u0442\u043e \u044d\u0442\u043e \u0438 \u0437\u0430\u0447\u0435\u043c?"))),a().map((function(t,a){return l.a.createElement("div",{key:"tag-".concat(a),onClick:function(){return e.selectTag(t[0])}},t[1],l.a.createElement("div",null,l.a.createElement("h1",null,t[2]),l.a.createElement("p",null,t[3])),l.a.createElement(d.j,{disabled:!r[t[0]],checked:n.indexOf(t[0])>-1,onClick:function(){return e.selectTag(t[0])}}))}))))}}]),t}(i.PureComponent);Jr.defaultProps={};var Qr=Jr,qr=a(821),$r=a(822),eo=H(),to=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={friends:[],others:[],players_count:{}},a.updateFriends=a.updateFriends.bind(Object(y.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"updateFriends",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.t.socket,e.t0=t,e.next=4,this.props.t.getFriendsIds();case 4:e.t1=e.sent,e.t2={ids:e.t1},e.t3=function(){var e=Object(k.a)(g.a.mark((function e(t){var n,r,o,s,c,i,l,u,p,d,m,f,h,b;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.error){e.next=4;break}a.props.t.setSnackbar(t.error.message),e.next=32;break;case 4:for(n=t.response,r=n.friend_lobbies,o=n.public_lobbies,s=[].concat(Object(v.a)(r),Object(v.a)(o)),c=r.map((function(e){return e.lobbyId})),i=o.map((function(e){return e.lobbyId})),l=Object(v.a)(new Set([].concat(Object(v.a)(c),Object(v.a)(i)))),u=a.state.players_count,p=!0,d=!1,m=void 0,e.prev=13,f=s[Symbol.iterator]();!(p=(h=f.next()).done);p=!0)b=h.value,u[b.lobbyId]=[b.count,b.max];e.next=21;break;case 17:e.prev=17,e.t0=e.catch(13),d=!0,m=e.t0;case 21:e.prev=21,e.prev=22,p||null==f.return||f.return();case 24:if(e.prev=24,!d){e.next=27;break}throw m;case 27:return e.finish(24);case 28:return e.finish(21);case 29:return e.next=31,me(l);case 31:a.setState({players_count:u,friends:c,others:i});case 32:case"end":return e.stop()}}),e,null,[[13,17,21,29],[22,,24,28]])})));return function(t){return e.apply(this,arguments)}}(),e.t0.call.call(e.t0,"friends.getLobbies",e.t2,e.t3);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this,t=this.props.t.socket;t.unsubscribe("createLobby","removeLobby"),t.subscribe("createLobby",function(){var t=Object(k.a)(g.a.mark((function t(a){var n,r,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,r=n.friends,o=n.others,!a.changeMode||-1!==o.indexOf(a.id)||-1!==r.indexOf(a.id)){t.next=7;break}return t.next=4,me([a.id]);case 4:e.setState({others:[].concat(Object(v.a)(o),[a.id])}),t.next=8;break;case 7:a.changeMode||-1!==r.indexOf(a.id)||e.setState({friends:[].concat(Object(v.a)(r),[a.id])});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.subscribe("removeLobby",function(){var t=Object(k.a)(g.a.mark((function t(a){var n,r,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,r=n.friends,o=n.others,a.changeMode&&o.indexOf(a.id)>-1&&-1===r.indexOf(a.id)?(o.splice(o.indexOf(a.id),1),e.setState({others:o})):!a.changeMode&&r.indexOf(a.id)>-1&&(r.splice(r.indexOf(a.id),1),e.setState({friends:r})),e.forceUpdate();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.subscribe("changeLobbyPlayersCount",function(){var t=Object(k.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=e.state.players_count)[a.lobbyId]=[a.count,a.max],e.setState({players_count:n}),e.forceUpdate();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.updateFriends()}},{key:"render_old",value:function(){var e=this,t=this.props.t,a=t.socket,n=t.state,r=(n.user,n.banners),o=this.state,s=o.friends,c=o.others;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:t.back}),separator:!1},eo&&"\u0414\u0440\u0443\u0436\u0435\u0441\u043a\u0430\u044f \u0438\u0433\u0440\u0430"),l.a.createElement("div",{className:"Friends"},!eo&&l.a.createElement("h2",{style:{textAlign:"left"}},"\u0414\u0440\u0443\u0436\u0435\u0441\u043a\u0430\u044f \u0438\u0433\u0440\u0430"),l.a.createElement("p",{style:{margin:"8px 40px 0 0"}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043b\u043e\u0431\u0431\u0438 \u043c\u043e\u0436\u0435\u0442 \u043b\u044e\u0431\u043e\u0439 \u0447\u0435\u043b\u043e\u0432\u0435\u043a."),l.a.createElement("p",{style:{margin:"4px 40px 0 0"}},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u2013 \u0434\u043e 20."),l.a.createElement("p",{style:{margin:"4px 40px 0 0"}},l.a.createElement(d.u,{target:"_blank",href:"https://vk.com/@draw_app-lobby"},"\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u0442\u0443\u0442 \ud83d\udd16")),l.a.createElement("div",{style:{display:"flex",marginTop:24}},l.a.createElement(d.h,{stretched:!0,size:"m",mode:"gradient_violet",onClick:function(){t.setPopout(l.a.createElement(d.G,null)),a.call("friends.createLobby",{},(function(e){e.response?(t.setState({friend_lobby:e.response}),t.go("friend_lobby"),t.setPopout(null)):t.setAlert("\u041e\u0448\u0438\u0431\u043a\u0430",e.error.message,[{title:"\u041e\u043a",mode:"cancel",autoclose:!0}])}))}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043b\u043e\u0431\u0431\u0438"),l.a.createElement(d.h,{style:{marginLeft:4},stretched:!0,size:"m",mode:"gradient_gray",onClick:Object(k.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateFriends();case 2:case"end":return t.stop()}}),t)})))},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a")),l.a.createElement("div",{className:"FriendsList",style:{paddingBottom:!t.newAdSupports&&r[7]&&140}},s.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"Span"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u0430, \u0432 \u0447\u044c\u0451 \u043b\u043e\u0431\u0431\u0438 \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f:"),l.a.createElement("div",{style:{marginTop:8}},s.filter((function(e){return ue[e]})).map((function(e,n){return l.a.createElement(d.J,{key:"SCell_".concat(n),before:l.a.createElement(d.f,{size:32,shadow:!1,src:ue[e].photo_100}),expandable:!0,onClick:function(){a.call("friends.joinLobby",{owner_id:e},function(){var e=Object(k.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(a.response.members);case 2:return e.next=4,t.setState({friend_lobby:a.response});case 4:t.go("friend_lobby");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},ue[e].first_name," ",ue[e].last_name.substring(0,1),".")})))):l.a.createElement("span",{className:"Span"},"\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0445 \u043b\u043e\u0431\u0431\u0438 \u043d\u0435\u0442."),c.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("div",{className:"Span",style:{marginTop:12}},"\u0414\u0440\u0443\u0433\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0438:"),l.a.createElement("div",{style:{marginTop:8}},c.filter((function(e){return ue[e]})).map((function(e,n){return l.a.createElement(d.J,{key:"SCell_".concat(n),before:l.a.createElement(d.f,{size:32,shadow:!1,src:ue[e].photo_100}),expandable:!0,onClick:function(){a.call("friends.joinLobby",{owner_id:e},function(){var e=Object(k.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(a.response.members);case 2:return e.next=4,t.setState({friend_lobby:a.response});case 4:t.go("friend_lobby");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},ue[e].first_name," ",ue[e].last_name.substring(0,1),".")}))))),!t.newAdSupports&&r[7]&&l.a.createElement(d.F,{bannerData:r[7],onClose:Object(k.a)(g.a.mark((function a(){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r[7]=!1,a.next=3,t.setState({banners:r});case 3:e.forceUpdate();case 4:case"end":return a.stop()}}),a)})))})))}},{key:"render",value:function(){var e=this.props.t,t=e.socket,a=(e.state.user,this.state),n=a.friends,r=a.others,o=a.players_count,s=Object(v.a)(new Set([].concat(Object(v.a)(n),Object(v.a)(r)))).filter((function(e){return ue[e]&&o[e]}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:e.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-TwoCards"},l.a.createElement("div",null,l.a.createElement(qr.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u0414\u0440\u0443\u0436\u0435\u0441\u043a\u0430\u044f \u0438\u0433\u0440\u0430"),l.a.createElement("p",null,"\u0418\u0433\u0440\u0430\u0439\u0442\u0435 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441\u043e \u0441\u0432\u043e\u0438\u043c\u0438 \u0434\u0440\u0443\u0437\u044c\u044f\u043c\u0438 \u0438 \u0443\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0439\u0442\u0435 \u0441\u043e\u0440\u0435\u0432\u043d\u043e\u0432\u0430\u043d\u0438\u044f!")),l.a.createElement("div",{className:"Panel_Container_Card-Buttons"},l.a.createElement(d.h,{stretched:!0,size:"m",mode:"gradient_violet",onClick:function(){e.setPopout(l.a.createElement(d.G,null)),t.call("friends.createLobby",{},(function(t){t.response?(e.setState({friend_lobby:t.response}),e.go("friend_lobby"),e.setPopout(null)):e.setAlert("\u041e\u0448\u0438\u0431\u043a\u0430",t.error.message,[{title:"\u041e\u043a",mode:"cancel",autoclose:!0}])}))}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043b\u043e\u0431\u0431\u0438"),l.a.createElement(d.h,{stretched:!0,size:"m",mode:"gradient_gray",onClick:function(){Y("https://vk.com/@draw_app-avocadoplus")}},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"))),l.a.createElement("div",null,s.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"Panel_Container_Card-Header"},"\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u0433\u0440\u043e\u043a\u043e\u0432"),l.a.createElement("div",{className:"MiniCards"},s.map((function(a,n){var r=ue[a],s=r.photo_100,c=r.first_name,i=r.last_name,u=r.frame_type,p=r.frame_color;return l.a.createElement("div",{className:"MiniCard",key:"Card-".concat(n),onClick:function(){t.call("friends.joinLobby",{owner_id:a},function(){var t=Object(k.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me(a.response.members);case 2:return t.next=4,e.setState({friend_lobby:a.response});case 4:e.go("friend_lobby");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},l.a.createElement(_a,{size:32,src:s,frame:u,color:p}),l.a.createElement("div",null,l.a.createElement("span",null,c," ",i.substring(0,1),"."),l.a.createElement("div",null,l.a.createElement($r.a,null),l.a.createElement("span",null,o[a][0]," \u0438\u0437 ",o[a][1]))))})))):l.a.createElement("p",{className:"Panel_Container_Card-Header Panel_Container_Card-Header-Center"},"\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0445 \u043b\u043e\u0431\u0431\u0438 \u043d\u0435\u0442"))))}}]),t}(i.PureComponent);to.defaultProps={};var ao=to,no=a(823),ro=a(824),oo=H(),so=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={removed:!1,ready:[],members:[],splashShow:!1},setTimeout(Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.t.state.friend_lobby,e.next=3,me(t.members);case 3:a.setState({members:t.members,ready:t.ready}),console.log({friend_lobby:t});case 5:case"end":return e.stop()}}),e)}))),1),a.playerComponent=a.playerComponent.bind(Object(y.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r,o,s,c=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.t,e.next=3,t.log("game_logs");case 3:a=t.socket,n=t.state,r=t.setSnackbar,o=t.back,s=t.go,a.unsubscribe("changeLobbyUsers","gameStart","chooseWord","setWord","draw","removeLobby","wakeUp","ready"),a.subscribe("wakeUp",function(){var e=Object(k.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user_ids.indexOf(n.user.id)>-1)for(a=0;a<3;a++)setTimeout(Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.a.supports("VKWebAppTapticNotificationOccurred")){e.next=3;break}return e.next=3,f.a.send("VKWebAppTapticNotificationOccurred",{type:"success"});case 3:return e.next=5,c.setState({splashShow:!c.state.splashShow});case 5:setTimeout((function(){c.setState({splashShow:!c.state.splashShow})}),100);case 6:case"end":return e.stop()}}),e)}))),200+200*a);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.subscribe("removeLobby",function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.props.t.log("game_logs","in_removeLobby"),c.setState({removed:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.subscribe("changeLobbyUsers",function(){var e=Object(k.a)(g.a.mark((function e(a){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.props.t.log("game_logs","in_changeLobbyUsers",{p:a.players}),s=c.props.friend_lobby,e.next=4,me(a.players);case 4:s.members=a.players,t.setState({friend_lobby:s}),setTimeout(Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.setState({members:s.members});case 2:c.forceUpdate(),-1===a.players.indexOf(n.user.id)&&c.props.friend_lobby.owner_id!==n.user.id&&(o(),c.state.removed?r("\u041b\u043e\u0431\u0431\u0438 \u0431\u044b\u043b\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e"):r("\u0412\u0430\u0441 \u0432\u044b\u0433\u043d\u0430\u043b\u0438 \u0438\u0437 \u043b\u043e\u0431\u0431\u0438"));case 4:case"end":return e.stop()}}),e)}))),400);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.subscribe("ready",function(){var e=Object(k.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.props.t.log("game_logs","in_ready",{r:a.ready}),(n=c.props.friend_lobby).ready=a.ready,t.setState({friend_lobby:n}),c.setState({ready:a.ready});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.subscribe("chooseWord",function(){var e=Object(k.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({chooseWords:a.words}),t.log("game_logs","in_chooseWord",{words:a.words}),setTimeout((function(){c.props.t.forceUpdate()}),400);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.subscribe("setWord",function(){var e=Object(k.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({word:a.word}),t.log("game_logs","in_setWord",{word:a.word}),setTimeout((function(){c.props.t.forceUpdate()}),400);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.subscribe("gameStart",function(){var e=Object(k.a)(g.a.mark((function e(n){var r,o,i,l,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.unsubscribe("changeLobbyUsers"),r=n.players,o=n.lobbyId,i=n.drawerId,l=n.timeout,u=c.props.friend_lobby,e.next=4,c.props.t.setState({api_manager:1});case 4:return t.log("game_logs","in_gameStart",{drawer:i,lobby:o,manager:1}),e.next=7,t.setState({game_players:r,game_timeout:l,lobbyId:o,drawerId:i,gameStart:Date.now(),isOnlineDrawing:!0,subGameInfo:{friendly:!0,owner_id:u.owner_id,data:u}});case 7:s("game");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"playerComponent",value:function(e){var t=this.props,a=t.t,n=t.friend_lobby,r=a.socket,o=a.state.user,s=this.state.ready,c=ue[e.id];return c||me([e.id]),c&&l.a.createElement("div",{key:e.key},l.a.createElement(_a,{size:32,src:e.photo_100,frame:c.frame_type,color:c.frame_color,style:{opacity:s.indexOf(e.id)>-1?1:.5}}),l.a.createElement("span",{style:{opacity:s.indexOf(e.id)>-1?1:.5}},e.name),n.owner_id===o.id&&e.id!==o.id&&l.a.createElement(d.s,{className:"KickButton",onClick:function(){r.call("friends.kickFromLobby",{user_id:e.id})}},l.a.createElement(bn.a,{fill:"var(--icon_tertiary)"})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.friend_lobby,r=a.socket,o=a.state,s=o.user,c=o.vk_user,i=this.state,u=i.members,p=i.ready,m=i.splashShow,h=p.indexOf(s.id)>-1,v=1===c.sex?"\u0433\u043e\u0442\u043e\u0432\u0430":"\u0433\u043e\u0442\u043e\u0432";return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:a.back}),separator:!1},oo&&"\u0414\u0440\u0443\u0436\u0435\u0441\u043a\u0430\u044f \u0438\u0433\u0440\u0430"),l.a.createElement("div",{className:"FriendSplash",style:{opacity:m?1:0}}),l.a.createElement("div",{className:"FriendLobby"},!oo&&l.a.createElement("h2",{style:{textAlign:"left"}},"\u0414\u0440\u0443\u0436\u0435\u0441\u043a\u0430\u044f \u0438\u0433\u0440\u0430"),n.owner_id!==s.id?l.a.createElement(d.g,{header:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",subheader:"\u0412\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0435\u0441\u044c \u0432 \u043b\u043e\u0431\u0431\u0438. \u0416\u0434\u0438\u0442\u0435, \u043f\u043e\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c \u043d\u0430\u0447\u043d\u0451\u0442 \u0438\u0433\u0440\u0443, \u0430 \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u044c\u0442\u0435\u0441\u044c. \u0415\u0441\u043b\u0438 \u0437\u0430\u043a\u0440\u043e\u0435\u0442\u0435 \u044d\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u0438\u0433\u0440\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0441\u0447\u0438\u0442\u0430\u043d\u0430."}):l.a.createElement(d.g,{header:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",subheader:"\u0412\u044b \u044f\u0432\u043b\u044f\u0435\u0442\u0435\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u0435\u043c \u043b\u043e\u0431\u0431\u0438. \u0415\u0441\u043b\u0438 \u0437\u0430\u043a\u0440\u043e\u0435\u0442\u0435 \u044d\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u043b\u043e\u0431\u0431\u0438 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043e, \u0430 \u0432\u0441\u0435 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u044b. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u043f\u043e\u043a\u0430 \u0438\u0433\u0440\u043e\u043a\u0438 \u0437\u0430\u0439\u0434\u0443\u0442 \u043a \u0432\u0430\u043c \u0432 \u043b\u043e\u0431\u0431\u0438, \u0438 \u0433\u043e\u0442\u043e\u0432\u044c\u0442\u0435\u0441\u044c \u043d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443."}),n.owner_id===s.id&&l.a.createElement("div",{style:{marginTop:24,width:"100%",display:"flex"}},l.a.createElement(d.h,{before:l.a.createElement(no.a,{width:16,height:16}),size:"m",mode:"gradient_light_gray",stretched:!0,onClick:function(){s.vk_donut||s.admin||s.premium?a.go("friend_lobby_settings"):V()?a.go("vk_donut_blocked"):a.go("vk_donut_avocado")}},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),l.a.createElement(d.h,{style:{marginLeft:6},before:l.a.createElement(ro.a,{width:16,height:16}),size:"m",mode:"gradient_gray",stretched:!0,onClick:Object(k.a)(g.a.mark((function t(){var n,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(a.vkChatIntegration||a.isFromCatalogChat||a.isFromChatWidget)){t.next=9;break}return n=z(),o=n.vk_chat_id,t.next=5,f.a.send("VKWebAppAddToChat",{action_title:"\u0420\u0438\u0441\u0443\u0439 \u0441 \u043d\u0430\u043c\u0438",hash:"lobby".concat(s.id),close_app:!1});case 5:r.call("friends.shareLobbyChat",{chat_id:o},(function(t){return e.props.t.setState({friend_lobby:t.response})})),a.setAlert("\u0412\u0438\u0434\u0436\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d","\u0412\u044b \u043c\u043e\u043b\u043e\u0434\u0435\u0446! \u0422\u0435\u043f\u0435\u0440\u044c \u043e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0434\u043e\u0436\u0434\u0430\u0442\u044c, \u043f\u043e\u043a\u0430 \u0438\u0433\u0440\u043e\u043a\u0438 \u0438\u0437 \u0447\u0430\u0442\u0430 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0442\u0441\u044f \u043a \u0432\u0430\u043c. \u0410 \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u044c\u0442\u0435\u0441\u044c \ud83d\ude0a",[{title:"\u0425\u043e\u0440\u043e\u0448\u043e",autoclose:!0}]),t.next=11;break;case 9:return t.next=11,f.a.send("VKWebAppShare",{link:"https://vk.com/drawapp#lobby".concat(s.id)});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))},a.vkChatIntegration||a.isFromCatalogChat||a.isFromChatWidget?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0447\u0430\u0442":"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c")),l.a.createElement("div",{className:"Span",style:{marginTop:24}},"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c \u043b\u043e\u0431\u0431\u0438"),l.a.createElement("div",{className:"LobbyList"},this.playerComponent({photo_100:ue[n.owner_id]&&ue[n.owner_id].photo_100,name:"".concat(ue[n.owner_id]?ue[n.owner_id].first_name:""," ").concat(ue[n.owner_id]?ue[n.owner_id].last_name.substring(0,1):"","."),id:n.owner_id})),l.a.createElement("div",{className:"Span",style:{marginTop:24}},u.length>0?"\u0418\u0433\u0440\u043e\u043a\u0438":"\u0414\u0440\u0443\u0433\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0438 \u043f\u043e\u043a\u0430 \u0435\u0449\u0451 \u043d\u0435 \u0437\u0430\u0448\u043b\u0438 \ud83e\udd71"),l.a.createElement("div",{className:"LobbyList"},u.length>0&&u.map((function(t,a){return e.playerComponent({photo_100:ue[t]&&ue[t].photo_100,name:"".concat(ue[t]?ue[t].first_name:""," ").concat(ue[t]?ue[t].last_name.substring(0,1):"","."),id:t,key:"user-".concat(a)})}))),l.a.createElement("div",{className:"LobbyActions"},l.a.createElement(d.h,{size:"l",mode:h?"gradient_light_gray":"gradient_gray",stretched:!0,onClick:function(){r.call("friends.ready",{owner_id:n.owner_id})}},h?"\u042f \u043d\u0435 ".concat(v):"\u042f ".concat(v,"!")),n.owner_id===s.id&&l.a.createElement(d.h,{disabled:0===u.length||p.length<u.length+1,size:"l",mode:"gradient_blue",stretched:!0,onClick:function(){r.call("friends.startGame",{},(function(t){t.error&&(e.props.t.setActivePanel("main"),e.props.t.setAlert("\u041e\u0448\u0438\u0431\u043a\u0430",t.error.message,[{title:"\u041e\u043a",autoclose:!0}]))}))}},"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"))))}}]),t}(i.PureComponent);so.defaultProps={};var co=so;function io(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function lo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?io(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):io(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var uo=V(),po=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.t,t=e.state,a=e.socket,n=e.state.user;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:e.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-ManyCards"},l.a.createElement("div",null,l.a.createElement(va.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"),l.a.createElement("p",null,"\u0417\u0434\u0435\u0441\u044c \u0441\u043e\u0431\u0440\u0430\u043d\u0430 \u0432\u0441\u044f \u0442\u0432\u043e\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430, \u0438 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0438 \u043b\u0443\u0447\u0448\u0438\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u043f\u043e \u0440\u0430\u0437\u043d\u044b\u043c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u043c \u043e\u0446\u0435\u043d\u0438\u0432\u0430\u043d\u0438\u044f")),l.a.createElement(d.H,{value:"likes",onClick:function(t){"likes"===t.target.value?e.setAlert("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","\u0415\u0441\u043b\u0438 \u0431\u0443\u0434\u0435\u0448\u044c \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043a\u0440\u0430\u0441\u0438\u0432\u043e, \u0442\u0432\u043e\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0431\u0443\u0434\u0443\u0442 \u043b\u0430\u0439\u043a\u0430\u0442\u044c. \u0421\u043e\u0431\u0438\u0440\u0430\u0439 \u0431\u043e\u043b\u044c\u0448\u0435 \u043b\u0430\u0439\u043a\u043e\u0432 \u0438 \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0441\u044c \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u043c \ud83d\ude0e",[{title:"\u041f\u043e\u043d\u044f\u0442\u043d\u043e",autoclose:!0}]):e.setAlert("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","\u041c\u043e\u043d\u0435\u0442\u044b \u2013 \u044d\u0442\u043e \u0438\u0433\u0440\u043e\u0432\u0430\u044f \u0432\u0430\u043b\u044e\u0442\u0430. \u0417\u0430 \u043d\u0435\u0451 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u044b \u0438\u0437 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430. \u041c\u043e\u043d\u0435\u0442\u044b \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c: 20 \u043c\u043e\u043d\u0435\u0442, \u0435\u0441\u043b\u0438 \u0442\u0432\u043e\u0439 \u0440\u0438\u0441\u0443\u043d\u043e\u043a \u0443\u0433\u0430\u0434\u0430\u043b\u0438; 10 \u043c\u043e\u043d\u0435\u0442, \u0435\u0441\u043b\u0438 \u0442\u0432\u043e\u0439 \u0440\u0438\u0441\u0443\u043d\u043e\u043a \u043d\u0435 \u0443\u0433\u0430\u0434\u0430\u043b\u0438, \u0438\u043b\u0438 \u0435\u0441\u043b\u0438 \u0442\u044b \u0443\u0433\u0430\u0434\u0430\u043b \u0447\u0435\u0439-\u0442\u043e \u0440\u0438\u0441\u0443\u043d\u043e\u043a.",[{title:"\u041f\u043e\u043d\u044f\u0442\u043d\u043e",autoclose:!0}])},options:[{label:l.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:4}},l.a.createElement(Rn.a,{width:20,height:20}),l.a.createElement("span",null,T(n.likes))),value:"likes"},{label:l.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:4}},l.a.createElement(wa.a,{width:20,height:20}),l.a.createElement("span",null,T(n.coins))),value:"money"}]})),[["top","\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439 \u0442\u043e\u043f \u043f\u043e \u0443\u0433\u0430\u0434\u0430\u043d\u043d\u044b\u043c","guessedPicturesToday"],["users_topPictures","\u041f\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443 \u043a\u0430\u0440\u0442\u0438\u043d","pictures"],["users_topGuessedPictures","\u041f\u043e \u0443\u0433\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u043a\u0430\u0440\u0442\u0438\u043d\u0430\u043c","guessedPictures"],["users_topLikes","\u041f\u043e \u043b\u0430\u0439\u043a\u0430\u043c","likes"]].map((function(n,r){return l.a.createElement("div",{key:"Card-".concat(r)},l.a.createElement("p",{className:"Panel_Container_Card-Header"},n[1]),l.a.createElement(d.r,{showArrows:!0,getScrollToLeft:function(e){return e-128},getScrollToRight:function(e){return e+128}},l.a.createElement("div",{style:{display:"flex"}},t[n[0]].map((function(t,r){return l.a.createElement(d.q,{key:"User-".concat(r),header:ue[t.id].first_name,subtitle:t[n[2]],onClick:function(){e.setPopout(l.a.createElement(d.G,null)),a.call("users.getById",{id:t.id},function(){var n=Object(k.a)(g.a.mark((function n(r){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.call("games.getByDrawerId",{id:t.id},function(){var a=Object(k.a)(g.a.mark((function a(n){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setState({author:lo({id:t.id},r.response||{}),author_works:n.response});case 2:e.go("author"),e.setPopout(null);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},uo?l.a.createElement(d.f,{size:36,shadow:!1,src:ue[t.id].photo_100}):l.a.createElement(_a,{size:48,src:ue[t.id].photo_100,frame:ue[t.id].frame_type,color:ue[t.id].frame_color}))})))))}))))}}]),t}(i.PureComponent);po.defaultProps={};var mo=po,fo=a(825),ho=a(826),vo=a(827),bo=a(828),go=a(829),ko=a(830),yo=a(831),wo=a(832);function Eo(){return(Eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Co(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var xo=l.a.createElement("rect",{x:1.5,y:1,width:12.5,height:1,rx:.5,fill:"currentColor",stroke:"currentColor",strokeWidth:.3}),_o=l.a.createElement("rect",{x:1.25,y:4.75,width:13,height:1,rx:.5,fill:"currentColor",stroke:"currentColor",strokeWidth:.7}),Oo=l.a.createElement("rect",{x:1,y:8.5,width:13.5,height:1,rx:.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.25}),Lo=function(e){var t=e.svgRef,a=e.title,n=Co(e,["svgRef","title"]);return l.a.createElement("svg",Eo({width:16,height:11,viewBox:"0 0 16 11",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,xo,_o,Oo)},So=l.a.forwardRef((function(e,t){return l.a.createElement(Lo,Eo({svgRef:t},e))}));a.p;function Po(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function jo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Po(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Po(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ao,Do={},Fo=0,Io=0,Mo={x:0,y:0},No=H(),To=V(),Bo=[],Wo=[],Ro=[],Go=0,Uo=0,zo={},Vo=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(o.a)(this,Object(s.a)(t).call(this,e));var r=e.t;return a.state={color:e.color,drawing:!1,isCrop:!1,isEraser:!1,isStroke:!1,isShowAreas:!1,isCompassActive:!0,isBrushActive:!1,isFullCanvasShowed:!1,canvasTransformX:0,canvasTransformY:0,canvasScale:1,fullCanvasData:null,lineWidth:2,areas:[],areas_time:{}},a.onMouseDown=a.onMouseDown.bind(Object(y.a)(a)),a.onMouseUp=a.onMouseUp.bind(Object(y.a)(a)),a.throttle=a.throttle.bind(Object(y.a)(a)),a.onMouseMove=a.onMouseMove.bind(Object(y.a)(a)),a.drawLine=a.drawLine.bind(Object(y.a)(a)),a.onStartCrop=a.onStartCrop.bind(Object(y.a)(a)),a.onEndCrop=a.onEndCrop.bind(Object(y.a)(a)),a.onCropMove=a.onCropMove.bind(Object(y.a)(a)),r.socket.subscribe("draw",function(){var t=Object(k.a)(g.a.mark((function t(n){var r,o,s,c,i,l,u,p,d,m,f,h,v,b;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.user_id==e.t.state.vk_user.id){t.next=21;break}for(r=n.data,o=!0,s=!1,c=void 0,t.prev=5,i=r[Symbol.iterator]();!(o=(l=i.next()).done);o=!0)u=l.value,p=u.x0,d=u.y0,m=u.x1,f=u.y1,h=u.color,v=u.isEraser,b=u.lineWidth,a.drawLine(p,d,m,f,h,v,b,!1,!1);t.next=13;break;case 9:t.prev=9,t.t0=t.catch(5),s=!0,c=t.t0;case 13:t.prev=13,t.prev=14,o||null==i.return||i.return();case 16:if(t.prev=16,!s){t.next=19;break}throw c;case 19:return t.finish(16);case 20:return t.finish(13);case 21:case"end":return t.stop()}}),t,null,[[5,9,13,21],[14,,16,20]])})));return function(e){return t.apply(this,arguments)}}()),r.socket.subscribe("updateAreas",function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.updateAreas(t.areas);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r,o,s,c,i,u,p,m=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.send("VKWebAppDisableSwipeBack"),this.props.t.setPopout(l.a.createElement(d.G,null)),P(["Manrope Semibold","Manrope Bold"]),setTimeout((function(){m.props.t.state.isShowGlobalCanvasOnboard&&m.props.t.setActiveModal(Pc)}),500),t=this.canvas,a=this.canvas_,n=this.onMouseDown,r=this.onMouseUp,o=this.throttle,s=this.onMouseMove,c=this.onStartCrop,i=this.onEndCrop,u=this.onCropMove,this.canvasContext=t.getContext("2d"),e.next=8,new Promise((function(e){return m.props.t.socket.call("canvas.getAreas",{},function(){var t=Object(k.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(a.response);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 8:return p=e.sent,e.next=11,new Promise((function(e){return m.props.t.socket.call("canvas.join",{},function(){var t=Object(k.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{(n=new Image).onload=function(){m.props.t.setPopout(null),m.canvasContext.drawImage(n,0,0);var e=!0,t=!1,r=void 0;try{for(var o,s=a.lines[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var c=o.value,i=c.x0,l=c.y0,u=c.x1,p=c.y1,d=c.color,f=c.isEraser,h=c.lineWidth;m.drawLine(i,l,u,p,d,f,h,!1,!1)}}catch(v){t=!0,r=v}finally{try{e||null==s.return||s.return()}finally{if(t)throw r}}},n.src=a.canvasData}catch(r){console.error(r)}e(!0);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 11:return e.next=13,this.updateAreas(p);case 13:this.lastScheme=document.body.attributes.getNamedItem("scheme").value,this.clientHeight=this.props.t.clientHeight,this.clientWidth=this.props.t.clientWidth,t.addEventListener("mousedown",n,!1),t.addEventListener("mouseup",r,!1),t.addEventListener("mouseout",r,!1),t.addEventListener("mousemove",(function(e){return m.state.isCompassActive?s(e):o(s(e),10)}),!1),t.addEventListener("touchstart",n,!1),t.addEventListener("touchend",r,!1),t.addEventListener("touchcancel",r,!1),t.addEventListener("touchmove",(function(e){return m.state.isCompassActive?s(e):o(s(e),10)}),!1),a.addEventListener("mousedown",c,!1),a.addEventListener("mouseup",i,!1),a.addEventListener("mouseout",i,!1),a.addEventListener("mousemove",u,!1),a.addEventListener("touchstart",c,!1),a.addEventListener("touchend",i,!1),a.addEventListener("touchcancel",i,!1),a.addEventListener("touchmove",u,!1);case 32:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r,o,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(f.a.send("VKWebAppEnableSwipeBack"),this.props.t.socket.call("canvas.leave",{}),document.body.setAttribute("scheme",this.lastScheme),t=!0,a=!1,n=void 0,e.prev=6,r=Bo[Symbol.iterator]();!(t=(o=r.next()).done);t=!0)s=o.value,clearInterval(s);e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),a=!0,n=e.t0;case 14:e.prev=14,e.prev=15,t||null==r.return||r.return();case 17:if(e.prev=17,!a){e.next=20;break}throw n;case 20:return e.finish(17);case 21:return e.finish(14);case 22:Bo=[],clearInterval(Ao);case 24:case"end":return e.stop()}}),e,this,[[6,10,14,22],[15,,17,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,a){"bright_light"!==document.body.attributes.getNamedItem("scheme").value&&setTimeout((function(){return document.body.setAttribute("scheme","bright_light")}),500),e.color!==this.props.color&&("pipette"===this.props.color?this.setState({isPipette:!0}):this.setState({color:this.props.color}))}},{key:"updateAreas",value:function(){var e=Object(k.a)(g.a.mark((function e(t){var a,n,r,o,s=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in Bo=[],a={},n=[],r=function(e){t[e].owner_id>0&&n.push(t[e].owner_id),Bo.push(setInterval((function(){if(t[e].owner_id>0){var n=W(t[e].time-Date.now()).str,r=n.hours,o=n.minutes,c=n.seconds;a[e]="".concat(r,":").concat(o,":").concat(c),s.setState({areas_time:a}),s.state.drawing||s.forceUpdate(),t[e].time<=Date.now()&&(t[e]={owner_id:0,time:0})}}),1e3))},t)r(o);return e.next=6,me(n);case 6:this.setState({areas:t.sort((function(e,t){return e.id-t.id})),areas_time:a});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onMouseDown",value:function(e){console.log("onMouseDown");try{this.setState({drawing:!0}),Do.x=e.clientX||e.touches[0].clientX,Do.y=e.clientY||e.touches[0].clientY,Wo=[]}catch(e){console.log("Error onMouseDown"),console.error(e)}}},{key:"onMouseUp",value:function(e){console.log("onMouseUp");try{var t=this.state,a=t.drawing,n=t.color,r=t.isEraser,o=t.lineWidth,s=t.isPipette;if(!a)return;if(this.setState({drawing:!1}),s)return void this.setState({isPipette:!1});try{var c=this.canvas.getBoundingClientRect();try{this.drawLine(Do.x-c.left,Do.y-c.top,(e.clientX||e.touches[0].clientX)-c.left,(e.clientY||e.touches[0].clientY)-c.top,n,r,o)}catch(e){}console.log("Lines to send: ".concat(Wo.length)),Wo.length>0&&(this.props.t.socket.call("canvas.draw",{data:Wo,user_id:this.props.t.state.vk_user.id}),Wo=[])}catch(u){console.log("Error onMouseUp2"),console.log(e),console.error(u)}var i=this.canvas_container.style.transform,l=i.substring(i.indexOf("(")+1,i.indexOf(")")).split(",");Mo.x=parseInt(l[0]),Mo.y=parseInt(l[1]),(isNaN(Mo.x)||isNaN(Mo.y))&&(Mo.x=0,Mo.y=0)}catch(e){console.log("Error onMouseUp1"),console.error(e)}}},{key:"onMouseMove",value:function(e){try{var t=this.state,a=t.drawing,n=t.color,r=t.isEraser,o=t.lineWidth,s=t.canvasScale;if(!a)return;var c=this.canvas,i=this.canvasContext,l=c.getBoundingClientRect();if(this.state.isPipette){var u=i.getImageData(((e.clientX||e.touches[0].clientX)-l.left)/s,((e.clientY||e.touches[0].clientY)-l.top)/s,1,1),p=F(u.data[0],u.data[1],u.data[2]);return this.setState({color:p}),void this.props.t.setState({pickedColor:p})}if(this.state.isCompassActive){try{var d={x:e.clientX||e.touches[0].clientX,y:e.clientY||e.touches[0].clientY},m={x:(d.x-Do.x)/s,y:(d.y-Do.y)/s},f=Math.max(Math.min(this.clientWidth-200,Mo.x+Fo+m.x),200-this.canvas.width),h=Math.max(Math.min(this.clientHeight-200,Mo.y+Io+m.y),200-this.canvas.height);this.setState({canvasTransformX:f,canvasTransformY:h})}catch(e){console.log(e)}return}try{this.drawLine(Do.x-l.left,Do.y-l.top,(e.clientX||e.touches[0].clientX)-l.left,(e.clientY||e.touches[0].clientY)-l.top,n,r,o),Do.x=e.clientX||e.touches[0].clientX,Do.y=e.clientY||e.touches[0].clientY}catch(e){console.log("Error onMouseMove2"),console.error(e)}}catch(e){console.log("Error onMouseMove1"),console.error(e)}return!1}},{key:"drawLine",value:function(e,t,a,n,r,o,s){var c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],i=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];try{if(this.state.isCompassActive&&c)return;if(i){var l=this.state.canvasScale;e/=l,a/=l,t/=l,n/=l}if(c&&!this.isAllowToDraw(e,t,a,n))return;if("object"===typeof r){var u=r[Go]||r[0],p=r[Go+1]||r[0];r=I(u,p,Uo,r.length),0===(Uo+=r.length===Uo?-Uo:1)&&(Go+=r.length===Go?-Go:1)}try{var d=this.canvasContext;d.beginPath(),o?(d.globalCompositeOperation="destination-out",d.arc(e,t,s,0,2*Math.PI,!1),d.fill()):(d.globalCompositeOperation="source-over",d.moveTo(e,t),d.lineTo(a,n),d.strokeStyle=r,d.fill(),d.lineWidth=s,d.lineCap=d.lineJoin="round",d.stroke()),d.closePath(),i&&(Wo.push({x0:e,y0:t,x1:a,y1:n,color:r,isEraser:o,lineWidth:s}),Wo.length>800&&(console.log("Lines to send: ".concat(Wo.length)),this.props.t.socket.call("canvas.draw",{data:Wo,user_id:this.props.t.state.vk_user.id}),Wo=[]))}catch(m){}}catch(m){console.log("Error drawLine"),console.error(m)}}},{key:"throttle",value:function(e,t){var a=(new Date).getTime();return function(){var n=(new Date).getTime();n-a>=t&&(a=n,e.apply(null,arguments))}}},{key:"onStartCrop",value:function(e){this.state.isCrop&&(Do.x=e.clientX||e.touches[0].clientX,Do.y=e.clientY||e.touches[0].clientY,console.log("start crop",Do),this.setState({crop_process:!0}))}},{key:"onEndCrop",value:function(e){var t=this.state,a=t.crop_process,n=t.isCrop;a&&n&&(console.log("end crop"),this.setState({crop_process:!1}))}},{key:"onCropMove",value:function(e){var t=this.state,a=t.crop_process,n=t.isCrop;if(a&&n){var r=this.canvas_,o=this.canvasContext_,s=this.state.canvasScale,c=r.getBoundingClientRect();o.clearRect(0,0,r.width,r.height),o.drawImage(this.canvas,0,0);var i=(e.clientX||e.touches[0].clientX)-c.left,l=(e.clientY||e.touches[0].clientY)-c.top,u=i-(Do.x-c.left),p=l-(Do.y-c.top);zo={x:(Do.x-c.left)/s,y:(Do.y-c.top)/s,width:u/s,height:p/s},o.strokeRect(zo.x,zo.y,zo.width,zo.height)}}},{key:"isAllowToDraw",value:function(e,t,a,n){if(245481845===this.props.t.state.vk_user.id)return!0;var r=!0,o=this.state.areas.filter((function(r){var o=r.x0,s=r.y0,c=r.x1,i=r.y1;return e>=o&&t>=s&&a<=c&&n<=i})),s=!0,c=!1,i=void 0;try{for(var l,u=o[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var p=l.value;if(!(r=0===p.owner_id||p.owner_id==this.props.t.state.vk_user.id))return r}}catch(d){c=!0,i=d}finally{try{s||null==u.return||u.return()}finally{if(c)throw i}}return o.length>0&&r}},{key:"render",value:function(){var e=this,t=this.state,a=this.props.t,n=t.isCompassActive,r=t.drawing,o=t.isFullCanvasShowed,s=t.fullCanvasData,c=t.lineWidth,i=t.canvasScale,u=(t.isStroke,t.isPipette),p=t.isCrop,m=t.color,f=t.canvasTransformX,v=t.canvasTransformY;return l.a.createElement("div",{className:"GlobalCanvas"},l.a.createElement("div",{style:{height:!To&&!No&&37},className:"GlobalCanvasBack",onClick:function(){e.componentWillUnmount(),a.back()}},l.a.createElement(fo.a,null)),o&&l.a.createElement("img",{src:s,alt:"canvas"}),l.a.createElement("div",{className:"GlobalCanvas_canvas",style:{transform:"scale(".concat(i,")"),width:"100vw",height:"100vh"}},l.a.createElement("div",{className:"GlobalCanvas_canvas",ref:function(t){return e.canvas_container=t},style:{transform:"translate(".concat(f,"px, ").concat(v,"px)"),width:1595,height:1595}},this.areas,l.a.createElement("canvas",{style:{cursor:n?r?"grabbing":"grab":"crosshair",display:p&&"none"},width:1595,height:1595,ref:function(t){return e.canvas=t},id:"canvas"}),l.a.createElement("canvas",{style:{display:!p&&"none"},width:1595,height:1595,ref:function(t){return e.canvas_=t},id:"canvas_"}))),!1,l.a.createElement("div",{className:"GlobalCanvasActions"},p?l.a.createElement("div",{style:{width:"calc(100% - 32px)"}},l.a.createElement("span",null,"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u0435 \u043e\u0431\u043b\u0430\u0441\u0442\u044c \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f"),l.a.createElement(d.h,{style:{marginTop:8},stretched:!0,size:"l",mode:"gradient_blue",onClick:Object(k.a)(g.a.mark((function t(){var n,r,o,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.canvasContext_.clearRect(0,0,e.canvas_.width,e.canvas_.height),t.next=3,e.setState({isCrop:!1});case 3:return a.setPopout(l.a.createElement(d.G,null)),n=Object(_.createCanvas)(Math.abs(zo.width),Math.abs(zo.height)),r=(zo.width<0?-zo.width:0)-zo.x,o=(zo.height<0?-zo.height:0)-zo.y,n.getContext("2d").drawImage(e.canvas,r,o),t.t0=Ya,t.next=11,new Promise((function(e){return n.toBlob((function(t){return e(t)}))}));case 11:return t.t1=t.sent,t.t2="\u0420\u0438\u0441\u0443\u043d\u043e\u043a \u0441\u0434\u0435\u043b\u0430\u043d \u0432 \u043c\u0438\u043d\u0438-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 vk.com/app".concat(z().vk_app_id),t.next=15,(0,t.t0)(t.t1,"\u0423\u0433\u0430\u0434\u0430\u0439, \u0447\u0442\u043e \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043d\u043e [\u041e\u0431\u0449\u0438\u0439 \u0445\u043e\u043b\u0441\u0442]",t.t2,!1,!0,"global_canvas");case 15:s=t.sent,a.setSnackbar(-1===s?"\u0414\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u0432 \u0430\u043b\u044c\u0431\u043e\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u0434\u043e\u0441\u0442\u0443\u043f":s<0?"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 :(":"\u0420\u0438\u0441\u0443\u043d\u043e\u043a \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d \u0432 \u0430\u043b\u044c\u0431\u043e\u043c \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"),a.setPopout(null);case 18:case"end":return t.stop()}}),t)})))},"\u0413\u043e\u0442\u043e\u0432\u043e"),l.a.createElement(d.h,{style:{marginTop:6},stretched:!0,size:"l",mode:"secondary",onClick:Object(k.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.canvasContext_.clearRect(0,0,e.canvas_.width,e.canvas_.height),e.setState({isCrop:!1});case 2:case"end":return t.stop()}}),t)})))},"\u041e\u0442\u043c\u0435\u043d\u0430")):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"GlobalCanvasActions_Buttons"},this.canvas_actions.map((function(t,a){return 0===t?l.a.createElement("div",{key:"g-a-".concat(a),className:"Actions_Separator"}):l.a.createElement("div",{key:"g-a-".concat(a),onClick:t[1],style:jo({outline:t[2]&&"2px solid var(--custom_card_solo_text_color)"},u?{background:m,color:m}:{}),ref:function(t){return e["action".concat(a)]=t}},l.a.cloneElement(t[0],{width:21,height:21}))}))),l.a.createElement("div",{className:"GlobalCanvasActions_Slider"},l.a.createElement(d.K,{step:n?.05:1,min:n?.2:2,max:n?5:20,value:Number(n?i:c),onChange:function(t){e.setState(Object(h.a)({},n?"canvasScale":"lineWidth",t))}}),l.a.createElement("span",null,n?"\u043f\u0440\u0438\u0431\u043b\u0438\u0436\u0435\u043d\u0438\u0435":"\u0442\u043e\u043b\u0449\u0438\u043d\u0430")))))}},{key:"navbar_items",get:function(){var e=this,t=this.state,a=this.props.t,n=t.isCompassActive,r=t.isEraser,o=t.isFullCanvasShowed,s=t.isStroke;return[].concat(Object(v.a)(a.state.user.admin?[{icon:l.a.createElement(Aa.a,{width:21,height:21}),onClick:function(){a.setPopout(e.alert_load_picture)}}]:[]),[{icon:l.a.createElement(ho.a,{width:21,height:21}),onClick:function(){e.setState({isCompassActive:!n,isEraser:!1,isFullCanvasShowed:!1,isStroke:!1})},selected:n},{icon:l.a.createElement(mn.a,{width:21,height:21}),onClick:function(){a.setPopout(e.alert_color)}},{icon:l.a.createElement(ln,null),onClick:function(){e.setState({isEraser:!r,isCompassActive:!1,isFullCanvasShowed:!1})},selected:r},{icon:l.a.createElement(So,null),onClick:function(){e.setState({isStroke:!s,isCompassActive:!1,isFullCanvasShowed:!1})},selected:s},{icon:l.a.createElement(vo.a,{width:21,height:21}),onClick:function(){var t=Object(k.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o?e.setState({fullCanvasData:null}):(a=e.canvas.toDataURL("image/png"),e.setState({fullCanvasData:a}),clearInterval(Ao),Ao=setInterval((function(){var t=e.canvas.toDataURL("image/png");e.setState({fullCanvasData:t})}),500)),e.setState({isFullCanvasShowed:!o,isEraser:!1,isCompassActive:!1,isStroke:!1});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),selected:o},{icon:l.a.createElement(bo.a,{width:21,height:21}),onClick:function(){Y("https://vk.me/join/DFIbwK_w537NhbqDIWPd8JjoW/qfkWn5tzk=")}},{icon:l.a.createElement(go.a,{width:21,height:21}),onClick:function(){e.componentWillUnmount(),a.go("global_canvas_info")}}])}},{key:"canvas_actions",get:function(){var e=this,t=this.state,a=t.isCompassActive,n=t.isBrushActive,r=t.isEraser,o=t.isShowAreas,s=this.props.t;return[[l.a.createElement(mn.a,null),function(){s.setActiveModal(Ac)}],0,[l.a.createElement(ho.a,null),function(){e.setState({isCompassActive:!0,isShowAreas:!!a&&!o,isBrushActive:!1,isEraser:!1})},a],[l.a.createElement(fn.a,null),function(){e.setState({isCompassActive:!1,isShowAreas:!1,isBrushActive:!0,isEraser:!1})},n],[l.a.createElement(hn.a,null),function(){e.setState({isCompassActive:!1,isShowAreas:!1,isBrushActive:!1,isEraser:!0})},r],0,[l.a.createElement(no.a,null),function(){s.setPopout(l.a.createElement(d.a,{onClose:function(){return s.setPopout(null)},iosCloseItem:l.a.createElement(d.b,{autoclose:!0,mode:"cancel"},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"),toggleRef:e["action".concat(6)]},l.a.createElement(d.b,{autoclose:!0,onClick:function(){e.componentWillUnmount(),s.go("global_canvas_info")},before:l.a.createElement(go.a,null)},"\u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"),l.a.createElement(d.b,{autoclose:!0,onClick:function(){Y("https://vk.me/join/DFIbwK_w537NhbqDIWPd8JjoW/qfkWn5tzk=")},before:l.a.createElement(ko.a,null)},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0447\u0430\u0442"),l.a.createElement(d.b,{autoclose:!0,onClick:Object(k.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s.setPopout(l.a.createElement(d.G,null)),e.canvasContext_=e.canvas_.getContext("2d"),e.canvasContext_.drawImage(e.canvas,0,0),e.canvasContext_.lineWidth=10,e.canvasContext_.strokeStyle="#ff0000",e.setState({isCrop:!0,crop_process:!1,isShowAreas:!1}),s.setPopout(null);case 7:case"end":return t.stop()}}),t)}))),before:l.a.createElement(Da.a,null)},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0445\u043e\u043b\u0441\u0442")))}]]}},{key:"alert_load_picture",get:function(){var e=this,t=this.props.t;return l.a.createElement(d.E,{onClick:function(){return e.props.t.setPopout(null)},onClose:function(){return e.props.t.setPopout(null)}},l.a.createElement(d.n,{className:"GlobaCanvas_Load_Picture"},l.a.createElement("input",{accept:".png",type:"file",multiple:!1,ref:function(t){return e.uploadImage=t},style:{display:"none"},onChange:function(){var a=Object(k.a)(g.a.mark((function a(n){var r,o,s,c,i;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,te(n);case 2:r=a.sent,2,o=r.image.width,s=r.image.height,c=797.5-o/2,i=797.5-s/2,e.uploadImageTag.onload=Object(k.a)(g.a.mark((function a(){var n,u,p,m,f,h,v,b,k;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Image loaded"),(n=e.canvasUploadImage.getContext("2d")).mozImageSmoothingEnabled=!1,n.webkitImageSmoothingEnabled=!1,n.imageSmoothingEnabled=!1,n.drawImage(e.uploadImageTag,0,0,o,s),console.log("Start processing..."),Ro=[],t.setPopout(l.a.createElement(d.G,null)),a.next=11,M(500);case 11:for(u=0;u<s;u++)for(console.log("".concat(Math.ceil(100/s*u),"%")),p=0;p<o;p++)m=n.getImageData(p,u,1,1).data,void 0,void 0,f=h=c===o?p:c+p,void 0,void 0,v=b=i===s?u:i+u,k=F(m[0],m[1],m[2]),Ro.push({x0:f,y0:v,x1:h,y1:b,color:k,isEraser:!1,lineWidth:2}),e.drawLine(f,v,h,b,k,!1,2,!1,!1);return console.log("Process end!"),a.next=15,t.setPopout(e.alert_load_picture);case 15:e.uploadImageTag.src=r.data;case 16:case"end":return a.stop()}}),a)}))),e.uploadImageTag.src=r.data;case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}),l.a.createElement("img",{width:200,height:200,alt:"img",onClick:function(){return e.uploadImage.click()},ref:function(t){return e.uploadImageTag=t}}),l.a.createElement("canvas",{ref:function(t){return e.canvasUploadImage=t},width:1595,height:1595,style:{display:"none"}}),l.a.createElement(d.h,{style:{marginTop:12},size:"m",mode:"gradient_blue",onClick:Object(k.a)(g.a.mark((function a(){var n,r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.setPopout(l.a.createElement(d.G,null)),a.next=3,M(500);case 3:n=0;case 4:if(!(n<Ro.length)){a.next=13;break}return console.log("".concat(Math.ceil(100/Ro.length*n),"%")),r=Ro.slice(n,n+100),t.socket.call("canvas.draw",{data:r,user_id:t.state.vk_user.id}),a.next=10,M(10);case 10:n+=100,a.next=4;break;case 13:e.props.t.setPopout(null);case 14:case"end":return a.stop()}}),a)})))},"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c")))}},{key:"alert_color",get:function(){var e=this;return l.a.createElement(d.E,{onClick:function(){return e.props.t.setPopout(null)},onClose:function(){return e.props.t.setPopout(null)}},l.a.createElement(d.n,null,l.a.createElement(C.a,{color:this.state.color,onChange:function(t){return e.setState({color:t})}}),l.a.createElement(d.h,{style:{marginTop:12},stretched:!0,size:"m",before:l.a.createElement(yo.a,null),mode:"gradient_blue",onClick:function(){e.props.t.setPopout(null),e.setState({isPipette:!0})}},"\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0446\u0432\u0435\u0442"),this.props.t.state.user.admin&&l.a.createElement(d.h,{style:{marginTop:8},stretched:!0,size:"m",before:l.a.createElement(wo.a,null),mode:"gradient_gray",onClick:function(){e.props.t.setPopout(null),e.drawLine(0,0,1595,1595,e.state.color,!1,2500,!1),e.props.t.socket.call("canvas.draw",{data:Wo,user_id:e.props.t.state.vk_user.id})}},"\u0417\u0430\u043b\u0438\u0442\u044c \u0445\u043e\u043b\u0441\u0442")))}},{key:"areas",get:function(){var e=this,t=this.state,a=t.areas,n=t.areas_time,r=t.isShowAreas,o=this.props.t;return l.a.createElement("div",{className:"Canvas_Areas",style:{transition:"all 200ms",opacity:!r&&0,visibility:!r&&"hidden"}},a.map((function(t,a){return l.a.createElement("div",{key:"area_".concat(a),style:{pointerEvents:r&&"none"}},0!==t.owner_id&&l.a.createElement(d.f,{size:48,shadow:!1,src:ue[t.owner_id]&&ue[t.owner_id].photo_100}),l.a.createElement("h1",{style:{marginTop:0!==t.owner_id&&2}},0===t.owner_id?"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c":t.owner_id===e.props.t.state.vk_user.id?"\u0422\u0432\u043e\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c":"\u0427\u0443\u0436\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"),l.a.createElement("h3",{style:{marginTop:2}},0!==t.owner_id&&n[a]),0===t.owner_id&&l.a.createElement("div",{className:"CustomButton",onClick:function(){o.state.user.coins>=1e3?o.setPopout(l.a.createElement(d.d,{actions:[{title:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",autoclose:!0,mode:"positive",action:function(){o.socket.call("canvas.rentArea",{area_id:t.id},(function(e){o.updateData()}))}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"}],actionsLayout:"horizontal",onClose:function(){return o.setPopout(null)},header:"\u0410\u0440\u0435\u043d\u0434\u0430 \u043e\u0431\u043b\u0430\u0441\u0442\u0438",text:"\u0410\u0440\u0435\u043d\u0434\u0430 \u0441\u0442\u043e\u0438\u0442 1000 \u043c\u043e\u043d\u0435\u0442 \u043d\u0430 1 \u0447\u0430\u0441. \u041f\u0440\u043e\u0434\u043b\u0438\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u0443 \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u043e\u0433\u0434\u0430, \u043a\u043e\u0433\u0434\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u0441\u044f \u0441\u0440\u043e\u043a (1 \u0447\u0430\u0441). \u0423 \u0412\u0430\u0441 ".concat(T(o.state.user.coins)," ").concat(N(o.state.user.coins,["\u043c\u043e\u043d\u0435\u0442\u0430","\u043c\u043e\u043d\u0435\u0442\u044b","\u043c\u043e\u043d\u0435\u0442"],!1),".")})):o.setPopout(l.a.createElement(d.d,{actions:[{title:"\u041e\u043a",autoclose:!0,mode:"cancel"}],actionsLayout:"horizontal",onClose:function(){return o.setPopout(null)},header:"\u0410\u0440\u0435\u043d\u0434\u0430 \u043e\u0431\u043b\u0430\u0441\u0442\u0438",text:"\u0422\u0435\u0431\u0435 \u043d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 ".concat(N(1e3-o.state.user.coins,["\u043c\u043e\u043d\u0435\u0442\u044b","\u043c\u043e\u043d\u0435\u0442\u044b","\u043c\u043e\u043d\u0435\u0442"]),".")}))}},"\u0430\u0440\u0435\u043d\u0434\u043e\u0432\u0430\u0442\u044c"))})))}}]),t}(i.PureComponent);Vo.defaultProps={};var Ho=Vo,Ko=H(),Zo=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.t;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:e.back}),separator:!1},Ko&&"\u041e\u0431\u0449\u0438\u0439 \u0445\u043e\u043b\u0441\u0442"),l.a.createElement("div",{className:"GlobalCanvasInfo",style:{paddingBottom:24}},!Ko&&l.a.createElement("h2",{style:{textAlign:"left"}},"\u041e\u0431\u0449\u0438\u0439 \u0445\u043e\u043b\u0441\u0442"),l.a.createElement("p",{style:{margin:!Ko&&"8px 0 0 0"}},"\u041d\u0430 \u043e\u0431\u0449\u0435\u043c \u0445\u043e\u043b\u0441\u0442\u0435 \u043c\u043e\u0433\u0443\u0442 \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435 \u0438\u0433\u0440\u043e\u043a\u0438. \u0420\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u043d\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438. \u0412\u0441\u0435\u0433\u043e \u0442\u0430\u043a\u0438\u0445 \u043e\u0431\u043b\u0430\u0441\u0442\u0435\u0439 25."),l.a.createElement("div",{className:"GlobalCanvas_Items__List"},[[l.a.createElement(mn.a,null),"\u041c\u0435\u043d\u044e \u043f\u0430\u043b\u0438\u0442\u0440\u044b"],[l.a.createElement(ho.a,null),"\u0420\u0435\u0436\u0438\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f","\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u043f\u043e\u043a\u0430\u0436\u0435\u0442 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u0434\u043b\u044f \u0430\u0440\u0435\u043d\u0434\u044b"],[l.a.createElement(fn.a,null),"\u0420\u0435\u0436\u0438\u043c \u0440\u0438\u0441\u043e\u0432\u0430\u043d\u0438\u044f"],[l.a.createElement(hn.a,null),"\u0420\u0435\u0436\u0438\u043c \u043b\u0430\u0441\u0442\u0438\u043a\u0430"]].map((function(e,t){return l.a.createElement("div",{key:"item_".concat(t)},l.a.cloneElement(e[0],{width:20,height:20}),l.a.createElement("div",null,l.a.createElement("span",null,e[1]),e[2]&&l.a.createElement("span",null,e[2])))}))),l.a.createElement("p",{style:{margin:"18px 0 0 0"}},"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u0443\u044e \u043e\u0431\u043b\u0430\u0441\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u0430\u0440\u0435\u043d\u0434\u043e\u0432\u0430\u0442\u044c (1000 \u043c\u043e\u043d\u0435\u0442 \u043d\u0430 \u0447\u0430\u0441). \u041d\u0430 \u0430\u0440\u0435\u043d\u0434\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u043c\u043e\u0436\u0435\u0442 \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u043b\u0430\u0434\u0435\u043b\u0435\u0446. \u041f\u0440\u043e\u0434\u043b\u0438\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u0443 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u2014 \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043a\u0443\u043f\u0438\u0442\u044c \u0435\u0451 \u0441\u043d\u043e\u0432\u0430 \u043f\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044e \u0441\u0440\u043e\u043a\u0430.")))}}]),t}(i.PureComponent);Zo.defaultProps={};var Yo=Zo;function Xo(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Jo(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xo(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xo(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Qo=H(),qo=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={friend_lobby:Jo({},e.friend_lobby)},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.t,a=t.socket,n=t.state.user,r=this.state.friend_lobby;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:t.back}),separator:!1},Qo&&"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043b\u043e\u0431\u0431\u0438"),l.a.createElement("div",{className:"FriendLobbySettings"},!Qo&&l.a.createElement("h2",{style:{textAlign:"left",marginLeft:28}},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043b\u043e\u0431\u0431\u0438"),l.a.createElement(d.g,{header:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",subheader:"\u0415\u0441\u043b\u0438 \u0432\u044b \u0432\u0432\u043e\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0451 \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u0438\u0433\u0440\u044b, \u0442\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0440\u0438\u0441\u0443\u043d\u043e\u043a \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f. \u0422\u0430\u043a \u0436\u0435, \u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u0434\u0430\u0451\u0442\u0435 \u0441\u0432\u043e\u0451 \u0441\u043b\u043e\u0432\u043e, \u0442\u043e \u0432\u044b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435\u0441\u044c \u0445\u0443\u0434\u043e\u0436\u043d\u0438\u043a\u043e\u043c \u0432 \u0438\u0433\u0440\u0435."}),l.a.createElement(d.n,{style:{paddingBottom:24}},l.a.createElement("div",{className:"Span"},"\u0412\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c \u043b\u043e\u0431\u0431\u0438"),l.a.createElement(d.H,{style:{marginTop:8},value:r.friendsOnly?"private":"public",onChange:function(t){console.log(t),r.friendsOnly="private"===t,e.setState({friend_lobby:r}),e.forceUpdate()},options:[{label:"\u0414\u043b\u044f \u0432\u0441\u0435\u0445",value:"public"},{label:"\u0414\u043b\u044f \u0434\u0440\u0443\u0437\u0435\u0439",value:"private"}]}),l.a.createElement("div",{className:"Span",style:{marginTop:8}},"\u0422\u0430\u0439\u043c\u0430\u0443\u0442 \u0438\u0433\u0440\u044b"),l.a.createElement(d.H,{style:{marginTop:8},value:r.timeout,onChange:function(t){r.timeout=t,e.setState({friend_lobby:r}),e.forceUpdate()},options:[{label:"90 \u0441\u0435\u043a",value:90},{label:"10 \u043c\u0438\u043d",value:600}]}),l.a.createElement(d.J,{style:{marginTop:8},Component:"label",after:l.a.createElement(d.P,{getRef:function(t){return e.saveGame=t},checked:r.saveGame,onChange:function(t){r.saveGame=t.currentTarget.checked,r.saveGame&&(r.setCustomWord=!1,e.setCustomWord.checked=!1),e.setState({friend_lobby:r}),e.forceUpdate()}})},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0440\u0438\u0441\u0443\u043d\u043e\u043a"),l.a.createElement(d.J,{Component:"label",after:l.a.createElement(d.P,{getRef:function(t){return e.setCustomWord=t},checked:r.setCustomWord,onChange:function(t){r.setCustomWord=t.currentTarget.checked,r.setCustomWord&&(r.saveGame=!1,e.saveGame.checked=!1),e.setState({friend_lobby:r}),e.forceUpdate()}})},"\u0417\u0430\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u0451 \u0441\u043b\u043e\u0432\u043e"),r.setCustomWord&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"Span",style:{marginTop:8}},"\u0421\u043b\u043e\u0432\u043e"),l.a.createElement(d.t,{style:{marginTop:8},placeholder:"\u041a\u0440\u043e\u043a\u043e\u0434\u0438\u043b",defaultValue:r.customWord||"",onChange:function(t){r.customWord=t.currentTarget.value,e.setState({friend_lobby:r})}})),(n.premium||n.admin)&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"Span",style:{marginTop:8}},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b-\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432"),l.a.createElement(d.t,{style:{marginTop:8},placeholder:"\u0427\u0438\u0441\u043b\u043e (\u043c\u0430\u043a\u0441 500)",type:"number",min:2,max:500,defaultValue:r.maxPlayers||20,onChange:function(t){r.maxPlayers=parseInt(t.currentTarget.value),e.setState({friend_lobby:r})}})),l.a.createElement(d.h,{style:{marginTop:18,width:"100%"},size:"m",mode:"gradient_blue",stretched:!0,onClick:Object(k.a)(g.a.mark((function n(){var o,s,c,i,u,p;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.props.t.setPopout(l.a.createElement(d.G,null)),o=r.friendsOnly,s=r.timeout,c=r.saveGame,i=r.setCustomWord,u=r.customWord,p=r.maxPlayers,a.call("friends.saveSettings",{friendsOnly:o,timeout:s,saveGame:c,setCustomWord:i,customWord:u,maxPlayers:p},(function(e){e.response&&t.setState({friend_lobby:e.response}),t.setPopout(null),t.back()}));case 3:case"end":return n.stop()}}),n)})))},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}}]),t}(i.PureComponent);qo.defaultProps={};var $o,es=qo,ts=H(),as=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={isFullCanvasShowed:!0,fullCanvasData:null},a.drawLine=a.drawLine.bind(Object(y.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r,o,s,c,i,l,u,p,d,m,f,h,v,b,y,w,E,C,x,_,O,L,S,P,j,A,D,F,I=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.lastScheme=document.body.attributes.getNamedItem("scheme").value,this.clientHeight=this.props.t.clientHeight,this.clientWidth=this.props.t.clientWidth,t=this.canvas,a=this.props,n=a.t.socket,this.canvasContext=t.getContext("2d"),this.componentDidUpdate(),$o=setInterval((function(){var e=I.canvas.toDataURL("image/png");I.setState({fullCanvasData:e})}),200),1,r=0,o=0,s=!1,c=300,i=[],setTimeout(Object(k.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<1)){e.next=9;break}return e.next=4,new Promise((function(e){return n.call("canvas.getHistory",{limit:1,offset:r},(function(t){e(t)}))}));case 4:(a=e.sent).response.length>0?(i.push(a.response),console.log({allData:i.length}),r+=1,t--,i.length-o>2?c-=10:c+=10):s=!0;case 6:t++,e.next=1;break;case 9:case"end":return e.stop()}}),e)}))),100),l=0;case 11:if(!(l<1)){e.next=71;break}if(s){e.next=68;break}if(u=i[o],l--,!u){e.next=66;break}console.log({currentData:o}),o++,p=this.canvasContext,d=!0,m=!1,f=void 0,e.prev=22,h=u[Symbol.iterator]();case 24:if(d=(v=h.next()).done){e.next=50;break}for(b=v.value,y=!0,w=!1,E=void 0,e.prev=29,C=b.lines[Symbol.iterator]();!(y=(x=C.next()).done);y=!0)_=x.value,L=(O=_||{}).x0,S=O.y0,P=O.x1,j=O.y1,A=O.color,D=O.isEraser,F=O.lineWidth,p.beginPath(),D?(p.globalCompositeOperation="destination-out",p.arc(L,S,F,0,2*Math.PI,!1),p.fill()):(p.globalCompositeOperation="source-over",p.moveTo(L,S),p.lineTo(P,j),p.strokeStyle=A,p.fill(),p.lineWidth=F,p.lineCap=p.lineJoin="round",p.stroke()),p.closePath();e.next=37;break;case 33:e.prev=33,e.t0=e.catch(29),w=!0,E=e.t0;case 37:e.prev=37,e.prev=38,y||null==C.return||C.return();case 40:if(e.prev=40,!w){e.next=43;break}throw E;case 43:return e.finish(40);case 44:return e.finish(37);case 45:return e.next=47,M(c);case 47:d=!0,e.next=24;break;case 50:e.next=56;break;case 52:e.prev=52,e.t1=e.catch(22),m=!0,f=e.t1;case 56:e.prev=56,e.prev=57,d||null==h.return||h.return();case 59:if(e.prev=59,!m){e.next=62;break}throw f;case 62:return e.finish(59);case 63:return e.finish(56);case 64:e.next=68;break;case 66:return e.next=68,M(100);case 68:l++,e.next=11;break;case 71:case"end":return e.stop()}}),e,this,[[22,52,56,64],[29,33,37,45],[38,,40,44],[57,,59,63]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.body.setAttribute("scheme",this.lastScheme),clearInterval($o);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,a){"bright_light"!==document.body.attributes.getNamedItem("scheme").value&&setTimeout((function(){return document.body.setAttribute("scheme","bright_light")}),500)}},{key:"drawLine",value:function(e,t,a,n,r,o,s){try{try{var c=this.canvasContext;c.beginPath(),o?(c.globalCompositeOperation="destination-out",c.arc(e,t,s,0,2*Math.PI,!1),c.fill()):(c.globalCompositeOperation="source-over",c.moveTo(e,t),c.lineTo(a,n),c.strokeStyle=r,c.fill(),c.lineWidth=s,c.lineCap=c.lineJoin="round",c.stroke()),c.closePath()}catch(i){}}catch(i){console.log("Error drawLine"),console.error(i)}}},{key:"render",value:function(){var e=this,t=this.state,a=this.props.t,n=t.isFullCanvasShowed,r=t.fullCanvasData;return l.a.createElement("div",{className:"GlobalCanvas"},ts?l.a.createElement("div",{className:"CircleButtonBack",onClick:function(){e.componentWillUnmount(),a.back()}},l.a.createElement(fo.a,null)):l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:function(){e.componentWillUnmount(),a.back()}}),separator:!1}),n&&l.a.createElement("img",{src:r,alt:"canvas"}),l.a.createElement("div",{className:"GlobalCanvas_canvas",ref:function(t){return e.canvas_container=t}},l.a.createElement("canvas",{style:{display:n&&"none"},width:1595,height:1595,ref:function(t){return e.canvas=t},id:"canvas"})))}}]),t}(i.PureComponent);as.defaultProps={};var ns=as,rs=a(833),os=a(834),ss=a(835),cs=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.t,t=e.state.user;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:e.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-TwoCards"},l.a.createElement("div",null,l.a.createElement(rs.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f"),l.a.createElement("p",null,"\u041c\u044b \u0433\u043e\u0442\u043e\u0432\u044b \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043e\u0442 \u043d\u0430\u0448\u0435\u0439 \u043b\u044e\u0431\u0438\u043c\u043e\u0439 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u0438, \u0442\u0430\u043a \u0447\u0442\u043e \u0432\u043f\u0435\u0440\u0451\u0434!"))),l.a.createElement("div",null,l.a.createElement("div",{className:"Suggestions"},l.a.createElement("div",{className:"SuggestionsCards"},[["suggestions_idea",["\u0418\u0434\u0435\u044f","\u0418\u0434\u0435\u0438","\u0418\u0434\u0435\u0439"],"\u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e"],["suggestions_word",["\u0421\u043b\u043e\u0432\u043e","\u0421\u043b\u043e\u0432\u0430","\u0421\u043b\u043e\u0432"],"\u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043e"]].map((function(e,a){return l.a.createElement("div",{key:"Card_".concat(a)},l.a.createElement("p",null,t[e[0]]),l.a.createElement("p",null,N(t[e[0]],e[1],!1)," ",e[2]))}))),l.a.createElement("div",{className:"SuggestionsVariants"},[{icon:l.a.createElement(os.a,null),text:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0438\u0434\u0435\u044e",onClick:function(){return e.go("suggestions_idea")}},{icon:l.a.createElement(ss.a,null),text:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e",onClick:function(){return e.go("suggestions_word")}},{icon:l.a.createElement(Bn.a,null),text:"\u0421\u043e\u043e\u0431\u0449\u0438\u0442\u044c \u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0435",onClick:function(){return Y("https://vk.com/@draw_app-bug")}}].map((function(e,t){var a=e.icon,n=e.text,r=e.onClick;return l.a.createElement("div",{key:"Variant_".concat(t),className:"Variant_".concat(t),onClick:r},a,l.a.createElement("span",null,n))})))))))}}]),t}(i.PureComponent);cs.defaultProps={};var is=cs,ls=(H(),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={input1:"",input2:""},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.t,a=this.state,n=a.input1,r=a.input2;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-TwoCards"},l.a.createElement("div",null,l.a.createElement(os.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u041d\u043e\u0432\u0430\u044f \u0438\u0434\u0435\u044f"),l.a.createElement("p",null,"\u041c\u044b \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u0440\u0438\u0441\u043b\u0443\u0448\u0430\u0435\u043c\u0441\u044f \u043a \u0432\u0430\u0448\u0435\u0439 \u0438\u0434\u0435\u0435, \u043d\u043e \u043f\u0440\u0438\u0434\u0451\u0442\u0441\u044f \u043f\u043e\u0434\u043e\u0436\u0434\u0430\u0442\u044c, \u0442\u0430\u043a \u043a\u0430\u043a \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u043e\u0447\u0435\u043d\u044c \u043c\u043d\u043e\u0433\u043e"))),l.a.createElement("div",null,l.a.createElement("div",{className:"SuggestionsIdea"},l.a.createElement("div",{className:"SuggestionsIdea_Container"},l.a.createElement("div",{className:"Span"},"\u041a\u0440\u0430\u0442\u043a\u043e \u043e\u043f\u0438\u0448\u0438\u0442\u0435 \u0438\u0434\u0435\u044e"),l.a.createElement(d.t,{style:{marginTop:8},placeholder:"\u041d\u043e\u0432\u0430\u044f \u043c\u0435\u0442\u043a\u0430",getRef:function(t){return e.inputIdeaTitle=t},value:n,onChange:function(t){var a=t.currentTarget.value;console.log("Input (title), value = ",a),console.log("Math (title) = ",a.match(/^[0-9a-zA-Z\u0430-\u044f\u0410-\u042f ,.:-]+$/)),(a.match(/^[0-9a-zA-Z\u0430-\u044f\u0410-\u042f ,.:-]+$/)||""===a)&&a.length<=200&&e.setState({input1:a})}}),l.a.createElement("div",{className:"Span",style:{marginTop:8}},"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e \u043e\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u0438\u0434\u0435\u044e"),l.a.createElement(d.Q,{style:{marginTop:8},placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043c\u0435\u0442\u043a\u0443 \u041a\u043b\u0438\u043f\u0435\u0440. \u042d\u0442\u0443 \u043c\u0435\u0442\u043a\u0443 \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043d\u0438\u043c\u0430\u044e\u0442 \u043a\u043b\u0438\u043f\u044b \u043f\u043e \u0438\u0433\u0440\u0435.",getRef:function(t){return e.inputIdeaDescription=t},value:r,onChange:function(t){var a=t.currentTarget.value;console.log("Input (desc), value = ",a),console.log("Math (desc) = ",a.match(/^[0-9a-zA-Z\u0430-\u044f\u0410-\u042f ,.:-]+$/)),(a.match(/^[0-9a-zA-Z\u0430-\u044f\u0410-\u042f ,.:-]+$/)||""===a)&&a.length<=600&&e.setState({input2:a})}})),l.a.createElement(d.h,{style:{marginTop:12,width:"100%"},size:"m",mode:"gradient_blue",stretched:!0,onClick:Object(k.a)(g.a.mark((function a(){var n,r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.inputIdeaTitle.value,r=e.inputIdeaDescription.value,0!==n.length&&0!==r.length){a.next=5;break}return t.setSnackbar("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f."),a.abrupt("return");case 5:if(!(r.split(" ").length<3)){a.next=8;break}return t.setSnackbar("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435."),a.abrupt("return");case 8:if(0!==n.replace(/^[0-9 ,.:-]+$/,"").length&&0!==r.replace(/^[0-9 ,.:-]+$/,"").length){a.next=11;break}return t.setSnackbar("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435."),a.abrupt("return");case 11:if(!(n.length>200||r.length>600)){a.next=14;break}return t.setSnackbar("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435."),a.abrupt("return");case 14:if(!(n.length<5||r.length<5)){a.next=17;break}return t.setSnackbar("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435."),a.abrupt("return");case 17:t.setPopout(l.a.createElement(d.G,null)),t.socket.call("suggestions.add",{type:"idea",title:n,description:r},(function(e){t.setPopout(null),e.response?t.go("suggestions_done"):t.setSnackbar(e.error.message)}));case 19:case"end":return a.stop()}}),a)})))},"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c"),t.state.user.admin&&l.a.createElement(d.h,{style:{marginTop:6,width:"100%"},size:"m",mode:"gradient_gray",stretched:!0,onClick:Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.socket.call("suggestions.getList",{type:"idea"},function(){var e=Object(k.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({suggestions_type:"idea",suggestions_list:a.response});case 2:t.go("suggestions_list");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))},"\u0421\u043f\u0438\u0441\u043e\u043a")))))}}]),t}(i.PureComponent));ls.defaultProps={};var us=ls,ps=(H(),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={input:""},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.t,a=this.state.input;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-TwoCards"},l.a.createElement("div",null,l.a.createElement(ss.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u041d\u043e\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e"),l.a.createElement("p",null,"\u041f\u043e\u0441\u0442\u0430\u0440\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043b\u043e\u0432\u043e \u0431\u0435\u0437 \u043e\u0448\u0438\u0431\u043e\u043a. \u0418 \u0441\u0430\u043c\u043e\u0435 \u0433\u043b\u0430\u0432\u043d\u043e\u0435, \u0447\u0442\u043e\u0431\u044b \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0443 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0431\u044b\u043b\u043e \u043f\u043e\u043d\u044f\u0442\u043d\u043e, \u043a\u0430\u043a \u0435\u0433\u043e \u0438\u0437\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c, \u0438 \u043e\u0442\u0433\u0430\u0434\u0430\u0442\u044c \u0440\u0438\u0441\u0443\u043d\u043e\u043a."))),l.a.createElement("div",null,l.a.createElement("div",{className:"SuggestionsWord"},l.a.createElement("div",{className:"SuggestionsWord_Container"},l.a.createElement("div",{className:"Span"},"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043b\u043e\u0432\u043e"),l.a.createElement(d.t,{style:{marginTop:8},placeholder:"\u041c\u043e\u0440\u043a\u043e\u0432\u044c",getRef:function(t){return e.inputWord=t},value:a,onChange:function(t){var a=t.currentTarget.value;console.log("Input (word), value = ",a),console.log("Math (word) = ",a.match(/^[\u0430-\u044f\u0410-\u042f- ]+$/)),(a.match(/^[\u0430-\u044f\u0410-\u042f- ]+$/)||""===a)&&a.length<=33&&e.setState({input:a})}})),l.a.createElement(d.h,{style:{marginTop:12,width:"100%"},size:"m",mode:"gradient_blue",stretched:!0,onClick:Object(k.a)(g.a.mark((function a(){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==(n=e.inputWord.value).length){a.next=4;break}return t.setSnackbar("\u0412\u044b \u043d\u0435 \u0432\u0432\u0435\u043b\u0438 \u0441\u043b\u043e\u0432\u043e."),a.abrupt("return");case 4:if(!(n.length>33)){a.next=7;break}return t.setSnackbar("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0441\u043b\u043e\u0432\u043e."),a.abrupt("return");case 7:t.setPopout(l.a.createElement(d.G,null)),t.socket.call("suggestions.add",{type:"word",title:n},(function(e){t.setPopout(null),e.response?t.go("suggestions_done"):t.setSnackbar(e.error.message)}));case 9:case"end":return a.stop()}}),a)})))},"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c"),t.state.user.admin&&l.a.createElement(d.h,{style:{marginTop:6,width:"100%"},size:"m",mode:"gradient_gray",stretched:!0,onClick:Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.socket.call("suggestions.getList",{type:"word"},function(){var e=Object(k.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({suggestions_type:"word",suggestions_list:a.response});case 2:t.go("suggestions_list");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))},"\u0421\u043f\u0438\u0441\u043e\u043a")))))}}]),t}(i.PureComponent));ps.defaultProps={};var ds=ps,ms=H(),fs=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={offset:e.list.length,limit:10,canGetMore:e.list.length>0,prevY:0},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef)}},{key:"handleObserver",value:function(e,t){var a=this,n=e[0].boundingClientRect.y,r=this.props.t,o=this.state,s=o.prevY,c=o.offset,i=o.limit,l=o.canGetMore;(0===s||s>n)&&l&&(this.setState({spinner:!0}),r.socket.call("suggestions.getList",{type:this.props.type,offset:c,limit:i},function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({suggestions_list:[].concat(Object(v.a)(r.state.suggestions_list),Object(v.a)(t.response))}),a.setState({canGetMore:t.response.length>0,spinner:!1}),a.forceUpdate();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.setState({offset:c+i})),this.setState({prevY:n})}},{key:"actionButtons",value:function(e,t){var a=this,n=this.props.t;return l.a.createElement("div",{style:{display:"flex",marginTop:12}},l.a.createElement(d.h,{mode:"gradient_blue",onClick:function(){n.socket.call("suggestions.approve",{id:e},function(){var e=Object(k.a)(g.a.mark((function e(r){var o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.response){e.next=8;break}return(o=n.state.suggestions_list).splice(t,1),e.next=5,n.setState({suggestions_list:o});case 5:a.forceUpdate(),e.next=10;break;case 8:n.setSnackbar(r.error.message),a.forceUpdate();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"\u041e\u0434\u043e\u0431\u0440\u0438\u0442\u044c"),l.a.createElement(d.h,{mode:"gradient_",style:{marginLeft:6},onClick:function(){n.socket.call("suggestions.decline",{id:e},function(){var e=Object(k.a)(g.a.mark((function e(r){var o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.response){e.next=8;break}return(o=n.state.suggestions_list).splice(t,1),e.next=5,n.setState({suggestions_list:o});case 5:a.forceUpdate(),e.next=10;break;case 8:n.setSnackbar(r.error.message),a.forceUpdate();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c"))}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.list,r=t.type,o=this.state.spinner;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:a.back}),separator:!1},ms&&"\u0421\u043f\u0438\u0441\u043e\u043a ".concat("idea"===r?"\u0438\u0434\u0435\u0439":"\u0441\u043b\u043e\u0432")),l.a.createElement("div",{className:"SuggestionsList"},!ms&&l.a.createElement("h2",{style:{textAlign:"left"}},"\u0421\u043f\u0438\u0441\u043e\u043a ".concat("idea"===r?"\u0438\u0434\u0435\u0439":"\u0441\u043b\u043e\u0432")),l.a.createElement("div",{className:"SuggestionsList_Container"},l.a.createElement(d.i,{size:"l"},n.map((function(t,a){return"idea"===r?l.a.createElement(d.l,{key:"Card_".concat(a),header:t.title,caption:l.a.createElement(l.a.Fragment,null,t.description,e.actionButtons(t.id,a))}):l.a.createElement(d.l,{disabled:!1,key:"Card_".concat(a),header:t.title,caption:e.actionButtons(t.id,a)})}))))),o&&l.a.createElement(d.M,{size:"small",style:{margin:"20px 0"}}),l.a.createElement("div",{ref:function(t){return e.loadingRef=t}}))}}]),t}(i.PureComponent);fs.defaultProps={};var hs=fs,vs=function(e){function t(e){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.t,t=e.state.user,a=Math.min(10*t.lvl,100);return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:e.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-TwoCards"},l.a.createElement("div",null,l.a.createElement(ya.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u0423\u0440\u043e\u0432\u0435\u043d\u044c"),l.a.createElement("p",null,"\u041f\u043e\u043b\u0443\u0447\u0430\u0439\u0442\u0435 \u043e\u043f\u044b\u0442, \u0440\u0438\u0441\u0443\u044f \u0438 \u0443\u0433\u0430\u0434\u044b\u0432\u0430\u044f \u043a\u0430\u0440\u0442\u0438\u043d\u044b. \u0421 \u043a\u0430\u0436\u0434\u044b\u043c \u043d\u043e\u0432\u044b\u043c \u0443\u0440\u043e\u0432\u043d\u0435\u043c \u0432\u044b \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442\u0435 +10% \u0446\u0432\u0435\u0442\u043e\u0432\u043e\u0439 \u043f\u0430\u043b\u0438\u0442\u0440\u044b.")),l.a.createElement("div",{className:"UserLvl"},l.a.createElement("div",{className:"UserLvlProgress"},l.a.createElement("div",null,l.a.createElement("div",{style:{width:100/(100*t.lvl)*t.xp+"%"}})),l.a.createElement("div",null,l.a.createElement("span",null,t.xp,"XP ",l.a.createElement("span",null,"/")," ",100*t.lvl,"XP"),l.a.createElement("span",null,"LVL ",t.lvl))))),l.a.createElement("div",null,l.a.createElement("p",{className:"Panel_Container_Card-Header"},"\u0421\u0435\u0439\u0447\u0430\u0441 \u0442\u0435\u0431\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e ",a,"%"),l.a.createElement("div",{className:"UserLvlTemp"},l.a.createElement("div",{className:"Opacity",style:{left:a+"%"}})))))}}]),t}(i.PureComponent);vs.defaultProps={};var bs=vs;function gs(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ks(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?gs(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gs(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ys=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).authorClick=a.authorClick.bind(Object(y.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"authorClick",value:function(e){var t=this.props.t;t.setPopout(l.a.createElement(d.G,null)),t.socket.call("users.getById",{id:e},function(){var a=Object(k.a)(g.a.mark((function a(n){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.socket.call("games.getByDrawerId",{id:e},function(){var a=Object(k.a)(g.a.mark((function a(r){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.setState({author:ks({id:e},n.response||{}),author_works:r.response});case 2:t.go("author"),t.setPopout(null);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},{key:"render",value:function(){var e=this,t=this.props.t,n=t.state,r=n.user,o=n.week_gift_top,s=o.map((function(e){return ks({},ue[e.id],{},e)})),c=o.findIndex((function(e){return e.id===r.id}))>-1;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"WeekGifts"},l.a.createElement("div",{className:"WeekGifts_Texts"},l.a.createElement("h1",null,"\u0420\u043e\u0437\u044b\u0433\u0440\u044b\u0448"),l.a.createElement("p",null,"\u041d\u0430 \u044d\u0442\u043e\u0439 \u043d\u0435\u0434\u0435\u043b\u0435 \u043c\u044b \u0434\u0430\u0440\u0438\u043c \u0441\u0442\u0438\u043a\u0435\u0440\u044b \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u0442\u0440\u0451\u043c \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c \u0445\u0443\u0434\u043e\u0436\u043d\u0438\u043a\u0430\u043c"),l.a.createElement("p",null,"\u0427\u0435\u043c \u0431\u043e\u043b\u044c\u0448\u0435 \u043a\u0430\u0440\u0442\u0438\u043d \u0432\u044b \u043d\u0430\u0440\u0438\u0441\u0443\u0435\u0442\u0435, \u0442\u0435\u043c \u0432\u044b\u0448\u0435 \u0448\u0430\u043d\u0441 \u0442\u043e\u0433\u043e, \u0447\u0442\u043e \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u043f\u0440\u0438\u0437")),s[0]&&l.a.createElement("div",{className:"WeekGifts_Users"},l.a.createElement("div",{className:"UserContainer",onClick:function(){return s[0].id===r.id?t.go("gallery"):e.authorClick(s[0].id)}},l.a.createElement(_a,{size:80,src:s[0].photo_100,frame:s[0].frame_type,color:s[0].frame_color}),l.a.createElement("div",{className:"UserNameScore"},l.a.createElement("h2",null,s[0].first_name),l.a.createElement("p",null,s[0].picturesWeek))),l.a.createElement("div",{className:"UsersContainer"},s[1]&&l.a.createElement("div",{className:"UserContainer",onClick:function(){return s[1].id===r.id?t.go("gallery"):e.authorClick(s[1].id)}},l.a.createElement(_a,{size:80,src:s[1].photo_100,frame:s[1].frame_type,color:s[1].frame_color}),l.a.createElement("div",{className:"UserNameScore"},l.a.createElement("h2",null,s[1].first_name),l.a.createElement("p",null,s[1].picturesWeek))),s[2]&&l.a.createElement("div",{className:"UserContainer",onClick:function(){return s[2].id===r.id?t.go("gallery"):e.authorClick(s[2].id)}},l.a.createElement(_a,{size:80,src:s[2].photo_100,frame:s[2].frame_type,color:s[2].frame_color}),l.a.createElement("div",{className:"UserNameScore"},l.a.createElement("h2",null,s[2].first_name),l.a.createElement("p",null,s[2].picturesWeek)))),!c&&l.a.createElement("div",{className:"UserContainer",onClick:function(){return t.go("gallery")}},l.a.createElement(_a,{size:46,src:ue[r.id].photo_100,frame:ue[r.id].frame_type,color:ue[r.id].frame_color}),l.a.createElement("div",{className:"UserNameScore"},l.a.createElement("h2",null,"\u0412\u044b"),l.a.createElement("p",null,r.picturesWeek)))),l.a.createElement("img",{alt:"background",className:"Background",src:X(a(361))})))}}]),t}(i.PureComponent);ys.defaultProps={};var ws,Es,Cs=ys,xs=a(305),_s=a(410),Os=a(430),Ls={},Ss=0,Ps=0,js=[],As=[],Ds=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={drawing:!1,isEraser:!1,lineWidth:6},a.onMouseDown=a.onMouseDown.bind(Object(y.a)(a)),a.onMouseUp=a.onMouseUp.bind(Object(y.a)(a)),a.throttle=a.throttle.bind(Object(y.a)(a)),a.onMouseMove=a.onMouseMove.bind(Object(y.a)(a)),a.drawLine=a.drawLine.bind(Object(y.a)(a)),a.undoDraw=a.undoDraw.bind(Object(y.a)(a)),a.clear=a.clear.bind(Object(y.a)(a)),a.train=a.train.bind(Object(y.a)(a)),a.predict=a.predict.bind(Object(y.a)(a)),a.canvasSize=319,a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillUnmount",value:function(){f.a.send("VKWebAppEnableSwipeBack")}},{key:"componentDidMount",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r,o,s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return As=[],f.a.send("VKWebAppDisableSwipeBack"),t=this.canvas,a=this.onMouseDown,n=this.onMouseUp,r=this.throttle,o=this.onMouseMove,s=this.props,c=s.t,this.canvasContext=t.getContext("2d"),c.setState({pickedColor:"#000000",color_gradient:void 0,color_percent:0}),t.addEventListener("mousedown",a,!1),t.addEventListener("mouseup",n,!1),t.addEventListener("mouseout",n,!1),t.addEventListener("mousemove",r(o,10),!1),t.addEventListener("touchstart",a,!1),t.addEventListener("touchend",n,!1),t.addEventListener("touchcancel",n,!1),t.addEventListener("touchmove",r(o,10),!1),c.setPopout(l.a.createElement(d.G,null)),ws=_s.a(),e.next=17,Os.a();case 17:Es=e.sent,c.setPopout(null);case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onMouseDown",value:function(e){this.setState({drawing:!0}),Ls.x=e.clientX||e.touches[0].clientX,Ls.y=e.clientY||e.touches[0].clientY,js=[]}},{key:"onMouseUp",value:function(e){var t=this.state,a=t.drawing,n=t.isEraser,r=t.lineWidth;if(a){this.setState({drawing:!1});try{var o=this.canvas.getBoundingClientRect();try{this.drawLine(Ls.x-o.left,Ls.y-o.top,(e.clientX||e.touches[0].clientX)-o.left,(e.clientY||e.touches[0].clientY)-o.top,this.props.color,n,r)}catch(e){}console.log("Lines: ".concat(js.length)),js.length>0&&(As.push(js),js=[])}catch(s){console.log(s)}}}},{key:"onMouseMove",value:function(e){var t=this.state,a=t.drawing,n=t.isEraser,r=t.lineWidth;if(a){try{var o=this.canvas.getBoundingClientRect();this.drawLine(Ls.x-o.left,Ls.y-o.top,(e.clientX||e.touches[0].clientX)-o.left,(e.clientY||e.touches[0].clientY)-o.top,this.props.color,n,r),Ls.x=e.clientX||e.touches[0].clientX,Ls.y=e.clientY||e.touches[0].clientY}catch(s){console.log(s)}return!1}}},{key:"drawLine",value:function(e,t,a,n,r,o,s){var c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],i=arguments.length>8?arguments[8]:void 0;try{this.props.t;var l=i?i.getContext("2d"):this.canvasContext;if("object"===typeof r){var u=r[Ss]||r[0],p=r[Ss+1]||r[0];r=I(u,p,Ps,r.length),0===(Ps+=r.length===Ps?-Ps:1)&&(Ss+=r.length===Ss?-Ss:1)}l.beginPath(),o?(l.globalCompositeOperation="destination-out",l.arc(2*e,2*t,1.2*s,0,2*Math.PI,!1),l.fill()):(l.globalCompositeOperation="source-over",l.moveTo(2*e,2*t),l.lineTo(2*a,2*n),l.strokeStyle=r,l.fill(),l.lineWidth=s,l.lineCap=l.lineJoin="round",l.stroke()),l.closePath(),c&&js.push({x0:e,y0:t,x1:a,y1:n,color:r,isEraser:o,lineWidth:s})}catch(d){}}},{key:"throttle",value:function(e,t){var a=(new Date).getTime();return function(){var n=(new Date).getTime();n-a>=t&&(a=n,e.apply(null,arguments))}}},{key:"undoDraw",value:function(){var e=this.canvasContext;As.splice(As.length-1,1),e.clearRect(0,0,638,638),As.length>0&&(As.forEach((function(t){t.forEach((function(t){var a=t.x0,n=t.y0,r=t.x1,o=t.y1,s=t.color,c=t.isEraser,i=t.lineWidth;e.beginPath(),c?(e.globalCompositeOperation="destination-out",e.arc(2*a,2*n,1.2*i,0,2*Math.PI,!1),e.fill()):(e.globalCompositeOperation="source-over",e.moveTo(2*a,2*n),e.lineTo(2*r,2*o),e.strokeStyle=s,e.fill(),e.lineWidth=i,e.lineCap=e.lineJoin="round",e.stroke())}))})),e.closePath())}},{key:"clear",value:function(){As=[],this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"train",value:function(){var e=this.props.t,t=this.state.trainLabel;e.setPopout(l.a.createElement(d.G,null));var a=xs.a.fromPixels(this.canvas),n=Es.infer(a,!0);ws.addExample(n,t),this.clear(),a.dispose(),e.setPopout(null)}},{key:"predict",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.t).setPopout(l.a.createElement(d.G,null)),a=xs.a.fromPixels(this.canvas),n=Es.infer(a,!0),e.next=6,ws.predictClass(n);case 6:r=e.sent,console.log(r),t.setAlert("Predict",r.label,[{title:"True",autoclose:!0},{title:"False",mode:"cancel",action:this.train,autoclose:!0}],"horizontal");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t,a=this.state,n=a.isEraser,r=a.lineWidth,o=a.trainLabel,s=H(),c=function(){return t.setActivePanel("main")};return l.a.createElement("div",{className:"Game"},!s&&l.a.createElement("div",{className:"NativeButtonMiniAppTop",onClick:c,style:{height:!V()&&37}},"\u0412\u044b\u0439\u0442\u0438"),l.a.createElement("div",{style:{display:s&&"flex"}},l.a.createElement("div",{className:"Canvas__"},l.a.createElement("div",{className:"Canvas_Container_Clear",style:{width:this.canvasSize,height:this.canvasSize}},l.a.createElement("canvas",{style:{width:this.canvasSize,height:this.canvasSize},width:638,height:638,ref:function(t){return e.canvas=t},id:"canvas"})),l.a.createElement("div",{className:"Canvas_Items_Container"},l.a.createElement(d.K,{step:1,min:4,max:30,value:Number(r),onChange:function(t){return e.setState({lineWidth:t})}}),l.a.createElement("div",{className:"Canvas_SubItems_Container"},l.a.createElement(d.s,{hasHover:!1,onClick:function(){t.setActiveModal(Ac)}},l.a.createElement(mn.a,{width:21,height:21})),l.a.createElement(d.s,{style:{border:n&&"2px solid var(--color_secondary)"},hasHover:!1,onClick:function(){e.setState({isEraser:!n})}},l.a.createElement(ln,null)),l.a.createElement(d.s,{hasHover:!1,onClick:function(){As.length>0&&e.undoDraw()}},l.a.createElement(vn.a,{width:21,height:21})))),s&&l.a.createElement(d.h,{style:{marginTop:28},stretched:!0,size:"l",mode:"secondary",onClick:c},"\u0412\u044b\u0439\u0442\u0438")),l.a.createElement("div",{className:"TrainActions"},l.a.createElement(d.t,{style:{marginTop:24},value:o,onChange:function(t){return e.setState({trainLabel:t.currentTarget.value})},placeholder:"\u0427\u0442\u043e \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043d\u043e?"}),l.a.createElement(d.h,{style:{marginTop:12},stretched:!0,size:"l",mode:"secondary",disabled:!o||0===o.length,onClick:this.train},"\u041d\u0430\u0443\u0447\u0438\u0442\u044c"),l.a.createElement(d.h,{style:{marginTop:24},stretched:!0,size:"l",mode:"secondary",onClick:this.predict},"\u0420\u0430\u0441\u043f\u043e\u0437\u043d\u0430\u0442\u044c"))))}}]),t}(i.PureComponent);Ds.defaultProps={};var Fs,Is=Ds,Ms=a(836),Ns=H(),Ts=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"ArtBattlePlaceholder"},l.a.createElement("div",{className:"ArtBattlePlaceholder--Title"},l.a.createElement(da.a,{width:36,height:36}),l.a.createElement("h1",null,"\u0411\u0438\u0442\u0432\u0430 \u0430\u0440\u0442\u043e\u0432")),l.a.createElement("div",{className:"ArtBattlePlaceholder--Steps"},["\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c","\u041f\u043e\u0441\u0442\u0430\u0440\u0430\u0439\u0442\u0435\u0441\u044c \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0439 \u0440\u0438\u0441\u0443\u043d\u043e\u043a","\u041f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u0443\u0439\u0442\u0435 \u0437\u0430 \u043b\u0443\u0447\u0448\u0438\u0439 \u0440\u0438\u0441\u0443\u043d\u043e\u043a"].map((function(e,t){return l.a.createElement("div",{key:"step-".concat(t)},l.a.createElement("span",null,t+1),l.a.createElement("span",null,e))}))),l.a.createElement("div",{className:"ArtBattlePlaceholder--Actions"},l.a.createElement(d.h,{stretched:!0,size:"l",mode:"gradient_red",onClick:Object(k.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.t.setState({game_timeout:120,lobbyId:-1,drawerId:e.props.t.state.user.id,gameStart:Date.now(),isOnlineDrawing:!0,subGameInfo:{battle:!0},api_manager:2});case 2:e.props.t.go("search_game");case 3:case"end":return t.stop()}}),t)})))},"\u041d\u0430\u0439\u0442\u0438 \u0438\u0433\u0440\u0443"),l.a.createElement(d.h,{stretched:!0,size:"l",mode:"secondary",onClick:function(){return e.props.t.back()}},"\u041e\u0442\u043c\u0435\u043d\u0430")))}}]),t}(i.PureComponent),Bs={},Ws=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={timeStep:10,time:10,step:0,steps:Object.keys(e.t.state.artBattleHistory).length,rates:[]},a.componentDidMount=a.componentDidMount.bind(Object(y.a)(a)),a.renderCanvas=a.renderCanvas.bind(Object(y.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.renderCanvas(),Fs=setInterval(Object(k.a)(g.a.mark((function t(){var a,n,r,o,s,c,i,l,u,p,d;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.rates,r=a.time,o=a.step,s=a.steps,c=a.timeStep,!(--r<0)){t.next=15;break}if(o!==s-1){t.next=8;break}console.log("interval clear"),clearInterval(Fs),t.next=13;break;case 8:return r=c,o++,t.next=12,e.setState({time:r,step:o});case 12:e.renderCanvas();case 13:t.next=17;break;case 15:r!==c||n[o-1]||(i=e.props,l=i.lobbyId,u=i.t,p=u.state.artBattleHistory,d=Object.keys(p)[o-1],n[o-1]=B(1,5),u.socket.call("games.rateAuthor",{lobbyId:l,author:d,rate:n[o-1]-1}),e.setState({rates:n})),e.setState({time:r});case 17:case"end":return t.stop()}}),t)}))),1e3),this.props.t.socket.unsubscribe("gameEnd","gamePreloadEnd"),this.props.t.socket.subscribe("gameEnd",function(){var t=Object(k.a)(g.a.mark((function t(a){var n,r,o,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.winnerId,r=a.word,o=a.gameId,s=a.lobbyId,e.props.t.log("game_logs","in_gameEnd",{win:n,word:r,game:o,lobby_id:s}),0===n){t.next=5;break}return t.next=5,me([n]);case 5:e.props.t.setState({canvas_:Bs[n],winnerId:n,word:r,gameId:o,gameEnd:Date.now()}),e.props.t.setActivePanel("result"),e.props.t.setPopout(null),console.log("Game end");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.props.t.socket.unsubscribe("gamePreloadEnd","gameEnd","gameAfkEnd","gameErrorEnd","draw","clear","message")}},{key:"renderCanvas",value:function(){var e=this.props.t.state.artBattleHistory;if(e){this.props.t.setPopout(l.a.createElement(d.G,null));var t=e[Object.keys(e)[this.state.step]];if(t.length>0){var a=this.canvas.getContext("2d");a.clearRect(0,0,638,638),t.forEach((function(e){e.forEach((function(e){var t=e.x0,n=e.y0,r=e.x1,o=e.y1,s=e.color,c=e.isEraser,i=e.lineWidth,l=e.multiplier;a.beginPath(),c?(a.globalCompositeOperation="destination-out",a.arc(t*l,n*l,1.2*i,0,2*Math.PI,!1),a.fill()):(a.globalCompositeOperation="source-over",a.moveTo(t*l,n*l),a.lineTo(r*l,o*l),a.strokeStyle=s,a.fill(),a.lineWidth=i,a.lineCap=a.lineJoin="round",a.stroke())}))})),a.closePath()}Bs[Object.keys(e)[this.state.step]]=this.canvas.toDataURL("image/png"),this.props.t.setPopout(null)}}},{key:"render",value:function(){var e=this,t=this.state,n=t.time,r=t.rates,o=t.step,s=this.props,c=s.t,i=s.lobbyId,u=c.state.artBattleHistory,p=Object.keys(u),d=p[o];return l.a.createElement("div",{className:"ArtBattleRate"},l.a.createElement("div",{style:{width:Ns?319:"100%",alignSelf:"flex-start"},ref:function(t){return e.header=t}},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement("h2",{style:{textAlign:"left",marginLeft:6}},"\u041e\u0446\u0435\u043d\u0438\u0442\u0435 \u0440\u0438\u0441\u0443\u043d\u043e\u043a")),l.a.createElement("h2",{style:{textAlign:"right",width:"25%",color:"var(--color_secondary)",wordWrap:"normal"}},n>=0?n:0," \u0441\u0435\u043a"))),l.a.createElement("div",{style:{display:Ns&&"flex"}},l.a.createElement("div",{className:"Canvas__"},l.a.createElement("div",{className:"Canvas_Container_Clear",style:{width:319,height:319}},l.a.createElement("canvas",{style:{width:319,height:319},width:638,height:638,ref:function(t){return e.canvas=t},id:"canvas"})),l.a.createElement("div",{className:"ArtBattleRate--RateActions"},new Array(5).fill(0).map((function(t,n){return l.a.createElement("div",{key:"act-".concat(n),style:{opacity:r[o]&&r[o]!==n+1&&.25,pointerEvents:r[o]&&"none"},onClick:function(){r[o]||(r[o]=n+1,e.setState({rates:r}),c.socket.call("games.rateAuthor",{lobbyId:i,author:d,rate:n}),e.forceUpdate())}},l.a.createElement("img",{alt:"icon",src:X(a(725)("./reaction-".concat(n,".webp")))}))}))),!Ns&&l.a.createElement("div",{className:"ArtBattleRate--Author"},l.a.createElement(_a,{size:36,src:ue[d].photo_100,frame:ue[d].frame_type,color:ue[d].frame_color}),l.a.createElement("span",null,ue[d].first_name," ",ue[d].last_name),l.a.createElement("div",{style:{display:void 0===p[o+1]&&"none"}},p[o+1]&&l.a.createElement(l.a.Fragment,null,l.a.createElement(_a,{size:32,src:ue[p[o+1]].photo_100,frame:ue[p[o+1]].frame_type,color:ue[p[o+1]].frame_color}),l.a.createElement("div",null,l.a.createElement(Ms.a,{width:10,height:10,fill:"#99A2AD"})))))),Ns&&l.a.createElement("div",{className:"ArtBattle--Users"},p.map((function(e,t){return l.a.createElement("div",{key:"author-".concat(t),style:{opacity:o!==t&&.5}},l.a.createElement(_a,{size:32,src:ue[e].photo_100,frame:ue[e].frame_type,color:ue[e].frame_color}),l.a.createElement("span",null,ue[e].first_name," ",ue[e].last_name.substring(0,1),"."),l.a.createElement(Ms.a,{style:{display:(o!==t||t===p.length-1)&&"none"},fill:"#99A2AD"}))})))))}}]),t}(i.PureComponent),Rs=H(),Gs="opros_startgame_rsv",Us="ad_startgame",zs=function(){return Date.now()<16930836e5},Vs=l.a.createElement("svg",{className:"AdvertMark",width:"56",height:"39",viewBox:"0 0 56 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("g",{"clip-path":"url(#clip0_2343_2785)"},l.a.createElement("path",{d:"M9.0771 14.6397C8.84392 14.7317 8.58382 14.7107 8.29678 14.5769C8.00973 14.443 7.82507 14.2566 7.74278 14.0175C7.66334 13.7798 7.69385 13.5103 7.83433 13.2091L9.8699 8.84377C10.0104 8.54251 10.1972 8.34591 10.4304 8.25397C10.6664 8.16334 10.9279 8.18496 11.215 8.31881L13.1205 9.20738C13.8083 9.52809 14.2663 9.98906 14.4946 10.5903C14.7257 11.1928 14.6822 11.8351 14.3641 12.5172C14.0501 13.1908 13.5766 13.6274 12.9437 13.827C12.3109 14.0267 11.6335 13.9582 10.9116 13.6216L10.0334 13.2121L9.64184 14.0519C9.50136 14.3532 9.31311 14.5491 9.0771 14.6397ZM10.6556 11.8778L11.1629 12.1144C11.467 12.2562 11.738 12.2908 11.976 12.2184C12.2152 12.1431 12.4024 11.9605 12.5376 11.6707C12.6714 11.3836 12.6896 11.1257 12.5922 10.8969C12.4989 10.6665 12.3031 10.4818 12.0047 10.3427L11.4846 10.1001L10.6556 11.8778ZM15.3215 17.8681C14.5513 17.509 14.0495 17.012 13.8161 16.3773C13.5841 15.7397 13.6463 15.0387 14.0028 14.2742C14.3619 13.504 14.8615 12.9965 15.5016 12.7518C16.1429 12.5042 16.8331 12.5526 17.572 12.8972C18.291 13.2325 18.7747 13.7089 19.023 14.3264C19.2727 14.9411 19.2478 15.5695 18.9483 16.2118C18.8502 16.4221 18.7171 16.5555 18.5489 16.612C18.3807 16.6685 18.1886 16.6464 17.9726 16.5457L15.5256 15.4047L15.4739 15.5155C15.3666 15.7457 15.3531 15.9713 15.4335 16.1921C15.5152 16.4101 15.6726 16.5735 15.9056 16.6822C16.0961 16.7709 16.2797 16.8185 16.4567 16.8249C16.6365 16.8326 16.8446 16.8017 17.0812 16.7321C17.2093 16.6949 17.319 16.6786 17.4103 16.6831C17.5058 16.6861 17.6075 16.7128 17.7155 16.7632C17.8917 16.8453 18.0171 16.9696 18.0918 17.1359C18.1665 17.3022 18.1621 17.4749 18.0786 17.6539C18.0163 17.7875 17.9183 17.8975 17.7846 17.9839C17.5064 18.1725 17.1453 18.2567 16.7015 18.2366C16.2618 18.2149 15.8018 18.0921 15.3215 17.8681ZM15.9925 14.4702L17.459 15.154C17.5428 14.9371 17.5457 14.7343 17.4676 14.5457C17.3937 14.3555 17.2544 14.2127 17.0498 14.1173C16.8508 14.0245 16.6527 14.0117 16.4553 14.0788C16.2579 14.1459 16.1037 14.2764 15.9925 14.4702ZM19.7775 19.645C19.554 19.7311 19.303 19.7092 19.0244 19.5793C18.7459 19.4494 18.5664 19.2705 18.4858 19.0427C18.4094 18.8133 18.4381 18.5551 18.572 18.268L20.0231 15.156C20.157 14.869 20.3356 14.6824 20.5592 14.5964C20.7868 14.5088 21.0399 14.5299 21.3184 14.6598C21.5941 14.7883 21.7716 14.968 21.8508 15.1987C21.9301 15.4294 21.9028 15.6883 21.7689 15.9753L21.3416 16.8919L21.3757 16.9078L23.1815 15.9956C23.3628 15.9037 23.5143 15.8533 23.6361 15.8443C23.7621 15.8339 23.8961 15.8618 24.0382 15.928C24.2542 16.0288 24.4065 16.1845 24.495 16.3954C24.5864 16.6075 24.5864 16.8116 24.4949 17.0077C24.3995 17.2123 24.2568 17.3551 24.0668 17.4361L22.6749 18.017L23.1071 19.8171C23.1626 20.054 23.1454 20.2691 23.0552 20.4624C22.9452 20.6983 22.7771 20.8586 22.5507 20.9434C22.3257 21.0253 22.0966 21.0119 21.8636 20.9032C21.6874 20.821 21.5548 20.7159 21.4657 20.5879C21.3795 20.4612 21.3109 20.2891 21.2601 20.0716L20.8151 18.1099L20.781 18.094L20.3198 19.083C20.1859 19.3701 20.0052 19.5574 19.7775 19.645ZM24.0407 21.8354C23.7536 21.7015 23.5571 21.5182 23.4512 21.2854C23.3465 21.0498 23.3479 20.8168 23.4552 20.5866C23.5427 20.3991 23.6578 20.2746 23.8007 20.2132C23.9463 20.1531 24.103 20.1621 24.2707 20.2403L24.2749 20.2423C24.4284 20.3138 24.5714 20.2854 24.704 20.1569C24.8394 20.0297 25.0177 19.7513 25.2388 19.3216L25.8801 18.0688C26.0333 17.77 26.2243 17.5754 26.4533 17.485C26.6837 17.3917 26.9409 17.4113 27.2251 17.5439L29.4845 18.5974C29.7716 18.7313 29.9548 18.9171 30.0343 19.1548C30.1166 19.3939 30.0875 19.664 29.947 19.9653L28.5654 22.928C28.4316 23.2151 28.2508 23.4024 28.0231 23.49C27.7996 23.5761 27.5486 23.5542 27.2701 23.4243C26.9916 23.2944 26.812 23.1155 26.7314 22.8877C26.655 22.6583 26.6837 22.4001 26.8176 22.113L28.0481 19.4742L27.2381 19.0965L26.5741 20.3646C26.1954 21.0877 25.7976 21.5699 25.3805 21.8114C24.9676 22.0513 24.521 22.0593 24.0407 21.8354ZM30.1793 24.7341C29.7416 24.5301 29.4308 24.2208 29.2469 23.8064C29.0644 23.3891 29.0699 22.973 29.2633 22.558C29.4727 22.109 29.8007 21.8398 30.2472 21.7504C30.6978 21.6596 31.2493 21.742 31.9016 21.9977L32.9631 22.4149L33.0704 22.1847C33.142 22.0312 33.1451 21.8873 33.0797 21.753C33.0143 21.6187 32.8977 21.5125 32.7301 21.4343C32.5965 21.372 32.4715 21.3432 32.3552 21.3477C32.2402 21.3495 32.0735 21.3842 31.8551 21.4519C31.563 21.544 31.2905 21.5311 31.0376 21.4132C30.8301 21.3165 30.6861 21.1801 30.6055 21.0041C30.5291 20.8266 30.5334 20.647 30.6182 20.4651C30.6632 20.3684 30.715 20.2871 30.7735 20.2209C31.0021 19.9608 31.3473 19.8363 31.8092 19.8475C32.2752 19.8572 32.801 19.9986 33.3864 20.2716C34.0372 20.5751 34.4934 20.9695 34.755 21.4547C35.0179 21.9371 35.038 22.4171 34.8154 22.8945L33.6743 25.3415C33.5378 25.6342 33.357 25.818 33.1318 25.8929C32.9079 25.965 32.6638 25.9394 32.3994 25.8161C32.1607 25.7048 31.996 25.5536 31.9052 25.3625C31.8144 25.1714 31.8138 24.9462 31.9035 24.687L31.8694 24.6711C31.6467 24.8371 31.3804 24.9223 31.0704 24.9265C30.7634 24.9321 30.4663 24.868 30.1793 24.7341ZM31.3762 23.8702C31.578 23.9643 31.7766 23.9947 31.9721 23.9613C32.1689 23.925 32.3064 23.8231 32.3846 23.6554L32.5277 23.3485L31.7621 23.0537C31.592 22.9882 31.4442 22.9712 31.3188 23.0027C31.1934 23.0342 31.1035 23.1082 31.0492 23.2247C30.9909 23.3498 30.9914 23.4711 31.0507 23.5887C31.1114 23.7035 31.2199 23.7973 31.3762 23.8702ZM34.6683 26.8742C34.4183 26.7575 34.2553 26.595 34.1794 26.3867C34.1078 26.1768 34.1322 25.9425 34.2528 25.6839L35.5946 22.8064C35.7656 22.4398 36.02 22.1986 36.3577 22.0827C36.6954 21.9669 37.0576 21.9991 37.4441 22.1793C37.7993 22.3449 38.0456 22.5515 38.1828 22.7988C38.32 23.0462 38.3638 23.3642 38.3141 23.7527L38.0759 25.6657L38.1058 25.6797L39.4097 24.2636C39.6754 23.9758 39.9471 23.8049 40.2248 23.751C40.5025 23.6971 40.8189 23.753 41.1742 23.9187C41.5607 24.0989 41.8181 24.3556 41.9465 24.6888C42.0748 25.022 42.0535 25.3719 41.8826 25.7385L40.5427 28.6118C40.4208 28.8732 40.2564 29.044 40.0496 29.124C39.8441 29.2011 39.612 29.1794 39.3534 29.0588C39.1033 28.9422 38.9417 28.7804 38.8687 28.5733C38.7971 28.3635 38.8215 28.1292 38.9421 27.8706L39.9937 25.6155L39.9596 25.5996L38.2782 27.2911C38.1143 27.4569 37.9495 27.5582 37.7835 27.595C37.6176 27.6318 37.4352 27.6038 37.2362 27.5111C37.0344 27.417 36.8922 27.2953 36.8096 27.146C36.7298 26.9981 36.7006 26.8046 36.7222 26.5655L36.9371 24.1902L36.9073 24.1762L35.8577 26.4271C35.7358 26.6886 35.5714 26.8593 35.3646 26.9393C35.159 27.0165 34.927 26.9947 34.6683 26.8742ZM42.1944 30.3369C41.7567 30.1328 41.4459 29.8235 41.262 29.4091C41.0795 28.9918 41.085 28.5757 41.2784 28.1608C41.4878 27.7117 41.8158 27.4425 42.2622 27.3532C42.7129 27.2623 43.2644 27.3447 43.9167 27.6005L44.9782 28.0176L45.0855 27.7874C45.1571 27.6339 45.1602 27.49 45.0948 27.3557C45.0294 27.2215 44.9128 27.1152 44.7452 27.037C44.6116 26.9747 44.4866 26.9459 44.3703 26.9505C44.2553 26.9522 44.0886 26.9869 43.8702 27.0546C43.5781 27.1468 43.3056 27.1339 43.0527 27.0159C42.8452 26.9192 42.7012 26.7828 42.6206 26.6069C42.5442 26.4294 42.5485 26.2497 42.6333 26.0678C42.6783 25.9712 42.7301 25.8898 42.7886 25.8237C43.0172 25.5635 43.3624 25.439 43.8243 25.4503C44.2903 25.46 44.8161 25.6013 45.4015 25.8743C46.0523 26.1778 46.5085 26.5722 46.7701 27.0575C47.033 27.5399 47.0531 28.0198 46.8305 28.4973L45.6894 30.9442C45.5529 31.237 45.3721 31.4208 45.1468 31.4957C44.923 31.5677 44.6788 31.5421 44.4145 31.4189C44.1758 31.3076 44.0111 31.1563 43.9203 30.9652C43.8295 30.7741 43.8289 30.5489 43.9186 30.2898L43.8845 30.2739C43.6618 30.4399 43.3955 30.525 43.0855 30.5293C42.7785 30.5349 42.4814 30.4707 42.1944 30.3369ZM43.3913 29.473C43.5931 29.5671 43.7917 29.5974 43.9872 29.564C44.184 29.5278 44.3215 29.4258 44.3997 29.2581L44.5428 28.9512L43.7772 28.6565C43.6071 28.591 43.4593 28.574 43.3339 28.6054C43.2085 28.6369 43.1186 28.7109 43.0643 28.8274C43.006 28.9525 43.0065 29.0738 43.0658 29.1915C43.1265 29.3062 43.235 29.4001 43.3913 29.473Z",fill:"url(#paint0_linear_2343_2785)"})),l.a.createElement("rect",{x:"6.62097",y:"-0.162257",width:"55.202",height:"18.0643",rx:"6.10101",transform:"rotate(25 6.62097 -0.162257)",stroke:"url(#paint1_linear_2343_2785)","stroke-width":"1.92663"}),l.a.createElement("defs",null,l.a.createElement("linearGradient",{id:"paint0_linear_2343_2785",x1:"-11.1528",y1:"1.51583",x2:"-15.092",y2:"22.4623",gradientUnits:"userSpaceOnUse"},l.a.createElement("stop",{"stop-color":"#FFB73D"}),l.a.createElement("stop",{offset:"1","stop-color":"#FFA000"})),l.a.createElement("linearGradient",{id:"paint1_linear_2343_2785",x1:"-19.5508",y1:"9.18676",x2:"-10.5959",y2:"38.7496",gradientUnits:"userSpaceOnUse"},l.a.createElement("stop",{"stop-color":"#FFB73D"}),l.a.createElement("stop",{offset:"1","stop-color":"#FFA000"})),l.a.createElement("clipPath",{id:"clip0_2343_2785"},l.a.createElement("rect",{x:"7.08691",y:"1.11792",width:"53.2754",height:"16.1377",rx:"5.13769",transform:"rotate(25 7.08691 1.11792)",fill:"white"})))),Hs=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(o.a)(this,Object(s.a)(t).call(this,e));var r=[["\u0423\u0447\u0438\u0448\u044c\u0441\u044f \u0432 9-11 \u043a\u043b\u0430\u0441\u0441\u0435?","\u0421\u0435\u0439\u0447\u0430\u0441 \u0435\u0441\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u0441\u0430\u043c\u044b\u0439 \u0442\u043e\u043f\u043e\u0432\u044b\u0439 \u043a\u043e\u043b\u043b\u0435\u0434\u0436 \u0441\u0442\u0440\u0430\u043d\u044b. \u0422\u0430\u043c \u0433\u043e\u0442\u043e\u0432\u044f\u0442 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u0432, \u0418\u0422-\u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u043e\u0432, \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u0441\u0442\u043e\u0432 \u044e\u0440\u0438\u0441\u0442\u043e\u0432 \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0432\u043e\u0441\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0441\u043f\u0435\u0446\u043e\u0432. \u041d\u0438\u043a\u0430\u043a\u0438\u0445 \u044d\u043a\u0437\u0430\u043c\u0435\u043d\u043e\u0432, \u0434\u043b\u044f \u043f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u044f \u043d\u0443\u0436\u043d\u043e \u0441\u044b\u0433\u0440\u0430\u0442\u044c \u0432 \u0438\u0433\u0440\u0443. \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0438, \u043d\u0430\u0439\u0434\u0435\u0448\u044c \u0434\u043b\u044f \u0441\u0435\u0431\u044f \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0435\u043d\u044c\u043a\u043e\u0435","\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"],["\u041b\u044e\u0431\u0438\u0448\u044c \u0438\u0433\u0440\u0430\u0442\u044c \u0432 \u0438\u0433\u0440\u044b?","\u041f\u043e\u0445\u043e\u0436\u0435, \u0443 \u0442\u0435\u0431\u044f \u0432\u0441\u0435 \u0445\u043e\u0440\u043e\u0448\u043e \u0441 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u043e\u0439 \u0438 \u043e\u0431\u0449\u0435\u043d\u0438\u0435\u043c. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0435\u0448\u044c \u043f\u0440\u043e\u0439\u0442\u0438 \u0435\u0449\u0435 \u043e\u0434\u043d\u0443 \u0438\u0433\u0440\u0443 Business cats? \u0417\u0430\u043e\u0434\u043d\u043e \u0441\u043c\u043e\u0436\u0435\u0448\u044c \u043f\u043e\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u0442\u043e\u043f\u043e\u0432\u044b\u0439 \u043a\u043e\u043b\u043b\u0435\u0434\u0436 \u0441\u0442\u0440\u0430\u043d\u044b. \u0422\u0430\u043c \u0434\u0443\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430: \u0440\u0430\u0431\u043e\u0442\u0430+\u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435, \u0438 \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0430 \u0434\u043e 70 000 \u0441 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u043a\u0443\u0440\u0441\u0430","\u041f\u0440\u043e\u0439\u0442\u0438"],["\u041f\u0440\u0438\u0432\u0435\u0442!","\u0423\u0436\u0435 \u0432\u044b\u0431\u0440\u0430\u043b, \u043a\u0443\u0434\u0430 \u043f\u043e\u0441\u0442\u0443\u043f\u0430\u0442\u044c? \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0438 \u043d\u0430 \xab\u0410\u043b\u0430\u0431\u0443\u0433\u0430 \u041f\u043e\u043b\u0438\u0442\u0435\u0445\xbb, \u0442\u0443\u0434\u0430 \u043c\u0435\u0447\u0442\u0430\u044e\u0442 \u043f\u043e\u043f\u0430\u0441\u0442\u044c \u0434\u0435\u0432\u0443\u0448\u043a\u0438 \u0438 \u043f\u0430\u0440\u043d\u0438 \u0441\u043e \u0432\u0441\u0435\u0439 \u0420\u043e\u0441\u0441\u0438\u0438. \u0412\u0441\u0435 \u043f\u043e\u0442\u043e\u043c\u0443, \u0447\u0442\u043e \u0442\u0430\u043c \u0441\u0443\u043f\u0435\u0440 \u0443\u0441\u043b\u043e\u0432\u0438\u044f, \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043d\u043e\u0435 \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0435 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0434\u043e 70 \u0442\u044b\u0441 \u0432 \u043c\u0435\u0441\u044f\u0446 \u0441 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u043a\u0443\u0440\u0441\u0430. \u041f\u043e\u0441\u0442\u0443\u043f\u0430\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u043b\u0435 9-11 \u043a\u043b\u0430\u0441\u0441\u043e\u0432, \u043d\u0438\u043a\u0430\u043a\u0438\u0445 \u044d\u043a\u0437\u0430\u043c\u0435\u043d\u043e\u0432, \u043d\u0443\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u044b\u0433\u0440\u0430\u0442\u044c \u0432 \u0438\u0433\u0440\u0443.","\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c"]],c=r[B(0,r.length-1)];return a.state={title:c[0],description:c[1],button:c[2]},a.back=a.back.bind(Object(y.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.t.socket.call("advert.show",{t:"alabuga_test"})}},{key:"back",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.t.state.history[this.props.t.state.history.length-2],a=["main","group_vk"].indexOf(t)>-1,e.next=4,this.props.t.back();case 4:a&&this.props.t.onChangeHash();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t,n=this.state,r=n.title,o=n.description,s=n.button;return l.a.createElement("div",{className:"AdvertIntegration"},l.a.createElement("img",{alt:"logo",src:X(a(731)("./logo_".concat("light"===t.state.appearance?"day":"night",".png"))),width:234.77,height:72.6}),l.a.createElement("div",{className:"Titles"},l.a.createElement("h1",null,r),l.a.createElement("h3",null,o)),l.a.createElement("div",{className:"Buttons"},l.a.createElement(d.h,{size:"m",mode:"gradient_gray",onClick:function(){e.props.t.socket.call("advert.click",{t:"alabuga_test"}),e.back(),Y("https://vk.cc/couGfG")}},s),l.a.createElement(d.h,{size:"m",mode:"secondary",onClick:function(){e.props.t.socket.call("advert.back",{t:"alabuga_test"}),e.back()}},"\u041d\u0430\u0437\u0430\u0434")),l.a.createElement("img",{alt:"background",className:"Background",src:X(a(734)("./bg_".concat(Rs?"desktop":"mobile",".png")))}))}}]),t}(i.PureComponent);Hs.defaultProps={};var Ks=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).back=a.back.bind(Object(y.a)(a)),a.adv_name="opros_startgame_rsv",a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.t.socket.call("advert.show",{t:this.adv_name})}},{key:"back",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.t.state.history[this.props.t.state.history.length-2],a=["main","group_vk"].indexOf(t)>-1,e.next=4,this.props.t.back();case 4:a&&this.props.t.onChangeHash();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;this.props.t;return l.a.createElement("div",{className:"AdvertIntegration"},l.a.createElement("div",{className:"Titles"},l.a.createElement("div",null,l.a.createElement("h1",{style:{color:"#FFFFFF"}},"\u0421\u0442\u0438\u043a\u0435\u0440\u043f\u0430\u043a \u0437\u0430 \u043e\u043f\u0440\u043e\u0441"),Vs),l.a.createElement("h3",{style:{color:"#A4A6AA"}},"\u041e\u0442\u043a\u0440\u043e\u0439 \u0434\u043b\u044f \u0441\u0435\u0431\u044f \u043c\u0438\u0440 \u0432\u0438\u0434\u0435\u043e\u0438\u0433\u0440 \u043f\u043e-\u043d\u043e\u0432\u043e\u043c\u0443: \u043f\u0440\u043e\u0445\u043e\u0434\u0438 \u043a\u0432\u0435\u0441\u0442\u044b, \u043f\u043e\u0432\u044b\u0448\u0430\u0439 \u0441\u0432\u043e\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0438 \u043e\u0431\u0443\u0447\u0430\u0439\u0441\u044f \u0441\u0430\u043c\u044b\u043c \u0432\u043e\u0441\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u043d\u044b\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u043c 2023. \u0423\u0437\u043d\u0430\u0439, \u043a\u0430\u043a\u0430\u044f \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f \u0442\u0435\u0431\u0435 \u043f\u043e\u0434\u043e\u0439\u0434\u0435\u0442.")),l.a.createElement("div",{className:"Buttons"},l.a.createElement(d.h,{size:"m",mode:"gradient_gray",onClick:function(){e.props.t.socket.call("advert.click",{t:e.adv_name}),e.back(),Y("https://vk.com/app5619682_-214215690#691835_app_narisovano11")}},"\u041f\u0440\u043e\u0439\u0442\u0438 \u043e\u043f\u0440\u043e\u0441"),l.a.createElement(d.h,{size:"m",mode:"secondary",onClick:function(){e.props.t.socket.call("advert.back",{t:e.adv_name}),e.back()}},"\u041d\u0430\u0437\u0430\u0434")),l.a.createElement("img",{style:Rs?{}:{width:"auto",left:"-50%"},alt:"background",className:"Background",src:X(a(737))}))}}]),t}(i.PureComponent);Ks.defaultProps={};var Zs=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={isExportClip:e.t.state.export_},a.componentDidMount=a.componentDidMount.bind(Object(y.a)(a)),a.startExport=a.startExport.bind(Object(y.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r,o,s,c,i,u,p,m,f,h,b=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.t).setPopout(l.a.createElement(d.G,null)),a=t.state,n=a.game_,r=a.export_,o=a.game_export_,s=o&&Object(v.a)(o),c="clip"===r,!o){e.next=39;break}console.log("multiple export"),i=!0,u=!1,p=void 0,e.prev=10,m=g.a.mark((function e(){var a,n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.value,console.log({_game:a}),t.setPopout(l.a.createElement(d.G,null)),n=parseInt(a.split("_")[0]),r="clip"===a.split("_")[1],b.setState({isExportClip:r}),e.next=8,new Promise((function(e){return t.socket.call("games.getById",{id:n},(function(t){t.response?e(t.response):(b.setAlert("\u041e\u0448\u0438\u0431\u043a\u0430",t.error.message,[{title:"\u041e\u043a",mode:"cancel",autoclose:!0}]),e(!1))}))}));case 8:if(o=e.sent,console.log({game:o}),!1!==o){e.next=12;break}return e.abrupt("return","break");case 12:return e.next=14,new Promise((function(e){return t.socket.call("games.getHistory",{id:o.id,act:"clip"},(function(t){t.response?(o.history=t.response,e(!0)):(b.setAlert("\u041e\u0448\u0438\u0431\u043a\u0430",t.error.message,[{title:"\u041e\u043a",mode:"cancel",autoclose:!0}]),e(!1))}))}));case 14:if(console.log({game:o}),!1!==o.history){e.next=17;break}return e.abrupt("return","break");case 17:return t.setPopout(null),e.next=20,b.startExport(o.drawerId,o,r,!1);case 20:s.splice(s.indexOf("".concat(o.id,"_").concat(a.split("_")[1]))),t.setState({game_export_:s});case 22:case"end":return e.stop()}}),e)})),f=o[Symbol.iterator]();case 13:if(i=(h=f.next()).done){e.next=21;break}return e.delegateYield(m(),"t0",15);case 15:if("break"!==e.t0){e.next=18;break}return e.abrupt("break",21);case 18:i=!0,e.next=13;break;case 21:e.next=27;break;case 23:e.prev=23,e.t1=e.catch(10),u=!0,p=e.t1;case 27:e.prev=27,e.prev=28,i||null==f.return||f.return();case 30:if(e.prev=30,!u){e.next=33;break}throw p;case 33:return e.finish(30);case 34:return e.finish(27);case 35:t.setPopout(null),t.back(),e.next=41;break;case 39:t.setPopout(null),this.startExport(n.drawerId,n,c);case 41:case"end":return e.stop()}}),e,this,[[10,23,27,35],[28,,30,34]])})));return function(){return e.apply(this,arguments)}}()},{key:"startExport",value:function(){var e=Object(k.a)(g.a.mark((function e(t,n,r){var o,s,c,i,u,p,m,f,h,v,b,y,w,E,C=this,x=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!(x.length>3&&void 0!==x[3])||x[3],(s=this.props.t).setPopout(l.a.createElement(d.G,null)),c=n.history,this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),(i=this.canvasResult.getContext("2d")).clearRect(0,0,this.canvasResult.width,this.canvasResult.height),u=c.map((function(e){return e.length})).reduce((function(e,t){return e+t})),p=Math.floor(1e3/60*u),f=p>(m=15e3)?p/m:1,e.next=14,me([t]);case 14:if("https://vk.com/images/camera_400.png"!==(h=e.sent[0]).photo_max_orig){e.next=21;break}return e.next=18,Q(X(a(738)));case 18:e.t0=e.sent,e.next=24;break;case 21:return e.next=23,Q(h.photo_max_orig);case 23:e.t0=e.sent;case 24:return v=e.t0,e.next=27,Q(X(a(739)("./".concat(r?"clip_background.webp":"video_background.webp"))));case 27:return b=e.sent,y=Object(_.createCanvas)(b.width,b.height),(w=y.getContext("2d")).drawImage(b,0,0),J(w,v,(E=r?72:96)/2,null,{x:r?61:111,y:r?238:153.78,width:E,height:E}),w.font="".concat(r?40:48,"px Manrope Semibold"),w.textAlign="left",w.fillStyle="#1E2A56",w.fillText("".concat(h.first_name," ").concat(h.last_name),r?281:386,r?289.5:219.78),console.log("Start record animation"),e.next=40,new Promise((function(e){var t=se(C.canvasResult,{filename:r?"clip.mp4":"video.mp4",onError:function(e){s.setPopout(null),s.back(),s.setSnackbar(e)},onStop:function(t){s.setPopout(null),o&&s.back(),e(!0)}});console.log("Start animation"),kr(C.canvas,n,(function(){console.log("Animation END"),t.stop()}),{speed:f,onRender:function(){var e=Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.drawImage(y,0,0,y.width,y.height),i.drawImage(C.canvas,r?61:1053,r?388:193,r?957:695,r?957:695);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}));case 40:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.isExportClip;return l.a.createElement("div",{className:"Game"},l.a.createElement("canvas",{style:{width:(t?957:695)/2,height:(t?957:695)/2},width:638,height:638,ref:function(t){return e.canvas=t}}),l.a.createElement("canvas",{style:{width:(t?1080:1920)/2,height:(t?1920:1080)/2,opacity:0},width:t?1080:1920,height:t?1920:1080,ref:function(t){return e.canvasResult=t}}))}}]),t}(i.PureComponent);Zs.defaultProps={};var Ys=Zs,Xs=a(837),Js=a(838),Qs=a(839),qs=a(840),$s=a(841),ec=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={},a.openFriends=a.openFriends.bind(Object(y.a)(a)),a.openFeed=a.openFeed.bind(Object(y.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"openFriends",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.t,e.next=3,t.getFriendsIds();case 3:e.sent&&t.go("friend_list");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openFeed",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=this.props.t).setPopout(l.a.createElement(d.G,null)),t.socket.call("pictures.getFeed",{limit:10},function(){var e=Object(k.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({picturesFeed:a.response}),n=a.response.map((function(e){return e.drawerId})),e.next=4,me(n);case 4:t.setPopout(null),t.go("feed");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.t;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:e.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-ManyCards"},l.a.createElement("div",{className:"MiniCards"},this.actions.map((function(e,t){var a=e.icon,n=e.text,r=e.color,o=e.action,s=e.hide;return l.a.createElement("div",{style:{display:s&&"none"},key:"service-act-".concat(t),onClick:o},l.a.createElement("div",{style:{background:"rgba(".concat(ne(r,.05).rgba,")"),color:r}},a),l.a.createElement("span",null,n))}))),l.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return e.go("search")}},l.a.createElement("div",{className:"SearchCard"},l.a.createElement(Xs.a,{fill:"#FE66A7"}),l.a.createElement("span",null,"\u041f\u043e\u0438\u0441\u043a"),l.a.createElement(Js.a,null)))))}},{key:"actions",get:function(){var e=this.props.t;return[{icon:l.a.createElement(Qs.a,null),text:"\u0414\u0440\u0443\u0437\u044c\u044f",color:"#61A1EC",action:this.openFriends},{icon:l.a.createElement(qs.a,null),text:"\u041b\u0435\u043d\u0442\u0430",color:"#BC7FFB",action:this.openFeed},{icon:l.a.createElement(Hn.a,null),text:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435",color:"#FBCF0F",action:function(){return e.go("bookmarks")}},{icon:l.a.createElement(rs.a,null),text:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f",color:"#FE66A7",action:function(){return e.go("suggestions")}},{icon:l.a.createElement(Gn.a,null),text:"\u0420\u0435\u043f\u043e\u0440\u0442\u044b",color:"var(--color_primary)",action:function(){return e.go("reports")}},{icon:l.a.createElement(pa.a,null),text:"\u041f\u0440\u043e\u043f\u0443\u0441\u043a",color:"#FF635E",action:function(){},hide:!0},{icon:l.a.createElement($s.a,null),text:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f",color:"#A4A6AA",action:function(){return Y("https://vk.me/join/yNNyasDRQHYq/pocnHHdrTjq25GT7sVC/4M=")}}]}}]),t}(i.PureComponent);ec.defaultProps={};var tc=ec;function ac(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function nc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ac(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ac(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var rc=function(e){function t(e){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.t,t=e.state.app_friends;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:e.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-TwoCards"},l.a.createElement("div",null,l.a.createElement(Qs.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u0414\u0440\u0443\u0437\u044c\u044f"),l.a.createElement("p",null,"\u0412\u0430\u0448\u0438 \u0434\u0440\u0443\u0437\u044c\u044f-\u0445\u0443\u0434\u043e\u0436\u043d\u0438\u043a\u0438 \u043f\u0440\u044f\u0447\u0443\u0442\u0441\u044f \u0437\u0434\u0435\u0441\u044c! \u0412\u044b \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043d\u0430 \u0438\u0445 \u0440\u0438\u0441\u0443\u043d\u043a\u0438 :)")),l.a.createElement("div",{className:"Panel_Container_Card-Buttons"},l.a.createElement(d.h,{stretched:!0,size:"m",mode:"gradient_gray",onClick:Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.send("VKWebAppRecommend");case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:return e.prev=7,e.next=10,f.a.send("VKWebAppShare",{link:"https://vk.com/drawapp"});case 10:e.next=14;break;case 12:e.prev=12,e.t1=e.catch(7);case 14:case"end":return e.stop()}}),e,null,[[0,5],[7,12]])})))},"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c \u0434\u0440\u0443\u0433\u0430"))),l.a.createElement("div",null,t.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"Panel_Container_Card-Header"},N(t.length,["\u0434\u0440\u0443\u0433","\u0434\u0440\u0443\u0433\u0430","\u0434\u0440\u0443\u0437\u0435\u0439"])),l.a.createElement("div",{className:"MiniCards"},t.map((function(t,a){var n=ue[t],r=n.photo_100,o=n.first_name,s=n.last_name,c=n.frame_type,i=n.frame_color;return l.a.createElement("div",{className:"MiniCard",key:"Card-".concat(a),onClick:function(){e.setPopout(l.a.createElement(d.G,null)),e.socket.call("users.getById",{id:t},function(){var a=Object(k.a)(g.a.mark((function a(n){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.socket.call("games.getByDrawerId",{id:t},function(){var a=Object(k.a)(g.a.mark((function a(r){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setState({author:nc({id:t},n.response||{}),author_works:r.response});case 2:e.go("author"),e.setPopout(null);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},l.a.createElement(_a,{size:32,src:r,frame:c,color:i}),l.a.createElement("div",null,l.a.createElement("span",null,o," ",s.substring(0,1),".")))})))):l.a.createElement("p",{className:"Panel_Container_Card-Header Panel_Container_Card-Header-Center"},"\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0445 \u043b\u043e\u0431\u0431\u0438 \u043d\u0435\u0442"))))}}]),t}(i.PureComponent);rc.defaultProps={};var oc=rc,sc=V(),cc=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={bookmarks:Object(v.a)(e.t.state.bookmarks).reverse(),bookmarks_count:e.t.state.bookmarks.length,offset:0,users:[],games:[]},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.observer.observe(this.loadingRef),this.handleObserver(),this.props.t.state.scrollPositionBookmarks&&(console.log("Scroll to ".concat(this.props.t.state.scrollPositionBookmarks)),setTimeout((function(){return document.body.scrollTop=e.props.t.state.scrollPositionBookmarks}),800))}},{key:"handleObserver",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r,o,s,c,i,l,u,p,d,m,f,h,b=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=b.length>0&&void 0!==b[0]?b[0]:[{boundingClientRect:{y:0}}],b.length>1?b[1]:void 0,a=this.state,n=a.offset,r=a.users,o=a.games,s=t[0].boundingClientRect.y,c=this.props.t,i=this.state,l=i.prevY,u=i.bookmarks,p=n<u.length,!(0===l||l>s)||!p){e.next=22;break}if(this.setState({spinner:!0}),d=u.slice(n,n+10),console.log({currentBookmarks:d}),m=d.filter((function(e){return e.startsWith("0_")})).map((function(e){return parseInt(e.split("_")[1])})),f=[],h=d.filter((function(e){return e.startsWith("1_")})).map((function(e){return parseInt(e.split("_")[1])})),n+=10,!(h.length>0)){e.next=15;break}return e.next=15,new Promise((function(e){return c.socket.call("games.getById",{ids:h},function(){var t=Object(k.a)(g.a.mark((function t(a){var n,r,s,c,i,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me(a.response.map((function(e){return e.drawerId})));case 2:for(n=!0,r=!1,s=void 0,t.prev=5,c=a.response[Symbol.iterator]();!(n=(i=c.next()).done);n=!0)l=i.value,o[l.id+""]=l,f.push(l.drawerId);t.next=13;break;case 9:t.prev=9,t.t0=t.catch(5),r=!0,s=t.t0;case 13:t.prev=13,t.prev=14,n||null==c.return||c.return();case 16:if(t.prev=16,!r){t.next=19;break}throw s;case 19:return t.finish(16);case 20:return t.finish(13);case 21:e(!0);case 22:case"end":return t.stop()}}),t,null,[[5,9,13,21],[14,,16,20]])})));return function(e){return t.apply(this,arguments)}}())}));case 15:if(!((m=Object(v.a)(new Set(m.concat(f))).filter((function(e){return!r[e.id]}))).length>0)){e.next=19;break}return e.next=19,new Promise((function(e){return c.socket.call("users.getById",{ids:m},function(){var t=Object(k.a)(g.a.mark((function t(a){var n,o,s,c,i,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me(m);case 2:for(n=!0,o=!1,s=void 0,t.prev=5,c=a.response[Symbol.iterator]();!(n=(i=c.next()).done);n=!0)l=i.value,r[l.id+""]=l;t.next=13;break;case 9:t.prev=9,t.t0=t.catch(5),o=!0,s=t.t0;case 13:t.prev=13,t.prev=14,n||null==c.return||c.return();case 16:if(t.prev=16,!o){t.next=19;break}throw s;case 19:return t.finish(16);case 20:return t.finish(13);case 21:e(!0);case 22:case"end":return t.stop()}}),t,null,[[5,9,13,21],[14,,16,20]])})));return function(e){return t.apply(this,arguments)}}())}));case 19:console.log({offset:n,users:r,games:o}),this.setState({offset:n,users:r,games:o,spinner:!1}),this.forceUpdate();case 22:this.setState({prevY:s});case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t,a=this.state,n=a.users,r=a.games,o=a.bookmarks,s=a.spinner;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-ManyCards"},l.a.createElement("div",null,l.a.createElement(Hn.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435"),l.a.createElement("p",null,"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435 \u0440\u0438\u0441\u0443\u043d\u043a\u0438 \u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u0438 \u0445\u0443\u0434\u043e\u0436\u043d\u0438\u043a\u043e\u0432, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u043f\u043e\u0442\u0435\u0440\u044f\u0442\u044c"))),o.length>0?o.map((function(e,a){try{var o=e.split("_"),s=parseInt(o[0]),c=o[1],i=r[c],u=n[c]||n[i.drawerId],p=u?ue[u.id]:ue[i.drawerId];return l.a.createElement("div",{key:"bookmark-".concat(a)},l.a.createElement("div",{onClick:function(){t.setPopout(l.a.createElement(d.G,null)),t.socket.call("games.getByDrawerId",{id:u.id},function(){var e=Object(k.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({author:u,author_works:a.response});case 2:t.go("author"),t.setPopout(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},l.a.createElement(_a,{size:36,src:p.photo_100,frame:p.frame_type,color:p.frame_color,iosOptimize:sc}),l.a.createElement("div",null,l.a.createElement("p",null,p.first_name," ",p.last_name),0===s?l.a.createElement("p",null,N(u.pictures,["\u0440\u0438\u0441\u0443\u043d\u043e\u043a","\u0440\u0438\u0441\u0443\u043d\u043a\u0430","\u0440\u0438\u0441\u0443\u043d\u043a\u043e\u0432"])):l.a.createElement("p",null,i["Word.nom"]||i.Word.nom," \xb7 ",Math.round((i.endTime-i.startTime)/1e3),"\u0441."))),1===s&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("img",{alt:"picture",src:i["Picture.url"]||i.Picture.url,style:{cursor:"pointer"},onClick:Object(k.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.keys(r).map((function(e){return r[e]})),e.next=3,t.setState({games_:a,like_currentPictureSelected:a.findIndex((function(e){return e.id===i.id})),like_method:!1,like_param:"games_",scrollPositionBookmarks:document.body.scrollTop});case 3:t.go("picture_info");case 4:case"end":return e.stop()}}),e)})))}))))}catch(m){return}})):l.a.createElement("div",null,l.a.createElement("p",{className:"Panel_Container_Card-Header Panel_Container_Card-Header-Center"},"\u0412\u044b \u0435\u0449\u0451 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 :(")),s&&l.a.createElement("div",{className:"MiniCard"},l.a.createElement(d.M,{size:"small"})),l.a.createElement("div",{ref:function(t){return e.loadingRef=t},className:"LoadingRef"})))}}]),t}(i.PureComponent);cc.defaultProps={};var ic,lc=cc;function uc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?uc(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):uc(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var dc=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={result:[],type:"author",offset:0,limit:50,canGetMore:!0,prevY:0,fetchEnd:!0},a.searchAction=a.searchAction.bind(Object(y.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(ic)}},{key:"componentDidMount",value:function(){var e=this;this.observer=new IntersectionObserver(this.handleObserver.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.props.t.state.scrollPositionSearch&&(console.log("Scroll to ".concat(this.props.t.state.scrollPositionSearch)),setTimeout((function(){return document.body.scrollTop=e.props.t.state.scrollPositionSearch}),800))}},{key:"handleObserver",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r,o,s,c,i,l,u,p,d,m,f=this,h=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.length>0&&void 0!==h[0]?h[0]:[{boundingClientRect:{y:0}}],h.length>1?h[1]:void 0,a="object"===typeof t?t[0].boundingClientRect:{y:0},n=a.y,r=this.props.t,o=this.state,s=o.type,c=o.result,i=o.fetchEnd,l=o.prevY,u=o.offset,p=o.limit,d=o.canGetMore,m=o.input,!("picture"===s&&m&&m.length>0&&(1===t||(0===l||l>n)&&d)&&!1!==i)){e.next=7;break}return e.next=6,this.setState({spinner:!0,fetchEnd:!1});case 6:r.socket.call("pictures.search",{offset:u,limit:p,q:m.toLowerCase()},function(){var e=Object(k.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(t.response.map((function(e){return e.drawerId})));case 2:if(a=oe([].concat(Object(v.a)(c),Object(v.a)(t.response))),n=t.response.length>0,0===c.length||a.length===c.length+p||!n){e.next=9;break}return e.next=7,f.setState({canGetMore:n,offset:u+p-(a.length-c.length),fetchEnd:!0});case 7:return f.handleObserver(),e.abrupt("return");case 9:return e.next=11,f.setState({result:a});case 11:return e.next=13,f.setState({canGetMore:n,spinner:!1,offset:a.length});case 13:f.forceUpdate(),setTimeout((function(){f.setState({fetchEnd:!0}),f.state.needObserve&&f.observer.observe(f.loadingRef)}),1e3);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:this.setState({prevY:n});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchAction",value:function(){var e=this;clearTimeout(ic),ic=setTimeout(Object(k.a)(g.a.mark((function t(){var a,n,r,o,s,c,i,u;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.t,n=e.state,r=n.type,!((o=n.input)&&o.length>0)){t.next=32;break}if(a.setPopout(l.a.createElement(d.G,null)),"author"!==r){t.next=24;break}return t.prev=5,t.next=8,f.a.send("VKWebAppGetAuthToken",{app_id:parseInt(z().vk_app_id),scope:""});case 8:return s=t.sent.access_token,t.next=11,f.a.send("VKWebAppCallAPIMethod",{method:"users.search",params:{q:o,count:100,access_token:s,v:"5.131"}});case 11:return c=t.sent.response,i=c.items.map((function(e){return e.id})),t.next=15,new Promise((function(e){a.socket.call("users.getById",{ids:i},function(){var t=Object(k.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.response.map((function(e){return e.id})),t.next=3,me(n);case 3:e(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 15:u=t.sent,e.setState({result:u}),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(5),a.setSnackbar("\u0411\u0435\u0437 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043c\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u043c \u043d\u0430\u0439\u0442\u0438 \u043b\u044e\u0434\u0435\u0439 :(");case 22:t.next=28;break;case 24:if("picture"!==r){t.next=28;break}return e.setState({offset:0,result:[]}),t.next=28,e.handleObserver(1);case 28:a.setPopout(null),e.inputRef.focus(),t.next=33;break;case 32:clearTimeout(ic);case 33:case"end":return t.stop()}}),t,null,[[5,19]])}))),800)}},{key:"render",value:function(){var e=this,t=this.props.t,a=this.state,n=a.type,r=a.input,o=a.result,s=a.spinner;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-TwoCards"},l.a.createElement("div",null,l.a.createElement(Xs.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u041f\u043e\u0438\u0441\u043a")),l.a.createElement(d.H,{value:n,onChange:function(t){e.setState({type:t,result:[],offset:0}),n!==t&&("author"===t?(e.observer.disconnect(),e.setState({needObserve:!1})):"picture"===t&&e.setState({needObserve:!0})),e.searchAction()},options:[{label:"\u0410\u0432\u0442\u043e\u0440",value:"author"},{label:"\u0420\u0438\u0441\u0443\u043d\u043e\u043a",value:"picture"}]}),l.a.createElement("div",null,l.a.createElement("div",{className:"Span"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 ","author"===n?"\u0438\u043c\u044f \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044e":"\u0441\u043b\u043e\u0432\u043e"),l.a.createElement(d.t,{getRef:function(t){return e.inputRef=t},style:{marginTop:8},placeholder:"author"===n?"\u041e\u043b\u044c\u0433\u0430 \u041a\u043e\u0440\u0448\u0438\u043a\u043e\u0432\u0430":"\u0411\u0430\u043d\u0430\u043d",value:r,onChange:function(t){var a=t.currentTarget.value;console.log("Input (search), value = ",a),console.log("Math (search) = ",a.match(/^[\u0430-\u044f\u0410-\u042f-a-zA-Z ]+$/)),(a.match(/^[\u0430-\u044f\u0410-\u042f-a-zA-Z ]+$/)||""===a)&&a.length<=200&&(e.setState({input:a}),e.searchAction())}}))),l.a.createElement("div",{style:{display:!o&&"none",paddingBottom:12}},l.a.createElement("p",{className:"Panel_Container_Card-Header"},o&&N(o.length,"author"===n?["\u0447\u0435\u043b\u043e\u0432\u0435\u043a","\u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430","\u043b\u044e\u0434\u0435\u0439"]:["\u0440\u0438\u0441\u0443\u043d\u043e\u043a","\u0440\u0438\u0441\u0443\u043d\u043a\u0430","\u0440\u0438\u0441\u0443\u043d\u043a\u043e\u0432"])),"author"===n?l.a.createElement("div",{className:"MiniCards MiniCardsPeople"},o&&o.map((function(e,a){var n=ue[e],r=n.photo_100,o=n.first_name,s=n.last_name,c=n.frame_type,i=n.frame_color;return l.a.createElement("div",{className:"MiniCard",key:"Card-".concat(a),onClick:function(){t.setPopout(l.a.createElement(d.G,null)),t.socket.call("users.getById",{id:e},function(){var a=Object(k.a)(g.a.mark((function a(n){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.socket.call("games.getByDrawerId",{id:e},function(){var a=Object(k.a)(g.a.mark((function a(r){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.setState({author:pc({id:e},n.response||{}),author_works:r.response});case 2:t.go("author"),t.setPopout(null);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},l.a.createElement(_a,{size:32,src:r,frame:c,color:i}),l.a.createElement("div",null,l.a.createElement("span",null,o," ",s.substring(0,1),".")))}))):l.a.createElement("div",{className:"MiniCards MiniCardsPicture"},o&&o.map((function(e,a){return l.a.createElement("div",{className:"MiniCard",key:"Card-".concat(a),onClick:Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({games_:o,like_currentPictureSelected:a,like_method:!1,like_param:"games_",scrollPositionSearch:document.body.scrollTop});case 2:t.go("picture_info");case 3:case"end":return e.stop()}}),e)})))},l.a.createElement("img",{alt:"img",src:e["Picture.url"]||e.Picture.url}))})),s&&l.a.createElement("div",{className:"MiniCard"},l.a.createElement(d.M,{size:"small"})),l.a.createElement("div",{ref:function(t){return e.loadingRef=t},className:"LoadingRef"})))))}}]),t}(i.PureComponent);dc.defaultProps={};var mc=dc,fc=a(842),hc=function(e){function t(e){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:t.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-ManyCards"},l.a.createElement("div",null,l.a.createElement(ha.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))),l.a.createElement("div",{onClick:function(){return t.go("avatar_frames")}},l.a.createElement(fc.a,{width:32,height:32}),l.a.createElement("h3",null,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440")),!1,l.a.createElement("div",{onClick:function(){return t.go("tags")}},l.a.createElement(Xr.a,{width:32,height:32}),l.a.createElement("h3",null,"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0435\u0442\u043a\u0438")),l.a.createElement("div",{onClick:function(){return t.showOnboard("welcome")}},l.a.createElement(go.a,{width:32,height:32}),l.a.createElement("h3",null,"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435")),l.a.createElement("div",{onClick:Object(k.a)(g.a.mark((function a(){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.state.app_version!==Lc&&t.setActiveModal(Sc),a.next=3,t.setState({__v_clicks:4===t.state.__v_clicks?4:t.state.__v_clicks+1});case 3:e.forceUpdate(),3===t.state.__v_clicks&&E.a.scale(1);case 5:case"end":return a.stop()}}),a)})))},l.a.createElement("p",null,"v",Lc),l.a.createElement("p",null,"ulyanov ",l.a.createElement("img",{alt:"emoji",src:"https://vk.com/images/emoji/2764_2x.png",height:12})," avocado"))))}}]),t}(i.PureComponent);hc.defaultProps={};var vc=hc,bc=a(843),gc=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.t,t=e.state.user;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:e.back}),separator:!1}),l.a.createElement("div",{className:"Panel_Container_Card Panel_Container_Card-TwoCards"},l.a.createElement("div",null,l.a.createElement(Gn.a,{width:36,height:36}),l.a.createElement("div",{className:"Panel_Container_Card-Text"},l.a.createElement("h2",null,"\u0420\u0435\u043f\u043e\u0440\u0442\u044b"),l.a.createElement("p",null,"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0436\u0430\u043b\u043e\u0431\u044b \u043d\u0430 \u0440\u0438\u0441\u0443\u043d\u043a\u0438 \u0438 \u043d\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043d\u0430\u0440\u0443\u0448\u0438\u0442\u0435\u043b\u0435\u0439. ",l.a.createElement("span",{style:{color:"var(--color_blue)"}},"\u0420\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u044f \u0436\u0430\u043b\u043e\u0431\u044b, \u0432\u044b \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u0435\u0442\u0435, \u0447\u0442\u043e \u0432\u0430\u043c \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u043b\u043e\u0441\u044c 18 \u043b\u0435\u0442 \u0438 \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u044b \u0441 \u0442\u0435\u043c, \u0447\u0442\u043e \u043c\u043e\u0436\u0435\u0442\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b, \u043d\u0430\u0440\u0443\u0448\u0430\u044e\u0449\u0438\u0439 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u0438 \u0434\u0440\u0443\u0433\u0438\u0435."),l.a.createElement("br",null),"\u0417\u0430 \u043a\u0430\u0436\u0434\u0443\u044e \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u0443\u044e \u0436\u0430\u043b\u043e\u0431\u0443 \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435 5 \u043c\u043e\u043d\u0435\u0442. \u0417\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 \u0432\u0435\u0440\u043d\u044b\u0439 \u0432\u0435\u0440\u0434\u0438\u043a\u0442 \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435 \u0435\u0449\u0451 5 \u043c\u043e\u043d\u0435\u0442.")),l.a.createElement("div",{className:"Panel_Container_Card-Buttons"},l.a.createElement(d.h,{stretched:!0,size:"m",mode:"outline",onClick:function(){return e.showOnboard("reports")}},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"))),l.a.createElement("div",null,l.a.createElement("div",{className:"Suggestions"},l.a.createElement("div",{className:"SuggestionsCards"},[["reports_view","\u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e \u0436\u0430\u043b\u043e\u0431"],["reports_confirm","\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u043a\u0430\u0440\u0442\u0438\u043d"]].map((function(e,a){return l.a.createElement("div",{key:"Card_".concat(a)},l.a.createElement("p",null,t[e[0]]),l.a.createElement("p",null,e[1]))}))),l.a.createElement("div",{style:{display:"flex",marginTop:18}},l.a.createElement(d.h,{stretched:!0,size:"m",mode:"gradient_blue",after:l.a.createElement(Js.a,null),onClick:Object(k.a)(g.a.mark((function a(){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t.lvl<10)||t.admin){a.next=4;break}e.setSnackbar("\u0412\u0430\u043c \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u044d\u0442\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e."),a.next=7;break;case 4:return a.next=6,e.setState({reports_mode:"user"});case 6:e.go("report_view");case 7:case"end":return a.stop()}}),a)})))},"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0435\u043f\u043e\u0440\u0442\u044b")),t.admin&&l.a.createElement("div",{style:{display:"flex",marginTop:12}},l.a.createElement(d.h,{stretched:!0,size:"m",mode:"gradient_gray",after:l.a.createElement(Js.a,null),onClick:Object(k.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({reports_mode:"admin"});case 2:e.go("report_view");case 3:case"end":return t.stop()}}),t)})))},"\u0413\u043e\u0442\u043e\u0432\u044b\u0435 \u0432\u0435\u0440\u0434\u0438\u043a\u0442\u044b"))))))}}]),t}(i.PureComponent);gc.defaultProps={};var kc=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={games:[],limit:10,offset:0,current:0,mode:"default",report_reasons:[],report_mode:e.t.state.reports_mode},a.componentDidMount=a.componentDidMount.bind(Object(y.a)(a)),a.updateReports=a.updateReports.bind(Object(y.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.t.socket,e.next=3,new Promise((function(e){return t.call("reports.getReportReasons",{},function(){var t=Object(k.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.setState({report_reasons:n.response});case 2:e();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 3:return e.next=5,this.updateReports();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateReports",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r,o,s,c=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.t,a=t.socket,n=this.state,r=n.limit,o=n.offset,s=n.report_mode,e.next=5,new Promise((function(e){return a.call("reports.getList",{limit:r,offset:o,mode:s},function(){var a=Object(k.a)(g.a.mark((function a(n){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==n.response.length){a.next=6;break}return t.setPopout(null),t.back(),t.setSnackbar("\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0440\u0435\u043f\u043e\u0440\u0442\u043e\u0432 \u043d\u0435\u0442."),e(),a.abrupt("return");case 6:return r=void 0,"admin"===s&&(r=ce(n.response[0].report_reasons)+"",console.log({report_reason:r,r:n.response[0].report_reasons,r1:ce(n.response[0].report_reasons)})),a.next=10,c.setState({games:n.response,offset:o+n.response.length,current:0,report_reason:r});case 10:e();case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t,a=this.state,n=a.games,r=a.current,o=a.mode,s=a.report_reason,c=a.report_reasons,i=a.report_mode,u=n[r];return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{left:l.a.createElement(d.B,{onClick:t.back}),separator:!1}),u?l.a.createElement("div",{className:"PictureInfo"},l.a.createElement("div",{className:"PictureInfo-Word-Time"},l.a.createElement("span",null,(u["Word.nom"]||u.Word.nom)&&(u["Word.nom"]||u.Word.nom).substring(0,1).toUpperCase()+(u["Word.nom"]||u.Word.nom).substring(1))),l.a.createElement("div",{className:"PictureInfo-CanvasContainer"},l.a.createElement("img",{crossOrigin:"anonymous",alt:"im",src:u["Picture.url"]||u.Picture.url,ref:function(t){return e.imageRef=t},style:{display:"default"!==o&&"none"}}),l.a.createElement("canvas",{style:{width:220,height:220,display:"animation"!==o&&"none"},width:638,height:638,ref:function(t){return e.canvas=t}})),l.a.createElement("div",{style:{width:220,display:"flex",marginTop:24}},l.a.createElement(d.h,{stretched:!0,size:"m",mode:"gradient_light_gray",before:l.a.createElement(bc.a,null),disabled:"default"!==o,onClick:Object(k.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({mode:"animation"});case 2:kr(e.canvas,u,(function(){e.setState({mode:"default"})}));case 3:case"end":return t.stop()}}),t)})))},"\u0412\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438")),l.a.createElement("div",{style:{position:"fixed",bottom:"calc(var(--safe-area-inset-bottom) + 14px)",left:28,right:28}},l.a.createElement("p",null,"\u042d\u0442\u0443 \u0436\u0430\u043b\u043e\u0431\u0443 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u043b\u0438 ",N(u.users_view_report.length,["\u0447\u0435\u043b\u043e\u0432\u0435\u043a","\u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430","\u0447\u0435\u043b\u043e\u0432\u0435\u043a"])),l.a.createElement(d.I,{style:{marginTop:12},placeholder:"\u0415\u0441\u0442\u044c \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u044f?",options:c.map((function(e,t){return{label:e,value:t+""}})),value:s,onChange:function(t){var a=t.target.value;e.setState({report_reason:a})}}),l.a.createElement("div",{style:{display:"flex",marginTop:12}},l.a.createElement(d.h,{stretched:!0,size:"m",mode:"gradient_blue",disabled:!s,onClick:Object(k.a)(g.a.mark((function a(){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.setPopout(l.a.createElement(d.G,null)),a.next=3,new Promise((function(a){return t.socket.call("reports.submitReason",{report_id:u.report_id,reason_id:parseInt(s)},function(){var t=Object(k.a)(g.a.mark((function t(o){var s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log({report_response:o}),s=r+1>=n.length?0:r+1,gr=!0,t.next=5,e.setState({current:s,report_reason:"admin"===i?ce(n[s].report_reasons)+"":""});case 5:if(!(r+1>=n.length)){t.next=8;break}return t.next=8,e.updateReports();case 8:a();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 3:t.setPopout(null);case 4:case"end":return a.stop()}}),a)})))},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c")))):l.a.createElement(d.D,null))}}]),t}(i.PureComponent);kc.defaultProps={};var yc=gc;function wc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ec(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wc(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wc(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(743)("./".concat(window.location.search.length>0&&"desktop_web"===JSON.parse('{"'+decodeURI(window.location.search.substring(1)).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}').vk_platform?"Desktop":"Mobile",".css"));var Cc,xc,_c=new Ir,Oc=!1,Lc="1.4.3",Sc="outdated-version",Pc="global-canvas",jc="change-url-params",Ac="palette",Dc=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={bridge_inited:!1,appearance:"light",notifications_allowed:"1"===z().vk_are_notifications_enabled,isNotApp:!1,activePanel:"main",history:["main"],activeModal:null,modalHistory:[],color:void 0,pickedColor:"#000000",color_percent:0,colors:[["#FD5C5C","#FE77C4","#C47EFF","#508DFA","#5FE3FF","#50E98E","#FFED63","#FFB063"],"#000000","#FFFFFF","#E63902","#EA5A03","#FA8A00","#FBB101","#FDE401","#85B201","#019317","#019C8B","#035AA2","#00247A","#500A6D","#A9236B","#964B00","#F57C7C"],gradients:[["#FFB063","#FD5C5C","#FE77C4","#C47EFF","#508DFA","#5FE3FF","#50E98E","#FFED63","#FFB063","#FD5C5C"],["#34A5D2","#508DFA","#38587E","#3A8DD7","#466AC0","#3D5164","#34A5D2"],["#F8D465","#FF5990","#FF635C","#E08B53","#DDB173","#FFBC78","#F8D465","#FF5990"],["#B970E6","#F2B888","#8ED6FF","#FF6746","#CC976F","#B970E6","#F2B888"],["#DCD6FF","#EFBED0","#FF75E1","#FF7CE2","#FEBFFF","#DCD6FF"],["#666CFF","#6653DF","#92B0FF","#57AAD9","#666CFF","#6653DF"],["#FFCD4B","#FC71FF","#FF8C67","#8471F9","#FFCD4B","#FC71FF"],["#2A0567","#8C3CFF","#FFA7E6","#2A0567","#8C3CFF"],["#99E600","#FFB36D","#C2D357","#FFC886","#99E600","#FFB36D"]],btnSelectColorPaletteDefault:"#6862DA",__v_clicks:0,online:0,chooseWords:[],voteWords:[],drawerId:0,lobbyId:0,isOnlineDrawing:!0,bannersCount:9,banners:[],defaultBannerData:{title:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",domain:"vk.com",trackingLink:"https://vk.com",ctaText:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438",advertisingLabel:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430",iconLink:"https://sun9-7.userapi.com/c846420/v846420985/1526c3/ISX7VF8NjZk.jpg",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0435\u043a\u043b\u0430\u043c\u044b",ageRestrictions:"14+",statistics:[{url:"",type:"playbackStarted"},{url:"",type:"click"}]},connected:!1,trying_reconnect:!1,dataUpdated:!1,author_works:[],gamesSaves:[],subGameInfo:{},watchedShopItems:[],boughtShopItems:[],user:{},friend_lobby:{},game_timeout:90,suggestions_type:"",suggestions_list:[],game_canceled_reason:"",showStaticFeed:0,game_logs:[],api_manager:0,warning_saves:0,connectStep:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443..."},setTimeout(Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,Va("resume_draw");case 3:return e.t1=e.sent,e.t2={tooltip_resume_draw:e.t1},e.next=7,e.t0.setState.call(e.t0,e.t2);case 7:case"end":return e.stop()}}),e)})))),a.componentDidMount=a.componentDidMount.bind(Object(y.a)(a)),a.updateData=a.updateData.bind(Object(y.a)(a)),a.setAlert=a.setAlert.bind(Object(y.a)(a)),a.actionAfterGame=a.actionAfterGame.bind(Object(y.a)(a)),a.showCustomAdvert=a.showCustomAdvert.bind(Object(y.a)(a)),a.getFriendsIds=a.getFriendsIds.bind(Object(y.a)(a)),a.back=function(){var e=a.state,t=e.history,n=e.popout,r=e.activeModal,o=t[t.length-1];if(null===n||void 0===n){if(null!==r)return a.setState({activeModal:null}),void window.history.pushState({pop:"popout"},"Title");if("game"===o){var s=a.state,c=s.lobbyId;if(s.isOnlineDrawing)return a.socket.call("games.leaveGame",{lobbyId:c}),void a.setActivePanel("main");a.showNewAd()}else if("result"===o)return a.showNewAd(),a.setActivePanel("main"),void a.actionAfterGame();"author"===o&&"picture_info"===t[t.length-2]&&"guessed_pictures"===t[t.length-3]&&a.setState({like_currentPictureSelected:a.state.like_currentPictureSelected_,like_method:"games.getByWinnerId",like_param:"gamesAsWinner",like_user_id:a.state.vk_user.id}),t.length<=1&&"main"!==t[0]&&"placeholder"!==t[0]?a.setActivePanel("main"):t.length>1?("search_game"===o?(_c.call("games.search",{manager:a.state.api_manager}),a.setSnackbar("\u041f\u043e\u0438\u0441\u043a \u0438\u0433\u0440\u044b \u043e\u0442\u043c\u0435\u043d\u0451\u043d")):"friend_lobby"===o?_c.call("friends.leaveLobby",{owner_id:a.state.friend_lobby.owner_id}):"gallery"===o||"guessed_pictures"===o?a.setState({scrollPosition:null}):"feed"===o?a.setState({scrollPositionFeed:null}):"bookmarks"===o?a.setState({scrollPositionBookmarks:null}):"search"===o?a.setState({scrollPositionSearch:null}):"author"===o&&a.setState({scrollPositionAuthor:null}),t.pop(),a.setState({activePanel:t[t.length-1],history:t}),"search_game"!==t[t.length-1]&&a.setState({snackbar:null})):f.a.send("VKWebAppClose",{status:"success"})}else"ScreenSpinner"!==n.type.name&&a.setPopout(null)},a.go=function(e){var t=a.state,n=t.history;null!==t.activeModal&&a.setState({activeModal:null,modalHistory:[]}),n[n.length-1]!==e&&(n.push(e),window.history.pushState({activePanel:e},"Title"),"game"===e&&f.a.send("VKWebAppHideBannerAd"),a.setState({activePanel:e,history:n,snackbar:null}))},a.setActivePanel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];a.setState({activePanel:e,history:[].concat(Object(v.a)(t),[e]),snackbar:null})},a.setActiveModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=a.state.modalHistory;null===e?t=[]:-1!==t.indexOf(e)?t=t.splice(0,t.indexOf(e)+1):t.push(e),a.setState({activeModal:e,modalHistory:t}),window.history.pushState({activeModal:e},"Modal")},a.setPopout=function(e){a.setState({popout:e})},a.setSnackbar=function(){var e=Object(k.a)(g.a.mark((function e(t){var n,r,o,s=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:{},r=n.buttonText,o=n.buttonAction,!a.state.snackbar){e.next=6;break}return e.next=4,a.setState({snackbar:null});case 4:return e.next=6,M(100);case 6:a.setState({snackbar:l.a.createElement(d.L,{onClose:function(){return a.setState({snackbar:null})},action:r,onActionClick:o},t)});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.socket=_c,a.newAdSupports=f.a.supports("VKWebAppShowBannerAd"),console.log({newAdSupports:a.newAdSupports}),a.showNewAd=function(){f.a.send("VKWebAppShowBannerAd",{banner_location:"bottom",layout_type:"resize"})},a.log=function(){var e=Object(k.a)(g.a.mark((function e(t,n,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,a.setState(Object(h.a)({},t,[].concat(Object(v.a)(a.state[t]||[]),[{e:n,d:r}])));case 3:e.next=7;break;case 5:return e.next=7,a.setState(Object(h.a)({},t,[]));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),E.a.init(),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r,o,s,c,i,l,u,p,d,m,h,v,b=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=H(),a=z(),this.vkChatIntegration="im_attach_picker"===a.vk_ref&&""===window.location.hash,this.isFromCatalogChat="catalog_messenger_apps_with_action"===a.vk_ref,this.isFromChatWidget="im_app_action"===a.vk_ref,console.log({urlParams:a,vkChatIntegration:this.vkChatIntegration,isFromCatalogChat:this.isFromCatalogChat,isFromChatWidget:this.isFromChatWidget}),f.a.send("VKWebAppInit"),setTimeout(Object(k.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.newAdSupports?b.showNewAd():(clearInterval(Cc),f.a.supports("VKWebAppGetAds")&&(Cc=setInterval(Object(k.a)(g.a.mark((function e(){var t,a,n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.state,a=t.banners,n=t.bannersCount,e.next=3,f.a.send("VKWebAppGetAds",{});case 3:for(r=e.sent,o=0;o<n;o++)!1!==a[o]&&(a[o]=r);b.setState({banners:a});case 6:case"end":return e.stop()}}),e)}))),3e3)));case 1:case"end":return e.stop()}}),e)}))),5e3),this.setState({bridge_inited:!0}),j(["Manrope","Manrope Medium","Manrope Semibold","Manrope Bold","Manrope ExtraBold","SF Pro Text","SF Pro Text Medium","SF Pro Text Semibold","SF Pro Text Bold","SF Pro Rounded","SF Pro Rounded Medium","SF Pro Rounded Semibold","SF Pro Rounded Bold","SF Pro Display Medium","SF Pro Display Semibold","SF Pro Display","Inter Bold","TT Commons Demibold","Inter Black"]),window.addEventListener("popstate",(function(e){e.preventDefault(),b.back()})),f.a.subscribe(function(){var e=Object(k.a)(g.a.mark((function e(a){var n,r,o,s,c,i,l,u,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.detail,r=n.type,o=n.data,void 0!==r&&("vk-connect"!==r||o)&&console.log(r,o),"VKWebAppUpdateConfig"===r?(Oc||document.body.setAttribute("keyboard_on","0"),o.insets&&o.insets.bottom&&!t&&(s=o.insets.bottom,Oc||(Oc=s),Oc&&s>Oc?(c=s-Oc,console.log("Keyboard open, height = "+c),document.body.style.setProperty("--keyboard-height","".concat(c,"px")),document.body.setAttribute("keyboard_on","1")):Oc&&s<=Oc&&(console.log("Keyboard close"),document.body.setAttribute("keyboard_on","0"))),(i=document.createAttribute("scheme")).value=o.scheme?"client_light"===o.scheme?"bright_light":o.scheme:"bright_light",document.body.attributes.setNamedItem(i),b.setState({appearance:o.scheme&&o.scheme.indexOf("light")>-1?"light":"dark"}),l=o.viewport_height||document.documentElement.clientHeight,u=o.viewport_width||document.documentElement.clientWidth,p=100/812*(l>0?l:812)/100,document.body.style.setProperty("--scale-value",p),document.body.setAttribute("_width",u),document.body.setAttribute("_height",l),b.clientHeight=l,b.clientWidth=u,console.log("windowHeight = ".concat(l))):"VKWebAppViewRestore"===r?(b.setState({popout:null}),"global_canvas"===b.state.activePanel&&setTimeout((function(){return document.body.setAttribute("scheme","bright_light")}),500)):"VKWebAppChangeFragment"===r?window.location.hash="#".concat(o.location):"VKWebAppAllowNotificationsResult"===r?(_c.call("users.enableNotifications",{allow:!0}),b.setState({notifications_allowed:!0})):"VKWebAppDenyNotificationsResult"===r&&(_c.call("users.enableNotifications",{allow:!1}),b.setState({notifications_allowed:!1}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n=this.state.isNotApp,e.t0=!n,!e.t0){e.next=19;break}return e.next=17,Wa("onboard_welcome");case 17:e.t1=e.sent,e.t0=""===e.t1;case 19:if(r=e.t0,e.t2=!n,!e.t2){e.next=26;break}return e.next=24,Wa("vk_group3");case 24:e.t3=e.sent,e.t2=""===e.t3;case 26:if(o=e.t2,e.t4=!n,!e.t4){e.next=33;break}return e.next=31,Wa("vk_chat");case 31:e.t5=e.sent,e.t4=""===e.t5;case 33:if(s=e.t4,e.t6=!n,!e.t6){e.next=40;break}return e.next=38,Wa("update_01062023");case 38:e.t7=e.sent,e.t6=""===e.t7;case 40:if(c=e.t6,e.t8=!n,!e.t8){e.next=47;break}return e.next=45,Wa("canvas_new_mode");case 45:e.t9=e.sent,e.t8=""===e.t9;case 47:if(i=e.t8,e.t10=!n,!e.t10){e.next=54;break}return e.next=52,Wa("canvas_new_mode_onboard_2");case 52:e.t11=e.sent,e.t10=""===e.t11;case 54:if(l=e.t10,e.t12=!n,!e.t12){e.next=60;break}return e.next=59,f.a.send("VKWebAppGetUserInfo");case 59:e.t12=e.sent;case 60:return u=e.t12,e.prev=61,e.next=64,me([a.vk_user_id]);case 64:p=e.sent,e.next=69;break;case 67:e.prev=67,e.t13=e.catch(61);case 69:return e.next=71,this.setState({isShowOnboard:r,isShowVkGroup:o,isShowVkChat:s,isShowGlobalCanvasOnboard:l,isShowGlobalCanvas:i,vk_user:u.id==a.vk_user_id?u:p[0]||u});case 71:return f.a.send("VKWebAppEnableSwipeBack"),this.connect(),_c.subscribe("exit",function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.setState({placeholderText:t.title,banned:t.banned,ban_reason:t.ban_reason,dataUpdated:!0});case 2:b.setPopout(null),t.banned?(b.setState({placeholderNeed:2}),b.setActivePanel("banned")):(b.setState({placeholderNeed:1}),b.setActivePanel("placeholder")),b.state.bridge_inited||(f.a.send("VKWebAppInit"),b.setState({bridge_inited:!0}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_c.subscribe("app_version",(function(e){b.setState({app_version:e.app_version})})),_c.subscribe("restart",(function(e){b.setAlert("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435","\u041f\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0438 \u0432\u0441\u0435\u0445 \u0438\u0433\u0440 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0440\u0435\u0441\u0442\u0430\u0440\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.",[{title:"\u041e\u043a",autoclose:!0}])})),_c.onConnectionError((function(e){console.log("Connection error"),b.setState({connected:!1}),b.state.trying_reconnect||(b.setState({placeholderText:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443",placeholderNeed:1}),b.setPopout(null),b.setActivePanel("placeholder")),b.state.bridge_inited||(f.a.send("VKWebAppInit"),b.setState({bridge_inited:!0}))})),_c.onDisconnect((function(e){console.log("Disconnected. Reason: ",e),b.setState({connected:!1}),b.setPopout(null),0===b.state.placeholderNeed&&(b.setState({placeholderText:""}),b.setActivePanel("placeholder")),b.state.bridge_inited||(f.a.send("VKWebAppInit"),b.setState({bridge_inited:!0}))})),e.next=80,new Promise((function(e){return _c.onConnect(Object(k.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E.a.scale(0),t.next=3,b.setState({connected:!0,placeholderNeed:0});case 3:return console.log("Connected"),b.setActivePanel("main"),console.log("Update user data..."),t.next=8,new Promise(function(){var e=Object(k.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.updateData(),a=0,n=0;case 3:if(!(n<1)){e.next=11;break}return(!b.state.dataUpdated||a>=30)&&n--,a++,e.next=8,M(100);case 8:n++,e.next=3;break;case 11:t(!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:console.log("Data updated"),console.log({isShowVkGroup:o,isShowVkChat:s,isShowUpdate:c,isShowOnboard:r}),r?(f.a.send("VKWebAppStorageSet",{key:"onboard_welcome",value:"1"}),b.setState({isShowOnboard:!1}),b.showOnboard("welcome"),console.log("Trying to check hash..."),b.onChangeHash()):o?setTimeout((function(){b.go("group_vk")}),1e3):s?setTimeout((function(){b.go("chat_vk"),f.a.send("VKWebAppStorageSet",{key:"vk_chat",value:"1"}),b.setState({isShowVkChat:!1})}),1e3):c?setTimeout((function(){b.setActiveModal("new-update"),f.a.send("VKWebAppStorageSet",{key:"update_01062023",value:"1"})}),1e3):(console.log("Trying to check hash..."),b.onChangeHash()),e(!0);case 12:case"end":return t.stop()}}),t)}))))}));case 80:return $("stats.join"),e.next=83,Wa("bookmarks");case 83:if(d=e.sent,m=[],""!==d){e.next=91;break}return e.next=88,Ga("bookmarks","0");case 88:d=0,e.next=103;break;case 91:d=parseInt(d),h=1;case 93:if(!(h<d+1)){e.next=103;break}return e.t14=JSON,e.next=97,Wa("bookmarks_".concat(h));case 97:e.t15=e.sent,v=e.t14.parse.call(e.t14,e.t15),m=m.concat(v);case 100:h++,e.next=93;break;case 103:return this.setState({bookmarks_count:d,bookmarks:m}),e.t16=console,e.t17=d,e.t18=m,e.next=109,Wa("bookmarks_0");case 109:return e.t19=e.sent,e.next=112,Wa("bookmarks_1");case 112:return e.t20=e.sent,e.next=115,Ta();case 115:e.t21=e.sent,e.t22={bookmarks_count:e.t17,bookmarks:e.t18,test0:e.t19,test1:e.t20,keys:e.t21},e.t16.log.call(e.t16,e.t22);case 118:case"end":return e.stop()}}),e,this,[[61,67]])})));return function(){return e.apply(this,arguments)}}()},{key:"bookmarkAction",value:function(e,t,a){if(console.log("bookmarkAction",{action:e,type:t,object:a}),"a"===e){var n=Math.max(1,Math.ceil(this.state.bookmarks_count/100)),r=this.state.bookmarks.slice(100*(n-1),100*(n-1)+100)||[];r.push("".concat(t,"_").concat(a));var o=this.state.bookmarks.concat(r[r.length-1]),s=this.state.bookmarks_count;(n>s||0===s)&&Ga("bookmarks",++s+""),Ga("bookmarks_".concat(n),JSON.stringify(r)),this.setState({bookmarks:o,bookmarks_count:s}),console.log("add bookmark",{currentListIndex:n,currentList:r})}else if("r"===e){var c=this.state,i=c.bookmarks,l=c.bookmarks_count,u=this.state.bookmarks.findIndex((function(e){return e==="".concat(t,"_").concat(a)}));i.splice(u,1);var p=Math.ceil(u/100),d=Math.ceil(i.length/100);l!==d&&(Ga("bookmarks",(l=d)+""),Ga("bookmarks_".concat(l),"")),console.log("remove bookmark",{currentBookmarkIndex:u});for(var m=p;m<l;m++)Ga("bookmarks_".concat(m+1),JSON.stringify(i.slice(100*m,100*m+100))),console.log("save bookmarks "+(m+1),{bookmarks:i.slice(100*m,100*m+100)});this.setState({bookmarks:i,bookmarks_count:l})}else if("f"===e)return this.state.bookmarks.find((function(e){return e==="".concat(t,"_").concat(a)}))}},{key:"setAlert",value:function(e,t,a){var n=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vertical";this.setPopout(l.a.createElement(d.d,{actions:a,actionsLayout:r,onClose:function(){return n.setPopout(null)},header:e,text:t})),window.history.pushState({pop:"alert"},"Alert")}},{key:"connect",value:function(){var e=this;console.log("Try to connect..."),this.setState({connectStep:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443..."}),_c.connect("https://draw.avocado.special.vk-apps.com",z()),setTimeout((function(){e.state.banned||(e.state.dataUpdated||e.updateData(),e.state.connected||e.state.placeholderText||(clearInterval(xc),xc=setInterval((function(){e.state.connected?clearInterval(xc):(console.log("connecting..."),e.setState({connectStep:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443..."}),_c.connect("https://draw.avocado.special.vk-apps.com",z()))}),1e3)))}),1e3)}},{key:"updateData",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({connectStep:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435..."}),e.next=3,new Promise((function(e){_c.call("users.getTopNumber",{},(function(e){t.setState({top_number:e.response})})),_c.call("users.getTop",{},function(){var e=Object(k.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.response.map((function(e){return e.id})),e.next=3,me(n);case 3:t.setState({top:a.response.map((function(e){return Ec({},ue[e.id],{},e)}))});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_c.call("minigames.getCurrentGame",{},function(){var a=Object(k.a)(g.a.mark((function a(n){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.setState({connectStep:"\u041d\u0430\u0448\u043b\u0438 \u0432\u0430\u0441 \u0432 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445..."}),2===(r=n.response)&&_c.call("users.getTop",{type:"week_pictures"},function(){var e=Object(k.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.response.map((function(e){return e.id})),e.next=3,me(n);case 3:t.setState({week_gift_top:a.response.map((function(e){return Ec({},ue[e.id],{},e)}))});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.setState({activeMiniGame:r}),_c.call("users.get",{},(function(a){t.setState({connectStep:"\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c \u043f\u0440\u043e\u0444\u0438\u043b\u044c..."});var n=a.response;t.setState({user:n}),t.privilege=n.vk_donut||n.premium||n.admin,_c.call("games.getByDrawerId",{id:t.state.vk_user.id,limit:50},(function(a){t.setState({connectStep:"\u0413\u0440\u0443\u0437\u0438\u043c \u0440\u0438\u0441\u0443\u043d\u043a\u0438..."}),t.setState({gamesAsDrawer:a.response});var n=a.response.map((function(e){return e.drawerId}));_c.call("games.getByWinnerId",{id:t.state.vk_user.id,limit:50},(function(a){t.setState({connectStep:"\u041f\u043e\u0447\u0442\u0438 \u0433\u043e\u0442\u043e\u0432\u043e..."}),me(n=[].concat(Object(v.a)(n),Object(v.a)(a.response.map((function(e){return e.drawerId}))))),setTimeout(Object(k.a)(g.a.mark((function n(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.setState({connectStep:"\u0415\u0449\u0451 \u0447\u0443\u0442\u044c-\u0447\u0443\u0442\u044c..."}),n.next=3,t.setState({gamesAsWinner:a.response,dataUpdated:!0});case 3:e(!0);case 4:case"end":return n.stop()}}),n)}))),400)}))}))}));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}));case 3:return this.setState({time:Date.now()}),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeHash",value:function(){var e=this;if(console.log("Watch hash: ".concat(window.location.hash)),this.vkChatIntegration)return console.log("create chat lobby"),this.setPopout(l.a.createElement(d.G,null)),void _c.call("friends.createLobby",{},(function(t){t.response?(e.setState({friend_lobby:t.response}),e.go("friend_lobby"),e.setPopout(null)):e.setAlert("\u041e\u0448\u0438\u0431\u043a\u0430",t.error.message,[{title:"\u041e\u043a",mode:"cancel",autoclose:!0}])}));if(window.location.hash.startsWith("#"))for(var t=window.location.hash.substring(1),a=0,n=[{key:"author",do:function(){var t=Object(k.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setPopout(l.a.createElement(d.G,null)),t.next=3,me([a]);case 3:t.sent[0]?e.socket.call("users.getById",{id:a},function(){var t=Object(k.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.socket.call("games.getByDrawerId",{id:a},function(){var t=Object(k.a)(g.a.mark((function t(r){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({author:Ec({id:a},n.response||{}),author_works:r.response});case 2:setTimeout((function(){e.go("author"),e.setPopout(null)}),400);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):e.setPopout(null);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"picture",do:function(){var t=Object(k.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=parseInt(a),e.setPopout(l.a.createElement(d.G,null)),e.socket.call("games.getById",{id:n},function(){var t=Object(k.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===a.response){t.next=14;break}return n=a.response.drawerId,t.next=4,me([n]);case 4:if(!t.sent[0]){t.next=11;break}return t.next=8,e.setState({gamesAsAuthor:[a.response],like_currentPictureSelected:0,like_method:"",like_param:"gamesAsAuthor",like_user_id:n});case 8:setTimeout((function(){e.go("picture_info"),e.setPopout(null)}),400),t.next=12;break;case 11:e.setPopout(null);case 12:t.next=15;break;case 14:e.setPopout(null);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"lobby",do:function(t){""===t?e.go("friends"):(e.setPopout(l.a.createElement(d.G,null)),e.socket.call("friends.joinLobby",{owner_id:parseInt(t),url:!0},function(){var t=Object(k.a)(g.a.mark((function t(a){var n,r,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.response){t.next=8;break}return t.next=3,me([].concat(Object(v.a)(a.response.members),[a.response.owner_id]));case 3:return t.next=5,e.setState({friend_lobby:a.response});case 5:setTimeout((function(){e.go("friend_lobby"),e.setPopout(null)}),400),t.next=13;break;case 8:if(e.setPopout(null),a.error){t.next=11;break}return t.abrupt("return");case 11:n=a.error,r=n.code,o=n.message,6===r?e.setAlert("\u0423\u043f\u0441",o,[{title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043b\u043e\u0431\u0431\u0438",action:function(){e.setPopout(l.a.createElement(d.G,null)),_c.call("friends.createLobby",{},(function(t){t.response?(e.setState({friend_lobby:t.response}),e.go("friend_lobby"),e.setPopout(null)):e.setAlert("\u041e\u0448\u0438\u0431\u043a\u0430",t.error.message,[{title:"\u041e\u043a",mode:"cancel",autoclose:!0}])}))}},{title:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e",mode:"cancel",autoclose:!0}]):e.setAlert("\u0423\u043f\u0441",o,[{title:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e",mode:"cancel",autoclose:!0}]);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}},{key:"tpnl-",do:function(t){e.go(t)}}];a<n.length;a++){var r=n[a];if(console.log("".concat(r.key," === ").concat(t," ?")),t.startsWith(r.key)){console.log("Did action with key = "+r.key),r.do(t.substring(r.key.length));break}}}},{key:"_tags",value:function(){return[["tag_interesting",l.a.createElement(be.a,null),"\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0439 \u0430\u0432\u0442\u043e\u0440","\u041c\u0435\u0442\u043a\u0430 \u0432\u044b\u0434\u0430\u0451\u0442\u0441\u044f \u043f\u0440\u0438 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0438 1.000 \u043b\u0430\u0439\u043a\u043e\u0432"],["tag_rater",l.a.createElement(ge.a,null),"\u041e\u0446\u0435\u043d\u0449\u0438\u043a","\u041e\u0446\u0435\u043d\u0438\u0442\u044c 100 \u043a\u0430\u0440\u0442\u0438\u043d"],["tag_agitator",l.a.createElement(ke.a,null),"\u0410\u0433\u0438\u0442\u0430\u0442\u043e\u0440","\u0420\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0442\u044c \u043e \u0441\u0432\u043e\u0438\u0445 \u0440\u0430\u0431\u043e\u0442\u0430\u0445 \u0434\u0440\u0443\u0437\u044c\u044f\u043c (10 \u0440\u0430\u0437)"],["tag_savepoint",l.a.createElement(Rt,null),"\u0422\u043e\u0447\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 10 \u0440\u0438\u0441\u0443\u043d\u043a\u043e\u0432"],["tag_rapidfire",l.a.createElement(Zt,null),"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u0440\u0435\u043b","\u041c\u0435\u0442\u043a\u0430 \u0432\u044b\u0434\u0430\u0451\u0442\u0441\u044f \u0437\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u0443, \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u0438 \u0443\u0433\u0430\u0434\u0430\u043d\u043d\u0443\u044e \u0437\u0430 5 \u0441\u0435\u043a\u0443\u043d\u0434"],["tag_turtle",l.a.createElement(ea,{width:20,height:20}),"\u0427\u0435\u0440\u0435\u043f\u0430\u0445\u0430","\u041c\u0435\u0442\u043a\u0430 \u0432\u044b\u0434\u0430\u0451\u0442\u0441\u044f \u0437\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u0443, \u043d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u0438 \u0443\u0433\u0430\u0434\u0430\u043d\u043d\u0443\u044e \u0437\u0430 85-90 \u0441\u0435\u043a\u0443\u043d\u0434"],["tag_creative",l.a.createElement(ye.a,null),"\u041a\u0440\u0435\u0430\u0442\u0438\u0432\u043d\u044b\u0439","\u041c\u0435\u0442\u043a\u0430 \u0432\u044b\u0434\u0430\u0451\u0442\u0441\u044f \u0432\u0440\u0443\u0447\u043d\u0443\u044e \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439, \u0435\u0441\u043b\u0438 \u0442\u0430 \u043f\u043e\u0441\u0447\u0438\u0442\u0430\u0435\u0442 \u0442\u0432\u043e\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u044b \u043a\u0440\u0435\u0430\u0442\u0438\u0432\u043d\u044b\u043c\u0438"],["tag_veteran",l.a.createElement(we.a,null),"\u0412\u0435\u0442\u0435\u0440\u0430\u043d","\u0423 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u044d\u0442\u043e\u0439 \u043c\u0435\u0442\u043a\u0438 \u0431\u043e\u043b\u044c\u0448\u0435 500 \u043a\u0430\u0440\u0442\u0438\u043d"],["tag_banana",l.a.createElement(Ft,null),"\u0411\u0430\u043d\u0430\u043d\u043e\u0432\u044b\u0439 \u043e\u0441\u0442\u0440\u043e\u0432","\u041d\u0430\u0440\u0438\u0441\u0443\u0439\u0442\u0435 100 \u0431\u0430\u043d\u0430\u043d\u043e\u0432"],["tag_smart",l.a.createElement(ca,null),"\u0423\u043c\u043d\u0438\u043a","\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446 \u043c\u0435\u0442\u043a\u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u043b \u0432 \u0441\u0443\u043c\u043c\u0435 100 \u0438\u0434\u0435\u0439 \u0438 \u0441\u043b\u043e\u0432"],["tag_psychic",l.a.createElement(Ee.a,null),"\u042d\u043a\u0441\u0442\u0440\u0430\u0441\u0435\u043d\u0441","\u0423\u0433\u0430\u0434\u0430\u0439\u0442\u0435, \u043a\u0430\u043a\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u0432\u044b\u043f\u0430\u043b\u043e \u0438\u0433\u0440\u043e\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043e\u043d \u043d\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0437\u0438\u043b \u043d\u0430 \u0445\u043e\u043b\u0441\u0442\u0435"]]}},{key:"_tag_modal",value:function(e){var t=this,a=this._tags().find((function(t){return t[0]===e}));return l.a.createElement(d.v,{key:e,id:e,onClose:function(){return t.setActiveModal(null)},icon:l.a.cloneElement(a[1],{width:56,height:56}),header:a[2],subheader:a[3],actions:l.a.createElement(d.h,{size:"l",onClick:function(){return t.showOnboard("tag")}},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")})}},{key:"isNonScrollingElement",value:function(e){return["global_canvas","search_game","game"].indexOf(e)>-1}},{key:"isPanelWithContainerCards",value:function(e){return["friends","gallery","guessed_pictures","feed","stats","shop","lvl_help","services","friend_list","suggestions","suggestions_word","suggestions_idea","bookmarks","search","settings","tags","reports"].indexOf(e)>-1}},{key:"actionAfterGame",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n=this,r=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]&&r[0],this.setPopout(l.a.createElement(d.G,null)),e.t0=f.a.supports("VKWebAppShowNativeAds"),!e.t0){e.next=7;break}return e.next=6,f.a.send("VKWebAppCheckNativeAds",{ad_format:"interstitial"});case 6:e.t0=e.sent.result;case 7:return a=e.t0,e.next=10,new Promise((function(e){return n.socket.call("advert.get",{t:Gs},(function(t){return e(t.response)}))}));case 10:if(e.sent,!(!1===t&&zs()&&(!a||Math.random()<.5))){e.next=16;break}this.go(Us),e.next=24;break;case 16:if(!a){e.next=24;break}return e.prev=17,e.next=20,f.a.send("VKWebAppShowNativeAds",{ad_format:"interstitial"});case 20:e.next=24;break;case 22:e.prev=22,e.t1=e.catch(17);case 24:this.setPopout(null);case 25:case"end":return e.stop()}}),e,this,[[17,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"showCustomAdvert",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return a.socket.call("advert.get",{t:Gs},(function(t){return e(t.response)}))}));case 2:return e.sent,(t=zs()&&Math.random()<.5)&&this.go(Us),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFriendsIds",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,a,n,r=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.app_friends){e.next=4;break}return e.abrupt("return",this.state.app_friends);case 4:return e.prev=4,this.setPopout(l.a.createElement(d.G,null)),e.next=8,f.a.send("VKWebAppGetAuthToken",{app_id:parseInt(z().vk_app_id),scope:"friends"});case 8:return t=e.sent.access_token,e.next=11,f.a.send("VKWebAppCallAPIMethod",{method:"friends.get",params:{access_token:t,v:"5.131"}});case 11:return a=e.sent.response.items,e.next=14,new Promise((function(e){return r.socket.call("friends.getAppUsers",{ids:a},(function(t){return e(t.response)}))}));case 14:return n=e.sent,e.next=17,me(n);case 17:return e.next=19,this.setState({app_friends:n});case 19:return this.setPopout(null),e.abrupt("return",n);case 23:return e.prev=23,e.t0=e.catch(4),this.setPopout(null),this.setSnackbar("\u0411\u0435\u0437 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043c\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u043c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0440\u0443\u0437\u0435\u0439 :("),e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e,this,[[4,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"showOnboard",value:function(){var e=Object(k.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setPopout(l.a.createElement(d.G,null)),n={welcome:[{image:X(a(744)),title:"\u041f\u0440\u0438\u0432\u0435\u0442!",subtitle:"\u0421\u0435\u0439\u0447\u0430\u0441 \u044f \u043d\u0430\u0443\u0447\u0443 \u0442\u0435\u0431\u044f \u043a\u0430\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c."},{image:X(a(745)),title:"\u041a\u0430\u043a \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c?",subtitle:"\u0412\u044b\u0431\u0435\u0440\u0438 \u0447\u0442\u043e \u0431\u0443\u0434\u0435\u0448\u044c \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c. \u041f\u043e\u0434\u0431\u0435\u0440\u0438 \u043d\u0443\u0436\u043d\u044b\u0439 \u0446\u0432\u0435\u0442 \u0432 \u043f\u0430\u043b\u0438\u0442\u0440\u0435 \u0438 \u0442\u0432\u043e\u0440\u0438 \u0447\u0443\u0434\u0435\u0441\u0430."},{image:X(a(746)),title:"\u041a\u0430\u043a \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435 \u0446\u0432\u0435\u0442\u0430?",subtitle:"\u0421 \u043a\u0430\u0436\u0434\u043e\u0439 \u0438\u0433\u0440\u043e\u0439 \u0432\u044b \u043f\u043e\u0432\u044b\u0448\u0430\u0435\u0442\u0435 \u0441\u0432\u043e\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c. \u0421 \u043a\u0430\u0436\u0434\u044b\u043c \u0443\u0440\u043e\u0432\u043d\u0435\u043c \u0446\u0432\u0435\u0442\u043e\u0432\u0430\u044f \u0448\u043a\u0430\u043b\u0430 \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043d\u0430 10%."},{image:X(a(747)),title:"\u041a\u0430\u043a \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0440\u0438\u0441\u0443\u043d\u043e\u043a?",subtitle:"\u0420\u0438\u0441\u0443\u043d\u043a\u0438 \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u043d\u0435 \u0432\u0435\u0447\u043d\u043e, \u0430 \u0432\u0441\u0435\u0433\u043e 3 \u0434\u043d\u044f. \u041d\u043e \u0442\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u043d\u0430\u0432\u0441\u0435\u0433\u0434\u0430 \u0435\u0433\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432 \u043a\u043e\u043d\u0446\u0435 \u0438\u0433\u0440\u044b."},{image:X(a(748)),title:"\u041d\u0430 \u044d\u0442\u043e\u043c \u0432\u0441\u0451",subtitle:"\u041e\u0441\u043d\u043e\u0432\u044b \u044f \u0442\u0435\u0431\u0435 \u0440\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u043b\u0430, \u0442\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u043d\u043e \u0438 \u0438\u0433\u0440\u0430\u0442\u044c."}],tag:[{image:X(a(749)),title:"\u0417\u0430\u0447\u0435\u043c \u043d\u0443\u0436\u043d\u044b \u043c\u0435\u0442\u043a\u0438?",subtitle:"\u041c\u0435\u0442\u043a\u0438 \u044d\u0442\u043e \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f, \u043e\u043d\u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u0443 \u0442\u0435\u0431\u044f \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435."},{image:X(a(750)),title:"\u0410 \u0433\u0434\u0435 \u0435\u0449\u0435 \u0438\u0445 \u0432\u0438\u0434\u043d\u043e?",subtitle:"\u0418\u0445 \u043c\u043e\u0436\u043d\u043e \u0442\u0430\u043a\u0436\u0435 \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0445\u0443\u0434\u043e\u0436\u043d\u0438\u043a\u0430."},{image:X(a(751)),title:"\u041a\u0430\u043a \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c?",subtitle:"\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u043c \u044d\u043a\u0440\u0430\u043d\u0435 \u2013 \u0442\u0430\u043c \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 \u043c\u0435\u0442\u043a\u0438, \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0438\u0445 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435."}],choice_5words:[{image:X(a(752)),title:"\u0412\u044b\u0431\u043e\u0440 \u0438\u0437 \u043f\u044f\u0442\u0438 \u0441\u043b\u043e\u0432",subtitle:"\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0438\u0433\u0440\u0435 \u0443 \u0442\u0435\u0431\u044f \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0432\u044b\u0431\u043e\u0440 \u0438\u0437 \u043f\u044f\u0442\u0438 \u0441\u043b\u043e\u0432."}],picture_actions:[{image:X(a(753)),title:"\u041a\u0430\u043a \u044d\u0442\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f?",subtitle:"\u0412\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u044d\u0442\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0435\u0439 \u043c\u043e\u0436\u043d\u043e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043a\u043d\u043e\u043f\u043a\u0438 \xab\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f\xbb \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0440\u0438\u0441\u0443\u043d\u043a\u0430."}],picture_gif:[{image:X(a(754)),title:"\u041a\u0430\u043a \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u044e?",subtitle:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u0440\u0438\u0441\u0443\u043d\u043e\u043a \u0432 \u0433\u0430\u043b\u0435\u0440\u0435\u0435 \u0438\u043b\u0438 \u0432 \u043b\u0435\u043d\u0442\u0435, \u0443 \u0432\u0430\u0441 \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u044f, \u043a\u0430\u043a \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u043b\u0441\u044f \u0440\u0438\u0441\u0443\u043d\u043e\u043a."}],reports:[{image:X(a(755)),title:"\u041a\u043e\u043c\u0443 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0440\u0435\u043f\u043e\u0440\u0442\u044b?",subtitle:"\u0420\u0435\u043f\u043e\u0440\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438 10 \u0443\u0440\u043e\u0432\u043d\u044f."},{image:X(a(756)),title:"\u042d\u0442\u043e \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0430\u0435\u0442\u0441\u044f?",subtitle:"\u0414\u0430, \u0437\u0430 \u043a\u0430\u0436\u0434\u0443\u044e \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u0443\u044e \u0436\u0430\u043b\u043e\u0431\u0443 \u0442\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0448\u044c 5 \u043c\u043e\u043d\u0435\u0442. \u0417\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0440\u0438\u0441\u0443\u043d\u043e\u043a \u0435\u0449\u0451 5 \u043c\u043e\u043d\u0435\u0442."},{image:X(a(757)),title:"\u041e\u0447\u0435\u043d\u044c \u0432\u0430\u0436\u043d\u043e",subtitle:"\u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0440\u0438\u0441\u0443\u043d\u043a\u0438 \u043d\u0430\u0440\u0443\u0448\u0430\u044e\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435. \u0418\u043c\u0435\u043d\u043d\u043e \u0434\u043b\u044f \u043f\u0440\u0435\u0441\u0435\u0447\u0435\u043d\u0438\u044f \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0439 \u0438 \u0431\u044b\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u044b \u0420\u0435\u043f\u043e\u0440\u0442\u044b."}]}[t],e.next=4,Promise.all(n.map(function(){var e=Object(k.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.image,n=t.title,r=t.subtitle,e.next=3,G(a||"");case 3:return e.t0=e.sent,e.t1={blob:e.t0,type:"image"},e.t2=n,e.t3=r,e.abrupt("return",{media:e.t1,title:e.t2,subtitle:e.t3});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return r=e.sent,e.next=7,f.a.send("VKWebAppShowSlidesSheet",{slides:r});case 7:this.setPopout(null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.test_game,n=t.activePanel,r=t.activeModal,o=t.popout,s=t.snackbar,c=(t.isShowOnboard,t.vk_user),i=t.user,u=t.banned,p=t.ban_reason,m=t.placeholderText,h=t.gameErrorText,b=t.gamesAsWinner,y=t.gamesAsDrawer,w=t.drawerId,E=t.winnerId,x=t.lobbyId,_=t.gameId,O=t.word,L=t.chooseWords,S=t.voteWords,P=t.like_currentPictureSelected,j=t.like_method,A=t.like_param,D=t.like_user_id,F=t.isOnlineDrawing,I=t.friend_lobby,N=t.watchedShopItems,T=t.boughtShopItems,B=t.suggestions_type,W=t.suggestions_list,R=t.game_canceled_reason,G=t.color,U=t.color_percent,z=t.gradients,V=t.btnSelectColorPaletteDefault,K=t.color_gradient,Z=t.pickedColor,X=t.connectStep,J=void 0!==K?V:G||V,Q=!(c&&i&&b&&y),q=void 0!==K&&!1===this.privilege||void 0===K&&"game"===n&&U>10*i.lvl,ee=l.a.createElement(d.y,{activeModal:r},this._tags().map((function(t){return e._tag_modal(t[0])})),l.a.createElement(d.v,{id:"new-update",onClose:function(){e.setActiveModal(null),e.onChangeHash()},icon:l.a.createElement(Ce.a,null),header:"\u0423\u0440\u0430! \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435!",subheader:"\u041c\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u043d\u043e\u0432\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0438\u0433\u0440\u044b \u0438 \u0435\u0449\u0451 \u043a\u043e\u0435-\u0447\u0442\u043e \u043a\u0440\u0443\u0442\u043e\u0435. \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438 \u043d\u0438\u0436\u0435, \u043d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c \u043b\u0430\u0439\u043a \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c, \u043c\u044b \u0441\u0442\u0430\u0440\u0430\u043b\u0438\u0441\u044c <3",actions:l.a.createElement(d.h,{size:"l",mode:"gradient_violet",onClick:function(){e.setActiveModal(null),e.onChangeHash(),Y("https://vk.com/wall-208964042_5784")}},"\u0427\u0442\u043e \u043d\u043e\u0432\u043e\u0433\u043e?")}),l.a.createElement(d.v,{id:Pc,onClose:function(){return e.setActiveModal(null)},icon:l.a.createElement(xe.a,null),header:"\u041d\u043e\u0432\u044b\u0439 \u0440\u0435\u0436\u0438\u043c",subheader:"\u0414\u0430\u0432\u0430\u0439 \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0430\u0443\u0447\u0438\u043c\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u0433\u043e\u0434\u044f\u0442\u0441\u044f \u0432 \u044d\u0442\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435.",actions:l.a.createElement(d.h,{size:"l",mode:"gradient_blue",onClick:function(){f.a.send("VKWebAppStorageSet",{key:"canvas_new_mode_onboard_2",value:"1"}),e.setState({isShowGlobalCanvasOnboard:!1}),e.setActiveModal(null),e.go("global_canvas_info")}},"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435")}),l.a.createElement(d.v,{id:jc,onClose:function(){return e.setActiveModal(null)},header:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",actions:[l.a.createElement(d.h,{size:"l",mode:"gradient_blue",onClick:function(){e._urlParams&&(window.location.search=e._urlParams,e.connect())}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")]},l.a.createElement(d.p,null,l.a.createElement(d.o,null,l.a.createElement(d.t,{defaultValue:window.location.search,onChange:function(t){return e._urlParams=t.target.value}})))),l.a.createElement(d.v,{id:Sc,onClose:function(){return e.setActiveModal(null)},icon:l.a.createElement(_e.a,{fill:"#E63902"}),header:"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435",subheader:"\u0412\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u043c\u0438\u043d\u0438-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u0415\u0441\u043b\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u043a\u043d\u043e\u043f\u043a\u0438 \u0432\u043d\u0438\u0437\u0443 \u043d\u0435 \u043f\u043e\u043c\u043e\u0436\u0435\u0442, \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u0435 \u043a\u044d\u0448 \u0447\u0435\u0440\u0435\u0437 \u0442\u0440\u0438 \u0442\u043e\u0447\u043a\u0438 \u0441\u043f\u0440\u0430\u0432\u0430 \u0432\u0432\u0435\u0440\u0445\u0443.",actions:l.a.createElement(d.h,{size:"l",mode:"primary",stretched:!0,onClick:function(){return window.location.reload()}},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c")}),l.a.createElement(d.w,{id:Ac,onClose:function(){return e.setActiveModal(null)},settlingHeight:100,header:l.a.createElement(d.x,{left:l.a.createElement(d.s,{onClick:Object(k.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({pickedColor:"pipette"});case 2:e.setActiveModal(null);case 3:case"end":return t.stop()}}),t)})))},l.a.createElement(Oe.a,null)),right:!H()&&l.a.createElement(d.C,{onClick:function(){return e.setActiveModal(null)}},l.a.createElement(Le.a,null))},"\u041f\u0430\u043b\u0438\u0442\u0440\u0430")},l.a.createElement("div",{className:"PaletteContainer"},l.a.createElement(C.a,{color:G,onChange:function(t){var a=parseInt(document.getElementsByClassName("react-colorful__hue-pointer")[0].style.left.replace("%",""));e.setState({color:t,color_gradient:void 0,color_percent:a})}}),l.a.createElement("div",{className:"GradientContainer"},l.a.createElement("h2",null,"\u0413\u0440\u0430\u0434\u0438\u0435\u043d\u0442"),l.a.createElement("div",null,z.map((function(t,a){var n="conic-gradient(from 180deg at 50% 50%, ".concat([].concat(Object(v.a)(t.slice(0,t.length-2)),[t[0]]).join(", "),")");return l.a.createElement("div",{key:"gradient-".concat(a),style:{background:n},onClick:function(){e.setState({color_gradient:a})}},l.a.createElement("div",null,l.a.createElement("div",{style:{display:K!==a&&"none",background:n}})))}))))),q&&l.a.createElement("div",{className:"PaletteBlock"},void 0!==K?"\u0413\u0440\u0430\u0434\u0438\u0435\u043d\u0442":"\u0426\u0432\u0435\u0442"," \u043d\u0435 \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d"),l.a.createElement("div",{className:"ButtonsContainer"},l.a.createElement(d.h,{size:"l",stretched:!0,style:{background:J,color:re(J)?"#FFFFFF":"#000000"},disabled:q,onClick:Object(k.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(q){t.next=3;break}return t.next=3,e.setState({pickedColor:void 0!==K?z[K]:G});case 3:e.setActiveModal(null);case 4:case"end":return t.stop()}}),t)})))},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),l.a.createElement(d.h,{size:"l",stretched:!0,style:{background:"rgba(".concat(ne(J).rgb,", .05)"),color:"var(--color_primary)"},onClick:Object(k.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a={},"object"===typeof Z?a.color_gradient=z.findIndex((function(e){return JSON.stringify(e)===JSON.stringify(Z)})):(a.color_gradient=-1,a.color=Z),e.setState(a),e.setActiveModal(null);case 4:case"end":return t.stop()}}),t)})))},"\u041e\u0442\u043c\u0435\u043d\u0430"))));return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.O,{popout:o,modal:ee},l.a.createElement(d.N,{animate:!H()},l.a.createElement(d.T,{style:Ec({overflow:this.isNonScrollingElement(n)&&"hidden"},this.isPanelWithContainerCards(n)?{"--background_content":"var(--panel_container_background)","--header_background":"var(--panel_container_card_background)"}:{}),activePanel:a?"game":"placeholder"!==n&&"banned"!==n&&Q?"connecting":n,onSwipeBack:this.back,history:this.state.history},[{id:"onboard",component:l.a.createElement(Ar,{icon:l.a.createElement(Fe,null),title:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c",description:"\u0417\u0434\u0435\u0441\u044c \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0447\u0443\u0432\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0431\u044f \u0432 \u0440\u043e\u043b\u0438 \u043a\u0430\u043a \u0445\u0443\u0434\u043e\u0436\u043d\u0438\u043a\u0430, \u0442\u0430\u043a \u0438 \u0428\u0435\u0440\u043b\u043e\u043a\u0430. \u0420\u0438\u0441\u0443\u0439\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u044b \u0438 \u0443\u0433\u0430\u0434\u044b\u0432\u0430\u0439\u0442\u0435 \u0447\u0443\u0436\u0438\u0435.",buttonIcon:!1,buttonText:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",buttonMode:"primary_2",buttonOnClick:function(){f.a.send("VKWebAppStorageSet",{key:"onboard",value:"1"}),e.setState({isShowOnboard:!1}),e.onChangeHash()}})},{id:"connecting",component:l.a.createElement(Ar,{icon:l.a.createElement(Fe,null),title:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435",description:X})},{id:"placeholder",component:l.a.createElement(Ar,{icon:l.a.createElement(Re,null),title:"\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u043e",description:m,buttonText:"\u041f\u0435\u0440\u0435\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f",buttonMode:"primary_2",buttonOnClick:Object(k.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setActivePanel("connecting"),e.setState({trying_reconnect:!0}),a=0;case 3:if(!(a<5)){t.next=12;break}return e.connect(),t.next=7,M(1e3);case 7:if(!e.state.connected){t.next=9;break}return t.abrupt("break",12);case 9:a++,t.next=3;break;case 12:return t.next=14,e.setState({trying_reconnect:!1});case 14:e.connect();case 15:case"end":return t.stop()}}),t)})))})},{id:"main",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(ja,{t:this,time:this.state.time}),s)},{id:"avatar_frames",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Sa,{t:this}),s)},{id:"lvl_help",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(bs,{t:this}),s)},{id:"week_gifts",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Cs,{t:this}),s)},{id:"art_battle_placeholder",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Ts,{t:this}),s)},{id:"art_battle_rate",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Ws,{t:this,lobbyId:x}),s)},{id:"services",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(tc,{t:this}),s)},{id:"friend_list",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(oc,{t:this}),s)},{id:"feed",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Ur,{t:this}),s)},{id:"bookmarks",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(lc,{t:this}),s)},{id:"suggestions",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(is,{t:this}),s)},{id:"reports",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(yc,{t:this}),s)},{id:"report_view",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(kc,{t:this}),s)},{id:"suggestions_idea",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(us,{t:this}),s)},{id:"suggestions_word",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(ds,{t:this}),s)},{id:"suggestions_list",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(hs,{t:this,type:B,list:W}),s)},{id:"search",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(mc,{t:this}),s)},{id:"shop",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(cr,{t:this,watchedShopItems:N,boughtShopItems:T}),s)},{id:"stats",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(mo,{t:this}),s)},{id:"settings",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(vc,{t:this}),s)},{id:"gallery",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Qa,{t:this}),s)},{id:"guessed_pictures",component:l.a.createElement(l.a.Fragment,null,l.a.createElement($a,{t:this}),s)},{id:"picture_info",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Er,{t:this,current:P,method:j,param:A,user_id:D}),s)},{id:"author",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Yr,{t:this}),s)},{id:"search_game",component:l.a.createElement(an,{t:this})},{id:"game",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(In,{color:Z,t:this,drawerId:w,lobbyId:x,online:F,chooseWords:L,voteWords:S,word:O}),s)},{id:"neural",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Is,{t:this,color:Z}),s)},{id:"export_clip",component:l.a.createElement(Ys,{t:this})},{id:"global_canvas_history",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(ns,{t:this}),s)},{id:"global_canvas",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Ho,{color:Z,t:this}),s)},{id:"global_canvas_info",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Yo,{t:this}),s)},{id:"result",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Pr,{t:this,drawerId:w,winnerId:E,word:O,gameId:_}),s)},{id:"tags",component:l.a.createElement(Qr,{t:this})},{id:"friends",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(ao,{t:this}),s)},{id:"friend_lobby",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(co,{t:this,friend_lobby:I}),s)},{id:"friend_lobby_settings",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(es,{t:this,friend_lobby:I}),s)},{id:"group_vk",component:l.a.createElement(Ar,{icon:l.a.createElement(Ke,null),title:"\u0421 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u0435\u043c!",description:"\u041d\u0435 \u0445\u043e\u0447\u0435\u0448\u044c \u0432\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u043d\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435? \u0418\u043c\u0435\u043d\u043d\u043e \u0442\u0430\u043c \u043f\u0443\u0431\u043b\u0438\u043a\u0443\u044e\u0442\u0441\u044f \u0432\u0441\u0435 \u043a\u0440\u0443\u0442\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u043a\u043e\u043d\u043a\u0443\u0440\u0441\u044b",buttonText:"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c",buttonOnClick:Object(k.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.a.send("VKWebAppStorageSet",{key:"vk_group3",value:"1"}),e.setState({isShowVkGroup:!1}),t.prev=2,t.next=5,f.a.send("VKWebAppJoinGroup",{group_id:208964042});case 5:$("stats.subscribe",{group_id:208964042}),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(2);case 10:return t.next=12,e.back();case 12:return t.next=14,e.showCustomAdvert();case 14:if(t.sent){t.next=16;break}e.onChangeHash();case 16:case"end":return t.stop()}}),t,null,[[2,8]])}))),buttonMode:"gradient_gray",buttonBack:!0,buttonBackOnClick:function(){(e.vkChatIntegration||e.isFromCatalogChat)&&f.a.send("VKWebAppStorageSet",{key:"vk_group3",value:"1"}),e.back(),e.onChangeHash()},t:this})},{id:"chat_vk",component:l.a.createElement(Ar,{icon:l.a.createElement(Ke,null),title:"\u0418 \u0441\u043d\u043e\u0432\u0430 \u043f\u0440\u0438\u0432\u0435\u0442!",description:"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0430\u0435\u043c \u0442\u0435\u0431\u044f \u043a \u043d\u0430\u043c \u0432 \u0431\u0435\u0441\u0435\u0434\u0443, \u0442\u0430\u043c \u043c\u044b \u0430\u043a\u0442\u0438\u0432\u043d\u043e \u043e\u0431\u0449\u0430\u0435\u043c\u0441\u044f \u0434\u0440\u0443\u0433 \u0441 \u0434\u0440\u0443\u0433\u043e\u043c :)",buttonText:"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c",buttonOnClick:Object(k.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Y("https://vk.me/join/DFIbwK_w537NhbqDIWPd8JjoW/qfkWn5tzk="),e.back(),e.onChangeHash();case 3:case"end":return t.stop()}}),t)}))),buttonMode:"gradient_gray",buttonBack:!0,t:this})},{id:"vk_donut_avocado",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(d.A,{separator:!1,left:l.a.createElement(d.B,{onClick:function(){return e.back()}})}),l.a.createElement("iframe",{src:"https://avocadoteam.github.io/app-sub-modal/?appearance=".concat(this.state.appearance,"&app=draw"),style:{height:H()?"93vh":"calc(100vh - 120px)",border:0},width:"100%"}))},{id:"vk_donut_blocked",component:l.a.createElement(Ar,{icon:l.a.createElement(Ke,null),title:"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043e",description:"\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u0443 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d. \u041e\u0436\u0438\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u0432 \u043d\u0430\u0448\u0435\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435.",buttonText:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438",buttonOnClick:function(){Y("https://vk.com/draw_app")},buttonMode:"gradient_gray",buttonBack:!0,t:this})},{id:"vk_donut_ios",component:l.a.createElement(Ar,{icon:l.a.createElement(ft,null),title:"VK Donut",description:"\u041d\u0430 \u0412\u0430\u0448\u0435\u043c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435 \u0434\u0430\u043d\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430. \u0423\u0442\u043e\u0447\u043d\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043c\u043e\u0436\u0435\u0442\u0435 \u0432 \u043d\u0430\u0448\u0435\u0439 \u0433\u0440\u0443\u043f\u043f\u0435.",buttonText:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c",buttonOnClick:function(){Y("https://vk.com/draw_app")},buttonMode:"primary_2",buttonBack:!0,t:this})},{id:"banned",component:l.a.createElement(Ar,{icon:l.a.createElement(Ke,null),title:"\u0412\u044b \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u044b",description:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430: ".concat(p,". \u0414\u0430\u0442\u0430 \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438: ").concat(new Date(u).toLocaleDateString("ru",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric"})),buttonText:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443",buttonOnClick:function(){Y("https://vk.com/club208964042")},buttonMode:"gradient_gray",t:this})},{id:"april1",component:l.a.createElement(l.a.Fragment,null,l.a.createElement(Ar,{icon:l.a.createElement(_e.a,{width:96,height:96}),title:"\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430",description:"\u0412\u0430\u0441 \u043d\u0430\u0432\u0441\u0435\u0433\u0434\u0430 \u0437\u0430\u0431\u0430\u043d\u0438\u043b\u0438. \u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c \ud83e\udd73",buttonText:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e",buttonOnClick:function(){e.setAlert("\u0413\u0435\u043e\u043c\u0435\u0442\u0440\u0438\u044f","\u0427\u0442\u043e\u0431\u044b \u0441\u043d\u044f\u0442\u044c \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0443, \u0440\u0435\u0448\u0438\u0442\u0435 \u043f\u0440\u0438\u043c\u0435\u0440: 2+2",[{title:"4",autoclose:!0,action:function(){e.setSnackbar("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e")}},{title:"5",autoclose:!0,action:function(){e.setActivePanel("main"),e.setSnackbar("\u0412\u0430\u0441 \u0440\u0430\u0437\u0431\u0430\u043d\u0438\u043b\u0438")}}])},buttonMode:"gradient_gray",t:this}),s)},{id:"suggestions_done",component:l.a.createElement(Ar,{icon:l.a.createElement(yt,null),title:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u041c\u044b \u0443\u0447\u0442\u0451\u043c.",buttonBack:!0,buttonBackText:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f",t:this})},{id:"game_canceled",component:l.a.createElement(Ar,{icon:l.a.createElement(Ot,null),title:R,buttonBack:!1,buttonText:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e",buttonMode:"secondary",buttonOnClick:function(){e.setActivePanel("main"),e.actionAfterGame()},t:this})},{id:"game_error",component:l.a.createElement(Ar,{icon:l.a.createElement(Ot,null),title:h,buttonBack:!1,buttonText:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e",buttonMode:"secondary",buttonOnClick:function(){e.setActivePanel("main"),e.actionAfterGame()},t:this})},{id:"ad_alabuga",component:l.a.createElement(Hs,{t:this})},{id:"ad_startgame",component:l.a.createElement(Ks,{t:this})}].map((function(e,t){var a=e.id,n=e.component;return l.a.createElement(d.z,{id:a,key:"Panel__".concat(t),"data-vkui-swipe-back":!("game"===a||"global_canvas"===a)},n)}))))),l.a.createElement("div",{className:"SVGMaterials"},Object.keys(xa).map((function(e){return xa[e]}))))}}]),t}(l.a.Component),Fc=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.subscribe((function(t){var a=t.detail,n=a.type,r=a.data;"VKWebAppUpdateConfig"===n&&e.setState({appearance:r.appearance})}))}},{key:"render",value:function(){return l.a.createElement(d.k,{webviewType:d.U.INTERNAL,appearance:this.state.appearance},l.a.createElement(d.c,null,l.a.createElement(d.e,null,l.a.createElement(Dc,null))))}}]),t}(l.a.Component);p.a.render(l.a.createElement(Fc,null),document.getElementById("root"))}},[[492,1,2]]]);
//# sourceMappingURL=main.205b38a5.chunk.js.map